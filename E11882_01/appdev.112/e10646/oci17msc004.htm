<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Direct Path Loading Functions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-18T15:18:32Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Call Interface Programmer's Guide" />
<meta name="dcterms.identifier" content="E10646-15" />
<meta name="dcterms.isVersionOf" content="LNOCI" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="oci17msc003.htm" title="Previous" type="text/html" />
<link rel="Next" href="oci17msc005.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10646.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">31/79</span> <!-- End Header --><a id="CIHBFHJJ"></a>
<div id="LNOCI164" class="refsect1">
<h1 class="refsect1">Direct Path Loading Functions<a id="sthref3057"></a></h1>
<p><a href="#CIHIIFIH">Table 17-4</a> lists the direct path loading functions that are described in this section.</p>
<div id="LNOCI17237" class="tblformalwide">
<p class="titleintable"><a id="sthref3058"></a><a id="CIHIIFIH"></a>Table 17-4 Direct Path Loading Functions</p>
<table class="cellalignment1011" title="Direct Path Loading Functions" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1005">
<th class="cellalignment1012" id="r1c1-t58">Function</th>
<th class="cellalignment1012" id="r1c2-t58">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r2c1-t58" headers="r1c1-t58">
<p><a href="#i580214">"OCIDirPathAbort()"</a></p>
</td>
<td class="cellalignment1013" headers="r2c1-t58 r1c2-t58">
<p>Terminate a direct path operation</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r3c1-t58" headers="r1c1-t58">
<p><a href="#i563564">"OCIDirPathColArrayEntryGet()"</a></p>
</td>
<td class="cellalignment1013" headers="r3c1-t58 r1c2-t58">
<p>Get a specified entry in a column array</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r4c1-t58" headers="r1c1-t58">
<p><a href="#i563565">"OCIDirPathColArrayEntrySet()"</a></p>
</td>
<td class="cellalignment1013" headers="r4c1-t58 r1c2-t58">
<p>Set a specified entry in a column array to a specific value</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r5c1-t58" headers="r1c1-t58">
<p><a href="#i557316">"OCIDirPathColArrayReset()"</a></p>
</td>
<td class="cellalignment1013" headers="r5c1-t58 r1c2-t58">
<p>Reset the row array state</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r6c1-t58" headers="r1c1-t58">
<p><a href="#i557275">"OCIDirPathColArrayRowGet()"</a></p>
</td>
<td class="cellalignment1013" headers="r6c1-t58 r1c2-t58">
<p>Get the base row pointers for a specified row number</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r7c1-t58" headers="r1c1-t58">
<p><a href="#i557345">"OCIDirPathColArrayToStream()"</a></p>
</td>
<td class="cellalignment1013" headers="r7c1-t58 r1c2-t58">
<p>Convert from a column array to a direct path stream format</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r8c1-t58" headers="r1c1-t58">
<p><a href="#i557393">"OCIDirPathDataSave()"</a></p>
</td>
<td class="cellalignment1013" headers="r8c1-t58 r1c2-t58">
<p>Do a data savepoint, or commit the loaded data and finish the load operation</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r9c1-t58" headers="r1c1-t58">
<p><a href="#i563562">"OCIDirPathFinish()"</a></p>
</td>
<td class="cellalignment1013" headers="r9c1-t58 r1c2-t58">
<p>Finish and commit the loaded data</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r10c1-t58" headers="r1c1-t58">
<p><a href="#i557759">"OCIDirPathFlushRow()"</a></p>
</td>
<td class="cellalignment1013" headers="r10c1-t58 r1c2-t58">
<p>Deprecated.</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r11c1-t58" headers="r1c1-t58">
<p><a href="#i557793">"OCIDirPathLoadStream()"</a></p>
</td>
<td class="cellalignment1013" headers="r11c1-t58 r1c2-t58">
<p>Load the data converted to direct path stream format</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r12c1-t58" headers="r1c1-t58">
<p><a href="#i557836">"OCIDirPathPrepare()"</a></p>
</td>
<td class="cellalignment1013" headers="r12c1-t58 r1c2-t58">
<p>Prepare direct path interface to convert or load rows</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r13c1-t58" headers="r1c1-t58">
<p><a href="#i563566">"OCIDirPathStreamReset()"</a></p>
</td>
<td class="cellalignment1013" headers="r13c1-t58 r1c2-t58">
<p>Reset the direct path stream state</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<div id="LNOCI17238" class="refsect2"><a id="i580214"></a>
<h2 class="refsect2">OCIDirPathAbort()<a id="sthref3059"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3060"></a>Purpose</p>
<p>Terminates a direct path operation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3061"></a>Syntax</p>
<pre>
sword OCIDirPathAbort   ( OCIDirPathCtx          *dpctx,
                          OCIError               *errhp ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3062"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN/OUT)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3063"></a>Comments</p>
<p>All state that was maintained by the server on behalf of the direct path operation is destroyed by a termination. For a direct path load, the data loaded before the terminate operation is not visible to any queries. However, the data may still consume space in the segments that are being loaded. Any load completion operations, such as index maintenance operations, are not performed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3064"></a>Related Functions</p>
<p><a href="#i563562">OCIDirPathFinish()</a>, <a href="#i557836">OCIDirPathPrepare()</a>, <a href="#i557793">OCIDirPathLoadStream()</a>, <a href="#i563566">OCIDirPathStreamReset()</a>, <a href="#i557393">OCIDirPathDataSave()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17239" class="refsect2"><a id="i563564"></a>
<h2 class="refsect2">OCIDirPathColArrayEntryGet()<a id="sthref3065"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3066"></a>Purpose</p>
<p>Gets a specified entry in a column array.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3067"></a>Syntax</p>
<pre>
sword OCIDirPathColArrayEntryGet ( OCIDirPathColArray   *dpca,
                                   OCIError             *errhp,
                                   ub4                  rownum,
                                   ub2                  colIdx,
                                   ub1                  **cvalpp,
                                   ub4                  *clenp,
                                   ub1                  *cflgp );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3068"></a>Parameters</p>
<dl>
<dt><span class="bold">dpca</span> (IN/OUT)</dt>
<dd>
<p>Direct path column array handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt>rownum (IN)</dt>
<dd>
<p>Zero-based row offset.</p>
</dd>
<dt>colIdx (IN)</dt>
<dd>
<p>The column's index used when building the column parameter list.</p>
</dd>
<dt>cvalpp (IN/OUT)</dt>
<dd>
<p>Pointer to pointer to column data.</p>
</dd>
<dt>clenp (IN/OUT)</dt>
<dd>
<p>Pointer to length of column data.</p>
</dd>
<dt>cflgp (IN/OUT)</dt>
<dd>
<p>Pointer to column flag.</p>
<p>One of these values is returned:</p>
</dd>
</dl>
<ul>
<li>
<p><code>OCI_DIRPATH_COL_COMPLETE</code> - All data for the column is present.</p>
</li>
<li>
<p><code>OCI_DIRPATH_COL_NULL</code> - Column is <code>NULL</code>.</p>
</li>
<li>
<p><code>OCI_DIRPATH_COL_PARTIAL</code> - Partial column data is being supplied.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3069"></a>Comments</p>
<p>If <code>cflgp</code> is set to <code>OCI_DIRPATH_COL_NULL</code>, the <code>cvalpp</code> and <code>clenp</code> parameters are not set by this operation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3070"></a>Related Functions</p>
<p><a href="#i563565">OCIDirPathColArrayEntrySet()</a>, <a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i557316">OCIDirPathColArrayReset()</a>, <a href="#i557345">OCIDirPathColArrayToStream()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17240" class="refsect2"><a id="i563565"></a>
<h2 class="refsect2">OCIDirPathColArrayEntrySet()<a id="sthref3071"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3072"></a>Purpose</p>
<p>Sets a specified entry in a column array to the supplied values.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3073"></a>Syntax</p>
<pre>
sword OCIDirPathColArrayEntrySet ( OCIDirPathColArray   *dpca,
                                   OCIError             *errhp,
                                   ub4                  rownum,
                                   ub2                  colIdx,
                                   ub1                  *cvalp,
                                   ub4                  clen,
                                   ub1                  cflg );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3074"></a>Parameters</p>
<dl>
<dt><span class="bold">dpca</span> (IN/OUT)</dt>
<dd>
<p>Direct path column array handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt>rownum (IN)</dt>
<dd>
<p>Zero-based row offset.</p>
</dd>
<dt>colIdx (IN)</dt>
<dd>
<p>The column's index used when building the column parameter list.</p>
</dd>
<dt>cvalp (IN)</dt>
<dd>
<p>Pointer to column data.</p>
</dd>
<dt>clen (IN)</dt>
<dd>
<p>Length of column data.</p>
</dd>
<dt>cflg (IN)</dt>
<dd>
<p>Column flag. One of these values is returned:</p>
</dd>
</dl>
<ul>
<li>
<p><code>OCI_DIRPATH_COL_COMPLETE</code> - All data for the column is present.</p>
</li>
<li>
<p><code>OCI_DIRPATH_COL_NULL</code> - Column is <code>NULL</code>.</p>
</li>
<li>
<p><code>OCI_DIRPATH_COL_PARTIAL</code> - Partial column data is being supplied.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3075"></a>Comments</p>
<p>If <code>cflg</code> is set to <code>OCI_DIRPATH_COL_NULL</code>, the <code>cvalp</code> and <code>clen</code> parameters are not used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3076"></a>Example</p>
<p>This example sets the source of data for the first row in a column array to <code>addr</code>, with a length of <code>len</code>. In this example, the column is identified by <code>colId</code>.</p>
<pre>
err = OCIDirPathColArrayEntrySet(dpca, errhp, (ub2)0, colId, addr, len,
          OCI_DIRPATH_COL_COMPLETE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3077"></a>Related Functions</p>
<p><a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i557316">OCIDirPathColArrayReset()</a>, <a href="#i557345">OCIDirPathColArrayToStream()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17242" class="refsect2"><a id="i557316"></a>
<h2 class="refsect2">OCIDirPathColArrayReset()<a id="sthref3078"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3079"></a>Purpose</p>
<p>Resets the column array state.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3080"></a>Syntax</p>
<pre>
sword OCIDirPathColArrayReset ( OCIDirPathColArray   *dpca,
                                OCIError             *errhp );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3081"></a>Parameters</p>
<dl>
<dt><span class="bold">dpca</span> (IN)</dt>
<dd>
<p>Direct path column array handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3082"></a>Comments</p>
<p>Resetting the column array state is necessary when piecing in a large column and an error occurs in the middle of loading the column. Do not reset the column array if the last <code>OCIDirPathColArrayReset()</code> call returned <code>OCI_NEED_DATA</code> or <code>OCI_CONTINUE</code>. That is, you are in the middle of a row conversion. Use OCI_DIRPATH_COL_ERROR to purge the current row for <code>OCI_NEED_DATA</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3083"></a>Related Functions</p>
<p><a href="#i563564">OCIDirPathColArrayEntryGet()</a>, <a href="#i563565">OCIDirPathColArrayEntrySet()</a>, <a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i557345">OCIDirPathColArrayToStream()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17241" class="refsect2"><a id="i557275"></a>
<h2 class="refsect2">OCIDirPathColArrayRowGet()<a id="sthref3084"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3085"></a>Purpose</p>
<p>Gets the column array row pointers for a given row number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3086"></a>Syntax</p>
<pre>
sword OCIDirPathColArrayRowGet ( OCIDirPathColArray   *dpca,
                                 OCIError             *errhp,
                                 ub4                  rownum,
                                 ub1                  ***cvalppp,
                                 ub4                  **clenpp,
                                 ub1                  **cflgpp );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3087"></a>Parameters</p>
<dl>
<dt><span class="bold">dpca</span> (IN/OUT)</dt>
<dd>
<p>Direct path column array handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt>rownum (IN)</dt>
<dd>
<p>Zero-based row offset</p>
</dd>
<dt>cvalppp (IN/OUT)</dt>
<dd>
<p>Pointer to vector of pointers to column data</p>
</dd>
<dt>clenpp (IN/OUT)</dt>
<dd>
<p>Pointer to vector of column data lengths</p>
</dd>
<dt>cflgpp (IN/OUT)</dt>
<dd>
<p>Pointer to vector of column flags</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3088"></a>Comments</p>
<p>Returns pointers to column array entries for the given row. This allows the application to do simple pointer arithmetic to iterate across the columns of the specific row. You can use this interface to efficiently get or set the column array entries of a row, as opposed to calling <a href="#i563565">OCIDirPathColArrayEntrySet()</a> for every column. The application is also responsible for not dereferencing memory beyond the column array boundaries. The dimensions of the column array are available as attributes of the column array.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3089"></a>Related Functions</p>
<p><a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i563565">OCIDirPathColArrayEntrySet()</a>, <a href="#i557316">OCIDirPathColArrayReset()</a>, <a href="#i557345">OCIDirPathColArrayToStream()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17243" class="refsect2"><a id="i557345"></a>
<h2 class="refsect2">OCIDirPathColArrayToStream()<a id="sthref3090"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3091"></a>Purpose</p>
<p>Converts from column array format to a direct path stream format.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3092"></a>Syntax</p>
<pre>
sword OCIDirPathColArrayToStream ( OCIDirPathColArray     *dpca,
                                   OCIDirPathCtx  const   *dpctx,
                                   OCIDirPathStream       *dpstr,
                                   OCIError               *errhp, 
                                   ub4                    rowcnt,
                                   ub4                    rowoff );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3093"></a>Parameters</p>
<dl>
<dt><span class="bold">dpca</span> (IN)</dt>
<dd>
<p>Direct path column array handle.</p>
</dd>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object being loaded.</p>
</dd>
<dt>dpstr (IN/OUT)</dt>
<dd>
<p>Direct path stream handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt>rowcnt (IN)</dt>
<dd>
<p>Number of rows in the column array.</p>
</dd>
<dt>rowoff (IN)</dt>
<dd>
<p>Starting index in the column array.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3094"></a>Comments</p>
<p>This interface is used to convert a column array representation of data in its external format to a direct path stream format. The converted format is suitable for loading with <a href="#i557793">OCIDirPathLoadStream()</a>.</p>
<p>The column data in direct path stream format is converted to its Oracle Database internal representation. All conversions are done on the client side of the two-task interface; all conversion errors occur synchronously with the call to this interface. Information concerning which row and column an error occurred on is available as an attribute of the column array handle.</p>
<p>Note that in a threaded environment, concurrent <code>OCIDirPathColArrayToStream()</code> operations can be referencing the same direct path context handle. However, the direct path context handle is not modified by this interface.</p>
<p>The return codes for this call are:</p>
<ul>
<li>
<p><code>OCI_SUCCESS</code> - All data in the column array was successfully converted to stream format. The column array attribute <code>OCI_ATTR_ROW_COUNT</code> is the number of rows processed.</p>
</li>
<li>
<p><code>OCI_ERROR</code> - An error occurred during conversion; the error handle contains the error information. The column array attribute <code>OCI_ATTR_ROW_COUNT</code> is the number of rows successfully converted in the last call. The attribute <code>OCI_ATTR_COL_COUNT</code> contains the column index into the column array for the column that caused the error. A stream must always be loaded after column array to stream conversion returns <code>OCI_ERROR</code>. It cannot be reset or converted to until it is loaded.</p>
</li>
<li>
<p><code>OCI_CONTINUE</code> - Not all of the data in the column array could be converted to stream format. The stream buffer is not large enough to contain all of the column array data. The caller should either load the data, save the data to a file, or use another stream and call <code>OCIDirPathColArrayToStream()</code> again to convert the remainder of the column array data. The column array attribute <code>OCI_ATTR_ROW_COUNT</code> is the number of rows successfully converted in the last call. The row offset must be updated for the next conversion; internal state does keep track of the column to continue conversion from. The <code>OCI_ATTR_ROW_COUNT</code> value must be added to the previous row offset by the caller.</p>
</li>
<li>
<p><code>OCI_NEED_DATA</code> - All of the data in the column array was successfully converted, but a partial column was encountered. The caller should load the resulting stream, and supply the remainder of the row, iteratively if necessary. The column array attribute <code>OCI_ATTR_ROW_COUNT</code> is the number of rows successfully converted in the last call. The attribute <code>OCI_ATTR_COL_COUNT</code> contains the column index into the column array for the column that is marked partial.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3095"></a>Related Functions</p>
<p><a href="#i563564">OCIDirPathColArrayEntryGet()</a>, <a href="#i563565">OCIDirPathColArrayEntrySet()</a>, <a href="#i557275">OCIDirPathColArrayRowGet()</a>, <a href="#i557316">OCIDirPathColArrayReset()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17244" class="refsect2"><a id="i557393"></a>
<h2 class="refsect2">OCIDirPathDataSave()<a id="sthref3096"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3097"></a>Purpose</p>
<p>Depending on the action requested, does a data savepoint, or commits the loaded data and finishes the direct path load operation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3098"></a>Syntax</p>
<pre>
sword OCIDirPathDataSave ( OCIDirPathCtx          *dpctx,
                           OCIError               *errhp,
                           ub4                    action  ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3099"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object loaded.</p>
</dd>
<dt><span class="bold">errhp</span> (IN/OUT)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt>action (IN)</dt>
<dd>
<p>Values for action parameter to <a href="#i557393">OCIDirPathDataSave()</a> are as follows:</p>
</dd>
</dl>
<ul>
<li>
<p><a id="sthref3100"></a><code>OCI_DIRPATH_DATASAVE_SAVEONLY</code> - To execute a data savepoint only</p>
</li>
<li>
<p><a id="sthref3101"></a><code>OCI_DIRPATH_DATASAVE_FINISH</code> - To commit the loaded data and call the direct finishing function</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3102"></a>Comments</p>
<p>A return value of <code>OCI_SUCCESS</code> indicates that the backend has properly executed a data savepoint or executed the finishing logic.</p>
<p>Executing a data savepoint is not allowed for LOBs.</p>
<p>Executing the finishing logic is different from properly terminating the load, because resources allocated are not freed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3103"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i563562">OCIDirPathFinish()</a>, <a href="#i557836">OCIDirPathPrepare()</a>, <a href="#i563566">OCIDirPathStreamReset()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17245" class="refsect2"><a id="i563562"></a>
<h2 class="refsect2">OCIDirPathFinish()<a id="sthref3104"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3105"></a>Purpose</p>
<p>Finishes the direct path load operation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3106"></a>Syntax</p>
<pre>
sword OCIDirPathFinish (   OCIDirPathCtx          *dpctx,
                           OCIError               *errhp ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3107"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object loaded.</p>
</dd>
<dt><span class="bold">errhp</span> (IN/OUT)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3108"></a>Comments</p>
<p>After the load has completed, and the loaded data is to be committed, the direct path finishing function is called. Finish is not allowed until all streams have been loaded, and there is not a partially loaded row.</p>
<p>A return value of <code>OCI_SUCCESS</code> indicates that the backend has properly terminated the load.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3109"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i557393">OCIDirPathDataSave()</a>, <a href="#i557836">OCIDirPathPrepare()</a>, <a href="#i563566">OCIDirPathStreamReset()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17246" class="refsect2"><a id="i557759"></a>
<h2 class="refsect2"><a id="sthref3110"></a>OCIDirPathFlushRow()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3111"></a>Purpose</p>
<p>Flushes a partially loaded row from the server. This function is deprecated.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3112"></a>Syntax</p>
<pre>
sword OCIDirPathFlushRow (   OCIDirPathCtx          *dpctx,
                             OCIError               *errhp ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3113"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object loaded.</p>
</dd>
<dt><span class="bold">errhp</span> (IN/OUT)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3114"></a>Comments</p>
<p>This function is necessary when part of a row is loaded, but a conversion error occurs on the next piece being processed by the application. Only the row currently in partial state is discarded. If the server is not currently processing a partial row for the object associated with the direct path context, this function does nothing.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3115"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i563562">OCIDirPathFinish()</a>, <a href="#i557836">OCIDirPathPrepare()</a>, <a href="#i557793">OCIDirPathLoadStream()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17247" class="refsect2"><a id="i557793"></a>
<h2 class="refsect2"><a id="sthref3116"></a>OCIDirPathLoadStream()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3117"></a>Purpose</p>
<p>Loads the data converted to direct path stream format.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3118"></a>Syntax</p>
<pre>
sword OCIDirPathLoadStream (   OCIDirPathCtx          *dpctx,
                               OCIDirPathStream       *dpstr,
                               OCIError               *errhp ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3119"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object loaded.</p>
</dd>
<dt>dpstr (IN)</dt>
<dd>
<p>Direct path stream handle for the stream to load.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3120"></a>Comments</p>
<p>When the interface returns an error, information concerning the row in the column array that sourced the stream can be obtained as an attribute of the direct path stream. Also, the offset into the stream where the error occurred can be obtained as an attribute of the stream.</p>
<p>Return codes for this function are:</p>
<ul>
<li>
<p><code>OCI_SUCCESS</code> - All data in the stream was successfully loaded.</p>
</li>
<li>
<p><code>OCI_ERROR</code> - An error occurred while loading the data. The problem could be a partition mapping error, a <code>NULL</code> constraint violation, a function-based index evaluation error, or an out of space condition, such as cannot allocate extent. <code>OCI_ATTR_ROW_COUNT</code> is the number of rows successfully loaded in the last call.</p>
</li>
<li>
<p><code>OCI_NEED_DATA</code> - Last row was not complete. The caller must supply another row piece. If the stream was sourced from a column array, the attribute <code>OCI_ATTR_ROW_COUNT</code> is the number of complete rows successfully loaded in the last call.</p>
</li>
<li>
<p><code>OCI_NO_DATA</code> - Attempt to load an empty stream or a stream that has been completely processed.</p>
</li>
</ul>
<p>A stream must be repeatedly loaded until <code>OCI_SUCCESS</code>, <code>OCI_NEED_DATA</code>, or <code>OCI_NO_DATA</code> is returned. For example, a stream cannot be reset if <code>OCI_ERROR</code> is returned from <code>OCIDirPathLoadStream()</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3121"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i557393">OCIDirPathDataSave()</a>, <a href="#i563562">OCIDirPathFinish()</a>, <a href="#i557836">OCIDirPathPrepare()</a>, <a href="#i563566">OCIDirPathStreamReset()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17248" class="refsect2"><a id="i557836"></a>
<h2 class="refsect2"><a id="sthref3122"></a>OCIDirPathPrepare()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3123"></a>Purpose</p>
<p>Prepares the direct path load interface before any rows can be converted or loaded.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3124"></a>Syntax</p>
<pre>
sword OCIDirPathPrepare (   OCIDirPathCtx          *dpctx,
                            OCISvcCtx              *svchp,
                            OCIError               *errhp ); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3125"></a>Parameters</p>
<dl>
<dt>dpctx (IN)</dt>
<dd>
<p>Direct path context handle for the object loaded.</p>
</dd>
<dt>svchp (IN)</dt>
<dd>
<p>Service context.</p>
</dd>
<dt><span class="bold">errhp</span> (IN/OUT)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3126"></a>Comments</p>
<p>After the name of the object to be operated on is set, the external attributes of the column data are set, and all load options are set, the direct path interface must be prepared with <code>OCIDirPathPrepare()</code> before any rows can be converted or loaded.</p>
<p>A return value of <code>OCI_SUCCESS</code> indicates that the backend has been properly initialized for a direct path load operation. A nonzero return indicates an error. Possible errors are:</p>
<ul>
<li>
<p>Invalid context</p>
</li>
<li>
<p>Not connected to a server</p>
</li>
<li>
<p>Object name not set</p>
</li>
<li>
<p>Already prepared (cannot prepare twice)</p>
</li>
<li>
<p>Object not suitable for a direct path operation</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3127"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i557393">OCIDirPathDataSave()</a>, <a href="#i563562">OCIDirPathFinish()</a>, <a href="#i563566">OCIDirPathStreamReset()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17249" class="refsect2"><a id="i563566"></a>
<h2 class="refsect2">OCIDirPathStreamReset()<a id="sthref3128"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3129"></a>Purpose</p>
<p>Resets the direct path stream state.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3130"></a>Syntax</p>
<pre>
sword OCIDirPathStreamReset ( OCIDirPathStream       *dpstr,
                              OCIError               *errhp );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3131"></a>Parameters</p>
<dl>
<dt>dpstr (IN)</dt>
<dd>
<p>Direct path stream handle.</p>
</dd>
<dt><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#i540516">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3132"></a>Comments</p>
<p>A direct path stream maintains the state that indicates where the next <a href="#i557345">OCIDirPathColArrayToStream()</a> call should start writing into the stream. Normally, data is appended to the end of the stream. A stream cannot be reset until it is successfully loaded (the loading returned <code>OCI_SUCCESS</code>, <code>OCI_NEED_DATA</code>, or <code>OCI_NO_DATA</code>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3133"></a>Related Functions</p>
<p><a href="#i580214">OCIDirPathAbort()</a>, <a href="#i557393">OCIDirPathDataSave()</a>, <a href="#i563562">OCIDirPathFinish()</a>, <a href="#i557836">OCIDirPathPrepare()</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1004">
<tr>
<td class="cellalignment1013">
<table class="cellalignment1009">
<tr>
<td class="cellalignment1008"><a href="oci17msc003.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1008"><a href="oci17msc005.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1015">
<table class="cellalignment1007">
<tr>
<td class="cellalignment1008"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1008"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1008"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1008"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1008"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1008"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
