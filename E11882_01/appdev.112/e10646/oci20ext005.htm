<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Cartridge Services &mdash; File I/O Interface</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-18T15:18:44Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Call Interface Programmer's Guide" />
<meta name="dcterms.identifier" content="E10646-15" />
<meta name="dcterms.isVersionOf" content="LNOCI" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="oci20ext004.htm" title="Previous" type="text/html" />
<link rel="Next" href="oci20ext006.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10646.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">55/79</span> <!-- End Header --><a id="i443886"></a>
<div id="LNOCI195" class="refsect1">
<h1 class="refsect1">Cartridge Services &mdash; File I/O Interface</h1>
<p><a href="#CIHEFGJB">Table 20-5</a> lists the file I/O interface functions that are described in this section.</p>
<div id="LNOCI17566" class="tblformalwide">
<p class="titleintable"><a id="sthref4722"></a><a id="CIHEFGJB"></a>Table 20-5 File I/O Interface Functions</p>
<table class="cellalignment1011" title="File I/O Interface Functions" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1005">
<th class="cellalignment1012" id="r1c1-t13">Function</th>
<th class="cellalignment1012" id="r1c2-t13">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r2c1-t13" headers="r1c1-t13">
<p><a href="#i447227">"OCIFileClose()"</a></p>
</td>
<td class="cellalignment1013" headers="r2c1-t13 r1c2-t13">
<p>Close a previously opened file</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r3c1-t13" headers="r1c1-t13">
<p><a href="#i447279">"OCIFileExists()"</a></p>
</td>
<td class="cellalignment1013" headers="r3c1-t13 r1c2-t13">
<p>Test to see if the file exists</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r4c1-t13" headers="r1c1-t13">
<p><a href="#i447293">"OCIFileFlush()"</a></p>
</td>
<td class="cellalignment1013" headers="r4c1-t13 r1c2-t13">
<p>Write buffered data to a file</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r5c1-t13" headers="r1c1-t13">
<p><a href="#i447286">"OCIFileGetLength()"</a></p>
</td>
<td class="cellalignment1013" headers="r5c1-t13 r1c2-t13">
<p>Get the length of a file</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r6c1-t13" headers="r1c1-t13">
<p><a href="#i447206">"OCIFileInit()"</a></p>
</td>
<td class="cellalignment1013" headers="r6c1-t13 r1c2-t13">
<p>Initialize the OCIFile package</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r7c1-t13" headers="r1c1-t13">
<p><a href="#i447220">"OCIFileOpen()"</a></p>
</td>
<td class="cellalignment1013" headers="r7c1-t13 r1c2-t13">
<p>Open a file</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r8c1-t13" headers="r1c1-t13">
<p><a href="#i447258">"OCIFileRead()"</a></p>
</td>
<td class="cellalignment1013" headers="r8c1-t13 r1c2-t13">
<p>Read from a file into a buffer</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r9c1-t13" headers="r1c1-t13">
<p><a href="#i447272">"OCIFileSeek()"</a></p>
</td>
<td class="cellalignment1013" headers="r9c1-t13 r1c2-t13">
<p>Change the current position in a file</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r10c1-t13" headers="r1c1-t13">
<p><a href="#i447213">"OCIFileTerm()"</a></p>
</td>
<td class="cellalignment1013" headers="r10c1-t13 r1c2-t13">
<p>Terminate the OCIFile package</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r11c1-t13" headers="r1c1-t13">
<p><a href="#i447265">"OCIFileWrite()"</a></p>
</td>
<td class="cellalignment1013" headers="r11c1-t13 r1c2-t13">
<p>Write <code>buflen</code> bytes into the file</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADDCI4675" href="../../appdev.112/e10765/cart_services.htm#ADDCI4675"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for more information about using these functions</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4723"></a>OCIFileObject<a id="sthref4724"></a></p>
<p>The <code>OCIFileObject</code> data structure holds information about the way in which a file should be opened and the way in which it is accessed after it has been opened. When this structure is initialized by <code>OCIFileOpen()</code>, it becomes an identifier through which operations can be performed on that file. It is a necessary parameter to every function that operates on open files. This data structure is opaque to OCIFile clients. It is initialized by <a href="#i447220">OCIFileOpen()</a> and terminated by <a href="#i447227">OCIFileClose()</a>.</p>
</div>
<!-- class="refsubsect" -->
<div id="LNOCI17570" class="refsect2"><a id="i447227"></a>
<h2 class="refsect2"><a id="sthref4725"></a>OCIFileClose()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4726"></a>Purpose</p>
<p>Closes a previously opened file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4727"></a>Syntax</p>
<pre>
sword OCIFileClose( void          *hndl, 
                    OCIError      *err, 
                    OCIFileObject *filep );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4728"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>A pointer to a file identifier to be closed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4729"></a>Comments</p>
<p>Once this function returns OCI_SUCCESS, the <code>OCIFileObject</code> structure pointed to by <code>filep</code> is destroyed. Therefore, you should not attempt to access this structure after this function returns OCI_SUCCESS.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4730"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17574" class="refsect2"><a id="i447279"></a>
<h2 class="refsect2"><a id="sthref4731"></a>OCIFileExists()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4732"></a>Purpose</p>
<p>Tests to see if the file exists.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4733"></a>Syntax</p>
<pre>
sword OCIFileExists( void     *hndl, 
                     OCIError *err, 
                     OraText  *filename, 
                     OraText  *path, 
                     ub1      *flag );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4734"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filename (IN)</dt>
<dd>
<p>The file name as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>path (IN)</dt>
<dd>
<p>The path of the file as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>flag (OUT)</dt>
<dd>
<p>Set to <code>TRUE</code> if the file exists or <code>FALSE</code> if it does not.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4735"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17576" class="refsect2"><a id="i447293"></a>
<h2 class="refsect2"><a id="sthref4736"></a>OCIFileFlush()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4737"></a>Purpose</p>
<p>Writes buffered data to a file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4738"></a>Syntax</p>
<pre>
sword OCIFileFlush( void          *hndl
                    OCIError      *err, 
                    OCIFileObject *filep );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4739"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>A file identifier that uniquely references the file.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4740"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17575" class="refsect2"><a id="i447286"></a>
<h2 class="refsect2"><a id="sthref4741"></a>OCIFileGetLength()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4742"></a>Purpose</p>
<p>Gets the length of a file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4743"></a>Syntax</p>
<pre>
sword OCIFileGetLength( void     *hndl, 
                        OCIError *err, 
                        OraText  *filename, 
                        OraText  *path, 
                        ubig_ora *lenp );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4744"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filename (IN)</dt>
<dd>
<p>The file name as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>path (IN)</dt>
<dd>
<p>The path of the file as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>lenp (OUT)</dt>
<dd>
<p>Set to the length of the file in bytes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4745"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17567" class="refsect2"><a id="i447206"></a>
<h2 class="refsect2"><a id="sthref4746"></a>OCIFileInit()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4747"></a>Purpose</p>
<p>Initializes the OCIFile package. It must be called before any other OCIFile routine is called.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4748"></a>Syntax</p>
<pre>
sword OCIFileInit( void     *hndl, 
                   OCIError *err );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4749"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4750"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17569" class="refsect2"><a id="i447220"></a>
<h2 class="refsect2"><a id="sthref4751"></a>OCIFileOpen()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4752"></a>Purpose</p>
<p>Opens a file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4753"></a>Syntax</p>
<pre>
sword OCIFileOpen( void           *hndl, 
                   OCIError       *err, 
                   OCIFileObject  **filep, 
                   OraText        *filename, 
                   OraText        *path, 
                   ub4            mode, 
                   ub4            create, 
                   ub4            type );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4754"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>The file identifier.</p>
</dd>
<dt>filename (IN)</dt>
<dd>
<p>The file name as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>path (IN)</dt>
<dd>
<p>The path of the file as a <code>NULL</code>-terminated string.</p>
</dd>
<dt>mode (IN)</dt>
<dd>
<p>The mode in which to open the file. Valid modes are</p>
<p><code>OCI_FILE_READ_ONLY</code></p>
<p><code>OCI_FILE_WRITE_ONLY</code></p>
<p><code>OCI_FILE_READ_WRITE</code></p>
</dd>
<dt>create (IN)</dt>
<dd>
<p>Indicates if the file is to be created if it does not exist. Valid values are:</p>
<p><code>OCI_FILE_TRUNCATE</code> &mdash; Create a file regardless of whether it exists. If the file exists, overwrite the existing file.</p>
<p><code>OCI_FILE_EXCL</code> &mdash; Fail if the file exists; otherwise, create a file.</p>
<p><code>OCI_FILE_CREATE</code> &mdash; Open the file if it exists, and create it if it does not.</p>
<p><code>OCI_FILE_APPEND</code> &mdash; Set the file pointer to the end of the file prior to writing. This flag can be used with the logical operator OR with <code>OCI_FILE_CREATE</code>.</p>
</dd>
<dt>type (IN)</dt>
<dd>
<p>File type. Valid values are:</p>
<p><code>OCI_FILE_TEXT</code></p>
<p><code>OCI_FILE_BIN</code></p>
<p><code>OCI_FILE_STDIN</code></p>
<p><code>OCI_FILE_STDOUT</code></p>
<p><code>OCI_FILE_STDERR</code></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4755"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17571" class="refsect2"><a id="i447258"></a>
<h2 class="refsect2"><a id="sthref4756"></a>OCIFileRead()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4757"></a>Purpose</p>
<p>Reads from a file into a buffer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4758"></a>Syntax</p>
<pre>
sword OCIFileRead( void          *hndl, 
                   OCIError      *err, 
                   OCIFileObject *filep, 
                   void          *bufp, 
                   ub4           bufl, 
                   ub4           *bytesread );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4759"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>A file identifier that uniquely references the file.</p>
</dd>
<dt>bufp (IN)</dt>
<dd>
<p>The pointer to a buffer into which the data is read. The length of the allocated memory is assumed to be <code>bufl</code>.</p>
</dd>
<dt>bufl (IN)</dt>
<dd>
<p>The length of the buffer in bytes.</p>
</dd>
<dt>bytesread (OUT)</dt>
<dd>
<p>The number of bytes read.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4760"></a>Comments</p>
<p>As many bytes as possible are read into the user buffer. The read ends either when the user buffer is full, or when it reaches end-of-file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4761"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17573" class="refsect2"><a id="i447272"></a>
<h2 class="refsect2"><a id="sthref4762"></a>OCIFileSeek()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4763"></a>Purpose</p>
<p>Changes the current position in a file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4764"></a>Syntax</p>
<pre>
sword OCIFileSeek( void          *hndl, 
                   OCIError      *err, 
                   OCIFileObject *filep, 
                   uword         origin, 
                   ubig_ora      offset, 
                   sb1           dir );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4765"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>A file identifier that uniquely references the file.</p>
</dd>
<dt>origin(IN)</dt>
<dd>
<p>The starting point from which to seek. Use one of the following values:</p>
<p><code>OCI_FILE_SEEK_BEGINNING</code> (beginning)</p>
<p><code>OCI_FILE_SEEK_CURRENT</code> (current position)</p>
<p><code>OCI_FILE_SEEK_END</code> (end of file)</p>
</dd>
<dt>offset (IN)</dt>
<dd>
<p>The number of bytes from the origin where reading begins.</p>
</dd>
<dt>dir (IN)</dt>
<dd>
<p>The direction to go from the origin.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The direction can be either <code>OCIFILE_FORWARD</code> or <code>OCIFILE_BACKWARD</code>.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4766"></a>Comments</p>
<p>This function allows a seek past the end of the file. Reading from such a position causes an end-of-file condition to be reported. Writing to such a position does not work on all file systems. This is because some systems do not allow files to grow dynamically. They require that files be preallocated with a fixed size. Note that this function performs a seek to a byte location.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4767"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17568" class="refsect2"><a id="i447213"></a>
<h2 class="refsect2"><a id="sthref4768"></a>OCIFileTerm()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4769"></a>Purpose</p>
<p>Terminates the OCIFile package. It must be called after the OCIFile package is no longer being used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4770"></a>Syntax</p>
<pre>
sword OCIFileTerm( void     *hndl, 
                   OCIError *err );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4771"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4772"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17572" class="refsect2"><a id="i447265"></a>
<h2 class="refsect2"><a id="sthref4773"></a>OCIFileWrite()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4774"></a>Purpose</p>
<p>Writes <code>buflen</code> bytes into the file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4775"></a>Syntax</p>
<pre>
sword OCIFileWrite( void          *hndl, 
                    OCIError      *err, 
                    OCIFileObject *filep, 
                    void          *bufp, 
                    ub4           buflen, 
                    ub4           *byteswritten );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4776"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>filep (IN/OUT)</dt>
<dd>
<p>A file identifier that uniquely references the file.</p>
</dd>
<dt>bufp(IN)</dt>
<dd>
<p>The pointer to a buffer from which the data is written. The length of the allocated memory is assumed to be <code>buflen</code>.</p>
</dd>
<dt>buflen (IN)</dt>
<dd>
<p>The length of the buffer in bytes.</p>
</dd>
<dt>byteswritten (OUT)</dt>
<dd>
<p>The number of bytes written.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4777"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1004">
<tr>
<td class="cellalignment1013">
<table class="cellalignment1009">
<tr>
<td class="cellalignment1008"><a href="oci20ext004.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1008"><a href="oci20ext006.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1015">
<table class="cellalignment1007">
<tr>
<td class="cellalignment1008"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1008"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1008"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1008"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1008"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1008"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
