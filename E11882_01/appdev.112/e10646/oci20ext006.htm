<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Cartridge Services &mdash; String Formatting Interface</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-18T15:18:44Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Call Interface Programmer's Guide" />
<meta name="dcterms.identifier" content="E10646-15" />
<meta name="dcterms.isVersionOf" content="LNOCI" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="oci20ext005.htm" title="Previous" type="text/html" />
<link rel="Next" href="oci21any.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10646.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">56/79</span> <!-- End Header --><a id="i444267"></a>
<div id="LNOCI196" class="refsect1">
<h1 class="refsect1">Cartridge Services &mdash; String Formatting Interface</h1>
<p><a href="#CIHBEIJH">Table 20-6</a> lists the string formatting functions that are described in this section.</p>
<div id="LNOCI17577" class="tblformalwide">
<p class="titleintable"><a id="sthref4778"></a><a id="CIHBEIJH"></a>Table 20-6 String Formatting Functions</p>
<table class="cellalignment1011" title="String Formatting Functions" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1005">
<th class="cellalignment1012" id="r1c1-t16">Function</th>
<th class="cellalignment1012" id="r1c2-t16">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r2c1-t16" headers="r1c1-t16">
<p><a href="#i447329">"OCIFormatInit()"</a></p>
</td>
<td class="cellalignment1013" headers="r2c1-t16 r1c2-t16">
<p>Initialize the OCIFormat package</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r3c1-t16" headers="r1c1-t16">
<p><a href="#i447343">"OCIFormatString()"</a></p>
</td>
<td class="cellalignment1013" headers="r3c1-t16 r1c2-t16">
<p>Write a text string into the supplied text buffer</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r4c1-t16" headers="r1c1-t16">
<p><a href="#i447336">"OCIFormatTerm()"</a></p>
</td>
<td class="cellalignment1013" headers="r4c1-t16 r1c2-t16">
<p>Terminate the OCIFormat package</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADDCI4676" href="../../appdev.112/e10765/cart_services.htm#ADDCI4676"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for more information about using these functions</div>
<div id="LNOCI17578" class="refsect2"><a id="i447329"></a>
<h2 class="refsect2"><a id="sthref4779"></a>OCIFormatInit()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4780"></a>Purpose</p>
<p>Initializes the OCIFormat package.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4781"></a>Syntax</p>
<pre>
sword OCIFormatInit( void      *hndl, 
                     OCIError  *err);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4782"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4783"></a>Comments</p>
<p>This routine must be called before calling any other OCIFormat routine, and it must be called only once.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4784"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17580" class="refsect2"><a id="i447343"></a>
<h2 class="refsect2"><a id="sthref4785"></a>OCIFormatString()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4786"></a>Purpose</p>
<p>Writes a text string into the supplied text buffer using the argument list submitted to it and in accordance with the format string given.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4787"></a>Syntax</p>
<pre>
sword OCIFormatString( void          *hndl, 
                       OCIError      *err, 
                       OraText       *buffer, 
                       sbig_ora      bufferLength, 
                       sbig_ora      *returnLength, 
                       const OraText *formatString,... );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4788"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
<dt>buffer (OUT)</dt>
<dd>
<p>The buffer that contains the string.</p>
</dd>
<dt>bufferLength (IN)</dt>
<dd>
<p>The length of the buffer in bytes.</p>
</dd>
<dt>returnLength (OUT)</dt>
<dd>
<p>The number of bytes written to the buffer (excluding the terminating <code>NULL</code>).</p>
</dd>
<dt>formatString (IN)</dt>
<dd>
<p>The format string, which can be any combination of literal text and format specifications. A format specification is delimited by the percent character (%) and is followed by any number (including none) of optional format modifiers, and terminated by a mandatory format code. If the format string ends with %, that is, with no format modifiers, or format specifier following it, then no action is taken. The format modifiers and format codes available are described in <a href="#CIHFJIDC">Table 20-7</a> and <a href="#CIHCDFJF">Table 20-8</a>.</p>
</dd>
<dt>... (IN)</dt>
<dd>
<p>Variable number of arguments of the form <code>OCIFormat type wrapper</code>(<code>variable</code>) where <code>variable</code> must be a variable containing the value to be used. No constant values or expressions are allowed as arguments to the <code>OCIFormat type wrappers</code>; The <code>OCIFormat type wrappers</code> that are available are listed next. The argument list must be terminated with <code>OCIFormatEnd</code>.</p>
<p><code>OCIFormatUb1(ub1 variable);</code></p>
<p><code>OCIFormatUb2(ub2 variable);</code></p>
<p><code>OCIFormatUb4(ub4 variable);</code></p>
<p><code>OCIFormatUword(uword variable);</code></p>
<p><code>OCIFormatUbig_ora(ubig_ora variable);</code></p>
<p><code>OCIFormatSb1(sb1 variable);</code></p>
<p><code>OCIFormatSb2(sb2 variable);</code></p>
<p><code>OCIFormatSb4(sb4 variable);</code></p>
<p><code>OCIFormatSword(sword variable);</code></p>
<p><code>OCIFormatSbig_ora(sbig_ora variable);</code></p>
<p><code>OCIFormatEb1(eb1 variable);</code></p>
<p><code>OCIFormatEb2(eb2 variable);</code></p>
<p><code>OCIFormatEb4(eb4 variable);</code></p>
<p><code>OCIFormatEword(eword variable);</code></p>
<p><code>OCIFormatChar (text variable);</code></p>
<p><code>OCIFormatText(const text *variable);</code></p>
<p><code>OCIFormatDouble(double variable);</code></p>
<p><code>OCIFormatDvoid(const dvoid *variable);</code></p>
<p><code>OCIFormatEnd</code></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4789"></a>Comments</p>
<p>The first call to this routine must be preceded by a call to the <a href="#i447329">OCIFormatInit()</a> routine that initializes the <code>OCIFormat</code> package for use. When this routine is no longer needed terminate the <code>OCIFormat</code> package by a call to the <a href="#i447336">OCIFormatTerm()</a> routine.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4790"></a>Format Modifiers</p>
<p>A format modifier alters or extends the format specification, allowing more specialized output. The format modifiers, as described in <a href="#CIHFJIDC">Table 20-7</a>, can be in any order and are all optional.</p>
<div id="LNOCI17581" class="tblformal">
<p class="titleintable"><a id="sthref4791"></a><a id="CIHFJIDC"></a>Table 20-7 Format Modifier Flags</p>
<table class="cellalignment1016" title="Format Modifier Flags " summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1005">
<th class="cellalignment1012" id="r1c1-t18">Flag</th>
<th class="cellalignment1012" id="r1c2-t18">Operation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r2c1-t18" headers="r1c1-t18">
<p><code>'-'</code></p>
</td>
<td class="cellalignment1013" headers="r2c1-t18 r1c2-t18">
<p>Left-justify the output in the field.</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r3c1-t18" headers="r1c1-t18">
<p><code>'+'</code></p>
</td>
<td class="cellalignment1013" headers="r3c1-t18 r1c2-t18">
<p>Always print a sign ('+' or '&ndash;') for numeric types.</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r4c1-t18" headers="r1c1-t18">
<p><code>' '</code></p>
</td>
<td class="cellalignment1013" headers="r4c1-t18 r1c2-t18">
<p>If a number's sign is not printed, then print a space in the sign position.</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r5c1-t18" headers="r1c1-t18">
<p><code>'0'</code></p>
</td>
<td class="cellalignment1013" headers="r5c1-t18 r1c2-t18">
<p>Pad numeric output with zeros, not spaces.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<ul>
<li>
<p>If both the <code>'+'</code> and <code>' '</code> flags are used in the same format specification, then the <code>' '</code> flag is ignored.</p>
</li>
<li>
<p>If both the <code>'-'</code> and <code>'0'</code> flags are used in the same format specification, then the <code>'-'</code> flag is ignored.</p>
</li>
</ul>
<p class="subhead2"><a id="LNOCI17582"></a>Alternate output:</p>
<ul>
<li>
<p>For the octal format code, add a leading zero.</p>
</li>
<li>
<p>For the hexadecimal format code, add a leading '0x'.</p>
</li>
<li>
<p>For floating-point format codes, the output always has a radix character.</p>
</li>
</ul>
<p class="subhead2"><a id="LNOCI17583"></a>Field Width</p>
<p><code>&lt;w&gt;</code> where <code>&lt;w&gt;</code> is a number specifying a minimum field width. The converted argument is printed in a field at least this wide, and wider if necessary. If the converted argument takes up fewer display positions than the field width, it is padded on the left (or right for left justification) to make up the field width. The padding character is normally a space, but it is a zero if the zero padding flag was specified. The special character <code>'*'</code> may be used for <code>&lt;w&gt;</code> and indicates the current argument is to be used for the field width value; the actual field or precision follows as the next sequential argument.</p>
<p class="subhead2"><a id="LNOCI17584"></a>Precision</p>
<p><code>.&lt;p&gt;</code> (a period followed by the number <code>&lt;p&gt;</code>), specifies the maximum number of display positions to print from a string, or digits after the radix point for a decimal number, or the minimum number of digits to print for an integer type (leading zeros are added to make up the difference). The special character <code>'*'</code> may be used for <code>&lt;p&gt;</code>, indicating that the current argument contains the precision value.</p>
<p class="subhead2"><a id="LNOCI17585"></a>Argument Index</p>
<p>(<code>&lt;n&gt;</code>) where <code>&lt;n&gt;</code> is an integer index into the argument list with the first argument being 1. If no argument index is specified in a format specification, the first argument is selected. The next time no argument index is specified in a format specification, the second argument is selected, and so on. Format specifications with and without argument indexes can be in any order and are independent of each other in operation.</p>
<p>For example, the format string <code>"%u %(4)u %u %(2)u %u"</code> selects the first, fourth, second, second, and third arguments given to <code>OCIFormatString()</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i446680"></a>Format Codes</p>
<p>A format code specifies how to format an argument that is being written to a string.</p>
<p>Note that these format codes, as described in <a href="#CIHCDFJF">Table 20-8</a>, can appear in uppercase, which causes all alphabetic characters in the output to appear in uppercase except for text strings, which are not converted.</p>
<div id="LNOCI17586" class="tblformal">
<p class="titleintable"><a id="sthref4792"></a><a id="CIHCDFJF"></a>Table 20-8 Format Codes to Specify How to Format an Argument Written to a String</p>
<table class="cellalignment1016" title="Format Codes to Specify How to Format an Argument Written to a String" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1005">
<th class="cellalignment1012" id="r1c1-t19">Codes</th>
<th class="cellalignment1012" id="r1c2-t19">Operation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r2c1-t19" headers="r1c1-t19">
<p><code>'c'</code></p>
</td>
<td class="cellalignment1013" headers="r2c1-t19 r1c2-t19">
<p>Single-byte character in the compiler character set</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r3c1-t19" headers="r1c1-t19">
<p><code>'d'</code></p>
</td>
<td class="cellalignment1013" headers="r3c1-t19 r1c2-t19">
<p>Signed decimal integer</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r4c1-t19" headers="r1c1-t19">
<p><code>'e'</code></p>
</td>
<td class="cellalignment1013" headers="r4c1-t19 r1c2-t19">
<p>Exponential (scientific) notation of the form [<code>-]&lt;d&gt;&lt;r&gt;[&lt;d&gt;...]e+[&lt;d&gt;]&lt;d&gt;&lt;d&gt;</code> where <code>&lt;r&gt;</code> is the radix character for the current language and <code>&lt;d&gt;</code> is any single digit; the default precision is given by the constant <code>OCIFormatDP</code>. The precision may be optionally specified as a format modifier. Using a precision of 0 suppresses the radix character; the exponent is always printed in at least 2 digits, and can take up to 3 (for example, 1e+01, 1e+10, and 1e+100).</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r5c1-t19" headers="r1c1-t19">
<p><code>'f'</code></p>
</td>
<td class="cellalignment1013" headers="r5c1-t19 r1c2-t19">
<p>Fixed decimal notation of the form <code>[-]&lt;d&gt;[&lt;d&gt;...]&lt;r&gt;[&lt;d&gt;...]</code> where <code>&lt;r&gt;</code> is the appropriate radix character for the current language and <code>&lt;d&gt;</code> is any single digit; the precision may be optionally specified as a format modifier. Using a precision of 0 suppresses the radix character. The default precision is given by the constant <code>OCIFormatDP</code>.</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r6c1-t19" headers="r1c1-t19">
<p><code>'g'</code></p>
</td>
<td class="cellalignment1013" headers="r6c1-t19 r1c2-t19">
<p>Variable floating-point notation; chooses <code>'e'</code> or <code>'f'</code>, selecting <code>'f'</code>' if the number fits in the specified precision (default precision if unspecified), and choosing <code>'e'</code> only if exponential format allows more significant digits to be printed; does not print a radix character if number has no fractional part</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r7c1-t19" headers="r1c1-t19">
<p><code>'i'</code></p>
</td>
<td class="cellalignment1013" headers="r7c1-t19 r1c2-t19">
<p>Identical to <code>'d'</code></p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r8c1-t19" headers="r1c1-t19">
<p><code>'o'</code></p>
</td>
<td class="cellalignment1013" headers="r8c1-t19 r1c2-t19">
<p>Unsigned octal integer</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r9c1-t19" headers="r1c1-t19">
<p><code>'p'</code></p>
</td>
<td class="cellalignment1013" headers="r9c1-t19 r1c2-t19">
<p>Operating system-specific pointer printout</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r10c1-t19" headers="r1c1-t19">
<p><code>'s'</code></p>
</td>
<td class="cellalignment1013" headers="r10c1-t19 r1c2-t19">
<p>Prints an argument using the default format code for its type:</p>
<p><code>ociformatub&lt;n&gt;</code>, <code>ociformatuword</code>, <code>ociformatubig_ora</code>, <code>ociformateb&lt;n&gt;</code>, and <code>ociformateword</code>.</p>
<p>The format code used is 'u'.</p>
<p><code>ociformatsb&lt;n&gt;</code>, <code>ociformatsword</code>, and <code>ociformatsbig_ora</code>.</p>
<p>The format code used is 'd'.</p>
<p><code>ociformatchar</code></p>
<p>The format code used is 'c'.</p>
<p><code>ociformattext</code></p>
<p>Prints text until trailing <code>NULL</code> is found.</p>
<p><code>ociformatdouble</code></p>
<p>The format code used is 'g'.</p>
<p><code>ociformatdvoid</code></p>
<p>The format code used is 'p'.</p>
<p><code>' %' - print a '%'.</code></p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r11c1-t19" headers="r1c1-t19">
<p><code>'u'</code></p>
</td>
<td class="cellalignment1013" headers="r11c1-t19 r1c2-t19">
<p>Unsigned decimal integer</p>
</td>
</tr>
<tr class="cellalignment1005">
<td class="cellalignment1013" id="r12c1-t19" headers="r1c1-t19">
<p>'x'</p>
</td>
<td class="cellalignment1013" headers="r12c1-t19 r1c2-t19">
<p>Unsigned hexadecimal integer</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4793"></a>Example</p>
<div class="example">
<p class="titleinexample"><a id="sthref4794"></a>Example 20-2 Using OCIFormatString() to Format a Date Two Different Ways for Two Countries</p>
<pre>
/* This example shows the power of arbitrary argument    */
/* selection in the context of internationalization.  A  */
/* date is formatted in two different ways for two different */
/* countries according to the format string, yet the      */
/* argument list submitted to OCIFormatString remains    */
/* invariant.                                            */

text      buffer[255];
ub1       day, month, year;
OCIError *err;
void     *hndl;
sbig_ora  returnLen;

/* Set the date. */

day   = 10;
month = 3;
year  = 97;

/* Work out the date in United States style: mm/dd/yy */
OCIFormatString(hndl, err,
                buffer, (sbig_ora)sizeof(buffer), &amp;returnLen
                (const text *)"%(2)02u/%(1)02u/%(3)02u",
                OCIFormatUb1(day),
                OCIFormatUb1(month),
                OCIFormatUb1(year),
                OCIFormatEnd);    /* Buffer is "03/10/97". */

/* Work out the date in New Zealand style: dd/mm/yy */
OCIFormatString(hndl, err,
                buffer, (sbig_ora)sizeof(buffer), &amp;returnLen
                (const text *)"%(1)02u/%(2)02u/%(3)02u",
                OCIFormatUb1(day),
                OCIFormatUb1(month),
                OCIFormatUb1(year),
                OCIFormatEnd);    /* Buffer is "10/03/97". */
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4795"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="LNOCI17579" class="refsect2"><a id="i447336"></a>
<h2 class="refsect2"><a id="sthref4796"></a>OCIFormatTerm()</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4797"></a>Purpose</p>
<p>Terminates the OCIFormat package.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4798"></a>Syntax</p>
<pre>
sword OCIFormatTerm( void     *hndl, 
                     OCIError *err);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4799"></a>Parameters</p>
<dl>
<dt>hndl (IN)</dt>
<dd>
<p>The OCI environment or user session handle.</p>
</dd>
<dt>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code>err</code>, and this function returns <code>OCI_ERROR</code>. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#i540516">OCIErrorGet()</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4800"></a>Comments</p>
<p>This function must be called after the OCIFormat package is no longer being used, and it must be called only once.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4801"></a>Returns</p>
<p><code>OCI_SUCCESS</code>; <code>OCI_INVALID_HANDLE</code>; or <code>OCI_ERROR</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1004">
<tr>
<td class="cellalignment1013">
<table class="cellalignment1009">
<tr>
<td class="cellalignment1008"><a href="oci20ext005.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1008"><a href="oci21any.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1015">
<table class="cellalignment1007">
<tr>
<td class="cellalignment1008"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1008"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1008"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1008"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1008"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1008"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
