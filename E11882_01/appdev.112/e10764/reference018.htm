<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Map Class</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 711" />
<meta name="dcterms.created" content="2013-02-06T9:20:51Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="C++ Call Interface Programmer's Guide," />
<meta name="dcterms.identifier" content="E10764-04" />
<meta name="dcterms.isVersionOf" content="LNCPP" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="reference017.htm" title="Previous" type="text/html" />
<link rel="Next" href="reference019.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10764.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">38/54</span> <!-- End Header --><a id="i1039607"></a><a id="LNCPP1013"></a>
<hr />
<div class="refsect1">
<h1 class="refsect1">Map Cl<a id="sthref805"></a><a id="sthref806"></a><a id="sthref807"></a>ass</h1>
<p>The <code>Map</code> class is used to store the mapping of the SQL structured type to C++ classes.</p>
<p>For each user defined type, the Object Type Translator (OTT) generates a C++ class declaration and implements the static methods <code>readSQL()</code> and <code>writeSQL()</code>. The <code>readSQL()</code> method is called when the object from the server appears in the application as a C++ class instance. The <code>writeSQL()</code> method is called to marshal the object in the application cache to server data when it is being written / flushed to the server. The <code>readSQL()</code> and <code>writeSQL()</code> methods generated by OTT are based upon the OCCI standard C++ mappings.</p>
<p>If you want to override the standard OTT generated mappings with customized mappings, you must implement a custom C++ class along with the <code>readSQL()</code> and <code>writeSQL()</code> methods for each SQL structured type you must customize. In addition, you must add an entry for each such class into the <code>Map</code> member of the <code>Environment</code>.</p>
<div class="tblformal">
<p class="titleintable"><a id="LNCPP21902"></a><a id="sthref808"></a><a id="sthref809"></a>Table 13-24 Summary of <a id="sthref810"></a><a id="sthref811"></a>Map Methods</p>
<table class="cellalignment1073" title="Summary of Map Methods " summary="First column lists methods; second column provides description of these methods." dir="ltr">
<thead>
<tr class="cellalignment1067">
<th class="cellalignment1074" id="r1c1-t259">Method</th>
<th class="cellalignment1074" id="r1c2-t259">Summary</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r2c1-t259" headers="r1c1-t259">
<p><a href="#i1080188">put()</a></p>
</td>
<td class="cellalignment1075" headers="r2c1-t259 r1c2-t259">
<p>Adds a map entry for the type <code>type_name</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<a id="i1080188"></a><a id="LNCPP21126"></a>
<hr />
<h2 class="refsect2"><a id="sthref812"></a><a id="sthref813"></a>put()</h2>
<p>Adds a map entry for the type, <code>type_name</code>, that must be customized; you must implement the <code>type_name</code> C++ class.</p>
<p>You must then add this information into a map object, which should be registered with the connection if the user wants the standard mappings to overridden.This registration can be done by calling the this method after the environment is created passing the environment.</p>
<div class="inftblinformal">
<table class="cellalignment1076" title="versions of put() method" summary="First column lists versions of the method; second column provides descriptions of these versions." dir="ltr">
<thead>
<tr class="cellalignment1067">
<th class="cellalignment1074" id="r1c1-t260">Syntax</th>
<th class="cellalignment1074" id="r1c2-t260">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r2c1-t260" headers="r1c1-t260">
<pre>
void put(
   const string &amp;schemaType,
   void *(*rSQL)(void *),
   void (*wSQL) (void *, void *));
</pre></td>
<td class="cellalignment1075" headers="r2c1-t260 r1c2-t260">Registers a type and its corresponding C++ <code>readSQL</code> and <code>writeSQL</code> functions.</td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r3c1-t260" headers="r1c1-t260">
<pre>
void put(
   const string&amp; schName,
   const string&amp; typName,
   void *(*rSQL)(void *),
   void (*wSQL)(void *, void *));
</pre></td>
<td class="cellalignment1075" headers="r3c1-t260 r1c2-t260">Registers a type and its corresponding C++ <code>readSQL</code> and <code>writeSQL</code> functions; multibyte support.</td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r4c1-t260" headers="r1c1-t260">
<pre>
void put(
   const UString&amp; schName,
   const UString&amp; typName,
   void *(*rSQL)(void *),
   void (*wSQL)(void *, void *));
</pre></td>
<td class="cellalignment1075" headers="r4c1-t260 r1c2-t260">Registers a type and its corresponding C++ <code>readSQL</code> and <code>writeSQL</code> functions; unicode support.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<div class="inftblinformal">
<table class="cellalignment1076" title="parameters of put() method" summary="First column lists parameters; second column provides description of these parameters." dir="ltr">
<thead>
<tr class="cellalignment1067">
<th class="cellalignment1074" id="r1c1-t261">Parameter</th>
<th class="cellalignment1074" id="r1c2-t261">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r2c1-t261" headers="r1c1-t261">
<pre>
schemaType
</pre></td>
<td class="cellalignment1075" headers="r2c1-t261 r1c2-t261">The schema and typename, separated by ".", like <code>HR.TYPE1</code></td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r3c1-t261" headers="r1c1-t261">
<pre>
schName
</pre></td>
<td class="cellalignment1075" headers="r3c1-t261 r1c2-t261">Name of the schema</td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r4c1-t261" headers="r1c1-t261">
<pre>
typName
</pre></td>
<td class="cellalignment1075" headers="r4c1-t261 r1c2-t261">Name of the type</td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r5c1-t261" headers="r1c1-t261">
<pre>
rDQL
</pre></td>
<td class="cellalignment1075" headers="r5c1-t261 r1c2-t261">The <code>readSQL</code> function pointer of the C++ class that corresponds to the type</td>
</tr>
<tr class="cellalignment1067">
<td class="cellalignment1075" id="r6c1-t261" headers="r1c1-t261">
<pre>
wSQL
</pre></td>
<td class="cellalignment1075" headers="r6c1-t261 r1c2-t261">The <code>writeSQL</code> function pointer of the C++ class that corresponds to the type</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1066">
<tr>
<td class="cellalignment1075">
<table class="cellalignment1071">
<tr>
<td class="cellalignment1070"><a href="reference017.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1070"><a href="reference019.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1078">
<table class="cellalignment1069">
<tr>
<td class="cellalignment1070"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1070"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1070"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1070"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1070"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1070"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
