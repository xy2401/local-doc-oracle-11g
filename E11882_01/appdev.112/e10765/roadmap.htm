<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Roadmap to Building a Data Cartridge</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="dcterms.created" content="2010-03-08T13:16:26Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Data Cartridge Developer's Guide" />
<meta name="dcterms.identifier" content="E10765-02" />
<meta name="dcterms.isVersionOf" content="ADDCI" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="introduction.htm" title="Previous" type="text/html" />
<link rel="Next" href="part2.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10765.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/36</span> <!-- End Header --><a id="CHDHAIFH"></a><a id="ADDCI120"></a><a id="i1004571"></a>
<h1 class="chapter"><span class="secnum">2</span> Roadmap to Building a Data Cartridge</h1>
<p>This chapter recommends a process for developing data cartridges, including relationships and dependencies among the steps of the process.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#CEGJHDBJ">Data Cartridge Development Process</a></p>
</li>
<li>
<p><a href="#i1004626">Cartridge Installation and Use</a></p>
</li>
<li>
<p><a href="#i1004633">Requirements and Guidelines for Data Cartridge Components</a></p>
</li>
<li>
<p><a href="#i1004664">Cartridge Installation Directory</a></p>
</li>
<li>
<p><a href="#i1004680">Data Cartridge Deployment Checklist</a></p>
</li>
</ul>
<a id="CEGJHDBJ"></a><a id="ADDCI4261"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref98"></a>Data Cartridge Development Process</h2>
<p>To understand the Data Cartridge development process, consider the project as a whole.</p>
<a id="ADDCI4262"></a>
<div class="sect2"><a id="sthref99"></a>
<h3 class="sect2">Understanding the Purpose</h3>
<p>The first step in developing a data cartridge is to establish the domain-specific value you intend to provide by clearly defining the new capabilities of the cartridge. Specify the objects the cartridge exposes to users.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4263"></a>
<div class="sect2"><a id="sthref100"></a>
<h3 class="sect2">Understand the Users</h3>
<p>If the intended users of the cartridge are software developers, the extensibility of the cartridge is of crucial importance. If they are end-users, the cartridge must be highly attuned to its intended domain. The design of the cartridge should reflect a business model that has a clear understanding of all users. Regardless of the size of the cartridge, the development team must have a thorough understand the object-relational database management system and apply it to the problems of the cartridge's domain.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4264"></a>
<div class="sect2"><a id="sthref101"></a>
<h3 class="sect2">Plan the Project</h3>
<p>Use a well-defined software development process, clearly identify expectations and deliverables, and set reasonable milestones for Data Cartridge development. Scheduling appropriate time for the project and having a realistic picture of available resources skills makes the project more likely to succeed.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4265"></a>
<div class="sect2"><a id="sthref102"></a>
<h3 class="sect2">Implement the Project</h3>
<ul>
<li>
<p>When choosing and designing objects, ensure that their names and semantics are familiar and clearly understood by developers and end-users.</p>
</li>
<li>
<p>When defining a collection of objects, consider the interface between the SQL side of object methods and the programming language used in your application development. Keep this interface as simple as possible by limiting the number of methods that call library routines, avoiding numerous calls into low-level library entry points, and writing large blocks of code that worked with pre-fetched data.</p>
</li>
<li>
<p>After the interface is defined, proceed along parallel paths, as illustrated in <a href="#BEHJCFFH">Figure 2-1</a>. You can proceed on the paths in any order that suits the available resources.</p>
<p>The left-most of these parallel paths packages existing 3GL code that performs relevant operations in a run-time library such as a DLL, possibly with new entry points on top of old code. The library routines are called by the SQL component of the object's method code. Where possible, this code should be tested in a standalone fashion using a 3GL test program.</p>
<p>The middle path defines and writes the object's type specification and the PL/SQL components of the object's method code. Some methods can be written entirely in PL/SQL, while others call into the external library. If your application requires an external library, provide the library definition and the detailed bindings to library entry routines.</p>
<p>The direction you take at the choice point depends on the complexity of the access methods you must deploy to manipulate your data. If the query methods you need are relatively simple, you can build regular indexes. If your data is complex, you must define complex index types to make use of Oracle's extensible indexing technology. If your project uses multi-domain queries, you should make use of Oracle's extensible optimizer technology.</p>
<p>If your situation does not involve executing queries on multiple domains, and I/O is the only significant factor affecting performance, then the standard optimizing techniques are probably sufficient. However, if there are other factors such as CPU cost affecting performance, you may still use the extensible optimizer.</p>
<div class="figure">
<p class="titleinfigure"><a id="BEHJCFFH"></a><a id="ADDCI4266"></a>Figure 2-1 Cartridge Development Process</p>
<img width="498" height="668" src="img/addci040.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" /><br />
<a id="sthref103" href="img_text/addci040.htm">Description of "Figure 2-1 Cartridge Development Process"</a><br />
<br /></div>
<!-- class="figure" --></li>
</ul>
</div>
<!-- class="sect2" -->
<a id="ADDCI4267"></a>
<div class="sect2"><a id="sthref104"></a>
<h3 class="sect2">Test and Installation</h3>
<p>The final steps are to test the application and create the necessary installation scripts.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1004626"></a><a id="ADDCI4268"></a>
<div class="sect1">
<h2 class="sect1"><a id="sthref105"></a><a id="sthref106"></a>Cartridge Installation and Use</h2>
<p><span class="bold">Installation</span> of a data cartridge is the process of assembling its components so that the server can locate them and understand the user-defined type definitions. To correctly place these components, you must:</p>
<ol>
<li>
<p>Define tables and user-defined types in the server. This is usually accomplished by running SQL scripts.</p>
</li>
<li>
<p>Place the dynamic link libraries in the location expected by the linkage specification.</p>
</li>
<li>
<p>Copy online documentation, help files, and error message files to a managed location.</p>
</li>
<li>
<p>Register the user-defined types with the server by running SQL scripts that load each new types defined for the cartridge. This step must be performed from a privileged account.</p>
</li>
<li>
<p>Grant the necessary access privileges to the users of the cartridge.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1004633"></a><a id="ADDCI4269"></a>
<div class="sect1">
<h2 class="sect1"><a id="sthref107"></a>Requirements and Guidelines for Data Cartridge Components</h2>
<p>The following requirements and guidelines apply to some database objects associated with data cartridges.</p>
<a id="ADDCI4270"></a>
<div class="sect2"><a id="sthref108"></a>
<h3 class="sect2">Cartridge Schemas</h3>
<p><a id="sthref109"></a><a id="sthref110"></a>The database components that form each cartridge must be installed in a schema that has the same name as the cartridge. If a cartridge uses multiple schemas, the first <code>10</code> characters of each schema name must be identical to the cartridge name. Note that the length of schema names in Oracle is limited to <code>30</code> bytes, or <code>30</code> characters in a single-byte language.</p>
<p>The database components of a data cartridge that must be placed in the cartridge schema include names for types, tables, views, directories, libraries and packages. Because the schema name and username are always the same in Oracle, the choice of a schema name determines the username.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4271"></a>
<div class="sect2"><a id="sthref111"></a>
<h3 class="sect2">Cartridge Globals</h3>
<p><a id="sthref112"></a><a id="sthref113"></a>Some database-level cartridge components are in scope, and are therefore visible to all users instead of being within the scope of a single user or schema. Examples of such globals are roles, synonyms, and sequences. All global names should start with the cartridge name, and be of the form:</p>
<pre>
C$<span class="italic">CARTRIDGEGLOBAL</span>
</pre></div>
<!-- class="sect2" -->
<a id="ADDCI4272"></a>
<div class="sect2"><a id="sthref114"></a>
<h3 class="sect2">Cartridge Error Message Names or Error Codes</h3>
<p><a id="sthref115"></a><a id="sthref116"></a>Currently, error code <code>ORA-20000</code> is reserved for all errors generated by applications that use Oracle products. The error message text is customizable. You should write the cartridge-specific error messages in the form:</p>
<pre>
ORA-20000: C$<span class="italic">CARTRIDGE</span>-<span class="italic">NNNN</span>:<span class="italic">%s</span>
</pre>
<p>where</p>
<ul>
<li>
<p><code>C$</code><code><span class="codeinlineitalic">CARTRIDGE</span></code> is the name of the cartridge where the error originated</p>
</li>
<li>
<p><code><span class="codeinlineitalic">NNNN</span></code> is the number of the error message, unique to that cartridge</p>
</li>
<li>
<p><code><span class="codeinlineitalic">%s</span></code> is the description of the cartridge-specific error</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for information on writing and managing error messages</div>
</div>
<!-- class="sect2" -->
<a id="i1004664"></a><a id="ADDCI4273"></a>
<div class="sect2">
<h3 class="sect2">Cartridge Installation Directory</h3>
<p><a id="sthref117"></a><a id="sthref118"></a><a id="sthref119"></a>Oracle recommends that you create a cartridge installation directory, specific to a vendor or client organization. This installation directory should includes the operating system-level components of the cartridge, such as shared libraries, configuration files, directories, and similar components. This directory name should be identical to the prefix chosen by the organization, and created under the root directory for the platform.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4274"></a>
<div class="sect2"><a id="sthref120"></a>
<h3 class="sect2">Cartridge Files</h3>
<p><a id="sthref121"></a><a id="sthref122"></a>Oracle recommends that you place error message files associated with each cartridge into cartridge-specific subdirectories. It is also <a id="sthref123"></a><a id="sthref124"></a>convenient to keep configuration files in a cartridge-specific subdirectory.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4275"></a>
<div class="sect2"><a id="sthref125"></a>
<h3 class="sect2">Shared Library Names for External Procedures</h3>
<p><a id="sthref126"></a><a id="sthref127"></a><a id="sthref128"></a><a id="sthref129"></a><a id="sthref130"></a>Shared libraries (<code>.so</code> or <code>.dll</code> files) can be placed either into the cartridge installation directory (all library names must be unique), or into a separate directory. If you are using a separate directory, the file names should start with the cartridge name, excluding the initial <code>C$</code>. If there are many such libraries, each name should start with the first seven letters of the cartridge name, again excluding the <code>C$</code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1004680"></a><a id="ADDCI4276"></a>
<div class="sect1">
<h2 class="sect1">Data Cartridge Deployment Checklist</h2>
<p>At the <span class="italic">deployment</span> level, you face several common issues. The optimal approach to these problems depends on the needs of your application. The following list includes tasks that should form the basis of your checklist, and some proposed solutions.</p>
<ul>
<li>
<p>You need a way to install and uninstall your cartridge components. This includes libraries, database objects, flat files, programs, configuration tools, administration tools, and other objects. Consider using Oracle's Universal Installer to perform these operations.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OUICG" href="../../em.112/e12255/toc.htm"><span class="italic">Oracle Universal Installer and OPatch User's Guide</span></a></div>
</li>
<li>
<p>You should allow for installation of multiple versions of a cartridge to provide backward compatibility and availability. Incorporate Oracle's migration facilities into your strategy.</p>
</li>
<li>
<p>You must track which data cartridges are installed to support other cartridges that depend on them.</p>
</li>
<li>
<p>You must track different versions of installed components.</p>
</li>
<li>
<p>You must provide an upgrade path for migrating to newer versions of cartridges. Again, Oracle's migration facilities can be helpful.</p>
</li>
<li>
<p>To limit access to cartridge components to specific users and roles, combine Oracle's security mechanisms with procedures that operate under invoker's and definer's rights depending on the need.</p>
</li>
<li>
<p>You must keep track of which users have access to a cartridge for administration purposes. Consider making use of a table with appropriate triggers.</p>
</li>
<li>
<p>Knowing where cartridges are installed is often a security and administration concern. There is currently no easy way of knowing which cartridges are installed in a particular database or what users have access to the cartridge or any of its components. If this information is important in your situation, keep track of it by any convenient method.</p>
</li>
</ul>
<a id="ADDCI4277"></a>
<div class="sect2"><a id="sthref131"></a>
<h3 class="sect2">Data Cartridge Naming Conventions</h3>
<p><a id="sthref132"></a><a id="sthref133"></a><a id="sthref134"></a>This section discusses how the components of a data cartridge should be named. It is intended for independent software vendors (ISVs) and others who are creating cartridges to be used by others.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Most examples in this manual do not follow the naming conventions, because they are intended to be as simple and generic as possible. However, as your familiarity with the technology increases and you consider building data cartridges to be used by others, you should understand and follow these naming conventions.</div>
<p>The naming conventions in this chapter assume a single-byte character set.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1005010">"Cartridge Internationalization"</a> for information on using other character sets</p>
</li>
<li>
<p><a href="cart_services.htm#i1004695">"Globalization Support"</a> for information on support for multiple languages and locales</p>
</li>
</ul>
</div>
<a id="ADDCI4278"></a>
<div class="sect3"><a id="sthref135"></a>
<h4 class="sect3">Need for Naming Conventions</h4>
<p><a id="sthref136"></a>In a production environment, an Oracle database might have multiple data cartridges installed. These data cartridges could be from different development groups or vendors, thus developed in isolation. Each data cartridge consists of various schema objects inside the database, and other components visible at the operating system level, such as external procedures in shared libraries. If multiple data cartridges tried to use the same names for schema objects or operating system-level entities, the result would be incorrect and inconsistent behavior.</p>
<p>Furthermore, because exception conditions during the run-time operation of data cartridges can cause the Oracle server to return errors, it is important to prevent conflicts between error or message codes of different data cartridges. These conflicts can arise if, for example, two cartridges use the same error code for different error conditions. Having unique error and message codes ensures that the origin of the exception condition can be readily identified.</p>
</div>
<!-- class="sect3" -->
<a id="ADDCI4279"></a>
<div class="sect3"><a id="sthref137"></a>
<h4 class="sect3">Unique Name Format</h4>
<p><a id="sthref138"></a>To prevent multiple data cartridge components from having the same name, Oracle recommends the following convention to ensure unique naming of data cartridges. This convention depends on each organization developing data cartridges choosing a unique name. Oracle recommends that cartridge developers follow a unique name format that starts with a <code>C$</code>.</p>
<p>Data cartridges and their components should have names of the following format:</p>
<pre>
C$pppptttm.ccccc
</pre>
<p><a href="#BEHGDCBG">Table 2-1</a> describes the parts of this naming convention format.</p>
<div class="tblformal">
<p class="titleintable"><a id="ADDCI4280"></a><a id="sthref139"></a><a id="BEHGDCBG"></a>Table 2-1 Data Cartridge Naming Conventions</p>
<table class="cellalignment1246" title="Data Cartridge Naming Conventions" summary="Explains the conventions used in naming data cartridges and their components" dir="ltr">
<thead>
<tr class="cellalignment1237">
<th class="cellalignment1247" id="r1c1-t6">Part</th>
<th class="cellalignment1247" id="r1c2-t6">Explanation</th>
<th class="cellalignment1247" id="r1c3-t6">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r2c1-t6" headers="r1c1-t6">
<p><code>C$</code></p>
</td>
<td class="cellalignment1243" headers="r2c1-t6 r1c2-t6">
<p>Recommended by Oracle for all data cartridges.</p>
</td>
<td class="cellalignment1243" headers="r2c1-t6 r1c3-t6">
<p><code>&nbsp;</code></p>
</td>
</tr>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r3c1-t6" headers="r1c1-t6">
<p><code>pppp</code></p>
</td>
<td class="cellalignment1243" headers="r3c1-t6 r1c2-t6">
<p>Prefix selected by the data cartridge creator. (Must be exactly four characters.)</p>
</td>
<td class="cellalignment1243" headers="r3c1-t6 r1c3-t6">
<p><code>ACME</code></p>
</td>
</tr>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r4c1-t6" headers="r1c1-t6">
<p><code>ttt</code></p>
</td>
<td class="cellalignment1243" headers="r4c1-t6 r1c2-t6">
<p>Type of cartridge, using an abbreviation meaningful to the creator. Three characters.</p>
</td>
<td class="cellalignment1243" headers="r4c1-t6 r1c3-t6">
<p><code>AUD</code> (for <span class="italic">audio</span>)</p>
</td>
</tr>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r5c1-t6" headers="r1c1-t6">
<p><code>m</code></p>
</td>
<td class="cellalignment1243" headers="r5c1-t6 r1c2-t6">
<p>Miscellaneous information indicator, to allow a designation meaningful to the creator. One character.</p>
</td>
<td class="cellalignment1243" headers="r5c1-t6 r1c3-t6">
<p><code>1</code> (perhaps a version number)</p>
</td>
</tr>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r6c1-t6" headers="r1c1-t6">
<p><code>.</code> (period)</p>
</td>
<td class="cellalignment1243" headers="r6c1-t6 r1c2-t6">
<p>Period required if specifying an object in full <span class="italic">schema.object</span> form.</p>
</td>
<td class="cellalignment1243" headers="r6c1-t6 r1c3-t6">
<p><code>&nbsp;</code></p>
</td>
</tr>
<tr class="cellalignment1237">
<td class="cellalignment1243" id="r7c1-t6" headers="r1c1-t6">
<p><code>ccccc</code></p>
</td>
<td class="cellalignment1243" headers="r7c1-t6 r1c2-t6">
<p>Component name. Variable length.</p>
</td>
<td class="cellalignment1243" headers="r7c1-t6 r1c3-t6">
<p><code>mf_set_volume</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>Oracle recommends that all characters in the name except for the dollar sign, <code>$</code>, as the second character be alphanumeric: letters, numbers, underscores, and hyphens.</p>
<p>For example, Acme Cartridge Company chooses and registers a prefix of <code>ACME</code>. It provides an audio data cartridge and a video data cartridge, and chooses <code>AUD</code> and <code>VID</code> as the type codes, respectively. It has no other information to include in the cartridge name, and so it chooses an arbitrary number <span class="italic">1</span> for the miscellaneous information indicator. As a result, the two cartridge names are:</p>
<ul>
<li>
<p><code>C$ACMEAUD1</code></p>
</li>
<li>
<p><code>C$ACMEVID1</code></p>
</li>
</ul>
<p>For each cartridge, a separate schema must be created, and Acme uses the cartridge name as the schema name. Thus, all database components of the audio cartridge must be created under the schema <code>C$ACMEAUD1</code>, and all database components of the video cartridge must be created under the schema <code>C$ACMEVID1</code>. Examples of some components might include:</p>
<ul>
<li>
<p><code>C$ACMEVID1.mf_rewind</code></p>
</li>
<li>
<p><code>C$ACMEVID1.vid_ops_package</code></p>
</li>
<li>
<p><code>C$ACMEVID1.vid_stream_lib</code></p>
</li>
</ul>
<p>Each organization is responsible for specific naming requirements after the <code>C$pppp</code> portion of the object name. For example, Acme Cartridge Company must ensure that all of its cartridges have unique names and that all components within a cartridge have unique names.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="ADDCI4281"></a>
<div class="sect2"><a id="sthref140"></a>
<h3 class="sect2">Cartridge Registration</h3>
<p><a id="i1004784"></a>A naming scheme requires a registration process to handle the administration of names of components that form a data cartridge.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4282"></a>
<div class="sect2"><a id="sthref141"></a>
<h3 class="sect2">Cartridge Directory Structure and Standards</h3>
<p><a id="i1004787"></a>You need some directory standards that specify where to put your binaries, support files, messages files, administration files, and libraries.</p>
<p>You also must define a database user who installs your cartridges. One possible solution is to use <code>EXDSYS</code>, for External Data Cartridge System user.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code>EXDSYS</code> user has special privileges required for running cartridges. This user could be installed as part of cartridge installation, but a better solution is to make it part of the database installation by moving this process into a standard database creation script.</div>
</div>
<!-- class="sect2" -->
<a id="ADDCI4283"></a>
<div class="sect2"><a id="sthref142"></a>
<h3 class="sect2">Cartridge Upgrades</h3>
<p><a id="i1004799"></a>Administrators need a safe way to upgrade a cartridge and its related metadata to a newer version of the cartridge. You also require a process for upgrading data and removing obsolete data. This may entail installation support and database support for moving to newer database cartridge types</p>
<p>Administrators also require a means to update tables using cartridge types when a cartridge changes.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4284"></a>
<div class="sect2"><a id="sthref143"></a>
<h3 class="sect2">Import and Export of Cartridge Objects</h3>
<p><a id="i1004805"></a>To import and export objects, you must understand how Oracle's import and export facilities handle Oracle objects. In particular, you must know how types are handled and whether the type methods are imported and exported, and also whether user-defined methods are supported.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4285"></a>
<div class="sect2"><a id="sthref144"></a>
<h3 class="sect2">Cartridge Versioning</h3>
<p>There are two types of cartridge versioning problems that must be addressed: internal and external.</p>
<a id="i1004811"></a><a id="ADDCI4286"></a>
<div class="sect3">
<h4 class="sect3">Internal Versioning</h4>
<p><a id="i1004815"></a>Internal versioning is the harder problem. Ideally, you would like a mechanism to support multiple versions of a cartridge in the database. This would provide backward compatibility and also make for high availability.</p>
</div>
<!-- class="sect3" -->
<a id="ADDCI4287"></a>
<div class="sect3"><a id="sthref145"></a>
<h4 class="sect3">External Versioning</h4>
<p><a id="i1004820"></a>External versioning is the easier of the two versioning problems. You must be able to track a cartridge version number and act accordingly upon installation or configuration based on versioning information.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1005010"></a><a id="ADDCI4288"></a>
<div class="sect2">
<h3 class="sect2">Cartridge Internationalization</h3>
<p><a id="i1004824"></a>You might want to internationalize your cartridges, so they can support multiple languages and access Globalization Support facilities for messages and parsing.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NLSPG" href="../../server.112/e10729/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a></div>
<p><a id="sthref146"></a><a id="sthref147"></a>Oracle recommends that data cartridge component names use the ASCII character set.</p>
<p>If you must name the data cartridge components in a character set other than ASCII, Oracle assigns you a unique four-character prefix. However, this increases the number of bytes required to hold the prefix. The names of all Oracle schema objects must fit into 30 bytes. In ASCII, this equals 30 characters. If you have, for example, a six-byte character set and request a four-character prefix string, Oracle might truncate your request to a smaller number of characters.</p>
</div>
<!-- class="sect2" -->
<a id="ADDCI4289"></a>
<div class="sect2"><a id="sthref148"></a>
<h3 class="sect2">Cartridge Administration</h3>
<p>When planning and developing a data cartridge, you should consider the issues involved in administering its use.</p>
<a id="i1004829"></a><a id="ADDCI4290"></a>
<div class="sect3">
<h4 class="sect3">Administering Cartridge Access</h4>
<ul>
<li>
<p>How do administrators know who has access to a cartridge?</p>
<p><a id="i1004833"></a>Administrators must administer access rights to internal and external components such as programs and data files to specific users and roles.</p>
</li>
</ul>
<ul>
<li>
<p>How do administrators restrict access to certain tables, types, views, and other cartridge components to individual users and roles?</p>
<p><a id="i1004838"></a>For security reasons, administrators must be allowed to restrict access to types on an individual basis.</p>
<p>Some data cartridges, such as Oracle Multimedia, have few security issues. These cartridges might grant privileges to every user in the database. Other cartridges that are more complex might need differing security models. In building complex data cartridges, you need a way to identify the various components of your cartridge and instances of the cartridge, so administrators can grant and revoke security roles on identifiable components.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="ADDCI4291"></a>
<div class="sect3"><a id="sthref149"></a>
<h4 class="sect3">Invoker's Rights</h4>
<p><a id="i1004844"></a>Invoker's rights is a special privilege that allows the system to access database objects to which it would not normally have access. The special user <code>SYS</code> has such rights. Unless you grant privileges to public, the user you create to install and run your cartridge needs this privilege.</p>
</div>
<!-- class="sect3" -->
<a id="ADDCI4292"></a>
<div class="sect3"><a id="sthref150"></a>
<h4 class="sect3">Configuration</h4>
<p><a id="i1004855"></a>Data cartridges need a front end to handle deployment issues, such as installation, and configuration tools. While each data cartridge may have differing security needs, a basic front end that allows a user to install, configure, and administer data cartridge components is necessary.</p>
<p>This front end may just be some form of knowledge base or on-line documentation. In any case, it should be online, easy to navigate, and contain templates exhibiting standards and starting points.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="ADDCI4293"></a>
<div class="sect2"><a id="sthref151"></a>
<h3 class="sect2"><a id="sthref152"></a><a id="sthref153"></a>Suggested Development Approach</h3>
<p>In developing a data cartridge, take a systematic approach, starting with small, easy tasks and building incrementally toward a comprehensive solution. This section presents a suggested approach.</p>
<p>To create a prototype data cartridge:</p>
<ol>
<li>
<p>Read the relevant chapters of this book. Experiment with the examples in the example chapters: <a href="pwr_example.htm#BABEIEIE">Chapter 15, "Power Demand Cartridge Example"</a>, <a href="psbtree_example.htm#CHDIDEJC">Chapter 16, "PSBTREE: Extensible Indexing Example"</a>, and <a href="pipelined_example.htm#CEGBCFJF">Chapter 17, "Pipelined Table Functions: Interface Approach Example"</a>.</p>
</li>
<li>
<p>Create the prototype of your own data cartridge, starting with a single user-defined type and a few data elements and methods. You can add user-defined types, data elements, and methods, specific indextypes, and user-defined operators as you expand the cartridge's capabilities.</p>
</li>
<li>
<p>Begin by implementing your methods entirely in SQL, and add callouts to 3GL code later if you need them.</p>
</li>
<li>
<p>Test and debug your cartridge.</p>
</li>
</ol>
<p>When you have the prototype working, you might want to follow a development process that includes these steps:</p>
<ol>
<li>
<p>Identify your areas of domain expertise.</p>
</li>
<li>
<p>Identify those areas of expertise that are relevant to persistent data.</p>
</li>
<li>
<p>Consider the feasibility of packaging one or more of these areas as a new data cartridge or as an extension to an existing cartridge.</p>
</li>
<li>
<p>Use an object-oriented methodology to help decide what object types to include in data cartridges.</p>
</li>
<li>
<p>Build and test the cartridges, one at a time.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1236">
<tr>
<td class="cellalignment1243">
<table class="cellalignment1241">
<tr>
<td class="cellalignment1240"><a href="introduction.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1240"><a href="part2.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1245">
<table class="cellalignment1239">
<tr>
<td class="cellalignment1240"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1240"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1240"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1240"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1240"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1240"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
