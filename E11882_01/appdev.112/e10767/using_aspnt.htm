<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Using ASP.NET with Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 005" />
<meta name="dcterms.created" content="2009-07-23T17:44:20Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + .NET Developer's Guide" />
<meta name="dcterms.identifier" content="E10767-01" />
<meta name="dcterms.isVersionOf" content="TDPNG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="procedures_plsql.htm" title="Previous" type="text/html" />
<link rel="Next" href="procedures_dot_net.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10767.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/15</span> <!-- End Header --><a id="BABJHECJ"></a>
<h1 class="chapter"><span class="secnum">7</span> <a id="TDPNG00000"></a>Using ASP.NET with Oracle Database</h1>
<p>This chapter contains:</p>
<ul>
<li>
<p><a href="#BABJFCDA">Overview: Building an ASP.NET Application with Oracle Developer Tools</a></p>
</li>
<li>
<p><a href="#BABBFHIG">Before Beginning This Tutorial</a></p>
</li>
<li>
<p><a href="#BABJCDHG">Creating a Web Site and Connecting it to the Database</a></p>
</li>
<li>
<p><a href="#BABJIHEI">Enabling a Web Site for Authentication</a></p>
</li>
<li>
<p><a href="#BABHIIEE">Enabling Oracle Providers for ASP.NET and Creating a Lightweight Web User</a></p>
</li>
<li>
<p><a href="#BABGDGJG">Testing Web Site Authentication</a></p>
</li>
</ul>
<a id="BABJFCDA"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview: Building an ASP.NET Application with Oracle Developer Tools<a id="sthref465"></a><a id="sthref466"></a></h2>
<p>Oracle integrates directly with Microsoft ASP.NET in a number of ways:</p>
<ul>
<li>
<p>Oracle Developer Tools for Visual Studio provides an easy way to design data-driven web sites.</p>
</li>
<li>
<p>ODP.NET enables ASP.NET data access.</p>
</li>
<li>
<p>Oracle Providers for ASP.NET integrate directly with Microsoft ASP.NET controls and services to provide state management capabilities for web sites.</p>
</li>
</ul>
<p>This tutorial demonstrates some of these features, including how to build a data-driven web application using Oracle Developer Tools and how to add security to that application in a simple manner using Oracle Providers for ASP.NET.</p>
<p>First, you will use the tools to build a web application that retrieves employee data from the Oracle database into a data grid. Then, you add a login control and secure the application by permitting only authorized web users access to this employee information. Finally, you create authorized web users using Oracle Providers for ASP.NET. These web users are stored within the Oracle database for authentication by this application.</p>
</div>
<!-- class="sect1" -->
<a id="BABBFHIG"></a>
<div class="sect1">
<h2 class="sect1">Before Beginning This Tutorial<a id="sthref467"></a><a id="sthref468"></a><a id="sthref469"></a></h2>
<p>Before you can build an ASP.NET application with Oracle Developer Tools, you may need to perform the setups described in the following sections:</p>
<ul>
<li>
<p><a href="building_odt.htm#CEGBAFAC">"Connecting to the Oracle Database"</a>.</p>
</li>
<li>
<p>If you are planning to use web site authentication, as described in <a href="#BABJIHEI">"Enabling a Web Site for Authentication"</a>, you must perform the following setups:.</p>
<ul>
<li>
<p><a href="installation.htm#CHDDCFEE">"Creating the User and Granting Privileges"</a></p>
</li>
<li>
<p><a href="installation.htm#BABDEHAJ">"Configuring All Oracle Providers for ASP.NET"</a></p>
</li>
<li>
<p><a href="installation.htm#CHDFFEIB">"Setting the Connection String"</a></p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABJCDHG"></a>
<div class="sect1">
<h2 class="sect1">Creating a Web Site and Connecting it to the Database<a id="sthref470"></a><a id="sthref471"></a><a id="sthref472"></a><a id="sthref473"></a><a id="sthref474"></a><a id="sthref475"></a></h2>
<p>This section shows you how to create an ASP.NET web site that retrieves data from an Oracle database. The web site will display data in an ASP.NET GridView, allowing users to page through the results.</p>
<p>This section contains two topics:</p>
<ul>
<li>
<p><a href="#BABBJJGC">Creating an ASP.NET Web Site</a></p>
</li>
<li>
<p><a href="#BABGDHCA">Creating a Data Source</a></p>
</li>
</ul>
<a id="BABBJJGC"></a>
<div class="sect2">
<h3 class="sect2">Creating an ASP.NET Web Site</h3>
<p><span class="bold">To create an ASP.NET web site with a grid:</span></p>
<ol>
<li>
<p>Start Visual Studio.</p>
</li>
<li>
<p>From the File menu, select <span class="bold">New</span>, then <span class="bold">Web Site...</span></p>
<img width="428" height="153" src="img/aspnt01.gif" alt="Description of aspnt01.gif follows" title="Description of aspnt01.gif follows" /><br />
<a id="sthref476" href="img_text/aspnt01.htm">Description of the illustration aspnt01.gif</a><br />
<br /></li>
<li>
<p>From New Web Site, select <span class="bold">ASP.NET Web Site</span> and enter or browse to the directory location for the web site. Click <span class="bold">OK</span>.</p>
<img width="683" height="452" src="img/aspnt02.gif" alt="Description of aspnt02.gif follows" title="Description of aspnt02.gif follows" /><br />
<a id="sthref477" href="img_text/aspnt02.htm">Description of the illustration aspnt02.gif</a><br />
<br /></li>
<li>
<p>In the <code>Default.aspx</code> tab, click the <span class="bold">Design</span> icon at the bottom of the screen.</p>
<img width="707" height="449" src="img/aspnt03.gif" alt="Description of aspnt03.gif follows" title="Description of aspnt03.gif follows" /><br />
<a id="sthref478" href="img_text/aspnt03.htm">Description of the illustration aspnt03.gif</a><br />
<br /></li>
<li>
<p>In the <code>&lt;div&gt;</code> element, which appears as a dotted rectangle, enter a title, such as Employees List.</p>
<img width="557" height="254" src="img/aspnt04.gif" alt="Description of aspnt04.gif follows" title="Description of aspnt04.gif follows" /><br />
<a id="sthref479" href="img_text/aspnt04.htm">Description of the illustration aspnt04.gif</a><br />
<br /></li>
<li>
<p>From the <span class="bold">View</span> menu, select <span class="bold">Toolbox</span>.</p>
<img width="238" height="379" src="img/aspnt05.gif" alt="Description of aspnt05.gif follows" title="Description of aspnt05.gif follows" /><br />
<a id="sthref480" href="img_text/aspnt05.htm">Description of the illustration aspnt05.gif</a><br />
<br /></li>
<li>
<p><a id="BABHCCGF"></a>Expand the Data group and drag the GridView control into the dotted rectangle labeled <code>&lt;div&gt;</code> of the Designer</p>
<img width="256" height="340" src="img/aspnt06.gif" alt="Description of aspnt06.gif follows" title="Description of aspnt06.gif follows" /><br />
<a id="sthref481" href="img_text/aspnt06.htm">Description of the illustration aspnt06.gif</a><br />
<br /></li>
<li>
<p><a id="BABBDCBH"></a>When a grid with dummy titles and contents appears, view the GridView Tasks list on the right.</p>
<img width="486" height="193" src="img/aspnt08.gif" alt="Description of aspnt08.gif follows" title="Description of aspnt08.gif follows" /><br />
<a id="sthref482" href="img_text/aspnt08.htm">Description of the illustration aspnt08.gif</a><br />
<br />
<p>If you do not see the task list, select the grid, and then click the &gt; symbol on the right.</p>
<img width="280" height="198" src="img/asnpt07.gif" alt="Description of asnpt07.gif follows" title="Description of asnpt07.gif follows" /><br />
<a id="sthref483" href="img_text/asnpt07.htm">Description of the illustration asnpt07.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABGDHCA"></a>
<div class="sect2">
<h3 class="sect2">Creating a Data Source</h3>
<p><span class="bold">To Create a Data Source:</span><a id="sthref484"></a></p>
<ol>
<li>
<p>Under the GridView Tasks, select <span class="bold">&lt;New data source...&gt;</span> from the Choose Data Source list, as shown in step <a href="#BABBDCBH">8</a> in the previous section.</p>
<p>A Data Source Configuration wizard starts.</p>
</li>
<li>
<p>Select <span class="bold">Database</span>. Enter <code>HR</code> as the ID for the data source. Click <span class="bold">OK</span>.</p>
<img width="577" height="449" src="img/aspnt09.gif" alt="Description of aspnt09.gif follows" title="Description of aspnt09.gif follows" /><br />
<a id="sthref485" href="img_text/aspnt09.htm">Description of the illustration aspnt09.gif</a><br />
<br /></li>
<li>
<p>Click the down arrow to choose <code>HR.ORCL</code> from the list. Click <span class="bold">Next</span>.</p>
<img width="580" height="450" src="img/aspnt10.gif" alt="Description of aspnt10.gif follows" title="Description of aspnt10.gif follows" /><br />
<a id="sthref486" href="img_text/aspnt10.htm">Description of the illustration aspnt10.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Next</span> to save the connection string in the application configuration file.</p>
<img width="579" height="449" src="img/aspnt11.gif" alt="Description of aspnt11.gif follows" title="Description of aspnt11.gif follows" /><br />
<a id="sthref487" href="img_text/aspnt11.htm">Description of the illustration aspnt11.gif</a><br />
<br /></li>
<li>
<p>Select the <code>EMPLOYEES</code> table from the Name list. In the Columns list, check the box next to the asterisk ( <code>*</code>).</p>
<p>These selections tell Oracle to return all the rows from the <code>EMPLOYEES</code> table, just as if you had typed <code>SELECT</code> <code>*</code> <code>FROM</code> <code>EMPLOYEES</code>.</p>
<p>Click <span class="bold">Next</span>.</p>
<img width="580" height="452" src="img/aspnt12.gif" alt="Description of aspnt12.gif follows" title="Description of aspnt12.gif follows" /><br />
<a id="sthref488" href="img_text/aspnt12.htm">Description of the illustration aspnt12.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Test Query</span>.</p>
<img width="579" height="450" src="img/aspnt13.gif" alt="Description of aspnt13.gif follows" title="Description of aspnt13.gif follows" /><br />
<a id="sthref489" href="img_text/aspnt13.htm">Description of the illustration aspnt13.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Finish</span> when the Test Query results appear.</p>
<img width="578" height="452" src="img/aspnt14.gif" alt="Description of aspnt14.gif follows" title="Description of aspnt14.gif follows" /><br />
<a id="sthref490" href="img_text/aspnt14.htm">Description of the illustration aspnt14.gif</a><br />
<br /></li>
<li>
<p>From the <span class="bold">GridView Tasks</span>, select Enable Paging. If you do not see the task list, select the grid, and then click the &gt; symbol on the right. You may have to scroll right.</p>
<img width="587" height="395" src="img/aspnt15.gif" alt="Description of aspnt15.gif follows" title="Description of aspnt15.gif follows" /><br />
<a id="sthref491" href="img_text/aspnt15.htm">Description of the illustration aspnt15.gif</a><br />
<br /></li>
<li>
<p>From the <span class="bold">View</span> menu, select <span class="bold">Solution Explorer</span>, and then select the web site. Right-click and select <span class="bold">Build Web Site.</span> The status bar will indicate success or failure.</p>
</li>
<li>
<p><a id="BABCIFIB"></a>From the <span class="bold">View</span> menu, select <span class="bold">Debug</span>, then <span class="bold">Start Without Debugging</span>.</p>
<p>A browser window, such as the following, appears, showing the data requested by the query. You can page through the results using the numbers at the lower left section of the page.</p>
<img width="656" height="504" src="img/aspnt16.gif" alt="Description of aspnt16.gif follows" title="Description of aspnt16.gif follows" /><br />
<a id="sthref492" href="img_text/aspnt16.htm">Description of the illustration aspnt16.gif</a><br />
<br /></li>
<li>
<p>Close the browser.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJIHEI"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Enabling a Web Site for Authentication<a id="sthref493"></a><a id="sthref494"></a><a id="sthref495"></a><a id="sthref496"></a><a id="sthref497"></a></h2>
<p>This section shows you how to add web site authentication to limit the users that can access the employee data. We will authenticate using an ASP.NET login control, verifying against users created and stored with the Oracle Providers for ASP.NET.</p>
<p>In the section following this, <a href="#BABHIIEE">"Enabling Oracle Providers for ASP.NET and Creating a Lightweight Web User"</a>, you will take the ASP.NET application you have just built and secure the employee data so that an authorized user can access the information. You will create a web user for the application using Oracle Providers for ASP.NET. This web user starts the web application through the login control, and if the credentials are correct, can then access the employees information.</p>
<ol>
<li>
<p>Reopen the web site you created in the previous section.</p>
</li>
<li>
<p>Select <span class="bold">View</span>, then <span class="bold">Solution Explorer</span>, and click the web site.</p>
<img width="286" height="255" src="img/aspnt17.gif" alt="Description of aspnt17.gif follows" title="Description of aspnt17.gif follows" /><br />
<a id="sthref498" href="img_text/aspnt17.htm">Description of the illustration aspnt17.gif</a><br />
<br /></li>
<li>
<p>Right-click on the web site and Add <span class="bold">New Item</span>.</p>
<img width="418" height="252" src="img/aspnt18.gif" alt="Description of aspnt18.gif follows" title="Description of aspnt18.gif follows" /><br />
<a id="sthref499" href="img_text/aspnt18.htm">Description of the illustration aspnt18.gif</a><br />
<br /></li>
<li>
<p>Select Web Form, enter the name <code>login.aspx</code> and click <span class="bold">Add</span>.</p>
<img width="538" height="438" src="img/aspnt19.gif" alt="Description of aspnt19.gif follows" title="Description of aspnt19.gif follows" /><br />
<a id="sthref500" href="img_text/aspnt19.htm">Description of the illustration aspnt19.gif</a><br />
<br /></li>
<li>
<p>When the <code>login.aspx</code> page appears, switch to the Design tab.</p>
</li>
<li>
<p>From the <span class="bold">View</span> menu, open the Toolbox, expand the Login section, and drag and drop the login control onto the form, into the dotted rectangle labeled <code>&lt;div&gt;</code>.</p>
<img width="665" height="266" src="img/aspnt20.gif" alt="Description of aspnt20.gif follows" title="Description of aspnt20.gif follows" /><br />
<a id="sthref501" href="img_text/aspnt20.htm">Description of the illustration aspnt20.gif</a><br />
<br />
<p>This is a standard ASP.NET login control, which can retrieve and verify user login credentials stored in the Oracle database.</p>
</li>
<li>
<p>Right-click the login control and select Properties. For <code>DestinationPageUrl</code>, select or enter <code>Default.aspx</code>.</p>
<p>When a user successfully logs in, that user will be directed to the <code>Default.aspx</code> page, which contains the employee data. If a user does not successfully log in, they will be redirected back to the login page.</p>
<img width="347" height="442" src="img/aspnt21.gif" alt="Description of aspnt21.gif follows" title="Description of aspnt21.gif follows" /><br />
<a id="sthref502" href="img_text/aspnt21.htm">Description of the illustration aspnt21.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABHIIEE"></a>
<div class="sect1">
<h2 class="sect1">Enabling Oracle Providers for ASP.NET and Creating a Lightweight Web User<a id="sthref503"></a><a id="sthref504"></a><a id="sthref505"></a><a id="sthref506"></a><a id="sthref507"></a><a id="sthref508"></a></h2>
<p>In this section, you will use the ASP.NET Web Site Administration Tool to do the following:</p>
<ul>
<li>
<p>Direct the web site to use the Oracle ASP.NET providers.</p>
</li>
<li>
<p>Create a new web user specific to this web site, demonstrating the authentication features added to the site in <a href="#BABJIHEI">"Enabling a Web Site for Authentication"</a>.</p>
</li>
</ul>
<p><span class="bold">To direct the web site to use the Oracle ASP.NET providers and create new web site users, do the following:</span></p>
<ol>
<li>
<p>In Visual Studio, select <span class="bold">Website</span>, then <span class="bold">ASP.NET Configuration</span>.</p>
<img width="231" height="338" src="img/aspnt23.gif" alt="Description of aspnt23.gif follows" title="Description of aspnt23.gif follows" /><br />
<a id="sthref509" href="img_text/aspnt23.htm">Description of the illustration aspnt23.gif</a><br />
<br /></li>
<li>
<p>When the ASP.NET Web Site Administration Tool appears, select the Provider tab.</p>
<img width="829" height="473" src="img/aspnt24.gif" alt="Description of aspnt24.gif follows" title="Description of aspnt24.gif follows" /><br />
<a id="sthref510" href="img_text/aspnt24.htm">Description of the illustration aspnt24.gif</a><br />
<br /></li>
<li>
<p>On the Provider page, select the second link: Select a different provider for each feature (advanced).</p>
<img width="830" height="475" src="img/aspnt25.gif" alt="Description of aspnt25.gif follows" title="Description of aspnt25.gif follows" /><br />
<a id="sthref511" href="img_text/aspnt25.htm">Description of the illustration aspnt25.gif</a><br />
<br /></li>
<li>
<p>When the Provider page reappears, change the Membership Provider and Role Provider to the Oracle versions, if they are not selected.</p>
<img width="792" height="348" src="img/aspnt26.gif" alt="Description of aspnt26.gif follows" title="Description of aspnt26.gif follows" /><br />
<a id="sthref512" href="img_text/aspnt26.htm">Description of the illustration aspnt26.gif</a><br />
<br /></li>
<li>
<p>Go to the Security tab and under Users, click <span class="bold">Select authentication type</span>.</p>
<p>By default, the ASP.NET site uses Windows authentication to identify users. You are building a web site that will identify users by their site-specific logins and passwords. Therefore, the site must be configured to expect to use logins and passwords.</p>
<p><img width="831" height="461" src="img/aspnt27.gif" alt="Description of aspnt27.gif follows" title="Description of aspnt27.gif follows" /><br />
<a id="sthref513" href="img_text/aspnt27.htm">Description of the illustration aspnt27.gif</a><br />
<br /></p>
</li>
<li>
<p>When the Security page reappears, choose <span class="bold">From the internet</span> and click <span class="bold">Done</span>.</p>
<img width="745" height="378" src="img/aspnt28.gif" alt="Description of aspnt28.gif follows" title="Description of aspnt28.gif follows" /><br />
<a id="sthref514" href="img_text/aspnt28.htm">Description of the illustration aspnt28.gif</a><br />
<br /></li>
<li>
<p>When the security tab reappears with new links under Users, choose <span class="bold">Create user</span>.</p>
<img width="633" height="408" src="img/aspnt29.gif" alt="Description of aspnt29.gif follows" title="Description of aspnt29.gif follows" /><br />
<a id="sthref515" href="img_text/aspnt29.htm">Description of the illustration aspnt29.gif</a><br />
<br /></li>
<li>
<p>In the Create User section, enter the information for the user that you are allowing to enter the web site, as shown. Enter a password that contains at least 7 characters, including one non-alphanumeric character.</p>
<p>Click <span class="bold">Create User</span>.</p>
<img width="833" height="436" src="img/aspnt30.gif" alt="Description of aspnt30.gif follows" title="Description of aspnt30.gif follows" /><br />
<a id="sthref516" href="img_text/aspnt30.htm">Description of the illustration aspnt30.gif</a><br />
<br /></li>
<li>
<p>When the Security page reappears, indicating that your account has been successfully completed, click the <span class="bold">Security</span> tab.</p>
<img width="838" height="397" src="img/aspnt31.gif" alt="Description of aspnt31.gif follows" title="Description of aspnt31.gif follows" /><br />
<a id="sthref517" href="img_text/aspnt31.htm">Description of the illustration aspnt31.gif</a><br />
<br />
<p>Note: Other options for this screen include continuing to create other users or going to a different tab.</p>
</li>
<li>
<p>When the main Security page reappears, under Access Rules, select <span class="bold">Manage access rules</span>.</p>
<img width="632" height="408" src="img/aspnt31a.gif" alt="Description of aspnt31a.gif follows" title="Description of aspnt31a.gif follows" /><br />
<a id="sthref518" href="img_text/aspnt31a.htm">Description of the illustration aspnt31a.gif</a><br />
<br />
<p>NOTE: Under Users, there is now one existing user.</p>
</li>
<li>
<p>When the Manage Access Rules section on the <span class="bold">Security</span> tab appears, click on <span class="bold">Add new access rule</span>.</p>
<img width="817" height="380" src="img/aspnt32.gif" alt="Description of aspnt32.gif follows" title="Description of aspnt32.gif follows" /><br />
<a id="sthref519" href="img_text/aspnt32.htm">Description of the illustration aspnt32.gif</a><br />
<br /></li>
<li>
<p>Select <span class="bold">Anonymous users</span> and <span class="bold">Deny</span>, then click <span class="bold">OK</span>.</p>
<p>By default, anonymous access to the web site is enabled. The above settings secure the web site by disabling anonymous access. Now, only authenticated users can view the employee data.</p>
<img width="815" height="384" src="img/aspnt33.gif" alt="Description of aspnt33.gif follows" title="Description of aspnt33.gif follows" /><br />
<a id="sthref520" href="img_text/aspnt33.htm">Description of the illustration aspnt33.gif</a><br />
<br /></li>
<li>
<p>The Security page now indicates that the web site denies anonymous users access to the site.</p>
<p>Click <span class="bold">Done</span>.</p>
<img width="910" height="386" src="img/aspnt34.gif" alt="Description of aspnt34.gif follows" title="Description of aspnt34.gif follows" /><br />
<a id="sthref521" href="img_text/aspnt34.htm">Description of the illustration aspnt34.gif</a><br />
<br /></li>
<li>
<p>Close the browser.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABGDGJG"></a>
<div class="sect1">
<h2 class="sect1">Testing Web Site Authentication<a id="sthref522"></a><a id="sthref523"></a><a id="sthref524"></a><a id="sthref525"></a></h2>
<p>Now that you have created a web user specific to this web site, the web site will allow this user access to the employee data and deny access to all other users, including anonymous users.</p>
<p>In this section, you will attempt to access the employee data as an anonymous user, as an unauthorized user, as an authorized user with an incorrect password, and finally as an authorized user with the correct password. Only in the last scenario will the web site grant access to the employee data.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Five or more consecutive invalid passwords entered for an ASP.NET provider user within a ten minute period will lock the account to prevent unauthorized users from gaining access through password guessing. Oracle Membership Provider sets these security measures through the following properties, which you can modify in the <code>machine.config</code> file or <code>web.config</code> files: <code>MaxInvalidPasswordAttempts</code> (default: 5 attempts) and <code>PasswordAttemptWindow</code> (default: 10 minutes).
<p>If the account is locked, then you can unlock the user by calling the <code>UnlockUser</code> method.</p>
</div>
<ol>
<li>
<p>From the <span class="bold">Debug</span> menu, select <span class="bold">Start Without Debugging</span>, and when the login web page appears, change the URL to end with <code>Default.aspx</code> rather than <code>login.aspx</code> and press the enter key.</p>
<img width="390" height="173" src="img/aspnt39.gif" alt="Description of aspnt39.gif follows" title="Description of aspnt39.gif follows" /><br />
<a id="sthref526" href="img_text/aspnt39.htm">Description of the illustration aspnt39.gif</a><br />
<br />
<p>You are denied access and redirected back to the login page. This shows that anonymous users cannot browse the web site; only users with credentials have access.</p>
<img width="516" height="175" src="img/aspnt40.gif" alt="Description of aspnt40.gif follows" title="Description of aspnt40.gif follows" /><br />
<a id="sthref527" href="img_text/aspnt40.htm">Description of the illustration aspnt40.gif</a><br />
<br />
<p>If you are experimenting with the authentication mechanism, you will likely repeat this step or try variations. For each variation, either start a new browser or clear the browser cache. Because browsers cache web pages, if you access <code>Default.aspx</code> again, you may see the cached version of this web page. This is not the intended behavior, rather the web page should undergo the ASP.NET provider authentication process, which is accomplished by using a new browser instance or clearing the browser cache.</p>
</li>
<li>
<p>Remove the text of the URL after <code>login.aspx</code>. This returns the URL back to the original state when you first accessed the site.</p>
<p>Enter the User Name Bob and a password that contains at least 7 characters, one of which is non-alphanumeric.</p>
<p>Click <span class="bold">Log In</span>.</p>
<img width="418" height="205" src="img/aspnt35.gif" alt="Description of aspnt35.gif follows" title="Description of aspnt35.gif follows" /><br />
<a id="sthref528" href="img_text/aspnt35.htm">Description of the illustration aspnt35.gif</a><br />
<br />
<p>The page reappears with the message "Your login attempt was not successful. Please try again."</p>
<p>Bob is not an authorized user. The web site correctly denies access to the user.</p>
</li>
<li>
<p>Enter the user name Anne, but with an incorrect password for that web site user.</p>
<p>Click <span class="bold">Log In</span>.</p>
<img width="462" height="217" src="img/aspnt38.gif" alt="Description of aspnt38.gif follows" title="Description of aspnt38.gif follows" /><br />
<a id="sthref529" href="img_text/aspnt38.htm">Description of the illustration aspnt38.gif</a><br />
<br />
<p>As the screen shot indicates, the user is denied access, demonstrating that the control could not verify this user's credentials with those stored by the Oracle Membership Provider.</p>
</li>
<li>
<p>Enter the correct password for the web site user.</p>
<p>Click <span class="bold">Log In</span>.</p>
<p>The employee data appears. This demonstrates that only authorized users can access the data. Thus, Oracle Providers for ASP.NET provided web site security in a very simple manner.</p>
</li>
</ol>
<p>You have now built a data-driven ASP.NET web application. It performs authentication and retrieves employee data from the database.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1159">
<tr>
<td class="cellalignment1166">
<table class="cellalignment1164">
<tr>
<td class="cellalignment1163"><a href="procedures_plsql.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1163"><a href="procedures_dot_net.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1168">
<table class="cellalignment1162">
<tr>
<td class="cellalignment1163"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1163"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1163"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1163"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1163"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1163"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
