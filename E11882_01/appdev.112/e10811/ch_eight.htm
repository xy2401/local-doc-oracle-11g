<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Building Global Applications</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="dcterms.created" content="2009-08-03T6:35:46Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + PHP Developer's Guide" />
<meta name="dcterms.identifier" content="E10811-01" />
<meta name="dcterms.isVersionOf" content="TDPPH" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="ch_seven.htm" title="Previous" type="text/html" />
<link rel="Next" href="index.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10811.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/12</span> <!-- End Header --><a id="sthref690"></a>
<h1 class="chapter"><span class="secnum">8</span> Building Global Applications</h1>
<p>This chapter discusses <a id="sthref691"></a><a id="sthref692"></a><a id="sthref693"></a>global application development in a PHP and Oracle Database environment. It addresses the basic tasks associated with developing and deploying global Internet applications, including developing locale awareness, constructing HTML content in the user-preferred language, and presenting data following the cultural conventions of the locale of the user.</p>
<p>Building a global Internet application that supports different locales requires good development practices. A locale refers to a national language and the region in which the language is spoken. The application itself must be aware of the locale preference of the user and be able to present content following the cultural conventions expected by the user. It is important to present data with appropriate locale characteristics, such as the correct date and number formats. Oracle Database is fully internationalized to provide a global platform for developing and deploying global applications.</p>
<p>This chapter has the following topics:</p>
<ul>
<li>
<p><a href="#CHDBFAJB">Establishing the Environment Between Oracle and PHP</a></p>
</li>
<li>
<p><a href="#CHDJCIDB">Manipulating Strings</a></p>
</li>
<li>
<p><a href="#CHDGDEJJ">Determining the Locale of the User</a></p>
</li>
<li>
<p><a href="#CHDGFDCD">Developing Locale Awareness</a></p>
</li>
<li>
<p><a href="#CHDGFIJH">Encoding HTML Pages</a></p>
</li>
<li>
<p><a href="#CHDJAJJD">Organizing the Content of HTML Pages for Translation</a></p>
</li>
<li>
<p><a href="#CHDBIHEH">Presenting Data Using Conventions Expected by the User</a></p>
</li>
</ul>
<a id="CHDBFAJB"></a>
<div class="sect1">
<h2 class="sect1">Establishing the Environment Between Oracle and PHP</h2>
<p>Correctly setting up the <a id="sthref694"></a><a id="sthref695"></a><a id="sthref696"></a>connectivity between the PHP engine and the Oracle database is first step in building a global application, it guarantees data integrity across all tiers. Most internet based standards support Unicode as a character encoding, in this chapter we will focus on using Unicode as the character set for data exchange.</p>
<p>PHP uses the OCI8 extension, and rules that apply to OCI also apply to PHP. Oracle locale behavior (including the client character set used in OCI applications) is defined by the <a id="sthref697"></a><a id="sthref698"></a><code>NLS_LANG</code> environment variable. This environment variable has the form:</p>
<pre>
     &lt;language&gt;_&lt;territory&gt;.&lt;character set&gt;
</pre>
<p>For example, for a German user in Germany running an application in Unicode, <code>NLS_LANG</code> should be set to</p>
<pre>
GERMAN_GERMANY.AL32UTF8
</pre>
<p>The language and territory settings control Oracle behaviors such as the Oracle date format, error message language, and the rules used for sort order. The character set <a id="sthref699"></a><a id="sthref700"></a>AL32UTF8 is the Oracle name for <a id="sthref701"></a><a id="sthref702"></a>UTF-8.</p>
<p>For information on the <code>NLS_LANG</code> environment variable, see the Oracle Database installation guides.</p>
<p>When PHP is installed on Apache, you can set <code>NLS_LANG</code> in <code>/etc/profile</code>:</p>
<pre>
    export NLS_LANG GERMAN_GERMANY.AL32UTF8
</pre>
<p>If PHP is installed on Oracle HTTP Server, you must set <code>NLS_LANG</code> as an environment variable in <code>$ORACLE_HOME/opmn/conf/opmn.xml</code>:</p>
<pre>
   &lt;ias-component id="HTTP_Server"&gt;
     &lt;process-type id="HTTP_Server" module-id="OHS"&gt;
       &lt;environment&gt;
         &lt;variable id="PERL5LIB"
          value="D:\oracle\1012J2EE\Apache\Apache\mod_perl\site\5.6.1\lib"/&gt;
         &lt;variable id="PHPRC" value="D:\oracle\1012J2EE\Apache\Apache\conf"/&gt;
         &lt;variable id="NLS_LANG" value="german_germany.al32utf8"/&gt;
       &lt;/environment&gt;
       &lt;module-data&gt;
         &lt;category id="start-parameters"&gt;
           &lt;data id="start-mode" value="ssl-disabled"/&gt;
         &lt;/category&gt;
       &lt;/module-data&gt;
       &lt;process-set id="HTTP_Server" numprocs="1"/&gt;
     &lt;/process-type&gt;
   &lt;/ias-component&gt;
</pre>
<p>You must restart the Web listener to implement the change.</p>
</div>
<!-- class="sect1" -->
<a id="CHDJCIDB"></a>
<div class="sect1">
<h2 class="sect1">Manipulating Strings</h2>
<p>PHP was <a id="sthref703"></a><a id="sthref704"></a><a id="sthref705"></a>designed to work with the ISO-8859-1 character set. To handle other character sets, specifically multibyte character sets, a set of "MultiByte String Functions" is available. To enable these functions, you must enable the mbstring extension.</p>
<p>Your application code should use functions such as <code>mb_strlen()</code> to calculate the number of characters in strings. This may return different values than <code>strlen()</code>, which returns the number of bytes in a string.</p>
<p>Once you have enabled the mbstring extension and restarted the Web server, several configuration options become available. You can change the behavior of the standard PHP string functions by setting <code>mbstring.func_overload</code> to one of the "Overload" settings.</p>
<p>For more information, see the PHP mbstring reference manual at</p>
<p><code><a href="http://www.php.net/mbstring">http://www.php.net/mbstring</a></code></p>
</div>
<!-- class="sect1" -->
<a id="CHDGDEJJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Determining the Locale of the User</h2>
<p>In a global environment, your <a id="sthref706"></a><a id="sthref707"></a><a id="sthref708"></a>application should accommodate users with different locale preferences. Once it has determined the preferred locale of the user, the application should construct HTML content in the language of the locale and follow the cultural conventions implied by the locale.</p>
<p>A common method to determine the locale of a user is from the default ISO locale setting of the browser. Usually a browser sends its locale preference setting to the HTTP server with the Accept Language HTTP header. If the Accept Language header is NULL, then there is no locale preference information available, and the application should fall back to a predefined default locale.</p>
<p>The following PHP code retrieves the ISO locale from the Accept-Language HTTP header through the <code>$_SERVER</code> Server variable.</p>
<pre>
$s = $_SERVER["HTTP_ACCEPT_LANGUAGE"]
</pre></div>
<!-- class="sect1" -->
<a id="CHDGFDCD"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Developing Locale Awareness</h2>
<p>Once the <a id="sthref709"></a><a id="sthref710"></a>locale preference of the user has been determined, the application can call locale-sensitive functions, such as date, time, and monetary formatting to format the HTML pages according to the cultural conventions of the locale.</p>
<p>When you write global applications implemented in different programming environments, you should enable the synchronization of user locale settings between the different environments. For example, PHP applications that call PL/SQL procedures should map the ISO locales to the corresponding <code><a id="sthref711"></a><a id="sthref712"></a>NLS_LANGUAGE</code> and <a id="sthref713"></a><a id="sthref714"></a><code>NLS_TERRITORY</code> values and change the parameter values to match the locale of the user before calling the PL/SQL procedures. The <a id="sthref715"></a><a id="sthref716"></a>PL/SQL UTL_I18N package contains mapping functions that can map between ISO and Oracle locales.</p>
<p><a href="#CHDEIGAH">Table 8-1</a> shows how some commonly used locales are defined in ISO and Oracle environments.</p>
<div class="tblformal">
<p class="titleintable"><a id="sthref717"></a><a id="CHDEIGAH"></a>Table 8-1 Locale Representations in ISO, SQL, and PL/SQL Programming Environments</p>
<table class="cellalignment953" title="Locale Representations in ISO, SQL, and PL/SQL Programming Environments" summary="4 column 13 row table showing the locale, locale id, NLS_Language and NLS_territory values for ISO, SQL and PL/SQL environments." dir="ltr">
<thead>
<tr class="cellalignment944">
<th class="cellalignment954" id="r1c1-t2">Locale</th>
<th class="cellalignment954" id="r1c2-t2">Locale ID</th>
<th class="cellalignment954" id="r1c3-t2">NLS_LANGUAGE</th>
<th class="cellalignment954" id="r1c4-t2">NLS_TERRITORY</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment944">
<td class="cellalignment950" id="r2c1-t2" headers="r1c1-t2">
<p>Chinese (P.R.C.)</p>
</td>
<td class="cellalignment950" headers="r2c1-t2 r1c2-t2">
<p>zh-CN</p>
</td>
<td class="cellalignment950" headers="r2c1-t2 r1c3-t2">
<p>SIMPLIFIED CHINESE</p>
</td>
<td class="cellalignment950" headers="r2c1-t2 r1c4-t2">
<p>CHINA</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r3c1-t2" headers="r1c1-t2">
<p>Chinese (Taiwan)</p>
</td>
<td class="cellalignment950" headers="r3c1-t2 r1c2-t2">
<p>zh-TW</p>
</td>
<td class="cellalignment950" headers="r3c1-t2 r1c3-t2">
<p>TRADITIONAL CHINESE</p>
</td>
<td class="cellalignment950" headers="r3c1-t2 r1c4-t2">
<p>TAIWAN</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r4c1-t2" headers="r1c1-t2">
<p>English (U.S.A)</p>
</td>
<td class="cellalignment950" headers="r4c1-t2 r1c2-t2">
<p>en-US</p>
</td>
<td class="cellalignment950" headers="r4c1-t2 r1c3-t2">
<p>AMERICAN</p>
</td>
<td class="cellalignment950" headers="r4c1-t2 r1c4-t2">
<p>AMERICA</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r5c1-t2" headers="r1c1-t2">
<p>English (United Kingdom)</p>
</td>
<td class="cellalignment950" headers="r5c1-t2 r1c2-t2">
<p>en-GB</p>
</td>
<td class="cellalignment950" headers="r5c1-t2 r1c3-t2">
<p>ENGLISH</p>
</td>
<td class="cellalignment950" headers="r5c1-t2 r1c4-t2">
<p>UNITED KINGDOM</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r6c1-t2" headers="r1c1-t2">
<p>French (Canada)</p>
</td>
<td class="cellalignment950" headers="r6c1-t2 r1c2-t2">
<p>fr-CA</p>
</td>
<td class="cellalignment950" headers="r6c1-t2 r1c3-t2">
<p>CANADIAN FRENCH</p>
</td>
<td class="cellalignment950" headers="r6c1-t2 r1c4-t2">
<p>CANADA</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r7c1-t2" headers="r1c1-t2">
<p>French (France)</p>
</td>
<td class="cellalignment950" headers="r7c1-t2 r1c2-t2">
<p>fr-FR</p>
</td>
<td class="cellalignment950" headers="r7c1-t2 r1c3-t2">
<p>FRENCH</p>
</td>
<td class="cellalignment950" headers="r7c1-t2 r1c4-t2">
<p>FRANCE</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r8c1-t2" headers="r1c1-t2">
<p>German</p>
</td>
<td class="cellalignment950" headers="r8c1-t2 r1c2-t2">
<p>de</p>
</td>
<td class="cellalignment950" headers="r8c1-t2 r1c3-t2">
<p>GERMAN</p>
</td>
<td class="cellalignment950" headers="r8c1-t2 r1c4-t2">
<p>GERMANY</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r9c1-t2" headers="r1c1-t2">
<p>Italian</p>
</td>
<td class="cellalignment950" headers="r9c1-t2 r1c2-t2">
<p>it</p>
</td>
<td class="cellalignment950" headers="r9c1-t2 r1c3-t2">
<p>ITALIAN</p>
</td>
<td class="cellalignment950" headers="r9c1-t2 r1c4-t2">
<p>ITALY</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r10c1-t2" headers="r1c1-t2">
<p>Japanese</p>
</td>
<td class="cellalignment950" headers="r10c1-t2 r1c2-t2">
<p>ja</p>
</td>
<td class="cellalignment950" headers="r10c1-t2 r1c3-t2">
<p>JAPANESE</p>
</td>
<td class="cellalignment950" headers="r10c1-t2 r1c4-t2">
<p>JAPAN</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r11c1-t2" headers="r1c1-t2">
<p>Korean</p>
</td>
<td class="cellalignment950" headers="r11c1-t2 r1c2-t2">
<p>ko</p>
</td>
<td class="cellalignment950" headers="r11c1-t2 r1c3-t2">
<p>KOREAN</p>
</td>
<td class="cellalignment950" headers="r11c1-t2 r1c4-t2">
<p>KOREA</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r12c1-t2" headers="r1c1-t2">
<p>Portuguese (Brazil)</p>
</td>
<td class="cellalignment950" headers="r12c1-t2 r1c2-t2">
<p>pt-BR</p>
</td>
<td class="cellalignment950" headers="r12c1-t2 r1c3-t2">
<p>BRAZILIAN PORTUGUESE</p>
</td>
<td class="cellalignment950" headers="r12c1-t2 r1c4-t2">
<p>BRAZIL</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r13c1-t2" headers="r1c1-t2">
<p>Portuguese</p>
</td>
<td class="cellalignment950" headers="r13c1-t2 r1c2-t2">
<p>pt</p>
</td>
<td class="cellalignment950" headers="r13c1-t2 r1c3-t2">
<p>PORTUGUESE</p>
</td>
<td class="cellalignment950" headers="r13c1-t2 r1c4-t2">
<p>PORTUGAL</p>
</td>
</tr>
<tr class="cellalignment944">
<td class="cellalignment950" id="r14c1-t2" headers="r1c1-t2">
<p>Spanish</p>
</td>
<td class="cellalignment950" headers="r14c1-t2 r1c2-t2">
<p>es</p>
</td>
<td class="cellalignment950" headers="r14c1-t2 r1c3-t2">
<p>SPANISH</p>
</td>
<td class="cellalignment950" headers="r14c1-t2 r1c4-t2">
<p>SPAIN</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect1" -->
<a id="CHDGFIJH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Encoding HTML Pages</h2>
<p>The <a id="sthref718"></a><a id="sthref719"></a><a id="sthref720"></a><a id="sthref721"></a>encoding of an HTML page is important information for a browser and an Internet application. You can think of the page encoding as the character set used for the locale that an Internet application is serving. The browser must know about the page encoding so that it can use the correct fonts and character set mapping tables to display the HTML pages. Internet applications must know about the HTML page encoding so they can process input data from an HTML form.</p>
<p>Instead of using different native encodings for the different locales, Oracle recommends that you use UTF-8 (Unicode encoding) for all page encodings. This encoding not only simplifies the coding for global applications, but it also enables multilingual content on a single page.</p>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref722"></a>
<h3 class="sect2">Specifying the Page Encoding for HTML Pages</h3>
<p>You can specify the encoding of an HTML page either in the HTTP header, or in HTML page header.</p>
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref723"></a>
<h4 class="sect3">Specifying the Encoding in the HTTP Header</h4>
<p>To specify <a id="sthref724"></a><a id="sthref725"></a>HTML page encoding in the HTTP header, include the Content-Type HTTP header in the HTTP specification. It specifies the content type and character set. The Content-Type HTTP header has the following form:</p>
<pre>
Content-Type: text/html; charset=utf-8
</pre>
<p>The <a id="sthref726"></a><a id="sthref727"></a>charset parameter specifies the encoding for the HTML page. The possible values for the charset parameter are the IANA names for the character encodings that the browser supports.</p>
</div>
<!-- class="sect3" -->
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref728"></a>
<h4 class="sect3">Specifying the Encoding in the HTML Page Header</h4>
<p>Use this method primarily for static <a id="sthref729"></a><a id="sthref730"></a>HTML pages. To specify HTML page encoding in the HTML page header, specify the character encoding in the HTML header as follows:</p>
<pre>
&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"&gt;
</pre>
<p>The charset parameter specifies the encoding for the HTML page. As with the Content-Type HTTP Header, the possible values for the charset parameter are the IANA names for the character encodings that the browser supports.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref731"></a>
<h3 class="sect2">Specifying the Page Encoding in PHP</h3>
<p>You can specify the encoding of an <a id="sthref732"></a><a id="sthref733"></a>HTML page in the Content-Type HTTP header by setting the PHP configuration variable as follows:</p>
<pre>
default_charset = UTF-8
</pre>
<p>This setting does not imply any conversion of outgoing pages. Your application must ensure that the server-generated pages are encoded in UTF-8.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDJAJJD"></a>
<div class="sect1">
<h2 class="sect1">Organizing the Content of HTML Pages for Translation</h2>
<p>Making the <a id="sthref734"></a><a id="sthref735"></a><a id="sthref736"></a>user interface available in the local language of the user is a fundamental task in globalizing an application. Translatable sources for the content of an HTML page belong to the following categories:</p>
<ul>
<li>
<p>Text strings included in the application code</p>
</li>
<li>
<p>Static HTML files, images files, and template files such as CSS</p>
</li>
<li>
<p>Dynamic data stored in the database</p>
</li>
</ul>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref737"></a>
<h3 class="sect2">Strings in PHP</h3>
<p>You should <a id="sthref738"></a><a id="sthref739"></a><a id="sthref740"></a>externalize translatable strings within your PHP application logic, so that the text is readily available for translation. These text messages can be stored in flat files or database tables depending on the type and the volume of the data being translated.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref741"></a>
<h3 class="sect2">Static Files</h3>
<p>Static <a id="sthref742"></a><a id="sthref743"></a><a id="sthref744"></a>files such as HTML and GIF files are readily translatable. When these files are translated, they should be translated into the corresponding language with UTF-8 as the file encoding. To differentiate the languages of the translated files, stage the static files of different languages in different directories or with different file names.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref745"></a>
<h3 class="sect2">Data from the Database</h3>
<p>Dynamic <a id="sthref746"></a><a id="sthref747"></a>information such as product names and product descriptions is typically stored in the database. To differentiate various translations, the database schema holding this information should include a column to indicate the language. To select the desired language, you must include a WHERE clause in your query.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBIHEH"></a>
<div class="sect1">
<h2 class="sect1">Presenting Data Using Conventions Expected by the User</h2>
<p>Data in the <a id="sthref748"></a><a id="sthref749"></a><a id="sthref750"></a><a id="sthref751"></a>application must be presented in a way that conforms to the expectation of the user. Otherwise, the meaning of the data can be misinterpreted. For example, the date '12/11/05' implies '11th December 2005' in the United States, whereas in the United Kingdom it means '12th November 2005'. Similar confusion exists for number and monetary formats of the users. For example, the symbol '.' is a decimal separator in the United States; in Germany this symbol is a thousand separator.</p>
<p>Different languages have their own sorting rules. Some languages are collated according to the letter sequence in the alphabet, some according to the number of stroke counts in the letter, and some languages are ordered by the pronunciation of the words. Presenting data not sorted in the linguistic sequence that your users are accustomed to can make searching for information difficult and time consuming.</p>
<p>Depending on the application logic and the volume of data retrieved from the database, it may be more appropriate to format the data at the database level rather than at the application level. Oracle Database offers many features that help to refine the presentation of data when the locale preference of the user is known. The following sections provide examples of locale-sensitive operations in SQL.</p>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref752"></a>
<h3 class="sect2">Oracle Date Formats</h3>
<p>The three different <a id="sthref753"></a><a id="sthref754"></a><a id="sthref755"></a>date presentation formats in Oracle Database are standard, short, and long dates. The following examples illustrate the differences between the short date and long date formats for both the United States and Germany.</p>
<pre>
SQL&gt; alter session set nls_territory=america nls_language=american;

Session altered.


SQL&gt; select employee_id EmpID,
  2  substr(first_name,1,1)||'.'||last_name "EmpName",
  3  to_char(hire_date,'DS') "Hiredate",
  4  to_char(hire_date,'DL') "Long HireDate"
  5  from employees
  6* where employee_id &lt;105;

     EMPID EmpName                     Hiredate   Long HireDate
---------- --------------------------- ---------- -----------------------------
       100 S.King                      06/17/1987 Wednesday, June 17, 1987
       101 N.Kochhar                   09/21/1989 Thursday, September 21, 1989
       102 L.De Haan                   01/13/1993 Wednesday, January 13, 1993
       103 A.Hunold                    01/03/1990 Wednesday, January 3, 1990
       104 B.Ernst                     05/21/1991 Tuesday, May 21, 1991
</pre>
<pre>
SQL&gt; alter session set nls_territory=germany nls_language=german;

Session altered.

SQL&gt; select employee_id EmpID,
  2  substr(first_name,1,1)||'.'||last_name "EmpName",
  3  to_char(hire_date,'DS') "Hiredate",
  4  to_char(hire_date,'DL') "Long HireDate"
  5  from employees
  6* where employee_id &lt;105;

     EMPID EmpName                     Hiredate Long HireDate
---------- --------------------------- -------- ------------------------------
       100 S.King                      17.06.87 Mittwoch, 17. Juni 1987
       101 N.Kochhar                   21.09.89 Donnerstag, 21. September 1989
       102 L.De Haan                   13.01.93 Mittwoch, 13. Januar 1993
       103 A.Hunold                    03.01.90 Mittwoch, 3. Januar 1990
       104 B.Ernst                     21.05.91 Dienstag, 21. Mai 1991
</pre></div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref756"></a>
<h3 class="sect2">Oracle Number Formats</h3>
<p>The following <a id="sthref757"></a><a id="sthref758"></a><a id="sthref759"></a>examples illustrate the differences in the decimal character and group separator between the United States and Germany.</p>
<pre>
SQL&gt; alter session set nls_territory=america;

Session altered.

SQL&gt; select employee_id EmpID,
  2  substr(first_name,1,1)||'.'||last_name "EmpName",
  3  to_char(salary, '99G999D99') "Salary"
  4  from employees
  5* where employee_id &lt;105

     EMPID EmpName                     Salary
---------- --------------------------- ----------
       100 S.King                       24,000.00
       101 N.Kochhar                    17,000.00
       102 L.De Haan                    17,000.00
       103 A.Hunold                      9,000.00
       104 B.Ernst                       6,000.00

SQL&gt; alter session set nls_territory=germany;

Session altered.

SQL&gt; select employee_id EmpID,
  2  substr(first_name,1,1)||'.'||last_name "EmpName",
  3  to_char(salary, '99G999D99') "Salary"
  4  from employees
  5* where employee_id &lt;105

     EMPID EmpName                     Salary
---------- --------------------------- ----------
       100 S.King                       24.000,00
       101 N.Kochhar                    17.000,00
       102 L.De Haan                    17.000,00
       103 A.Hunold                      9.000,00
       104 B.Ernst                       6.000,00
</pre></div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref760"></a>
<h3 class="sect2">Oracle Linguistic Sorts</h3>
<p>Spain <a id="sthref761"></a><a id="sthref762"></a><a id="sthref763"></a>traditionally treats <span class="italic">ch</span>, <span class="italic">ll</span> as well as <span class="italic">&ntilde;</span> as unique letters, ordered after <span class="italic">c</span>, <span class="italic">l</span> and <span class="italic">n</span> respectively. The following examples illustrate the effect of using a Spanish sort against the employee names Chen and Chung.</p>
<pre>
SQL&gt; alter session set nls_sort=binary;

Session altered.

SQL&gt; select employee_id EmpID,
  2         last_name "Last Name"
  3  from employees
  4  where last_name like 'C%'
  5* order by last_name

     EMPID Last Name
---------- -------------------------
       187 Cabrio
       148 Cambrault
       154 Cambrault
       110 Chen
       188 Chung
       119 Colmenares

6 rows selected.

SQL&gt; alter session set nls_sort=spanish_m;

Session altered.

SQL&gt; select employee_id EmpID,
  2         last_name "Last Name"
  3  from employees
  4  where last_name like 'C%'
  5* order by last_name

     EMPID Last Name
---------- -------------------------
       187 Cabrio
       148 Cambrault
       154 Cambrault
       119 Colmenares
       110 Chen
       188 Chung

6 rows selected.
</pre></div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref764"></a>
<h3 class="sect2">Oracle Error Messages</h3>
<p>The <code>NLS_LANGUAGE</code> <a id="sthref765"></a><a id="sthref766"></a><a id="sthref767"></a><a id="sthref768"></a>parameter also controls the language of the database error messages being returned from the database. Setting this parameter prior to submitting your SQL statement ensures that the language-specific database error messages will be returned to the application.</p>
<p>Consider the following server message:</p>
<pre>
ORA-00942: table or view does not exist
</pre>
<p>When the <code>NLS_LANGUAGE</code> parameter is set to French, the server message appears as follows:</p>
<pre>
ORA-00942: table ou vue inexistante
</pre>
<p>For more discussion of globalization support features in Oracle Database, see "Working in a Global Environment" in <span class="italic"><a class="olink TDDDG" href="../e10766/toc.htm">Oracle Database 2 Day Developer's Guide</a></span>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment943">
<tr>
<td class="cellalignment950">
<table class="cellalignment948">
<tr>
<td class="cellalignment947"><a href="ch_seven.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment947"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment952">
<table class="cellalignment946">
<tr>
<td class="cellalignment947"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment947"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment947"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment947"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment947"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment947"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
