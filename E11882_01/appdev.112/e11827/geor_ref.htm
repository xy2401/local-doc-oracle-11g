<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_GEOR Package Reference</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for the GeoRaster feature of Oracle Spatial and Graph, which lets you store, index, query, analyze, and deliver raster data (raster image and gridded data and its associated metadata)." />
<meta name="dcterms.created" content="2013-11-18T18:24:35Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial GeoRaster Developer's Guide" />
<meta name="dcterms.identifier" content="E11827-09" />
<meta name="dcterms.isVersionOf" content="GEORS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="geor_operations.htm" title="Previous" type="text/html" />
<link rel="Next" href="geor_admin_ref.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11827.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/15</span> <!-- End Header -->
<div id="GEORS400" class="chapter"><a id="CHEEAJHB"></a>
<h1 class="chapter"><span class="secnum">4</span> <a id="sthref325"></a>SDO_GEOR Package Reference</h1>
<p>The MDSYS.SDO_GEOR package contains subprograms (functions and procedures) for creating, modifying, and retrieving information about GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.</p>
<p>The subprograms are presented in alphabetical order in this chapter. They can be grouped into several logical categories, as explained in <a href="geor_intro.htm#CHDJCAEA">Section 1.12</a>. Many of the subprograms are also discussed in <a href="geor_operations.htm#CIHGCJJE">Chapter 3, "GeoRaster Operations"</a>.</p>
<p>Many examples in this chapter refer to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<p>All SDO_GEOR subprograms can work on GeoRaster objects defined in schemas other than the current connection schema.</p>
<div class="refentry"><a id="CHEGGHIC"></a>
<div id="GEORS1021" class="refsect1">
<h2 class="refsect1"><a id="sthref326"></a><a id="sthref327"></a><a id="sthref328"></a>SDO_GEOR.addNODATA</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref329"></a>Format</p>
<p class="synopsis">SDO_GEOR.addNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN NUMBER);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.addNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN SDO_RANGE_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref330"></a>Description</p>
<p>Adds one or more NODATA values or value ranges, to represent NODATA cells in one layer or all layers in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref331"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Layer number in the GeoRaster object. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>nodata</dt>
<dd>
<p>Either a single numeric value, or an array of numbers or number ranges. Any NODATA value range is inclusive at the lower bound and exclusive at the upper bound.</p>
<p>The SDO_RANGE_ARRAY type is described in <a href="geor_intro.htm#BABJCCBA">Section 1.9</a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref332"></a>Usage Notes</p>
<p>Some cells of a GeoRaster object may have no meaningful value assigned or collected. Such cells contain a NODATA value are thus called NODATA cells, which means that those cells are not semantically defined. The application is responsible for defining the meaning or significance of cells identified as NODATA cells. For more information about NODATA values and value ranges, see <a href="geor_intro.htm#BABJCCBA">Section 1.9</a>.</p>
<p>Any NODATA values or value ranges associated with the object layer apply to all sublayers. For an explanation of layers, the object layer, and sublayers, see <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>.</p>
<p>NODATA values must be in the valid cell value range. Both the lower bound and the upper bound of a NODATA value range must be valid cell values as specified by the cell depth. Because NODATA value ranges are exclusive at the upper bound, if you want to specify the maximum valid cell value as NODATA, you must specify the maximum valid cell value as a single numeric NODATA value.</p>
<p>This procedure associates NODATA values or value ranges with a raster layer incrementally. It removes duplicate values or value ranges and combines adjacent values or value ranges to form a compact representation in the metadata whenever feasible. However, a single numeric NODATA value that is equal to the upper bound of a NODATA value range will not be combined together with the value range because it is not always feasible to calculate the new exclusive upper bound.</p>
<p>To delete one or more NODATA values or value ranges, use the <a href="#CHEGCGHE">SDO_GEOR.deleteNODATA</a> procedure. To return the NODATA values for a GeoRaster object, use the <a href="#CHEIJCDB">SDO_GEOR.getNODATA</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref333"></a>Examples</p>
<p>The following example specifies that cells with values that are greater than or equal to 5 and less than 7, or that are equal to 9, are to be considered NODATA cells for the object layer (and thus all sublayers) of a specified GeoRaster object.</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=1 FOR UPDATE;
  SDO_GEOR.addNODATA(gr, 0, sdo_range_array(sdo_range(5,7), sdo_range(9,null)));
  UPDATE georaster_table SET georaster=gr WHERE georid=1;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECBDAD"></a>
<div id="GEORS1022" class="refsect1">
<h2 class="refsect1"><a id="sthref334"></a><a id="sthref335"></a><a id="sthref336"></a>SDO_GEOR.addSourceInfo</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref337"></a>Format</p>
<p class="synopsis">SDO_GEOR.addSourceInfo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceInfo IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref338"></a>Description</p>
<p>Adds to the source information for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref339"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>sourceInfo</dt>
<dd>
<p>String with source information. Cannot exceed 4096 characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref340"></a>Usage Notes</p>
<p>The specified <code>sourceInfo</code> string is added to the <code>&lt;sourceInfo&gt;</code> element in the metadata for the GeoRaster object (described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>). You can call this procedure as many times as needed to put multiple string values in the <code>&lt;sourceInfo&gt;</code> element or to add string values to any existing values.</p>
<p>If you want to replace any existing source information value or values, use the <a href="#CHEEADBI">SDO_GEOR.setSourceInfo</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref341"></a>Examples</p>
<p>The following example sets and adds some source information for a specified GeoRaster object, and then retrieves the information.</p>
<pre>
declare
 gr sdo_georaster;
begin
 select georaster into gr from georaster_table where georid=1 for update;
 sdo_geor.setSourceInfo(gr, 'Copyright (c) 2002, 2007, Oracle Corporation.');
 sdo_geor.addSourceInfo(gr, 'All rights reserved.');
 update georaster_table set georaster=gr where georid=1;
end;
/
 
select * from table(select sdo_geor.getSourceInfo(georaster) from georaster_table where id=1);
 
COLUMN_VALUE
--------------------------------------------------------------------------------
Copyright (c) 2002, 2007, Oracle Corporation.
All rights reserved.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="GEORS1023" class="refsect1"><a id="sthref342"></a>
<h2 class="refsect1"><a id="sthref343"></a><a id="sthref344"></a><a id="sthref345"></a>SDO_GEOR.calcCompressionRatio</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref346"></a>Format</p>
<p class="synopsis">SDO_GEOR.calcCompressionRatio(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref347"></a>Description</p>
<p>Returns the compression ratio of a specified GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref348"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref349"></a>Usage Notes</p>
<p>The compression ratio is the sum of the sizes of all raster blocks (including pyramids) in the uncompressed GeoRaster object divided by the sum of these sizes in the compressed form of the object. If the input GeoRaster object is not compressed, the compression ratio is 1 (that is, 1:1).</p>
<p>For a given original GeoRaster object, the greater the compression ratio, the smaller is the compressed GeoRaster object. For example, a compression ratio of 20 (that is, 20:1), the data is compressed to 5 percent of its original size.</p>
<p>For more information about GeoRaster compression, see <a href="geor_intro.htm#CHDBEEJI">Section 1.10</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref350"></a>Examples</p>
<p>The following example returns the compression type and compression ratio for the GeoRaster object in the GEORASTER column of table GEORASTER_TABLE where the GEORID column value is 1.</p>
<pre>
SELECT sdo_geor.getCompressionType(georaster) compType,
    sdo_geor.calcCompressionRatio(georaster) compRatio
  FROM georaster_table WHERE georid=1;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDDBE"></a>
<div id="GEORS1024" class="refsect1">
<h2 class="refsect1"><a id="sthref351"></a><a id="sthref352"></a>SDO_GEOR.changeCellValue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref353"></a>Format</p>
<p class="synopsis">SDO_GEOR.changeCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newCellValue IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.changeCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newCellValue IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref354"></a>Description</p>
<p>Changes the value of raster cells in a specified window of a GeoRaster object to a single new value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref355"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>window</dt>
<dd>
<p>Window in which to change the values of all cells to <code>newCellValue</code>. The data type can be SDO_NUMBER_ARRAY or SDO_GEOMETRY. If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, see the Usage Notes for SDO_SRID requirements and other information.</p>
</dd>
<dt>bandNumbers</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3).</p>
</dd>
<dt>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4).</p>
</dd>
<dt>newCellValue</dt>
<dd>
<p>The new cell value for each cell inside the window in the specified bands or layers. The value must be in the range designated by the <code>cellDepth</code> value for the GeoRaster object.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref356"></a>Usage Notes</p>
<p>Because this procedure overwrites data in the input GeoRaster object, you should make a copy of the original GeoRaster object and use this procedure on the copied object. After you are satisfied with the result of this procedure, you can discard the original GeoRaster object if you wish.</p>
<p>This procedure can be used to mask, or conceal, parts of an image. For example, you can change irrelevant parts of an image to a dull color before displaying the image, to help people to focus on the relevant parts.</p>
<p>If the <code>window</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:</p>
<ul>
<li>
<p>Null, to specify raster space</p>
</li>
<li>
<p>A value from the SRID column of the MDSYS.CS_SRS table</p>
<p>If the SDO_SRID values for the <code>window</code> parameter geometry and the model space are different, the <code>window</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
</li>
</ul>
<p>If the <code>window</code> parameter specifies a nonrectangular SDO_GEOMETRY object, this function calculates the MBR of the geometry and update the cells inside that MBR, including the cells on the boundary of the MBR.</p>
<p>If the <code>window</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>If <code>georaster</code> is a blank GeoRaster object and the whole area is updated, the result is a blank GeoRaster object with the <code>blankCellValue</code> value set to <code>newCellValue</code>.</p>
<p>If <code>georaster</code> is a blank GeoRaster object and it is only partially updated, the result is a nonblank GeoRaster object with the original <code>blankCellValue</code> and <code>newCellValue</code> values set according to the <code>window</code> parameter and the <code>bandNumbers</code> or <code>layerNumbers</code> parameter.</p>
<p>If <code>georaster</code> is a nonblank GeoRaster object, the result is a nonblank GeoRaster object, even if all cells are set to the <code>newCellValue</code> value.</p>
<p>If <code>georaster</code> is null, this procedure performs no operation. If <code>georaster</code> is invalid, an exception is raised.</p>
<p>If any pyramids are defined on the GeoRaster object, the corresponding cell values for the pyramids are updated.</p>
<p>To return the value of a single cell located anywhere in the GeoRaster object, use the <a href="#CHEIDJCI">SDO_GEOR.getCellValue</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref357"></a>Examples</p>
<p>The following example changes the value of all cells to 151 in a specified window in band number 1. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=110 FOR UPDATE;
  sdo_geor.changeCellValue(gr, sdo_number_array(100,67,134,113), '1', 151);
  UPDATE georaster_table SET georaster=gr WHERE georid=110;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJCEBJ"></a>
<div id="GEORS1025" class="refsect1">
<h2 class="refsect1"><a id="sthref358"></a><a id="sthref359"></a><a id="sthref360"></a><a id="sthref361"></a>SDO_GEOR.changeFormatCopy</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref362"></a>Format</p>
<p class="synopsis">SDO_GEOR.changeFormatCopy(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.changeFormatCopy(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref363"></a>Description</p>
<p>Makes a copy of an existing GeoRaster object using a different storage format (for example, changing the blocking, cell depth, or interleaving).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref364"></a>Parameters</p>
<dl>
<dt>inGeoRaster</dt>
<dd>
<p>The SDO_GEORASTER object whose format is to be copied.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>A number specifying the pyramid level of the source GeoRaster object.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>The SDO_GEORASTER object to hold the copy. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>inGeoRaster</code>.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref365"></a>Usage Notes</p>
<p>This procedure creates a new GeoRaster object that has the specified changes, based on the original GeoRaster object or a specified pyramid level of it. After you use this procedure, you can check to ensure that the desired changes were made in the copy, and then discard the original GeoRaster object if you wish.</p>
<p>If you use the format that does not include the <code>pyramidLevel</code> parameter, the copy is based on the original GeoRaster object (pyramidLevel=0).</p>
<p>If the copy is to be made from a pyramid of the original GeoRaster object (<code>pyramidLevel</code> &gt; 0), and if the original GeoRaster object is georeferenced, georeferencing information is generated for the resulting GeoRaster object only when the georeference is a valid polynomial transformation. The resulting object's row and column ultCoordinates are set to (0,0).</p>
<p>To compress or decompress a GeoRaster object, use the <code>compression</code> keyword in the <code>storageParam</code> parameter. (There is no separate GeoRaster function or procedure for compressing or decompressing a GeoRaster object.)</p>
<p>If <code>inGeoRaster</code> is null, this procedure performs no operation.</p>
<p>If <code>storageParam</code> is null, <code>inGeoRaster</code> is copied to <code>outGeoRaster</code>.</p>
<p>If <code>outGeoRaster</code> has any raster data, it is deleted before the copy operation.</p>
<p><code>inGeoRaster</code> and <code>outGeoRaster</code> must be different GeoRaster objects.</p>
<p>If pyramid data exists for <code>inGeoRaster</code>, any upper level pyramid data is copied to <code>outGeoRaster</code> unless the <code>storageParam</code> string contains <code>pyramid=FALSE</code>.</p>
<p>An exception is raised if one or more of the following are true:</p>
<ul>
<li>
<p><code>inGeoRaster</code> is invalid.</p>
</li>
<li>
<p><code>outGeoRaster</code> has not been initialized.</p>
</li>
<li>
<p>A raster data table for <code>outGeoRaster</code> does not exist and <code>outGeoRaster</code> is not a blank GeoRaster object.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref366"></a>Examples</p>
<p>The following example creates a GeoRaster object that is the same as the input object except that the block size is set to 2048 for both dimensions. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
    gr1 sdo_georaster;
    gr2 sdo_georaster;
BEGIN
    SELECT georaster INTO gr2 from georaster_table WHERE georid=11 FOR UPDATE;
    SELECT georaster INTO gr1 from georaster_table WHERE georid=1;
  
    sdo_geor.changeFormatCopy(gr1, 'blocksize=(2048,2048)', gr2);
    UPDATE georaster_table SET georaster=gr2 WHERE georid=11;
    COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEICAF"></a>
<div id="GEORS1026" class="refsect1">
<h2 class="refsect1"><a id="sthref367"></a><a id="sthref368"></a><a id="sthref369"></a>SDO_GEOR.copy</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref370"></a>Format</p>
<p class="synopsis">SDO_GEOR.copy(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref371"></a>Description</p>
<p>Makes a copy of an existing GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref372"></a>Parameters</p>
<dl>
<dt>inGeoRaster</dt>
<dd>
<p>GeoRaster object to be copied.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>GeoRaster object to hold the result of the copy operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>inGeoRaster</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref373"></a>Usage Notes</p>
<p>The <code>outGeoRaster</code> object is an exact copy of the <code>inGeoRaster</code> object. To make any changes to the output GeoRaster object during a copy operation, use the <a href="#CHEJCEBJ">SDO_GEOR.changeFormatCopy</a> procedure.</p>
<p>If <code>inGeoRaster</code> is null, this procedure performs no operation.</p>
<p>If <code>outGeoRaster</code> has any raster data, it is deleted before the copy operation.</p>
<p><code>inGeoRaster</code> and <code>outGeoRaster</code> must be different GeoRaster objects.</p>
<p>If pyramid data exists for <code>inGeoRaster</code>, the pyramid data is copied to <code>outGeoRaster</code>.</p>
<p>An exception is raised if one or more of the following are true:</p>
<ul>
<li>
<p><code>inGeoRaster</code> is invalid.</p>
</li>
<li>
<p><code>outGeoRaster</code> has not been initialized.</p>
</li>
<li>
<p>A raster data table for <code>outGeoRaster</code> does not exist and <code>outGeoRaster</code> is not a blank GeoRaster object.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref374"></a>Examples</p>
<p>The following example inserts an initialized GeoRaster object (<code>gr2</code>) into the GEORASTER column of table GEORASTER_TABLE, makes <code>gr2</code> an exact copy of another GeoRaster object (<code>gr1</code>), and updates the row that had been inserted using <code>gr2</code> for the GEORASTER column value. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
BEGIN
  INSERT INTO georaster_table VALUES (11, sdo_geor.init('RDT_11', 1))
    RETURNING georaster INTO gr2;
  SELECT georaster INTO gr1 from georaster_table WHERE georid=1;

  sdo_geor.copy(gr1, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=11;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFDECA"></a>
<div id="GEORS1027" class="refsect1">
<h2 class="refsect1"><a id="sthref375"></a><a id="sthref376"></a><a id="sthref377"></a>SDO_GEOR.createBlank</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref378"></a>Format</p>
<p class="synopsis">SDO_GEOR.createBlank(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterType IN INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ultCoord IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dimSizes IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellValue IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterDataTable IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterID IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEORASTER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref379"></a>Description</p>
<p>Creates a blank GeoRaster object, in which all cells have the same value; the object must then be registered in the xxx_SDO_GEOR_SYSDATA views (see the Usage Notes)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref380"></a>Parameters</p>
<dl>
<dt>rasterType</dt>
<dd>
<p>The 5-digit rasterType attribute value, as specified in <a href="geor_datatypes_metadata.htm#i1005614">Section 2.1.1</a>.</p>
</dd>
<dt>ultCoord</dt>
<dd>
<p>An array of the upper-left coordinate integer values for the GeoRaster object. The default value is <code>(0,0)</code> for a GeoRaster object without a band dimension, and <code>(0,0,0)</code> for a GeoRaster object with a band dimension. If this parameter is null, the default value of 0 is used for each dimension. If a value in the specified array is null, the default value of 0 is used for the corresponding dimension. The value for the band dimension must be 0, and you do not need to specify it. (If you specify an array of values, the number of values must not be less than the number of the spatial dimensions or more than the number of total dimensions.)</p>
</dd>
<dt>dimSizes</dt>
<dd>
<p>The number of cells along each dimension. The number of values in the array must be equal to the total number of dimensions, and the size of each dimension must be explicitly specified. The row and column dimension sizes must be greater than 1.</p>
</dd>
<dt>cellValue</dt>
<dd>
<p>The cell value for all raster cells in the created GeoRaster object. Must be from 0 to 255, because the cell depth of the created GeoRaster object is <code>8BIT_UNSIGNED</code>.</p>
</dd>
<dt>rasterDataTable</dt>
<dd>
<p>Name of the object table of type SDO_RASTER that stores the cell data blocks. Must not contain spaces, period separators, or mixed-case letters in a quoted string; the name is always converted to uppercase when stored in an SDO_GEORASTER object. The RDT should be in the same schema as its associated GeoRaster table. If you do not specify this parameter, GeoRaster generates a unique table name to be used for the raster data table. If you specify this parameter and the table already exists but is not an object table of type SDO_RASTER, an exception is raised.</p>
</dd>
<dt>rasterID</dt>
<dd>
<p>Number that uniquely identifies the cell blocks of this GeoRaster object in the raster data table. If you do not specify this parameter, a unique sequence number is generated for the ID.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref381"></a>Usage Notes</p>
<p>After creating the blank GeoRaster object and before performing any operations on the object, you must register it in the xxx_SDO_GEOR_SYSDATA views by inserting the empty GeoRaster object into a GeoRaster table. (The xxx_SDO_GEOR_SYSDATA views are described in <a href="geor_datatypes_metadata.htm#BGBEBHDD">Section 2.4</a>. GeoRaster operations are described in <a href="geor_operations.htm#CIHGCJJE">Chapter 3</a>.)</p>
<p>The created GeoRaster object has no spatial reference information; therefore, its spatial extent geometry has a null SRID (coordinate system) value. The spatial extent geometry reflects the <code>ultCoord</code> and <code>dimSizes</code> values.</p>
<p>This function does not require that the specified raster data table exist. However, the table must exist before any raster data can be inserted into it.</p>
<p>Although the cell depth of the created GeoRaster object is <code>8BIT_UNSIGNED</code>, you can change the cell depth after you create the blank GeoRaster object by calling the <a href="#CHEJCEBJ">SDO_GEOR.changeFormatCopy</a> procedure. You can then call the <a href="#CHEICEFC">SDO_GEOR.setBlankCellValue</a> procedure to reset the cell value in a different range.</p>
<p>For guidelines that apply to the SDO_GEOR.createBlank and <a href="#CHEBCACB">SDO_GEOR.init</a> functions when a table has multiple GeoRaster object columns, see the Usage Notes for the <a href="#CHEBCACB">SDO_GEOR.init</a> function.</p>
<p>An exception is raised if any value for an input parameter is invalid.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref382"></a>Examples</p>
<p>The following example inserts a row containing a blank GeoRaster object into the table. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
INSERT INTO georaster_table (georid, georaster) VALUES (
  1,
  sdo_geor.createBlank(20001, SDO_NUMBER_ARRAY(0,0),
                       SDO_NUMBER_ARRAY(1024,1024), 255, 'RDT_1')
);
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEDFBD"></a>
<div id="GEORS1028" class="refsect1">
<h2 class="refsect1"><a id="sthref383"></a><a id="sthref384"></a><a id="sthref385"></a>SDO_GEOR.createTemplate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref386"></a>Format</p>
<p class="synopsis">SDO_GEOR.createTemplate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterType IN INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterSpec IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maskLayers IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRDTEntry IN VARCHAR2 DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) ;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref387"></a>Description</p>
<p>Populates a GeoRaster object with metadata of a general pattern, and optionally inserts entries with empty raster blocks into its raster data table.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref388"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>The GeoRaster object to be updated.</p>
</dd>
<dt>rasterType</dt>
<dd>
<p>The 5-digit rasterType attribute value, as specified in <a href="geor_datatypes_metadata.htm#i1005614">Section 2.1.1</a>.</p>
</dd>
<dt>rasterSpec</dt>
<dd>
<p>A string with raster specification parameters, as explained in the Usage Notes.</p>
</dd>
<dt>maskLayers</dt>
<dd>
<p>A string identifying the logical layer numbers on which there are associated bitmap masks. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4).</p>
</dd>
<dt>initRDTEntry</dt>
<dd>
<p>The string <code>TRUE</code> causes the raster data table to be populated; the string <code>FALSE</code> causes the raster data table not to be populated. If you do not specify this parameter, the raster data table is not populated.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref389"></a>Usage Notes</p>
<p>This function populates a GeoRaster object with metadata of a general pattern and optionally inserts proper rows (with empty raster blocks) into its raster data table. If the raster data table is to be populated, the raster data table must exist and the GeoRaster object must have been registered in the GeoRaster SYSDATA table.</p>
<p>In general, only use this procedure with an empty GeoRaster object to populate its XML metadata and raster blocks. If you use an existing (good) GeoRaster object, the GeoRaster object will be replaced with the new template object upon update.</p>
<p>The <code>rasterSpec</code> parameter must be a quoted string that contains one or more keyword-value pairs. The following keyword are supported for this parameter:</p>
<ul>
<li>
<p><code>blocking</code> (for example, <code>blocking=TRUE</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>blocksize</code> (for example, <code>blocksize=(128,128,3)</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>cellDepth</code> (for example, <code>cellDepth=8BIT_S</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>compression</code> (for example, <code>compression=JPEG-B</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>dimSize</code> (for example, <code>dimSize=(256,256,3)</code>): Specifies the row, column, and band dimension sizes. This keyword must be specified and must be consistent with the <code>rasterType</code> parameter.</p>
</li>
<li>
<p><code>interleaving</code> (for example, <code>interleaving=BIP</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>quality</code> (for example, <code>quality=75</code>). For an explanation of this keyword, see <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a>.</p>
</li>
<li>
<p><code>resampling</code> (for example, <code>resampling=NN</code>): Specifies the resampling method. Must be one of the following: <code>NN</code> (value of the nearest neighbor cell in the original GeoRaster object), <code>BILINEAR</code> (distance-weighted average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE4</code> (simple average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE16</code> (simple average of the 16 nearest cells in the original GeoRaster object), <code>CUBIC</code> (cubic convolution of the 16 nearest cells in the original GeoRaster object). This keyword is ignored if <code>rLevel</code> is not set.</p>
</li>
<li>
<p><code>rLevel</code> (for example, <code>rLevel=2</code>): Specifies the maximum pyramid reduction level. Must be a positive integer. If you specify this keyword, the pyramid type is set to <code>DECREASE</code> in the metadata; otherwise the pyramid type is set to <code>NONE</code>.</p>
</li>
<li>
<p><code>ultCoord</code> (for example, <code>ultCoord=(0,0,0)</code>): Specifies the upper-left coordinate integer values for the GeoRaster object. The default value is 0 for all the dimensions. The value for the band dimension must be 0.</p>
</li>
</ul>
<p>(Note that the following keywords in <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1, "Storage Parameters"</a> are <span class="bolditalic">not</span> supported for the <code>rasterSpec</code> parameter: <code>bitmapmask</code> and <code>pyramid</code>.)</p>
<p>For more information about using this function in developing GeoRaster applications, see <a href="geor_operations.htm#CHDIGJDE">Section 3.17</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref390"></a>Examples</p>
<p>The following example populates a GeoRaster object with metadata and initial raster data table rows.</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (1, sdo_geor.init('RDT_1'))
    RETURNING georaster into gr;
  sdo_geor.createTemplate(gr, 21001,
                       'dimSize=(128,128,3) blocking=false rlevel=2',
                       null, 'TRUE');
  UPDATE georaster_table set georaster=gr where georid=1;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGIJJG"></a>
<div id="GEORS1196" class="refsect1">
<h2 class="refsect1"><a id="sthref391"></a><a id="sthref392"></a>SDO_GEOR.deleteControlPoint</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref393"></a>Format</p>
<p class="synopsis">SDO_GEOR.deleteControlPoint (</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPointID IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref394"></a>Description</p>
<p>Deletes a ground control point (GCP) that has the specified control point ID value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref395"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>controlPointID</dt>
<dd>
<p>Control point ID for <code>inGeoraster</code>. Must be a string not more than 32 characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref396"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>If the controlPointID is null, empty or not found in the existing GCPs stored in the GeoRaster object metadata, an exception is raised. If a GCP with the specified point ID is found, that GCP is deleted from the georeferencing model.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref397"></a>Examples</p>
<p>The following example deletes the GCP that has the ID value 23 in a specified GeoRaster object.</p>
<pre>
DECLARE
   gr1  sdo_georaster;
BEGIN
   SELECT georaster INTO gr1 from herman.georaster_table WHERE georid=10 FOR UPDATE;
   sdo_geor.deleteControlPoint(gr1, '23');
   UPDATE georaster_table SET georaster=gr1 WHERE georid=10;
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGCGHE"></a>
<div id="GEORS1029" class="refsect1">
<h2 class="refsect1"><a id="sthref398"></a><a id="sthref399"></a><a id="sthref400"></a>SDO_GEOR.deleteNODATA</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref401"></a>Format</p>
<p class="synopsis">SDO_GEOR.deleteNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN NUMBER);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.deleteNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN SDO_RANGE_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref402"></a>Description</p>
<p>Deletes one or more NODATA values or value ranges.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref403"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Layer number in the GeoRaster object. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>nodata</dt>
<dd>
<p>Either a single numeric value, or an array of numbers or number ranges. Any NODATA value range is inclusive at the lower bound and exclusive at the upper bound.</p>
<p>The SDO_RANGE_ARRAY type is described in <a href="geor_intro.htm#BABJCCBA">Section 1.9</a></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref404"></a>Usage Notes</p>
<p>When a NODATA value or value range is deleted, the cell depth of the GeoRaster object is taken into consideration to generate the correct new ranges. If the cell depth specifies floating cell values, you can only remove existing single numeric NODATA values or remove a sub-range from an existing NODATA value range.</p>
<p>For information about NODATA values and value ranges, see <a href="geor_intro.htm#BABJCCBA">Section 1.9</a>.</p>
<p>To add one or more NODATA values or value ranges, use the <a href="#CHEGGHIC">SDO_GEOR.addNODATA</a> procedure. To return the NODATA values for a GeoRaster object, use the <a href="#CHEIJCDB">SDO_GEOR.getNODATA</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref405"></a>Examples</p>
<p>The following example removes cell value 9 from the NODATA metadata associated with the object layer.</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=0 FOR UPDATE;
  SDO_GEOR.deleteNODATA(gr, 0, 9);
  UPDATE georaster_table SET georaster=gr WHERE georid=0;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDJHH"></a>
<div id="GEORS1030" class="refsect1">
<h2 class="refsect1"><a id="sthref406"></a><a id="sthref407"></a><a id="sthref408"></a>SDO_GEOR.deletePyramid</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref409"></a>Format</p>
<p class="synopsis">SDO_GEOR.deletePyramid(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref410"></a>Description</p>
<p>Deletes the pyramid data of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref411"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object for which pyramid data is to be deleted.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref412"></a>Usage Notes</p>
<p>For information about pyramid data, see <a href="geor_intro.htm#CHDDEGJJ">Section 1.7</a>.</p>
<p>If <code>georaster</code> is null or has no pyramid data, this procedure performs no operation.</p>
<p>An exception is raised if <code>georaster</code> is invalid.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref413"></a>Examples</p>
<p>The following example deletes the pyramid data for a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr1 sdo_georaster;
BEGIN
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=21;

  sdo_geor.deletePyramid(gr1);
  UPDATE georaster_table SET georaster=gr1 WHERE georid=21;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACDIEHC"></a>
<div id="GEORS1197" class="refsect1">
<h2 class="refsect1"><a id="sthref414"></a><a id="sthref415"></a>SDO_GEOR.evaluateDouble</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref416"></a>Format</p>
<p class="synopsis">SDO_GEOR.evaluateDouble(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collumn IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bands IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interpolationMethod IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.evaluateDouble(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptGeom IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interpolationMethod IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref417"></a>Description</p>
<p>Evaluates a direct location using a specified interpolation method, and returns the raster values (double precision numbers) for the specified bands or layers for that location.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref418"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the location whose raster values are to be returned.</p>
</dd>
<dt>row</dt>
<dd>
<p>The row coordinate of the location whose raster values are to be returned. This can be a floating point number.</p>
</dd>
<dt>column</dt>
<dd>
<p>The column coordinate of the location whose raster values are to be returned. This can be a floating point number.</p>
</dd>
<dt>bands</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3).</p>
</dd>
<dt>ptGeom</dt>
<dd>
<p>Point geometry that identifies the direct location whose raster values are to be returned.</p>
</dd>
<dt>layers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4). (As mentioned in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>, the logical layer number is the physical band number plus 1.)</p>
</dd>
<dt>interpolationMethod</dt>
<dd>
<p>A quoted string containing one or more keywords, each with an appropriate value. See the Usage Notes for information about the available keywords and values.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref419"></a>Usage Notes</p>
<p>This function returns interpolated raster values in double precision. In GeoRaster, the original cell values are always associated with the center of the cells, regardless of whether the cell coordinate system type is center-based or upperleft-based.</p>
<p>Identify the location in the GeoRaster object either by specifying its row, column, and band numbers in cell coordinate space, or by specifying a point geometry in either model coordinate space or cell coordinate space.</p>
<p><a id="sthref420"></a><code>interpolationMethod</code> must be a quoted string that contains one or more of the following keywords, each with an appropriate value:</p>
<ul>
<li>
<p><a id="sthref421"></a><a id="sthref422"></a><a id="sthref423"></a><code>interpolationMethod</code> (for example, <code>interpolationMethod=NN</code>): Specifies the interpolation method. Must be one of the following: <code>NN</code> (value of the nearest neighbor cell in the original GeoRaster object), <code><a id="sthref424"></a>BILINEAR</code> (distance-weighted average of the 4 nearest cells in the original GeoRaster object), <code><a id="sthref425"></a>AVERAGE4</code> (simple average of the 4 nearest cells in the original GeoRaster object), <code><a id="sthref426"></a>AVERAGE16</code> (simple average of the 16 nearest cells in the original GeoRaster object), <code><a id="sthref427"></a>CUBIC</code> (cubic convolution of the 16 nearest cells in the original GeoRaster object).</p>
</li>
<li>
<p><code>nodata</code> (for example, <code>nodata=TRUE</code>): Specifies whether NODATA values and value ranges should be considered during the procedure. Must be either <code>TRUE</code> (NODATA values and value ranges should be considered) or <code>FALSE</code> (NODATA values and value ranges should not be considered). The default value is <code>FALSE</code>. If the value is <code>TRUE</code> and the interpolation method is <code>BILINEAR</code>, <code>AVERAGE4</code>, <code>AVERAGE16</code>, or <code>CUBIC</code>, whenever a cell value involved in the interpolation calculation is a NODATA value, the result of the interpolation is also a NODATA value. The resulting NODATA value is the minimum NODATA value associated with the current raster layer, if multiple NODATA values or value ranges exist.</p>
</li>
</ul>
<p>If <code>interpolationMethod</code> is specified as <code>'interpolationMethod=NN'</code>, this function is equivalent to calling the <a href="#CHEIDJCI">SDO_GEOR.getCellValue</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref428"></a>Examples</p>
<p>The following examples return the raster values for a specified location in the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<p>The examples show the two function formats, and they return the same values for the same location specified in either cell space or model space.</p>
<pre>
SELECT SDO_GEOR.evaluateDouble(a.georaster, 0, 
    10.2, 10.3, 
    '0-2', 
    'interpolationMethod=BILINEAR') 
  FROM georaster_table a WHERE georid=21;
 
SDO_GEOR.EVALUATEDOUBLE(A.GEORASTER,0,10.2,10.3,'0-2','interpolationMethod=BILINEAR')
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(86.68, 135.68, 31.72)
 
1 row selected.
 
SELECT SDO_GEOR.evaluateDouble(a.georaster, 0, 
    SDO_GEOMETRY(2001, 82394, SDO_POINT_TYPE(18492.775, 1012881.9, NULL),
                 NULL, NULL),
    '1-3', 
    'interpolationMethod=BILINEAR') 
  FROM georaster_table a WHERE georid=21;
 
SDO_GEOR.EVALUATEDOUBLE(A.GEORASTER,0,SDO_GEOR.GETMODELCOORDINATE(A.GEORASTER,0,
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(86.68, 135.68, 31.72)
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDHBII"></a>
<div id="GEORS1031" class="refsect1">
<h2 class="refsect1"><a id="sthref429"></a><a id="sthref430"></a>SDO_GEOR.exportTo</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref431"></a>Format</p>
<p class="synopsis">SDO_GEOR.exportTo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subsetParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destFormat IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destType IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp; r_destName IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp; h_destFormat IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp; h_destType IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_destName IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.exportTo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subsetParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destFormat IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destBLOB IN OUT NOCOPY BLOB);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.exportTo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subsetParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destFormat IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_destBLOB IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_destFormat IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_destCLOB IN OUT NOCOPY CLOB DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref432"></a>Description</p>
<p>Exports a GeoRaster object or a subset of a GeoRaster object to a file or to a BLOB object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref433"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object that will be exported.</p>
</dd>
<dt>subsetParam</dt>
<dd>
<p>String containing subset parameters, for exporting a subset of the GeoRaster object. The format and usage are as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>, although some keywords described in that section do not apply to this procedure. The following keywords are supported:</p>
<ul>
<li>
<p><code>pLevel</code>: Pyramid level to be exported. The default is 0.</p>
</li>
<li>
<p><code>cropArea</code>: Specify the area to be exported in the format <code>cropArea = (startRow, startCol, endRow, endCol)</code>. It identifies the upper-left (<code>startRow</code>, <code>startCol</code>) and lower-right (<code>endRow</code>, <code>endCol</code>) coordinates of a rectangular window to be exported, and raster space is assumed. If <code>cropArea</code> is not specified, the entire image is exported.</p>
</li>
<li>
<p><code>layerNumbers</code>: Layer numbers of the layers to be exported. For example, <code>layerNumbers=(3-5)</code> exports layers 3, 4, and 5; and <code>layerNumbers=(1,3,5)</code> exports layers 1, 3, and 5.</p>
</li>
</ul>
</dd>
<dt>r_destFormat</dt>
<dd>
<p>Raster destination format. Must be one of the following: <code>TIFF</code>, <code>BMP</code>, <code>GeoTIFF</code>, or <code>PNG</code>. (<code>JPEG</code> and <code>GIF</code> are not supported for this procedure.)</p>
</dd>
<dt>r_destType</dt>
<dd>
<p>Type of destination for the export operation. Must be <code>FILE</code>.</p>
</dd>
<dt>r_destName</dt>
<dd>
<p>Destination file name (with full path specification) if <code>destType</code> is <code>FILE</code>. Do not specify the file extension. If you are using this procedure only to export the world file, specify a null value for this parameter.</p>
</dd>
<dt>r_destBLOB</dt>
<dd>
<p>BLOB object to hold the image file resulting from the export operation.</p>
</dd>
<dt>h_destFormat</dt>
<dd>
<p>Geoheader destination format. Must be <code>WORLDFILE</code>.</p>
</dd>
<dt>h_destType</dt>
<dd>
<p>Geoheader type of destination for the export operation. Must be <code>FILE</code>.</p>
</dd>
<dt>h_destName</dt>
<dd>
<p>Geoheader destination file name (with full path specification) if <code>h_destType</code> is <code>FILE</code>. Do not specify the file extension.</p>
</dd>
<dt>h_destCLOB</dt>
<dd>
<p>CLOB object to hold the geoheader file resulting from the export operation.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref434"></a>Usage Notes</p>
<p>Use a format with both <span class="italic">r_xxx</span> and <span class="italic">h_xxx</span> parameters only if the raster image and geoheader are in separate files.</p>
<p>This procedure does not support JPEG or GIF as a destination file format. You can use the client-side GeoRaster exporter tool, described in <a href="geor_intro.htm#CHDHHFHJ">Section 1.14</a>, to export to a JPEG file.</p>
<p>This procedure does not support GeoRaster objects that have a <code>cellDepth</code> value of <code>2BIT</code>.</p>
<p>GeoRaster objects with a cell depth of 8 bits or greater that have a BSQ or BIL interleaving are exported in BIP interleaved format.</p>
<p>The GeoTIFF <code>PixelIsArea</code> raster space is equivalent to the GeoRaster upperleft-based cell coordinate system. An export to GeoTiff is always in <code>PixelIsArea</code> raster space, with a half-pixel adjustment of the affine transformation if the GeoRaster object is in center-based cell coordinate system.</p>
<p>To load GeoTIFF images with the <a href="#CHECBJCD">SDO_GEOR.importFrom</a> procedure, you will need the <code>xtiff-jai.jar</code> and <code>geotiff-jai.jar</code> libraries. For more information about these GeoTIFF libraries, see <a href="geor_operations.htm#CIHIGBAA">Section 3.5</a>.</p>
<p>Before you call this procedure, you must have write permission on the output file or the directory to contain the files. The following example (run as user <code>SYSTEM</code>) grants write permission on a specified file to user <code>HERMAN</code>:</p>
<pre>
call dbms_java.grant_permission('HERMAN','SYS:java.io.FilePermission',
   '/mydirectory/myimages/img1.tif', 'write' );
</pre>
<p>The maximum amount of GeoRaster data that can be exported in a single operation is 67 megabytes (MB). Thus, the maximum dimensions of a GeoRaster object that can be exported at one time must be such that <code>width*height*bands*cellDepth/8 &lt;= 67 MB</code> and <code>rowBlockSize*columnBlockSize*bands*cellDepth/8 &lt;= 67 MB</code>. For example, for a 3-band, 8-bit GeoRaster object in which the width and height are equal:</p>
<ul>
<li>
<p>The largest exportable width and height are 4728x4728.</p>
</li>
<li>
<p>The largest exportable block dimensions are 4096x4096.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref435"></a>Examples</p>
<p>The following example shows two export operations. The first operation exports an entire GeoRaster object (except for any georeferencing information) into a BMP format file. The second operation exports a subset of the GeoRaster object to a file with an ESRI world file.</p>
<pre>
DECLARE 
  geor SDO_GEORASTER;
  fileName VARCHAR2(1024);
  tfwName VARCHAR2(1024);
 
BEGIN
 
SELECT georaster INTO geor FROM georaster_table WHERE georid = 1;
 
-- Export the whole GeoRaster object into a BMP file, excluding any
-- georeferencing information.
sdo_geor.exportTo(geor, NULL, 'BMP', 'file',
  '/mydirectory/myimages/img1_export');
 
-- Export a subset to a file with a world file.
fileName := '/mydir/parrotExported';
tfwName := '/mydir/parrotWorldFile';
SELECT georaster INTO geor FROM georaster_table WHERE georid = 8;
sdo_geor.exportTo(geor, 'cropArea=(0,0,500,500)', 
  'TIFF', 'file', fileName, 'WORLDFILE', 'FILE', tfwName);
 
END;
/
</pre>
<p>The following example exports GeoRaster objects into BLOB and CLOB objects.</p>
<pre>
CREATE TABLE blob_table (blob_col BLOB, blobid NUMBER unique, clob_col CLOB);
INSERT INTO blob_table values (empty_blob(), 3, null);
INSERT INTO blob_table VALUES (empty_blob(), 4, empty_clob());
 
DECLARE
  lobd1 BLOB;
  lobd2 BLOB;
  lobd3 CLOB; 
  geor1 SDO_GEORASTER;
  geor2 SDO_GEORASTER;
 
BEGIN
 
-- Example 1: Export to BLOB.
SELECT blob_col INTO lobd1 FROM blob_table WHERE blobid=3 for update;
SELECT georaster INTO geor1 FROM georaster_table WHERE georid = 13;
sdo_geor.exportTo(geor1, '', 'TIFF', lobd1);
UPDATE blob_table set blob_col = lobd1 WHERE blobid=3;
COMMIT;
 
-- Example 2: Export GeoRaster to BLOB with world file exported to CLOB.
SELECT blob_col INTO lobd2 FROM blob_table WHERE blobid=4 for update;
SELECT clob_col INTO lobd3 FROM blob_table WHERE blobid=4 for update;
SELECT georaster INTO geor2 FROM georaster_table WHERE georid = 8;
sdo_geor.exportTo(geor2, 'cropArea=(0,0,500,500)', 'TIFF', lobd2,
  'WORLDFILE', lobd3);
UPDATE blob_table set blob_col = lobd2, clob_col = lobd3 WHERE blobid = 4;
COMMIT;
 
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGJGCE"></a>
<div id="GEORS1032" class="refsect1">
<h2 class="refsect1"><a id="sthref436"></a><a id="sthref437"></a>SDO_GEOR.generateBlockMBR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref438"></a>Format</p>
<p class="synopsis">SDO_GEOR.generateBlockMBR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref439"></a>Description</p>
<p>Computes the minimum bounding rectangle (MBR) for each block in a GeoRaster object, and sets the <code>blockMBR</code> attribute for each raster block in the raster data table.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref440"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref441"></a>Usage Notes</p>
<p>This procedure does not change the GeoRaster object. It sets the value of the <code>blockMBR</code> attribute (described in <a href="geor_datatypes_metadata.htm#BGBBGBBD">Section 2.2.6</a>) in each row of the raster data table associated with the GeoRaster object.</p>
<p>If you created the GeoRaster object as described in <a href="geor_operations.htm#CIHBBCEI">Section 3.2</a>, the <code>blockMBR</code> attribute values were automatically calculated and they should not need to be validated or generated. However, if the GeoRaster object was generated by a third party, you should validate the <code>blockMBR</code> attribute values using the <a href="#CHEFADBE">SDO_GEOR.validateBlockMBR</a> function; and if any are not valid, call the SDO_GEOR.generateBlockMBR procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref442"></a>Examples</p>
<p>The following example computes the MBR for a specified GeoRaster object and sets its <code>blockMBR</code> attribute.</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=1 FOR UPDATE;
  sdo_geor.generateBlockMBR(gr);
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDFEAI"></a>
<div id="GEORS1033" class="refsect1">
<h2 class="refsect1"><a id="sthref443"></a><a id="sthref444"></a><a id="sthref445"></a>SDO_GEOR.generatePyramid</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref446"></a>Format</p>
<p class="synopsis">SDO_GEOR.generatePyramid(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidParams IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref447"></a>Description</p>
<p>Generates pyramid data, which is stored together with the original data.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref448"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object for which pyramid data is to be generated and stored.</p>
</dd>
<dt>pyramidParams</dt>
<dd>
<p>A string containing the pyramid parameters. See the Usage Notes for information about the available keywords and values.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref449"></a>Usage Notes</p>
<p>For information about pyramid data, see <a href="geor_intro.htm#CHDDEGJJ">Section 1.7</a>.</p>
<p><a id="sthref450"></a><a id="sthref451"></a><code>pyramidParams</code> must be a quoted string that contains one or more of the following keywords, each with an appropriate value:</p>
<ul>
<li>
<p><code><a id="sthref452"></a>rLevel</code> (for example, <code>rLevel=2</code>): Specifies the maximum reduction level: the number of pyramid levels to create at a smaller (reduced) size than the original object. If you do not specify this keyword, pyramid levels are generated until the smaller of the number of rows or columns is between 64 and 128. The dimension sizes at each lower resolution level are equal to the truncated integer values of the dimension sizes at the next higher resolution level, divided by 2.</p>
</li>
<li>
<p><a id="sthref453"></a><a id="sthref454"></a><a id="sthref455"></a><code>resampling</code> (for example, <code>resampling=NN</code>): Specifies the resampling method. Must be one of the following: <code>NN</code> (value of the nearest neighbor cell in the original GeoRaster object), <code><a id="sthref456"></a>BILINEAR</code> (distance-weighted average of the 4 nearest cells in the original GeoRaster object), <code><a id="sthref457"></a>AVERAGE4</code> (simple average of the 4 nearest cells in the original GeoRaster object), <code><a id="sthref458"></a>AVERAGE16</code> (simple average of the 16 nearest cells in the original GeoRaster object), <code><a id="sthref459"></a>CUBIC</code> (cubic convolution of the 16 nearest cells in the original GeoRaster object).</p>
</li>
<li>
<p><code>nodata</code> (for example, <code>nodata=TRUE</code>): Specifies whether NODATA values and value ranges should be considered during the procedure. Must be either <code>TRUE</code> (NODATA values and value ranges should be considered) or <code>FALSE</code> (NODATA values and value ranges should not be considered). The default value is <code>FALSE</code>. If the value is <code>TRUE</code> and the resampling method is <code>BILINEAR</code>, <code>AVERAGE4</code>, <code>AVERAGE16</code>, or <code>CUBIC</code>, whenever a cell value involved in the resampling calculation is a NODATA value, the result of the resampling is also a NODATA value. The resulting NODATA value is the minimum NODATA value associated with the current raster layer, if multiple NODATA values or value ranges exist.</p>
</li>
</ul>
<p>If <code>georaster</code> is null or is a blank GeoRaster object, or if pyramid data exists for <code>georaster</code> but it was created with the same pyramid parameters specified in <code>pyramidParams</code>, this procedure performs no operation.</p>
<p>If pyramid data exists for <code>georaster</code> and it was created using a different <code>resampling</code> value from that specified in <code>pyramidParams</code>, the old pyramid data is deleted and new pyramid data is generated. However, a different <code>nodata</code> specification in <code>pyramidParams</code> does <span class="italic">not</span> cause the pyramid data to be regenerated. To cause a new <code>nodata</code> value to take effect, you must delete the old pyramid data and then regenerate it.</p>
<p>If you do not specify an <code>rLevel</code> value, the <code>rLevel</code> value is set to the default, which is calculated as follows:</p>
<pre>
(int)(log2(a / 64))
</pre>
<p>In the preceding calculation:</p>
<ul>
<li>
<p><code>log2</code> is a logarithmic function with 2 as its base.</p>
</li>
<li>
<p><code>a</code> is the smaller of the original row or column dimension size.</p>
</li>
</ul>
<p>In the default case, the smaller of the row and column dimension sizes of the top-level overview (the smallest top-level pyramid) is between 64 and 128. If you specify an <code>rLevel</code> value greater than the maximum reduced-resolution level, the <code>rLevel</code> value is set to the maximum reduced-resolution level, which is calculated as follows:</p>
<pre>
(int)(log2(a))
</pre>
<p>In this case, the smaller of the row and column dimension sizes of the top-level overview is 1.</p>
<p>An exception is raised if <code>georaster</code> is invalid.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref460"></a>Examples</p>
<p>The following example creates pyramid data for a GeoRaster object.</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
 
  SELECT georaster INTO gr 
    FROM georaster_table WHERE georid = 6 FOR UPDATE;
 
  -- Generate pyramids.
  sdo_geor.generatePyramid(gr, 'rLevel=5, resampling=NN');
 
  -- Update the original GeoRaster object.
  UPDATE georaster_table SET georaster = gr WHERE georid = 6;
 
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGDBJC"></a>
<div id="GEORS1034" class="refsect1">
<h2 class="refsect1"><a id="sthref461"></a><a id="sthref462"></a>SDO_GEOR.generateSpatialExtent</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref463"></a>Format</p>
<p class="synopsis">SDO_GEOR.generateSpatialExtent(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref464"></a>Description</p>
<p>Generates a Spatial geometry that contains the spatial extent (footprint) of the GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref465"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>height</dt>
<dd>
<p>Number specifying the Z value for three-dimensional (X, Y, Z) georeferencing.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref466"></a>Usage Notes</p>
<p>The returned SDO_GEOMETRY object is based on the model coordinate system of the GeoRaster object. If the GeoRaster object is not georeferenced, the SDO_GEOMETRY object has a null SDO_SRID value, which means the footprint geometry is in cell space; otherwise, the SDO_SRID value of the SDO_GEOMETRY object is the model SRID. Specifically:</p>
<ul>
<li>
<p>If the GeoRaster object is not georeferenced or if the model coordinate system is projected, the spatial extent object is a single polygon derived from eight boundary points.</p>
</li>
<li>
<p>If the model coordinate system is geodetic, the spatial extent is densified according to the object's spatial footprint. If the area of the footprint is not larger than half of the Earth's surface, the result is a single geodetic polygon. Otherwise, a geodetic MBR is returned as the generated spatial extent object, and this returned object will be an invalid geometry according to Oracle Spatial validation rules, but index and query operations will work on this returned object.</p>
</li>
</ul>
<p>The footprint is automatically adjusted, based on the GeoRaster object's model coordinate location (<code>CENTER</code> or <code>UPPERLEFT</code>), to cover the whole area in the model space. <code>CENTER</code> is the default model coordinate location for non-georeferenced cases.</p>
<p>If the model coordinate system is three-dimensional, the generated spatial extent is a three-dimensional geometry. To build a spatial index based on the generated value, you may need to convert it into a two-dimensional geometry before saving it in the <code>spatialExtent</code> attribute of the GeoRaster object. For more information about cross-dimensionality transformations, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>This function does not set the spatial extent of the GeoRaster object (<code>spatialExtent</code> attribute, described in <a href="geor_datatypes_metadata.htm#BGBCHJDG">Section 2.1.2</a>). For information about setting the spatial extent, see <a href="geor_operations.htm#CIHGGAIG">Section 3.6</a>.</p>
<p>If <code>georaster</code> is null, this function returns a null SDO_GEOMETRY object. If <code>georaster</code> is not valid, an exception is raised.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref467"></a>Examples</p>
<p>The following example generates a three-dimensional spatial extent, with a Z or height dimension value of 10, in the geographic 3D coordinate system 4327 (the model SRID). (The output is slightly reformatted.)</p>
<pre>
SELECT SDO_GEOR.generateSpatialExtent(georaster,10) spatialExtent
  FROM georaster_table where georid=10;
 
SPATIALEXTENT(A.GEORASTER,10)(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_IN
----------------------------------------------------------------------------------
SDO_GEOMETRY(3003, 4327, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), SDO_ORDINATE_ARRAY(.181818182, 1.1627907, 10, 12.1228111, 1.07010227, 10, 19.3902574, 1.07010229, 10, 25.1482989, 1.07010229, 10, 30.0714774, 1.07010229,
10, 34.4500035, 1.07010229, 10, 38.3920079, 1.07010229, 10, 42.0490801,
1.07010229, 10, 45.4612165, 1.07010229, 10, 48.6719786, 1.07010229, 10,
53.6193472, 1.07010229, 10, 53.6193472, 12.346373, 10, 53.6178888, 15.3903048,
10, 53.6178888, 18.3032341, 10, 50.6322061, 18.3032341, 10, 47.5331761,
18.3032341, 10, 44.2541078, 18.3032341, 10, 40.7594212, 18.3032341, 10, 37,
18.3032341, 10, 32.9046537, 18.3032341, 10, 28.3630834, 18.3032341, 10,
23.1869539, 18.3032341, 10, 17, 18.3032341, 10, -2.220E-16, 18.3032341, 10, 0,
16.3247208, 10, -2.220E-16, 13.6133114, 10, .181818182, 1.1627907, 10))
</pre>
<p>The following examples return the spatial extent geometry of GeoRaster objects in the GEORASTER column of the GEORASTER_TABLE table. (They refer to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.generateSpatialExtent(georaster) spatialExtent
  FROM georaster_table WHERE georid=2;
 
SPATIALEXTENT(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINA
--------------------------------------------------------------------------------
 
SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), SDO_ORDINATE_ARR
AY(0, 0, 256, 0, 511, 0, 511, 256, 511, 511, 256, 511, 0, 511, 0, 256, 0, 0))
 
SET NUMWIDTH 20
SELECT sdo_geor.generateSpatialExtent(georaster) spatialExtent
  FROM georaster_table WHERE georid=4;
 
SPATIALEXTENT(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO,
SDO_ORDINA
--------------------------------------------------------------------------------
 
SDO_GEOMETRY(2003, 82263, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), SDO_ORDINATE_AR
RAY(1828466.0909315, 646447.1932945, 1828466.0909315, 644479.85524, 1828466.0909
315, 642512.5171855, 1830433.428986, 642512.5171855, 1832400.7670405, 642512.517
1855, 1832400.7670405, 644479.85524, 1832400.7670405, 646447.1932945, 1830433.42
8986, 646447.1932945, 1828466.0909315, 646447.1932945))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDCICI"></a>
<div id="GEORS1035" class="refsect1">
<h2 class="refsect1"><a id="sthref468"></a><a id="sthref469"></a>SDO_GEOR.generateStatistics</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref470"></a>Format</p>
<p class="synopsis">SDO_GEOR.generateStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingWindow IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;histogram IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useBin IN VARCHAR2 DEFAULT 'TRUE',</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binFunction IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN VARCHAR2 DEFAULT 'FALSE'</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.generateStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingWindow IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;histogram IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useBin IN VARCHAR2 DEFAULT 'TRUE',</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binFunction IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata IN VARCHAR2 DEFAULT 'FALSE'</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref471"></a>Description</p>
<p>Computes and sets statistical data associated with one or more layers.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref472"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>samplingFactor</dt>
<dd>
<p>Sampling factor in the format <code>'samplingFactor=n'</code>, with the denominator <span class="italic">n</span> in 1/(<span class="italic">n</span>*<span class="italic">n</span>) representing the number of cells skipped in both row and column dimensions in computing the statistics. For example, if <code>samplingFactor</code> is 4, one-sixteenth of the cells are sampled; but if <code>samplingFactor</code> is 1, all cells are sampled. The higher the value, the less accurate the statistics are likely to be, but the more quickly they will be computed.</p>
</dd>
<dt>samplingWindow</dt>
<dd>
<p>Sampling window: a rectangular window for which to set statistics, specified either as a numeric array with the lower-left and upper-right coordinates or as an SDO_GEOMETRY object. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>. The window must be inside the extent in cell space. The default for this parameter is the entire image.</p>
<p>A sampling window for which to generate statistics, specified either as a numeric array or as a SDO_GEOMETRY object. If the data type is SDO_NUMBER_ARRAY (defined as <code>VARRAY(1048576) OF NUMBER</code>), the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, it is transformed into raster space if it is in model space, and then the minimum bounding rectangle (MBR) of the geometry object in raster space is used as the window. The default value is the entire image. In both cases, the intersection of the MBR of the sampling window in raster space and the MBR of the GeoRaster object in raster space is used for computing statistics.</p>
</dd>
<dt>histogram</dt>
<dd>
<p>Specify <code>TRUE</code> to cause a histogram to be computed and stored, or <code>FALSE</code> to cause a histogram not to be computed and stored. Histograms are discussed in <a href="geor_datatypes_metadata.htm#BGBCHBIC">Section 2.3.1</a>. The XML definitions of the <code>&lt;histogram&gt;</code> element and the <code>histogramType</code> complex type are included in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>.</p>
</dd>
<dt>layerNumbers</dt>
<dd>
<p>Numbers of the layers for which to compute the statistics. This is a string that can include numbers, number ranges indicated by hyphens (-), and commas to separate numbers and number ranges. For example, <code>'1,3-5,7'</code> specifies layers 1, 3, 4, 5, and 7. Layer 0 (zero) indicates the object layer.</p>
</dd>
<dt>useBin</dt>
<dd>
<p>Specifies whether or not to use a provided bin function (specified in the <code>binFunction</code> parameter) when generating statistics. <code>TRUE</code> (the default) causes a bin function to be used as follows: (1) the bin function specified by the <code>binFunction</code> parameter, if it is not null; otherwise, (2) the bin function specified by the <code>&lt;binFunction&gt;</code> element in the GeoRaster XML metadata, if one is specified; otherwise, (3) a dynamically generated bin function, as explained in the Usage Notes. <code>FALSE</code> causes a dynamically generated bin function to be used, and causes the <code>binFunction</code> parameter and <code>&lt;binFunction&gt;</code> element to be ignored.</p>
<p>For information about bin functions, see the Usage Notes for the <a href="#CHEEAGIF">SDO_GEOR.setBinFunction</a> procedure.</p>
</dd>
<dt>binFunction</dt>
<dd>
<p>Bin function as an array whose elements specify the bin type, total number of bins, first bin number, minimum cell value, and maximum cell value. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>. For more information about the bin function for SQO_GEOR.generateStatistics, see the Usage Notes. For information about bin functions and an example, see the Usage Notes for the <a href="#CHEEAGIF">SDO_GEOR.setBinFunction</a> procedure.</p>
</dd>
<dt>nodata</dt>
<dd>
<p>Specifies whether or not to compare each cell values with NODATA values defined in the metadata when computing statistics. <code>TRUE</code> causes all pixels with a NODATA value not to be considered; <code>FALSE</code> (the default) causes pixels with NODATA values to be considered as regular pixels. NODATA values and value ranges are discussed in <a href="geor_intro.htm#BABJCCBA">Section 1.9</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref473"></a>Usage Notes</p>
<p>This function computes and sets the statistical data described by the <code>&lt;statisticDatasetType&gt;</code> element in the GeoRaster metadata XML schema, which is described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>.</p>
<p>If <code>histogram</code> is TRUE, this function determines the range of each bin based on the bin function being used, and within each range it computes the count of each pixel value. The histogram and the bin function are related as follows: each bin is mapped to a (value, count) pair of the histogram, and the lower boundary of each bin is mapped to corresponding value of histogram (value, count) pair, with the following exceptions:</p>
<ul>
<li>
<p>If Min_r &lt; Min, then one more pair (Min_r, count) is added as the first pair of the histogram. (Min_r is the real minimum value of the data set computed by this function, and Min is the <code>min</code> value specified in the bin function.)</p>
</li>
<li>
<p>If Max_r &gt; Max, then one more pair (Max_r, count) is added as the last pair of the histogram. (Max_r is the real maximum value of the data set computed by this function, and Max is the <code>max</code> value specified in the bin function.)</p>
</li>
<li>
<p>Leading and trailing count=0 pairs in the histogram are suppressed. For example:</p>
<pre>
(1,0) (2,0) (3,11) (4,12) becomes (3,11) (4,12)
(1,11) (2,12) (3,0) (4,0) becomes (1,11) (2,12)
</pre></li>
</ul>
<p>If <code>histogram</code> is TRUE, any existing histogram in the XML metadata is replaced by the new generated histogram.</p>
<p>SQO_GEOR.generateStatistics supports only LINEAR bin functions (<code>binType</code> = 0), not LOGARITHM or EXPLICIT bin functions. (The XML definitions of all bin function types are in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>.) If the <code>useBin</code> parameter value is FALSE, this function ignores any <code>binFunction</code> parameter value and any <code>&lt;binFunction&gt;</code> element in the GeoRaster XML metadata, and it uses a LINEAR bin function in which the <code>min</code> and <code>max</code> values are the actual minimum and maximum values of the data set, and the <code>numbins</code> value depends on the cell depth, as follows:</p>
<ul>
<li>
<p>If <code>cellDepth</code> = 1, <code>numbins</code> = 2.</p>
</li>
<li>
<p>If <code>cellDepth</code> = 2, <code>numbins</code> = 4.</p>
</li>
<li>
<p>If <code>cellDepth</code> = 4, <code>numbins</code> = 8.</p>
</li>
<li>
<p>If <code>cellDepth</code> &gt;= 8, <code>numbins</code> = 256.</p>
</li>
</ul>
<p>If the <code>useBin</code> parameter value is TRUE, this function uses a bin function as follows:</p>
<ol>
<li>
<p>If the <code>binFunction</code> parameter specifies a valid bin function, it is used.</p>
</li>
<li>
<p>Otherwise, if a valid bin function is defined in the GeoRaster metadata, it is used.</p>
</li>
<li>
<p>Otherwise, the same bin function is used as when the <code>useBin</code> parameter value is FALSE.</p>
</li>
</ol>
<p>Contrast this function, which causes GeoRaster to compute and set the statistics, with the <a href="#CHECGIGA">SDO_GEOR.setStatistics</a> procedure, in which you specify the statistics to be set.</p>
<p>To retrieve the statistical data associated with a layer, use the <a href="#CHEGDEIA">SDO_GEOR.getStatistics</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref474"></a>Examples</p>
<p>The following example generates the statistical data and a histogram.</p>
<pre>
DECLARE
  gr SDO_GEORASTER;
  ret VARCHAR2(256);
  window SDO_NUMBER_ARRAY := SDO_NUMBER_ARRAY(20,10,50,50);
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=1 FOR UPDATE;
  SDO_GEOR.setBinFunction(gr,1,sdo_number_array(0,10,1,50,200));
  ret := SDO_GEOR.generateStatistics(gr, 'samplingFactor=5', window, 'TRUE',
    '1-1', 'TRUE');
  UPDATE georaster_table SET georaster=gr WHERE georid=1;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFIFIA"></a>
<div id="GEORS1036" class="refsect1">
<h2 class="refsect1"><a id="sthref475"></a><a id="sthref476"></a>SDO_GEOR.georeference</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref477"></a>Format (procedure)</p>
<p class="synopsis">SDO_GEOR.georeference(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinateLocation IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xCoefficients IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yCoefficients IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref478"></a>Format (function)</p>
<p class="synopsis">SDO_GEOR.georeference(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FFMethodType IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nGCP IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GCPs IN SDO_GEOR_GCP_COLLECTION,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storeGCP IN VARCHAR2 DEFAULT 'TRUE',</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinateLocation IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.georeference(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcpGeorefModel IN SDO_GEOR_GCPGEOREFTYPE,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storeGCP IN VARCHAR2 DEFAULT 'TRUE',</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinateLocation IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.georeference(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FFMethodType IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinateLocation IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref479"></a>Description</p>
<p>As a procedure, georeferences a GeoRaster object using specified cell-to-model transformation coefficients of an affine transformation. As a function, returns the solution of any one of the supported geometric models using ground control points (GCPs) that are either stored in the database or specified in parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref480"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>The SDO_GEORASTER object to be georeferenced.</p>
</dd>
<dt>srid</dt>
<dd>
<p>Model coordinate system. For the procedure, must not be null or 0 (zero); for function, it can be null. It can be a value from the SRID column of the MDSYS.CS_SRS table. If it is not a value from the SRID column of the MDSYS.CS_SRS table, the SRID is not supported by Oracle Spatial, and some SRID-related operations may not be supported.</p>
</dd>
<dt>modelCoordinateLocation</dt>
<dd>
<p>A value specifying the model location of the base of the area represented by a cell: <code>0</code> for <code>CENTER</code> or <code>1</code> for <code>UPPERLEFT</code>.</p>
</dd>
<dt>xCoefficients</dt>
<dd>
<p>An array specifying the A, B, and C coefficient values in the calculation, as explained in the Usage Notes.</p>
</dd>
<dt>yCoefficients</dt>
<dd>
<p>An array specifying the D, E, and F coefficient values in the calculation, as explained in the Usage Notes.</p>
</dd>
<dt>FFMethodType</dt>
<dd>
<p>Polynomial or rational polynomial function used as georeference geometric model. Must be one of the following string values: <code>Affine</code>, <code>QuadraticPolynomial</code>, <code>CubicPolynomial</code>, <code>DLT</code>, <code>QuadraticRational</code>, or <code>RPC</code>.</p>
</dd>
<dt>gcpGeorefModel</dt>
<dd>
<p>Object containing the following: <code>FFMethodType</code>, <code>nGCP</code>, <code>GCPs</code>, <code>solutionAccuracy</code>.</p>
</dd>
<dt>nGCP</dt>
<dd>
<p>Number of ground control points in the GCP collection (<code>GCPs</code> parameter).</p>
</dd>
<dt>GCPs</dt>
<dd>
<p>The GCP collection, of type SDO_GEOR_GCP_COLLECTION (described in <a href="geor_datatypes_metadata.htm#BABGAGHB">Section 2.3.7</a>).</p>
</dd>
<dt>storeGCP</dt>
<dd>
<p>A flag indicating whether the GCPs should be stored in the GeoRaster metadata. The string <code>TRUE</code> (the default) stores the points in the GeoRaster metadata; the string <code>FALSE</code> does not store the points in the GeoRaster metadata.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref481"></a>Usage Notes</p>
<p class="subhead2"><a id="GEORS1198"></a>Notes for the Procedure Format</p>
<p>Use this procedure to georeference a GeoRaster object based on an existing affine transformation. Georeferencing is explained in <a href="geor_intro.htm#CHDGCAIA">Section 1.6</a> and <a href="geor_operations.htm#CIHIGBAA">Section 3.5</a>.</p>
<p>This procedure assumes that in the original georeferencing information in the source data, such as in an ESRI world file, the transformation formulas are the following:</p>
<pre>
x = A * column + B * row + C
y = D * column + E * row + F
</pre>
<p>Specify the preceding A, B, C, D, E, and F coefficients to the SDO_GEOR.georeference procedure. They are automatically adjusted internally to produce the correct georeferencing result: a, b, c, d, e, and f coefficients, as in the following formulas:</p>
<pre>
row    = a + b * x + c * y
column = d + e * x + f * y
</pre>
<p>In these formulas:</p>
<ul>
<li>
<p>row = Row index of the cell in raster space.</p>
</li>
<li>
<p>column = Column index of the cell in raster space.</p>
</li>
<li>
<p>x = East-West position of the point on the ground or in model space.</p>
</li>
<li>
<p>y = North-South position of the point on the ground or in model space.</p>
</li>
<li>
<p>a, b, c, d, e, and f are coefficients, and they are stored in the GeoRaster SRS metadata.</p>
</li>
<li>
<p>b*f &ndash; c*e should not be equal to 0 (zero).</p>
</li>
</ul>
<p>In these formulas, if b = 0, f = 0, c = -e, and both c and e are not 0 (zero), the raster data is called rectified, and the formula becomes:</p>
<pre>
row    = a + c * y
column = d - c * x
</pre>
<p>This procedure sets the spatial resolutions of the GeoRaster object.</p>
<p>The following also perform operations related to georeferencing:</p>
<ul>
<li>
<p>The <a href="#CHEFGCEE">SDO_GEOR.setSRS</a> procedure sets or deletes georeferencing information.</p>
</li>
<li>
<p>The <a href="#CHECBJCD">SDO_GEOR.importFrom</a> procedure can load an ESRI world file or a Digital Globe RPC file from a file or from a CLOB object. It also loads geometadata from a GeoTIFF file.</p>
</li>
<li>
<p>The GeoRaster loader tool (described in <a href="geor_intro.htm#CHDHHFHJ">Section 1.14</a>) can load an ESRI world file, a Digital Globe RPC file, or a GeoTIFF file.</p>
</li>
</ul>
<p class="subhead2"><a id="GEORS1199"></a>Notes for the Function Formats (for Use with GCPs)</p>
<p>This function calculates the solution of the specified geometric model (the <code>FFMethodType</code>) using the GCPs that are either stored in the database or specified in parameters, and it stores the solution in the GeoRaster functional fitting model.</p>
<p>The returned array contains RMS values and residuals, which have the following order: the solution accuracy (rowRMS, colRMS, totalRMS) computed using control points, the ground positioning accuracy (xRMS, yRMS, zRMS, modelTotalRMS) computed using check points, the ground positioning accuracy (xRMS, yRMS, zRMS, modelTotalRMS) computed using control points, and the (xResidual, yResidual) for each control point (not for check points). The ordering of the residuals is the same as the control points stored in the XML metadata (not necessarily in the sequential order of the control point ID values if the ID values are numbers).</p>
<p>There are always at least 17 values returned (assuming at least 3 control points). A positioning accuracy (RMS) value of &ndash;1.0 means that value does not exist. For a two-dimensional geometric model, the zRMS value is always &ndash;1.0; otherwise, zRMS values are always 0 in the current release.</p>
<p>The GCPs can either be retrieved from the GeoRaster metadata or provided using the GCP-related object types.</p>
<p>For the interface without GCP information (that is, the format without the <code>gcpGeorefModel</code> parameter), the GCPs are assumed to be stored in the GeoRaster object's metadata. If no GCPs are stored or if not enough GCPs are stored for the specified model, an exception is raised.</p>
<p>After this function call, the GeoRaster object is georeferenced and the coefficients of the functional fitting model are set in the GeoRaster SRS metadata component.</p>
<p>For more information about georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref482"></a>Examples</p>
<p>The following example georeferences a GeoRaster object directly using the cell-to-model coefficients of an affine transformation. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid = 1 FOR UPDATE;
  sdo_geor.georeference(gr, 82394, 0,
                        sdo_number_array(28.5, 0, 1232804.04),
                        sdo_number_array(0, -28.5, 13678.09));
  UPDATE georaster_table SET georaster = gr WHERE georid = 1;
  COMMIT;
END;
/
 
PL/SQL procedure successfully completed.
 
SET NUMWIDTH 20
SELECT georid, sdo_geor.getSRS(georaster) SRS FROM georaster_table
  WHERE georid = 1;
 
              GEORID
--------------------
SRS(ISREFERENCED, ISRECTIFIED, ISORTHORECTIFIED, SRID,
SPATIALRESOLUTION, SPATIA
--------------------------------------------------------------------------------
 
                   1
SDO_GEOR_SRS('TRUE', 'TRUE', NULL, 82394, SDO_NUMBER_ARRAY(28.5, 28.5), NULL, NU
LL, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, NULL, NULL, NULL, SDO_NUMBER_ARRAY(1, 2, 1, 3,
 479.93298245614, 0, -.0350877192982456), SDO_NUMBER_ARRAY(1, 0, 0, 1, 1), SDO_N
UMBER_ARRAY(1, 2, 1, 3, -43256.2821052632, .0350877192982456, 0), SDO_NUMBER_ARR
AY(1, 0, 0, 1, 1))
</pre>
<p>If the original raster data is rectified and if the model coordinate of the center point of the upper-left corner cell is (<span class="italic">x0, y0</span>) and its spatial resolution is <span class="italic">s</span>, you can directly use the preceding example code to georeference the GeoRaster object by replacing 28.5 with <span class="italic">s</span>, 1232804.04 with <span class="italic">x0</span>, and 13678.09 with <span class="italic">y0</span>. If you have other information about the GeoRaster object, such as a well-defined precise envelope of the raster or the model coordinates of the center point, you can compute the (<span class="italic">x0, y0</span>) and the spatial resolution <span class="italic">s</span>, and then use the same approach to georeference the object.</p>
<p>The following example georeferences a GeoRaster object, using ground control point (GCP) information.</p>
<pre>
DECLARE
   gr1                 sdo_georaster;
   gr2                  sdo_georaster;
   georefModel   SDO_GEOR_GCPGEOREFTYPE;
   GCPs              SDO_GEOR_GCP_COLLECTION;
   rms                  sdo_number_array;
BEGIN
   SELECT georaster INTO gr1 from georaster_table WHERE georid=10 FOR UPDATE;
 
   GCPs := SDO_GEOR_GCP_COLLECTION( 
                           SDO_GEOR_GCP('1', '', 1, 
                              2, sdo_number_array(25.625000, 73.875000),
                              2, sdo_number_array(237036.937500, 897987.187500),
                              NULL, NULL),
                              SDO_GEOR_GCP('2', '', 1, 
                              2, sdo_number_array(100.625000, 459.125000),
                              2, sdo_number_array(237229.562500, 897949.687500),
                              NULL, NULL),
                              SDO_GEOR_GCP('3', '', 1, 
                              2, sdo_number_array(362.375000, 77.875000),
                              2, sdo_number_array(237038.937500, 897818.812500),
                              NULL, NULL),
                              SDO_GEOR_GCP('4', '', 1, 
                              2, sdo_number_array(478.875000, 402.125000),
                              2, sdo_number_array(237201.062500, 897760.562500),
                              NULL, NULL),
                              SDO_GEOR_GCP('5', '', 2, 
                              2, sdo_number_array(167.470583,  64.030686),
                              2, sdo_number_array(237032.015343, 897916.264708),
                              NULL, NULL),
                              SDO_GEOR_GCP('6', '', 2, 
                              2, sdo_number_array(101.456177,  257.915534),
                              2, sdo_number_array(237128.957767, 897949.271912),
                              NULL, NULL)
                       );
 
   georefModel := SDO_GEOR_GCPGEOREFTYPE('Affine',
GCPs.count, GCPs, NULL);
 
   rms := sdo_geor.georeference(gr1, georefModel, 'FALSE', 26986, 1);
   UPDATE georaster_table SET georaster=gr1 WHERE georid=10;
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDEFI"></a>
<div id="GEORS1037" class="refsect1">
<h2 class="refsect1"><a id="sthref483"></a><a id="sthref484"></a>SDO_GEOR.getBandDimSize</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref485"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBandDimSize(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref486"></a>Description</p>
<p>Returns the number of bands in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref487"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref488"></a>Usage Notes</p>
<p>For an explanation of bands, see <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref489"></a>Examples</p>
<p>The following example returns the spatial dimension sizes and the number of bands (one in this case) for a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT sdo_geor.getSpatialDimSizes(georaster) spatialDimSizes,
       sdo_geor.getBandDimSize(georaster) bandDimSize
  FROM georaster_table WHERE georid=21;

SPATIALDIMSIZES                  BANDDIMSIZE
--------------------------       -----------
SDO_NUMBER_ARRAY(512, 512)           1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJJDAG"></a>
<div id="GEORS1038" class="refsect1">
<h2 class="refsect1"><a id="sthref490"></a><a id="sthref491"></a>SDO_GEOR.getBeginDateTime</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref492"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBeginDateTime(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN TIMESTAMP WITH TIME ZONE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref493"></a>Description</p>
<p>Returns the beginning date and time for raster data collection in the metadata for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref494"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref495"></a>Usage Notes</p>
<p>To set the beginning date and time for raster data collection in the metadata for a GeoRaster object, use the <a href="#CHEGCJBC">SDO_GEOR.setBeginDateTime</a> procedure.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref496"></a>Examples</p>
<p>The following example returns the beginning and ending dates and times for raster data collection in the metadata for the GeoRaster object in a table named GEORASTER_TABLE where the GEORID column contains the value 4. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getBeginDateTime(georaster) beginDateTime,
  sdo_geor.getEndDateTime(georaster) endDateTime
  FROM georaster_table WHERE georid=4;
 
BEGINDATETIME
---------------------------------------------------------------------------
ENDDATETIME
---------------------------------------------------------------------------
01-JAN-00 05.00.00.000000000 AM +00:00
15-NOV-02 08.00.00.000000000 PM +00:00
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACECABI"></a>
<div id="GEORS1039" class="refsect1">
<h2 class="refsect1"><a id="sthref497"></a><a id="sthref498"></a>SDO_GEOR.getBinFunction</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref499"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBinFunction(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref500"></a>Description</p>
<p>Gets the bin function associated with a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref501"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the bin type. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref502"></a>Usage Notes</p>
<p>This function returns the bin function as an array whose elements specify the bin type, total number of bins, first bin number, minimum cell value, and maximum cell value. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>.</p>
<p>If the bin type is <code>EXPLICIT</code>, an external bin table is used and this function returns a null value.</p>
<p>For a more detailed explanation of the bin function format, see the Usage Notes for the <a href="#CHEEAGIF">SDO_GEOR.setBinFunction</a> procedure.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref503"></a>Examples</p>
<p>The following example gets the bin function for layer 3 of a specified GeoRaster object.</p>
<pre>
SELECT sdo_geor.getBinFunction(georaster,3) FROM georaster_table WHERE georid=4;
 
SDO_GEOR.GETBINFUNCTION(GEORASTER,3)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(0, 10, 1, 0, 511)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEJDEE"></a>
<div id="GEORS1040" class="refsect1">
<h2 class="refsect1"><a id="sthref504"></a><a id="sthref505"></a>SDO_GEOR.getBinTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref506"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBinTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref507"></a>Description</p>
<p>Returns the name of the bin table associated with a layer.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the bin table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref508"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the bin table name. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref509"></a>Usage Notes</p>
<p>This function is relevant only if the bin type is <code>EXPLICIT</code>. To retrieve the bin type, use the <a href="#CHEGCAIJ">SDO_GEOR.getBinType</a> function.</p>
<p>To specify a bin table for a layer, use the <a href="#CHEEBAFF">SDO_GEOR.setBinTable</a> procedure.</p>
<p>See also the information in the Usage Notes for the <a href="#CHEGCAIJ">SDO_GEOR.getBinType</a> function.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref510"></a>Examples</p>
<p>The following example returns the name of the bin table for layer number 4 of a specified GeoRaster object in a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getBinTable(georaster, 4) FROM georaster_table WHERE georid=4;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGCAIJ"></a>
<div id="GEORS1041" class="refsect1">
<h2 class="refsect1"><a id="sthref511"></a><a id="sthref512"></a>SDO_GEOR.getBinType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref513"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBinType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref514"></a>Description</p>
<p>Returns the bin type associated with a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref515"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the bin type. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref516"></a>Usage Notes</p>
<p>This function returns one of the following bin type values: <code>LINEAR</code>, <code>LOGARITHM</code>, or <code>EXPLICIT</code>.</p>
<p>The <code>LINEAR</code> bin type is defined as follows:</p>
<pre>
binNumber = numbins * (cellValue - min) / (max - min) + firstBinNumber
if (binNumber less than 0) binNumber =  firstBinNumber
if (binNumber greater than or equal to numbins) binNumber = numbins + firstBinNumber - 1
</pre>
<p>The <code>LOGARITHM</code> bin type is defined as follows:</p>
<pre>
binNumber = numbins * (ln (1.0 + ((cellValue - min)/(max - min)))/ ln (2.0)) + firstBinNumber
if (binNumber less than 0) binNumber =  firstBinNumber
if (binNumber greater than or equal to numbins) binNumber = numbins + firstBinNumber - 1
</pre>
<p>The <code>EXPLICIT</code> bin type means that the value (or value range) for each bin is stored in a bin table (which you can set using the <a href="#CHEEBAFF">SDO_GEOR.setBinTable</a> procedure and retrieve using the <a href="#CHEEJDEE">SDO_GEOR.getBinTable</a> function).</p>
<p>A bin function maps values or value ranges of the GeoRaster cells to specific bin numbers, which are all integers. GeoRaster does not provide interfaces to manipulate and process bin functions.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref517"></a>Examples</p>
<p>The following example returns the bin types for layers 0 and 1 of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT substr(sdo_geor.getBinType(georaster, 0),1,20) binType0,
       substr(sdo_geor.getBinType(georaster, 1),1,20) binType1
  FROM georaster_table WHERE georid=4;
 
BINTYPE0        BINTYPE1
--------------- ---------------
EXPLICIT        LINEAR
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECGBFE"></a>
<div id="GEORS1042" class="refsect1">
<h2 class="refsect1"><a id="sthref518"></a><a id="sthref519"></a>SDO_GEOR.getBitmapMask</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref520"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBitmapMask(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask IN OUT SDO_GEORASTER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref521"></a>Description</p>
<p>Gets the bitmap mask that is associated with a GeoRaster object or a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref522"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>The layer on which to perform the operation. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>mask</dt>
<dd>
<p>The resulting GeoRaster object to hold the bitmap mask. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as the input GeoRaster object (<code>georaster</code> parameter).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref523"></a>Usage Notes</p>
<p>If no bitmap mask is associated with the specified layer of the GeoRaster object, the resulting GeoRaster object is not updated.</p>
<p>If the <code>storageParam</code> parameter is null, the resulting GeoRaster object has a <code>celldepth</code> value of 1BIT celldepth, has <code>DEFLATE</code> compression if the input GeoRaster object is compressed, and has the same interleaving type and blocking size as the input GeoRaster object. It also contains all the bitmap mask pyramids if the input GeoRaster object has pyramids built on it.</p>
<p>A bitmap mask may have empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). If there is reblocking that leads to partially empty raster blocks, any cells in a partially empty block that are derived from an empty raster block are filled with the value 0 (zero).</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref524"></a>Examples</p>
<p>The following example retrieves the bitmap mask associated with the object layer of the specified GeoRaster object.</p>
<pre>
DECLARE
  gr sdo_georaster;
  mk sdo_georaster;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=4;
  INSERT INTO georaster_table (georid, georaster)
    VALUES (100, sdo_geor.init('rdt_1', 100))
    RETURNING georaster INTO mk;
  sdo_geor.getBitmapMask(gr, 0, 'compression=none', mk);
  UPDATE georaster_table SET georaster=mk WHERE georid=100;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJJCBB"></a>
<div id="GEORS1043" class="refsect1">
<h2 class="refsect1"><a id="sthref525"></a><a id="sthref526"></a>SDO_GEOR.getBitmapMaskSubset</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref527"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inWindow IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inWindow IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref528"></a>Description</p>
<p>Gets a subset of a bitmap mask.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref529"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer on which to perform the operation. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the specified cell.</p>
</dd>
<dt>window, inWindow</dt>
<dd>
<p>A rectangular window for the subset, specified either as a numeric array with the lower-left and upper-right coordinates or as an SDO_GEOMETRY object. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>.</p>
</dd>
<dt>rasterBlob</dt>
<dd>
<p>BLOB to hold the output (the resulting subset).</p>
</dd>
<dt>outWindow</dt>
<dd>
<p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters to be applied in creating <code>rasterBlob</code>. The only <code>storageParam</code> keywords supported for this procedure are <code>celldepth</code>, <code>compression</code>, <code>interleaving</code>, and <code>quality</code>; all other keywords are ignored. Storage parameters are explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<p>If the <code>storageParam</code> parameter is null, the resulting GeoRaster object has a <code>celldepth</code> value of 1BIT celldepth, has <code>DEFLATE</code> compression if the input GeoRaster object is compressed, and has the same interleaving type as the input GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref530"></a>Usage Notes</p>
<p>If there is no bitmap associated with the specified GeoRaster object at the specified raster layer, or the specified input window does not intersect with the spatial extent of the GeoRaster object, the procedure returns with <code>rasterBlob</code> truncated to length zero and the <code>outWindow</code> set to a null value.</p>
<p>This procedure operates on a single GeoRaster object. The procedure has four formats, depending on whether the input window is specified as a geometry object or as the upper-left and lower-right corners of a box, and on whether the <code>outWindow</code> parameter is used to return the coordinates of the output window.</p>
<p>If the <code>window</code> or <code>inWindow</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following: null (to specify raster space) or a value from the SRID column of the MDSYS.CS_SRS table.</p>
<p>If the SDO_SRID values for the <code>window</code> or <code>inWindow</code> parameter geometry and the model space are different, the geometry parameter is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
<p>If the <code>window</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>After the procedure completes, the rasterBLOB parameter contains the cell (pixel) data in the cropped window without tiling. The cropped window is the overlapping portion of the specified window of interest and the source GeoRaster object's spatial extent. If the <code>outWindow</code> parameter is specified, after the procedure completes it contains the coordinates of the cropped window in the cell space.</p>
<p>A bitmap mask may have empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). Any cells in the output window that are derived from an empty raster block are filled with the value 0 in the output BLOB.</p>
<p>The BLOB has no padding, except when the cell depth is less than 8 bits and the total number of bits needed for the output cannot be divided by 8; in these cases, unlike normal padding, only the last byte of the result is padded with 0 (zeros) for the trailing bits.</p>
<p>You can specify compression regardless of whether the input GeoRaster object is compressed or not. To have decompressed output for a compressed input GeoRaster object, specify <code>compression=NONE</code> in the <code>storageParam</code> parameter. For information about GeoRaster compression and decompression, see <a href="geor_intro.htm#CHDBEEJI">Section 1.10</a>.</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref531"></a>Examples</p>
<p>The following example retrieves a subset of a bitmap mask associated with the object layer of a specified GeoRaster object.</p>
<pre>
DECLARE
  gr sdo_georaster;
  lb blob;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=4;
  dbms_lob.createTemporary(lb, TRUE);
  sdo_geor.getBitmapMaskSubset(gr, 0, 0, sdo_number_array(0,0,99,99), lb, 'compression=none');
  dbms_lob.freeTemporary(lb);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDBFEG"></a>
<div id="GEORS1044" class="refsect1">
<h2 class="refsect1"><a id="sthref532"></a><a id="sthref533"></a>SDO_GEOR.getBitmapMaskValue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref534"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getBitmapMaskValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptGeom IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref535"></a>Description</p>
<p>Gets the value of a single cell from a bitmap mask.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref536"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer on which to perform the operation. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the specified cell.</p>
</dd>
<dt>rowNumber</dt>
<dd>
<p>Row number in cell space.</p>
</dd>
<dt>colNumber</dt>
<dd>
<p>Column number in cell space.</p>
</dd>
<dt>ptGeom</dt>
<dd>
<p>Point geometry in cell space or model space.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref537"></a>Usage Notes</p>
<p>You can specify the cell by its row and column numbers or by a point geometry object.</p>
<p>If there is no bitmap associated with the specified GeoRaster object at the specified raster layer, or the specified cell is in an empty raster block, the function returns a null value.</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref538"></a>Examples</p>
<p>The following example gets the value of four cells from the bitmap mask associated with a specified GeoRaster object.</p>
<pre>
SELECT sdo_geor.getBitmapMaskValue(georaster,0,0,0,0) c1,
       sdo_geor.getBitmapMaskValue(georaster,0,0,9,9) c2,
       sdo_geor.getBitmapMaskValue(georaster,0,0,9,10) c3,
       sdo_geor.getBitmapMaskValue(georaster,0,0,10,9) c4
  FROM georaster_table WHERE georid=0;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDFHJC"></a>
<div id="GEORS1045" class="refsect1">
<h2 class="refsect1"><a id="sthref539"></a><a id="sthref540"></a>SDO_GEOR.getBlankCellValue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref541"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBlankCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref542"></a>Description</p>
<p>Returns the cell value for all cells if a specified GeoRaster object is a blank GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref543"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref544"></a>Usage Notes</p>
<p>In a blank GeoRaster object, all cells have the same cell value. This function returns the cell value for all cells if the specified GeoRaster object is a blank GeoRaster object.</p>
<p>To set the cell value to be used if a specified GeoRaster object is a blank GeoRaster object, use the <a href="#CHEICEFC">SDO_GEOR.setBlankCellValue</a> procedure. To determine if a specified GeoRaster object is a blank GeoRaster object, use the <a href="#CHECHDDI">SDO_GEOR.isBlank</a> function.</p>
<p>If <code>georaster</code> is null, invalid, or is not a blank GeoRaster object, the SDO_GEOR.getBlankCellValue function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref545"></a>Examples</p>
<p>The following example returns the blank cell values for all blank GeoRaster objects in the GEORASTER column of table GEORASTER_TABLE.</p>
<pre>
SELECT georid, sdo_geor.getBlankCellValue(georaster) blankValue
  FROM georaster_table WHERE sdo_geor.isBlank(georaster)='TRUE';

    GEORID BLANKVALUE
---------- ----------
         1        255
         2        155
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDHBIG"></a>
<div id="GEORS1046" class="refsect1">
<h2 class="refsect1"><a id="sthref546"></a><a id="sthref547"></a>SDO_GEOR.getBlockingType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref548"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBlockingType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref549"></a>Description</p>
<p>Returns the blocking type for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref550"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref551"></a>Usage Notes</p>
<p>This function returns one of the following values: <code>NONE</code> or <code>REGULAR</code>:</p>
<ul>
<li>
<p><code>NONE</code> means that the GeoRaster object is not blocked, but is a single BLOB object.</p>
</li>
<li>
<p><code>REGULAR</code> means that the GeoRaster object uses regular blocking, that is, each block has the same dimension sizes.</p>
</li>
</ul>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref552"></a>Examples</p>
<p>The following example returns the cell depth, interleaving type, and blocking type of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getCellDepth(georaster) CellDepth,
       substr(sdo_geor.getInterleavingType(georaster),1,8) interleavingType,
       substr(sdo_geor.getBlockingType(georaster),1,8) blocking
  FROM georaster_table WHERE georid=21;

 CELLDEPTH INTERLEA BLOCKING
---------- -------- --------
         8 BSQ      REGULAR
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHAFJC"></a>
<div id="GEORS1047" class="refsect1">
<h2 class="refsect1"><a id="sthref553"></a><a id="sthref554"></a>SDO_GEOR.getBlockSize</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref555"></a>Format</p>
<p class="synopsis">SDO_GEOR.getBlockSize(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref556"></a>Description</p>
<p>Returns the number of cells for each dimension in each block of a GeoRaster object in an array showing the number of cells for each row, column, and (if relevant) band.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref557"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref558"></a>Usage Notes</p>
<p>If <code>georaster</code> or its metadata is null, or if <code>georaster</code> is not blocked, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref559"></a>Examples</p>
<p>The following example returns the number of cells (512 in each dimension) in each block of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getBlockSize(georaster) blockSize
   FROM georaster_table WHERE georid=21;

BLOCKSIZE
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(512, 512)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFAGJE"></a>
<div id="GEORS1048" class="refsect1">
<h2 class="refsect1"><a id="sthref560"></a><a id="sthref561"></a>SDO_GEOR.getCellCoordinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref562"></a>Format</p>
<p class="synopsis">SDO_GEOR.getCellCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinate IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subCell IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vert_id IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ellipsoidal IN VARCHAR2 DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinate IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellCoordinate OUT SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subCell IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vert_id IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ellipsoidal IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcePyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceCellCoordinate IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetPyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subCell IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcePyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceCellCoordinate IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetPyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subCell IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref563"></a>Description</p>
<p>Returns the coordinates in the cell (raster) coordinate system associated with the geometry at the specified model (ground) coordinates (first two formats), or converts cell coordinates between pyramid levels (last two formats).</p>
<p>Note that the second format is a procedure; the other formats are functions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref564"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the cell specified in <code>modelCoordinate</code>.</p>
</dd>
<dt>modelCoordinate</dt>
<dd>
<p>The geometry that is to be converted.</p>
</dd>
<dt>cellCoordinate</dt>
<dd>
<p>The output geometry in the cell space of the GeoRaster object.</p>
</dd>
<dt>sourcePyramidLevel (last two formats)</dt>
<dd>
<p>Pyramid level with which the input cell coordinate is associated.</p>
</dd>
<dt>sourceCellCoordinate (last two formats)</dt>
<dd>
<p>Input cell coordinates to be converted. Must be a two-dimensional geometry, and its SDO_SRID value must be null.</p>
</dd>
<dt>targetPyramidLevel (last two formats)</dt>
<dd>
<p>Pyramid level of the returned (target) GeoRaster object.</p>
</dd>
<dt>subCell</dt>
<dd>
<p>String (<code>TRUE</code> or <code>FALSE</code>) specifying whether to return the cell coordinates in sub-pixel (floating) values.</p>
</dd>
<dt>height</dt>
<dd>
<p>Number specifying the Z value for three-dimensional (X, Y, Z) georeferencing.</p>
</dd>
<dt>vert_id</dt>
<dd>
<p>Number specifying the vertical reference ID.</p>
</dd>
<dt>ellipsoidal</dt>
<dd>
<p>String specifying whether the vertical reference system is ellipsoidal (<code>TRUE</code>) or not ellipsoidal (<code>FALSE</code>).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref565"></a>Usage Notes</p>
<p>The first two formats of this function return the coordinates in the cell (raster) coordinate system associated with the geometry at the specified model (ground) coordinates:</p>
<ul>
<li>
<p>Use the first format (a function without the <code>cellCoordinate</code> parameter) to transform a point in the ground coordinate system (a longitude, latitude pair) to the location of a point on the GeoRaster image.</p>
</li>
<li>
<p>Use the second format (a procedure with the <code>cellCoordinate</code> parameter) to transform a geometry in the ground coordinate system to the location of a geometry in the raster space of the GeoRaster object. The conversion is done by converting the coordinates of each vertex of the input geometry from the ground coordinate system to the raster space of the GeoRaster object.</p>
</li>
</ul>
<p>The last two formats of this function convert cell coordinates between pyramid levels. If the type of the <code>sourceCellCoordinate</code> parameter is SDO_NUMBER_ARRAY, it specifies the &lt;row,column&gt; pair for a point in the cell space at the source pyramid level. If the type of the sourceCellCoordinate parameter is SDO_GEOMETRY, it specifies a geometry in the cell space at the source pyramid level. The coordinates of each vertex of the input geometry are converted according to the specified pyramid levels.</p>
<ul>
<li>
<p>Use the first format (without the <code>cellCoordinate</code> parameter) to transform a point in the ground coordinate system (a longitude, latitude pair) to the location of a point on the GeoRaster image.</p>
</li>
<li>
<p>Use the second format (with the <code>cellCoordinate</code> parameter) to transform a geometry in the ground coordinate system to the location of a geometry in the raster space of the GeoRaster object. The conversion is done by converting the coordinates of each vertex of the input geometry from the ground coordinate system to the raster space of the GeoRaster object.</p>
</li>
</ul>
<p>If the SDO_SRID value of the <code>modelCoordinate</code> geometry is null, the parameter specifies a geometry in the raster space; otherwise, it specifies a point in a ground coordinate system. If the ground coordinate system is different from the model coordinate system, the <code>modelCoordinate</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed.</p>
<p>Contrast this function with <a href="#CHEGGJBA">SDO_GEOR.getModelCoordinate</a>, which returns a point geometry containing the coordinates in the model (ground) coordinate system associated with the point at the specified cell coordinates.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref566"></a>Examples</p>
<p>The following example returns the cell coordinates in the raster image associated with model coordinate values (32343.64,7489527.23) in a specified GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getCellCoordinate(georaster, 0, sdo_geometry(2001,82394,
  sdo_point_type(32343.64,7489527.23,null), null,null)) coord
FROM georaster_table WHERE georid=4;
 
COORD
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(100, 100)
</pre>
<p>The following example returns the geometry at pyramid level 0 that is associated with the specified geometry at pyramid level 2, assuming the geometry is not georeferenced (the model coordination location is CENTER) and the ultCoordinate is (100,-100,0).</p>
<pre>
SELECT sdo_geor.getCellCoordinate(georaster, 2, 
                sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),
                             sdo_ordinate_array(100.8,-100.2,220.15,0.3)), 
                0, 'true') coord
FROM georaster_table WHERE georid=1;
 
COORD
--------------------------------------------------------------------------------
SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(104.7, -99.3, 582.1, 302.7))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDIGIC"></a>
<div id="GEORS1049" class="refsect1">
<h2 class="refsect1"><a id="sthref567"></a><a id="sthref568"></a>SDO_GEOR.getCellDepth</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref569"></a>Format</p>
<p class="synopsis">SDO_GEOR.getCellDepth(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref570"></a>Description</p>
<p>Returns the cell depth in bits.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref571"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref572"></a>Usage Notes</p>
<p>The cell depth determines the precision and the data size of an image. As the cell depth value decreases, less disk space is needed to store the image; as the cell depth value increases, more disk space is needed to store the image.</p>
<p>To return the cell depth as a string (such as <code>32BIT_S</code>) instead of a number, you can use the XMLType PL/SQL interface <code>extract</code>. The possible string values are listed in the <code>cellDepthType</code> definition in the GeoRaster metadata XML schema, which is described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>. The following example returns a string value for the cell depth of the GeoRaster object with the GEORID column value of 21 in the GEORASTER_TABLE table:</p>
<pre>
SELECT t.georaster.metadata.extract(
         '/georasterMetadata/rasterInfo/cellDepth/text()',
         'xmlns=http://xmlns.oracle.com/spatial/georaster')
  FROM georaster_table t WHERE t.georid=21;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref573"></a>Examples</p>
<p>The following example returns the cell depth, interleaving type, and blocking type of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getCellDepth(georaster) CellDepth,
       substr(sdo_geor.getInterleavingType(georaster),1,8) interleavingType,
       substr(sdo_geor.getBlockingType(georaster),1,8) blocking
  FROM georaster_table WHERE georid=21;

 CELLDEPTH INTERLEA BLOCKING
---------- -------- --------
         8 BSQ      REGULAR
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDJCI"></a>
<div id="GEORS1050" class="refsect1">
<h2 class="refsect1"><a id="sthref574"></a><a id="sthref575"></a>SDO_GEOR.getCellValue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref576"></a>Format</p>
<p class="synopsis">SDO_GEOR.getCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bands IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptGeom IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptGeom IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layers IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref577"></a>Description</p>
<p>Returns the value of a single cell located anywhere in the GeoRaster object by specifying its row, column, and band number or numbers in its cell coordinate system, or by specifying a point geometry in its model coordinate system and its logical layer number or numbers.</p>
<p>If the specified cell is in an empty raster block, the function returns a null value.</p>
<p>To change the value of raster data cells in a specified window of a GeoRaster object, use the <a href="#CHEIDDBE">SDO_GEOR.changeCellValue</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref578"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the cell whose value is to be returned.</p>
</dd>
<dt>rowNumber</dt>
<dd>
<p>Number of the row that contains the cell whose value is to be returned.</p>
</dd>
<dt>colNumber</dt>
<dd>
<p>Number of the column that contains the cell whose value is to be returned.</p>
</dd>
<dt>bandNumber</dt>
<dd>
<p>Number of the physical band that contains the cell whose value is to be returned.</p>
</dd>
<dt>bands</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3).</p>
</dd>
<dt>ptGeom</dt>
<dd>
<p>Point geometry that identifies the cell whose value is to be returned.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the logical layer that contains the cell whose value is to be returned. (As mentioned in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>, the logical layer number is the physical band number plus 1.)</p>
</dd>
<dt>layers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4). (As mentioned in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>, the logical layer number is the physical band number plus 1.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref579"></a>Usage Notes</p>
<p>This function returns the original cell value stored in the raster object. It does not do any interpolation of cell values. (To evaluate a point location using an interpolation method, use the <a href="#CACDIEHC">SDO_GEOR.evaluateDouble</a> function.) It does not apply the scaling function defined in the metadata (which is typically used to scale the original cell data to a desired value or range of values), and it does not apply the bin function. To get the scaled cell value, follow these steps:</p>
<ol>
<li>
<p>Call the <a href="#CHEIDJCI">SDO_GEOR.getCellValue</a> function to return the original cell value.</p>
</li>
<li>
<p>Call the <a href="#CHEGAFIA">SDO_GEOR.getScaling</a> function to return the coefficients of the scaling function (a<sub>0</sub>, a<sub>1</sub>, b<sub>0</sub>, b<sub>1</sub>).</p>
</li>
<li>
<p>Using PL/SQL or another programming language, calculate the result using the following formula:</p>
<pre>
value = (a<span class="subscript">0</span> + a<span class="subscript">1</span> * cellvalue) / (b<span class="subscript">0</span> + b<span class="subscript">1</span> * cellvalue)
</pre></li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref580"></a>Examples</p>
<p>The following example returns the values of four cells of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getCellValue(georaster,0,383,47,0) V383_47,
       sdo_geor.getCellValue(georaster,0,47,383,0) V47_383,
       sdo_geor.getCellValue(georaster,0,128,192,0) V128_192,
       sdo_geor.getCellValue(georaster,0,320,256,0) V320_256
  FROM georaster_table WHERE georid=21;

   V383_47    V47_383   V128_192   V320_256
---------- ---------- ---------- ----------
        48         55         52         53
</pre>
<p>The following example returns the values of the cells in bands 0, 1, and 2 for row number 10, column number 10 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 1 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getcellvalue(a.georaster,0,10,10,'0-2')
  FROM georaster_table a WHERE georid=1;
 
SDO_GEOR.GETCELLVALUE(A.GEORASTER,0,10,10,'0-2')
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(88, 137, 32)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBHCAB"></a>
<div id="GEORS1051" class="refsect1">
<h2 class="refsect1"><a id="sthref581"></a><a id="sthref582"></a><a id="sthref583"></a>SDO_GEOR.getColorMap</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref584"></a>Format</p>
<p class="synopsis">SDO_GEOR.getColorMap(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_COLORMAP;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref585"></a>Description</p>
<p>Returns the colormap for pseudocolor display of a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref586"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the colormap. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref587"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOR_COLORMAP. <a href="geor_datatypes_metadata.htm#BGBDBJCG">Section 2.3.2</a> describes colormaps and this object type.</p>
<p>To set the colormap for a layer in a GeoRaster object, use the <a href="#CHEHBGCD">SDO_GEOR.setColorMap</a> procedure.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref588"></a>Examples</p>
<p>The following example returns the colormap for layer 1 of a GeoRaster object. (Part of the output is omitted.)</p>
<pre>
SELECT sdo_geor.getColorMap(georaster, 1) FROM georaster_table
   WHERE georid = 4;
 
SDO_GEOR.GETCOLORMAP(GEORASTER,1)(CELLVALUE, RED, GREEN, BLUE, ALPHA)
--------------------------------------------------------------------------------
SDO_GEOR_COLORMAP(SDO_NUMBER_ARRAY(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,
 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53,
 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73,
 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93,
 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110,
111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126,
127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142,
143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158,
159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174,
175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190,
191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206,
207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222,
223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238,
239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254,
255), SDO_NUMBER_ARRAY(180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 18
0, 127, 127, 100, 50, 50, 127, 159, 191, 223, 255, 255, 255, 255, 218, 182, 145,
 109, 72, 36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 36, 72, 109, 145, 182, 218, 255, 200, 206, 212, 218, 224, 230, 236, 242,
248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255), SDO_NUMBER_ARRAY(127, 127,
127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 180, 127, 50, 100, 50, 127,
159, 191, 223, 255, 200, 150, 100, 122, 144, 166, 188, 210, 232, 255, 255, 255,
248, 241, 234, 227, 220, 213, 206, 200, 150, 100, 87, 75, 62, 50, 37, 25, 12, 0,
200, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 56, 85, 113, 141, 170, 198, 226, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255), SDO_NUMBER_ARRAY(127, 127, 127, 127,
127, 127, 127, 127, 127, 127, 127, 127, 127, 180, 50, 50, 100, 127, 95, 63, 31,
0, 0, 0, 0, 18, 36, 54, 72, 90, 108, 127, 100, 50, 43, 37, 31, 25, 18, 12, 6, 0,
0, 0, 31, 63, 95, 127, 159, 191, 223, 255, 255, 255, 127, 108, 90, 72, 54, 36,
18, 0, 0, 28, 56, 85, 113, 141, 170, 198, 226, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255), SDO_NUMBER_ARRAY(255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHJGEJ"></a>
<div id="GEORS1052" class="refsect1">
<h2 class="refsect1"><a id="sthref589"></a><a id="sthref590"></a><a id="sthref591"></a>SDO_GEOR.getColorMapTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref592"></a>Format</p>
<p class="synopsis">SDO_GEOR.getColorMapTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref593"></a>Description</p>
<p>Returns the colormap table for pseudocolor display of a layer in a GeoRaster object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the colormap table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref594"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the colormap table. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref595"></a>Usage Notes</p>
<p>This function returns the name of a user-defined colormap table. For information about colormaps, see <a href="geor_datatypes_metadata.htm#BGBDBJCG">Section 2.3.2</a>.</p>
<p>To set the colormap table for a layer in a GeoRaster object, use the <a href="#CHEIDAHG">SDO_GEOR.setColorMapTable</a> procedure.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref596"></a>Examples</p>
<p>The following example returns the colormap table for layer 2 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getColorMapTable(georaster, 2) FROM georaster_table WHERE georid=4;
 
SDO_GEOR.GETCOLORMAPTABLE(GEORASTER,2)
--------------------------------------------------------------------------------
CMT1
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDECDD"></a>
<div id="GEORS1053" class="refsect1">
<h2 class="refsect1"><a id="sthref597"></a><a id="sthref598"></a>SDO_GEOR.getCompressionType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref599"></a>Format</p>
<p class="synopsis">SDO_GEOR.getCompressionType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref600"></a>Description</p>
<p>Returns the compression type for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref601"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref602"></a>Usage Notes</p>
<p>This function can return <code>DEFLATE</code>, <code>JPEG-B</code>, <code>JPEG-F</code>, or <code>NONE</code> (the latter value meaning that the GeoRaster object is not compressed). For information about GeoRaster compression, see <a href="geor_intro.htm#CHDBEEJI">Section 1.10</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref603"></a>Examples</p>
<p>The following example returns the compression type for the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, substr(sdo_geor.getCompressionType(georaster),1,20) compressionType
  FROM georaster_table;

    GEORID COMPRESSIONTYPE
---------- --------------------
         2 DEFLATE
         4 JPEG-B
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEFHAI"></a>
<div id="GEORS1200" class="refsect1">
<h2 class="refsect1"><a id="sthref604"></a><a id="sthref605"></a>SDO_GEOR.getControlPoint</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref606"></a>Format</p>
<p class="synopsis">SDO_GEOR.getControlPoint (</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPointID IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_GCP;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref607"></a>Description</p>
<p>Returns the ground control point (GCP) that has the specified control point ID value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref608"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>controlPointID</dt>
<dd>
<p>Control point ID of <code>inGeoraster</code>. Must be a string not more than 32 characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref609"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>This function returns an object of type SDO_GEOR_GCP, which is described in <a href="geor_datatypes_metadata.htm#BABEEBBD">Section 2.3.6</a>.</p>
<p>In the control point ID is null, empty, or missing in <code>inGeoraster</code>, an exception is raised.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref610"></a>Examples</p>
<p>The following example returns the GCP that has the ID value 25 in a specified GeoRaster object.</p>
<pre>
SELECT sdo_geor.getControlPoint(georaster, '25') FROM georaster_table
  WHERE georid =10;

SDO_GEOR.GETCONTROLPOINT(GEORASTER,'25')(POINTID, DESCRIPTION, POINTTYPE, CELLDI
--------------------------------------------------------------------------------
SDO_GEOR_GCP('25', NULL, 2, 2, SDO_NUMBER_ARRAY(167.470583, 64.030686), 2, SDO_N
UMBER_ARRAY(237032.015, 897916.265), NULL, NULL)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECCGHI"></a>
<div id="GEORS1054" class="refsect1">
<h2 class="refsect1"><a id="sthref611"></a><a id="sthref612"></a>SDO_GEOR.getDefaultBlue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref613"></a>Format</p>
<p class="synopsis">SDO_GEOR.getDefaultBlue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref614"></a>Description</p>
<p>Returns the number of the layer to be used for the blue color component (in the RGB color space) for displaying a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref615"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref616"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>You can return the layer numbers for all three color components (RGB) by using the <a href="#CHEDJCCC">SDO_GEOR.getDefaultColorLayer</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref617"></a>Examples</p>
<p>The following example returns the layer numbers for the red, blue, and green color components for displaying the GeoRaster objects in the table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getDefaultRed(georaster) red,
  sdo_geor.getDefaultGreen(georaster) green,
  sdo_geor.getDefaultBlue(georaster) blue
FROM georaster_table;
 
    GEORID        RED      GREEN       BLUE
---------- ---------- ---------- ----------
         1          1          2          3
         2
         3         31         20         13
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDJCCC"></a>
<div id="GEORS1055" class="refsect1">
<h2 class="refsect1"><a id="sthref618"></a><a id="sthref619"></a>SDO_GEOR.getDefaultColorLayer</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref620"></a>Format</p>
<p class="synopsis">SDO_GEOR.getDefaultColorLayer(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref621"></a>Description</p>
<p>Returns the default numbers of the layers to be used for the red, green, and blue color components, respectively, for displaying a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref622"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref623"></a>Usage Notes</p>
<p>The RGB layer numbers returned are used for true-color displays, not for pseudocolor or grayscale displays.</p>
<p>You can return the layer number for each color component (RGB) by using the <a href="#CHEIFFHG">SDO_GEOR.getDefaultRed</a>, <a href="#CHEEFGHE">SDO_GEOR.getDefaultGreen</a>, and <a href="#CHECCGHI">SDO_GEOR.getDefaultBlue</a> functions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref624"></a>Examples</p>
<p>The following example sets the default red, green, and blue color layers for the GeoRaster objects (GEORASTER column) in table GEORASTER_TABLE, and it returns an array with the layer numbers for the red, green, and blue color components for displaying these GeoRaster objects. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setDefaultRed(grobj, 2);
  sdo_geor.setDefaultGreen(grobj, 3);
  sdo_geor.setDefaultBlue(grobj, 1);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/

SELECT sdo_geor.getDefaultColorLayer(georaster) FROM georaster_table WHERE georid=4;
 
SDO_GEOR.GETDEFAULTCOLORLAYER(GEORASTER)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(2, 3, 1)
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEFGHE"></a>
<div id="GEORS1056" class="refsect1">
<h2 class="refsect1"><a id="sthref625"></a><a id="sthref626"></a>SDO_GEOR.getDefaultGreen</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref627"></a>Format</p>
<p class="synopsis">SDO_GEOR.getDefaultGreen(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref628"></a>Description</p>
<p>Returns the number of the layer to be used for the green color component (in the RGB color space) for displaying a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref629"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref630"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>You can return the layer numbers for all three color components (RGB) by using the <a href="#CHEDJCCC">SDO_GEOR.getDefaultColorLayer</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref631"></a>Examples</p>
<p>The following example returns the layer numbers for the red, blue, and green color components for displaying the GeoRaster objects in the table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getDefaultRed(georaster) red,
  sdo_geor.getDefaultGreen(georaster) green,
  sdo_geor.getDefaultBlue(georaster) blue
FROM georaster_table;
 
    GEORID        RED      GREEN       BLUE
---------- ---------- ---------- ----------
         1          1          2          3
         2
         3         31         20         13
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIFFHG"></a>
<div id="GEORS1057" class="refsect1">
<h2 class="refsect1"><a id="sthref632"></a><a id="sthref633"></a>SDO_GEOR.getDefaultRed</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref634"></a>Format</p>
<p class="synopsis">SDO_GEOR.getDefaultRed(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref635"></a>Description</p>
<p>Returns the number of the layer to be used for the red color component (in the RGB color space) for displaying a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref636"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref637"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>You can return the layer numbers for all three color components (RGB) by using the <a href="#CHEDJCCC">SDO_GEOR.getDefaultColorLayer</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref638"></a>Examples</p>
<p>The following example returns the layer numbers for the red, blue, and green color components for displaying the GeoRaster objects in the table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getDefaultRed(georaster) red,
  sdo_geor.getDefaultGreen(georaster) green,
  sdo_geor.getDefaultBlue(georaster) blue
FROM georaster_table;
 
    GEORID        RED      GREEN       BLUE
---------- ---------- ---------- ----------
         1          1          2          3
         2
         3         31         20         13
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHDCEF"></a>
<div id="GEORS1058" class="refsect1">
<h2 class="refsect1"><a id="sthref639"></a><a id="sthref640"></a>SDO_GEOR.getEndDateTime</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref641"></a>Format</p>
<p class="synopsis">SDO_GEOR.getEndDateTime(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN TIMESTAMP WITH TIME ZONE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref642"></a>Description</p>
<p>Returns the ending date and time for raster data collection in the metadata for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref643"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref644"></a>Usage Notes</p>
<p>To set the ending date and time for raster data collection in the metadata for a GeoRaster object, use the <a href="#CHEDDGJH">SDO_GEOR.setEndDateTime</a> procedure.</p>
<p>If <code>georaster</code> or its metadata is null, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref645"></a>Examples</p>
<p>The following example returns the beginning and ending dates and times for raster data collection in the metadata for the GeoRaster object in a table named GEORASTER_TABLE where the GEORID column contains the value 4. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getBeginDateTime(georaster) beginDateTime,
  sdo_geor.getEndDateTime(georaster) endDateTime
  FROM georaster_table WHERE georid=4;
 
BEGINDATETIME
---------------------------------------------------------------------------
ENDDATETIME
---------------------------------------------------------------------------
01-JAN-00 05.00.00.000000000 AM +00:00
15-NOV-02 08.00.00.000000000 PM +00:00
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEAFFE"></a>
<div id="GEORS1201" class="refsect1">
<h2 class="refsect1"><a id="sthref646"></a><a id="sthref647"></a>SDO_GEOR.getGCPGeorefMethod</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref648"></a>Format</p>
<p class="synopsis">SDO_GEOR.getGCPGeorefMethod(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref649"></a>Description</p>
<p>Returns the ground control point (GCP)-based georeferencing geometric model type of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref650"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref651"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>If <code>inGeoraster</code> does contains valid georeferencing model information, it returns one of the following values: <code>Affine</code>, <code>QuadraticPolynomial</code>, <code>CubicPolynomial</code>, <code>DLT</code>, <code>QuadraticRational</code>, or <code>RPC</code>.</p>
<p>If <code>inGeoraster</code> does not contain any georeferencing model information, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref652"></a>Examples</p>
<p>The following example returns the GCP-based georeferencing model information in a specified GeoRaster object. (The output is reformatted for readability.)</p>
<pre>
SELECT sdo_geor.getGCPGeorefMethod(georaster) FROM georaster_table
  WHERE georid =10;

SDO_GEOR.GETGCPGEOREFMETHOD(GEORASTER)
--------------------------------------------------------------------------------
Affine
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEBIJH"></a>
<div id="GEORS1202" class="refsect1">
<h2 class="refsect1"><a id="sthref653"></a><a id="sthref654"></a>SDO_GEOR.getGCPGeorefModel</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref655"></a>Format</p>
<p class="synopsis">SDO_GEOR.getGCPGeorefModel(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_GCPGEOREFTYPE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref656"></a>Description</p>
<p>Returns all information about the ground control point (GCP)-based georeferencing model in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref657"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref658"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>The SDO_GEOR_GCPGEOREFTYPE object type is defined in <a href="geor_datatypes_metadata.htm#BABJEABH">Section 2.3.8</a>.</p>
<p>If <code>inGeoraster</code> does not contain any georeferencing model information, this function returns a null value.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref659"></a>Examples</p>
<p>The following example returns the GCP-based georeferencing model information in a specified GeoRaster object. (The output is reformatted for readability.)</p>
<pre>
SELECT sdo_geor.getGCPGeorefModel(georaster) FROM georaster_table WHERE georid=10;
 
SDO_GEOR.GETGCPGEOREFMODEL(GEORASTER)(FFMETHODTYPE, 
NUMBERGCP, GCPS(POINTID, DES...
--------------------------------------------------------------------------------
SDO_GEOR_GCPGEOREFTYPE('Affine', 6, 
SDO_GEOR_GCP_COLLECTION(
SDO_GEOR_GCP('21', NULL, 1, 2,SDO_NUMBER_ARRAY(25.625, 73.875), 2, SDO_NUMBER_ARRAY(237036.938,897987.188), NULL, NULL), 
SDO_GEOR_GCP('22', NULL, 1, 2,SDO_NUMBER_ARRAY(100.625, 459.125), 2,SDO_NUMBER_ARRAY(237229.563, 897949.688), NULL, NULL), 
SDO_GEOR_GCP('23', NULL, 1, 2, SDO_NUMBER_ARRAY(362.375, 77.875), 2, 
SDO_NUMBER_ARRAY(237038.938, 897818.813), NULL, NULL), 
SDO_GEOR_GCP('24', NULL, 1, 2, SDO_NUMBER_ARRAY(478.875, 402.125), 2, 
SDO_NUMBER_ARRAY(237201.063, 897760.563), NULL, NULL), 
SDO_GEOR_GCP('25', NULL, 2, 2, SDO_NUMBER_ARRAY(167.470583, 
64.030686), 2, SDO_NUMBER_ARRAY(237032.015, 897916.265), NULL, NULL), 
SDO_GEOR_GCP('26', NULL, 2, 2, SDO_NUMBER_ARRAY(101.456177, 
257.915534), 2, SDO_NUMBER_ARRAY(237128.958, 897949.272), NULL, NULL)), 
NULL)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDBJD"></a>
<div id="GEORS1059" class="refsect1">
<h2 class="refsect1"><a id="sthref660"></a><a id="sthref661"></a>SDO_GEOR.getGeoreferenceType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref662"></a>Format</p>
<p class="synopsis">SDO_GEOR.getGeoreferenceType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref663"></a>Description</p>
<p>Returns a number that indicates the georeference type for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref664"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref665"></a>Usage Notes</p>
<p>This function returns one of the following numbers to indicate the georeference type: 1 for unknown type or null GeoRaster object, 2 for affine transform, 3 for direct linear transform (DLT), 4 for rational polynomial coefficient (RPC), 5 for cubic polynomial, 6 for quadratic rational polynomial, or 7 for quadratic polynomial.</p>
<p>For an explanation of georeferencing, see <a href="geor_intro.htm#CHDGCAIA">Section 1.6</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref666"></a>Examples</p>
<p>The following example returns the georeference type for the GeoRaster objects in a table named GEORASTER_TABLE. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT georid,sdo_geor.getGeoreferenceType(a.georaster)
  FROM georaster_table a ORDER BY georid;
 
    GEORID SDO_GEOR.GETGEOREFERENCETYPE(A.GEORASTER)
---------- -----------------------------------------
         1                                         1
         2                                         1
         3                                         1
         4                                         1
         5                                         1
         7                                         1
         8                                         2
         9                                         1
        10                                         1
        12                                         1
        13                                         1
        14                                         2
        15                                         1
        16                                         1
        17                                         1
        18                                         1
        19                                         2
        20                                         2
        21                                         4
        22                                         4
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHGBBE"></a>
<div id="GEORS1060" class="refsect1">
<h2 class="refsect1"><a id="sthref667"></a><a id="sthref668"></a><a id="sthref669"></a>SDO_GEOR.getGrayScale</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref670"></a>Format</p>
<p class="synopsis">SDO_GEOR.getGrayScale(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_GRAYSCALE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref671"></a>Description</p>
<p>Returns the grayscale mappings for a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref672"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the grayscale mappings. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref673"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOR_GRAYSCALE. <a href="geor_datatypes_metadata.htm#BGBDBDGJ">Section 2.3.3</a> describes grayscale display and this object type.</p>
<p>To set the grayscale mappings for a layer in a GeoRaster object, use the <a href="#CHECBDBB">SDO_GEOR.setGrayScale</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref674"></a>Examples</p>
<p>The following example returns the grayscale mappings for layer 0 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 0 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getGrayScale(georaster, 0) FROM georaster_table WHERE georid=0;
 
SDO_GEOR.GETGRAYSCALE(GEORASTER,0)(CELLVALUE, GRAY)
--------------------------------------------------------------------------------
SDO_GEOR_GRAYSCALE(SDO_NUMBER_ARRAY(10, 20, 30, 255), SDO_NUMBER_ARRAY(180, 210,
230, 250))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECHDJA"></a>
<div id="GEORS1061" class="refsect1">
<h2 class="refsect1"><a id="sthref675"></a><a id="sthref676"></a><a id="sthref677"></a>SDO_GEOR.getGrayScaleTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref678"></a>Format</p>
<p class="synopsis">SDO_GEOR.getGrayScaleTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref679"></a>Description</p>
<p>Returns the grayscale mapping table for a layer in a GeoRaster object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the grayscale mapping table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref680"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the grayscale mapping table. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref681"></a>Usage Notes</p>
<p>This function returns the name of a user-defined grayscale table. <a href="geor_datatypes_metadata.htm#BGBDBDGJ">Section 2.3.3</a> describes grayscale display.</p>
<p>To set the grayscale mapping table for a layer in a GeoRaster object, use the <a href="#CHEBEDGH">SDO_GEOR.setGrayScaleTable</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref682"></a>Examples</p>
<p>The following example returns the grayscale mapping tables for layers 0, 1, 2, and 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT substr(sdo_geor.getGrayScaleTable(georaster, 0),1,20) grayScaleTable0,
       substr(sdo_geor.getGrayScaleTable(georaster, 1),1,20) grayScaleTable1,
       substr(sdo_geor.getGrayScaleTable(georaster, 2),1,20) grayScaleTable2,
       substr(sdo_geor.getGrayScaleTable(georaster, 3),1,20) grayScaleTable3
  FROM georaster_table WHERE georid=4;

GRAYSCALETABLE0      GRAYSCALETABLE1      GRAYSCALETABLE2      GRAYSCALETABLE3
-------------------- -------------------- -------------------- -----------------
SCL0                 SCL1                 SCL2                 SCL3
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECGAEE"></a>
<div id="GEORS1062" class="refsect1">
<h2 class="refsect1"><a id="sthref683"></a><a id="sthref684"></a><a id="sthref685"></a>SDO_GEOR.getHistogram</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref686"></a>Format</p>
<p class="synopsis">SDO_GEOR.getHistogram(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_HISTOGRAM;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref687"></a>Description</p>
<p>Returns the histogram for a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref688"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the histogram. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref689"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOR_HISTOGRAM. <a href="geor_datatypes_metadata.htm#BGBCHBIC">Section 2.3.1</a> describes this object type and briefly discusses histograms.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref690"></a>Examples</p>
<p>The following example returns the histogram for layer 1 of a 4-bit GeoRaster object in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getHistogram(georaster, 1) layer1
 FROM georaster_table WHERE georid=17;
 
LAYER1(CELLVALUE, COUNT)
--------------------------------------------------------------------------------
SDO_GEOR_HISTOGRAM(SDO_NUMBER_ARRAY(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12, 13,
 14, 15), SDO_NUMBER_ARRAY(10, 18, 10, 110, 200, 120, 130, 150, 160, 103, 106,
 190, 12, 17, 10, 5))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEICDCB"></a>
<div id="GEORS1063" class="refsect1">
<h2 class="refsect1"><a id="sthref691"></a><a id="sthref692"></a><a id="sthref693"></a>SDO_GEOR.getHistogramTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref694"></a>Format</p>
<p class="synopsis">SDO_GEOR.getHistogramTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref695"></a>Description</p>
<p>Returns the histogram table for a layer in a GeoRaster object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the histogram table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref696"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the name of the histogram table. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref697"></a>Usage Notes</p>
<p>This function returns a user-defined histogram table. <a href="geor_datatypes_metadata.htm#BGBCHBIC">Section 2.3.1</a> briefly discusses histograms.</p>
<p>To set the name of the histogram table for a layer, use the <a href="#CHEIEEIB">SDO_GEOR.setHistogramTable</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref698"></a>Examples</p>
<p>The following example returns the histogram tables for layers 0 (the whole object), 1, 2, and 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT substr(sdo_geor.getHistogramTable(georaster, 0),1,20) histogramTable0,
       substr(sdo_geor.getHistogramTable(georaster, 1),1,20) histogramTable1,
       substr(sdo_geor.getHistogramTable(georaster, 2),1,20) histogramTable2,
       substr(sdo_geor.getHistogramTable(georaster, 3),1,20) histogramTable3
  FROM georaster_table WHERE georid=4;

HISTOGRAMTABLE0      HISTOGRAMTABLE1      HISTOGRAMTABLE2      HISTOGRAMTABLE3
-------------------- -------------------- -------------------- -----------------
HIST0                HIST1                HIST2                HIST3
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFCEJD"></a>
<div id="GEORS1064" class="refsect1">
<h2 class="refsect1"><a id="sthref699"></a><a id="sthref700"></a>SDO_GEOR.getID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref701"></a>Format</p>
<p class="synopsis">SDO_GEOR.getID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref702"></a>Description</p>
<p>Returns the user-defined identifier value associated with a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref703"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref704"></a>Usage Notes</p>
<p>To set a user-defined identifier value for a GeoRaster object, use the <a href="#CHECJJHG">SDO_GEOR.setID</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref705"></a>Examples</p>
<p>The following example returns the user-defined identifier values of the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, substr(sdo_geor.getID(georaster),1,50) GEOR_ID
  FROM georaster_table;

    GEORID GEOR_ID 
---------- --------------------------------------------------
         2 TM_102
         4 TM_104
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGIGFH"></a>
<div id="GEORS1065" class="refsect1">
<h2 class="refsect1"><a id="sthref706"></a><a id="sthref707"></a><a id="sthref708"></a>SDO_GEOR.getInterleavingType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref709"></a>Format</p>
<p class="synopsis">SDO_GEOR.getInterleavingType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref710"></a>Description</p>
<p>Returns the interleaving type for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref711"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref712"></a>Usage Notes</p>
<p>This function returns one of the following values: <code>BSQ</code> (band sequential), <code>BIL</code> (band interleaved by line), or <code>BIP</code> (band interleaved by pixel).</p>
<p>To change the interleaving type for a GeoRaster object, use the <a href="#CHEJCEBJ">SDO_GEOR.changeFormatCopy</a> procedure, and use the <code>interleaving</code> keyword in the <code>storageParam</code> parameter string.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref713"></a>Examples</p>
<p>The following example returns the cell depth, interleaving type, and blocking type of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getCellDepth(georaster) CellDepth,
       substr(sdo_geor.getInterleavingType(georaster),1,8) interleavingType,
       substr(sdo_geor.getBlockingType(georaster),1,8) blocking
  FROM georaster_table WHERE georid=21;

 CELLDEPTH INTERLEA BLOCKING
---------- -------- --------
         8 BSQ      REGULAR
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGDADG"></a>
<div id="GEORS1066" class="refsect1">
<h2 class="refsect1"><a id="sthref714"></a><a id="sthref715"></a><a id="sthref716"></a>SDO_GEOR.getLayerDimension</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref717"></a>Format</p>
<p class="synopsis">SDO_GEOR.getLayerDimension(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_STRING_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref718"></a>Description</p>
<p>Returns the dimension that is mapped as the logical layer dimension of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref719"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref720"></a>Usage Notes</p>
<p>The <span class="bold">layer dimension</span> refers to the physical entity associated with the logical term <span class="italic">layer</span>. For the current release, the only supported layer dimension is <code>BAND</code>: that is, the logical concept <span class="italic">layer</span> is associated with the physical term <span class="italic">band</span>, as shown in <a href="geor_intro.htm#CHDDICBC">Figure 1-5</a> in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>. In this case, layers will be mapped to the <code>BAND</code> dimension, so that the first layer is band 0, the second layer is band 1, and so on.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref721"></a>Examples</p>
<p>The following example returns the layer dimension of each GeoRaster object (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. (The output is reformatted for readability.)</p>
<pre>
SELECT georid, sdo_geor.getLayerDimension(georaster) FROM georaster_table;

    GEORID SDO_GEOR.GETLAYERDIMENSION(GEORASTER)
---------- ------------------------------------------------------------------
         2 SDO_STRING_ARRAY('BAND')
         4 SDO_STRING_ARRAY('BAND')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEFGAF"></a>
<div id="GEORS1067" class="refsect1">
<h2 class="refsect1"><a id="sthref722"></a><a id="sthref723"></a><a id="sthref724"></a>SDO_GEOR.getLayerID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref725"></a>Format</p>
<p class="synopsis">SDO_GEOR.getLayerID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref726"></a>Description</p>
<p>Returns the user-defined identifier value associated with a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref727"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the user-defined identifier value. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref728"></a>Usage Notes</p>
<p>To set a user-defined identifier value for a layer in a GeoRaster object, use the <a href="#CHEIFFCI">SDO_GEOR.setLayerID</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref729"></a>Examples</p>
<p>The following example returns the user-defined identifier values of layers 0, 1, 2, and 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT substr(sdo_geor.getLayerID(georaster, 0),1,12) layerID0,
       substr(sdo_geor.getLayerID(georaster, 1),1,12) layerID1,
       substr(sdo_geor.getLayerID(georaster, 2),1,12) layerID2,
       substr(sdo_geor.getLayerID(georaster, 3),1,12) layerID3
  FROM georaster_table WHERE georid=4;

LAYERID0     LAYERID1     LAYERID2     LAYERID3
------------ ------------ ------------ ------------
TM543        TM3          TM4          TM5
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDJHEC"></a>
<div id="GEORS1068" class="refsect1">
<h2 class="refsect1"><a id="sthref730"></a><a id="sthref731"></a><a id="sthref732"></a>SDO_GEOR.getLayerOrdinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref733"></a>Format</p>
<p class="synopsis">SDO_GEOR.getLayerOrdinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref734"></a>Description</p>
<p>Returns the band ordinate for a layer in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref735"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the physical band ordinate. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref736"></a>Usage Notes</p>
<p>The returned number refers to the physical band that a layer (<code>layerNumber</code> parameter value) is associated with. For the current release, by default the associations are as shown in <a href="geor_intro.htm#CHDDICBC">Figure 1-5</a> in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>: layer 1 is band 0, layer 2 is band 1, and so on.</p>
<p>To set the band ordinate value for a layer, use the <a href="#CHEIFGAG">SDO_GEOR.setLayerOrdinate</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref737"></a>Examples</p>
<p>The following example returns the band numbers associated with layers 0, 1, 2, and 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT sdo_geor.getLayerOrdinate(georaster, 0) layerOrdinate0,
       sdo_geor.getLayerOrdinate(georaster, 1) layerOrdinate1,
       sdo_geor.getLayerOrdinate(georaster, 2) layerOrdinate2,
       sdo_geor.getLayerOrdinate(georaster, 3) layerOrdinate3
  FROM georaster_table WHERE georid=4;

LAYERORDINATE0 LAYERORDINATE1 LAYERORDINATE2 LAYERORDINATE3
-------------- -------------- -------------- --------------
                            0              1              2
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGGJBA"></a>
<div id="GEORS1069" class="refsect1">
<h2 class="refsect1"><a id="sthref738"></a><a id="sthref739"></a>SDO_GEOR.getModelCoordinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref740"></a>Format</p>
<p class="synopsis">SDO_GEOR.getModelCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellCoordinate IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getModelCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellCoordinate IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordinate OUT SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height IN NUMBER DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref741"></a>Description</p>
<p>Returns a geometry associated with the specified cell (raster) coordinates at the specified pyramid level.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref742"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level containing the cell specified in <code>cellCoordinate</code>.</p>
</dd>
<dt>cellCoordinate</dt>
<dd>
<p>If the type is SDO_NUMBER_ARRAY, <code>cellCoordinate</code> is an array of two coordinates identifying the point in the cell coordinate system: the two coordinates are the row number and column number of the point. If the type is SDO_GEOMETRY, <code>cellCoordinate</code> specifies a geometry in the cell coordinate system</p>
</dd>
<dt>modelCoordinate</dt>
<dd>
<p>The output geometry.</p>
</dd>
<dt>height</dt>
<dd>
<p>Number specifying the Z value for three-dimensional (X, Y, Z) georeferencing.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref743"></a>Usage Notes</p>
<p>SDO_GEOR.getModelCoordinate has two formats:</p>
<ul>
<li>
<p>Use the first format (a function without the <code>modelCoordinate</code> parameter) to transform the location of a point in the GeoRaster object's raster space.</p>
</li>
<li>
<p>Use the second format (a procedure with the <code>modelCoordinate</code> parameter) to transform a geometry in the raster space of the GeoRaster object. The conversion is done by converting the coordinates of each vertex of the input geometry. Use an appropriate input geometry so that the output geometry will be valid. For example, if the model coordinate system is geodetic, the input geometry should not contain any arcs.</p>
</li>
</ul>
<p>Use SDO_GEOR.getModelCoordinate to transform the location of a point on the GeoRaster object to the longitude and latitude coordinates of its associated point in the ground coordinate system.</p>
<p>If the GeoRaster object is georeferenced, the output geometry contains the coordinates in the model (ground) coordinate system. If the GeoRaster object is not georeferenced, the output geometry contains cell coordinates at the original image level.</p>
<p>If the GeoRaster object is georeferenced, the SDO_SRID value of the output geometry is the same as the model SRID of the GeoRaster object.</p>
<p>Contrast SDO_GEOR.getModelCoordinate with <a href="#CHEFAGJE">SDO_GEOR.getCellCoordinate</a>, which returns the coordinates in the cell (raster) coordinate system associated with the point at the specified model (ground) coordinates.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref744"></a>Examples</p>
<p>The following example returns a point geometry object containing the model coordinates associated with cell coordinates (100,100) in a specified GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SET NUMWIDTH 20
SELECT sdo_geor.getModelCoordinate(georaster, 0,
sdo_number_array(100,100)) mcoord
  FROM georaster_table WHERE georid=4;
 
MCOORD(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
--------------------------------------------------------------------------------
 
SDO_GEOMETRY(2001, 82394, SDO_POINT_TYPE(347.666315789474, 43274.9052631579, NUL
L), NULL, NULL)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGAHIF"></a>
<div id="GEORS1070" class="refsect1">
<h2 class="refsect1"><a id="sthref745"></a><a id="sthref746"></a>SDO_GEOR.getModelCoordLocation</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref747"></a>Format</p>
<p class="synopsis">SDO_GEOR.getModelCoordLocation(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref748"></a>Description</p>
<p>Returns the model coordinate location value for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref749"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref750"></a>Usage Notes</p>
<p>This function returns a null value if the GeoRaster object is not georeferenced or if the <code>modelCoordinateLocation</code> element is not specified in the SRS metadata. Otherwise, it returns the <code>modelCoordinateLocation</code> element value specified in the SRS metadata.</p>
<p>A null return value or a value of <code>CENTER</code> means that the cell coordinate system is center-based. A value of <code>UPPERLEFT</code> means that the cell coordinate system is based on the upper-left corner.</p>
<p>To set or delete the model coordinate location value for a GeoRaster object, use the <a href="#CACECIEH">SDO_GEOR.setModelCoordLocation</a> procedure.</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref751"></a>Examples</p>
<p>The following example returns the model coordinate location of a specified GeoRaster object.</p>
<pre>
SELECT sdo_geor.getModelCoordLocation(georaster) modelCoordLocation
  FROM georaster_table
  WHERE georid = 1;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEBGJG"></a>
<div id="GEORS1071" class="refsect1">
<h2 class="refsect1"><a id="sthref752"></a><a id="sthref753"></a>SDO_GEOR.getModelSRID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref754"></a>Format</p>
<p class="synopsis">SDO_GEOR.getModelSRID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref755"></a>Description</p>
<p>Returns the coordinate system (SDO_SRID value) associated with the model (ground) space for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref756"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref757"></a>Usage Notes</p>
<p>This function returns a null value if no coordinate system is associated with the model space.</p>
<p>To set the coordinate system (SDO_SRID value) associated with the model space, use the <a href="#CHEFJEFG">SDO_GEOR.setModelSRID</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref758"></a>Examples</p>
<p>The following example returns the SDO_SRID values associated with the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getModelSRID(georaster) SRID FROM georaster_table;

    GEORID       SRID
---------- ----------
         2       82394
         4       82394
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIJCDB"></a>
<div id="GEORS1072" class="refsect1">
<h2 class="refsect1"><a id="sthref759"></a><a id="sthref760"></a><a id="sthref761"></a>SDO_GEOR.getNODATA</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref762"></a>Format</p>
<p class="synopsis">SDO_GEOR.getNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getNODATA(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_RANGE_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref763"></a>Description</p>
<p>Returns the values or value ranges that represent NODATA cells in a GeoRaster object (in ascending order, without duplicates).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref764"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Layer number in the GeoRaster object. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref765"></a>Usage Notes</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The first function format (returning a number) is deprecated, and will not be supported in future releases. You are encouraged to use the second format (returning an SDO_RANGE_ARRAY object).</div>
<p>Some cells of a GeoRaster object may have no meaningful value assigned or collected. Such cells contain a NODATA value are thus called NODATA cells, which means that those cells are not semantically defined. The application is responsible for defining the meaning or significance of cells identified as NODATA cells. For more information about NODATA values and value ranges, see <a href="geor_intro.htm#BABJCCBA">Section 1.9</a>.</p>
<p>This function returns all the NODATA values and value ranges associated with a specified raster layer of the specified GeoRaster object, in ascending order and in a compact form with duplicates eliminated. The set of NODATA values and value ranges associated with a sublayer (<code>layerNumber</code> &gt; 0) is always a superset of the values and value ranges of the object layer (<code>layerNumber</code> = 0). The result for a sublayer is the combination of the NODATA metadata entries for the specified sublayer, the object layer, and any pre-release 11<span class="italic">g</span> NODATA metadata stored as part of the raster description information.</p>
<p>If the specified GeoRaster object or layer has more than one NODATA value, you must use the function format that returns an SDO_RANGE_ARRAY object. The SDO_RANGE_ARRAY type is described in <a href="geor_intro.htm#BABJCCBA">Section 1.9</a>.</p>
<p>If this function returns a null value, it means that all cells of the GeoRaster object or of the specified layer are defined and have a meaningful cell value.</p>
<p>To specify the NODATA values for a GeoRaster object, use the <a href="#CHEGGHIC">SDO_GEOR.addNODATA</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref766"></a>Examples</p>
<p>The following example returns the value to be used for NODATA cells in the GeoRaster objects (GEORASTER column) in table GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT SDO_GEOR.getNODATA(georaster, 0) NODATA FROM georaster_table WHERE georid=0;

NODATA
------------
SDO_RANGE_ARRAY(SDO_RANGE(5,7))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECHFCB"></a>
<div id="GEORS1073" class="refsect1">
<h2 class="refsect1"><a id="sthref767"></a><a id="sthref768"></a><a id="sthref769"></a>SDO_GEOR.getPyramidMaxLevel</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref770"></a>Format</p>
<p class="synopsis">SDO_GEOR.getPyramidMaxLevel(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref771"></a>Description</p>
<p>Returns the level number of the top pyramid of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref772"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref773"></a>Usage Notes</p>
<p>For information about pyramids, see <a href="geor_intro.htm#CHDDEGJJ">Section 1.7</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref774"></a>Examples</p>
<p>The following example returns the pyramid type and level number of the top pyramid for the GeoRaster object (GEORASTER column) in the row with an GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT substr(sdo_geor.getPyramidType(georaster),1,10) pyramidType,
       sdo_geor.getPyramidMaxLevel(georaster) maxLevel
  FROM georaster_table WHERE georid=21;

PYRAMIDTYP   MAXLEVEL
---------- ----------
DECREASE            3
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFAJFF"></a>
<div id="GEORS1074" class="refsect1">
<h2 class="refsect1"><a id="sthref775"></a><a id="sthref776"></a>SDO_GEOR.getPyramidType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref777"></a>Format</p>
<p class="synopsis">SDO_GEOR.getPyramidType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref778"></a>Description</p>
<p>Returns the pyramid type for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref779"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref780"></a>Usage Notes</p>
<p>The pyramid type can be <code>NONE</code> (no pyramids) or <code>DECREASE</code>.</p>
<p>For information about pyramids, see <a href="geor_intro.htm#CHDDEGJJ">Section 1.7</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref781"></a>Examples</p>
<p>The following example returns the pyramid type and level number of the top pyramid for the GeoRaster object (GEORASTER column) in the row with an GEORID column value of 21 in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT substr(sdo_geor.getPyramidType(georaster),1,10) pyramidType,
       sdo_geor.getPyramidMaxLevel(georaster) maxLevel
  FROM georaster_table WHERE georid=21;

PYRAMIDTYP   MAXLEVEL
---------- ----------
DECREASE            3
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBGFAE"></a>
<div id="GEORS1075" class="refsect1">
<h2 class="refsect1"><a id="sthref782"></a><a id="sthref783"></a>SDO_GEOR.getRasterBlockLocator</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref784"></a>Format</p>
<p class="synopsis">SDO_GEOR.getRasterBlockLocator(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandBlockNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowBlockNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;columnBlockNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loc IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isBitmapMask IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lock_for_write IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref785"></a>Description</p>
<p>Gets the LOB locator of a specified raster block.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref786"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level of the block.</p>
</dd>
<dt>bandBlockNumber</dt>
<dd>
<p>Band number of the block.</p>
</dd>
<dt>rowBlockNumber</dt>
<dd>
<p>Row number of the block.</p>
</dd>
<dt>columnBlockNumber</dt>
<dd>
<p>Column number of the block.</p>
</dd>
<dt>loc</dt>
<dd>
<p>LOB locator.</p>
</dd>
<dt>isBitmapMask</dt>
<dd>
<p>The string <code>TRUE</code> specifies that a bitmap mask block will be accessed; the string <code>FALSE</code> specifies that a regular raster block will be accessed. If you do not specify this parameter, a regular raster block will be accessed. For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</dd>
<dt>lockForWrite</dt>
<dd>
<p>The string <code>TRUE</code> locks the row in the raster data table so that other users cannot lock or update that row until the current transaction ends; the string <code>FALSE</code> does not lock the row in the raster data table. If you do not specify this parameter, the row is not locked.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref787"></a>Usage Notes</p>
<p>This procedure gets the raster block locator using the specified parameters. The LOB locator is not opened, and no data is read or processed. You should use standard LOB operations to open and close the LOB locator and to read data from and write data to the LOB locator.</p>
<p>To ensure that data is read or written correctly, you must understand the physical storage of the raster data (described in <a href="geor_intro.htm#CHDHHBAH">Section 1.4</a>), and you must compress and decompress the raster data as needed.</p>
<p>For information about LOB locators, see <a class="olink ADLOB" href="../e18294/toc.htm"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref788"></a>Examples</p>
<p>The following example gets the LOB locators of two raster blocks, the first a regular raster block and the second a bitmap mask block. Both calls to the SDO_GEOR.getRasterBlockLocator procedure lock the row in the raster data table.</p>
<pre>
declare
gr sdo_georaster;
lb blob;
r1 raw(1024);
 
ln number;
begin
r1 := utl_raw.copies(utl_raw.cast_to_raw('0'),1024);
 
 
select georaster into gr from georaster_table where georid=1;
sdo_geor.getRasterBlockLocator(gr, 0, 0, 0, 0, lb, null, 'TRUE');
ln := 1024;
dbms_lob.write(lb, ln, 1, r1);
 
sdo_geor.getRasterBlockLocator(gr, 0, 0, 0, 0, lb, 'TRUE', 'TRUE');
ln := 128;
dbms_lob.write(lb, ln, 1, r1);
end;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHCBEC"></a>
<div id="GEORS1076" class="refsect1">
<h2 class="refsect1"><a id="sthref789"></a><a id="sthref790"></a>SDO_GEOR.getRasterBlocks</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref791"></a>Format</p>
<p class="synopsis">SDO_GEOR.getRasterBlocks(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_NUMBER_ARRAY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_RASTERSET;</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getRasterBlocks(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_RASTERSET;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref792"></a>Description</p>
<p>Returns an object of the SDO_RASTERSET collection type that identifies all blocks of a specified pyramid level that have any spatial interaction with a specified window.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref793"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level from which to return the blocks that have any spatial interaction with the specified window.</p>
</dd>
<dt>window</dt>
<dd>
<p>Window from which to return the blocks that are in <code>pyramidLevel</code>. The data type can be SDO_NUMBER_ARRAY or SDO_GEOMETRY. If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, see the Usage Notes for SDO_SRID requirements.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref794"></a>Usage Notes</p>
<p>The SDO_RASTERSET collection type is described in <a href="geor_datatypes_metadata.htm#BGBCEBCA">Section 2.3.4</a>.</p>
<p>If the <code>window</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:</p>
<ul>
<li>
<p>Null, to specify raster space</p>
</li>
<li>
<p>A value from the SRID column of the MDSYS.CS_SRS table</p>
<p>If the SDO_SRID values for the <code>window</code> parameter geometry and the model space are different, the <code>window</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref795"></a>Examples</p>
<p>The following example returns a collection set that identifies all raster blocks that have any spatial interaction with the specified window. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
  ds sdo_rasterset;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=2;
  ds := sdo_geor.getRasterBlocks(gr, 0, sdo_number_array(11,65,192,244));
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBDCDJ"></a>
<div id="GEORS1077" class="refsect1">
<h2 class="refsect1"><a id="sthref796"></a><a id="sthref797"></a>SDO_GEOR.getRasterData</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref798"></a>Format</p>
<p class="synopsis">SDO_GEOR.getRasterData(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref799"></a>Description</p>
<p>Creates a single BLOB object that contains all raster data of the input GeoRaster object at the specified pyramid level.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref800"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level for which to perform the operation.</p>
</dd>
<dt>rasterBlob</dt>
<dd>
<p>BLOB object to hold the result.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters to be applied in creating <code>rasterBlob</code>. The only <code>storageParam</code> keywords supported for this procedure are <code>celldepth</code>, <code>compression</code>, <code>interleaving</code>, and <code>quality</code>; all other keywords are ignored. Storage parameters are explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<p>If <code>storageParam</code> is null or not specified, the cell depth, interleaving, and compression type (and compression quality, if applicable) are the same as for the input GeoRaster object.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling sparse data. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>This parameter is useful when the source has empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). If this parameter is not specified, any cells that are derived from an empty raster block are filled with the value 0 in the output BLOB.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref801"></a>Usage Notes</p>
<p>If the GeoRaster object is blocked, the mosaic of all blocks of the specified pyramid level is returned.</p>
<p>After the procedure completes, the <code>rasterBlob</code> object contains the cell (pixel) data without tiling.</p>
<p>You can specify compression even if the input GeoRaster object is not compressed or is compressed in a different format from what you specify in the <code>storageParam</code> parameter. To have decompressed output for a compressed input GeoRaster object, specify <code>compression=NONE</code> in the <code>storageParam</code> parameter. For information about GeoRaster compression and decompression, see <a href="geor_intro.htm#CHDBEEJI">Section 1.10</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref802"></a>Examples</p>
<p>The following example creates a BLOB object, using full-format baseline JPEG (JPEG-F) compression, with all raster data from the GeoRaster object whose ID value is 2 in the GEORASTER_TABLE table. The definition of this table is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
DECLARE
  gr sdo_georaster;
  lb blob;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=2;
  dbms_lob.createTemporary(lb, FALSE);
  sdo_geor.getRasterData(gr, 0, lb, 'compress=JPEG-F');
  dbms_lob.freeTemporary(lb);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFEFCG"></a>
<div id="GEORS1078" class="refsect1">
<h2 class="refsect1"><a id="sthref803"></a><a id="sthref804"></a>SDO_GEOR.getRasterSubset</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref805"></a>Format</p>
<p class="synopsis">SDO_GEOR.getRasterSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getRasterSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inWindow IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getRasterSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.getRasterSubset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inWindow IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref806"></a>Description</p>
<p>Creates a single BLOB object containing all cells of a specified pyramid level that are inside or on the boundary of either a specified rectangular window or polygon geometry object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref807"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>Pyramid level on which to perform the operation.</p>
</dd>
<dt>window, inWindow</dt>
<dd>
<p>A rectangular window or a polygon geometry object from which to crop the cells. If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY and the <code>polygonClip</code> value is <code>FALSE</code>, the MBR of the geometry object is used as the window; if the data type is SDO_GEOMETRY and the <code>polygonClip</code> value is <code>TRUE</code>, the polygon geometry object (if valid) is used as the window. If the data type is SDO_GEOMETRY, see also the Usage Notes for SDO_SRID requirements.</p>
<p>If <code>window</code> or <code>inWindow</code> is of type SDO_NUMBER_ARRAY, use the <code>bandNumbers</code> parameter to specify one or more band numbers; if <code>window</code> or <code>inWindow</code> is of type SDO_GEOMETRY, use the <code>layerNumbers</code> parameter to specify one or more layer numbers.</p>
</dd>
<dt>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4). If you specify a null value for this parameter, the operation or operations are performed on all layers.</p>
</dd>
<dt>bandNumbers</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3). If you specify a null value for this parameter, the operation or operations are performed on all bands.</p>
</dd>
<dt>rasterBlob</dt>
<dd>
<p>BLOB object to hold the result (the mosaicked raster subset) of the operation. It must exist or have been initialized before the operation.</p>
</dd>
<dt>outWindow</dt>
<dd>
<p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters to be applied in creating <code>rasterBlob</code>. The only supported <code>storageParam</code> keywords supported for this procedure are <code>celldepth</code>, <code>compression</code>, <code>interleaving</code>, and <code>quality</code>; all other keywords are ignored. Storage parameters are explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<p>If storageParam is null or not specified, the cell depth, interleaving, and compression type (and compression quality, if applicable) are the same as for the input GeoRaster object.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling sparse data. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>This parameter is useful when the source has empty raster blocks and the output window intersects any empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). If this parameter is not specified, any cells in the output window that are derived from an empty raster block are filled with the value 0 in the output BLOB.</p>
</dd>
<dt>polygonClip</dt>
<dd>
<p>The string <code>TRUE</code> causes the <code>window</code> or <code>inWindow</code> geometry object to be used for the subset operation; the string <code>FALSE</code> or a null value causes the MBR (minimum bounding rectangle) of the <code>window</code> or <code>inWindow</code> geometry object to be used for the subset operation.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref808"></a>Usage Notes</p>
<p>This procedure has four formats, depending on whether the input window is specified as a geometry object or as the upper-left and lower-right corners of a box, and on whether the <code>outWindow</code> parameter is used to return the coordinates of the output window.</p>
<p>If the <code>window</code> or <code>inWindow</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:</p>
<ul>
<li>
<p>Null, to specify raster space</p>
</li>
<li>
<p>A value from the SRID column of the MDSYS.CS_SRS table</p>
<p>If the SDO_SRID values for the <code>window</code> parameter geometry and the model space are different, the <code>window</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
</li>
</ul>
<p>If the <code>window</code> or <code>inWindow</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>After the procedure completes, the <code>rasterBLOB</code> parameter contains the cell (pixel) data in the cropped window without tiling. The cropped window is the overlapping portion of the specified window of interest and the source GeoRaster object's spatial extent. If the <code>outWindow</code> parameter is specified, after the procedure completes it contains the coordinates of the cropped window in the cell space.</p>
<p>The BLOB has no padding, except when the cell depth is less than 8 bits and the total number of bits needed for the output cannot be divided by 8; in these cases, unlike normal padding, only the last byte of the result is padded with 0 (zeros) for the trailing bits.</p>
<p>If <code>polygonClip</code> is <code>TRUE</code>, and if this procedure creates a rectangular image subset but the geometry is not a rectangle, check the validity of the <code>inWindow</code> geometry object with the function SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT. For an invalid geometry, this procedure operates as if the <code>polygonClip</code> value is <code>FALSE</code> or a null value.</p>
<p>You can specify compression even if the input GeoRaster object is not compressed or is compressed in a different format from what you specify in the <code>storageParam</code> parameter. To have decompressed output for a compressed input GeoRaster object, specify <code>compression=NONE</code> in the <code>storageParam</code> parameter. For information about GeoRaster compression and decompression, see <a href="geor_intro.htm#CHDBEEJI">Section 1.10</a>.</p>
<p>If you want to get a subset and reproject it to another coordinate system, do not use this procedure, but instead use the <a href="#CACGDJFA">SDO_GEOR.reproject</a> procedure using a format that includes the <code>rasterBlob</code> parameter, so that this BLOB holds the desired subset.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref809"></a>Examples</p>
<p>The following example retrieves raster data of a specified pyramid level inside a specified window. (It refers to the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
  lb blob;
  win sdo_number_array;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=4;
  dbms_lob.createTemporary(lb, TRUE);
  win := sdo_number_array(-21,100,100,200);
  sdo_geor.getRasterSubset(gr, 0, win, null, lb);
  dbms_lob.freeTemporary(lb);
END;
/
</pre>
<p>The following example demonstrates how to get the window for the cropping. (It refers to the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
  lb blob;
  win1 sdo_geometry;
  win2 sdo_number_array;
BEGIN
  SELECT georaster INTO gr FROM georaster_table WHERE georid=4;
  dbms_lob.createTemporary(lb, TRUE);
  win1 := sdo_geometry(2003,82263,null,sdo_elem_info_array(1,1003,3),
                       sdo_ordinate_array(1828466,646447,1823400,642512));
  sdo_geor.getRasterSubset(gr, 0, win1, '1-3', lb, win2, 'compression=NONE');
  dbms_lob.freeTemporary(lb);
  IF win2 IS NOT NULL THEN
    dbms_output.put_line('output window: (' || win2(1) || ',' ||
                          win2(2) || ',' || win2(3) || ',' || win2(4) || ')');
  END IF;
END;
/
</pre>
<p>The following example demonstrates how to do clipping while querying a subset using a polygon.</p>
<pre>
DECLARE
  gr sdo_georaster;
  lb blob;
  win1 sdo_geometry;
  win2 sdo_number_array;
BEGIN
  dbms_lob.createTemporary(lb, TRUE);
  SELECT georaster INTO gr FROM rstpoly_table WHERE georid=1;
  -- querying/clipping polygon
  win1 := sdo_geometry(2003, 26986, null, sdo_elem_info_array(1,1003,1),
                sdo_ordinate_array(237040,   897924, 
                                   237013.3, 897831.6,
                                   237129,   897840,
                                   237182.5, 897785.5, 
                                   237239.9, 897902.7,
                                   237223,   897954,
                                   237133,   897899,
                                   237040,   897924));
  sdo_geor.getRasterSubset(gr, 0, win1, '1-3', 
                           lb, win2, NULL, NULL, <span class="bold">'TRUE'</span>);
  -- Then work on the resulting subset stored in lb.
END;
/ 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGAFIA"></a>
<div id="GEORS1079" class="refsect1">
<h2 class="refsect1"><a id="sthref810"></a><a id="sthref811"></a>SDO_GEOR.getScaling</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref812"></a>Format</p>
<p class="synopsis">SDO_GEOR.getScaling(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref813"></a>Description</p>
<p>Returns the coefficients of the scaling function for a layer of a GeoRaster object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the scaling function in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref814"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the coefficients. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref815"></a>Usage Notes</p>
<p>The scaling function is as follows:</p>
<pre>
value = (a<span class="subscript">0</span> + a<span class="subscript">1</span> * cellvalue) / (b<span class="subscript">0</span> + b<span class="subscript">1</span> * cellvalue)
</pre>
<p>The order of the coefficients is: a<sub>0</sub>, a<sub>1</sub>, b<sub>0</sub>, b<sub>1</sub>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref816"></a>Examples</p>
<p>The following example returns the scaling coefficients for layer number 0 (the whole object) of a specified GeoRaster object in a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. It scales original value range 0.0 to 1000.0 to be in the range 0.0 to 250.0.</p>
<pre>
SELECT sdo_geor.getScaling(georaster, 0) FROM georaster_table WHERE georid=0;
 
SDO_GEOR.GETSCALING(GEORASTER,0)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(0.0, 0.25, 1, 0.0)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJDIEE"></a>
<div id="GEORS1080" class="refsect1">
<h2 class="refsect1"><a id="sthref817"></a><a id="sthref818"></a><a id="sthref819"></a>SDO_GEOR.getSourceInfo</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref820"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSourceInfo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_STRING2_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref821"></a>Description</p>
<p>Gets the source information for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref822"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref823"></a>Usage Notes</p>
<p>This function returns the source information stored in the <code>&lt;sourceInfo&gt;</code> element in the metadata for the GeoRaster object (described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>).</p>
<p>The SDO_STRING2_ARRAY type is defined as <code>VARRAY(2147483647) OF VARCHAR2(4096)</code>.</p>
<p>To replace or delete source information, use the <a href="#CHEEADBI">SDO_GEOR.setSourceInfo</a> procedure. To add source information, use the <a href="#CHECBDAD">SDO_GEOR.addSourceInfo</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref824"></a>Examples</p>
<p>The following example sets and adds some source information for a specified GeoRaster object, and then retrieves the information.</p>
<pre>
declare
 gr sdo_georaster;
begin
 select georaster into gr from georaster_table where georid=1 for update;
 sdo_geor.setSourceInfo(gr, 'Copyright (c) 2002, 2007, Oracle Corporation.');
 sdo_geor.addSourceInfo(gr, 'All rights reserved.');
 update georaster_table set georaster=gr where georid=1;
end;
/
 
select * from table(select sdo_geor.getSourceInfo(georaster) from georaster_table where id=1);
 
COLUMN_VALUE
--------------------------------------------------------------------------------
Copyright (c) 2002, 2007, Oracle Corporation.
All rights reserved.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIGCDB"></a>
<div id="GEORS1081" class="refsect1">
<h2 class="refsect1"><a id="sthref825"></a><a id="sthref826"></a>SDO_GEOR.getSpatialDimNumber</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref827"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSpatialDimNumber(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref828"></a>Description</p>
<p>Returns the number of spatial dimensions of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref829"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref830"></a>Usage Notes</p>
<p>For the current release, this function always returns 2.</p>
<p>To return the number of cells in each spatial dimension of a GeoRaster object, use the <a href="#CHEHCGAI">SDO_GEOR.getSpatialDimSizes</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref831"></a>Examples</p>
<p>The following example returns the GEORID column value, the number of spatial dimensions, and the number of cells in each spatial dimension for the GeoRaster objects in the table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. (The output is reformatted for readability.)</p>
<pre>
SELECT georid, sdo_geor.getSpatialDimNumber(georaster) spatialDim,
           sdo_geor.getSpatialDimSizes(georaster) spatialDimSizes
   FROM georaster_table;
 
    GEORID SPATIALDIM SPATIALDIMSIZES
---------- ---------- --------------------------------------------------------
         0          2 SDO_NUMBER_ARRAY(1024, 1024)
 
         1          2 SDO_NUMBER_ARRAY(384, 251)
 
         2          2 SDO_NUMBER_ARRAY(512, 512)
 
         4          2 SDO_NUMBER_ARRAY(512, 512)
 
        11          2 SDO_NUMBER_ARRAY(7957, 5828)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHCGAI"></a>
<div id="GEORS1082" class="refsect1">
<h2 class="refsect1"><a id="sthref832"></a><a id="sthref833"></a>SDO_GEOR.getSpatialDimSizes</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref834"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSpatialDimSizes(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref835"></a>Description</p>
<p>Returns the number of cells in each spatial dimension of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref836"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref837"></a>Usage Notes</p>
<p>To return the number of spatial dimensions for a GeoRaster object, use the <a href="#CHEIGCDB">SDO_GEOR.getSpatialDimNumber</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref838"></a>Examples</p>
<p>The following example returns the spatial dimension sizes and the number of bands for a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT sdo_geor.getSpatialDimSizes(georaster) spatialDimSizes,
       sdo_geor.getBandDimSize(georaster) bandDimSize
  FROM georaster_table WHERE georid=21;

SPATIALDIMSIZES                  BANDDIMSIZE
--------------------------       -----------
SDO_NUMBER_ARRAY(512, 512)           1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJFAFA"></a>
<div id="GEORS1083" class="refsect1">
<h2 class="refsect1"><a id="sthref839"></a><a id="sthref840"></a><a id="sthref841"></a>SDO_GEOR.getSpatialResolutions</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref842"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSpatialResolutions(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref843"></a>Description</p>
<p>Returns the spatial resolution value along each spatial dimension of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref844"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref845"></a>Usage Notes</p>
<p>Each value indicates the number of units of measurement associated with the data area represented by that spatial dimension of a pixel. For example, if the spatial resolution values are (10,10) and the unit of measurement for the ground data is meters, each pixel represents an area of 10 meters by 10 meters.</p>
<p>The spatial resolutions may be inconsistent with the georeferencing information, especially when the GeoRaster object is not georectified. You can use the <a href="#CHEJEDBE">SDO_GEOR.setSpatialResolutions</a> procedure to set the spatial resolutions to be the average resolutions for an image or the resolutions when the data was collected. In this case, georeferencing information should be used for precise measurement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref846"></a>Examples</p>
<p>The following example returns the spatial resolution values along the column and row (X and Y) dimensions of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getSpatialResolutions(georaster) spatialResolution
  FROM georaster_table WHERE georid=42;

SPATIALRESOLUTION
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(28.5, 28.5)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEAJAJ"></a>
<div id="GEORS1084" class="refsect1">
<h2 class="refsect1"><a id="sthref847"></a><a id="sthref848"></a><a id="sthref849"></a>SDO_GEOR.getSpectralResolution</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref850"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSpectralResolution(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref851"></a>Description</p>
<p>Returns the spectral resolution of a GeoRaster object if it is a hyperspectral or multiband image.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref852"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref853"></a>Usage Notes</p>
<p>Taken together, the spectral unit and spectral resolution identify the wavelength interval for a band. For example, if the spectral resolution value is 2 and the spectral unit value is <code>MILLIMETER</code>, the wavelength interval for a band is 2 millimeters.</p>
<p>To set the spectral resolution for a GeoRaster object, use the <a href="#CHEHAGHF">SDO_GEOR.setSpectralResolution</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref854"></a>Examples</p>
<p>The following example returns the spectral unit and spectral resolution for all spatially referenced GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, substr(sdo_geor.getSpectralUnit(georaster),1,20) spectralUnit,
               sdo_geor.getSpectralResolution(georaster) spectralResolution
  FROM georaster_table
 WHERE sdo_geor.isSpatialReferenced(georaster)='TRUE';

    GEORID SPECTRALUNIT         SPECTRALRESOLUTION
---------- -------------------- ------------------
         4 MILLIMETER                        0.075
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGJHFJ"></a>
<div id="GEORS1085" class="refsect1">
<h2 class="refsect1"><a id="sthref855"></a><a id="sthref856"></a><a id="sthref857"></a>SDO_GEOR.getSpectralUnit</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref858"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSpectralUnit(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref859"></a>Description</p>
<p>Returns the unit of measurement for identifying the wavelength interval for a band.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref860"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref861"></a>Usage Notes</p>
<p>This function can return one of the following values: <code>METER</code>, <code>MILLIMETER</code>, <code>MICROMETER</code>, <code>NANOMETER</code>.</p>
<p>Taken together, the spectral unit and spectral resolution identify the wavelength interval for a band. For example, if the spectral resolution value is 2 and the spectral unit value is <code>MILLIMETER</code>, the wavelength interval for a band is 2 millimeters.</p>
<p>To set the spectral unit for a GeoRaster object, use the <a href="#CHEIAECG">SDO_GEOR.setSpectralUnit</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref862"></a>Examples</p>
<p>The following example returns the spectral unit and spectral resolution for all spatially referenced GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, substr(sdo_geor.getSpectralUnit(georaster),1,20) spectralUnit,
               sdo_geor.getSpectralResolution(georaster) spectralResolution
  FROM georaster_table
 WHERE sdo_geor.isSpatialReferenced(georaster)='TRUE';

    GEORID SPECTRALUNIT         SPECTRALRESOLUTION
---------- -------------------- ------------------
         4 MILLIMETER                        0.075
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGGDIF"></a>
<div id="GEORS1086" class="refsect1">
<h2 class="refsect1"><a id="sthref863"></a><a id="sthref864"></a>SDO_GEOR.getSRS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref865"></a>Format</p>
<p class="synopsis">SDO_GEOR.getSRS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOR_SRS;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref866"></a>Description</p>
<p>Returns an object of type SDO_GEOR_SRS containing information related to the spatial referencing of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref867"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref868"></a>Usage Notes</p>
<p>The SDO_GEOR_SRS object type is described in <a href="geor_datatypes_metadata.htm#BGBHEHHA">Section 2.3.5</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref869"></a>Examples</p>
<p>The following example returns information related to the spatial referencing of all spatially referenced GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getSRS(georaster) SRS 
  FROM georaster_table
  WHERE sdo_geor.isSpatialReferenced(georaster)='TRUE';
 
    GEORID
----------
SRS(ISREFERENCED, ISRECTIFIED, ISORTHORECTIFIED, SRID, SPATIALRESOLUTION, SPATIA
--------------------------------------------------------------------------------
         4
SDO_GEOR_SRS('TRUE', 'TRUE', NULL, 82262, SDO_NUMBER_ARRAY(28.5, 28.5), NULL, NU
LL, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, NULL, NULL, NULL, SDO_NUMBER_ARRAY(1, 2, 1, 3,
 32631.5614, 0, -.03508772), SDO_NUMBER_ARRAY(1, 0, 0, 1, 1), SDO_NUMBER_ARRAY(1
, 2, 1, 3, -7894.7544, .035087719, 0), SDO_NUMBER_ARRAY(1, 0, 0, 1, 1) , NULL, 
NULL, NULL, NULL, NULL)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGDEIA"></a>
<div id="GEORS1087" class="refsect1">
<h2 class="refsect1"><a id="sthref870"></a><a id="sthref871"></a>SDO_GEOR.getStatistics</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref872"></a>Format</p>
<p class="synopsis">SDO_GEOR.getStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref873"></a>Description</p>
<p>Returns statistical data associated with a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref874"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the statistics. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref875"></a>Usage Notes</p>
<p>This function returns statistical data described by the <code>&lt;statisticDatasetType&gt;</code> element in the GeoRaster metadata XML schema, which is described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>. The function returns an array with the following values: <code>MIN</code>, <code>MAX</code>, <code>MEAN</code>, <code>MEDIAN</code>, <code>MODEVALUE</code>, and <code>STD</code>.</p>
<p>To set the statistical data associated with a layer, use the <a href="#CHECGIGA">SDO_GEOR.setStatistics</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref876"></a>Examples</p>
<p>The following example returns statistical data for layer 1 of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getStatistics(georaster, 1) layer1
FROM georaster_table WHERE georid=4;
 
LAYER1
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(0, 255, 100, 127, 95, 25)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFFBIE"></a>
<div id="GEORS1088" class="refsect1">
<h2 class="refsect1"><a id="sthref877"></a><a id="sthref878"></a>SDO_GEOR.getTotalLayerNumber</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref879"></a>Format</p>
<p class="synopsis">SDO_GEOR.getTotalLayerNumber(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref880"></a>Description</p>
<p>Returns the total number of layers in a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref881"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref882"></a>Usage Notes</p>
<p>For information about layers, see <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref883"></a>Examples</p>
<p>The following example returns the total number of layers in each GeoRaster object (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
SELECT georid, sdo_geor.getTotalLayerNumber(georaster) totalLayerNumber
  FROM georaster_table;

    GEORID TOTALLAYERNUMBER
---------- ----------------
         2                1
         4                3
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGCAJC"></a>
<div id="GEORS1089" class="refsect1">
<h2 class="refsect1"><a id="sthref884"></a><a id="sthref885"></a>SDO_GEOR.getULTCoordinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref886"></a>Format</p>
<p class="synopsis">SDO_GEOR.getULTCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY ;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref887"></a>Description</p>
<p>Returns the cell coordinates of the upper-left corner of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref888"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref889"></a>Usage Notes</p>
<p>This function returns two or three numbers. If it returns two numbers, they are row and column ordinates. If it returns three numbers, they are row, column, and band ordinates.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref890"></a>Examples</p>
<p>The following example returns the row, column, and band ordinates for the upper-left corner of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT sdo_geor.getULTCoordinate(georaster) FROM georaster_table WHERE georid=23;

SDO_GEOR.GETULTCOORDINATE(GEORASTER)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(256, 0, 0)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBGIGB"></a>
<div id="GEORS1090" class="refsect1">
<h2 class="refsect1"><a id="sthref891"></a><a id="sthref892"></a><a id="sthref893"></a>SDO_GEOR.getVAT</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref894"></a>Format</p>
<p class="synopsis">SDO_GEOR.getVAT(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref895"></a>Description</p>
<p>Returns the name of the value attribute table (VAT) associated with a layer of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref896"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the VAT. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref897"></a>Usage Notes</p>
<p>For more information about value attribute tables, see <a href="geor_intro.htm#CHDDGFII">Section 1.2.3</a>.</p>
<p>To set the name of the value attribute table to be associated with a layer of a GeoRaster object, use the <a href="#CHEGEABA">SDO_GEOR.setVAT</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref898"></a>Examples</p>
<p>The following example returns the value attribute tables for layers 0, 1, 2, and 3 of the GeoRaster objects (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The output is reformatted for readability.)</p>
<pre>
SELECT substr(sdo_geor.getVAT(georaster, 0),1,20) vatTable0,
       substr(sdo_geor.getVAT(georaster, 1),1,20) vatTable1,
       substr(sdo_geor.getVAT(georaster, 2),1,20) vatTable2,
       substr(sdo_geor.getVAT(georaster, 3),1,20) vatTable3
  FROM georaster_table WHERE georid=4;

VATTABLE0            VATTABLE1            VATTABLE2            VATTABLE3
-------------------- -------------------- -------------------- ----------------
VAT0                 VAT1                 VAT2                 VAT1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDHBGH"></a>
<div id="GEORS1091" class="refsect1">
<h2 class="refsect1"><a id="sthref899"></a><a id="sthref900"></a>SDO_GEOR.getVersion</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref901"></a>Format</p>
<p class="synopsis">SDO_GEOR.getVersion(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref902"></a>Description</p>
<p>Returns the user-specified version of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref903"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref904"></a>Usage Notes</p>
<p>The version returned is in the format <span class="italic">major-version.minor-version</span>.</p>
<p>To set the user-specified version of a GeoRaster object, use the <a href="#CHEEJJJC">SDO_GEOR.setVersion</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref905"></a>Examples</p>
<p>The following example returns the user-specified version of the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. (The output is reformatted for readability.)</p>
<pre>
SELECT georid, sdo_geor.getVersion(georaster) version FROM georaster_table;

    GEORID VERSION
---------- --------------------------------------------------------------------
         2  10.1
         4  9i.2
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEDGAI"></a>
<div id="GEORS1092" class="refsect1">
<h2 class="refsect1"><a id="sthref906"></a><a id="sthref907"></a>SDO_GEOR.hasBitmapMask</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref908"></a>Format</p>
<p class="synopsis">SDO_GEOR.hasBitmapMask(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref909"></a>Description</p>
<p>Checks if a GeoRaster object or layer has an associated bitmap mask.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref910"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer to check. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref911"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the GeoRaster object or layer has an associated bitmap mask, or <code>FALSE</code> if it does not have an associated bitmap mask.</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref912"></a>Examples</p>
<p>The following example checks if layers 0 through 4 of a specified GeoRaster object have associated bitmap masks.</p>
<pre>
SELECT substr(sdo_geor.hasBitmapMask(georaster,0),1,12) BM0,
       substr(sdo_geor.hasBitmapMask(georaster,1),1,12) BM1,
       substr(sdo_geor.hasBitmapMask(georaster,2),1,12) BM2,
       substr(sdo_geor.hasBitmapMask(georaster,3),1,12) BM3
  FROM georaster_table WHERE georid=0;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGBEJC"></a>
<div id="GEORS1093" class="refsect1">
<h2 class="refsect1"><a id="sthref913"></a><a id="sthref914"></a><a id="sthref915"></a>SDO_GEOR.hasGrayScale</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref916"></a>Format</p>
<p class="synopsis">SDO_GEOR.hasGrayScale(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref917"></a>Description</p>
<p>Checks if a layer of a GeoRaster object has grayscale information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref918"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer to check. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref919"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the layer has grayscale information, or <code>FALSE</code> if the layer does not use grayscale representation. <a href="geor_datatypes_metadata.htm#BGBDBDGJ">Section 2.3.3</a> describes grayscale display.</p>
<p>If the layer has grayscale information, you can get and set the grayscale mappings and the grayscale mapping table name. See the following: <a href="#CHEHGBBE">SDO_GEOR.getGrayScale</a> and <a href="#CHECHDJA">SDO_GEOR.getGrayScaleTable</a> functions, and <a href="#CHECBDBB">SDO_GEOR.setGrayScale</a> and <a href="#CHEBEDGH">SDO_GEOR.setGrayScaleTable</a> procedures.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref920"></a>Examples</p>
<p>The following example checks if layers 0 and 1 of a specified GeoRaster object (GEORASTER column) have grayscale information. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT substr(sdo_geor.hasGrayScale(georaster, 0),1,15) hasGrayScale0,
       substr(sdo_geor.hasGrayScale(georaster, 1),1,15) hasGrayScale1
  FROM georaster_table WHERE georid=4;

HASGRAYSCALE0   HASGRAYSCALE1
--------------- ---------------
TRUE            FALSE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJJHGJ"></a>
<div id="GEORS1094" class="refsect1">
<h2 class="refsect1"><a id="sthref921"></a><a id="sthref922"></a>SDO_GEOR.hasNODATAMask</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref923"></a>Format</p>
<p class="synopsis">SDO_GEOR.hasNODATAMask(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref924"></a>Description</p>
<p>Checks if a GeoRaster object or layer has an associated NODATA bitmap mask.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref925"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer to check. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref926"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the GeoRaster object or layer has an associated NODATA bitmap mask, or <code>FALSE</code> if it does not have an associated NODATA bitmap mask.</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref927"></a>Examples</p>
<p>The following example checks if layers 0 through 4 of a specified GeoRaster object have associated NODATA bitmap masks.</p>
<pre>
SELECT substr(sdo_geor.hasNODATAMask(georaster,0),1,12) BM0,
       substr(sdo_geor.hasNODATAMask(georaster,1),1,12) BM1,
       substr(sdo_geor.hasNODATAMask(georaster,2),1,12) BM2,
       substr(sdo_geor.hasNODATAMask(georaster,3),1,12) BM3
  FROM georaster_table WHERE georid=0;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFGBEG"></a>
<div id="GEORS1095" class="refsect1">
<h2 class="refsect1"><a id="sthref928"></a><a id="sthref929"></a><a id="sthref930"></a><a id="sthref931"></a>SDO_GEOR.hasPseudoColor</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref932"></a>Format</p>
<p class="synopsis">SDO_GEOR.hasPseudoColor(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref933"></a>Description</p>
<p>Checks if a layer of a GeoRaster object has pseudocolor information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref934"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer to check. A value of 0 (zero) indicates the object layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref935"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the layer has pseudocolor information, or <code>FALSE</code> if the layer does not have pseudocolor information (that is, does not use pseudocolor representation). <a href="geor_datatypes_metadata.htm#BGBDBJCG">Section 2.3.2</a> describes colormaps and pseudocolor display.</p>
<p>If the layer has pseudocolor information, you can get and set the colormap and colormap table name. See the following: <a href="#CHEBHCAB">SDO_GEOR.getColorMap</a> and <a href="#CHEHJGEJ">SDO_GEOR.getColorMapTable</a> functions, and <a href="#CHEHBGCD">SDO_GEOR.setColorMap</a> and <a href="#CHEIDAHG">SDO_GEOR.setColorMapTable</a> procedures.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref936"></a>Examples</p>
<p>The following example checks if layers 0 and 1 of a specified GeoRaster object (GEORASTER column) have pseudocolor information. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT substr(sdo_geor.hasPseudoColor(georaster, 0),1,15) hasPseudoColor0,
       substr(sdo_geor.hasPseudoColor(georaster, 1),1,15) hasPseudoColor1
  FROM georaster_table WHERE georid=4;

HASPSEUDOCOLOR0 HASPSEUDOCOLOR1
--------------- ---------------
FALSE           TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECBJCD"></a>
<div id="GEORS1096" class="refsect1">
<h2 class="refsect1"><a id="sthref937"></a><a id="sthref938"></a>SDO_GEOR.importFrom</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref939"></a>Format</p>
<p class="synopsis">SDO_GEOR.importFrom(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_sourceFormat IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_sourceType IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp; r_sourceName IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_sourceFormat IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_sourceType IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_sourceName IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.importFrom(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_sourceFormat IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r_sourceBLOB IN BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_sourceFormat IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h_sourceCLOB IN CLOB DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref940"></a>Description</p>
<p>Imports an image file or BLOB object into a GeoRaster object stored in the database.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref941"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object to hold the result of the operation.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>String containing storage parameters. The format and usage are as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. Currently, the keywords supported for this operation are:</p>
<ul>
<li>
<p><code>blocking</code>: <a id="sthref942"></a><code>FALSE</code> causes the image to be stored as a single block. If the blocksize parameter is not specified, <code>TRUE</code> causes the image to be reblocked using the default reblocking parameter values: (256,256,<span class="italic">B</span>), where <span class="italic">B</span> is the total number of bands that the image contains. If the <code>blocksize</code> parameter is specified, blocking is automatically interpreted as <code>TRUE</code>.</p>
</li>
<li>
<p><code>blocksize</code>: (See the explanation in <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
</li>
<li>
<p><code>compression</code>: (See the explanation in <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.) The default value is <code>NONE</code>, which causes the raw data to be loaded without any compression.</p>
</li>
<li>
<p><code>quality</code>: (See the explanation in <a href="geor_intro.htm#CHDHJCBF">Table 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
</li>
<li>
<p><code>raster</code>: <code>TRUE</code> (the default) causes the raster image data in a GeoTIFF format file to be loaded along with the georeferencing information; <code>FALSE</code> causes only the georeferencing information to be loaded from the GeoTIFF format file, without the raster image data, into an existing GeoRaster object.</p>
</li>
<li>
<p><code>spatialExtent</code>: <a id="sthref943"></a><code>FALSE</code> (the default) causes a spatial extent not to be generated; <code>TRUE</code> causes a spatial extent to be generated if the SRID is nonzero and matches the SRID of any existing spatial extent index.</p>
</li>
<li>
<p><code>srid</code>: Coordinate system SRID numeric value, identifying an optional backup SRID, relevant when loading a GeoTIFF format file. This SRID value is used if the GeoTIFF configuration values do not match any SRID values recognized by Oracle Spatial.</p>
</li>
</ul>
</dd>
<dt>r_sourceFormat</dt>
<dd>
<p>Raster source format. Must be one of the following: <code>TIFF</code>, <code>GIF</code>, <code>BMP</code>, <code>GeoTIFF</code>, or <code>PNG</code>. (<code>JPEG</code> is not supported for this procedure; however, you can use the client-side GeoRaster loader tool, described in <a href="geor_intro.htm#CHDHHFHJ">Section 1.14</a>, to import a JPEG file.)</p>
</dd>
<dt>r_sourceType</dt>
<dd>
<p>Type of source for the import operation. Must be <code>FILE</code>.</p>
</dd>
<dt>r_sourceName</dt>
<dd>
<p>Source file name (with full path specification) if <code>r_sourceType</code> is <code>FILE</code>. If you are using this procedure only to load the world file into an existing GeoRaster object, specify a null value for this parameter.</p>
</dd>
<dt>r_sourceBLOB</dt>
<dd>
<p>Raster source object of type BLOB.</p>
</dd>
<dt>h_sourceFormat</dt>
<dd>
<p>Geoheader source format. Must be <code>WORLDFILE</code>.</p>
</dd>
<dt>h_sourceType</dt>
<dd>
<p>Geoheader type of source for the import operation. Must be <code>FILE</code>.</p>
</dd>
<dt>h_sourceName</dt>
<dd>
<p>Geoheader source file name (with full path specification) if <code>h_sourceType</code> is <code>FILE</code>., and optionally an SRID value. To specify the SRID value, add it after the file name, separated by a comma. Example: <code>'/mypath/mydir/worldfile.tfw,82934'</code> (UNIX or Linux) or <code>'C:\mypath\mydir\worldfile.tfw,82934'</code> (Windows)</p>
</dd>
<dt>h_sourceCLOB</dt>
<dd>
<p>Geoheader source as an object of type CLOB.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref944"></a>Usage Notes</p>
<p>For information about using this procedure or the GeoRaster loader tool to load raster data, see <a href="geor_operations.htm#CIHFJFFJ">Section 3.3</a>.</p>
<p>If you receive an "insufficient memory" error when loading a very large image, see <a href="geor_operations.htm#CHDIGEHG">Section 3.3.1</a>.</p>
<p>When loading an image into a GeoRaster database, you should always specify a block size, and it should generally be 256x256 or larger.</p>
<p>Specify values for the parameters with names that start with <span class="italic">r_</span> and <span class="italic">h_</span> only if the raster image and the geoheader are in separate files or objects.</p>
<p><a id="sthref945"></a><a id="sthref946"></a>This procedure can load an ESRI world file from a file or from a CLOB object.</p>
<p><a id="sthref947"></a>This procedure does not support JPEG as a source file format. You can use the client-side GeoRaster loader tool, described in <a href="geor_intro.htm#CHDHHFHJ">Section 1.14</a>, to import a JPEG file.</p>
<p>The GeoTIFF <code>PixelIsArea</code> raster space is equivalent to the GeoRaster upperleft-based cell coordinate system. An import from GeoTIFF is always to the GeoRaster center-based cell coordinate system, with a half-pixel adjustment of the affine transformation if the GeoTIFF file is specified in <code>PixelIsArea</code> raster space.</p>
<p>To load GeoTIFF images with the SDO_GEOR.importFrom procedure, you will need the <code>xtiff-jai.jar</code> and <code>geotiff-jai.jar</code> libraries. For more information about these GeoTIFF libraries, see <a href="geor_operations.htm#CIHIGBAA">Section 3.5</a>.</p>
<p>This procedure does not support raster data that has a cell depth value of <code>2BIT</code> or source multiband raster data with BIL and BSQ interleaving types.</p>
<p>The imported GeoRaster object has the BIP interleaving type.</p>
<p>Before you call this procedure, you must have read permission on the files to be imported or the directory that contains the files. The following example (run as user <code>SYSTEM</code>) grants read permission on a file to user <code>HERMAN</code>:</p>
<pre>
call dbms_java.grant_permission('HERMAN','SYS:java.io.FilePermission',
  '/mydirectory/myimages/img1.tif', 'read' );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref948"></a>Examples</p>
<p>The following example initializes an empty GeoRaster object into which an external image in TIFF format is to be imported, and then imports the image.</p>
<pre>
DECLARE   
   geor SDO_GEORASTER;
BEGIN  
-- Initialize an empty GeoRaster object into which the external image
-- is to be imported. 
INSERT INTO georaster_table
   values( 1, 'TIFF', sdo_geor.init('rdt_1') );  

-- Import the TIFF image. 
SELECT georaster INTO geor FROM georaster_table 
   WHERE georid = 1 FOR UPDATE; 
sdo_geor.importFrom(geor, NULL, 'TIFF', 'file', 
   '/mydirectory/myimages/img1.tif');  
UPDATE georaster_table SET georaster = geor WHERE georid = 1;  
COMMIT;
END;/
</pre>
<p>The following example imports images from a BLOB and an ESRI world file from a CLOB.</p>
<pre>
CREATE TABLE blob_table (blob_col BLOB, blobid NUMBER unique, clob_col CLOB);
INSERT INTO blob_table VALUES (empty_blob(), 1, null);
INSERT INTO blob_table VALUES (empty_blob(), 2, empty_clob());
COMMIT;
 
DECLARE
  geor1 SDO_GEORASTER;
  lobd1 BLOB;
  lobd2 CLOB;
  fileName VARCHAR2(1024);
  file BFILE;
  wfile BFILE;
  wfname VARCHAR2(1024);
  amt INTEGER;
  amt1 INTEGER;
 
BEGIN
-- Import BLOB into GeoRaster object.
-- First, if appropriate, load an existing image file into a BLOB object. 
EXECUTE IMMEDIATE 'CREATE DIRECTORY  blob_test_one AS '''/xyz'''';
fileName := '/parrot.tif';
file := BFILENAME('BLOB_TEST_ONE', fileName);
wfname := '/parrot.tfw';
wfile := BFILENAME('BLOB_TEST_ONE', wfname);
SELECT clob_col into lobd2 from blob_table WHERE blobid = 2 for update;
SELECT blob_col into lobd1 from blob_table WHERE blobid = 2 for update;
dbms_lob.fileopen(file, dbms_lob.file_readonly);
dbms_lob.fileopen(wfile, dbms_lob.file_readonly);
amt1 := dbms_lob.getLength(wfile);
dbms_lob.loadfromfile(lobd1, file, amt);
dbms_lob.loadfromfile(lobd2, wfile, amt1);
COMMIT;
dbms_lob.fileclose(file);
dbms_lob.fileclose(wfile);
 
-- Then, import this BLOB into a GeoRaster object.
SELECT georaster INTO geor1 from georaster_table WHERE georid = 14 for update;
sdo_geor.importFrom(geor1,'', 'TIFF', lobd1, 'WORLDFILE', lobd2);
sdo_geor.setModelSRID(geor1, 82394);
UPDATE georaster_table SET georaster = geor1 WHERE georid = 14;
COMMIT; 
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBCACB"></a>
<div id="GEORS1097" class="refsect1">
<h2 class="refsect1"><a id="sthref949"></a><a id="sthref950"></a><a id="sthref951"></a><a id="sthref952"></a>SDO_GEOR.init</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref953"></a>Format</p>
<p class="synopsis">SDO_GEOR.init(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterDataTable IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterID IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEORASTER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref954"></a>Description</p>
<p>Initializes an empty GeoRaster object, which must then be registered n the xxx_SDO_GEOR_SYSDATA views (see the Usage Notes).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref955"></a>Parameters</p>
<dl>
<dt>rasterDataTable</dt>
<dd>
<p>Name of the object table of type SDO_RASTER that stores the cell data blocks. Must not contain spaces, period separators, or mixed-case letters in a quoted string; the name is always converted to uppercase when stored in an SDO_GEORASTER object. The RDT should be in the same schema as its associated GeoRaster table. If you do not specify this parameter, GeoRaster generates a unique table name to be used for the raster data table. If you specify this parameter and the table already exists but is not an object table of type SDO_RASTER, an exception is raised.</p>
</dd>
<dt>rasterID</dt>
<dd>
<p>Number that uniquely identifies the blocks of this GeoRaster object in its raster data table. If you do not specify this parameter, a unique sequence number is generated for the ID.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref956"></a>Usage Notes</p>
<p>After initializing the empty GeoRaster object and before performing any operations on the object, you must register it in the xxx_SDO_GEOR_SYSDATA views by inserting the empty GeoRaster object into a GeoRaster table. (The xxx_SDO_GEOR_SYSDATA views are described in <a href="geor_datatypes_metadata.htm#BGBEBHDD">Section 2.4</a>. GeoRaster operations are described in <a href="geor_operations.htm#CIHGCJJE">Chapter 3</a>.)</p>
<p>This function returns an empty SDO_GEORASTER object with its <code>rasterDataTable</code> and <code>rasterID</code> attributes set. All other attributes of the SDO_GEORASTER object are null.</p>
<p>This function does not require that the specified raster data table exist. However, the table must exist before any data can be inserted into it, and you must create the table.</p>
<p>If a table has multiple GeoRaster object columns, and if for each column you plan to call the SDO_GEOR.init or <a href="#CHEFDECA">SDO_GEOR.createBlank</a> function with identical parameter values that contain a null <code>rasterDataTable</code> or <code>rasterID</code> parameter value, do not try to use the SDO_GEOR.init or <a href="#CHEFDECA">SDO_GEOR.createBlank</a> function on all such columns with a single INSERT or UPDATE statement. For example, assuming a table named LSAT_TABLE containing the columns (<code>georid NUMBER, type VARCHAR2(32), image_date VARCHAR2(32), image_15m SDO_GEORASTER, image_30m SDO_GEORASTER, image_60m SDO_GEORASTER</code>), do <span class="italic">not</span> use a statement like the following:</p>
<pre>
INSERT INTO lsat_table VALUES(1, 'L1G', '2004-02-25',
  sdo_geor.init('RDT_1'), sdo_geor.init('RDT_1'),
  sdo_geor.init('RDT_1'));
</pre>
<p>Instead, in cases such as this, do either of the following:</p>
<ul>
<li>
<p>Always specify a rasterID parameter value when calling the function. The following example specifies raster ID values of 1, 2, and 3 for the GeoRaster objects being inserted into the last three columns:</p>
<pre>
INSERT INTO lsat_table VALUES(1, 'L1G', '2004-02-25',
  sdo_geor.init('RDT_1', 1), sdo_geor.init('RDT_1', 2),
  sdo_geor.init('RDT_1', 3));
</pre></li>
<li>
<p>Use the function with only one GeoRaster object with each INSERT or UPDATE statement. The following example inserts a row initializing one GeoRaster object column and specifying the other two as null, and then updates the row twice to initialize the second and third GeoRaster object columns:</p>
<pre>
INSERT INTO lsat_table VALUES(1, 'L1G', '2004-02-25',
  sdo_geor.init('RDT_1'), null, null);
UPDATE lsat_table SET image_30m = sdo_geor.init('RDT_1') 
  WHERE georid = 1;
UPDATE lsat_table SET image_60m = sdo_geor.init('RDT_1') 
  WHERE georid = 1;
</pre></li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref957"></a>Examples</p>
<p>The following example inserts an initialized GeoRaster object into the GEORASTER_TABLE table. The raster data table associated with the GeoRaster object is RDT_1. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
INSERT INTO georaster_table (georid, georaster)
  VALUES (1, sdo_geor.init('RDT_1'));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECHDDI"></a>
<div id="GEORS1098" class="refsect1">
<h2 class="refsect1"><a id="sthref958"></a><a id="sthref959"></a>SDO_GEOR.isBlank</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref960"></a>Format</p>
<p class="synopsis">SDO_GEOR.isBlank(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref961"></a>Description</p>
<p>Returns the string <code>TRUE</code> if the GeoRaster object is a blank GeoRaster object, or <code>FALSE</code> if the GeoRaster object is not a blank GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref962"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref963"></a>Usage Notes</p>
<p>In a blank GeoRaster object, all cells have the same cell value.</p>
<p>To change the cell value of an existing blank GeoRaster object, use the <a href="#CHEICEFC">SDO_GEOR.setBlankCellValue</a> procedure. To return the cell value of a specified GeoRaster object, use the <a href="#CHEDFHJC">SDO_GEOR.getBlankCellValue</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref964"></a>Examples</p>
<p>The following example determines whether or not each GeoRaster object in the GEORASTER column of the GEORASTER_TABLE table is a blank GeoRaster object. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT georid, substr(sdo_geor.isBlank(georaster),1,7) isBlank
  FROM georaster_table;

    GEORID ISBLANK
---------- -------
         2 FALSE
         4 FALSE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJCEJC"></a>
<div id="GEORS1099" class="refsect1">
<h2 class="refsect1"><a id="sthref965"></a><a id="sthref966"></a><a id="sthref967"></a>SDO_GEOR.isOrthoRectified</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref968"></a>Format</p>
<p class="synopsis">SDO_GEOR.isOrthoRectified(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref969"></a>Description</p>
<p>Returns the string <code>TRUE</code> if the GeoRaster object is identified as orthorectified, or <code>FALSE</code> if the GeoRaster object is not identified as orthorectified.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref970"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref971"></a>Usage Notes</p>
<p>This function checks the GeoRaster metadata for the object to see if it is specified as orthorectified. It does not check if the object is actually orthorectified. Users are responsible for validating the GeoRaster object and ensuring that orthorectification is performed.</p>
<p>To specify that a GeoRaster object is orthorectified, use the <a href="#CHEDJADJ">SDO_GEOR.setOrthoRectified</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref972"></a>Examples</p>
<p>The following example checks if the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table are specified as spatially referenced, rectified, and orthorectified. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT georid, substr(sdo_geor.isSpatialReferenced(georaster),1,20)
             isSpatialReferenced,
           substr(sdo_geor.isRectified(georaster),1,20) isRectified,
           substr(sdo_geor.isOrthoRectified(georaster),1,20) isOrthoRectified
  FROM georaster_table;

    GEORID ISSPATIALREFERENCED  ISRECTIFIED          ISORTHORECTIFIED
---------- -------------------- -------------------- --------------------
         2 TRUE                 TRUE                 TRUE
         4 TRUE                 TRUE                 FALSE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDBFD"></a>
<div id="GEORS1100" class="refsect1">
<h2 class="refsect1"><a id="sthref973"></a><a id="sthref974"></a><a id="sthref975"></a>SDO_GEOR.isRectified</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref976"></a>Format</p>
<p class="synopsis">SDO_GEOR.isRectified(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref977"></a>Description</p>
<p>Returns the string <code>TRUE</code> if the GeoRaster object is identified as rectified, or <code>FALSE</code> if the GeoRaster object is not identified as rectified.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref978"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref979"></a>Usage Notes</p>
<p>This function checks the GeoRaster metadata for the object to see if it is specified as rectified. Users are responsible for validating the GeoRaster object and ensuring that rectification is performed.</p>
<p>To specify that a GeoRaster object is rectified, use the <a href="#CHEHFJDF">SDO_GEOR.setRectified</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref980"></a>Examples</p>
<p>The following example checks if the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table are specified as spatially referenced, rectified, and orthorectified. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT georid, substr(sdo_geor.isSpatialReferenced(georaster),1,20)
             isSpatialReferenced,
           substr(sdo_geor.isRectified(georaster),1,20) isRectified,
           substr(sdo_geor.isOrthoRectified(georaster),1,20) isOrthoRectified
  FROM georaster_table;

    GEORID ISSPATIALREFERENCED  ISRECTIFIED          ISORTHORECTIFIED
---------- -------------------- -------------------- --------------------
         2 TRUE                 TRUE                 TRUE
         4 TRUE                 TRUE                 FALSE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGHFIC"></a>
<div id="GEORS1101" class="refsect1">
<h2 class="refsect1"><a id="sthref981"></a><a id="sthref982"></a>SDO_GEOR.isSpatialReferenced</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref983"></a>Format</p>
<p class="synopsis">SDO_GEOR.isSpatialReferenced(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref984"></a>Description</p>
<p>Returns the string <code>TRUE</code> if the GeoRaster object is spatially referenced, or <code>FALSE</code> if the GeoRaster object is not spatially referenced.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref985"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref986"></a>Usage Notes</p>
<p>The GeoRaster object must have been validated.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref987"></a>Examples</p>
<p>The following example checks if the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table are specified as spatially referenced, rectified, and orthorectified. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
SELECT georid, substr(sdo_geor.isSpatialReferenced(georaster),1,20)
             isSpatialReferenced,
           substr(sdo_geor.isRectified(georaster),1,20) isRectified,
           substr(sdo_geor.isOrthoRectified(georaster),1,20) isOrthoRectified
  FROM georaster_table;

    GEORID ISSPATIALREFERENCED  ISRECTIFIED          ISORTHORECTIFIED
---------- -------------------- -------------------- --------------------
         2 TRUE                 TRUE                 TRUE
         4 TRUE                 TRUE                 FALSE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCIGJA"></a>
<div id="GEORS1102" class="refsect1">
<h2 class="refsect1"><a id="sthref988"></a><a id="sthref989"></a>SDO_GEOR.mergeLayers</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref990"></a>Format</p>
<p class="synopsis">SDO_GEOR.mergeLayers(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceLayerNumbers IN VARCHAR2 DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.mergeLayers(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source1GeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source1LayerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source2GeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source2LayerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref991"></a>Description</p>
<p>Merges the layers of two GeoRaster objects, either by appending source layers to a target GeoRaster object (first format) or by performing a union operation (second format).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref992"></a>Parameters</p>
<dl>
<dt>targetGeoRaster</dt>
<dd>
<p>GeoRaster object to which layers in <code>sourceGeoRaster</code> are to be appended. Cannot be the same GeoRaster object as <code>sourceGeoRaster</code>. (Be sure to make a copy of this object before calling this procedure.)</p>
</dd>
<dt>sourceGeoRaster</dt>
<dd>
<p>GeoRaster object in which specified layers are to be appended to <code>targetGeoRaster</code>.</p>
</dd>
<dt>sourceLayerNumbers</dt>
<dd>
<p>String specifying one or more layer numbers of layers in <code>sourceGeoRaster</code> to be appended to <code>targetGeoRaster</code>. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'1,3-5,7'</code> for layers 1, 3, 4, 5, and 7.</p>
</dd>
<dt>source1GeoRaster</dt>
<dd>
<p>One GeoRaster object in which specified layers are to be joined in a union operation with layers from <code>source2GeoRaster</code> in the output GeoRaster object <code>outGeoRaster</code>.</p>
</dd>
<dt>source1LayerNumbers</dt>
<dd>
<p>String specifying one or more layer numbers of layers in <code>source1GeoRaster</code> to be joined in a union operation with layers from <code>source2GeoRaster</code> in the output GeoRaster object <code>outGeoRaster</code>. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'1,3-5,7'</code> for layers 1, 3, 4, 5, and 7.</p>
</dd>
<dt>source2GeoRaster</dt>
<dd>
<p>One GeoRaster object in which specified layers are to be joined in a union operation with layers from <code>source1GeoRaster</code> in the output GeoRaster object <code>outGeoRaster</code>.</p>
</dd>
<dt>source2LayerNumbers</dt>
<dd>
<p>String specifying one or more layer numbers of layers in <code>source2GeoRaster</code> to be joined in a union operation with layers from <code>source1GeoRaster</code> in the output GeoRaster object <code>outGeoRaster</code>. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'1,3-5,7'</code> for layers 1, 3, 4, 5, and 7.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters to be applied in creating <code>outGeoRaster</code>. Storage parameters are explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>The new SDO_GEORASTER object that reflects the results of the union operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>source1GeoRaster</code> or source2GeoRaster.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref993"></a>Usage Notes</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Be sure to make a copy of the <code>targetGeoRaster</code> object before you call this procedure, because the changes made to this GeoRaster object might not be reversible after the procedure completes.</div>
<p>The resulting GeoRaster object (<code>georaster</code> or <code>outGeoRaster</code> parameter) must not be the same GeoRaster object as <code>sourceGeoRaster</code>, <code>source1GeoRaster</code>, or <code>source2GeoRaster</code>.</p>
<p>The two GeoRaster objects to be appended or unioned together must have the same spatial dimension sizes and cover the same area. If one of the GeoRaster objects is georeferenced, the other one must also be georeferenced, have the same model SRID and spatial resolutions, and cover the same area in the model space. If neither GeoRaster object is georeferenced, their ultCoordinates must be the same.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref994"></a>Examples</p>
<p>The following example merges specified layers of two GeoRaster objects into a third GeoRaster object, by performing a union operation.</p>
<pre>
declare
 gr1 sdo_georaster;
 gr2 sdo_georaster;
 gr3 sdo_georaster;
begin
 select georaster into gr1 from georaster_table where georid=1;
 select georaster into gr2 from georaster_table where georid=2;
 insert into georaster_table(georid, georaster) values (3, sdo_geor.init('RDT_1'))
    returning georaster into gr3;
 sdo_geor.mergeLayers(gr1, '3', gr2, '2,1', 'blocking=false', gr3);
 update georaster_table set georaster=gr3 where georid=3;
 commit;
end;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJFBBD"></a>
<div id="GEORS1103" class="refsect1">
<h2 class="refsect1"><a id="sthref995"></a><a id="sthref996"></a>SDO_GEOR.mosaic</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref997"></a>Format</p>
<p class="synopsis">SDO_GEOR.mosaic(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterTableName IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georasterColumnName IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref998"></a>Description</p>
<p>Mosaics GeoRaster objects into one GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref999"></a>Parameters</p>
<dl>
<dt>georasterTableName</dt>
<dd>
<p>Name of the table or view containing all source GeoRaster objects.</p>
</dd>
<dt>georasterColumnName</dt>
<dd>
<p>Column of type SDO_GEORASTER in <code>georasterTableName</code>.</p>
</dd>
<dt>georaster</dt>
<dd>
<p>GeoRaster object to hold the result of the mosaic operation. Cannot be the same as any GeoRaster object in <code>georasterColumnName</code> in <code>georasterTableName</code>.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. If this parameter is null, the resulting GeoRaster object has the same storage parameters (<code>blockSize</code>, <code>cellDepth</code>, <code>interleaving</code>, and <code>compression</code>) as the upper-left corner source GeoRaster object in the model space (if applicable) or cell space. However, it is recommended that you specify the storage parameters, particularly the blocking size, as appropriate for the size of the output mosaic, unless you want the mosaic to have the same storage parameters as those of the upper-left corner GeoRaster object to be mosaicked.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>), which could happen when the source GeoRaster objects have empty raster blocks or when the source GeoRaster objects do not cover the whole area. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1000"></a>Usage Notes</p>
<p>The source GeoRaster objects must be prepared images or raster data so that they can be mosaicked directly. The GeoRaster objects to be mosaicked must:</p>
<ul>
<li>
<p>Not be a mixture of georeferenced and nongeoreferenced objects. Either all of the objects are georeferenced, or none of the objects is georeferenced.</p>
</li>
<li>
<p>Have the same SRID value if the objects are georeferenced, and the georeferencing method must be affine transformation. The affine transformations of the GeoRaster objects must have the same set of coefficients (A, B, D and E) or (b, c, e, f). This means that the images must have the same X resolution and Y resolution (although the X and Y resolutions do not have to be the same), the same rotation angle, and the same skewing factor; in other words, the images must have the same resolutions, and be rotated and skewed in the same way if the images are rotated and skewed.</p>
</li>
<li>
<p>Have the same number of layers or bands. There is no restriction on the row and column dimension sizes of the source objects; for example, they do not need to be a power of 2.</p>
</li>
<li>
<p>Have the same mapping between band number and layers.</p>
</li>
</ul>
<p>If the GeoRaster objects to be mosaicked are georeferenced, they are co-located according to their georeferencing information. If the GeoRaster objects are not georeferenced, they are co-located according to their ULTCoordinate values. (The ULTCoordinate is explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
<p>If applicable, the resulting GeoRaster object takes the spatial reference metadata information from the upper-left corner source GeoRaster object in the model space. It also takes the cell space and any default storage attributes from the upper-left corner source GeoRaster object in the model space.</p>
<p>If the source GeoRaster objects have empty raster blocks or do not cover the whole area, the mosaicked result GeoRaster object may have empty or partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). A result raster block that is not covered by any of the source GeoRaster objects is kept empty. Any partially empty raster blocks are filled with the values specified in the <code>bgValues</code> parameter, or with 0 if the <code>bgValues</code> parameter is not specified.</p>
<p>If the source GeoRaster objects overlap, data of the overlapping area comes from the source object that covers it and that has the largest <code>ultCoordinate</code> in the cell space where all the source objects are co-located.</p>
<p>Any bitmap masks associated with the source GeoRaster objects are not considered, and the <code>bitmapmask</code> parameter is ignored if it is specified in the <code>storageParam</code> string.</p>
<p>If all source GeoRaster objects are blank and have the same <code>blankCellValue</code> value, the resulting GeoRaster object is blank and has that <code>blankCellValue</code> value; otherwise, the resulting GeoRaster object is not blank.</p>
<p>The GeoRaster object to contain the results of the mosaic operation (<code>georaster</code> parameter) must not be any of the source GeoRaster objects (the objects on which the mosaic operation is performed).</p>
<p>Any pyramid data for the source GeoRaster objects is not considered, and the <code>pyramid</code> parameter is ignored if it is specified in the <code>storageParam</code> string.</p>
<p><a id="sthref1001"></a>The mosaic operation performs internal commit operations at regular intervals, and thus it cannot be rolled back. If the operation is interrupted, dangling raster blocks may exist in the raster data table. You can handle dangling raster blocks by maintaining GeoRaster objects and system data in the database, as explained in <a href="geor_operations.htm#CHDEEBDE">Section 3.20</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1002"></a>Examples</p>
<p>The following example inserts an initialized GeoRaster object into the GEORASTER_TABLE table, returns the GeoRaster object into a variable named <code>gr</code>, mosaics all the GeoRaster objects in the GROBJ column of a table named GRTAB, and stores the resulting mosaicked GeoRaster object in the same variable. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>. The GRTAB table definition is not important to the example and is not presented here.)</p>
<pre>
DECLARE
  gr sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster) 
      VALUES (12, sdo_geor.init('rdt_1'))
      RETURNING georaster INTO gr;
  sdo_geor.mosaic('grtab', 'grobj', gr, 'blocksize=(512,512,1)');
  UPDATE georaster_table SET georaster=gr WHERE id=12;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGDJFA"></a>
<div id="GEORS1203" class="refsect1">
<h2 class="refsect1"><a id="sthref1003"></a><a id="sthref1004"></a><a id="sthref1005"></a>SDO_GEOR.reproject</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1006"></a>Format</p>
<p class="synopsis">SDO_GEOR.reproject(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.reproject(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.reproject(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.reproject(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea OUT SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.reproject(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outSRID IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob IN OUT NOCOPY BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea OUT SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1007"></a>Description</p>
<p>Reprojects all or part of a GeoRaster object to a different Oracle Spatial coordinate system (specified by the outSRID parameter). The resulting object can be a new GeoRaster object (for persistent storage) or a BLOB (for temporary use).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1008"></a>Parameters</p>
<dl>
<dt>inGeoRaster</dt>
<dd>
<p>The SDO_GEORASTER object on which the reprojection operation is to be performed to create the new object.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>A number specifying the pyramid level of the source GeoRaster object.</p>
</dd>
<dt>cropArea</dt>
<dd>
<p>Crop area definition. If <code>cropArea</code> is of type SDO_GEOMETRY, use the <code>layerNumbers</code> parameter to specify one or more layer numbers; if <code>cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code>bandNumbers</code> parameter to specify one or more band numbers.</p>
<p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
</dd>
<dt>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4).</p>
</dd>
<dt>bandNumbers</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3).</p>
</dd>
<dt>resampleParam</dt>
<dd>
<p>A string containing the resampling parameters. See the Usage Notes for information about the available keywords and values.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>The new SDO_GEORASTER object that reflects the results of the scaling operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>inGeoRaster</code>.</p>
</dd>
<dt>rasterBlob</dt>
<dd>
<p>BLOB to hold the output reflecting the new coordinate system. It must exist or have been initialized before the reprojection operation.</p>
</dd>
<dt>outArea</dt>
<dd>
<p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
</dd>
<dt>outWindow</dt>
<dd>
<p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1009"></a>Usage Notes</p>
<p>This procedure has two general kinds of interfaces:</p>
<ul>
<li>
<p>The first three formats generate a persistent GeoRaster object for storage in the database.</p>
</li>
<li>
<p>The remaining formats generate a BLOB for temporary storage for immediate use, such as to display data on the screen.</p>
</li>
</ul>
<p><code>inGeoRaster</code> should be georeferenced and have a SRID value from the SRID column of the MDSYS.CS_SRS table. <code>outSRID</code> should be different from the SRID of <code>inGeoRaster</code>. In some cases, the reprojection is inappropriate, such as reprojecting a GeoRaster object in NAD83, Massachusetts Mainland (SRID = 26986) to coordinate system NAD 27, UTM zone 49N (SRID = 2032649). In this case, the reprojection would result in a large distortion and thus is not performed.</p>
<p><code>inGeoRaster</code> and <code>outGeoRaster</code> must be different GeoRaster objects. After the operation, the ULT coordinates of the resulting GeoRaster object are set to zero (0).</p>
<p>If the source or destination object has a three-dimensional coordinate system, the height (Z) values are set to zero (0).</p>
<p>If you use the format that includes the <code>pyramidLevel</code> parameter and you specify a value greater than zero (0), the reprojection is based on the specified pyramid level of the source GeoRaster object; otherwise, the reprojection is based on the original GeoRaster object (pyramidLevel=0). The output GeoRaster object has no pyramid data.</p>
<p>If the <code>cropArea</code> parameter data type is SDO_GEOMETRY, its SDO_SRID value must be a value from the SRID column of the MDSYS.CS_SRS table. If the SDO_SRID values for the <code>cropArea</code> parameter geometry and the <code>inGeoraster</code> object model space are different, the <code>cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
<p>If the <code>cropArea</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. (For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.) Only the overlapping portion of the specified crop area and the spatial extent of the source GeoRaster object is reprojected.</p>
<p><a id="sthref1010"></a><code>resampleParam</code> must be a quoted string that contains one or more of the following keywords, each with an appropriate value:</p>
<ul>
<li>
<p><code>resampling</code> (for example, <code>resampling=NN</code>): Specifies the resampling method. Must be one of the following: <code>NN</code> (value of the nearest neighbor cell in the original GeoRaster object), <code>BILINEAR</code> (distance-weighted average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE4</code> (simple average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE16</code> (simple average of the 16 nearest cells in the original GeoRaster object), <code>CUBIC</code> (cubic convolution of the 16 nearest cells in the original GeoRaster object).</p>
</li>
<li>
<p><code>nodata</code> (for example, <code>nodata=TRUE</code>): Specifies whether NODATA values and value ranges should be considered during the procedure. Must be either <code>TRUE</code> (NODATA values and value ranges should be considered) or <code>FALSE</code> (NODATA values and value ranges should not be considered). The default value is <code>FALSE</code>. If the value is <code>TRUE</code> and the resampling method is <code>BILINEAR</code>, <code>AVERAGE4</code>, <code>AVERAGE16</code>, or <code>CUBIC</code>, whenever a cell value involved in the resampling calculation is a NODATA value, the result of the resampling is also a NODATA value. The resulting NODATA value is the minimum NODATA value associated with the current raster layer, if multiple NODATA values or value ranges exist.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1011"></a>Examples</p>
<p>The following example reprojects a GeoRaster object into the coordinate system defined by SRID 32618. The result is another GeoRaster object.</p>
<pre>
DECLARE
   gr1 sdo_georaster;
   gr2 sdo_georaster;
BEGIN
  SELECT georaster INTO gr1 from georaster_table WHERE georid=10;
  INSERT INTO reproject_table VALUES (21, 'WGS 84 / UTM zone 18N',
                                      SDO_GEOR.init('rdt_5', 21))
  RETURNING georaster INTO gr2;
  sdo_geor.Reproject(gr1, 0, 0, SDO_NUMBER_ARRAY(0, 0, 517, 517),
                             null, null, 'blocking=true, blocksize=(256,256,3),
                             interleaving=BSQ', 32618, gr2);
   UPDATE georaster_table SET georaster=gr2 WHERE georid=21;
   COMMIT;
END;
/
</pre>
<p>The following example reprojects a GeoRaster object into the coordinate system defined by SRID 32618. The result is temporary BLOB containing data in JPEG-F format.</p>
<pre>
DECLARE
   gr1 sdo_georaster;
   lob1 BLOB;
   outArea SDO_Geometry;
   outWindow SDO_NUMBER_ARRAY;
BEGIN
   SELECT georaster INTO gr1 from georaster_table WHERE georid=10;
   dbms_lob.createTemporary(lob1, TRUE);
   sdo_geor.Reproject(gr1, 0, SDO_NUMBER_ARRAY(0, 0, 120, 300),
                              '0',  null, 'compression = JPEG-F', 32618,
                              lob1, outArea, outWindow);
 
   dbms_lob.freeTemporary(lob1);
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECJJDI"></a>
<div id="GEORS1104" class="refsect1">
<h2 class="refsect1"><a id="sthref1012"></a><a id="sthref1013"></a><a id="sthref1014"></a><a id="sthref1015"></a>SDO_GEOR.scaleCopy</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1016"></a>Format</p>
<p class="synopsis">SDO_GEOR.scaleCopy(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.scaleCopy(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resampleParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1017"></a>Description</p>
<p>Scales a GeoRaster object by enlarging or reducing the image along row and column dimensions, and puts the result into a new object that reflects the scaling.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1018"></a>Parameters</p>
<dl>
<dt>inGeoRaster</dt>
<dd>
<p>The SDO_GEORASTER object on which the scaling operation is to be performed to create the new object (<code>outGeoRaster</code>).</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>A number specifying the pyramid level of the source GeoRaster object.</p>
</dd>
<dt>scaleParam</dt>
<dd>
<p>A string specifying a scaling parameter keyword and its associated value. The keyword must be one of the following:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For any numbers in string (VARCHAR2) parameters to GeoRaster subprograms, the period (.) must be used for any decimal points regardless of the locale.</div>
<ul>
<li>
<p><code>scaleFactor</code>, to reduce or enlarge as a multiple of the original size. This keyword must have a numeric value greater than 0 (zero) (for example, <code>'scaleFactor=0.75'</code>). A value of 1.0 will not change the current size; a value less than 1 will reduce the image; a value greater than 1 will enlarge the image. The number of cells along each dimension is the original number multiplied by <code>scaleFactor</code>. For example, if the <code>scaleFactor</code> value is 2 and the GeoRaster object has X and Y dimensions, the number of cells along each dimension is doubled.</p>
</li>
<li>
<p><code>maxDimSize</code>, to specify a size in terms of the maximum number of cells for each dimension. This keyword must have a numeric value for each dimension (for example, <code>'maxDimSize=(512,512)'</code>). The aspect ratio is not changed.</p>
</li>
</ul>
</dd>
<dt>resampleParam</dt>
<dd>
<p>A string containing the resampling parameters. See the Usage Notes for information about the available keywords and values.</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>The new SDO_GEORASTER object that reflects the results of the scaling operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>inGeoRaster</code>.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1019"></a>Usage Notes</p>
<p>Use this procedure to create a new GeoRaster object reflecting the specified scaling, based on the original GeoRaster object or a specified pyramid level of the GeoRaster object. After you use this procedure, you can check to ensure that the desired changes were made in the copy of the original GeoRaster object, and then discard the original GeoRaster object if you wish.</p>
<p>If you use the format that does not include the <code>pyramidLevel</code> parameter, the scaling is based on the original GeoRaster object (pyramidLevel=0).</p>
<p>If you need to get the scaled cell values, use the procedure described in the Usage Notes for the <a href="#CHEIDJCI">SDO_GEOR.getCellValue</a> function.</p>
<p><code>inGeoRaster</code> and <code>outGeoRaster</code> must be different GeoRaster objects.</p>
<p><a id="sthref1020"></a><code>resampleParam</code> must be a quoted string that contains one or more of the following keywords, each with an appropriate value:</p>
<ul>
<li>
<p><code>resampling</code> (for example, <code>resampling=NN</code>): Specifies the resampling method. Must be one of the following: <code>NN</code> (value of the nearest neighbor cell in the original GeoRaster object), <code>BILINEAR</code> (distance-weighted average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE4</code> (simple average of the 4 nearest cells in the original GeoRaster object), <code>AVERAGE16</code> (simple average of the 16 nearest cells in the original GeoRaster object), <code>CUBIC</code> (cubic convolution of the 16 nearest cells in the original GeoRaster object).</p>
</li>
<li>
<p><code>nodata</code> (for example, <code>nodata=TRUE</code>): Specifies whether NODATA values and value ranges should be considered during the procedure. Must be either <code>TRUE</code> (NODATA values and value ranges should be considered) or <code>FALSE</code> (NODATA values and value ranges should not be considered). The default value is <code>FALSE</code>. If the value is <code>TRUE</code> and the resampling method is <code>BILINEAR</code>, <code>AVERAGE4</code>, <code>AVERAGE16</code>, or <code>CUBIC</code>, whenever a cell value involved in the resampling calculation is a NODATA value, the result of the resampling is also a NODATA value. The resulting NODATA value is the minimum NODATA value associated with the current raster layer, if multiple NODATA values or value ranges exist.</p>
</li>
</ul>
<p>Any upper-level pyramid data in the input GeoRaster object is not considered during this operation, and the output GeoRaster object has no pyramid data.</p>
<p>After the operation, the row and column ULT coordinates are always set to 0 (zero), even if no scaling is performed (that is, even if <code>scaleFactor=1</code>).</p>
<p>This procedure does not scale along the band dimension.</p>
<p>If the source GeoRaster object is georeferenced with a valid polynomial transformation, the georeferencing information for the resulting GeoRaster object is generated accordingly; otherwise, the result GeoRaster object contains no spatial reference information.</p>
<p>An exception is raised if one or more of the following are true:</p>
<ul>
<li>
<p><code>inGeoRaster</code> is invalid.</p>
</li>
<li>
<p><code>outGeoRaster</code> has not been initialized.</p>
</li>
<li>
<p>A raster data table for <code>outGeoRaster</code> does not exist and <code>outGeoRaster</code> is not a blank GeoRaster object.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1021"></a>Examples</p>
<p>The following example reduces an image to three-fourths (0.75) size, specifies <code>AVERAGE4</code> resampling, and specifies a block size of 32 for each dimension in the storage parameters. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster) 
    VALUES (21, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=2;

  sdo_geor.scaleCopy(gr1, 'scaleFactor=0.75', 'resampling=AVERAGE4',
                     'blocksize=(32,32)', gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=21;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBHBAG"></a>
<div id="GEORS1105" class="refsect1">
<h2 class="refsect1"><a id="sthref1022"></a><a id="sthref1023"></a>SDO_GEOR.schemaValidate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1024"></a>Format</p>
<p class="synopsis">SDO_GEOR.schemaValidate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1025"></a>Description</p>
<p>Validates a GeoRaster object's metadata against the GeoRaster XML schema.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1026"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1027"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the metadata is valid, a null value if the GeoRaster object or its metadata is null, or one or more Oracle error codes indicating why the metadata is not valid and the exact location of the errors.</p>
<p>Use this function with the <a href="#CHEHDGCH">SDO_GEOR.validateGeoRaster</a> function. If the <a href="#CHEHDGCH">SDO_GEOR.validateGeoRaster</a> function identifies a GeoRaster object as invalid with an error code of 13454, the object's metadata is not valid according to the GeoRaster XML schema. If this happens, call the SDO_GEOR.schemaValidate function to get specific information, including the location in the metadata, about the errors.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1028"></a>Examples</p>
<p>The following example validates a GeoRaster object's metadata.</p>
<pre>
SELECT t.georid,
       sdo_geor.schemavalidate(t.georaster)
  FROM georaster_table t 
  WHERE t.georid = 1;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGCJBC"></a>
<div id="GEORS1106" class="refsect1">
<h2 class="refsect1"><a id="sthref1029"></a><a id="sthref1030"></a>SDO_GEOR.setBeginDateTime</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1031"></a>Format</p>
<p class="synopsis">SDO_GEOR.setBeginDateTime(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beginTime TIMESTAMP WITH TIME ZONE);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1032"></a>Description</p>
<p>Sets the beginning date and time for raster data collection in the metadata for a GeoRaster object, or deletes the existing value if you specify a null <code>beginTime</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1033"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>beginTime</dt>
<dd>
<p>Time specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1034"></a>Usage Notes</p>
<p>To see the current beginning date and time (if any) in the metadata for the GeoRaster object, use the <a href="#CHEJJDAG">SDO_GEOR.getBeginDateTime</a> function.</p>
<p>An exception is raised if <code>beginTime</code> is later than the ending date and time specified in the metadata for the GeoRaster object (see the <a href="#CHEDDGJH">SDO_GEOR.setEndDateTime</a> procedure).</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1035"></a>Examples</p>
<p>The following example sets the beginning and ending dates and times for raster data collection in the metadata for a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setBeginDateTime(grobj, timestamp '2002-11-15 15:00:00');
  sdo_geor.setEndDateTime(grobj, timestamp '2002-11-15 15:00:10');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEAGIF"></a>
<div id="GEORS1107" class="refsect1">
<h2 class="refsect1"><a id="sthref1036"></a><a id="sthref1037"></a>SDO_GEOR.setBinFunction</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1038"></a>Format</p>
<p class="synopsis">SDO_GEOR.setBinFunction(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binFunction IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1039"></a>Description</p>
<p>Sets the bin function associated with a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1040"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to return the bin type. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>binFunction</dt>
<dd>
<p>Bin function as an array whose elements specify the bin type, total number of bins, first bin number, minimum cell value, and maximum cell value. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>. See the Usage Notes for more information and an example.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1041"></a>Usage Notes</p>
<p>A bin function maps values or value ranges of the GeoRaster cells to specific bin numbers, which are all integers. If a bin function of type <code>LINEAR</code> is defined, it is used by the <a href="#CHEDCICI">SDO_GEOR.generateStatistics</a> function for calculating statistics on cell values. GeoRaster does not provide interfaces to manipulate and process bin functions.</p>
<p>The <code>binFunction</code> parameter specifies an array of five numbers, which have the following meaning:</p>
<ul>
<li>
<p>The first number identifies the bin type, and must be 0 (<code>LINEAR</code>) or 1 (<code>LOGARIGHM</code>).</p>
</li>
<li>
<p>The second number identifies the total number of bins.</p>
</li>
<li>
<p>The third number identifies the number of the first bin.</p>
</li>
<li>
<p>The fourth number is the minimum cell value in the range.</p>
</li>
<li>
<p>The fifth number is the maximum cell value in the range.</p>
</li>
</ul>
<p>For example, if <code>binFunction</code> is <code>SDO_NUMBER_ARRAY(0,10,1,0,511)</code>, the bin type is <code>LINEAR</code>, there are 10 bins numbered 1 through 10 (that is, starting at 1), and cell values from 0 through 511 are uniformly distributed to bins 1 through 10.</p>
<p>An exception is raised if <code>layerNumber</code> is null, negative, or greater than the maximum layer number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1042"></a>Examples</p>
<p>The following example sets the bin function for layer 3 of a specified GeoRaster object, using the <code>binFunction</code> parameter value explained in the Usage Notes.</p>
<pre>
DECLARE
 gr sdo_georaster;
BEGIN
 SELECT georaster INTO gr FROM georaster_table WHERE georid=4 FOR UPDATE;
 sdo_geor.setBinFunction(gr, 3, sdo_number_array(0,10,1,0,511));
 UPDATE georaster_table SET georaster=gr WHERE georid=4;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEBAFF"></a>
<div id="GEORS1108" class="refsect1">
<h2 class="refsect1"><a id="sthref1043"></a><a id="sthref1044"></a>SDO_GEOR.setBinTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1045"></a>Format</p>
<p class="synopsis">SDO_GEOR.setBinTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableName IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1046"></a>Description</p>
<p>Sets the name of the bin table associated with a layer, or deletes the existing value if you specify a null <code>tableName</code> parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the bin table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1047"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to set the bin table name. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>tableName</dt>
<dd>
<p>Name of the bin table associated with a layer.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1048"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>This procedure is relevant only if the bin type is <code>EXPLICIT</code>. To retrieve the bin type, use the <a href="#CHEGCAIJ">SDO_GEOR.getBinType</a> function.</p>
<p>To return the bin table for a layer, use the <a href="#CHEEJDEE">SDO_GEOR.getBinTable</a> function.</p>
<p>See also the information in the Usage Notes for the <a href="#CHEGCAIJ">SDO_GEOR.getBinType</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>tableName</code> is an empty string (<code>''</code>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1049"></a>Examples</p>
<p>The following example sets <code>BINT1</code> as the name of the bin table for layer number 3 of a specified GeoRaster object in the GEORASTER_TABLE table, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setBinTable(grobj, 3, 'BINT1');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHEJJI"></a>
<div id="GEORS1109" class="refsect1">
<h2 class="refsect1"><a id="sthref1050"></a><a id="sthref1051"></a>SDO_GEOR.setBitmapMask</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1052"></a>Format</p>
<p class="synopsis">SDO_GEOR.setBitmapMask(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NODATAMask IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1053"></a>Description</p>
<p>Attaches a bitmap mask to a GeoRaster object, or replaces or removes the current bitmap mask.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1054"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Layer with which to associate the bitmap mask. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>mask</dt>
<dd>
<p>The bitmap mask to be attached to the GeoRaster object. If this parameter is null, any existing bitmap mask associated with the specified layer of the GeoRaster object is removed.</p>
</dd>
<dt>NODATAMask</dt>
<dd>
<p>Specifies whether <code>mask</code> is to be interpreted as a NODATA mask. The string <code>TRUE</code> causes <code>mask</code> to be interpreted as a NODATA mask; any other value (including null) causes <code>mask</code> <span class="italic">not</span> to be interpreted as a NODATA mask.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1055"></a>Usage Notes</p>
<p>If the specified GeoRaster object or layer already has an associated bitmap mask, this procedure replaces it with the specified mask, or removes it if the <code>mask</code> parameter specifies a null value.</p>
<p>If the <code>mask</code> parameter value is not null, the bitmap mask must be a valid 1BIT GeoRaster object with only one band, and the row and column dimension sizes of the bitmap mask must be the same as those of the target GeoRaster object. It cannot be the same GeoRaster object as the input GeoRaster object (<code>georaster</code> parameter).</p>
<p>This procedure raises an exception if the target GeoRaster object is a blank GeoRaster object.</p>
<p>For an explanation of bitmap masks, see <a href="geor_intro.htm#CHDEIJCI">Section 1.8</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1056"></a>Examples</p>
<p>The following example uses a GeoRaster object in the table GRTAB (where id=1) as the bitmap mask to be attached to layer number 1 of an GeoRaster object in the GEORASTER_TABLE (where georid=1). The bitmap mask will be interpreted as a NODATA mask.</p>
<pre>
declare
  gr sdo_georaster;
  mk sdo_georaster;
begin
  select georaster into gr from georaster_table where georid=1 for update;
  select grobj into mk from grtab where id=1;
  sdo_geor.setBitmapMask(gr, 1, mk, 'true');
  update georaster_table set georaster=gr where georid=0;
  commit;
end;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEICEFC"></a>
<div id="GEORS1110" class="refsect1">
<h2 class="refsect1"><a id="sthref1057"></a><a id="sthref1058"></a>SDO_GEOR.setBlankCellValue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1059"></a>Format</p>
<p class="synopsis">SDO_GEOR.setBlankCellValue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1060"></a>Description</p>
<p>Sets (modifies) the cell value to be used for all cells if a specified GeoRaster object is a blank GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1061"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>value</dt>
<dd>
<p>Cell value to be used for the blank GeoRaster object. Cannot be a null value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1062"></a>Usage Notes</p>
<p>In a blank GeoRaster object, all cells have the same cell value.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the blank cell value of a blank GeoRaster object, use the <a href="#CHEDFHJC">SDO_GEOR.getBlankCellValue</a> function. To determine if a specified GeoRaster object is a blank GeoRaster object, use the <a href="#CHECHDDI">SDO_GEOR.isBlank</a> function.</p>
<p>An exception is raised if <code>value</code> is null or inconsistent with the <code>cellDepth</code> specification, or if the GeoRaster object is not blank.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1063"></a>Examples</p>
<p>The following example specifies a value of 255 to be used for all cells in the GeoRaster object column (GEORASTER) in the GEORASTER_TABLE table for the row with an GEORID column value of 1. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=1 FOR UPDATE;
  sdo_geor.setBlankCellValue(grobj, 255);
  UPDATE georaster_table SET georaster = grobj WHERE georid=1;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHBGCD"></a>
<div id="GEORS1111" class="refsect1">
<h2 class="refsect1"><a id="sthref1064"></a><a id="sthref1065"></a>SDO_GEOR.setColorMap</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1066"></a>Format</p>
<p class="synopsis">SDO_GEOR.setColorMap(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colorMap IN SDO_GEOR_COLORMAP);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1067"></a>Description</p>
<p>Sets the colormap for a layer in a GeoRaster object, or deletes the existing value if you specify a null <code>colorMap</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1068"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>colorMap</dt>
<dd>
<p>Colormap object of type SDO_GEOR_COLORMAP, which is described in <a href="geor_datatypes_metadata.htm#BGBDBJCG">Section 2.3.2</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1069"></a>Usage Notes</p>
<p>The following must be true of the specified colormap object:</p>
<ul>
<li>
<p>The <code>cellValue</code> values are consistent with and in the value range for the <code>cellDepth</code> value of the GeoRaster object.</p>
</li>
<li>
<p>The red, green, blue, and alpha values are integers from 0 to 255.</p>
</li>
<li>
<p>The <code>cellValue</code> array contains no duplicate entries.</p>
</li>
<li>
<p>The entries in the <code>cellValue</code> array are in ascending order.</p>
</li>
</ul>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>You can create a colormap or retrieve a colormap from an existing GeoRaster object for use. To return the colormap for a layer in a GeoRaster object, use the <a href="#CHEBHCAB">SDO_GEOR.getColorMap</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if any of the following exist in <code>colorMap</code>: the red, green, blue, or alpha value is null or out of scope; duplicate values exist in the <code>cellValue</code> array, or any <code>cellValue</code> values are null, out of scope, or out of order.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1070"></a>Examples</p>
<p>The following example sets the colormap for layer 2 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. It assumes that the GeoRaster object is a bitmap. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
  cmobj sdo_geor_colormap;
BEGIN
  cmobj := sdo_geor_colormap(sdo_number_array(0, 1),
                             sdo_number_array(0, 255),
                             sdo_number_array(0, 0),
                             sdo_number_array(0, 0),
                             sdo_number_array(255, 255));

  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setColorMap(grobj, 2, cmobj);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIDAHG"></a>
<div id="GEORS1112" class="refsect1">
<h2 class="refsect1"><a id="sthref1071"></a><a id="sthref1072"></a>SDO_GEOR.setColorMapTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1073"></a>Format</p>
<p class="synopsis">SDO_GEOR.setColorMapTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableName IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1074"></a>Description</p>
<p>Sets the colormap table for a layer in a GeoRaster object, or deletes the existing value if you specify a null <code>tableName</code> parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure registers the colormap table name with GeoRaster; however, GeoRaster does not perform operations using the colormap table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1075"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>tableName</dt>
<dd>
<p>Name of the user-defined colormap table. <a href="geor_datatypes_metadata.htm#BGBDBJCG">Section 2.3.2</a> describes colormaps.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1076"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the colormap table for a layer in a GeoRaster object, use the <a href="#CHEHJGEJ">SDO_GEOR.getColorMapTable</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>tableName</code> is an empty string (<code>''</code>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1077"></a>Examples</p>
<p>The following example sets the colormap table to be null for layer 2 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setColorMapTable(grobj, 2, null);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHDHEC"></a>
<div id="GEORS1204" class="refsect1">
<h2 class="refsect1"><a id="sthref1078"></a><a id="sthref1079"></a><a id="sthref1080"></a>SDO_GEOR.setControlPoint</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1081"></a>Format</p>
<p class="synopsis">SDO_GEOR.setControlPoint (</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;controlPoint IN SDO_GEOR_GCP);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1082"></a>Description</p>
<p>Adds a ground control point (GCP) for the GeoRaster object, or replaces an existing GCP if it has the same ID value as the input control point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1083"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>controlPoint</dt>
<dd>
<p>GCP to be added for <code>inGeoraster</code>. Must be an object of type SDO_GEOR_GCP, which is described in <a href="geor_datatypes_metadata.htm#BABEEBBD">Section 2.3.6</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1084"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>If the <code>controlPoint</code> is null, the function returns without performing any action. If a GCP is found in the GeoRaster object metadata with the same point ID as defined in <code>controlPoint</code>, that GCP is replaced; otherwise, this GCP is added to the georeferencing model.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1085"></a>Examples</p>
<p>The following example adds a GCP for a specified GeoRaster object.</p>
<pre>
DECLARE
   gr1            sdo_georaster;
   GCP         SDO_GEOR_GCP;
BEGIN
   SELECT georaster INTO gr1 from georaster_table WHERE georid=10 FOR UPDATE;
 
   GCP := SDO_GEOR_GCP('21', 'Updated', 1, 
                       2, sdo_number_array(25.625000, 73.875000),
                       2, sdo_number_array(237036.937500, 897987.187500),
                       NULL, NULL);
   sdo_geor.setControlPoint(gr1, GCP);
   UPDATE georaster_table SET georaster=gr1 WHERE georid=10;
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGIJEF"></a>
<div id="GEORS1113" class="refsect1">
<h2 class="refsect1"><a id="sthref1086"></a><a id="sthref1087"></a>SDO_GEOR.setDefaultBlue</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1088"></a>Format</p>
<p class="synopsis">SDO_GEOR.setDefaultBlue(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultBlue IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1089"></a>Description</p>
<p>Sets the number of the layer to be used for the blue color component (in the RGB color space) for displaying a GeoRaster object, or deletes the existing value if you specify a null <code>defaultBlue</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1090"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>defaultBlue</dt>
<dd>
<p>Number of the layer to be used for the blue color component (in the RGB color space) for displaying the specified GeoRaster object. Must be greater than 0 (zero) and less than or equal to the highest layer number in the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1091"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>An exception is raised if you are trying to set or remove the number of the layer to be used for the blue color component only, or if <code>defaultBlue</code> is not a valid layer number for the GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1092"></a>Examples</p>
<p>The following example sets the default red, green, and blue color layers for the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, and it returns an array with the layer numbers for the red, green, and blue color components for displaying these GeoRaster objects. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setDefaultRed(grobj, 5);
  sdo_geor.setDefaultGreen(grobj, 4);
  sdo_geor.setDefaultBlue(grobj, 3);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/

SELECT sdo_geor.getDefaultColorLayer(georaster) FROM georaster_table
  WHERE georid=4;
 
SDO_GEOR.GETDEFAULTCOLORLAYER(GEORASTER)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(5, 4, 3)
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIIBFH"></a>
<div id="GEORS1114" class="refsect1">
<h2 class="refsect1"><a id="sthref1093"></a><a id="sthref1094"></a>SDO_GEOR.setDefaultColorLayer</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1095"></a>Format</p>
<p class="synopsis">SDO_GEOR.setDefaultColorLayer(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultRGB IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1096"></a>Description</p>
<p>Sets the default numbers of the layers to be used for the red, green, and blue color components, respectively, for displaying a GeoRaster object, or deletes the existing values if you specify a null <code>defaultRGB</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1097"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>defaultRGB</dt>
<dd>
<p>Array of three numbers identifying the red, green, and blue color components, respectively, for displaying the specified GeoRaster object. Each number must be greater than 0 (zero) and less than or equal to the highest layer number in the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1098"></a>Usage Notes</p>
<p>The RGB layer numbers specified are used for true-color displays, not for pseudocolor or grayscale displays.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>You can set the layer number for each color component (RGB) by using the <a href="#CHEBGFAG">SDO_GEOR.setDefaultRed</a>, <a href="#CHEBAHDB">SDO_GEOR.setDefaultGreen</a>, and <a href="#CHEGIJEF">SDO_GEOR.setDefaultBlue</a> procedures.</p>
<p>All elements in the <code>defaultRGB</code> array must be either null or not null; you cannot mix null and non-null array elements, because the three layer numbers must be set or removed at the same time.</p>
<p>An exception is raised if <code>defaultRGB</code> is of the wrong size or if any elements in it are null or are invalid layer numbers for the GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1099"></a>Examples</p>
<p>The following example specifies that layer number 1 is to be used for the red, green, and blue color components for displaying the GeoRaster object (GEORASTER column) in the row with an GEORID column value of 2 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=2 FOR UPDATE;
  sdo_geor.setDefaultColorLayer(grobj, sdo_number_array(1,1,1));
  UPDATE georaster_table SET georaster = grobj WHERE georid=2;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBAHDB"></a>
<div id="GEORS1115" class="refsect1">
<h2 class="refsect1"><a id="sthref1100"></a><a id="sthref1101"></a>SDO_GEOR.setDefaultGreen</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1102"></a>Format</p>
<p class="synopsis">SDO_GEOR.setDefaultGreen(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultGreen IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1103"></a>Description</p>
<p>Sets the number of the layer to be used for the green color component (in the RGB color space) for displaying a GeoRaster object, or deletes the existing value if you specify a null <code>defaultGreen</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1104"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>defaultGreen</dt>
<dd>
<p>Number of the layer to be used for the green color component (in the RGB color space) for displaying the specified GeoRaster object. Must be greater than 0 (zero) and less than or equal to the highest layer number in the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1105"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>An exception is raised if you are trying to set or remove the number of the layer to be used for the green color component only, or if <code>defaultGreen</code> is not a valid layer number for the GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1106"></a>Examples</p>
<p>The following example sets the default red, green, and blue color layers for the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, and it returns an array with the layer numbers for the red, green, and blue color components for displaying these GeoRaster objects. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setDefaultRed(grobj, 5);
  sdo_geor.setDefaultGreen(grobj, 4);
  sdo_geor.setDefaultBlue(grobj, 3);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/

SELECT sdo_geor.getDefaultColorLayer(georaster) FROM georaster_table
  WHERE georid=4;
 
SDO_GEOR.GETDEFAULTCOLORLAYER(GEORASTER)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(5, 4, 3)
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBGFAG"></a>
<div id="GEORS1116" class="refsect1">
<h2 class="refsect1"><a id="sthref1107"></a><a id="sthref1108"></a>SDO_GEOR.setDefaultRed</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1109"></a>Format</p>
<p class="synopsis">SDO_GEOR.setDefaultRed(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultRed IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1110"></a>Description</p>
<p>Sets the number of the layer to be used for the red color component (in the RGB color space) for displaying a GeoRaster object, or deletes the existing value if you specify a null <code>defaultRed</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1111"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>defaultRed</dt>
<dd>
<p>Number of the layer to be used for the red color component (in the RGB color space) for displaying the specified GeoRaster object. Must be greater than 0 (zero) and less than or equal to the highest layer number in the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1112"></a>Usage Notes</p>
<p>The default red, green, and blue values are used for true-color displays, not for pseudocolor or grayscale displays. These values are optional, and they are intended for use only when visualizing multilayer or hyperspectral GeoRaster objects.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>An exception is raised if you are trying to set or remove the number of the layer to be used for the red color component only, or if <code>defaultRed</code> is not a valid layer number for the GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1113"></a>Examples</p>
<p>The following example sets the default red, green, and blue color layers for the GeoRaster objects (GEORASTER column) in the GEORASTER_TABLE table, and it returns an array with the layer numbers for the red, green, and blue color components for displaying these GeoRaster objects. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setDefaultRed(grobj, 5);
  sdo_geor.setDefaultGreen(grobj, 4);
  sdo_geor.setDefaultBlue(grobj, 3);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/

SELECT sdo_geor.getDefaultColorLayer(georaster) FROM georaster_table
  WHERE georid=4;
 
SDO_GEOR.GETDEFAULTCOLORLAYER(GEORASTER)
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(5, 4, 3)
 
1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDDGJH"></a>
<div id="GEORS1117" class="refsect1">
<h2 class="refsect1"><a id="sthref1114"></a><a id="sthref1115"></a>SDO_GEOR.setEndDateTime</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1116"></a>Format</p>
<p class="synopsis">SDO_GEOR.setEndDateTime(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endTime IN TIMESTAMP WITH TIME ZONE);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1117"></a>Description</p>
<p>Sets the ending date and time for raster data collection in the metadata for a GeoRaster object, or deletes the existing value if you specify a null <code>endTime</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1118"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>endTime</dt>
<dd>
<p>Time specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1119"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To see the current ending date and time (if any) in the metadata for the GeoRaster object, use the <a href="#CHEHDCEF">SDO_GEOR.getEndDateTime</a> function.</p>
<p>An exception is raised if <code>endTime</code> is earlier than the beginning date and time specified in the metadata for the GeoRaster object (see the <a href="#CHEGCJBC">SDO_GEOR.setBeginDateTime</a> procedure).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1120"></a>Examples</p>
<p>The following example sets the beginning and ending dates and times for raster data collection in the metadata for a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setBeginDateTime(grobj, timestamp '2002-11-15 15:00:00');
  sdo_geor.setEndDateTime(grobj, timestamp '2002-11-15 15:00:10');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJHHDI"></a>
<div id="GEORS1205" class="refsect1">
<h2 class="refsect1"><a id="sthref1121"></a><a id="sthref1122"></a>SDO_GEOR.setGCPGeorefMethod</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1123"></a>Format</p>
<p class="synopsis">SDO_GEOR.setGCPGeorefMethod(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN OUT SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcpGeorefMethod IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1124"></a>Description</p>
<p>Sets the GCP-based georeferencing geometric model type of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1125"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>gcpGeorefMethod</dt>
<dd>
<p>Georeferencing geometric model type to set for the GeoRaster object. Its value must be one of following strings: <code>Affine</code>, <code>QuadraticPolynomial</code>, <code>CubicPolynomial</code>, <code>DLT</code>, <code>QuadraticRational</code>, or <code>RPC</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1126"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>If <code>inGeoraster</code> does not contain GCP-based georeferencing information, no action is performed; otherwise, the existing model type is replaced with the specified <code>gcpGeorefMethod</code> value.</p>
<p>The procedure just set the model type value; no new solution is calculated. To get the solution for the newly set model type, use the <a href="#CHEFIFIA">SDO_GEOR.georeference</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1127"></a>Examples</p>
<p>The following example sets the GCP-based georeferencing geometric model type of a specified GeoRaster object, and updates the object.</p>
<pre>
DECLARE
   gr1  sdo_georaster;
BEGIN
   SELECT georaster INTO gr1 from georaster_table WHERE georid=10 FOR UPDATE;
   sdo_geor.setGCPGeorefMethod(gr1, 'DLT');
   UPDATE georaster_table SET georaster=gr1 WHERE georid=10;
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEHCGE"></a>
<div id="GEORS1206" class="refsect1">
<h2 class="refsect1"><a id="sthref1128"></a><a id="sthref1129"></a>SDO_GEOR.setGCPGeorefModel</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1130"></a>Format</p>
<p class="synopsis">SDO_GEOR.setGCPGeorefModel(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoraster IN OUT SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcpGeorefModel IN SDO_GEOR_GCPGEOREFTYPE);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1131"></a>Description</p>
<p>Sets the GCP-based georeferencing model information for a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1132"></a>Parameters</p>
<dl>
<dt>inGeoraster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>gcpGeorefModel</dt>
<dd>
<p>Object containing the following: <code>FFMethodType</code>, <code>nGCP</code>, <code>GCPs</code>, <code>solutionAccuracy</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1133"></a>Usage Notes</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
<p>The SDO_GEOR_GCPGEOREFTYPE object type is defined in <a href="geor_datatypes_metadata.htm#BABJEABH">Section 2.3.8</a>.</p>
<p>This procedure stores the GCP information in the GeoRaster SRS metadata component. If <code>gcpGeorefModel</code> is null and if the GeoRaster object has a georeferencing model, this model information will be deleted.</p>
<p>If there are not enough GCPs specified in <code>gcpGeorefModel</code> for the geometric model specified, the function will still succeed, but an exception will be raised if the <a href="#CHEFIFIA">SDO_GEOR.georeference</a> is called specifying this GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1134"></a>Examples</p>
<p>The following example sets the GCP-based georeferencing model information in a specified GeoRaster object.</p>
<pre>
DECLARE
   gr1                 sdo_georaster;
   georefModel  SDO_GEOR_GCPGEOREFTYPE;
   GCPs             SDO_GEOR_GCP_COLLECTION;
   rms                 sdo_number_array;
BEGIN
   SELECT georaster INTO gr1 from herman.georaster_table WHERE georid=10 FOR UPDATE;
 
   GCPs:=SDO_GEOR_GCP_COLLECTION(
                    SDO_GEOR_GCP('21', '', 1, 
                            2, sdo_number_array(25.625000, 73.875000),
                            2, sdo_number_array(237036.937500, 897987.187500),
                            NULL, NULL),
                     SDO_GEOR_GCP('22', '', 1, 
                            2, sdo_number_array(100.625000, 459.125000),
                            2, sdo_number_array(237229.562500, 897949.687500),
                            NULL, NULL),
                      SDO_GEOR_GCP('23', '', 1, 
                            2, sdo_number_array(362.375000, 77.875000),
                            2, sdo_number_array(237038.937500, 897818.812500),
                                NULL, NULL),
                       SDO_GEOR_GCP('24', '', 1, 
                             2, sdo_number_array(478.875000, 402.125000),
                             2, sdo_number_array(237201.062500, 897760.562500),
                             NULL, NULL),
                        SDO_GEOR_GCP('25', '', 2, 
                             2, sdo_number_array(167.470583,  64.030686),
                             2, sdo_number_array(237032.015343, 897916.264708),
                             NULL, NULL),
                         SDO_GEOR_GCP('26', '', 2, 
                             2, sdo_number_array(101.456177,  257.915534),
                             2, sdo_number_array(237128.957767, 897949.271912),
                             NULL, NULL)
               );
 
   georefModel := SDO_GEOR_GCPGEOREFTYPE('Affine',
                                                                             GCPs.count, GCPs, rms);
   sdo_geor.setGCPGeorefModel(gr1, georefModel);
   UPDATE georaster_table SET georaster=gr1 WHERE georid=10;
 
   COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECBDBB"></a>
<div id="GEORS1118" class="refsect1">
<h2 class="refsect1"><a id="sthref1135"></a><a id="sthref1136"></a><a id="sthref1137"></a>SDO_GEOR.setGrayScale</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1138"></a>Format</p>
<p class="synopsis">SDO_GEOR.setGrayScale(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grayScale IN SDO_GEOR_GRAYSCALE);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1139"></a>Description</p>
<p>Sets the grayscale mappings for a layer in a GeoRaster object, or deletes the existing values if you specify a null <code>grayScale</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1140"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to set the grayscale mappings. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>grayScale</dt>
<dd>
<p>An object of type SDO_GEOR_GRAYSCALE, which is described in <a href="geor_datatypes_metadata.htm#BGBDBDGJ">Section 2.3.3</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1141"></a>Usage Notes</p>
<p>The following must be true of the specified SDO_GEOR_GRAYSCALE object:</p>
<ul>
<li>
<p>The <code>cellValue</code> values are consistent with and in the value range for the <code>cellDepth</code> value of the GeoRaster object.</p>
</li>
<li>
<p>The <code>gray</code> value is an integer from 0 to 255.</p>
</li>
<li>
<p>The <code>cellValue</code> array contains no duplicate entries.</p>
</li>
<li>
<p>The entries in the <code>cellValue</code> array are in ascending order.</p>
</li>
</ul>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the grayscale mappings for a layer in a GeoRaster object, use the <a href="#CHEHGBBE">SDO_GEOR.getGrayScale</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, any gray values are null or out of scope, the <code>cellValue</code> array contains any duplicate values, or any <code>cellValue</code> values are null, out of scope, or out of order.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1142"></a>Examples</p>
<p>The following example sets the grayscale mappings for layer 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
  gsobj sdo_geor_grayscale;
BEGIN
  gsobj := sdo_geor_grayscale(sdo_number_array(1, 10, 20, 30, 255),
                         sdo_number_array(0, 180, 210, 230, 250));
  
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setGrayScale(grobj, 3, gsobj);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBEDGH"></a>
<div id="GEORS1119" class="refsect1">
<h2 class="refsect1"><a id="sthref1143"></a><a id="sthref1144"></a><a id="sthref1145"></a>SDO_GEOR.setGrayScaleTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1146"></a>Format</p>
<p class="synopsis">SDO_GEOR.setGrayScaleTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableName IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1147"></a>Description</p>
<p>Sets the grayscale mapping table for a layer in a GeoRaster object, or deletes the existing value if you specify a null <code>tableName</code> parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure registers the grayscale mapping table name with GeoRaster; however, GeoRaster does not perform operations using the grayscale mapping table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1148"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to set the grayscale mapping table. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>tableName</dt>
<dd>
<p>Name of the grayscale mapping table for a layer in the specified GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1149"></a>Usage Notes</p>
<p><a href="geor_datatypes_metadata.htm#BGBDBDGJ">Section 2.3.3</a> describes grayscale display.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the grayscale mapping table for a layer in a GeoRaster object, use the <a href="#CHECHDJA">SDO_GEOR.getGrayScaleTable</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>tableName</code> is an empty string (<code>''</code>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1150"></a>Examples</p>
<p>The following example sets <code>GST1</code> as the grayscale mapping table for layer 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setGrayScaleTable(grobj, 3, 'GST1');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIEEIB"></a>
<div id="GEORS1120" class="refsect1">
<h2 class="refsect1"><a id="sthref1151"></a><a id="sthref1152"></a><a id="sthref1153"></a>SDO_GEOR.setHistogramTable</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1154"></a>Format</p>
<p class="synopsis">SDO_GEOR.setHistogramTable(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableName IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1155"></a>Description</p>
<p>Sets the histogram table for a layer in a GeoRaster object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure registers the histogram table name with GeoRaster; however, GeoRaster does not perform operations using the histogram table in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1156"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to set the name of the histogram table. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>tableName</dt>
<dd>
<p>Name of the histogram table. If this parameter is null, the metadata information for any existing histogram table (but not the actual table) is deleted. If there is no statistics information for the layer, this parameter must be null. The parameter value cannot be an empty string (that is, it cannot be <code>''</code>).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1157"></a>Usage Notes</p>
<p>This procedure specifies a user-defined histogram table. <a href="geor_datatypes_metadata.htm#BGBCHBIC">Section 2.3.1</a> briefly discusses histograms.</p>
<p>To return the name of the histogram table for a layer, use the <a href="#CHEICDCB">SDO_GEOR.getHistogramTable</a> function.</p>
<p>An exception is raised if one or more of the following are true:</p>
<ul>
<li>
<p><code>layerNumber</code> is null or invalid for the GeoRaster object,.</p>
</li>
<li>
<p><code>tableName</code> is an empty string (<code>''</code>).</p>
</li>
<li>
<p>The statistical data associated with the specified layer is not set.</p>
<p>To set the statistical data for a layer, call the <a href="#CHECGIGA">SDO_GEOR.setStatistics</a> procedure.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1158"></a>Examples</p>
<p>The following example sets <code>HIST1</code> as the histogram table for layer 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setHistogramTable(grobj, 3, 'HIST1');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECJJHG"></a>
<div id="GEORS1121" class="refsect1">
<h2 class="refsect1"><a id="sthref1159"></a><a id="sthref1160"></a>SDO_GEOR.setID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1161"></a>Format</p>
<p class="synopsis">SDO_GEOR.setID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1162"></a>Description</p>
<p>Sets a user-defined identifier to be associated with a GeoRaster object, or deletes the existing value if you specify a null <code>id</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1163"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>id</dt>
<dd>
<p>ID value to be associated with the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1164"></a>Usage Notes</p>
<p>This procedure is useful for assigning unique meaningful alphanumeric identifiers to GeoRaster objects, so that users and applications can easily identify the objects.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the user-defined identifier value for a GeoRaster object, use the <a href="#CHEFCEJD">SDO_GEOR.getID</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1165"></a>Examples</p>
<p>The following example sets <code>newid</code> as the user-defined identifier value of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 2 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=2 FOR UPDATE;
  sdo_geor.setID(grobj, 'newid');
  UPDATE georaster_table SET georaster = grobj WHERE georid=2;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIFFCI"></a>
<div id="GEORS1122" class="refsect1">
<h2 class="refsect1"><a id="sthref1166"></a><a id="sthref1167"></a>SDO_GEOR.setLayerID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1168"></a>Format</p>
<p class="synopsis">SDO_GEOR.setLayerID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1169"></a>Description</p>
<p>Sets a user-defined identifier to be associated with a layer in a GeoRaster object, or deletes the existing value if you specify a null <code>id</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1170"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>id</dt>
<dd>
<p>ID value to be associated with the specified layer in the GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1171"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the user-defined identifier value for a layer in a GeoRaster object, use the <a href="#CHEEFGAF">SDO_GEOR.getLayerID</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>id</code> is null yet the corresponding layer information does exist.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1172"></a>Examples</p>
<p>The following example sets <code>TM_Band_2</code> as the user-defined identifier value of layer 2 in the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setLayerID(grobj, 2, 'TM_Band_2');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIFGAG"></a>
<div id="GEORS1123" class="refsect1">
<h2 class="refsect1"><a id="sthref1173"></a><a id="sthref1174"></a>SDO_GEOR.setLayerOrdinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1175"></a>Format</p>
<p class="synopsis">SDO_GEOR.setLayerOrdinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ordinate IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1176"></a>Description</p>
<p>Sets the band ordinate value for a specified layer in a GeoRaster object, or deletes the existing value if you specify a null <code>ordinate</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1177"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>ordinate</dt>
<dd>
<p>Band ordinate value of the layer along the band dimension.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1178"></a>Usage Notes</p>
<p>The band ordinate of the layer refers to the physical band that a layer (<code>layerNumber</code> parameter value) is associated with. For the current release, the associations must be as shown in <a href="geor_intro.htm#CHDDICBC">Figure 1-5</a> in <a href="geor_intro.htm#CHDGCCJH">Section 1.5</a>: layer 1 is band 0, layer 2 is band 1, and so on.</p>
<p>The band ordinate for the object layer is ignored by GeoRaster.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the band ordinate value for a layer, use the <a href="#CHEDJHEC">SDO_GEOR.getLayerOrdinate</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, if <code>ordinate</code> is null, or if ordinate does not equal <code>layerNumber</code>-1 when <code>layerNumber</code> does not specify the object layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1179"></a>Examples</p>
<p>The following example sets the band ordinate value for layer 1 to be 0 (zero) in the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setLayerOrdinate(grobj, 1, 0);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACECIEH"></a>
<div id="GEORS1207" class="refsect1">
<h2 class="refsect1"><a id="sthref1180"></a><a id="sthref1181"></a>SDO_GEOR.setModelCoordLocation</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1182"></a>Format</p>
<p class="synopsis">SDO_GEOR.setModelCoordLocation(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelCoordLoc IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1183"></a>Description</p>
<p>Sets the model coordinate location value for a GeoRaster object, or deletes the current model coordinate location value (if any) if the <code>modelCoordLoc</code> parameter is specified as null.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1184"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>modelCoordLoc</dt>
<dd>
<p>Model coordinate location to set for the GeoRaster object. It must be specified as either null (to delete any current model coordinate location value) or one of the following string values: <code>CENTER</code> (the cell coordinate system is center-based) or <code>UPPERLEFT</code> (the cell coordinate system is based on the upper-left corner).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1185"></a>Usage Notes</p>
<p>This procedure enables you to change the cell coordinate system from CENTER to UPPERLEFT or from UPPERLEFT to CENTER.</p>
<p>This procedure applies only to georeferenced GeoRaster objects, and it automatically adjusts the functional fitting coefficients of the GeoRaster SRS accordingly to reflect the change (to ensure that the relationship between cell coordinates and model coordinates does not change).</p>
<p>To get the model coordinate location value for a GeoRaster object, use the <a href="#CACGAHIF">SDO_GEOR.getModelCoordLocation</a> function.</p>
<p>For an explanation of georeferencing using GCPs, see <a href="geor_intro.htm#BABDIHCH">Section 1.6.2</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1186"></a>Examples</p>
<p>The following example changes the cell coordinate system to CENTER for a GeoRaster object.</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setModelCoordLocation(grobj, 'CENTER');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFJEFG"></a>
<div id="GEORS1124" class="refsect1">
<h2 class="refsect1"><a id="sthref1187"></a><a id="sthref1188"></a>SDO_GEOR.setModelSRID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1189"></a>Format</p>
<p class="synopsis">SDO_GEOR.setModelSRID(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1190"></a>Description</p>
<p>Sets the coordinate system (SDO_SRID value) for the model (ground) space for a GeoRaster object, or deletes the existing value if you specify a null <code>srid</code> parameter and the GeoRaster metadata does not contain spatial reference information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1191"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>srid</dt>
<dd>
<p>Coordinate system. Must be a value from the SRID column of the MDSYS.CS_SRS table if the GeoRaster metadata contains spatial reference information; or must be null (causing no coordinate system associated with the model space) if the GeoRaster metadata does not contain spatial reference information. The <code>srid</code> value cannot be 0 (zero).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1192"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>If the original GeoRaster object had a different model space SRID value, this procedure does not change the raster data itself. In other words, this procedure does not cause any reprojection or resampling on the cell data of the GeoRaster object.</p>
<p>To return the coordinate system (SDO_SRID value) associated with the model space for a GeoRaster object, use the <a href="#CHEEBGJG">SDO_GEOR.getModelSRID</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1193"></a>Examples</p>
<p>The following example changes the coordinate system for a GeoRaster object to <span class="italic">Longitude / Latitude (WGS 66)</span>, which is the coordinate system associated with SRID value 82394 in the MDSYS.CS_SRS system table. (The example refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setModelSRID(grobj, 82394);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEDJADJ"></a>
<div id="GEORS1125" class="refsect1">
<h2 class="refsect1"><a id="sthref1194"></a><a id="sthref1195"></a><a id="sthref1196"></a>SDO_GEOR.setOrthoRectified</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1197"></a>Format</p>
<p class="synopsis">SDO_GEOR.setOrthoRectified(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isOrthoRectified IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1198"></a>Description</p>
<p>Specifies whether or not a GeoRaster object is orthorectified, or deletes the existing value if you specify a null <code>isOrthoRectified</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1199"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>isOrthoRectified</dt>
<dd>
<p>Specify <code>TRUE</code> to specify that the GeoRaster object is orthorectified, <code>FALSE</code> to specify that the GeoRaster object is not orthorectified, or null if the GeoRaster metadata does not contain spatial reference information. Must be <code>TRUE</code> or <code>FALSE</code> (case-insensitive) if the GeoRaster metadata contains spatial reference information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1200"></a>Usage Notes</p>
<p>This procedure modifies the GeoRaster metadata for the object. It does not actually orthorectify the object. Users are responsible for ensuring that orthorectification is performed.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To be set as orthorectified, a GeoRaster object must be spatially referenced and rectified.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1201"></a>Examples</p>
<p>The following example identifies the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table as orthorectified. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setOrthoRectified(grobj, 'TRUE');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFAADE"></a>
<div id="GEORS1126" class="refsect1">
<h2 class="refsect1"><a id="sthref1202"></a><a id="sthref1203"></a>SDO_GEOR.setRasterType</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1204"></a>Format</p>
<p class="synopsis">SDO_GEOR.setRasterType(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterType IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1205"></a>Description</p>
<p>Sets the raster type of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1206"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>rasterType</dt>
<dd>
<p>Numeric value to be set as the rasterType attribute of the GeoRaster object. Must be a valid 5-digit numeric value, in the format described in <a href="geor_datatypes_metadata.htm#i1005614">Section 2.1.1</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1207"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>An exception is raised if <code>rasterType</code> is null or if the first three digits of the existing <code>rasterType</code> value are changed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1208"></a>Examples</p>
<p>The following example sets the <code>rasterType</code> attribute value of a GeoRaster object to <code>20001</code>. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=2 FOR UPDATE;
  sdo_geor.setRasterType(grobj, 20001);
  UPDATE georaster_table SET georaster = grobj WHERE georid=2;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHFJDF"></a>
<div id="GEORS1127" class="refsect1">
<h2 class="refsect1"><a id="sthref1209"></a><a id="sthref1210"></a><a id="sthref1211"></a>SDO_GEOR.setRectified</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1212"></a>Format</p>
<p class="synopsis">SDO_GEOR.setRectified(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isRectified IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1213"></a>Description</p>
<p>Specifies whether or not a GeoRaster object is rectified, or deletes the existing value if you specify a null <code>isRectified</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1214"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>isRectified</dt>
<dd>
<p>Specify <code>TRUE</code> to specify that the GeoRaster object is rectified, <code>FALSE</code> to specify that the GeoRaster object is not rectified, or null if the GeoRaster metadata does not contain spatial reference information. Must be <code>TRUE</code> or <code>FALSE</code> (case-insensitive) if the GeoRaster metadata contains spatial reference information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1215"></a>Usage Notes</p>
<p>This procedure modifies the GeoRaster metadata for the object. It does not actually rectify the object. Users are responsible for ensuring that rectification is performed.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>A GeoRaster object must be spatially referenced if you want to set <code>isRectified</code> to <code>TRUE</code> (see the <a href="#CHECBBCH">SDO_GEOR.setSpatialReferenced</a> procedure).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1216"></a>Examples</p>
<p>The following example identifies the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table as not rectified. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setRectified(grobj, 'false');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEICGE"></a>
<div id="GEORS1128" class="refsect1">
<h2 class="refsect1"><a id="sthref1217"></a><a id="sthref1218"></a>SDO_GEOR.setScaling</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1219"></a>Format</p>
<p class="synopsis">SDO_GEOR.setScaling(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalingFunc IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1220"></a>Description</p>
<p>Sets the scaling function associated with a layer, or deletes the existing value if you specify a null <code>scalingFunc</code> parameter.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
GeoRaster does not perform operations using the scaling function in the current release.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1221"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>scalingFunc</dt>
<dd>
<p>An array of numeric values, with one value for each coefficient in the scaling function. The scaling function is as follows:</p>
<pre>
value = (a<span class="subscript">0</span> + a<span class="subscript">1</span> * cellvalue) / (b<span class="subscript">0</span> + b<span class="subscript">1</span> * cellvalue)
</pre>
<p>The order of the coefficients is: a<sub>0</sub>, a<sub>1</sub>, b<sub>0</sub>, b<sub>1</sub>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1222"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object; if <code>scalingFunc</code> is of the wrong array size; if one of a<sub>0</sub>, a<sub>1</sub>, b<sub>0</sub>, and b<sub>1</sub> is null; or if both b<sub>0</sub> and b<sub>1</sub> are 0 (zero).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1223"></a>Examples</p>
<p>The following example sets the coefficients of the scaling function for layer 2 of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setScaling(grobj, 2, sdo_number_array(1, 0.5, 1, 0));
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEADBI"></a>
<div id="GEORS1129" class="refsect1">
<h2 class="refsect1"><a id="sthref1224"></a><a id="sthref1225"></a><a id="sthref1226"></a>SDO_GEOR.setSourceInfo</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1227"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSourceInfo(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceInfo IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1228"></a>Description</p>
<p>Sets the source information for a GeoRaster object, or deletes the existing value if you specify a null <code>sourceInfo</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1229"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>sourceInfo</dt>
<dd>
<p>String with source information. Cannot exceed 4096 characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1230"></a>Usage Notes</p>
<p>The specified <code>sourceInfo</code> string is stored in the <code>&lt;sourceInfo&gt;</code> element in the metadata for the GeoRaster object (described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>).</p>
<p>This procedure replaces any existing source information value or values. If you want to keep any existing values and add one or more values, use the <a href="#CHECBDAD">SDO_GEOR.addSourceInfo</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1231"></a>Examples</p>
<p>The following example sets and adds some source information for a specified GeoRaster object, and then retrieves the information.</p>
<pre>
declare
 gr sdo_georaster;
begin
 select georaster into gr from georaster_table where georid=1 for update;
 sdo_geor.setSourceInfo(gr, 'Copyright (c) 2002, 2007, Oracle Corporation.');
 sdo_geor.addSourceInfo(gr, 'All rights reserved.');
 update georaster_table set georaster=gr where georid=1;
end;
/
 
select * from table(select sdo_geor.getSourceInfo(georaster) from georaster_table where id=1);
 
COLUMN_VALUE
--------------------------------------------------------------------------------
Copyright (c) 2002, 2007, Oracle Corporation.
All rights reserved.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECBBCH"></a>
<div id="GEORS1130" class="refsect1">
<h2 class="refsect1"><a id="sthref1232"></a><a id="sthref1233"></a>SDO_GEOR.setSpatialReferenced</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1234"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSpatialReferenced(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isReferenced IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1235"></a>Description</p>
<p>Specifies whether or not a GeoRaster object is spatially referenced, or deletes the existing value if you specify a null <code>isReferenced</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1236"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>isReferenced</dt>
<dd>
<p>Specify <code>TRUE</code> to specify that the GeoRaster object is spatially referenced, <code>FALSE</code> to specify that the GeoRaster object is not spatially referenced, or null if the GeoRaster metadata does not contain spatial reference information. Must be <code>TRUE</code> or <code>FALSE</code> (case-insensitive) if the GeoRaster metadata contains spatial reference information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1237"></a>Usage Notes</p>
<p>This procedure sets the GeoRaster object to be spatially referenced or not spatially referenced.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1238"></a>Examples</p>
<p>The following example sets the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table as not spatially referenced. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setSpatialReferenced(grobj, 'FALSE');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEJEDBE"></a>
<div id="GEORS1131" class="refsect1">
<h2 class="refsect1"><a id="sthref1239"></a><a id="sthref1240"></a><a id="sthref1241"></a>SDO_GEOR.setSpatialResolutions</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1242"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSpatialResolutions(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolutions IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1243"></a>Description</p>
<p>Sets the spatial resolution value along each spatial dimension of a GeoRaster object, or deletes the existing values if you specify a null <code>resolutions</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1244"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>resolutions</dt>
<dd>
<p>An array of numeric values, one for each spatial dimension. Each value indicates the number of units of measurement associated with the data area represented by that spatial dimension of a pixel. For example, if the spatial resolution values are (10,10) and the unit of measurement for the ground data is meters, each pixel represents an area of 10 meters by 10 meters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1245"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>If resolutions is not null and if the GeoRaster metadata currently does not contain spatial reference information, this procedure adds spatial reference information with minimum default values.</p>
<p>See also the Usage Notes for the <a href="#CHEJFAFA">SDO_GEOR.getSpatialResolutions</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1246"></a>Examples</p>
<p>The following example sets the spatial resolution values along the column and row (X and Y) dimensions of a GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setSpatialResolutions(grobj, sdo_number_array(28.5,28.5));
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHAGHF"></a>
<div id="GEORS1132" class="refsect1">
<h2 class="refsect1"><a id="sthref1247"></a><a id="sthref1248"></a><a id="sthref1249"></a><a id="sthref1250"></a>SDO_GEOR.setSpectralResolution</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1251"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSpectralResolution(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolution IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1252"></a>Description</p>
<p>Sets the spectral resolution of a GeoRaster object if it is a hyperspectral or multiband image, or deletes the existing value if you specify a null <code>resolution</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1253"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>resolution</dt>
<dd>
<p>Spectral resolution value. Must be null if the GeoRaster metadata does not contain band reference information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1254"></a>Usage Notes</p>
<p>Taken together, the spectral unit and spectral resolution identify the wavelength interval for a band. For example, if the spectral resolution value is 2 and the spectral unit value is <code>MILLIMETER</code>, the wavelength interval for a band is 2 millimeters.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the spectral resolution for a GeoRaster object, use the <a href="#CHEEAJAJ">SDO_GEOR.getSpectralResolution</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1255"></a>Examples</p>
<p>The following example sets 0.5 as the spectral resolution value for the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setSpectralResolution(grobj, 0.5);
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEIAECG"></a>
<div id="GEORS1133" class="refsect1">
<h2 class="refsect1"><a id="sthref1256"></a><a id="sthref1257"></a><a id="sthref1258"></a>SDO_GEOR.setSpectralUnit</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1259"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSpectralUnit(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unit IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1260"></a>Description</p>
<p>Sets the unit of measurement for identifying the wavelength interval for a band, or deletes the existing value if you specify a null <code>unit</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1261"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Spectral unit. Must be one of the following values if the GeoRaster metadata contains band reference information: <code>METER</code>, <code>MILLIMETER</code>, <code>MICROMETER</code>, <code>NANOMETER</code>. Must be null if the GeoRaster metadata does not contain band reference information.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1262"></a>Usage Notes</p>
<p>Taken together, the spectral unit and spectral resolution identify the wavelength interval for a band. For example, if the spectral resolution value is 2 and the spectral unit value is <code>MILLIMETER</code>, the wavelength interval for a band is 2 millimeters.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the spectral unit for a GeoRaster object, use the <a href="#CHEGJHFJ">SDO_GEOR.getSpectralUnit</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1263"></a>Examples</p>
<p>The following example sets <code>MICROMETER</code> as the spectral unit for the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setSpectralUnit(grobj, 'micrometer');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFGCEE"></a>
<div id="GEORS1134" class="refsect1">
<h2 class="refsect1"><a id="sthref1264"></a><a id="sthref1265"></a>SDO_GEOR.setSRS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1266"></a>Format</p>
<p class="synopsis">SDO_GEOR.setSRS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srs IN SDO_GEOR_SRS);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1267"></a>Description</p>
<p>Sets the spatial reference information of a GeoRaster object, or deletes the existing information if you specify a null <code>srs</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1268"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>srs</dt>
<dd>
<p>An object of type SDO_GEOR_SRS. The SDO_GEOR_SRS object type and its constructor are described in <a href="geor_datatypes_metadata.htm#BGBHEHHA">Section 2.3.5</a>.</p>
<p>In this object, <code>isReferenced</code>, <code>isRectified</code>, and <code>isOrthoRectified</code> must be <code>TRUE</code> or <code>FALSE</code> (case-insensitive); <code>spatialResolution</code> must be an array of the correct size; the spatial tolerance cannot be negative; <code>CoordLocation</code> must be 0 or 1; and the polynomial parameters cannot be null.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1269"></a>Usage Notes</p>
<p>You can use this procedure to set the GeoRaster SRS for any functional fitting georeferencing models, including the affine transformation, DLT, and RPC models.</p>
<p>For the stored function (GCP) model only, you may find it more convenient not to use this procedure, but instead to use the <a href="#CACEHCGE">SDO_GEOR.setGCPGeorefModel</a> procedure to set the stored function (GCP) model.</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>To return the SDO_GEOR_SRS information for a GeoRaster object, use the <a href="#CHEGGDIF">SDO_GEOR.getSRS</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1270"></a>Examples</p>
<p>The following examples specify spatial reference attributes of a GeoRaster object, and updates the GeoRaster object. (They refer to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.) Notes explain the operations in more detail.</p>
<p>The first example shows how to set an affine transformation model to a GeoRaster object.</p>
<pre>
DECLARE
  grobj sdo_georaster;
  srs   sdo_geor_srs;
 
BEGIN
 
SELECT georaster INTO grobj FROM georaster_table WHERE georid=4;
srs := sdo_geor_srs('TRUE', 'TRUE', null, 82262,
                       sdo_number_array(28.5, 28.5),0.5,0,
                       0,0,0,0,0,1,1,1,1,1,0,0,0,
                       SDO_NUMBER_ARRAY(1, 2, 1, 3, 32631.5614, 0, -.03508772),
                       SDO_NUMBER_ARRAY(1, 0, 0, 1, 1),
                       SDO_NUMBER_ARRAY(1, 2, 1, 3, -7894.7544, .03508772, 0),
                       SDO_NUMBER_ARRAY(1, 0, 0, 1, 1));
sdo_geor.setSRS(grobj, srs);
 
UPDATE georaster_table SET georaster = grobj WHERE georid=4;
COMMIT;
END;
/
</pre>
<p>In the preceding example, the GeoRaster object has the following affine transformation:</p>
<pre>
row = 32631.5614 + 0 * x + (-0.03508772) * y
col = -7894.7544 + 0.03508772 * x + 0 * y
</pre>
<p>To use the generic functional fitting georeferencing model described in <a href="geor_intro.htm#CHDEFCJB">Section 1.6.1</a>, the values of SRS attributes are as follows:</p>
<pre>
xOff=yOff=zOff=0
rowOff=columnOff=0
xScale=yScale=zScale=1
rowScale=columnScale=1
polynomial p : pType=1, nVars=2, order=1, nCoefficients= 3
polynomial q : pType=1, nVars=0, order=0, nCoefficients= 1
polynomial r : pType=1, nVars=2, order=1, nCoefficients= 3
polynomial s : pType=1, nVars=0, order=0, nCoefficients= 1
 
rowNumerator = 32631.5614, 0, -0.03508772
rowDenominator =  1
columnNumerator = -7894.7544, 0.03508772, 0
columnDenominator = 1
</pre>
<p>In the SRS structure, the <code>rowNumerator</code>, <code>rowDenominator</code>, <code>columnNumerator</code>, and <code>columnDenominator</code> elements are used to specify <code>pType</code>, <code>nVars</code>, <code>order</code>, and <code>nCoefficients</code>, and the remaining elements are used to specify coefficients of each polynomial.</p>
<p>The second example shows how to set a DLT model to a GeoRaster object. In a typical photogrammetry application, the interior orientation parameters and exterior orientation parameters of an oriented digital aerial photo can be used to derive a DLT model, which is widely used to simplify and approximate the rigorous model. The following is an example of a DLT model derived from a standard frame camera model.</p>
<pre>
row = (-46507111.2127784 + 65.81484127*X + 13.13186856*Y - 49.62133265*Z) / (-41.47013322 + 0.00004128*X + 0.00009740*Y - 0.00655704*Z)

col = (-5259855.00453679 - 12.07452653*X + 66.23319061*Y - 49.45792766*Z) / (-41.47013322 + 0.00004128*X + 0.00009740*Y - 0.00655704*Z)
 
</pre>
<p>For this example, the corresponding GeoRaster SRS parameters and coefficients are:</p>
<pre>
rowOff=0, colOff=0; rowScale = colScale = 1;
xOff = 0, yOff = 0, zOff = 0; xScale = yScale = zScale =1;
polynomial p : pType=1, nVars=3, order=1, nCoefficients= 4
polynomial q : pType=1, nVars=3, order=1, nCoefficients= 4
polynomial r : pType=1, nVars=3, order=1, nCoefficients= 4
polynomial s : pType=1, nVars=3, order=1, nCoefficients= 4
 
rowNumerator = -5259855.00453679, -12.07452653, 66.23319061, -49.45792766
rowDenominator = -41.47013322, 0.00004128, 0.00009740, -0.00655704
columnNumerator = -46507111.2127784, 65.81484127, 13.13186856, -49.62133265
columnDenominator = -41.47013322, 0.00004128, 0.00009740, -0.00655704
</pre>
<p>The following sets up the DLT model for the GeoRaster object. It uses the SDO_GEOR_SRS constructor to create an instance of the SDO_GEOR_SRS type, and then sets the appropriate attributes.</p>
<pre>
DECLARE
   grobj sdo_georaster;
   srs sdo_geor_srs;
BEGIN
   SELECT georaster INTO grobj FROM georaster_table WHERE georid = 101;
 
   -- Initiate the SRS object.
   srs:=sdo_geor_srs();
 
   -- Fill the parameters of the SRS object.
   srs.isReferenced := 'TRUE';
   srs.isRectified := 'FALSE';
   srs.isOrthoRectified := 'FALSE';
   srs.srid := 7406;
   srs.spatialResolution := sdo_number_array(0.07, 0.07);
   srs.coordLocation := 1;
   srs.rowOff := 0;
   srs.columnOff := 0;
   srs.xOff := 0;
   srs.yOff := 0;
   srs.zOff := 0;
   srs.rowScale := 1;
   srs.columnScale := 1;
   srs.xScale := 1;
   srs.yScale := 1;
   srs.zScale := 1;
   srs.rowNumerator := SDO_NUMBER_ARRAY(1, 3, 1, 4, -5259855.00453679,
     -12.07452653,66.23319061,-49.45792766);
   srs.rowDenominator := SDO_NUMBER_ARRAY(1, 3, 1, 4, -41.4701332195,
     0.0000412763, 0.0000974018, -0.0065570398);
   srs.columnNumerator := SDO_NUMBER_ARRAY(1, 3, 1, 4,
     -46507111.2127784, 65.81484127, 13.13186856, -49.62133265);
   srs.columnDenominator := SDO_NUMBER_ARRAY(1, 3, 1, 4,
     -41.4701332195, 0.0000412763, 0.0000974018, -0.0065570398);
 
   -- Set the SRS metadata to the GeoRaster object.
   sdo_geor.setSRS(grobj,srs);
   UPDATE georaster_table SET georaster = grobj WHERE georid= 101;
   COMMIT;
 
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHECGIGA"></a>
<div id="GEORS1135" class="refsect1">
<h2 class="refsect1"><a id="sthref1271"></a><a id="sthref1272"></a>SDO_GEOR.setStatistics</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1273"></a>Format</p>
<p class="synopsis">SDO_GEOR.setStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statistics IN SDO_NUMBER_ARRAY);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.setStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statistics IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;histogram IN SDO_GEOR_HISTOGRAM,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor IN NUMBER DEFAULT 1,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingWindow IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.setStatistics(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statistics IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;histogram IN SDO_GEOR_HISTOGRAM,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor IN NUMBER DEFAULT 1,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingWindow IN SDO_GEOMETRY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1274"></a>Description</p>
<p>Sets statistical data associated with a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1275"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to set the statistics. A value of 0 (zero) indicates the object layer.</p>
</dd>
<dt>statistics</dt>
<dd>
<p>An array with the following numeric values: <code>MIN</code>, <code>MAX</code>, <code>MEAN</code>, <code>MEDIAN</code>, <code>MODEVALUE</code>, <code>STD</code>. You must specify non-null values for all values in the array. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>.</p>
<p>If this parameter is null, all statistical information associated with the layer is deleted.</p>
</dd>
<dt>histogram</dt>
<dd>
<p>Histogram of type SDO_GEOR_HISTOGRAM. <a href="geor_datatypes_metadata.htm#BGBCHBIC">Section 2.3.1</a> describes this object type and briefly discusses histograms.</p>
</dd>
<dt>samplingFactor</dt>
<dd>
<p>Sampling factor. The denominator <span class="italic">n</span> in 1/<span class="italic">n</span>, representing the number of cells sampled in computing the statistics. For example, if <code>samplingFactor</code> is 4, one-fourth of the cells were sampled. The default is 1; that is, all cells were sampled. The higher the value, the less accurate the statistics are likely to be, but the more quickly they were computed.</p>
</dd>
<dt>samplingWindow</dt>
<dd>
<p>Sampling window: a rectangular window for which to set statistics, specified either as a numeric array with the lower-left and upper-right coordinates or as an SDO_GEOMETRY object. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>. The window must be inside the extent in cell space. The default for this parameter is the entire image.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1276"></a>Usage Notes</p>
<p>This procedure sets statistical data described by the <code>&lt;statisticDatasetType&gt;</code> element in the GeoRaster metadata XML schema, which is described in <a href="geor_xml_metadata.htm#CIAHFABB">Appendix A</a>.</p>
<p>If <code>histogram</code> is specified as null, and if there is an existing histogram and you set the statistics using a different sampling factor or sampling window, the existing histogram is removed.</p>
<p>Contrast this procedure, in which you specify the statistics to be set, with the <a href="#CHEDCICI">SDO_GEOR.generateStatistics</a> function, which causes GeoRaster to compute and set the statistics.</p>
<p>To retrieve the statistical data associated with a layer, use the <a href="#CHEGDEIA">SDO_GEOR.getStatistics</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>statistics</code> is of the wrong array size or has any null array elements.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1277"></a>Examples</p>
<p>The following example sets the statistical data for layer 0 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setStatistics(grobj, 0, SDO_NUMBER_ARRAY(0, 255, 100, 127, 95, 25));
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFFCFA"></a>
<div id="GEORS1136" class="refsect1">
<h2 class="refsect1"><a id="sthref1278"></a><a id="sthref1279"></a>SDO_GEOR.setULTCoordinate</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1280"></a>Format</p>
<p class="synopsis">SDO_GEOR.setULTCoordinate(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ultCoord IN SDO_NUMBER_ARRAY);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1281"></a>Description</p>
<p>Sets or adjusts the cell coordinate values of the upper-left corner of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1282"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>ultCoord</dt>
<dd>
<p>An array of two numbers (row and column ordinates) if the rasterType value is 20001, or three numbers (row, column, and band ordinates) if the rasterType value is 21001. If you specify three numbers, the third one (band number) must be 0. For more information about the ULTCoordinate, see <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1283"></a>Usage Notes</p>
<p>If the metadata contains spatial reference information and the GeoRaster object is georeferenced, the spatial reference information is checked for validity. If it is valid, the spatial reference information including the georeferencing information is updated and adjusted according to the new ULT coordinates; otherwise, an exception is raised.</p>
<p>To return the upper-left coordinate values for a GeoRaster object, use the <a href="#CHEGCAJC">SDO_GEOR.getULTCoordinate</a> function.</p>
<p>An exception is raised if <code>ultCoord</code> is null or of the wrong array size or has any null array elements.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1284"></a>Examples</p>
<p>The following example sets the row and column ordinates of the upper-left corner of a GeoRaster object, with logic to handle whether the rasterType value is 20001 or 21001. (The example refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
 grobj sdo_georaster;
BEGIN
 SELECT georaster INTO grobj FROM georaster_table WHERE georid=1 FOR UPDATE;
 if grobj.rasterType = 20001 then
      sdo_geor.setULTCoordinate(grobj, sdo_number_array(0, 0));
 elsif grobj.rasterType = 21001 then
      sdo_geor.setULTCoordinate(grobj, sdo_number_array(0, 0, 0));
 end if;
 UPDATE georaster_table SET georaster = grobj WHERE georid=1;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGEABA"></a>
<div id="GEORS1137" class="refsect1">
<h2 class="refsect1"><a id="sthref1285"></a><a id="sthref1286"></a><a id="sthref1287"></a>SDO_GEOR.setVAT</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1288"></a>Format</p>
<p class="synopsis">SDO_GEOR.setVAT(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumber IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vatName IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1289"></a>Description</p>
<p>Sets the name of the value attribute table (VAT) associated with a layer of a GeoRaster object, or deletes the existing value if you specify a null <code>vatName</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1290"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
<dt>layerNumber</dt>
<dd>
<p>Number of the layer for which to perform the operation.</p>
</dd>
<dt>vatName</dt>
<dd>
<p>Name of the value attribute table.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1291"></a>Usage Notes</p>
<p>The GeoRaster object is automatically validated after the operation completes.</p>
<p>For more information about value attribute tables, see <a href="geor_intro.htm#CHDDGFII">Section 1.2.3</a>.</p>
<p>To return the name of the value attribute table associated with a layer of a GeoRaster object, use the <a href="#CHEBGIGB">SDO_GEOR.getVAT</a> function.</p>
<p>An exception is raised if <code>layerNumber</code> is null or invalid for the GeoRaster object, or if <code>vatName</code> is an empty string (<code>''</code>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1292"></a>Examples</p>
<p>The following example specifies <code>VATT1</code> as the value attribute table to be associated with layer 3 of the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setVAT(grobj, 3, 'VATT1');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/ 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEEJJJC"></a>
<div id="GEORS1138" class="refsect1">
<h2 class="refsect1"><a id="sthref1293"></a><a id="sthref1294"></a>SDO_GEOR.setVersion</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1295"></a>Format</p>
<p class="synopsis">SDO_GEOR.setVersion(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;majorVersion IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minorVersion IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1296"></a>Description</p>
<p>Sets the user-specified version of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1297"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
<dl>
<dt>majorVersion</dt>
<dd>
<p>String representing the major version of the GeoRaster object. For example, if the complete version string is <code>15a.beta1</code>, specify the <code>majorVersion</code> value as <code>15a</code>.</p>
<p>If the parameter value is null, any existing <code>majorVersion</code> value in the GeoRaster object is deleted.</p>
</dd>
</dl>
<dl>
<dt>minorVersion</dt>
<dd>
<p>String representing the minor version of the GeoRaster object. For example, if the complete version string is <code>15a.beta1</code>, specify the <code>minorVersion</code> value as <code>beta1</code>.</p>
<p>If the parameter value is null, any existing <code>minorVersion</code> value in the GeoRaster object is deleted.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1298"></a>Usage Notes</p>
<p>The major and minor version strings can reflect any versioning scheme that you choose. The <code>majorVersion</code> and <code>minorVersion</code> values can be any string, except that neither can be an empty string (that is, neither can be <code>''</code>).</p>
<p>To retrieve the version string for a GeoRaster object, use the <a href="#CHEDHBGH">SDO_GEOR.getVersion</a> function, which returns the version in the format <span class="italic">major-version.minor-version</span>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1299"></a>Examples</p>
<p>The following example sets <code>15a.beta1</code> as the version for the GeoRaster object (GEORASTER column) in the row with the GEORID column value of 4 in the GEORASTER_TABLE table. (The GEORASTER_TABLE table definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  grobj sdo_georaster;
BEGIN
  SELECT georaster INTO grobj FROM georaster_table WHERE georid=4 FOR UPDATE;
  sdo_geor.setVersion(grobj, '15a', 'beta1');
  UPDATE georaster_table SET georaster = grobj WHERE georid=4;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGFEDF"></a>
<div id="GEORS1139" class="refsect1">
<h2 class="refsect1"><a id="sthref1300"></a><a id="sthref1301"></a>SDO_GEOR.subset</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1302"></a>Format</p>
<p class="synopsis">SDO_GEOR.subset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.subset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip IN VARCHAR2 DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.subset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.subset(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1303"></a>Description</p>
<p>Performs either or both of the following operations: (1) spatial crop, cut, or clip, or (2) layer or band subset or duplicate.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1304"></a>Parameters</p>
<dl>
<dt>inGeoRaster</dt>
<dd>
<p>The SDO_GEORASTER object on which the operation or operations are to be performed.</p>
</dd>
<dt>pyramidLevel</dt>
<dd>
<p>A number specifying the pyramid level of the source GeoRaster object.</p>
</dd>
<dt>cropArea</dt>
<dd>
<p>Crop area definition. If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
<p>If <code>cropArea</code> is of type SDO_GEOMETRY, use the <code>layerNumbers</code> parameter to specify one or more layer numbers; if <code>cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code>bandNumbers</code> parameter to specify one or more band numbers.</p>
</dd>
<dt>layerNumbers</dt>
<dd>
<p>A string identifying the logical layer numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>2-4</code> for layers 2, 3, and 4).</p>
</dd>
<dt>bandNumbers</dt>
<dd>
<p>A string identifying the physical band numbers on which the operation or operations are to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code>1-3</code> for bands 1, 2, and 3).</p>
</dd>
<dt>storageParam</dt>
<dd>
<p>A string specifying storage parameters, as explained in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.</p>
</dd>
<dt>outGeoRaster</dt>
<dd>
<p>The new SDO_GEORASTER object. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="geor_intro.htm#CHDIHJJE">Section 1.4.3</a>.) Cannot be the same GeoRaster object as <code>inGeoRaster</code>.</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
<dt>polygonClip</dt>
<dd>
<p>The string <code>TRUE</code> causes the clipping window (<code>cropArea</code> geometry object) to be used for the subset operation; the string <code>FALSE</code> or a null value causes the MBR (minimum bounding rectangle) of the clipping window to be used for the subset operation.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1305"></a>Usage Notes</p>
<p>This procedure has a variety of possible uses. For example, you can call it to crop a small area or obtain a subset of a few layers of a GeoRaster object, you can duplicate layers, and you can specify storage parameters such as blocking and interleaving for the resulting object.</p>
<p>If you use the format that includes the <code>pyramidLevel</code> parameter and specify a value greater than zero (0), the cropping is done based on the specified pyramid level of the source GeoRaster object; otherwise, the cropping is done based on the original source GeoRaster object (<code>pyramidLevel</code> = 0).</p>
<p>If the source GeoRaster object is georeferenced and the <code>pyramidLevel</code> parameter value is greater than 0, the georeferencing information is generated for the resulting GeoRaster object only when the georeference is a valid polynomial transformation.</p>
<p>Any upper-level pyramid data in the input GeoRaster object is not considered in this operation, and the output GeoRaster object has no pyramid data.</p>
<p>If the <code>cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:</p>
<ul>
<li>
<p>Null, to specify raster space</p>
</li>
<li>
<p>A value from the SRID column of the MDSYS.CS_SRS table</p>
<p>If the SDO_SRID values for the <code>cropArea</code> parameter geometry and the model space are different, the <code>window</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
</li>
</ul>
<p>If the <code>cropArea</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>To be able to use the clipping window geometry object itself to subset the GeoRaster object, the geometry object must be a valid two-dimensional polygon geometry, simple or multipolygon, with an SDO_GTYPE value in the form 2<span class="italic">nn</span>3 or 2<span class="italic">nn</span>7. For any other SDO_GTYPE value, the MBR of the geometry object is used regardless of the value of the <code>polygonClip</code> parameter. (For an explanation of SDO_GTYPE values, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.)</p>
<p>If the clipping window geometry object itself is applied to the subset process, all cells inside the polygon or touched by the polygon edges are returned; other cells within the MBR of the geometry object are clipped, that is, filled by the specified or default <code>bgValues</code> parameter values.</p>
<p>If <code>polygonClip</code> is <code>TRUE</code>, and if this procedure creates a rectangular image subset but the geometry is not a rectangle, check the validity of the <code>inWindow</code> geometry object with the function SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT. For an invalid geometry, this procedure operates as if the <code>polygonClip</code> value is <code>FALSE</code> or a null value.</p>
<p><code>inGeoRaster</code> and <code>outGeoRaster</code> must be different GeoRaster objects.</p>
<p>Only the overlapping portion of the specified window of interest and the source GeoRaster object's spatial extent is copied.</p>
<p>If you want to reproject the output GeoRaster object to a different coordinate system, use the <a href="#CACGDJFA">SDO_GEOR.reproject</a> procedure.</p>
<p>An exception is raised if one or more of the following are true:</p>
<ul>
<li>
<p><code>inGeoRaster</code> is invalid.</p>
</li>
<li>
<p><code>outGeoRaster</code> has not been initialized.</p>
</li>
<li>
<p>A raster data table for <code>outGeoRaster</code> does not exist and <code>outGeoRaster</code> is not a blank GeoRaster object.</p>
</li>
<li>
<p>The specified window of interest falls outside of the GeoRaster object's spatial extent.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1306"></a>Examples</p>
<p>The following example creates a GeoRaster object that contains only specified bands from a specified window from the original object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor.subset(gr1, sdo_geometry(2003, NULL, NULL,
                               sdo_elem_info_array(1, 1003, 3),
                               sdo_ordinate_array(0,256,255,511)),
                  '3,1-2', null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre>
<p>The following example demonstrates how to do clipping while subsetting a GeoRaster object using a polygon. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="geor_intro.htm#CHDGDCEC">Example 1-1</a> in <a href="geor_intro.htm#CHDIJFCD">Section 1.4.1</a>.)</p>
<pre>
DECLARE
  gr sdo_georaster;
  grsub sdo_georaster;
  win1 sdo_geometry;
BEGIN
  Delete from georaster_table where georid = 111;
  INSERT INTO georaster_table VALUES (111, 'ClippedImage', 
     sdo_geor.init('georaster_RDT', 111))
     RETURNING georaster INTO grsub;
  SELECT georaster INTO gr FROM georaster_table WHERE georid=1;
  win1 := sdo_geometry(2003, 26986, null, sdo_elem_info_array(1,1003,1),
                sdo_ordinate_array(237040,   897924, 
                                   237013.3, 897831.6,
                                   237129,   897840,
                                   237182.5, 897785.5, 
                                   237239.9, 897902.7,
                                   237223,   897954,
                                   237133,   897899,
                                   237040,   897924));
  sdo_geor.subset(gr, 0, win1, '1-3', 
                  'interleaving = BIL, compression=DEFLATE',
                  grsub, NULL, <span class="bold">'TRUE'</span>);
  UPDATE georaster_table SET georaster=grsub WHERE georid=111;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHBIAE"></a>
<div id="GEORS1140" class="refsect1">
<h2 class="refsect1"><a id="sthref1307"></a><a id="sthref1308"></a>SDO_GEOR.updateRaster</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1309"></a>Format</p>
<p class="synopsis">SDO_GEOR.updateRaster(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetPyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetLayerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetArea IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcePyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceLayerNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateUpperPyramids IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
<p>or</p>
<p class="synopsis">SDO_GEOR.updateRaster(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetGeoRaster IN OUT SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetPyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetBandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetArea IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceGeoRaster IN SDO_GEORASTER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourcePyramidLevel IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceBandNumbers IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateUpperPyramids IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues IN SDO_NUMBER_ARRAY DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1310"></a>Description</p>
<p>Updates a specified pyramid of a specified area or the overlapping parts of one GeoRaster object with selected pyramid and selected bands or layers of another GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1311"></a>Parameters</p>
<dl>
<dt>targetGeoRaster</dt>
<dd>
<p>GeoRaster object to be updated. (Be sure to make a copy of this object before you update it.)</p>
</dd>
<dt>targetPyramidLevel</dt>
<dd>
<p>Number specifying the pyramid level of the target GeoRaster object to be updated.</p>
</dd>
<dt>targetLayerNumbers</dt>
<dd>
<p>String specifying one or more layer numbers of layers in <code>targetGeoRaster</code> to be updated. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'1,3-5,7'</code> for layers 1, 3, 4, 5, and 7.</p>
</dd>
<dt>targetBandNumbers</dt>
<dd>
<p>String specifying one or more band numbers of bands in <code>targetGeoRaster</code> to be updated. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'0,3-5,7'</code> for bands 0, 3, 4, 5, and 7. Any bands that you specify for this parameter must be compatible with the bands to be updated in the target GeoRaster object.</p>
</dd>
<dt>targetArea</dt>
<dd>
<p>Area to be updated in <code>targetGeoRaster</code>: a rectangular window, specified either as a numeric array with the lower-left and upper-right coordinates or as an SDO_GEOMETRY object. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>.</p>
<p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the target area; see also the Usage Notes for SDO_SRID requirements.</p>
<p>If <code>targetArea</code> is of type SDO_GEOMETRY, use the <code>targetLayerNumbers</code> and <code>sourceLayerNumbers</code> parameters to specify one or more layer numbers; if <code>targetArea</code> is of type SDO_NUMBER_ARRAY, use the <code>targetBandNumbers</code> and <code>sourceBandNumbers</code> parameters to specify one or more band numbers.</p>
<p>If the specified area does not intersect with the spatial extent of <code>targetGeoRaster</code>, no update is performed. If this parameter is specified as null, all of the overlapping area is updated.</p>
</dd>
<dt>sourceGeoRaster</dt>
<dd>
<p>GeoRaster object in which specified layers are to be used to update <code>targetGeoRaster</code>.</p>
</dd>
<dt>sourcePyramidLevel</dt>
<dd>
<p>Number specifying the pyramid level of the <code>sourceGeoRaster</code> object.</p>
</dd>
<dt>sourceLayerNumbers</dt>
<dd>
<p>String specifying one or more layer numbers of layers in <code>sourceGeoRaster</code> to be used to update <code>targetGeoRaster</code>. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'1,3-5,7'</code> for layers 1, 3, 4, 5, and 7.</p>
<p>Any layers that you specify for this parameter must be compatible with the layers to be updated in the target GeoRaster object.</p>
</dd>
<dt>sourceBandNumbers</dt>
<dd>
<p>String specifying one or more band numbers of bands in <code>sourceGeoRaster</code> to be used to update <code>targetGeoRaster</code>. Use commas to delimit numbers or ranges, and use a hyphen to indicate a range. Example: <code>'0,3-5,7'</code> for bands 0, 3, 4, 5, and 7.</p>
<p>Any bands that you specify for this parameter must be compatible with the bands to be updated in the target GeoRaster object.</p>
</dd>
<dt>updateUpperPyramids</dt>
<dd>
<p>String (<code>TRUE</code> or <code>FALSE</code>) specifying whether to update upper-level pyramids. (This parameter has no default value; you should always specify it.)</p>
</dd>
<dt>bgValues</dt>
<dd>
<p>Background values for filling partially empty raster blocks. It is only useful when the source GeoRaster object has empty raster blocks and the current operation leads to partially empty raster blocks (see <a href="geor_intro.htm#BABHJFEH">Section 1.4.4</a>). The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code>SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10.</p>
<p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1312"></a>Usage Notes</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Be sure to make a copy of the <code>targetGeoRaster</code> object before you call this procedure, because the changes made to this GeoRaster object might not be reversible after the procedure completes.</div>
<p>If both GeoRaster objects are georeferenced, they must use the same coordinate system, have the same cell depth, and have the same spatial resolutions at the specified pyramid levels; however, the <code>targetPyramidLevel</code> and <code>sourcePyramidLevel</code> values can be different. If both GeoRaster objects are not georeferenced, the ULTCoordinates will be considered to co-locate them into each other.</p>
<p>The two GeoRaster objects can have different dimensions and sizes.</p>
<p>If the <code>targetArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:</p>
<ul>
<li>
<p>Null, to specify raster space</p>
</li>
<li>
<p>A value from the SRID column of the MDSYS.CS_SRS table</p>
<p>If the SDO_SRID values for the <code>window</code> parameter geometry and the model space are different, the <code>window</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="geor_intro.htm#CHDDIDAF">Section 1.3</a>.)</p>
</li>
</ul>
<p>If the <code>targetArea</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian. For information about geodetic MBRs, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>Any existing bitmap masks are not updated.</p>
<p>If the source GeoRaster object is not large enough to fill in the target area, the uncovered area will not be updated.</p>
<p>If the target GeoRaster object has pyramids or is compressed, or both, the updates will be reflected in the pyramids and the compression.</p>
<p>To update upper-level pyramids, you must specify the <code>updateUpperPyramids</code> parameter as '<code>TRUE</code>'. (This parameter has no default value; you should always specify '<code>TRUE</code>' or '<code>FALSE</code>'.)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1313"></a>Examples</p>
<p>The following example updates a specified area in band 1 of the specified target GeoRaster object with band 0 of the same area of another GeoRaster object.</p>
<pre>
DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  area sdo_number_array := sdo_number_array(-200,-50,201,162);
BEGIN
  SELECT georaster INTO gr2 FROM georaster_table WHERE georid=0 FOR UPDATE;
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=1;
  SDO_GEOR.updateRaster(gr2, 0, '1', area, gr1, 0, '0', 'true');
  UPDATE GEORASTER_TABLE SET georaster=gr2 WHERE georid=0;
  COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEFADBE"></a>
<div id="GEORS1141" class="refsect1">
<h2 class="refsect1"><a id="sthref1314"></a><a id="sthref1315"></a>SDO_GEOR.validateBlockMBR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1316"></a>Format</p>
<p class="synopsis">SDO_GEOR.validateBlockMBR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1317"></a>Description</p>
<p>Validates the <code>blockMBR</code> attribute of each block of a GeoRaster object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1318"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1319"></a>Usage Notes</p>
<p>This function checks the <code>blockMBR</code> attribute (described in <a href="geor_datatypes_metadata.htm#BGBBGBBD">Section 2.2.6</a>) in each row of the raster data table associated with the specified GeoRaster object to see if its geometry is the actual minimum bounding rectangle (MBR) of that block.</p>
<p>This function returns the string <code>TRUE</code> if the <code>blockMBR</code> attribute is the MBR of each block, a null value if the GeoRaster object is null, an Oracle error code if the error is known, or <code>FALSE</code> for an unknown error.</p>
<p>If you created the GeoRaster object as described in <a href="geor_operations.htm#CIHBBCEI">Section 3.2</a>, the <code>blockMBR</code> attribute values were automatically calculated and they should not need to be validated or generated. However, if the GeoRaster object was generated by a third party, you should validate the <code>blockMBR</code> attribute values using this function; and if any are not valid, call the <a href="#CHEGJGCE">SDO_GEOR.generateBlockMBR</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1320"></a>Examples</p>
<p>The following example validates the <code>blockMBR</code> attribute of each block of a specified GeoRaster object.</p>
<pre>
SELECT sdo_geor.validateBlockMBR(georaster) FROM georaster_table WHERE georid=1;
 
SDO_GEOR.VALIDATEBLOCKMBR(GEORASTER)
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEHDGCH"></a>
<div id="GEORS1142" class="refsect1">
<h2 class="refsect1"><a id="sthref1321"></a><a id="sthref1322"></a>SDO_GEOR.validateGeoRaster</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1323"></a>Format</p>
<p class="synopsis">SDO_GEOR.validateGeoRaster(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster IN SDO_GEORASTER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1324"></a>Description</p>
<p>Validates a GeoRaster object, checking its raster data and metadata.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1325"></a>Parameters</p>
<dl>
<dt>georaster</dt>
<dd>
<p>GeoRaster object to be checked for validity.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1326"></a>Usage Notes</p>
<p>This function returns the string <code>TRUE</code> if the GeoRaster object is valid, a null value if the GeoRaster object is null, an Oracle error code if the error is known, or <code>FALSE</code> for an unknown error.You should use this function after you create, load, or modify a GeoRaster object, to ensure that it is valid before you process it further.</p>
<p>If this function identifies a GeoRaster object as invalid with an error code of 13454, the object's metadata is not valid according to the GeoRaster XML schema. If this happens, call the <a href="#CHEBHBAG">SDO_GEOR.schemaValidate</a> function to find specific locations and other information about the errors.</p>
<p>This function not only validates GeoRaster metadata against the GeoRaster XML schema, but it also enforces restrictions and requirements in the current release that are not described in the XML schema. The following are some of the restrictions and requirements enforced by this function:</p>
<ul>
<li>
<p>Layer numbers must be from 1 to <span class="italic">n</span> where <span class="italic">n</span> is the total number of layers.</p>
</li>
<li>
<p>The <code>cellRepresentationType</code> value must be <code>UNDEFINED</code>.</p>
</li>
<li>
<p>If <code>totalBandBlocks</code> or <code>bandBlockSize</code> is specified in the metadata, both must be specified. If there is only one band, no band blocking is allowed.</p>
</li>
<li>
<p>The total number of blocks times the blocking size along a dimension must match the dimension size plus padding size, and the size of each cell data BLOB object must match the metadata description in terms of blocking or nonblocking, or of empty or not empty.</p>
</li>
<li>
<p>The size and number of GeoRaster data blocks stored in the raster data table must be consistent with the metadata description. For cell data, the number and size of the blocks are checked; the content of the blocks is not checked.</p>
</li>
<li>
<p>The only pyramid types supported are <code>NONE</code> (no pyramids) and <code>DECREASE</code>. (For more information about pyramids, see <a href="geor_intro.htm#CHDDEGJJ">Section 1.7</a>.)</p>
</li>
<li>
<p>The name of the raster data table must not contain spaces, period separators, or mixed-case letters in a quoted string, and all the alphanumeric characters must be uppercase.</p>
</li>
<li>
<p>The raster data table must be an object table of SDO_RASTER type, and the table must exist if the GeoRaster object is not blank. <a id="sthref1327"></a><a id="sthref1328"></a>To use GeoRaster with Oracle Workspace Manager or Oracle Label Security (OLS), you can define an object view of SDO_RASTER type and use the object view as the raster storage.</p>
</li>
<li>
<p>There must be an entry for the GeoRaster object in the ALL_SDO_GEOR_SYSDATA view.</p>
</li>
<li>
<p>Each associated bitmap mask must have the correct number of rows in the RDT.</p>
</li>
<li>
<p>Any NODATA values and value ranges are in the valid cell value range as designated by the cell depth.</p>
</li>
<li>
<p>For an uncompressed GeoRaster object, the size of the BLOB object in each raster block is checked based on the blocking size and cell depth. However, for a compressed GeoRaster object, the size of the BLOB object in each raster block is not checked. Thus, when a compressed GeoRaster object is decompressed, the data might not be valid with respect to size. (A BLOB with zero length is valid; it is an empty raster block.)</p>
</li>
<li>
<p>For an uncompressed GeoRaster object, the raster block size of each bitmap mask is checked, based on the blocking size and <code>1BIT</code> cell depth. (A BLOB with zero length is valid; it is an empty bitmap mask raster block.)</p>
</li>
<li>
<p>A generic functional fitting polynomial model is supported, as described in <a href="geor_intro.htm#CHDEFCJB">Section 1.6.1</a>. The limitations on offsets, scales, RMS values, pType, nVars, and number of coefficients of the polynomials are described in <a href="geor_intro.htm#CHDEFCJB">Section 1.6.1</a> and <a href="geor_datatypes_metadata.htm#BGBBBHHE">Table 2-4</a> in <a href="geor_datatypes_metadata.htm#BGBHEHHA">Section 2.3.5</a>.</p>
</li>
<li>
<p>The SRID in the GeoRaster SRS metadata is not checked against the CS_SRS table and is not validated. To validate the SRID, call <a href="#CHEEBGJG">SDO_GEOR.getModelSRID</a> and SDO_CS.VALIDATE_WKT (the latter described in <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>). The <code>verticalSRID</code> value is not used in the current release.</p>
</li>
<li>
<p>Ground control points (GCPs), as the StoredFunction georeferencing model, are supported. The <code>gcpGeoreferenceModel</code> in the metadata should follow the definition of the SDO_GEOR_GCPGEOREFTYPE type as described in <a href="geor_datatypes_metadata.htm#BABJEABH">Section 2.3.8</a>, and each GCP should follow the specification of the SDO_GEOR_GCP type as described in <a href="geor_datatypes_metadata.htm#BABEEBBD">Section 2.3.6</a>. The number of GCPs is not checked against the <code>FFMethod</code> attribute, so you can have the flexibility to add GCPs gradually.</p>
</li>
<li>
<p>The <code>RigorousModel</code> georeferencing model is not supported. If the functional polynomial coefficients are set, the <code>modelType</code> value must be set to <code>FunctionalFitting</code> and the <code>isReferenced</code> value is set as <code>TRUE</code>. If are GCPs are stored in the metadata, the <code>modelType</code> value must be set to <code>StoredFunction</code>. If both conditions are true, two <code>modelType</code> values are added to contain both <code>StoredFunction</code> and <code>FunctionalFitting</code> values.</p>
</li>
<li>
<p>Spatial resolutions can be inconsistent with the affine transformation scales if the GeoRaster object is georeferenced.</p>
</li>
<li>
<p>GeoRaster temporal referencing and band referencing are not supported, although in the temporal reference system (TRS) and band reference system (BRS) you can store the beginning and ending date and time, the spectral resolution, the spectral unit, and related descriptive information.</p>
</li>
<li>
<p>Only one <code>layerInfo</code> element is supported. A layer can be defined only along one dimension, and this dimension must be <code>BAND</code>. However, within the <code>layerInfo</code> element, the number of <code>subLayer</code> elements is limited only by the total number of layers. The layer number for the <code>objectLayer</code> elements is 0, and the layer numbers for <code>subLayer</code> elements are 1 to <span class="italic">n</span> where <span class="italic">n</span> is the total number of layers.</p>
</li>
<li>
<p>The scaling function, bin function, and statistical data or histogram can be stored in the GeoRaster metadata and must be valid against the XML schema, but the value ranges for these items are not restricted. GeoRaster interfaces that use this metadata are limited. Applications should validate this optional metadata before using it.</p>
</li>
<li>
<p>The numbers of colormap values and grayscale mapping values are not restricted, but there must be no duplicate colormap or grayscale values, and the values in each array must be consistent with the <code>cellDepth</code> value of the GeoRaster object and must be in ascending order. The value range of the red, green, blue, alpha, and gray components must be integers from 0 to 255.</p>
</li>
<li>
<p>Complex <code>cellDepth</code> values are not supported.</p>
</li>
<li>
<p>This function does not check any external tables (such as a bin table, histogram table, grayscale table, or colormap table) whose names are registered in the XML metadata.</p>
</li>
<li>
<p>This function does not validate the spatial extent geometry, or whether or not the spatial relationship between the geometry and the raster data is correct. To validate the spatial extent geometry, use the SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT or SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT procedure, which are documented in <a class="olink SPATL120" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL120"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</li>
<li>
<p>This function does not validate the geometry specified in the <code>blockMBR</code> attribute in raster data tables, or whether or not the geometry precisely encloses the raster blocks. (The <code>blockMBR</code> attribute is described in <a href="geor_datatypes_metadata.htm#BGBBGBBD">Section 2.2.6</a>.) To validate the <code>blockMBR</code> geometries, use the <a href="#CHEFADBE">SDO_GEOR.validateBlockMBR</a> function.</p>
</li>
</ul>
<p>If there is no entry for the GeoRaster object in the ALL_SDO_GEOR_SYSDATA view (described in <a href="geor_datatypes_metadata.htm#BGBEBHDD">Section 2.4</a>), this procedure returns an error stating that the GeoRaster object is not registered. To prevent this error, be sure that the GeoRaster object is inserted into a GeoRaster table and that this table has the required GeoRaster DML trigger created on it. To enable cross-schema access, you must also ensure that users calling this procedure have an appropriate privilege on both the GeoRaster table and the associated raster data table.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1329"></a>Examples</p>
<p>The following example validates the GeoRaster objects in a table.</p>
<pre>
SELECT t.georid,
       sdo_geor.validategeoraster(t.georaster) isvalid
  from georaster_table t order by georid;

    GEORID ISVALID                                                              
---------- ----------                                                           
         3 TRUE                                                                 
         4 TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1050">
<tr>
<td class="cellalignment1057">
<table class="cellalignment1055">
<tr>
<td class="cellalignment1054"><a href="geor_operations.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1054"><a href="geor_admin_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1059">
<table class="cellalignment1053">
<tr>
<td class="cellalignment1054"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1054"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1054"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1054"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1054"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1054"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
