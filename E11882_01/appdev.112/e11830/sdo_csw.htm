<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Catalog Services for the Web (CSW) Support</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:46Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_wfs.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_ws_security.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">25/51</span> <!-- End Header -->
<div id="SPATL425" class="chapter"><a id="CEGJGDAI"></a>
<h1 class="chapter"><span class="secnum">16</span> Catalog Services for the Web (CSW) Support</h1>
<p>This chapter describes the Oracle Spatial implementation of the Open GIS Consortium specification for catalog services. According to this specification: "Catalogue services support the ability to publish and search collections of descriptive information (metadata) for data, services, and related information objects. Metadata in catalogues represent resource characteristics that can be queried and presented for evaluation and further processing by both humans and software. Catalogue services are required to support the discovery and binding to registered information resources within an information community."</p>
<p>The Oracle Spatial implementation will be referred to as Catalog Services for the Web, or CSW</p>
<p>This chapter includes the following major sections:</p>
<ul>
<li>
<p><a href="#CEGJACAD">Section 16.1, "CSW Engine and Architecture"</a></p>
</li>
<li>
<p><a href="#CEGCHFCA">Section 16.2, "CSW APIs and Configuration"</a></p>
</li>
<li>
<p><a href="#CEGFFHBF">Section 16.3, "Request and Response XML Examples"</a></p>
</li>
<li>
<p><a href="#CEGIHIEG">Section 16.4, "Java API for CSW Administration"</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you use CSW, be sure that you understand the concepts described in <a href="sdo_webserv_intro.htm#CHDGBDCE">Chapter 10, "Introduction to Spatial Web Services"</a>, and that you have performed any necessary configuration work as described in that chapter.
<p>If you have data from a previous release that was indexed using one or more SYS.XMLTABLEINDEX indexes, you must drop the associated indexes before the upgrade and re-create the indexes after the upgrade, as described in <a href="sdo_migrat.htm#CHDEIGBF">Section A.3</a>.</p>
</div>
<a id="CEGJACAD"></a>
<div id="SPATL955" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">16.1</span> CSW Engine and Architecture</h2>
<p>This section describes CSW, including its relationship to clients and to the database server. CSW is implemented as a Web service and can be deployed in a WebLogic Server, Oracle Application Server, or standalone Oracle Application Server Containers for J2EE (OC4J) environment.</p>
<p>CSW has a metadata layer, which stores in the database the metadata needed to reply to catalog requests. The metadata includes spatial columns, which can be queried and processed using Oracle Spatial interfaces. The metadata also stores the association of nonspatial and spatial attributes of records, as well as the services that the catalog service provides to its clients.</p>
<p><a href="#CEGCBCAC">Figure 16-1</a> shows the CSW architecture.</p>
<div id="SPATL956" class="figure">
<p class="titleinfigure"><a id="CEGCBCAC"></a>Figure 16-1 CSW Architecture</p>
<img width="424" height="298" src="img/csw_architecture.gif" alt="Description of Figure 16-1 follows" /><br />
<a id="sthref922" href="img_text/csw_architecture.htm">Description of "Figure 16-1 CSW Architecture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>As shown in <a href="#CEGCBCAC">Figure 16-1</a>:</p>
<ul>
<li>
<p>CSW is part of a container in the Oracle Application Server middle tier.</p>
</li>
<li>
<p>CSW can communicate with a Web service client using CSW requests and responses in SOAP/XML format.</p>
</li>
<li>
<p>CSW performs spatial data and metadata access through JDBC calls to the database.</p>
</li>
<li>
<p>The database includes Oracle Spatial with CSW metadata and data.</p>
</li>
</ul>
<p>CSW security is implemented using secure transport. User identities and user labels are managed in LDAP, and the middle tier and CSW security combine to perform authentication. Oracle label-based security is used for managing user privileges at the record level.</p>
</div>
<!-- class="sect1" -->
<a id="CEGCHFCA"></a>
<div id="SPATL957" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">16.2</span> CSW APIs and Configuration</h2>
<p>The CSW APIs enable you to perform operations that include:</p>
<ul>
<li>
<p>Specifying information about record type domains and record view transformations</p>
</li>
<li>
<p>Publishing record types</p>
</li>
<li>
<p>Dropping (unpublishing) record types</p>
</li>
<li>
<p>Granting to users and revoking from users privileges on CSW record types</p>
</li>
</ul>
<p><a href="sdo_csw_process_ref.htm#CACHGJIH">Chapter 22</a> describes the PL/SQL API (SDO_CSW_PROCESS package), <a href="#CEGFFHBF">Section 16.3</a> provides examples of XML requests and responses, and <a href="#CEGIHIEG">Section 16.4</a> describes the Java API.</p>
<a id="CEGIBHGA"></a>
<div id="SPATL958" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.2.1</span> Capabilities Documents</h3>
<p>A capabilities document describes an instance of a capability. The document specifies a record type and the type of operations supported (such as insert and delete).</p>
<p>A capabilities document is generated by the CSW server in response to a GetCapabilities request. The CSW server uses a capabilities template, and adds information about the record type and operations to this template to create the capabilities document.</p>
<p>The client can use the HTTP GET method to access this capabilities document using either the SOAP interface or the XML interface:</p>
<ul>
<li>
<p>For the SOAP interface, use <code>oracle.spatial.ws.servlet.CSWServlet,</code> which can be accessed at an address in the following format:</p>
<pre>
http:///<span class="italic">machine-name:port</span>/<span class="italic">SpatialWS-SpatialWS-context-root</span>/<span class="italic">cswservlet</span>?request=GetCapabilities&amp;service=CSW&amp;acceptversion=2.0.0&amp;outputFormat=text/xml
</pre></li>
<li>
<p>For the XML interface, use <code>oracle.spatial.ws.servlet.CSWXMLServlet</code>, which can be accessed at an address in the following format:</p>
<pre>
http:///<span class="italic">machine-name:port</span>/<span class="italic">SpatialWS-SpatialWS-context-root</span>/<span class="italic">xmlcswservlet</span>?request=GetCapabilities&amp;service=CSW&amp;acceptversion=2.0.0&amp;outputFormat=text/xml
</pre></li>
</ul>
<p>In the preceding formats:</p>
<ul>
<li>
<p><span class="italic">machine-name</span> is the name of the system where the application server or OC4J server is running.</p>
</li>
<li>
<p><span class="italic">port</span> is the port number where the application server or OC4J server is running.</p>
</li>
<li>
<p><span class="italic">SpatialWS-SpatialWS-context-root</span> is the default root where the Spatial Web services application is mounted.</p>
</li>
<li>
<p><span class="italic">cswservlet</span> is the <code>servlet-mapping url-pattern</code> for <code>oracle.spatial.ws.servlet.CSWServlet</code>, as specified by default in the <code>web.xml</code> file.</p>
</li>
<li>
<p><span class="italic">xmlcswservlet</span> is the <code>servlet-mapping url-pattern</code> for <code>oracle.spatial.ws.servlet.CSWXMLServlet</code>, as specified by default in the <code>web.xml</code> file.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CEGHBGFH"></a>
<div id="SPATL959" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.2.2</span> <a id="sthref923"></a><a id="sthref924"></a><a id="sthref925"></a>Spatial Path Extractor Function (extractSDO)</h3>
<p>If you need CSW to process any spatial content that is not in GML format, you must create a user-defined function named <code>extractSDO</code> to extract the spatial path information. This function must be implemented for each record type that has spatial content in non-GML format and on which you want to create a spatial index. (This function is not needed if all spatial content for a record type is in GML format.)</p>
<p>This function must be registered, as explained in <a href="#CEGCDJCG">Section 16.2.2.1</a>, so that the Oracle Spatial CSW server can find and invoke this function when it needs to extract spatial path content that is not in GML format.</p>
<p>The <code>extractSDO</code> function has the following format:</p>
<p class="synopsis">extractSDO(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlData IN XMLType,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srsNs IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spPathsSRSNSList IN MDSYS.STRINGLISTLIST);</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN MDSYS.SDO_GEOM_PATH_INFO;</p>
<p class="subhead2"><a id="SPATL960"></a>Parameters</p>
<dl>
<dt>xmlData</dt>
<dd>
<p>Data of the record instance from which spatial path information needs to be extracted.</p>
</dd>
<dt>srsNs</dt>
<dd>
<p>User-defined namespace of the spatial reference system (coordinate system) associated with the spatial data for the feature type. This namespace (if specified) is also used to generate the <code>srsName</code> attribute in the <code>&lt;boundedBy&gt;</code> element of the FeatureCollection result generated for the GetFeature request.</p>
</dd>
<dt>spPathsSRSNSList</dt>
<dd>
<p>If a record type has multiple user-defined spatial reference system namespaces associated with different spatial paths, this parameter specifies the list of spatial reference system namespace information corresponding to the different spatial paths specified during type registration. It is an object of type MDSYS.STRINGLISTLIST, which is defined as <code>VARRAY(1000000) OF MDSYS.STRINGLIST</code>, and where MDSYS.STRINGLIST is defined as <code>VARRAY(1000000) OF VARCHAR2(4000)</code>. If a record type does not have multiple user-defined spatial reference system namespaces associated with different spatial columns, this parameter should be null.</p>
<p>In each MDSYS.STRINGLIST object, the first element is the spatial reference system namespace, and second element is the spatial reference system namespace alias (if any).</p>
</dd>
</dl>
<p class="subhead2"><a id="SPATL961"></a>Usage Notes</p>
<p>This function parses the non-GML spatial content and returns an object of type MDSYS.SDO_GEOM_PATH_INFO, which is defined as follows:</p>
<pre>
(path     MDSYS.STRINGLIST,
 geom     SDO_GEOMETRY,
 arrindex NUMBER)
</pre>
<p>The <code>path</code> attribute specifies path to the spatial content that is to be extracted and stored in the <code>geom</code> attribute. It is an object of MDSYS.STRINGLIST, which is defined as: <code>VARRAY(1000000) OF VARCHAR2(4000)</code>. The path attribute has the following pattern: <code>MDSYS.STRINGLIST('pe_namespace1','pe_name1', 'pe_namespace2','pe_name2',...);</code> where:</p>
<ul>
<li>
<p><code>pe_namespace1</code> is the namespace of the first path element.</p>
</li>
<li>
<p><code>pe_name1</code> is the name of the first path element.</p>
</li>
<li>
<p><code>pe_namespace2</code> is the namespace of the second path element.</p>
</li>
<li>
<p><code>pe_name2</code> is the name of the second path element.</p>
</li>
<li>
<p>and so on, for any remaining namespace and name pairs.</p>
</li>
</ul>
<p>In the path, <code>/typeNameNSAlias:typeName/pe_namespace1_Alias:pe_name1/pe_namespace2_Alias:pe_name2...</code> is an XPath representation of spatial content, in non-GML format, that will be extracted by the user-defined function <code>extractSDO</code>:</p>
<ul>
<li>
<p><code>typeNameNSAlias</code> is an alias to record type name namespace.</p>
</li>
<li>
<p><code>typeName</code> is the type name of the record type.</p>
</li>
<li>
<p><code>pe_namespace1_Alias</code> is a namespace alias for namespace <code>pe_namespace1</code></p>
</li>
<li>
<p><code>pe_namespace2_Alias</code> is a namespace alias for namespace <code>pe_namespace2</code>.</p>
</li>
</ul>
<p>The <code>geom</code> attribute is the spatial content (corresponding to the <code>path</code> parameter) extracted as an SDO_GEOMETRY object. The extracted geometry can then be indexed using a spatial index.</p>
<p>The <code>arrindex</code> attribute is not currently used, and should be set to 1. (It is reserved for future use as an array index of paths.)</p>
<a id="CEGCDJCG"></a>
<div id="SPATL962" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">16.2.2.1</span> Registering and Unregistering the extractSDO Function</h4>
<p>After you create the <code>extractSDO</code> function, you must register it to enable it to be used for processing spatial path content in record types that is not in GML format. To register the function, call the <a href="sdo_csw_process_ref.htm#CACIEBIE">SDO_CSW_PROCESS.InsertPluginMap</a> procedure. For example:</p>
<pre>
BEGIN
  SDO_CSW_PROCESS.insertPluginMap('http://www.opengis.net/cat/csw',
    'Record', 'csw_admin_usr.csw_RT_1_package');
END;
/
</pre>
<p>If you no longer want the <code>extractSDO</code> function to be used for processing spatial path content that is not in GML format, you can unregister the function by calling the <a href="sdo_csw_process_ref.htm#CACCJAFE">SDO_CSW_PROCESS.DeletePluginMap</a> procedure. For example:</p>
<pre>
BEGIN
  SDO_CSW_PROCESS.deletePluginMap('http://www.opengis.net/cat/csw', 
    'Record');
END;
/
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGFFHBF"></a>
<div id="SPATL963" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">16.3</span> Request and Response XML Examples</h2>
<p>This section presents some record requests to the CSW engine, and the response to each request, for each of the following operations:</p>
<ul>
<li>
<p>GetCapabilities</p>
</li>
<li>
<p>DescribeRecord</p>
</li>
<li>
<p>GetRecords</p>
</li>
<li>
<p>GetDomain</p>
</li>
<li>
<p>GetRecordById</p>
</li>
<li>
<p>Transaction, with a subelement specifying the transaction type:</p>
<ul>
<li>
<p>Insert</p>
</li>
<li>
<p>Update</p>
</li>
<li>
<p>Delete</p>
</li>
</ul>
</li>
</ul>
<p><a href="#CEGFECEF">Example 16-1</a> is a request to get the capabilities of the CSW server named CSW at a specified namespace URL. T.his request will return a capabilities document, as explained in <a href="#CEGIBHGA">Section 16.2.1</a></p>
<div id="SPATL964" class="example">
<p class="titleinexample"><a id="CEGFECEF"></a>Example 16-1 GetCapabilities Request</p>
<pre>
&lt;csw:GetCapabilities service="CSW" xmlns:csw="http://www.opengis.net/cat/csw" xmlns:ows="http://www.opengis.net/ows"&gt;
    &lt;ows:AcceptVersions&gt;
      &lt;ows:Version&gt;2.0.0&lt;/ows:Version&gt;
    &lt;/ows:AcceptVersions&gt;
    &lt;ows:AcceptFormats&gt;
      &lt;ows:OutputFormat&gt;text/xml&lt;/ows:OutputFormat&gt;
    &lt;/ows:AcceptFormats&gt;
&lt;/csw:GetCapabilities&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGBBFGJ">Example 16-2</a> is an excerpt of the response from the request in <a href="#CEGFECEF">Example 16-1</a>.</p>
<div id="SPATL965" class="example">
<p class="titleinexample"><a id="CEGBBFGJ"></a>Example 16-2 GetCapabilities Response</p>
<pre>
&lt;Capabilities xmlns="http://www.opengis.net/cat/csw" version="2.0.0" updateSequence="0" xmlns:ows="http://www.opengis.net/ows" xmlns:ogc="http://www.opengis.net/ogc" xmlns:csw="http://www.opengis.net/cat/csw" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ns0="http://www.opengis.net/cat/csw" xmlns:ns1="http://www.opengis.net/cat/csw"&gt;
  &lt;ows:ServiceIdentification xmlns:ows="http://www.opengis.net/ows"&gt;
    &lt;ows:ServiceType&gt;CSW&lt;/ows:ServiceType&gt;
    &lt;ows:ServiceTypeVersion&gt;2.0.0&lt;/ows:ServiceTypeVersion&gt;
    &lt;ows:Title&gt;Company CSW&lt;/ows:Title&gt;
    &lt;ows:Abstract&gt;
         A catalogue service that conforms to the HTTP protocol
         binding of the OpenGIS Catalogue Service specification
         version 2.0.0.
      &lt;/ows:Abstract&gt;
    &lt;ows:Keywords&gt;
      &lt;ows:Keyword&gt;CSW&lt;/ows:Keyword&gt;
      &lt;ows:Keyword&gt;Company Name&lt;/ows:Keyword&gt;
      &lt;ows:Keyword&gt;geospatial&lt;/ows:Keyword&gt;
      &lt;ows:Keyword&gt;catalogue&lt;/ows:Keyword&gt;
    &lt;/ows:Keywords&gt;
    &lt;ows:Fees&gt;NONE&lt;/ows:Fees&gt;
    &lt;ows:AccessConstraints&gt;NONE&lt;/ows:AccessConstraints&gt;
  &lt;/ows:ServiceIdentification&gt;
  &lt;ows:ServiceProvider xmlns:ows="http://www.opengis.net/ows"&gt;
    &lt;ows:ProviderName&gt;Company Name&lt;/ows:ProviderName&gt;
    &lt;ows:ProviderSite ans1:href="http://www.oracle.com" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
    &lt;ows:ServiceContact&gt;
      &lt;ows:IndividualName&gt; Contact Person Name&lt;/ows:IndividualName&gt;
      &lt;ows:PositionName&gt;Staff&lt;/ows:PositionName&gt;
      &lt;ows:ContactInfo&gt;
        &lt;ows:Phone&gt;
          &lt;ows:Voice&gt;999-999-9999&lt;/ows:Voice&gt;
          &lt;ows:Facsimile&gt;999-999-9999&lt;/ows:Facsimile&gt;
        &lt;/ows:Phone&gt;
        &lt;ows:Address&gt;
          &lt;ows:DeliveryPoint&gt;1 Street Name&lt;/ows:DeliveryPoint&gt;
          &lt;ows:City&gt;CityName&lt;/ows:City&gt;
          &lt;ows:AdministrativeArea&gt;StateName&lt;/ows:AdministrativeArea&gt;
          &lt;ows:PostalCode&gt;09999&lt;/ows:PostalCode&gt;
          &lt;ows:Country&gt;USA&lt;/ows:Country&gt;
          &lt;ows:ElectronicMailAddress&gt;
               contact.person@example.com
               &lt;/ows:ElectronicMailAddress&gt;
        &lt;/ows:Address&gt;
        &lt;ows:OnlineResource ans1:href="mailto:contact.person@example.com" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
      &lt;/ows:ContactInfo&gt;
    &lt;/ows:ServiceContact&gt;
  &lt;/ows:ServiceProvider&gt;
  &lt;ows:OperationsMetadata xmlns:ows="http://www.opengis.net/ows"&gt;
    &lt;ows:Operation name="GetCapabilities"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Get ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/cswservlet" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Operation name="DescribeRecord"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
      &lt;ows:Parameter name="typeName"&gt;&lt;ows:Value&gt;ns0:SampleRecord&lt;/ows:Value&gt;&lt;ows:Value&gt;ns1:Record&lt;/ows:Value&gt;&lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="outputFormat"&gt;
        &lt;ows:Value&gt;text/xml&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="schemaLanguage"&gt;
        &lt;ows:Value&gt;XMLSCHEMA&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Operation name="GetRecords"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
      &lt;ows:Parameter name="TypeName"&gt;&lt;ows:Value&gt;ns0:SampleRecord&lt;/ows:Value&gt;&lt;ows:Value&gt;ns1:Record&lt;/ows:Value&gt;&lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="outputFormat"&gt;
        &lt;ows:Value&gt;text/xml &lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="outputSchema"&gt;
        &lt;ows:Value&gt;OGCCORE&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="resultType"&gt;
        &lt;ows:Value&gt;hits&lt;/ows:Value&gt;
        &lt;ows:Value&gt;results&lt;/ows:Value&gt;
        &lt;ows:Value&gt;validate&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="ElementSetName"&gt;
        &lt;ows:Value&gt;brief&lt;/ows:Value&gt;
        &lt;ows:Value&gt;summary&lt;/ows:Value&gt;
        &lt;ows:Value&gt;full&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
      &lt;ows:Parameter name="CONSTRAINTLANGUAGE"&gt;
        &lt;ows:Value&gt;Filter&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Operation name="GetRecordById"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
      &lt;ows:Parameter name="ElementSetName"&gt;
        &lt;ows:Value&gt;brief&lt;/ows:Value&gt;
        &lt;ows:Value&gt;summary&lt;/ows:Value&gt;
        &lt;ows:Value&gt;full&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Operation name="GetDomain"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
      &lt;ows:Parameter name="ParameterName"&gt;
        &lt;ows:Value&gt;GetRecords.resultType&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.outputFormat&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.outputRecType&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.typeNames&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.ElementSetName&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.ElementName&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecords.CONSTRAINTLANGUAGE&lt;/ows:Value&gt;
        &lt;ows:Value&gt;GetRecordById.ElementSetName&lt;/ows:Value&gt;
        &lt;ows:Value&gt;DescribeRecord.typeName&lt;/ows:Value&gt;
        &lt;ows:Value&gt;DescribeRecord.schemaLanguage&lt;/ows:Value&gt;
      &lt;/ows:Parameter&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Operation name="Transaction"&gt;
      &lt;ows:DCP&gt;
        &lt;ows:HTTP&gt;
          &lt;ows:Post ans1:href="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort" xmlns:ans1="http://www.w3.org/1999/xlink"/&gt;
        &lt;/ows:HTTP&gt;
      &lt;/ows:DCP&gt;
    &lt;/ows:Operation&gt;
    &lt;ows:Parameter name="service"&gt;
      &lt;ows:Value&gt;CSW&lt;/ows:Value&gt;
    &lt;/ows:Parameter&gt;
    &lt;ows:Parameter name="version"&gt;
      &lt;ows:Value&gt;2.0.0&lt;/ows:Value&gt;
    &lt;/ows:Parameter&gt;
    &lt;ows:ExtendedCapabilities&gt;
      &lt;ogc:Filter_Capabilities xmlns:ogc="http://www.opengis.net/ogc"&gt;
        &lt;ogc:Spatial_Capabilities&gt;
          &lt;ogc:Spatial_Operators&gt;
            &lt;ogc:BBOX/&gt;
            &lt;ogc:Equals/&gt;
            &lt;ogc:Disjoint/&gt;
            &lt;ogc:Intersect/&gt;
            &lt;ogc:Touches/&gt;
            &lt;ogc:Crosses/&gt;
            &lt;ogc:Within/&gt;
            &lt;ogc:Contains/&gt;
            &lt;ogc:Overlaps/&gt;
            &lt;ogc:Beyond/&gt;
            &lt;ogc:DWithin/&gt;
          &lt;/ogc:Spatial_Operators&gt;
        &lt;/ogc:Spatial_Capabilities&gt;
        &lt;ogc:Scalar_Capabilities&gt;
          &lt;ogc:Logical_Operators/&gt;
          &lt;ogc:Comparison_Operators&gt;
            &lt;ogc:Simple_Comparisons/&gt;
            &lt;ogc:Like/&gt;
            &lt;ogc:Between/&gt;
            &lt;ogc:NullCheck/&gt;
          &lt;/ogc:Comparison_Operators&gt;
          &lt;ogc:Arithmetic_Operators&gt;
            &lt;ogc:Simple_Arithmetic/&gt;
          &lt;/ogc:Arithmetic_Operators&gt;
        &lt;/ogc:Scalar_Capabilities&gt;
      &lt;/ogc:Filter_Capabilities&gt;
    &lt;/ows:ExtendedCapabilities&gt;
  &lt;/ows:OperationsMetadata&gt;
&lt;/Capabilities&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGFCDGD">Example 16-3</a> is a request to describe the record with the type name <code>Record</code> for a specified namespace.</p>
<div id="SPATL966" class="example">
<p class="titleinexample"><a id="CEGFCDGD"></a>Example 16-3 DescribeRecord Request</p>
<pre>
&lt;csw:DescribeRecord service="CSW" 
  version="2.0.0" 
  xmlns:csw="http://www.opengis.net/cat/csw" &gt;
  &lt;csw:TypeName targetNamespace="http://www.opengis.net/cat/csw"&gt;Record&lt;/csw:TypeName&gt;
&lt;/csw:DescribeRecord&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGIGAFE">Example 16-4</a> is the response from the request in <a href="#CEGFCDGD">Example 16-3</a>. The response is an XML schema definition (XSD). See the <code>&lt;documentation&gt;</code> elements in the response for explanatory comments.</p>
<div id="SPATL967" class="example">
<p class="titleinexample"><a id="CEGIGAFE"></a>Example 16-4 DescribeRecord Response</p>
<pre>
&lt;xsd:schema targetNamespace="http://www.opengis.net/cat/csw" elementFormDefault="qualified" version="2.0.0" id="csw-record" xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/" xmlns:ows="http://www.opengis.net/ows" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;xsd:annotation&gt;
    &lt;xsd:appinfo&gt;
      &lt;dc:identifier xmlns:dc="http://www.purl.org/dc/elements/1.1/"&gt;
      http://schemas.opengis.net/csw/2.0.0/record
      &lt;/dc:identifier&gt;
    &lt;/xsd:appinfo&gt;
    &lt;xsd:documentation&gt;
    This schema defines the basic record types that are common to all CSW 
    implementations. An application profile may extend AbstractRecordType to 
    represent model-specific content.
    &lt;/xsd:documentation&gt;
  &lt;/xsd:annotation&gt;
  &lt;xsd:import namespace="http://www.purl.org/dc/terms/" schemaLocation="./recdcterms.xsd"/&gt;
  &lt;xsd:import namespace="http://www.purl.org/dc/elements/1.1/" schemaLocation="./recdcmes.xsd"/&gt;
  &lt;xsd:import namespace="http://www.opengis.net/ows" schemaLocation="./owsboundingbox.xsd"/&gt;
  &lt;xsd:element name="AbstractRecord" type="csw:AbstractRecordType" abstract="true" id="AbstractRecord"/&gt;
  &lt;xsd:complexType name="AbstractRecordType" abstract="true" id="AbstractRecordType"/&gt;
  &lt;xsd:element name="DCMIRecord" type="csw:DCMIRecordType" substitutionGroup="csw:AbstractRecord"/&gt;
  &lt;xsd:complexType name="DCMIRecordType"&gt;
    &lt;xsd:annotation&gt;
      &lt;xsd:documentation&gt;
      This type encapsulates all of the standard DCMI metadata terms, 
      including the Dublin Core refinements; these terms may be mapped to the 
      profile-specific information model.
      &lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;
    &lt;xsd:complexContent&gt;
      &lt;xsd:extension base="csw:AbstractRecordType"&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:group ref="dct:DCMI-terms"/&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:complexContent&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:element name="BriefRecord" type="csw:BriefRecordType" substitutionGroup="csw:AbstractRecord"/&gt;
  &lt;xsd:complexType name="BriefRecordType"&gt;
    &lt;xsd:annotation&gt;
      &lt;xsd:documentation&gt;
      This type defines a brief representation of the common record format. 
      It extends AbstractRecordType to include only the dc:identifier and 
      dc:type properties.
      &lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;
    &lt;xsd:complexContent&gt;
      &lt;xsd:extension base="csw:AbstractRecordType"&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:element ref="dc:identifier"/&gt;
          &lt;xsd:element ref="dc:type" minOccurs="0"/&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:complexContent&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:element name="SummaryRecord" type="csw:SummaryRecordType" substitutionGroup="csw:AbstractRecord"/&gt;
  &lt;xsd:complexType name="SummaryRecordType"&gt;
    &lt;xsd:annotation&gt;
      &lt;xsd:documentation&gt;
      This type defines a summary representation of the common record format. 
      It extends AbstractRecordType to include the core properties.
      &lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;
    &lt;xsd:complexContent&gt;
      &lt;xsd:extension base="csw:AbstractRecordType"&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:choice maxOccurs="unbounded"&gt;
            &lt;xsd:element ref="dc:identifier"/&gt;
            &lt;xsd:element ref="dc:type"/&gt;
            &lt;xsd:element ref="dc:title"/&gt;
            &lt;xsd:element ref="dc:subject"/&gt;
            &lt;xsd:element ref="dc:format"/&gt;
            &lt;xsd:element ref="dc:relation"/&gt;
            &lt;xsd:element ref="dct:modified"/&gt;
            &lt;xsd:element ref="dct:abstract"/&gt;
            &lt;xsd:element ref="dct:spatial"/&gt;
          &lt;/xsd:choice&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:complexContent&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:element name="Record" type="csw:RecordType" substitutionGroup="csw:AbstractRecord"/&gt;
  &lt;xsd:complexType name="RecordType"&gt;
    &lt;xsd:annotation&gt;
      &lt;xsd:documentation&gt;
      This type extends DCMIRecordType to add ows:BoundingBox; it may be used 
      to specify a bounding envelope for the catalogued resource.
      &lt;/xsd:documentation&gt;
    &lt;/xsd:annotation&gt;
    &lt;xsd:complexContent&gt;
      &lt;xsd:extension base="csw:DCMIRecordType"&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:element ref="ows:BoundingBox" minOccurs="0"/&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:extension&gt;
    &lt;/xsd:complexContent&gt;
  &lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGCBHIH">Example 16-5</a> is a request to get records where the contributor is equal to <code>Raja</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Spatial Catalog Service in Oracle Database Release 11.1 supports only synchronous processing of GetRecords requests.</div>
<div id="SPATL968" class="example">
<p class="titleinexample"><a id="CEGCBHIH"></a>Example 16-5 GetRecords Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;csw:GetRecords
   service="CSW"
   version="2.0.0"
   xmlns:csw="http://www.opengis.net/cat/csw"
   xmlns:ogc="http://www.opengis.net/ogc"
   xmlns:dc="http://www.purl.org/dc/elements/1.1/"
   xmlns:dct="http://www.purl.org/dc/terms/"
   outputFormat="text/xml"
   resultType="results" 
   outputSchema="csw:Record"&gt;
&lt;csw:Query typeNames="csw:Record"&gt;
&lt;csw:ElementName&gt;/csw:Record/dc:identifier&lt;/csw:ElementName&gt;
&lt;csw:ElementName&gt;/csw:Record/dc:contributor&lt;/csw:ElementName&gt;
&lt;csw:Constraint version="2.0.0" &gt; 
   &lt;ogc:Filter&gt;
  &lt;ogc:PropertyIsEqualTo&gt;
    &lt;ogc:PropertyName&gt;/csw:Record/dc:contributor&lt;/ogc:PropertyName&gt;
    &lt;ogc:Literal&gt;Raja&lt;/ogc:Literal&gt;
  &lt;/ogc:PropertyIsEqualTo&gt;
   &lt;/ogc:Filter&gt;
&lt;/csw:Constraint&gt; 
&lt;/csw:Query&gt;
&lt;/csw:GetRecords&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGJHAAB">Example 16-6</a> is the response from the request in <a href="#CEGCBHIH">Example 16-5</a>.</p>
<div id="SPATL969" class="example">
<p class="titleinexample"><a id="CEGJHAAB"></a>Example 16-6 GetRecords Response</p>
<pre>
&lt;csw:GetRecordsResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/" xsi:schemaLocation="http://www.opengis.net/cat/csw http://localhost:8888/SpatialWS-SpatialWS-context-root/cswservlet?recordTypeId=1 " version="2.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;csw:RequestId&gt;4&lt;/csw:RequestId&gt;
   &lt;csw:SearchStatus status="complete"/&gt;
   &lt;csw:SearchResults recordSchema="http://www.opengis.net/cat/csw" numberOfRecordsMatched="1" numberOfRecordsReturned="1" nextRecord="0" expires="2007-02-09T16:32:35.29Z"&gt;
      &lt;csw:Record xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:ows="http://www.opengis.net/ows" xmlns:dct="http://www.purl.org/dc/terms/"&gt;
         &lt;dc:contributor xmlns:dc="http://www.purl.org/dc/elements/1.1/" scheme="http://www.example.com"&gt;Raja&lt;/dc:contributor&gt;
         &lt;dc:identifier xmlns:dc="http://www.purl.org/dc/elements/1.1/"&gt;REC-1&lt;/dc:identifier&gt;
      &lt;/csw:Record&gt;
   &lt;/csw:SearchResults&gt;
&lt;/csw:GetRecordsResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGCHBFG">Example 16-7</a> is a request to get domain information related to a record type.</p>
<div id="SPATL970" class="example">
<p class="titleinexample"><a id="CEGCHBFG"></a>Example 16-7 GetDomain Request</p>
<pre>
&lt;csw:GetDomain service="CSW" 
   version="2.0.0" 
   xmlns:csw="http://www.opengis.net/cat/csw" &gt;
   &lt;csw:ParameterName&gt;GetRecords.resultType&lt;/csw:ParameterName&gt;
&lt;/csw:GetDomain&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGEFDGG">Example 16-8</a> is the response from the request in <a href="#CEGCHBFG">Example 16-7</a>.</p>
<div id="SPATL971" class="example">
<p class="titleinexample"><a id="CEGEFDGG"></a>Example 16-8 GetDomain Response</p>
<pre>
&lt;csw:GetDomainResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/"&gt;
   &lt;csw:DomainValues type="csw:SampleRecord"&gt;
      &lt;csw:ParameterName&gt;GetRecords.resultType&lt;/csw:ParameterName&gt;
      &lt;csw:ListOfValues&gt;
         &lt;csw:Value&gt;hits&lt;/csw:Value&gt;
         &lt;csw:Value&gt;results&lt;/csw:Value&gt;
         &lt;csw:Value&gt;validate&lt;/csw:Value&gt;
      &lt;/csw:ListOfValues&gt;
   &lt;/csw:DomainValues&gt;
   &lt;csw:DomainValues type="csw:Record"&gt;
      &lt;csw:ParameterName&gt;GetRecords.resultType&lt;/csw:ParameterName&gt;
      &lt;csw:ListOfValues&gt;
         &lt;csw:Value&gt;hits&lt;/csw:Value&gt;
         &lt;csw:Value&gt;results&lt;/csw:Value&gt;
         &lt;csw:Value&gt;validate&lt;/csw:Value&gt;
      &lt;/csw:ListOfValues&gt;
   &lt;/csw:DomainValues&gt;
&lt;/csw:GetDomainResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGFJHHG">Example 16-9</a> is a request to get the record with the record ID value <code>REC-1</code>.</p>
<div id="SPATL972" class="example">
<p class="titleinexample"><a id="CEGFJHHG"></a>Example 16-9 GetRecordById Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;csw:GetRecordById
   service="CSW"
   version="2.0.0"
   xmlns:csw="http://www.opengis.net/cat/csw"
   xmlns:ogc="http://www.opengis.net/ogc" &gt;
&lt;csw:Id&gt; REC-1 &lt;/csw:Id&gt;
&lt;csw:ElementSetName&gt;brief&lt;/csw:ElementSetName&gt;
&lt;/csw:GetRecordById&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGDBFED">Example 16-10</a> is the response from the request in <a href="#CEGFJHHG">Example 16-9</a>.</p>
<div id="SPATL973" class="example">
<p class="titleinexample"><a id="CEGDBFED"></a>Example 16-10 GetRecordById Response</p>
<pre>
&lt;csw:GetRecordByIdResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/" xsi:schemaLocation="http://www.opengis.net/cat/csw http://localhost:8888/SpatialWS-SpatialWS-context-root/cswservlet?recordTypeId=2 http://www.opengis.net/cat/csw http://localhost:8888/SpatialWS-SpatialWS-context-root/cswservlet?recordTypeId=1 " xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;csw:BriefRecord xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:ows="http://www.opengis.net/ows" xmlns:dct="http://www.purl.org/dc/terms/"&gt;
      &lt;dc:identifier xmlns:dc="http://www.purl.org/dc/elements/1.1/"&gt;REC-1&lt;/dc:identifier&gt;
   &lt;/csw:BriefRecord&gt;
&lt;/csw:GetRecordByIdResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGEJCBH">Example 16-11</a> is a request to insert a record for contributor <code>John</code>. The record has an ID value of <code>REC-2</code>, and has the spatial attribute of the specified bounding box (optimized rectangle: lower-left and upper-right coordinates).</p>
<div id="SPATL974" class="example">
<p class="titleinexample"><a id="CEGEJCBH"></a>Example 16-11 Insert Request</p>
<pre>
&lt;csw:Transaction service="CSW" 
   version="2.0.0" 
   xmlns:csw="http://www.opengis.net/cat/csw" &gt;
  &lt;csw:Insert&gt;
    &lt;Record xmlns="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/" xmlns:ows="http://www.opengis.net/ows" &gt;
       &lt;dc:contributor scheme="http://www.example.com"&gt;John&lt;/dc:contributor&gt;
       &lt;dc:identifier &gt;REC-2&lt;/dc:identifier&gt;
       &lt;ows:WGS84BoundingBox crs="urn:opengis:crs:OGC:2:84" dimensions="2"&gt;
               &lt;ows:LowerCorner&gt;12 12&lt;/ows:LowerCorner&gt;
               &lt;ows:UpperCorner&gt;102 102&lt;/ows:UpperCorner&gt;
       &lt;/ows:WGS84BoundingBox&gt;
    &lt;/Record&gt;
  &lt;/csw:Insert&gt;
&lt;/csw:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGJGDFE">Example 16-12</a> is the response from the request in <a href="#CEGEJCBH">Example 16-11</a>.</p>
<div id="SPATL975" class="example">
<p class="titleinexample"><a id="CEGJGDFE"></a>Example 16-12 Insert Response</p>
<pre>
&lt;csw:TransactionResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/" xsi:schemaLocation="http://www.opengis.net/cat/csw http://localhost:8888/SpatialWS-SpatialWS-context-root/cswservlet?recordTypeId=1 " xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;csw:TransactionSummary&gt;
      &lt;csw:totalInserted&gt;1&lt;/csw:totalInserted&gt;
   &lt;/csw:TransactionSummary&gt;
&lt;/csw:TransactionResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGFAEDI">Example 16-13</a> is a request to update the contributor value to <code>Jane</code> in the record where the current contributor value is <code>John</code> (that is, change the value from <code>John</code> to <code>Jane</code>).</p>
<div id="SPATL976" class="example">
<p class="titleinexample"><a id="CEGFAEDI"></a>Example 16-13 Update Request</p>
<pre>
&lt;csw:Transaction service="CSW" 
   version="2.0.0" 
   xmlns:csw="http://www.opengis.net/cat/csw" 
   xmlns:ogc="http://www.opengis.net/ogc"
   xmlns:dc="http://www.purl.org/dc/elements/1.1/"&gt;
  &lt;csw:Update&gt;
    &lt;csw:RecordProperty&gt;
      &lt;csw:Name&gt;/csw:Record/dc:contributor&lt;/csw:Name&gt;
      &lt;csw:Value&gt;Jane&lt;/csw:Value&gt;
    &lt;/csw:RecordProperty&gt;
    
    &lt;csw:Constraint version="2.0.0"&gt;
      &lt;ogc:Filter&gt;
        &lt;ogc:PropertyIsEqualTo&gt;
          &lt;ogc:PropertyName&gt;/csw:Record/dc:contributor&lt;/ogc:PropertyName&gt;
          &lt;ogc:Literal&gt;John&lt;/ogc:Literal&gt;
        &lt;/ogc:PropertyIsEqualTo&gt;
      &lt;/ogc:Filter&gt;
    &lt;/csw:Constraint&gt;
    
  &lt;/csw:Update&gt;
&lt;/csw:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGBDAJF">Example 16-14</a> is the response from the request in <a href="#CEGFAEDI">Example 16-13</a>.</p>
<div id="SPATL977" class="example">
<p class="titleinexample"><a id="CEGBDAJF"></a>Example 16-14 Update Response</p>
<pre>
&lt;csw:TransactionResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/"&gt;
   &lt;csw:TransactionSummary&gt;
      &lt;csw:totalUpdated&gt;1&lt;/csw:totalUpdated&gt;
   &lt;/csw:TransactionSummary&gt;
&lt;/csw:TransactionResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGHHJDE">Example 16-15</a> is a request to delete the record where the contributor value is equal to <code>Jane</code>.</p>
<div id="SPATL978" class="example">
<p class="titleinexample"><a id="CEGHHJDE"></a>Example 16-15 Delete Request</p>
<pre>
&lt;csw:Transaction service="CSW" 
   version="2.0.0" 
   xmlns:csw="http://www.opengis.net/cat/csw" 
   xmlns:dc="http://www.purl.org/dc/elements/1.1/"
   xmlns:ogc="http://www.opengis.net/ogc"&gt;
  &lt;csw:Delete typeName="csw:Record"&gt;
    &lt;csw:Constraint version="2.0.0"&gt;
      &lt;ogc:Filter&gt;
        &lt;ogc:PropertyIsEqualTo&gt;
            &lt;ogc:PropertyName&gt;/csw:Record/dc:contributor&lt;/ogc:PropertyName&gt;
            &lt;ogc:Literal&gt;Jane&lt;/ogc:Literal&gt;
        &lt;/ogc:PropertyIsEqualTo&gt;
      &lt;/ogc:Filter&gt;
    &lt;/csw:Constraint&gt;
  &lt;/csw:Delete&gt;
&lt;/csw:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CEGJBHGJ">Example 16-16</a> is the response from the request in <a href="#CEGHHJDE">Example 16-15</a>.</p>
<div id="SPATL979" class="example">
<p class="titleinexample"><a id="CEGJBHGJ"></a>Example 16-16 Delete Response</p>
<pre>
&lt;csw:TransactionResponse xmlns:csw="http://www.opengis.net/cat/csw" xmlns:dc="http://www.purl.org/dc/elements/1.1/" xmlns:dct="http://www.purl.org/dc/terms/"&gt;
   &lt;csw:TransactionSummary&gt;
      &lt;csw:totalDeleted&gt;1&lt;/csw:totalDeleted&gt;
   &lt;/csw:TransactionSummary&gt;
&lt;/csw:TransactionResponse&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="CEGIHIEG"></a>
<div id="SPATL980" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">16.4</span> <a id="sthref926"></a><a id="sthref927"></a><a id="sthref928"></a>Java API for CSW Administration</h2>
<p>In addition to the PL/SQL APIs in the SDO_CSW_PROCESS package, you can use a Java API to publish and drop record types, and to grant and revoke access to record types and CSW metadata tables.</p>
<p>This section provides basic reference information about the methods in the <code>oracle.spatial.csw.CSWAdmin</code> class. The methods are presented in alphabetical order.</p>
<a id="CEGHEGIJ"></a>
<div id="SPATL981" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.1</span> <a id="sthref929"></a><a id="sthref930"></a>createXMLTableIndex method</h3>
<p>The <code>createXMLTableIndex</code> method creates an index of XDB.XMLINDEX on record type instances. This method has the following format:</p>
<pre>
public static void createXMLTableIndex(
    OracleConnection conn, 
    String typeNS, 
    String typeName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL982" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref931"></a>
<h3 class="sect2"><span class="secnum">16.4.2</span> <a id="sthref932"></a><a id="sthref933"></a>deleteDomainInfo method</h3>
<p>The <code>deleteDomainInfo</code> method deletes domain information related to the record type. This method has the following format:</p>
<pre>
public static void deleteDomainInfo(
    OracleConnection conn, 
    int recordTypeId, 
    String parameterName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>recordTypeId</code> is the ID of the record type.</p>
<p><code>parameterName</code> is the name of the domain parameter to be deleted.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL983" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref934"></a>
<h3 class="sect2"><span class="secnum">16.4.3</span> <a id="sthref935"></a><a id="sthref936"></a>deleteRecordViewMap method</h3>
<p>The <code>deleteRecordViewMap</code> method deletes information related to record view transformation. This method has the following format:</p>
<pre>
public static void deleteRecordViewMap(
    OracleConnection conn, 
    String recordTypeNS, 
    String viewSrcName, 
    String targetTypeName, 
    String  mapType) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>recordTypeNS</code> is the URL of the namespace of the record type.</p>
<p><code>viewSrcName</code> is the name of the source of the record type.</p>
<p><code>targetTypeName</code> is the name of the destination of the record type.</p>
<p><code>mapType</code> is the map type (brief, summary, and so on).</p>
</div>
<!-- class="sect2" -->
<div id="SPATL984" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref937"></a>
<h3 class="sect2"><span class="secnum">16.4.4</span> <a id="sthref938"></a><a id="sthref939"></a>disableVersioning method</h3>
<p>The <code>disableVersioning</code> method disables versioning for a record type. This method has the following format:</p>
<pre>
public static void disableVersioning(
    OracleConnection conn, 
    String rtNSUrl, 
    String rtName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>rtNSUrl</code> is the URL of the namespace of the record type.</p>
<p><code>rtName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<a id="CEGBGHCF"></a>
<div id="SPATL985" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.5</span> <a id="sthref940"></a><a id="sthref941"></a>dropRecordType method</h3>
<p>The <code>dropRecordType</code> method deletes a record type from the CSW repository. This method has the following format:</p>
<pre>
public static void dropRecordType(
    OracleConnection conn, 
    String rtNSUrl, 
    String rtName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>rtNSUrl</code> is the URL of the namespace of the record type.</p>
<p><code>rtName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<a id="CEGEFIGI"></a>
<div id="SPATL986" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.6</span> <a id="sthref942"></a><a id="sthref943"></a>dropXMLTableIndex method</h3>
<p>The <code>dropXMLTableIndex</code> method drops an index of type XDB.XMLINDEX that was created on record type instances. This method has the following format:</p>
<pre>
public static void dropXMLTableIndex(
    OracleConnection conn, 
    String typeNS, 
    String typeName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL987" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref944"></a>
<h3 class="sect2"><span class="secnum">16.4.7</span> <a id="sthref945"></a><a id="sthref946"></a>enableVersioning method</h3>
<p>The <code>enableVersioning</code> method enables versioning for a record type. This method has the following format:</p>
<pre>
public static void enableVersioning(
    OracleConnection conn, 
    String rtNSUrl, 
    String rtName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>rtNSUrl</code> is the URL of the namespace of the record type.</p>
<p><code>rtName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<a id="CEGGHDJG"></a>
<div id="SPATL988" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.8</span> <a id="sthref947"></a><a id="sthref948"></a>getIsXMLTableIndexCreated method</h3>
<p>The <code>getIsXMLTableIndexCreated</code> method returns a Boolean <code>TRUE</code> if an index of type XDB.XMLINDEX has been created on a record type, or a Boolean <code>FALSE</code> if such an index has not been created. This method has the following format:</p>
<pre>
public static boolean getIsXMLTableIndexCreated(
    OracleConnection conn, 
    String typeNS, 
    String typeName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL989" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref949"></a>
<h3 class="sect2"><span class="secnum">16.4.9</span> <a id="sthref950"></a><a id="sthref951"></a>getRecordTypeId method</h3>
<p>The <code>getRecordTypeId</code> method returns the record type ID for a specified combination of namespace and record type. This method has the following format:</p>
<pre>
public static boolean getIRecordTypeId(
    OracleConnection conn, 
    String typeNamespace, 
    String typeName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNamespace</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL990" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref952"></a>
<h3 class="sect2"><span class="secnum">16.4.10</span> <a id="sthref953"></a>grantMDAccessToUser method</h3>
<p>The <code>grantMDAccessToUser</code> method grants access to the CSW metadata to a database user. This method has the following format:</p>
<pre>
public static void grantMDAccessToUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL991" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref954"></a>
<h3 class="sect2"><span class="secnum">16.4.11</span> <a id="sthref955"></a><a id="sthref956"></a>grantRecordTypeToUser method</h3>
<p>The <code>grantRecordTypeToUser</code> method grants access to a record type to a database user. This method has the following format:</p>
<pre>
public static void grantRecordTypeToUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<a id="CEGIDDHG"></a>
<div id="SPATL992" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.12</span> <a id="sthref957"></a><a id="sthref958"></a>publishRecordType method</h3>
<p>The <code>publishRecordType</code> method publishes a record type; that is, it registers metadata related to the record type. This method has the following formats:</p>
<pre>
public static void publishRecordType(OracleConnection conn, 
     XMLType recordTypeMD) throws SQLException , CSWException;
 
public static void publishRecordType(OracleConnection conn,
     String typeNS,
     String typeName,
     ArrayList&lt;String&gt; idPaths,
     ArrayList&lt;PathInfo&gt; spatialPaths,
     ArrayList&lt;PathInfo&gt; tsPaths,
     XMLType schemaDoc,
     XMLType briefXSLPattern,
     XMLType summaryXSLPattern,
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths,
     String idExtractorType, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias) throws SQLException ;
 
public static void publishRecordType(OracleConnection conn, 
     String typeNS, 
     String typeName, 
     ArrayList&lt;String&gt; idPaths, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     XMLType schemaDoc, 
     XMLType briefXSLPattern, 
     XMLType summaryXSLPattern, 
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths, 
     String idExtractorType, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias,
     String rtXSDRefId,
     boolean genSpatialIndex,
     boolean setDomainInfo,
     Hashtable&lt;String, ArrayList&lt;String&gt;&gt; domainInfo,
     boolean setRecordViewMap,
     ArrayList&lt;ArrayList&lt;Object&gt;&gt; recordViewMap) throws SQLException ;
 
public static void publishRecordType(OracleConnection conn, 
     String typeNS, 
     String typeName, 
     ArrayList&lt;String&gt; idPaths, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     XMLType schemaDoc, 
     XMLType briefXSLPattern, 
     XMLType summaryXSLPattern, 
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths, 
     String idExtractorType, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias,
     String rtXSDRefId,
     boolean genSpatialIndex,
     boolean setDomainInfo,
     Hashtable&lt;String, ArrayList&lt;String&gt;&gt; domainInfo,
     boolean setRecordViewMap, 
     ArrayList&lt;ArrayList&lt;Object&gt;&gt; recordViewMap,
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex) throws SQLException ;
 
public static void publishRecordType(OracleConnection conn, 
     String typeNS, 
     String typeName, 
     ArrayList&lt;String&gt; idPaths, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     XMLType schemaDoc, 
     XMLType briefXSLPattern, 
     XMLType summaryXSLPattern, 
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths, 
     String idExtractorType, ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias,
     String rtXSDRefId,
     boolean genSpatialIndex,
     boolean setDomainInfo,
     Hashtable&lt;String, ArrayList&lt;String&gt;&gt; domainInfo,
     boolean setRecordViewMap, 
     ArrayList&lt;ArrayList&lt;Object&gt;&gt; recordViewMap,
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     boolean isGML3) throws SQLException ;
 
public static void publishRecordType(OracleConnection conn, 
     String typeNS, 
     String typeName, 
     ArrayList&lt;String&gt; idPaths, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     XMLType schemaDoc, 
     XMLType briefXSLPattern, 
     XMLType summaryXSLPattern, 
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths, 
     String idExtractorType, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias,
     String rtXSDRefId,
     boolean genSpatialIndex,
     boolean setDomainInfo,
     Hashtable&lt;String, ArrayList&lt;String&gt;&gt; domainInfo,
     boolean setRecordViewMap, 
     ArrayList&lt;ArrayList&lt;Object&gt;&gt; recordViewMap,
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes,
     boolean genXMLIndex,
     boolean isGML3,
     CollectionPathInfo collPathInfo) throws SQLException;
 
public static void publishRecordType(OracleConnection conn, 
     String typeNS, 
     String typeName, 
     ArrayList&lt;String&gt; idPaths, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     XMLType schemaDoc, 
     XMLType briefXSLPattern, 
     XMLType summaryXSLPattern, 
     XMLType dcmiXSLPattern,
     ArrayList&lt;String&gt; srsPaths, 
     String idExtractorType,
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, String srsNSAlias,
     String rtXSDRefId,
     boolean genSpatialIndex,
     boolean setDomainInfo,
     Hashtable&lt;String, ArrayList&lt;String&gt;&gt; domainInfo,
     boolean setRecordViewMap, 
     ArrayList&lt;ArrayList&lt;Object&gt;&gt; recordViewMap,
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes,
     boolean genXMLIndex,
     boolean isGML3,
     CollectionPathInfo collPathInfo,
     boolean hasMultipleSRSNS) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>recordTypeMD</code> is the record type registration metadata. This metadata must conform to the <code>recordTypeMd</code> element definition as specified in the <code>wstype_md.xsd</code> file. Examples of record type path registration metadata XML are provided in <code>rt_metadata1.xml</code> and <code>rt_metadata2.xml</code>. These files are included in the <code>ws_client.jar</code> demo file (described in <a href="sdo_webserv_intro.htm#BABIBDBI">Section 10.4</a>) under the <code>src/data/</code> path. For information about using the examples to publish record types, see the <code>Readme.txt</code> file, which is included in <code>ws_client.jar</code> under the <code>src/</code> path.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
<p><code>idPaths</code> is a list of record ID path elements where each element is a String.</p>
<p><code>spatialPaths</code> is a list of spatial paths in the record type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>tsPaths</code> is a list of time-related paths in the record type (for example, <code>date</code>, <code>dateTime</code>, <code>gYear</code>, <code>gMonth</code>, <code>gDay</code>, <code>gMonthDay</code>, and <code>gYearMonth</code>). It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>schemaDoc</code> is the XML schema definition (XSD) of the record type.</p>
<p><code>briefXSLPattern</code> is the XSLT mapping for transforming the record structure from full to brief format.</p>
<p><code>summaryXSLPattern</code> is the XSLT mapping for transforming the record structure from summary to brief format.</p>
<p><code>dcmiXSLPattern</code> is the XSLT mapping for transforming the record structure from dcmi to brief format.</p>
<p><code>srsPaths</code> is a list of paths representing spatial reference system information.</p>
<p><code>idExtractorType</code> is Identifier extractor method information (<code>XPATH</code>, <code>USER_FUNC</code>, or <code>NONE</code>). <code>XPATH</code> means that the record identifier will be extracted using an XPath as specified in the <code>idPaths</code> parameter. <code>USER_FUNC</code> means that the record identifier will be extracted by a user-defined function invocation, as specified in the <code>idPaths</code> parameter, to which the entire record document instance will be passed. <code>NONE</code> means that the record identifier will be a system-generated identifier.</p>
<p><code>sdoMetaInfo</code> is the spatial metadata information for spatial paths. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.GeomMetaInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>srsNS</code> is the user-defined namespace of the spatial reference system (coordinate system) associated with the data in the spatial paths.</p>
<p><code>srsNSAlias</code> is the namespace alias of the spatial reference system (coordinate system) associated with the data in the spatial paths.</p>
<p><code>rtXSDRefId</code> is the group record type XML schema definition file name (as a string), for cases where multiple record types are defined in a single XSD file. This parameter is used to store the group XSD definition once in the CSW metadata, and then refer to it from multiple record types whose schema definitions are present in the group record type XSD file.</p>
<p><code>genSpatialIndex</code> is a Boolean value: <code>TRUE</code> causes a spatial index to be created on the record type at type creation time; <code>FALSE</code> does not cause a spatial index to be created.</p>
<p><code>setDomainInfo</code> is a Boolean value: <code>TRUE</code> causes domain information for this record type to be set at type creation time; <code>FALSE</code> does not cause domain information for this record type to be set.</p>
<p><code>domainInfo</code> is domain information.</p>
<p><code>setRecordViewMap</code> is a Boolean value: <code>TRUE</code> causes the record view transformation map to be set at type creation time; <code>FALSE</code> does not cause the record view transformation map to be set.</p>
<p><code>recordViewMap</code> is the record view transformation map information (brief to full, summary to full, and dcmi to full). It is of type <code>ArrayList&lt;ArrayList&lt;Object&gt;&gt;</code> where the content of each <code>ArrayList&lt;Object&gt;</code> is: <code>Object[0] = (String) recordTypeNS</code>, <code>Object[1] = (String) viewSrcName</code>, <code>Object[2] = (String) targetTypeName</code>, <code>Object[3]= (oracle.xdb.XMLType) mapInfo</code>, <code>Object[4] = (String) mapType</code></p>
<p><code>numPaths</code> is a list of numeric (NUMBER, INTEGER, and so on) related paths in the record type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XDB.XMLINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>CSWAdmin.BTREE</code>, <code>CSWAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the document-based record type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the document-based record type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="#CEGHEGIJ">Section 16.4.1</a>).</p>
<p><code>isGML3</code> is a Boolean value: <code>TRUE</code> means that the geometries inside instances of this record type are GML3.1.1 compliant; <code>FALSE</code> means that the geometries inside instances of this record type are GML 2.1.2 compliant.</p>
<p><code>collPathInfo</code> is spatial collection path information.</p>
<p><code>hasMultipleSRSNS</code> is a Boolean value: <code>TRUE</code> means that this record type refers to multiple user-defined spatial reference system namespaces; <code>FALSE</code> means that this record type does not refer to multiple user-defined spatial reference system namespaces.</p>
<a id="CEGIFGHB"></a>
<div id="SPATL993" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">16.4.12.1</span> Related Classes for publishRecordType</h4>
<p>This section describes some classes used in the definition of parameters of the <a href="#CEGIDDHG">publishRecordType method</a>.</p>
<p><code>oracle.spatial.ws.PathElement</code> is a Java class that contains a pair of String objects: the <code>PathElement</code> namespace am the <code>PathElement</code> name. This class includes the <code>getValue()</code> method, which returns a string format of the <code>PathElement</code> object. This class has the following format:</p>
<pre>
public class PathElement {
// Set namespace and name information for a PathElement.
        public void set(String ns, String name);
 //Get a string value for the PathElement object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.Path</code> is a Java class that contains an ordered list of <code>PathElement</code> objects that constitute the path. For example, if an XPath is <code>myns:A/myns:B</code>, then <code>myns:A</code> and <code>myns:B</code> are <code>PathElement</code> objects. This class includes the <code>getValue()</code> method, which returns a string format of the <code>Path</code> object. This class has the following format:</p>
<pre>
public class Path {
//Add a PathElement.
        public void add(PathElement p) ;
//Get a string Value for the Path object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.PathInfo</code> is a container class that contains information about a path or list of paths, including their association and metadata information. This class has the following format:</p>
<pre>
public class PathInfo {
 
 // Set number of occurrences for the Path. Default value is 1. Number of 
 // occurrences &gt; 1 in case of arrays.
        public void setNumOfOccurrences(int i) ;
 
 // Get number of occurrences for the Path.
        public int getNumOfOccurrences();
 
 // Add a path, in case PathInfo has multiple paths associated via a 
 // choice association
        public void addPath(Path p) ;
 
  // Add path type information. This is relevant for time-related Paths
  // (for example, date, dateTime, gDay, gMonth, gYear, gMonthDay, 
  // gYearMonth, duration, or time).
        public void addPathType(String t) ;
 
  // Add a PathInfo type. This can be PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION.
  // PathInfo.CHOICE - means that the list of paths  in this PathInfo are
  // related to each other via choice association. For example, we may have
  // a list of Spatial Paths, which are associated with one another via choice.
  // So, only one of these path can occur in a feature instance/document.
  // PathInfo.COLLECTION - means the list of paths in this PathInfo are part 
  // of a collection (currently spatial collections are 
  // supported) which will be indexed.
  // Default value is PathInfo.DEFAULT for one Path or a finite array Paths.
  //  @param t PathInfo type information. PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION
        public void addPathInfoType(int t) ;
 
 //  Returns a  string representation for PathInfo content.
        public String getPathContent() ;
 
 // Returns Path type information (for example, date, dateTime, gDay, gMonth, 
 // gYear, gMonthDay, gYearMonth, duration, or time).
        public String getPathType() ;
 
 // Returns a  string representation for PathInfo path content.
 // param i The index of the path in the PathInfo whose path content needs to
 // be returned
 // @return a  string representation for PathInfo path content
        public String getCollectionPathContent(int i);
 
 // Returns number of paths in the PathInfo. 
 // @return number of paths in the PathInfo which is of type PathInfo.COLLECTION
 // if PathInfo is not of type PathInfo.COLLECTION returns -1
        public int getCollectionPathContentSize();
}
</pre>
<p><code>oracle.spatial.ws.CollectionPathInfo</code> is a container class that contains information about a collection of PathInfo objects. Each PathInfo object in this collection, represents a group of spatial paths that will be indexed and searched on. This class will be used to register paths referring to spatial collection-based content in feature and record types. This class has the following format:</p>
<pre>
public class CollectionPathInfo {
 
  /**
   * Add a PathInfo.
   * @param p PathInfo to be added 
   * @param g geometry related metadata for PathInfo to be added 
   */
  public void addPathInfo(PathInfo p, GeomMetaInfo g) ;
 
  /**
   * Get a PathInfo.
   * @param i index of the PathInfo to be retrieved
   */
  public PathInfo getPathInfo(int i) ;
  /**
   * Get geometry related metadata for a certain PathInfo.
   * @param i index of the PathInfo whose geomMetaInfo is to be retrieved
  */
        public GeomMetaInfo getGeomMetaInfo(int i) ;
 
  /**
   * Get all PathInfo objects in this CollectionPathInfo.
   */
        public ArrayList&lt;PathInfo&gt; getPathInfos() ;
}
</pre>
<p><code>oracle.spatial.ws.GeomMetaInfo</code> is a class that contains dimension-related information corresponding to a spatial path in a record type. This information includes the dimension name, the lower and upper bounds, the tolerance, and the coordinate system (SRID). This class has the following format:</p>
<pre>
public class GeomMetaInfo {
 
  // Default constructor. Creates a GeomMetaInfo object with number of 
  // dimensions equal to 2.
        public GeomMetaInfo() ;
 
  // Creates a GeomMetaInfo object of a specified number of dimensions.
  // Parameter numOfDimensions is the number of dimensions represented
  // in the GeomMetaInfo object.
  // Note: max number of dimensions supported is 4.
        public GeomMetaInfo(int numOfDimensions)  throws  
        ArrayIndexOutOfBoundsException ;
 
  //Set Dimension Name.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension name value.
        public void setDimName(int index, String val) throws
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Lower Bound.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension lower bound value.
        public void setLB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Upper Bound
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension upper bound value
        public void setUB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension tolerance value.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter  val is dimension tolerance value.
        public void setTolerance(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Coordinate Reference System Identifier
        public void setSRID (int val) ;
 
  // Get dimension Name.
  // Parameter index represents the dimension index whose name needs to be 
  // returned. This method returns the dimension name for the given index.
        public String getDimName(int index) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Get dimension lower bound.
  // Parameter index represents the dimension index whose lower bound needs
  //  to be returned.
  // This method returns the lower bound for the given index.
        public double getLB(int index) throws ArrayIndexOutOfBoundsException ;
 
  // Get dimension upper bound.
  // Parameter index represents the dimension index whose upper bound needs 
  // to be returned.
  // This method returns the upper bound for the given index.
        public double getUB(int index) throws ArrayIndexOutOfBoundsException ;
 
  // Get dimension tolerance.
  // Parameter index represents the dimension index whose tolerance needs 
  // to be returned.
  // This method returns the tolerance value for the given index.
        public double getTolerance(int index) throws
        ArrayIndexOutOfBoundsException ;
 
  // Get coordinate system (spatial reference system) identifier.
        public int getSRID () ;
 
  // Get number of dimensions represented by this GeomMetaInfo object.
        public int getNumOfDimensions() ;
 
  // Sets the spatial index dimension parameter. By default it is 2.
  // return  Coordinate Reference System Identifier value
        public int setSpatialIndexDimension(int d) ;
 
  // Get the spatial index dimension parameter.
  // return  number of dimensions
        public int getSpatialIndexDimension() ;
 
  // Sets the user spatial srs namespace referred to by this GeomMetaInfo object. 
  // Needs to be specified if multiple srs namespace are referred to within 
  // the same feature or record type.
        public void setSRSNS(String s) ;
 
  // Gets the user defined spatial srs namespace referred to by 
  // this GeomMetaInfo object.
        public String getSRSNS() ;
 
  // Sets the user defined spatial srs namespace alias referred to 
  // by this GeomMetaInfo object.
        public void setSRSNSAlias (String s) ;
 
  // Gets the user defined spatial srs namespace  alias 
  // referred to by this  GeomMetaInfo object.
        public String getSRSNSAlias () ;
}
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="SPATL994" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref959"></a>
<h3 class="sect2"><span class="secnum">16.4.13</span> <a id="sthref960"></a><a id="sthref961"></a><a id="sthref962"></a>registerTypePluginMap method</h3>
<p>The <code>registerTypePluginMap</code> method registers a plugin for processing and extracting spatial content for a record type. This method has the following format:</p>
<pre>
public static boolean registerTypePluginMap(
    OracleConnection conn, 
    String typeNamespace, 
    String typeName,
    String packageName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
<p><code>packageName</code> is the name of the PL/SQL package object for the plugin (for example, <code>scott.my_plugin_pkg</code>).</p>
</div>
<!-- class="sect2" -->
<div id="SPATL995" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref963"></a>
<h3 class="sect2"><span class="secnum">16.4.14</span> <a id="sthref964"></a>revokeMDAccessFromUser method</h3>
<p>The <code>revokeMDAccessFromUser</code> method revokes access to the CSW metadata from a database user. This method has the following format:</p>
<pre>
public static void revokeMDAccessFromUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL996" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref965"></a>
<h3 class="sect2"><span class="secnum">16.4.15</span> <a id="sthref966"></a><a id="sthref967"></a>revokeRecordTypeFromUser method</h3>
<p>The <code>revokeRecordTypeFromUser</code> method revokes access to a record type from a database user. This method has the following format:</p>
<pre>
public static void revokeRecordTypeFromUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>typeName</code> is the name of the record type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL997" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref968"></a>
<h3 class="sect2"><span class="secnum">16.4.16</span> <a id="sthref969"></a><a id="sthref970"></a>setCapabilitiesInfo method</h3>
<p>The <code>setCapabilitiesInfo</code> method populates the capabilities related information. (For information about capabilities documents, see <a href="#CEGIBHGA">Section 16.2.1</a>.) This method has the following format:</p>
<pre>
public static void setCapabilitiesInfo(OracleConnection conn,
   XMLType capabilitiesTemplate) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>capabilitiesTemplate</code> is the Catalog services capabilities document.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL998" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref971"></a>
<h3 class="sect2"><span class="secnum">16.4.17</span> <a id="sthref972"></a><a id="sthref973"></a>setDomainInfo method</h3>
<p>The <code>setDomainInfo</code> method sets domain information related to the record type. This method has the following format:</p>
<pre>
public static void setDomainInfo(OracleConnection conn,
   int recordTypeId,
   String propertyName,
   String parameterName,
   ArrayList&lt;String&gt; values) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>recordTypeId</code> is the ID of the record type.</p>
<p><code>propertyName</code> is the name of a domain property.</p>
<p><code>parameterName</code> is the name of a domain parameter.</p>
<p><code>values</code> specifies values for the domain parameter.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL999" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref974"></a>
<h3 class="sect2"><span class="secnum">16.4.18</span> <a id="sthref975"></a><a id="sthref976"></a>setRecordViewMap method</h3>
<p>The <code>setRecordViewMap</code> method populates information related to record view transformation (for example, from <code>BriefRecord</code> to <code>Record</code>). This method has the following format:</p>
<pre>
public static void setRecordViewMap(OracleConnection conn,
   String recordTypeNS,
   String viewSrcName,
   String targetTypeName,
   oracle.xdb.XMLType mapInfo,
   String  mapType) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>recordTypeNS</code> is the URL of the namespace of the record type.</p>
<p><code>viewSrcName</code> is the name of the source of the record type.</p>
<p><code>targetTypeName</code> is the name of the destination of the record type.</p>
<p><code>mapInfo</code> is the XSLT definition of the mapping.</p>
<p><code>mapType</code> is the map type (brief, summary, and so on).</p>
</div>
<!-- class="sect2" -->
<a id="CEGFFICJ"></a>
<div id="SPATL1000" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">16.4.19</span> <a id="sthref977"></a><a id="sthref978"></a>setXMLTableIndexInfo method</h3>
<p>The <code>setXMLTableIndexInfo</code> method updates the XMLTableIndex index information for a record type, with the option of creating the index. This method has the following format:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the XMLTableIndex index already exists, you must drop it (using the <a href="#CEGBGHCF">dropRecordType method</a>) before you call the <code>setXMLTableIndexInfo</code> method.</div>
<pre>
public static void setXMLTableIndexInfo(OracleConnection conn,
   String typeNS,
   String ftName,
   ArrayList&lt;PathInfo&gt; idxPaths,
   ArrayList&lt;String[]&gt; idxPathTypes,
   boolean genXMLIndex) throws SQLException , CSWException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the record type.</p>
<p><code>ftName</code> is the name of the record type.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XMLTABLEINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CEGIFGHB">Section 16.4.12.1</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>CSWAdmin.BTREE</code>, <code>CSWAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the record type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the record type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="#CEGHEGIJ">Section 16.4.1</a>).</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_wfs.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_ws_security.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
