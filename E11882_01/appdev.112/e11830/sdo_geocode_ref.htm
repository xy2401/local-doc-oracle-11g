<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_GCDR Package (Geocoding)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:47Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_csw_process_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_objgeom.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">33/51</span> <!-- End Header -->
<div id="SPATL145" class="chapter"><a id="CACCHBGE"></a>
<h1 class="chapter"><span class="secnum">23</span> SDO_GCDR Package <a id="sthref1643"></a>(Geocoding)</h1>
<p><a id="sthref1644"></a>The <a id="sthref1645"></a><a id="sthref1646"></a>MDSYS.SDO_GCDR package contains subprograms for geocoding address data.</p>
<p>To use the subprograms in this chapter, you must understand the conceptual and usage information about geocoding in <a href="sdo_geocode_concepts.htm#CIHECECC">Chapter 11</a>.</p>
<p><a href="#CACJFEIC">Table 23-1</a> lists the geocoding subprograms.</p>
<div id="SPATL1098" class="tblformal">
<p class="titleintable"><a id="sthref1647"></a><a id="CACJFEIC"></a>Table 23-1 Subprograms for Geocoding Address Data</p>
<table class="cellalignment740" title="Subprograms for Geocoding Address Data" summary="Subprograms for Geocoding Address Data" dir="ltr">
<thead>
<tr class="cellalignment734">
<th class="cellalignment741" id="r1c1-t2">Subprogram</th>
<th class="cellalignment741" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment734">
<td class="cellalignment742" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#CACDBHHC">SDO_GCDR.CREATE_PROFILE_TABLES</a></p>
</td>
<td class="cellalignment742" headers="r2c1-t2 r1c2-t2">
<p>Creates the CG_COUNTRY_PROFILE, GC_PARSER_PROFILES, and GC_PARSER_PROFILEAFS tables in the caller's schema.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#CACIBFDJ">SDO_GCDR.GEOCODE</a></p>
</td>
<td class="cellalignment742" headers="r3c1-t2 r1c2-t2">
<p>Geocodes an unformatted address and returns an SDO_GEOR_ADDR object.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#CACIEABI">SDO_GCDR.GEOCODE_ADDR</a></p>
</td>
<td class="cellalignment742" headers="r4c1-t2 r1c2-t2">
<p>Geocodes an input address using attributes in an SDO_GEO_ADDR object, and returns the first matched address as an SDO_GEO_ADDR object.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#CACCGHED">SDO_GCDR.GEOCODE_ADDR_ALL</a></p>
</td>
<td class="cellalignment742" headers="r5c1-t2 r1c2-t2">
<p>Geocodes an input address using attributes in an SDO_GEO_ADDR object, and returns matching addresses as an SDO_ADDR_ARRAY object.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#CACDDBCB">SDO_GCDR.GEOCODE_ALL</a></p>
</td>
<td class="cellalignment742" headers="r6c1-t2 r1c2-t2">
<p>Geocodes all addresses associated with an unformatted address and returns the result as an SDO_ADDR_ARRAY object.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r7c1-t2" headers="r1c1-t2">
<p><a href="#CACJJJIG">SDO_GCDR.GEOCODE_AS_GEOMETRY</a></p>
</td>
<td class="cellalignment742" headers="r7c1-t2 r1c2-t2">
<p>Geocodes an unformatted address and returns an SDO_GEOMETRY object.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r8c1-t2" headers="r1c1-t2">
<p><a href="#CACFCJBC">SDO_GCDR.REVERSE_GEOCODE</a></p>
</td>
<td class="cellalignment742" headers="r8c1-t2 r1c2-t2">
<p>Reverse geocodes a location, specified by its spatial geometry object and country, and returns an SDO_GEO_ADDR object.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>The rest of this chapter provides reference information on the subprograms, listed in alphabetical order.</p>
<div class="refentry"><a id="CACDBHHC"></a>
<div id="SPATL1099" class="refsect1">
<h2 class="refsect1"><a id="sthref1648"></a><a id="sthref1649"></a>SDO_GCDR.CREATE_PROFILE_TABLES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1650"></a>Format</p>
<p class="synopsis">SDO_GCDR.CREATE_PROFILE_TABLES;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1651"></a>Description</p>
<p>Creates the CG_COUNTRY_PROFILE, GC_PARSER_PROFILES, and GC_PARSER_PROFILEAFS tables in the caller's schema.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1652"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1653"></a>Usage Notes</p>
<p>Use this procedure only if your geocoding data provider does not supply the GC_PARSER_PROFILES and GC_PARSER_PROFILEAFS tables. See <a href="sdo_geocode_concepts.htm#CIHIACJA">Section 11.6</a> for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1654"></a>Examples</p>
<p>The following example creates the GC_PARSER_PROFILES and GC_PARSER_PROFILEAFS tables in the caller's schema.</p>
<pre>
EXECUTE SDO_GCDR.CREATE_PROFILE_TABLES;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIBFDJ"></a>
<div id="SPATL1100" class="refsect1">
<h2 class="refsect1"><a id="sthref1655"></a><a id="sthref1656"></a>SDO_GCDR.GEOCODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1657"></a>Format</p>
<p class="synopsis">SDO_GCDR.GEOCODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_lines IN SDO_KEYWORDARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;country IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match_mode IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEO_ADDR;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1658"></a>Description</p>
<p>Geocodes an unformatted address and returns the result as an SDO_GEO_ADDR object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1659"></a>Parameters</p>
<dl>
<dt>username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>addr_lines</dt>
<dd>
<p>An array of quoted strings representing the unformatted address to be geocoded. The SDO_KEYWORDARRAY type is described in <a href="sdo_geocode_concepts.htm#CIHBDFBE">Section 11.2.3</a>.</p>
</dd>
<dt>country</dt>
<dd>
<p>Country name or ISO country code.</p>
</dd>
<dt>match_mode</dt>
<dd>
<p>Match mode for the geocoding operation. Match modes are explained in <a href="sdo_geocode_concepts.htm#CIHCBFFH">Section 11.1.2</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1660"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOR_ADDR, which is described in <a href="sdo_geocode_concepts.htm#CIHDEFFB">Section 11.2.1</a>. It performs the same operation as the <a href="#CACJJJIG">SDO_GCDR.GEOCODE_AS_GEOMETRY</a> function; however, that function returns an SDO_GEOMETRY object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1661"></a>Examples</p>
<p>The following example geocodes the address of City Hall in San Francisco, California, using the <code>RELAX_BASE_NAME</code> match mode. It returns the longitude and latitude coordinates of this address as -122.41815 and 37.7784183, respectively.</p>
<pre>
SELECT SDO_GCDR.GEOCODE('SCOTT', SDO_KEYWORDARRAY('1 Carlton B Goodlett Pl',
   'San Francisco, CA  94102'), 'US', 'RELAX_BASE_NAME') FROM DUAL;
 
SDO_GCDR.GEOCODE('SCOTT',SDO_KEYWORDARRAY('1CARLTONBGOODLETTPL','SANFRANCISCO
--------------------------------------------------------------------------------
SDO_GEO_ADDR(0, SDO_KEYWORDARRAY(), NULL, 'CARLTON B GOODLETT PL', NULL, NULL, '
SAN FRANCISCO', NULL, 'CA', 'US', '94102', NULL, '94102', NULL, '1', 'CARLTON B
GOODLETT', 'PL', 'F', 'F', NULL, NULL, 'L', .01, 23614360, '????#ENUT?B281CP?',
1, 'RELAX_BASE_NAME', -122.41815, 37.7784183, '????0101010??000?')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIEABI"></a>
<div id="SPATL1101" class="refsect1">
<h2 class="refsect1"><a id="sthref1662"></a><a id="sthref1663"></a>SDO_GCDR.GEOCODE_ADDR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1664"></a>Format</p>
<p class="synopsis">SDO_GCDR.GEOCODE_ADDR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address IN SDO_GEO_ADDR</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEO_ADDR;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1665"></a>Description</p>
<p>Geocodes an input address using attributes in an SDO_GEO_ADDR object, and returns the first matched address as an SDO_GEO_ADDR object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1666"></a>Parameters</p>
<dl>
<dt>gc_username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>address</dt>
<dd>
<p>An SDO_GEO_ADDR object with one or more attributes set. The SDO_GEO_ADDR type is described in <a href="sdo_geocode_concepts.htm#CIHDEFFB">Section 11.2.1</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1667"></a>Usage Notes</p>
<p>This function enables you to specify as many attributes in the input SDO_GEO_ADDR object as you can or want to set. It finds the first matching address, and returns an SDO_GEO_ADDR object with all possible attributes set.</p>
<p>Unlike the <a href="#CACIBFDJ">SDO_GCDR.GEOCODE</a> function, which geocodes input addresses specified by unformatted address lines, the SDO_GCDR.GEOCODE_ADDR function input addresses specified by individual addressing fields defined in SDO_GEO_ADDR objects. When you use unformatted address lines, you rely on the geocoding software to parse the input address and decompose it into individual address fields. This process usually works well, but it can produce undesirable results if the input addresses are not well formatted. By contrast, when you specify parts of the input address as SDO_GEO_ADDR object attributes, you can reduce the chance of geocoding errors and produce more desirable results.</p>
<p>For examples of the SDO_GCDR.GEOCODE_ADDR function, see <a href="sdo_geocode_concepts.htm#CIHGDHHA">Example 11-2</a> and <a href="sdo_geocode_concepts.htm#CIHHFJFG">Example 11-3</a> in <a href="sdo_geocode_concepts.htm#CIHFDEBG">Section 11.4</a>.</p>
<p>See also the <a href="#CACCGHED">SDO_GCDR.GEOCODE_ADDR_ALL</a> function, which performs the same operation as this function, but which can return more than one address.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1668"></a>Examples</p>
<p>The following example returns the geocoded result for a point of interest named <code>CALIFORNIA PACIFIC MEDICAL CTR</code>. The example uses a user-defined function named <code>create_addr_from_placename</code> (as defined in <a href="sdo_geocode_concepts.htm#CIHGDHHA">Example 11-2</a> in <a href="sdo_geocode_concepts.htm#CIHFDEBG">Section 11.4</a>) to construct the input SDO_GEO_ADDR object.</p>
<pre>
SELECT sdo_gcdr.geocode_addr('SCOTT', 
  create_addr_from_placename('CALIFORNIA PACIFIC MEDICAL CTR', 'US')) 
FROM DUAL;

SDO_GCDR.GEOCODE_ADDR('SCOTT',CREATE_ADDR_FROM_PLACENAME('CALIFORNIAPACIFICME
--------------------------------------------------------------------------------
SDO_GEO_ADDR(0, SDO_KEYWORDARRAY(), 'CALIFORNIA PACIFIC MEDICAL CTR-SF', 'BUCHAN
AN ST', NULL, NULL, 'SAN FRANCISCO', NULL, 'CA', 'US', '94115', NULL, '94115', N
ULL, '2333', NULL, NULL, 'F', 'F', NULL, NULL, 'L', 0, 23599031, '??????????B281
CP?', 4, 'DEFAULT', -122.43097, 37.79138, '????4141114??404?')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCGHED"></a>
<div id="SPATL1102" class="refsect1">
<h2 class="refsect1"><a id="sthref1669"></a><a id="sthref1670"></a>SDO_GCDR.GEOCODE_ADDR_ALL</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1671"></a>Format</p>
<p class="synopsis">SDO_GCDR.GEOCODE_ADDR_ALL(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address IN SDO_GEO_ADDR,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_res_num IN NUMBER DEFAULT 4000</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_ADDR_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1672"></a>Description</p>
<p>Geocodes an input address using attributes in an SDO_GEO_ADDR object, and returns matching addresses as an SDO_ADDR_ARRAY object (described in <a href="sdo_geocode_concepts.htm#CIHFAGBH">Section 11.2.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1673"></a>Parameters</p>
<dl>
<dt>gc_username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>address</dt>
<dd>
<p>An SDO_GEO_ADDR object with one or more attributes set. The SDO_GEO_ADDR type is described in <a href="sdo_geocode_concepts.htm#CIHDEFFB">Section 11.2.1</a>.</p>
</dd>
<dt>max_res_num</dt>
<dd>
<p>Maximum number of results to return in the SDO_ADDR_ARRAY object. The default value is 4000.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1674"></a>Usage Notes</p>
<p>This function enables you to specify as many attributes in the input SDO_GEO_ADDR object as you can or want to set. It finds matching addresses (up to 4000 or the limit specified in the <code>max_res_num</code> parameter), and returns an SDO_ADDR_ARRAY object in which each geocoded result has all possible attributes set.</p>
<p>This function performs the same operation as the <a href="#CACIEABI">SDO_GCDR.GEOCODE_ADDR</a> function, except that it can return more than one address. See the Usage Notes for the <a href="#CACIEABI">SDO_GCDR.GEOCODE_ADDR</a> function for more information.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1675"></a>Examples</p>
<p>The following example returns up to three geocoded results for a point of interest named <code>CALIFORNIA PACIFIC MEDICAL CTR</code>. (In this case only one result is returned, because the geocoding data contains only one address matching that point of interest.) The example uses a user-defined function named <code>create_addr_from_placename</code> (as defined in <a href="sdo_geocode_concepts.htm#CIHGDHHA">Example 11-2</a> in <a href="sdo_geocode_concepts.htm#CIHFDEBG">Section 11.4</a>) to construct the input SDO_GEO_ADDR object.</p>
<pre>
SELECT sdo_gcdr.geocode_addr_all('SCOTT', 
  create_addr_from_placename('CALIFORNIA PACIFIC MEDICAL CTR', 'US'), 3) 
FROM DUAL;

SDO_GCDR.GEOCODE_ADDR_ALL('SCOTT',CREATE_ADDR_FROM_PLACENAME('CALIFORNIAPACIF
--------------------------------------------------------------------------------
SDO_ADDR_ARRAY(SDO_GEO_ADDR(0, SDO_KEYWORDARRAY(), 'CALIFORNIA PACIFIC MEDICAL C
TR-SF', 'BUCHANAN ST', NULL, NULL, 'SAN FRANCISCO', NULL, 'CA', 'US', '94115', N
ULL, '94115', NULL, '2333', NULL, NULL, 'F', 'F', NULL, NULL, 'L', 0, 23599031,
'??????????B281CP?', 4, 'DEFAULT', -122.43097, 37.79138, '????4141114??404?'))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACDDBCB"></a>
<div id="SPATL1103" class="refsect1">
<h2 class="refsect1"><a id="sthref1676"></a><a id="sthref1677"></a>SDO_GCDR.GEOCODE_ALL</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1678"></a>Format</p>
<p class="synopsis">SDO_GCDR.GEOCODE_ALL(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gc_username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_lines IN SDO_KEYWORDARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;country IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match_mode IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_ADDR_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1679"></a>Description</p>
<p>Geocodes all addresses associated with an unformatted address and returns the result as an SDO_ADDR_ARRAY object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1680"></a>Parameters</p>
<dl>
<dt>gc_username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>addr_lines</dt>
<dd>
<p>An array of quoted strings representing the unformatted address to be geocoded. The SDO_KEYWORDARRAY type is described in <a href="sdo_geocode_concepts.htm#CIHBDFBE">Section 11.2.3</a>.</p>
</dd>
<dt>country</dt>
<dd>
<p>Country name or ISO country code.</p>
</dd>
<dt>match_mode</dt>
<dd>
<p>Match mode for the geocoding operation. Match modes are explained in <a href="sdo_geocode_concepts.htm#CIHCBFFH">Section 11.1.2</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1681"></a>Usage Notes</p>
<p>This function returns an object of type SDO_ADDR_ARRAY, which is described in <a href="sdo_geocode_concepts.htm#CIHFAGBH">Section 11.2.2</a>. It performs the same operation as the <a href="#CACIBFDJ">SDO_GCDR.GEOCODE</a> function; however, it can return results for multiple addresses, in which case the returned SDO_ADDR_ARRAY object contains multiple SDO_GEO_ADDR objects. If your application needs to select one of the addresses for some further operations, you can use the information about each returned address to help you make that selection.</p>
<p>Each SDO_GEO_ADDR object in the returned SDO_ADDR_ARRAY array represents the center point of each street segment that matches the criteria in the <code>addr_lines</code> parameter. For example, if Main Street extends into two postal codes, or if there are two separate streets named Main Street in two separate postal codes, and if you specify Main Street and a city and state for this function, the returned SDO_ADDR_ARRAY array contains two SDO_GEO_ADDR objects, each reflecting the center point of Main Street in a particular postal code. The house or building number in each SDO_GEO_ADDR object is the house or building number located at the center point of the street segment, even if the input address contains no house or building number or a nonexistent number.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1682"></a>Examples</p>
<p>The following example returns an array of geocoded results, each result reflecting the center point of Clay Street in all postal codes in San Francisco, California, in which the street extends. The resulting array includes four SDO_GEOR_ADDR objects, each reflecting the house at the center point of the Clay Street segment in each of the four postal codes (94108, 94115, 94118, and 94109) into which Clay Street extends.</p>
<pre>
SELECT SDO_GCDR.GEOCODE_ALL('SCOTT',
  SDO_KEYWORDARRAY('Clay St', 'San Francisco, CA'),
  'US', 'DEFAULT') FROM DUAL;
 
SDO_GCDR.GEOCODE_ALL('SCOTT',SDO_KEYWORDARRAY('CLAYST','SANFRANCISCO,CA'),'US
--------------------------------------------------------------------------------
SDO_ADDR_ARRAY(SDO_GEO_ADDR(1, SDO_KEYWORDARRAY(), NULL, 'CLAY ST', NULL, NULL,
'SAN FRANCISCO', NULL, 'CA', 'US', '94109', NULL, '94109', NULL, '1698', 'CLAY',
 'ST', 'F', 'F', NULL, NULL, 'L', 0, 23600700, '????#ENUT?B281CP?', 1, 'DEFAULT'
, -122.42093, 37.79236, '????4101010??004?'), SDO_GEO_ADDR(1, SDO_KEYWORDARRAY()
, NULL, 'CLAY ST', NULL, NULL, 'SAN FRANCISCO', NULL, 'CA', 'US', '94111', NULL,
 '94111', NULL, '398', 'CLAY', 'ST', 'F', 'F', NULL, NULL, 'L', 0, 23600678, '??
??#ENUT?B281CP?', 1, 'DEFAULT', -122.40027, 37.79499, '????4101010??004?'), SDO_
GEO_ADDR(1, SDO_KEYWORDARRAY(), NULL, 'CLAY ST', NULL, NULL, 'SAN FRANCISCO', NU
LL, 'CA', 'US', '94108', NULL, '94108', NULL, '978', 'CLAY', 'ST', 'F', 'F', NUL
L, NULL, 'L', 0, 23600689, '????#ENUT?B281CP?', 1, 'DEFAULT', -122.40904, 37.793
85, '????4101010??004?'), SDO_GEO_ADDR(1, SDO_KEYWORDARRAY(), NULL, 'CLAY ST', N
ULL, NULL, 'SAN FRANCISCO', NULL, 'CA', 'US', '94115', NULL, '94115', NULL, '279
8', 'CLAY', 'ST', 'F', 'F', NULL, NULL, 'L', 0, 23600709, '????#ENUT?B281CP?', 1
, 'DEFAULT', -122.43909, 37.79007, '????4101010??004?'), SDO_GEO_ADDR(1, SDO_KEY
WORDARRAY(), NULL, 'CLAY ST', NULL, NULL, 'SAN FRANCISCO', NULL, 'CA', 'US', '94
118', NULL, '94118', NULL, '3698', 'CLAY', 'ST', 'F', 'F', NULL, NULL, 'L', 0, 2
3600718, '????#ENUT?B281CP?', 1, 'DEFAULT', -122.45372, 37.78822, '????4101010??
004?'))
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJJJIG"></a>
<div id="SPATL1104" class="refsect1">
<h2 class="refsect1"><a id="sthref1683"></a><a id="sthref1684"></a>SDO_GCDR.GEOCODE_AS_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1685"></a>Format</p>
<p class="synopsis">SDO_GCDR.GEOCODE_AS_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_lines IN SDO_KEYWORDARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;country IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1686"></a>Description</p>
<p>Geocodes an unformatted address and returns the result as an SDO_GEOMETRY object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1687"></a>Parameters</p>
<dl>
<dt>username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>addr_lines</dt>
<dd>
<p>An array of quoted strings representing the unformatted address to be geocoded. The SDO_KEYWORDARRAY type is described in <a href="sdo_geocode_concepts.htm#CIHBDFBE">Section 11.2.3</a>.</p>
</dd>
<dt>country</dt>
<dd>
<p>Country name or ISO country code.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1688"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOMETRY. It performs the same operation as the <a href="#CACIBFDJ">SDO_GCDR.GEOCODE</a> function; however, that function returns an SDO_GEOR_ADDR object.</p>
<p>This function uses a match mode of <code>'DEFAULT'</code> for the geocoding operation. Match modes are explained in <a href="sdo_geocode_concepts.htm#CIHCBFFH">Section 11.1.2</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1689"></a>Examples</p>
<p>The following example geocodes the address of City Hall in San Francisco, California. It returns an SDO_GEOMETRY object in which the longitude and latitude coordinates of this address are -122.41815 and 37.7784183, respectively.</p>
<pre>
SELECT SDO_GCDR.GEOCODE_AS_GEOMETRY('SCOTT',
  SDO_KEYWORDARRAY('1 Carlton B Goodlett Pl', 'San Francisco, CA  94102'),
  'US') FROM DUAL;
 
SDO_GCDR.GEOCODE_AS_GEOMETRY('SCOTT',SDO_KEYWORDARRAY('1CARLTONBGOODLETTPL','
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, 8307, SDO_POINT_TYPE(-122.41815, 37.7784183, NULL), NULL, NUL
L)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFCJBC"></a>
<div id="SPATL1105" class="refsect1">
<h2 class="refsect1"><a id="sthref1690"></a><a id="sthref1691"></a><a id="sthref1692"></a><a id="sthref1693"></a>SDO_GCDR.REVERSE_GEOCODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1694"></a>Format</p>
<p class="synopsis">SDO_GCDR.REVERSE_GEOCODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;country IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEO_ADDR;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1695"></a>Description</p>
<p>Reverse geocodes a location, specified by its spatial geometry object and country, and returns the result as an SDO_GEO_ADDR object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1696"></a>Parameters</p>
<dl>
<dt>username</dt>
<dd>
<p>Name of the user that owns the tables containing the geocoding data.</p>
</dd>
<dt>location</dt>
<dd>
<p>An SDO_GEOMETRY object that specifies the point location to be reverse geocoded.</p>
</dd>
<dt>country</dt>
<dd>
<p>Country name or ISO country code.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1697"></a>Usage Notes</p>
<p>This function returns an object of type SDO_GEOR_ADDR, which is described in <a href="sdo_geocode_concepts.htm#CIHDEFFB">Section 11.2.1</a>.</p>
<p>A spatial index must be created on the table GC_ROAD_SEGMENT_<span class="italic">&lt;table-suffix&gt;</span>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1698"></a>Examples</p>
<p>The following example reverse geocodes a point with the longitude and latitude values (-122.41815, 37.7784183). For this example, a spatial index was created on the GEOMETRY column in the GC_ROAD_SEGMENT_US table.</p>
<pre>
SELECT SDO_GCDR.REVERSE_GEOCODE('SCOTT',
  SDO_GEOMETRY(2001, 8307,
    SDO_POINT_TYPE(-122.41815, 37.7784183, NULL), NULL, NULL),
  'US') FROM DUAL;

SDO_GCDR.REVERSE_GEOCODE('SCOTT',SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(-122.4
--------------------------------------------------------------------------------
SDO_GEO_ADDR(0, SDO_KEYWORDARRAY(), NULL, 'POLK ST', NULL, NULL, 'SAN FRANCISCO'
, NULL, 'CA', 'US', '94102', NULL, '94102', NULL, '200', 'POLK', 'ST', 'F', 'F',
 NULL, NULL, 'R', .00966633, 23614360, '', 1, 'DEFAULT', -122.41815, 37.7784177,
 '????4141414??404?')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_csw_process_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_objgeom.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
