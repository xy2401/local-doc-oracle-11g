<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_TUNE Package (Tuning)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:50Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_tin_pkg_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_util.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">41/51</span> <!-- End Header -->
<div id="SPATL170" class="chapter"><a id="g1000942"></a>
<h1 class="chapter"><span class="secnum">31</span> SDO_TUNE Package <a id="sthref2509"></a><a id="sthref2510"></a>(Tuning)</h1>
<p>This chapter contains descriptions of the tuning subprograms shown in <a href="#CACDHAJI">Table 31-1</a>.</p>
<div id="SPATL1213" class="tblformal">
<p class="titleintable"><a id="sthref2511"></a><a id="CACDHAJI"></a>Table 31-1 Tuning Subprograms</p>
<table class="cellalignment740" title="Tuning Subprograms" summary="Tuning Subprograms" dir="ltr">
<thead>
<tr class="cellalignment734">
<th class="cellalignment741" id="r1c1-t2">Subprogram</th>
<th class="cellalignment741" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment734">
<td class="cellalignment742" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#CACJDDBI">SDO_TUNE.AVERAGE_MBR</a></p>
</td>
<td class="cellalignment742" headers="r2c1-t2 r1c2-t2">
<p>Calculates the average minimum bounding rectangle for geometries in a layer.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#CBDEBGEA">SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE</a></p>
</td>
<td class="cellalignment742" headers="r3c1-t2 r1c2-t2">
<p>Estimates the maximum number of megabytes needed for an R-tree spatial index table.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#CACHEGED">SDO_TUNE.EXTENT_OF</a></p>
</td>
<td class="cellalignment742" headers="r4c1-t2 r1c2-t2">
<p>Returns the minimum bounding rectangle of the data in a layer.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#CACDJHBE">SDO_TUNE.MIX_INFO</a></p>
</td>
<td class="cellalignment742" headers="r5c1-t2 r1c2-t2">
<p>Calculates geometry type information for a spatial layer, such as the percentage of each geometry type.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#CACHEDCG">SDO_TUNE.QUALITY_DEGRADATION</a></p>
</td>
<td class="cellalignment742" headers="r6c1-t2 r1c2-t2">
<p>Returns the quality degradation for an index or the average quality degradation for all index tables for an index, or returns the quality degradation for a specified index table. (Deprecated)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="refentry"><a id="CACJDDBI"></a>
<div id="SPATL1214" class="refsect1">
<h2 class="refsect1">SDO_TUNE.<a id="sthref2512"></a><a id="sthref2513"></a><a id="sthref2514"></a><a id="sthref2515"></a>AVERAGE_MBR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2516"></a>Format</p>
<p class="synopsis">SDO_TUNE.AVERAGE_MBR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width OUT NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height OUT NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2517"></a>Description</p>
<p>Calculates the average minimum bounding rectangle (MBR) for geometries in a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2518"></a>Parameters</p>
<dl>
<dt>table_name</dt>
<dd>
<p>Spatial geometry table.</p>
</dd>
<dt>column_name</dt>
<dd>
<p>Geometry column for which the average minimum bounding rectangle is to be computed.</p>
</dd>
<dt>width</dt>
<dd>
<p>Width of the average minimum bounding rectangle.</p>
</dd>
<dt>height</dt>
<dd>
<p>Height of the average minimum bounding rectangle.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2519"></a>Usage Notes</p>
<p>This procedure computes and stores the width and height of the average minimum bounding rectangle for all geometries in a spatial geometry table. It calculates the average MBR by keeping track of the maximum and minimum X and Y values for all geometries in a spatial geometry table.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2520"></a>Examples</p>
<p>The following example calculates the minimum bounding rectangle for the SHAPE column of the COLA_MARKETS table.</p>
<pre>
DECLARE
  table_name  VARCHAR2(32) := 'COLA_MARKETS';
  column_name  VARCHAR2(32) := 'SHAPE';
  width  NUMBER;
  height  NUMBER;
BEGIN
SDO_TUNE.AVERAGE_MBR(
  table_name,
  column_name,
  width,
  height);
DBMS_OUTPUT.PUT_LINE('Width = ' || width);
DBMS_OUTPUT.PUT_LINE('Height = ' || height);
END;
/
Width = 3.5                                                                     
Height = 4.5
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2521"></a>Related Topics</p>
<p><a href="sdo_aggr.htm#i867160">SDO_AGGR_MBR</a> spatial aggregate function (in <a href="sdo_aggr.htm#g998149">Chapter 20</a>)</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CBDEBGEA"></a>
<div id="SPATL1215" class="refsect1">
<h2 class="refsect1">SDO_TUNE.<a id="sthref2522"></a><a id="sthref2523"></a><a id="sthref2524"></a>ESTIMATE_RTREE_INDEX_SIZE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2525"></a>Format</p>
<p class="synopsis">SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schemaname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;partname IN VARCHAR2 DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number_of_geoms IN INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db_block_size IN INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sdo_rtr_pctfree IN INTEGER DEFAULT 10,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_dimensions IN INTEGER DEFAULT 2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_geodetic IN INTEGER DEFAULT 0</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2526"></a>Description</p>
<p>Estimates the maximum number of megabytes needed for an R-tree spatial index table.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2527"></a>Parameters</p>
<dl>
<dt>schemaname</dt>
<dd>
<p>Schema that owns the spatial geometry table.</p>
</dd>
<dt>tabname</dt>
<dd>
<p>Spatial geometry table name.</p>
</dd>
<dt>colname</dt>
<dd>
<p>Geometry column name.</p>
</dd>
<dt>partname</dt>
<dd>
<p>Name of a partition containing geometries from <code>colname</code>. If you specify this parameter, the value returned by the function is the estimated size for an R-tree index table on geometries in that partition. If you do not specify this parameter, the value is the estimated size for an R-tree index table on all geometries in <code>colname</code>.</p>
</dd>
<dt>number_of_geoms</dt>
<dd>
<p>Approximate number of geometries in the spatial geometry table.</p>
</dd>
<dt>db_block_size</dt>
<dd>
<p>Database block size (in bytes).</p>
</dd>
<dt>sdo_rtr_pctfree</dt>
<dd>
<p>Minimum percentage of slots in each index tree node to be left empty when the index is created. Slots that are left empty can be filled later when new data is inserted into the table. The value can range from 0 to 50. The default value (10) is best for most applications; however, a value of 0 is recommended if no updates will be performed to the geometry column.</p>
</dd>
<dt>num_dimensions</dt>
<dd>
<p>Number of dimensions to be indexed. The default value is 2. If you plan to specify the <code>sdo_indx_dims</code> parameter in the <a href="sdo_objindex.htm#i78196">CREATE INDEX</a> statement, the <code>num_dimensions</code> value should match the <code>sdo_indx_dims</code> value.</p>
</dd>
<dt>is_geodetic</dt>
<dd>
<p>A value indicating whether or not the spatial index will be a geodetic index: 1 for a geodetic index, or 0 (the default) for a non-geodetic index.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2528"></a>Usage Notes</p>
<p>The function returns the estimated maximum number of megabytes needed for the spatial index table (described in <a href="sdo_objrelschema.htm#i1009977">Section 2.9.2</a>) for an R-tree spatial index to be created. The value returned is the maximum number of megabytes needed after index creation. During index creation, approximately three times this value of megabytes will be needed in the tablespace, to ensure that there is enough space for temporary tables while the index is being created.</p>
<p>This function has two formats:</p>
<ul>
<li>
<p>Use the format with character string parameters (<code>schemaname</code>, <code>tabname</code>, <code>colname</code>, and optionally <code>partname</code>) in most cases when the spatial geometry table already exists, you do not plan to add substantially more geometries to it before creating the index, and you plan to use the default R-tree indexing parameters.</p>
</li>
<li>
<p>Use the format with integer parameters (<code>number_of_geoms</code>, <code>db_block_size</code>, <code>sdo_rtr_pctfree</code>, <code>num_dimensions</code>, <code>is_geodetic</code>) in any of the following cases: the spatial geometry table does not exist; the spatial geometry table exists but you plan to add substantially more geometries to it before creating the index; or the <code>num_dimensions</code> value is not 2 for non-geodetic data or 3 for geodetic data, and a nondefault value will be specified using the <code>sdo_indx_dims</code> parameter in the <a href="sdo_objindex.htm#i78196">CREATE INDEX</a> statement.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2529"></a>Examples</p>
<p>The following example estimates the maximum number of megabytes needed for a spatial index table for an index given the following information: <code>number_of_geoms</code> <code>= 1000000</code> (one million), <code>db_block_size</code> <code>= 2048</code>, <code>sdo_rtr_pctfree</code> <code>= 10</code>, <code>num_dimensions</code> <code>= 2</code>, <code>is_geodetic = 0</code>.</p>
<pre>
SELECT SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(1000000, 2048, 10, 2, 0) FROM DUAL;

SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(1000000,2048,10,2,0)
-----------------------------------------------------
                                                   82
</pre>
<p>The following example estimates the maximum number of megabytes needed for a spatial index table for an index on the SHAPE column in the COLA_MARKETS table in the SCOTT schema. The estimate is based on the geometries that are currently in the table.</p>
<pre>
SELECT SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE('SCOTT', 'COLA_MARKETS', 'SHAPE') FROM DUAL;

SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE('SCOTT','COLA_MARKETS','SHAPE')
---------------------------------------------------------------------
                                                                    1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHEGED"></a>
<div id="SPATL1216" class="refsect1">
<h2 class="refsect1">SDO_TUNE.<a id="sthref2530"></a><a id="sthref2531"></a>EXTENT_OF</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2532"></a>Format</p>
<p class="synopsis">SDO_TUNE.EXTENT_OF(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_name IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2533"></a>Description</p>
<p><a id="sthref2534"></a><a id="sthref2535"></a><a id="sthref2536"></a>Returns the minimum bounding rectangle (MBR) of all geometries in a layer.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2537"></a>Parameters</p>
<dl>
<dt>table_name</dt>
<dd>
<p>Spatial geometry table.</p>
</dd>
<dt>column_name</dt>
<dd>
<p>Geometry column for which the minimum bounding rectangle is to be returned.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2538"></a>Usage Notes</p>
<p>The <a href="sdo_aggr.htm#g997489">SDO_AGGR_MBR</a> function, documented in <a href="sdo_aggr.htm#g998149">Chapter 20</a>, also returns the MBR of geometries. The SDO_TUNE.EXTENT_OF function has better performance than the <a href="sdo_aggr.htm#g997489">SDO_AGGR_MBR</a> function if a spatial index is defined on the geometry column; however, the SDO_TUNE.EXTENT_OF function is limited to two-dimensional geometries, whereas the <a href="sdo_aggr.htm#g997489">SDO_AGGR_MBR</a> function is not. In addition, the SDO_TUNE.EXTENT_OF function computes the extent for all geometries in a table; by contrast, the <a href="sdo_aggr.htm#g997489">SDO_AGGR_MBR</a> function can operate on subsets of rows.</p>
<p>If a spatial index is used, this function may return an approximate MBR that encloses the largest extent of data stored in the index, even if data was subsequently deleted.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2539"></a>Examples</p>
<p>The following example calculates the minimum bounding rectangle for the objects in the SHAPE column of the COLA_MARKETS table.</p>
<pre>
SELECT SDO_TUNE.EXTENT_OF('COLA_MARKETS', 'SHAPE') 
  FROM DUAL;

SDO_TUNE.EXTENT_OF('COLA_MARKETS','SHAPE')(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, 
--------------------------------------------------------------------------------
SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARRAY(1, 1, 10, 11))
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2540"></a>Related Topics</p>
<p><a href="sdo_aggr.htm#g997489">SDO_AGGR_MBR</a> aggregate function (in <a href="sdo_aggr.htm#g998149">Chapter 20</a>)</p>
<p><a href="#CACJDDBI">SDO_TUNE.AVERAGE_MBR</a> procedure</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACDJHBE"></a>
<div id="SPATL1217" class="refsect1">
<h2 class="refsect1">SDO_TUNE.<a id="sthref2541"></a><a id="sthref2542"></a>MIX_INFO</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2543"></a>Format</p>
<p class="synopsis">SDO_TUNE.MIX_INFO(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_name IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[, total_geom OUT INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point_geom OUT INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curve_geom OUT INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;poly_geom OUT INTEGER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;complex_geom OUT INTEGER] );</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2544"></a>Description</p>
<p>Calculates geometry type information for a spatial layer, such as the percentage of each geometry type.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2545"></a>Parameters</p>
<dl>
<dt>table_name</dt>
<dd>
<p>Spatial geometry table.</p>
</dd>
<dt>column_name</dt>
<dd>
<p>Geometry object column for which the geometry type information is to be calculated.</p>
</dd>
<dt>total_geom</dt>
<dd>
<p>Total number of geometry objects.</p>
</dd>
<dt>point_geom</dt>
<dd>
<p>Number of point geometry objects.</p>
</dd>
<dt>curve_geom</dt>
<dd>
<p>Number of curve string geometry objects.</p>
</dd>
<dt>poly_geom</dt>
<dd>
<p>Number of polygon geometry objects.</p>
</dd>
<dt>complex_geom</dt>
<dd>
<p>Number of complex geometry objects.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2546"></a>Usage Notes</p>
<p>This procedure calculates geometry type information for the table. It calculates the total number of geometries, as well as the number of point, curve string, polygon, and complex geometries.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2547"></a>Examples</p>
<p>The following example displays information about the mix of geometry objects in the SHAPE column of the COLA_MARKETS table.</p>
<pre>
CALL SDO_TUNE.MIX_INFO('COLA_MARKETS',  'SHAPE');
Total number of geometries: 4                                                   
Point geometries:        0  (0%)                                                
Curvestring geometries:   0  (0%)                                               
Polygon geometries:      4  (100%)                                              
Complex geometries:      0  (0%)  
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHEDCG"></a>
<div id="SPATL1218" class="refsect1">
<h2 class="refsect1">SDO_TUNE.<a id="sthref2548"></a><a id="sthref2549"></a>QUALITY_DEGRADATION</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2550"></a>Format</p>
<p class="synopsis">SDO_TUNE.QUALITY_DEGRADATION(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schemaname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexname IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TUNE.QUALITY_DEGRADATION(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schemaname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexname IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indextable IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2551"></a>Description</p>
<p>Returns the quality degradation for an index or the average quality degradation for all index tables for an index, or returns the quality degradation for a specified index table.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This function is deprecated, and it will not be documented in future releases. You should not use this function. It is not needed because Spatial indexes are self-tuning.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2552"></a>Parameters</p>
<dl>
<dt>schemaname</dt>
<dd>
<p>Name of the schema that contains the index specified in <code>indexname</code>.</p>
</dd>
<dt>indexname</dt>
<dd>
<p>Name of the spatial R-tree index.</p>
</dd>
<dt>indextable</dt>
<dd>
<p>Name of an index table associated with the spatial R-tree index specified in <code>indexname</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2553"></a>Usage Notes</p>
<p>This function is deprecated and will not be included in future releases of this manual. You should not use this function because Spatial indexes are self-tuning. The rest of the usage notes for this function are from the previous release of this manual.</p>
<p>The <span class="bold">quality degradation</span> is a number indicating approximately how much longer it will take to execute the I/O operations of the index portion of any given query with the current index, compared to executing the I/O operations of the index portion of the same query when the index was created or most recently rebuilt. For example, if the I/O operations of the index portion of a typical query will probably take twice as much time as when the index was created or rebuilt, the quality degradation is 2. The exact degradation in overall query time is impossible to predict; however, a substantial quality degradation (2 or 3 or higher) can affect query performance significantly for large databases, such as those with millions of rows.</p>
<p>For local partitioned indexes, you must use the format that includes the <code>indextable</code> parameter. That is, you must compute the quality degradation for each partition in which you are interested.</p>
<p>Index names are available through the xxx_SDO_INDEX_INFO and xxx_SDO_INDEX_METADATA views, which are described in <a href="sdo_objrelschema.htm#i1003951">Section 2.9.1</a>.</p>
<p>For more information and guidelines relating to R-tree quality and its possible effect on query performance, see <a href="sdo_intro.htm#BAJIAJJC">Section 1.7.2</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2554"></a>Examples</p>
<p>The following example returns the quality degradation for the COLA_SPATIAL_IDX index. In this example, the quality has not degraded at all, and therefore the degradation is 1; that is, the I/O operations of the index portion of queries will typically take the same time using the current index as using the original or previous index.</p>
<pre>
SELECT SDO_TUNE.QUALITY_DEGRADATION('SCOTT', 'COLA_SPATIAL_IDX') FROM DUAL;

SDO_TUNE.QUALITY_DEGRADATION('SCOTT','COLA_SPATIAL_IDX')
--------------------------------------------------------
                                                       1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_tin_pkg_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_util.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
