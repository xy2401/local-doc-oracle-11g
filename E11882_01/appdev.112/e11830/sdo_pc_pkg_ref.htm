<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_PC_PKG Package (Point Clouds)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:50Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_ols_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_sam_ref.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">38/51</span> <!-- End Header -->
<div id="SPATL172" class="chapter"><a id="CHDCEBBG"></a>
<h1 class="chapter"><span class="secnum">28</span> SDO_PC_PKG Package <a id="sthref2327"></a><a id="sthref2328"></a>(Point Clouds)</h1>
<p>This chapter contains descriptions of the point cloud subprograms shown in <a href="#CJAFEJJG">Table 28-1</a>.</p>
<div id="SPATL1189" class="tblformal">
<p class="titleintable"><a id="sthref2329"></a><a id="CJAFEJJG"></a>Table 28-1 Point Cloud Subprograms</p>
<table class="cellalignment740" title="Point Cloud Subprograms" summary="Point Cloud Subprograms" dir="ltr">
<thead>
<tr class="cellalignment734">
<th class="cellalignment741" id="r1c1-t2">Subprogram</th>
<th class="cellalignment741" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment734">
<td class="cellalignment742" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#CHDGAJDI">SDO_PC_PKG.CLIP_PC</a></p>
</td>
<td class="cellalignment742" headers="r2c1-t2 r1c2-t2">
<p>Performs a clip operation on a point cloud.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#CHDBJJIH">SDO_PC_PKG.CREATE_PC</a></p>
</td>
<td class="cellalignment742" headers="r3c1-t2 r1c2-t2">
<p>Creates a point cloud using the points specified in the <code>inptable</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#CACFIEBA">SDO_PC_PKG.DROP_DEPENDENCIES</a></p>
</td>
<td class="cellalignment742" headers="r4c1-t2 r1c2-t2">
<p>Drops the dependencies between a point cloud block table and a specified base table and column.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#CHDGHFHC">SDO_PC_PKG.INIT</a></p>
</td>
<td class="cellalignment742" headers="r5c1-t2 r1c2-t2">
<p>Initializes a point cloud.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#CHDFJJCA">SDO_PC_PKG.TO_GEOMETRY</a></p>
</td>
<td class="cellalignment742" headers="r6c1-t2 r1c2-t2">
<p>Returns a geometry object representing all or part of a point cloud.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>To use the subprograms in this package, you must understand the main concepts related to three-dimensional geometries, including the use of point clouds to model solids. <a href="sdo_intro.htm#BABIDJJB">Section 1.11</a> describes support for three-dimensional geometries, <a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes the use of point clouds to model solids, and <a href="sdo_objrelschema.htm#CBBIHIIE">Section 2.6</a> describes data types related to point clouds.</p>
<div class="refentry"><a id="CHDGAJDI"></a>
<div id="SPATL1190" class="refsect1">
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2330"></a><a id="sthref2331"></a><a id="sthref2332"></a>CLIP_PC</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2333"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.CLIP_PC(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inp IN SDO_PC,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ind_dimqry IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other_dimqry IN SDO_MBR,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qry_min_res IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qry_max_res IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blkno IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_PC_BLK_TYPE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2334"></a>Description</p>
<p>Performs a clip operation on a point cloud.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2335"></a>Parameters</p>
<dl>
<dt>inp</dt>
<dd>
<p>Point cloud on which to perform the clip operation.</p>
</dd>
<dt>ind_dimqry</dt>
<dd>
<p>For querying the indexed dimensions of the point cloud: window from which to select objects to be returned; typically a polygon for two-dimensional geometries or a frustum for three-dimensional geometries.</p>
</dd>
<dt>other_dimqry</dt>
<dd>
<p>For querying the nonindexed dimensions of the point cloud: window from which to select objects to be returned; typically a polygon for two-dimensional geometries or a frustum for three-dimensional geometries. The nonindexed dimensions are those that are included in the total dimensionality but are not indexed. For an explanation of index dimensionality and total dimensionality, see the explanation of the <code>pc_tot_dimensions</code> parameter of the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function.</p>
<p>The SDO_MBR type is defined as <code>(LOWER_LEFT SDO_VPOINT_TYPE, UPPER_RIGHT SDO_VPOINT_TYPE)</code> and SDO_V_POINT_TYPE is defined as V<code>ARRAY(64) OF NUMBER</code>.</p>
</dd>
<dt>qry_min_res</dt>
<dd>
<p>Minimum resolution value. Objects in <code>qry</code> with resolutions equal to or greater than <code>qry_min_res</code> and less than or equal to <code>qry_max_res</code> are returned by the clip operation.</p>
</dd>
<dt>qry_max_res</dt>
<dd>
<p>Maximum resolution value. Objects in <code>qry</code> with resolutions equal to or greater than <code>qry_min_res</code> and less than or equal to <code>qry_max_res</code> are returned by the clip operation.</p>
</dd>
<dt>blkid</dt>
<dd>
<p>Block ID number of the block to which to restrict the objects returned by the clip operation. If this parameter is null, all objects that satisfy the other parameters are returned.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2336"></a>Usage Notes</p>
<p>This function returns points from a point cloud that are within a specified query window and that satisfy any other requirements specified by the parameters. A common use of this function is to perform queries on point clouds. You can maximize the performance of a point cloud query by minimizing the number of objects that the function needs to consider for the operation.</p>
<p>The SDO_PC and SDO_PC_BLK_TYPE data types are described in <a href="sdo_objrelschema.htm#CBBIHIIE">Section 2.6</a>.</p>
<p><a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes how to use point clouds to model solids.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2337"></a>Examples</p>
<p>The following example performs a clip operation on a point cloud. It is taken from the <code>sdo_pc.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/PointCloud/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
declare
  inp  sdo_pc;
begin
  select pc INTO inp  from base where rownum=1;
  insert into restst
    select * from
      table(sdo_pc_pkg.clip_pc
           (
            inp,  -- Input point cloud object
            sdo_geometry(2003, 8307, null,
              sdo_elem_info_array(1, 1003, 3),
              sdo_ordinate_array(-175.86157, -14.60521, 0,0)), -- Query 
              null, null, null));
end;
/
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHDBJJIH"></a>
<div id="SPATL1191" class="refsect1">
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2338"></a><a id="sthref2339"></a><a id="sthref2340"></a>CREATE_PC</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2341"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.CREATE_PC(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inp IN SDO_PC,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inptable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clstPcdataTbl IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2342"></a>Description</p>
<p>Creates a point cloud using the points specified in the <code>inptable</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2343"></a>Parameters</p>
<dl>
<dt>inp</dt>
<dd>
<p>SDO_PC object to be used. This object must have been created by the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function.</p>
</dd>
<dt>inptable</dt>
<dd>
<p>Name of the table or view containing the input point cloud data. This table or view should have the following columns:</p>
<ul>
<li>
<p>RID (VARCHAR2(24)): Unique ID for each point</p>
</li>
<li>
<p>VAL_D1 (NUMBER): Ordinate in dimension 1</p>
</li>
<li>
<p>VAL_D2 (NUMBER): Ordinate in dimension 2</p>
</li>
<li>
<p>. . .</p>
</li>
<li>
<p>VAL_D<span class="italic">n</span> (NUMBER): Ordinate in dimension <span class="italic">n</span>, where <span class="italic">n</span> is the highest-numbered dimension. <span class="italic">n</span> should match the <code>pc_tot_dimensions</code> parameter value in the call to the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function when the point cloud was initialized.</p>
</li>
</ul>
</dd>
<dt>clstPcdataTbl</dt>
<dd>
<p>Name of the table for storing the resulting point data. If you do not specify a value, this table is not created. For more information about the table, see the Usage Notes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2344"></a>Usage Notes</p>
<p>The first few dimensions of the point cloud are indexed and can later be searched using the <a href="#CHDGAJDI">SDO_PC_PKG.CLIP_PC</a> function. The exact number of dimensions to index is determined by the dimensionality of the point cloud extent in the initialized point cloud object, specifically: <code>inp.pc_extent.sdo_gtype/1000</code></p>
<p>If you specify a view name in the <code>inptable</code> parameter, the query <code>SELECT ROWID FROM &lt;view-name&gt;</code> must not return any errors.</p>
<p>If you specify a table name in the <code>clstPcdataTbl</code> parameter, the table must exist and have the following columns:</p>
<ul>
<li>
<p>PTN_ID (NUMBER)</p>
</li>
<li>
<p>POINT_ID (NUMBER)</p>
</li>
<li>
<p>RID (VARCHAR2(24): Unique ID for each point</p>
</li>
<li>
<p>VAL_D1 (NUMBER): Ordinate in dimension 1</p>
</li>
<li>
<p>VAL_D2 (NUMBER): Ordinate in dimension 2</p>
</li>
<li>
<p>. . .</p>
</li>
<li>
<p>VAL_D<span class="italic">n</span> (NUMBER): Ordinate in dimension <span class="italic">n</span>, where <span class="italic">n</span> is the highest-numbered dimension. <span class="italic">n</span> should match the <code>pc_tot_dimensions</code> parameter value in the call to the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function when the point cloud was initialized.</p>
</li>
</ul>
<p>If a value is specified for the <code>clstPcdataTbl</code> parameter, this function populates the table by assigning appropriate values for PTN_ID and POINT_ID and by copying the values from the <code>inptable</code> table or view for other attributes. This table can be created as an index organized table. It can be used in applications for searching using SQL queries on dimensions other than those reflected in the index dimensionality. (For an explanation of index dimensionality and total dimensionality, see the explanation of the <code>pc_tot_dimensions</code> parameter of the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function.)</p>
<p>The SDO_PC and SDO_PC_BLK_TYPE data types are described in <a href="sdo_objrelschema.htm#CBBIHIIE">Section 2.6</a>.</p>
<p><a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes how to use point clouds to model solids.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2345"></a>Examples</p>
<p>The following example creates a point cloud. It is taken from the <code>sdo_pc.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/PointCloud/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
-- Create the blocks for the point cloud.
sdo_pc_pkg.create_pc(
  pc,       -- Initialized PointCloud object
  'INPTAB', -- Name of input table to ingest into the pointcloud
  'RES'     -- Name of output table that stores the points (with ptn_id,pt_id)
  );
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFIEBA"></a>
<div id="SPATL1192" class="refsect1">
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2346"></a><a id="sthref2347"></a><a id="sthref2348"></a>DROP_DEPENDENCIES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2349"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.DROP_DEPENDENCIES(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basetable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2350"></a>Description</p>
<p>Drops the dependencies between a point cloud block table and a specified base table and column.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2351"></a>Parameters</p>
<dl>
<dt>basetable</dt>
<dd>
<p>Name of a base table that was specified (in the <code>basetable</code> parameter of the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function) when the point cloud was initialized.</p>
</dd>
<dt>col</dt>
<dd>
<p>Name of a column in base table that was specified in the <code>basecol</code> parameter of the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2352"></a>Usage Notes</p>
<p>This procedure truncates the point cloud block table and removes the association between the block table and the base table and column combination.</p>
<p>After you execute this procedure, you can drop the point cloud block table or associate the table with another base table and column combination. For more information, see the Usage Notes for the <a href="#CHDGHFHC">SDO_PC_PKG.INIT</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2353"></a>Examples</p>
<p>The following example drops the dependencies between a point cloud block table and a base table and column named BASE and PC, respectively.</p>
<pre>
. . .
declare
begin
  mdsys.sdo_pc_pkg.drop_dependencies('BASE', 'PC');
end;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="SPATL1193" class="refsect1"><a id="sthref2354"></a>
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2355"></a><a id="sthref2356"></a><a id="sthref2357"></a>GET_PT_IDS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2358"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.GET_PT_IDS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts IN BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_pts IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_tot_dim IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blk_domain IN SDO_ORGSCL_TYPE DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2359"></a>Description</p>
<p>Returns the block ID and point ID values of the points in a block in a point cloud.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2360"></a>Parameters</p>
<dl>
<dt>pts</dt>
<dd>
<p>Binary large object (BLOB) containing the point cloud block.</p>
</dd>
<dt>num_pts</dt>
<dd>
<p>Number of points in the point cloud block. For a point cloud block, the number of points is stored in the NUM_POINTS column of the point cloud block table, which is described in <a href="sdo_objrelschema.htm#CBBIHDJE">Table 2-7</a> in <a href="sdo_objrelschema.htm#CBBCABDI">Section 2.6.1</a>.</p>
</dd>
<dt>pc_tot_dim</dt>
<dd>
<p>Number of dimensions for the points in the point cloud block.</p>
</dd>
<dt>blk_domain</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2361"></a>Usage Notes</p>
<p>This function returns an SDO_NUMBER_ARRAY object. The array contains multiple pairs of numbers, with each pair identifying the block ID and point ID of a point. For any specific call to this function, the block ID values associated with all points in the returned array will be the same. The SDO_NUMBER_ARRAY type is defined as <code>VARRAY(1048576) OF NUMBER</code>.</p>
<p><a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes how to use point clouds to model solids.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2362"></a>Examples</p>
<p>The following example returns the block ID and point ID values of points in a point cloud block. It is taken from the <code>sdo_pc.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/PointCloud/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
SELECT SDO_PC_PKG.GET_PT_IDS(
    a.points,   -- LOB containing the points
    a.num_points, -- # of points in the LOB
    3 -- Total dimensionality of the points in the LOB
) FROM restst a WHERE num_points &gt;0;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHDGHFHC"></a>
<div id="SPATL1194" class="refsect1">
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2363"></a><a id="sthref2364"></a><a id="sthref2365"></a>INIT</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2366"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.INIT(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basetable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basecol IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blktable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptn_params IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_extent IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_tol IN NUMBER DEFAULT 0.0000000000005,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_tot_dimensions IN NUMBER DEFAULT 2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_domain IN SDO_ORGSCL_TYPE DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_val_attr_tables IN SDO_STRING_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pc_other_attrs IN XMLTYPE DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_PC;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2367"></a>Description</p>
<p>Initializes a point cloud by creating an SDO_PC object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2368"></a>Parameters</p>
<dl>
<dt>basetable</dt>
<dd>
<p>Name of the base table containing a column of type SDO_PC.</p>
</dd>
<dt>basecol</dt>
<dd>
<p>Name of the column of type SDO_PC in the base table.</p>
</dd>
<dt>blktable</dt>
<dd>
<p>Name of the point cloud block table, which is used for storing the blocks of point cloud. This table must exist, and must have been created by a statement in the following form: <code>CREATE TABLE &lt;table-name&gt; AS select * from mdsys.sdo_pc_blk_table;</code></p>
<p>Each point cloud block table can only be associated with only one <code>basetable</code> and <code>basecol</code> combination.</p>
</dd>
<dt>ptn_params</dt>
<dd>
<p>Parameters for partitioning the point cloud, specified as a quoted string with keywords delimited by commas. For example: '<code>blk_capacity=1000,work_tablespace=my_work_ts'</code>. If this parameter is null, the point cloud is not partitioned. The following keywords are permitted:</p>
<ul>
<li>
<p><code>blk_capacity=n</code>, where <span class="italic">n</span> is the maximum number of rows in each partition. The default value is 5000. If specified, must be a number greater than or equal to 50.</p>
</li>
<li>
<p><code>work_tablespace=x</code>, where <span class="italic">x</span> is the name of the tablespace in which to create temporary tables during the partitioning operations.</p>
</li>
</ul>
</dd>
<dt>pc_extent</dt>
<dd>
<p>SDO_GEOMETRY object representing the spatial extent of the point cloud (the minimum bounding object enclosing all objects in the point cloud). This parameter must not be null.</p>
<p>For geodetic data, this geometry must have two dimensions; otherwise, it can have up to four dimensions. The dimensionality of this geometry is used as the minimum value permitted for the <code>pc_tot_dimensions</code> parameter, as explained in the description of that parameter.</p>
</dd>
<dt>pc_tol</dt>
<dd>
<p>Tolerance value for objects in the point cloud. (For information about spatial tolerance, see Section 1.5.5.) If this parameter is null, the default value is 0.0000000000005.</p>
</dd>
<dt>pc_tot_dimensions</dt>
<dd>
<p>A number specifying the <span class="italic">total dimensionality</span> of the point cloud object. For each point in the point cloud blocks, <code>pc_tot_dimensions</code> ordinates (values) are stored.</p>
<p>The total dimensionality must be greater than or equal to the index dimensionality, which is the number of dimensions in the <code>pc_extent</code> geometry. Specifying total dimensionality greater than index dimensionality enables necessary nonspatial attributes to be retrieved in the same fetch operation with spatial data. The maximum total dimensionality value is 8. The default value for this parameter is 2.</p>
</dd>
<dt>pc_domain</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
<dt>pc_val_attr_tables</dt>
<dd>
<p>SDO_STRING_ARRAY object specifying the names of any value attribute tables for the point cloud. If this parameter is null, the point cloud has no associated value attribute tables. Type SDO_STRING_ARRAY is defined as VARRAY(1048576) OF VARCHAR2(32).</p>
</dd>
<dt>pc_other_attrs</dt>
<dd>
<p>XMLTYPE object specifying any other attributes of the point cloud. If this parameter is null, the point cloud has no other attributes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2369"></a>Usage Notes</p>
<p>After you use this function to create an SDO_PC object, you can create a point cloud by specifying this object as input to the <a href="#CHDBJJIH">SDO_PC_PKG.CREATE_PC</a> procedure.</p>
<p>The SDO_PC data type is described in <a href="sdo_objrelschema.htm#CBBFDFCJ">Section 2.5</a>.</p>
<p><a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes how to use point clouds to model solids.</p>
<p>After you use this function, the blktable table is kept in synchronization with the base table. For example, if a row is deleted from the basetable, the corresponding blocks of the point cloud object in that row are also deleted from the block table; and if the base table base table is truncated, the block table is truncated also.</p>
<p>The block table can be dropped only after either of the following occurs: the base table is dropped, or the <a href="#CACFIEBA">SDO_PC_PKG.DROP_DEPENDENCIES</a> procedure is executed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2370"></a>Examples</p>
<p>The following example initializes a point cloud by creating an SDO_PC object, and it displays the ID of the object. It is taken from the <code>sdo_pc.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/PointCloud/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>)a.</p>
<pre>
. . .
declare
  pc sdo_pc;
begin
  -- Initialize the point cloud object. 
  pc := sdo_pc_pkg.init(
          'BASE', -- Table that has the SDO_POINT_CLOUD column defined
          'PC',   -- Column name of the SDO_POINT_CLOUD object 
          'BLKTAB', -- Table to store blocks of the point cloud
          'blk_capacity=1000', -- max # of points per block 
          mdsys.sdo_geometry(2003, 8307, null,
              mdsys.sdo_elem_info_array(1,1003,3),
              mdsys.sdo_ordinate_array(-180, -90, 180, 90)),  -- Extent 
              0.5, -- Tolerance for point cloud
              3, -- Total number of dimensions
              null);
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHDFJJCA"></a>
<div id="SPATL1195" class="refsect1">
<h2 class="refsect1">SDO_PC_PKG.<a id="sthref2371"></a><a id="sthref2372"></a><a id="sthref2373"></a>TO_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2374"></a>Format</p>
<p class="synopsis">SDO_PC_PKG.TO_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts IN BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_pts IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_tot_dim IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blk_domain IN SDO_ORGSCL_TYPE DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2375"></a>Description</p>
<p>Returns a geometry object representing all or part of a point cloud.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2376"></a>Parameters</p>
<dl>
<dt>pts</dt>
<dd>
<p>BLOB containing the points.</p>
</dd>
<dt>num_pts</dt>
<dd>
<p>Maximum number of points to be included in the resulting geometry.</p>
</dd>
<dt>tin_tot_dim</dt>
<dd>
<p>Number of spatial dimensions defined for the data.</p>
</dd>
<dt>srid</dt>
<dd>
<p>Spatial reference (coordinate system) ID associated with the data. If this parameter is null, no SRID value is associated with the data.</p>
</dd>
<dt>blk_domain</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2377"></a>Usage Notes</p>
<p>This function returns a single multipoint SDO_GEOMETRY object that represents all point geometries in the <code>pts</code> parameter. For example, the points could reflect the result of a clip operation or the contents of an entire block.</p>
<p><a href="sdo_intro.htm#BABDBHDA">Section 1.11.2</a> describes how to use point clouds to model solids.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2378"></a>Examples</p>
<p>The following example returns a multipoint collection geometry object representing a point cloud. It is taken from the <code>sdo_pc.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/PointCloud/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
-- Return points in blk_id of the point cloud as a multipoint collection.
select sdo_pc_pkg.to_geometry(
                    a.points,   -- point LOB
                    a.num_points, -- # of points in the LOB
                    3,  -- total dimensionality
                    8307 -- SRID
                    ) from blktab a where blk_id=0;
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_ols_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_sam_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
