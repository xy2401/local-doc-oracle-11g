<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_TIN_PKG Package (TINs)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:50Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_sam_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_objtune.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">40/51</span> <!-- End Header -->
<div id="SPATL171" class="chapter"><a id="CACGDACE"></a>
<h1 class="chapter"><span class="secnum">30</span> SDO_TIN_PKG Package <a id="sthref2466"></a><a id="sthref2467"></a>(TINs)</h1>
<p>This chapter contains descriptions of the triangulated irregular network (TIN) subprograms shown in <a href="#CACFGIIE">Table 30-1</a>.</p>
<div id="SPATL1207" class="tblformal">
<p class="titleintable"><a id="sthref2468"></a><a id="CACFGIIE"></a>Table 30-1 TIN Subprograms</p>
<table class="cellalignment740" title="TIN Subprograms" summary="Triangulated Irregular Network (TIN) Subprograms" dir="ltr">
<thead>
<tr class="cellalignment734">
<th class="cellalignment741" id="r1c1-t2">Subprogram</th>
<th class="cellalignment741" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment734">
<td class="cellalignment742" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#i855810">SDO_TIN_PKG.CLIP_TIN</a></p>
</td>
<td class="cellalignment742" headers="r2c1-t2 r1c2-t2">
<p>Performs a clip operation on a TIN.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#CACJHFFD">SDO_TIN_PKG.CREATE_TIN</a></p>
</td>
<td class="cellalignment742" headers="r3c1-t2 r1c2-t2">
<p>Creates a TIN using the points specified in the <code>inptable</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#CACEFHHH">SDO_TIN_PKG.DROP_DEPENDENCIES</a></p>
</td>
<td class="cellalignment742" headers="r4c1-t2 r1c2-t2">
<p>Drops the dependencies between a TIN block table and a specified base table and column.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#i855832">SDO_TIN_PKG.INIT</a></p>
</td>
<td class="cellalignment742" headers="r5c1-t2 r1c2-t2">
<p>Initializes a TIN.</p>
</td>
</tr>
<tr class="cellalignment734">
<td class="cellalignment742" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#CACFHAAH">SDO_TIN_PKG.TO_GEOMETRY</a></p>
</td>
<td class="cellalignment742" headers="r6c1-t2 r1c2-t2">
<p>Returns a geometry object representing all or part of a TIN.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>To use the subprograms in this package, you must understand the main concepts related to three-dimensional geometries, including the use of triangulated irregular networks (TINs) to model surfaces. <a href="sdo_intro.htm#BABIDJJB">Section 1.11</a> describes support for three-dimensional geometries, <a href="sdo_intro.htm#BABJBBEB">Section 1.11.1</a> describes the use of TINs to model surfaces, and <a href="sdo_objrelschema.htm#CBBFDFCJ">Section 2.5</a> describes data types related to TINs.</p>
<div class="refentry"><a id="i855810"></a>
<div id="SPATL1208" class="refsect1">
<h2 class="refsect1">SDO_TIN_PKG.<a id="sthref2469"></a><a id="sthref2470"></a><a id="sthref2471"></a>CLIP_TIN</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2472"></a>Format</p>
<p class="synopsis">SDO_TIN_PKG.CLIP_TIN(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inp IN SDO_TIN,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qry IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qry_min_res IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qry_max_res IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blkid IN NUMBER DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_TIN_BLK_TYPE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2473"></a>Description</p>
<p>Performs a clip operation on a TIN.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2474"></a>Parameters</p>
<dl>
<dt>inp</dt>
<dd>
<p>TIN on which to perform the clip operation.</p>
</dd>
<dt>qry</dt>
<dd>
<p>Window from which to select objects to be returned; typically a polygon for two-dimensional geometries or a frustum for three-dimensional geometries.</p>
</dd>
<dt>qry_min_res</dt>
<dd>
<p>Minimum resolution value. Objects in <code>qry</code> with resolutions equal to or greater than <code>qry_min_res</code> and less than or equal to <code>qry_max_res</code> are returned by the clip operation.</p>
</dd>
<dt>qry_max_res</dt>
<dd>
<p>Maximum resolution value. Objects in <code>qry</code> with resolutions equal to or greater than <code>qry_min_res</code> and less than or equal to <code>qry_max_res</code> are returned by the clip operation.</p>
</dd>
<dt>blkid</dt>
<dd>
<p>Block ID number of the block to which to restrict the objects returned by the clip operation. If this parameter is null, all objects that satisfy the other parameters are returned.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2475"></a>Usage Notes</p>
<p>This function returns triangles from a TIN that are within a specified query window and that satisfy any other requirements specified by the parameters. A common use of this function is to perform queries on TINs. You can maximize the performance of a TIN query by minimizing the number of objects that the function needs to consider for the operation.</p>
<p>The SDO_TIN and SDO_TIN_BLK_TYPE data types are described in <a href="sdo_objrelschema.htm#CBBFDFCJ">Section 2.5</a>.</p>
<p><a href="sdo_intro.htm#BABJBBEB">Section 1.11.1</a> describes how to use TINs to model surfaces.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2476"></a>Examples</p>
<p>The following example performs a clip operation on a TIN. It is taken from the <code>sdo_tin.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/TIN/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
declare
  inp  sdo_tin;
begin
  select tin INTO inp  from base where rownum=1;
  insert into restst
  select * from
    table(sdo_tin_pkg.clip_tin
           (
            inp,  -- Input TIN object
            sdo_geometry(2003, null, null,
              mdsys.sdo_elem_info_array(1, 1003, 3),
              mdsys.sdo_ordinate_array(-74.1, -73.9, 39.99999,40.00001)), -- Query
            null, null));
end;
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJHFFD"></a>
<div id="SPATL1209" class="refsect1">
<h2 class="refsect1">SDO_TIN_PKG.<a id="sthref2477"></a><a id="sthref2478"></a><a id="sthref2479"></a>CREATE_TIN</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2480"></a>Format</p>
<p class="synopsis">SDO_TIN_PKG.CREATE_TIN(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inp IN SDO_TIN,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inptable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clstPcdataTbl IN VARCHAR2 DEFAULT NULL);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2481"></a>Description</p>
<p>Creates a TIN using the points specified in the <code>inptable</code> parameter.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2482"></a>Parameters</p>
<dl>
<dt>inp</dt>
<dd>
<p>SDO_TIN object to be used. This object must have been created by the <a href="#i855832">SDO_TIN_PKG.INIT</a> function</p>
</dd>
<dt>inptable</dt>
<dd>
<p>Name of the table or view containing the input TIN data. This table or view should have the following columns:</p>
<ul>
<li>
<p>RID (VARCHAR2(24)): Unique ID for each point</p>
</li>
<li>
<p>VAL_D1 (NUMBER): Ordinate in dimension 1</p>
</li>
<li>
<p>VAL_D2 (NUMBER): Ordinate in dimension 2</p>
</li>
<li>
<p>. . .</p>
</li>
<li>
<p>VAL_D<span class="italic">n</span> (NUMBER): Ordinate in dimension <span class="italic">n</span>, where <span class="italic">n</span> is the highest-numbered dimension. <span class="italic">n</span> should match the <code>tin_tot_dimensions</code> parameter value in the call to the <a href="#i855832">SDO_TIN_PKG.INIT</a> function when the TIN was initialized.</p>
</li>
</ul>
</dd>
<dt>clstPcdataTbl</dt>
<dd>
<p>Name of the table for storing the resulting point data. If you do not specify a value, this table is not created. For more information about the table, see the Usage Notes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2483"></a>Usage Notes</p>
<p>The first few dimensions of the TIN are indexed and can later be searched using the <a href="#i855810">SDO_TIN_PKG.CLIP_TIN</a> function. The exact number of dimensions to index is determined by the dimensionality of the TIN extent in the initialized TIN object, specifically: <code>inp.tin_extent.sdo_gtype/1000</code></p>
<p>If you specify a view name in the <code>inptable</code> parameter, the query <code>SELECT ROWID FROM &lt;view-name&gt;</code> must not return any errors.</p>
<p>If you specify a table name in the <code>clstPcdataTbl</code> parameter, the table must exist and have the following columns:</p>
<ul>
<li>
<p>PTN_ID (NUMBER)</p>
</li>
<li>
<p>POINT_ID (NUMBER)</p>
</li>
<li>
<p>RID (VARCHAR2(24): Unique ID for each point</p>
</li>
<li>
<p>VAL_D1 (NUMBER): Ordinate in dimension 1</p>
</li>
<li>
<p>VAL_D2 (NUMBER): Ordinate in dimension 2</p>
</li>
<li>
<p>. . .</p>
</li>
<li>
<p>VAL_D<span class="italic">n</span> (NUMBER): Ordinate in dimension <span class="italic">n</span>, where <span class="italic">n</span> is the highest-numbered dimension. <span class="italic">n</span> should match the <code>tin_tot_dimensions</code> parameter value in the call to the <a href="#i855832">SDO_TIN_PKG.INIT</a> function when the TIN was initialized.</p>
</li>
</ul>
<p>If a value is specified for the <code>clstPcdataTbl</code> parameter, this function populates the table by assigning appropriate values for PTN_ID and POINT_ID and by copying the values from the <code>inptable</code> table or view for other attributes. This table can be created as an index organized table. It can be used in applications for searching using SQL queries on dimensions other than those reflected in the index dimensionality. (For an explanation of index dimensionality and total dimensionality, see the explanation of the <code>tin_tot_dimensions</code> parameter of the <a href="#i855832">SDO_TIN_PKG.INIT</a> function.)</p>
<p>The SDO_TIN data type is described in <a href="sdo_objrelschema.htm#CBBFDFCJ">Section 2.5</a>.</p>
<p><a href="sdo_intro.htm#BABJBBEB">Section 1.11.1</a> describes how to use TINs to model surfaces.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2484"></a>Examples</p>
<p>The following example creates a TIN. It is taken from the <code>sdo_tin.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/TIN/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
-- Create the blocks for the TIN.
sdo_tin_pkg.create_tin(
  tin,       -- Initialized TIN object
  'INPTAB', -- Name of input table to ingest into the pointcloud
  'RES'     -- Name of output table that stores the points (with ptn_id,pt_id)
);
/
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEFHHH"></a>
<div id="SPATL1210" class="refsect1">
<h2 class="refsect1">SDO_TIN_PKG.<a id="sthref2485"></a><a id="sthref2486"></a><a id="sthref2487"></a>DROP_DEPENDENCIES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2488"></a>Format</p>
<p class="synopsis">SDO_TIN_PKG.DROP_DEPENDENCIES(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basetable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2489"></a>Description</p>
<p>Drops the dependencies between a TIN block table and a specified base table and column.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2490"></a>Parameters</p>
<dl>
<dt>basetable</dt>
<dd>
<p>Name of a base table that was specified (in the <code>basetable</code> parameter of the <a href="#i855832">SDO_TIN_PKG.INIT</a> function) when the TIN was initialized.</p>
</dd>
<dt>col</dt>
<dd>
<p>Name of a column in base table that was specified in the <code>basecol</code> parameter of the <a href="#i855832">SDO_TIN_PKG.INIT</a> function.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2491"></a>Usage Notes</p>
<p>This procedure truncates the TIN block table and removes the association between the block table and the base table and column combination.</p>
<p>After you execute this procedure, you can drop the TIN block table or associate the table with another base table and column combination. For more information, see the Usage Notes for the <a href="#i855832">SDO_TIN_PKG.INIT</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2492"></a>Examples</p>
<p>The following example drops the dependencies between a TIN block table and a base table and column named BASE and TIN, respectively.</p>
<pre>
. . .
declare
begin
  mdsys.sdo_tin_pkg.drop_dependencies('BASE', 'TIN');
end;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i855832"></a>
<div id="SPATL1211" class="refsect1">
<h2 class="refsect1">SDO_TIN_PKG.<a id="sthref2493"></a><a id="sthref2494"></a><a id="sthref2495"></a>INIT</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2496"></a>Format</p>
<p class="synopsis">SDO_TIN_PKG.INIT(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basetable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basecol IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blktable IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptn_params IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_extent IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_tol IN NUMBER DEFAULT 0.000000000000005,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_tot_dimensions IN NUMBER DEFAULT 2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_domain IN SDO_ORGSCL_TYPE DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_break_lines IN SDO_GEOMETRY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_stop_lines IN SDO_GEOMETRY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_void_rgns IN SDO_GEOMETRY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_val_attr_tables IN SDO_STRING_ARRAY DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_other_attrs IN XMLTYPE DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_TIN;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2497"></a>Description</p>
<p>Initializes a TIN by creating an SDO_TIN object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2498"></a>Parameters</p>
<dl>
<dt>basetable</dt>
<dd>
<p>Name of the base table containing a column of type SDO_TIN.</p>
</dd>
<dt>basecol</dt>
<dd>
<p>Name of the column of type SDO_TIN in the base table.</p>
</dd>
<dt>blktable</dt>
<dd>
<p>Name of the TIN block table, which is used for storing the blocks of the TIN. This table must exist, and must have been created by a statement in the following form: <code>CREATE TABLE &lt;table-name&gt; AS select * from mdsys.sdo_tin_blk_table;</code></p>
<p>Each TIN block table can only be associated with only one <code>basetable</code> and <code>basecol</code> combination.</p>
</dd>
<dt>ptn_params</dt>
<dd>
<p>Parameters for partitioning the TIN, specified as a quoted string with keywords delimited by commas. For example: '<code>blk_capacity=1000,work_tablespace=my_work_ts'</code>. If this parameter is null, the TIN is not partitioned. The following keywords are permitted:</p>
<ul>
<li>
<p><code>blk_capacity=n</code>, where <span class="italic">n</span> is the maximum number of rows in each partition. The default value is 5000. If specified, must be a number greater than or equal to 50.</p>
</li>
<li>
<p><code>work_tablespace=x</code>, where <span class="italic">x</span> is the name of the tablespace in which to create temporary tables during the partitioning operations.</p>
</li>
</ul>
</dd>
<dt>tin_extent</dt>
<dd>
<p>SDO_GEOMETRY object representing the spatial extent of the TIN (the minimum bounding object enclosing all objects in the TIN. This parameter must not be null.</p>
<p>For geodetic data, this geometry must have two dimensions; otherwise, it can have up to four dimensions. The dimensionality of this geometry is used as the minimum value permitted for the <code>tin_tot_dimensions</code> parameter, as explained in the description of that parameter.</p>
</dd>
<dt>tin_tol</dt>
<dd>
<p>Tolerance value for objects in the TIN. (For information about spatial tolerance, see Section 1.5.5.) If this parameter is null, the default value is 0.0000000000005.</p>
</dd>
<dt>tin_tot_dimensions</dt>
<dd>
<p>A number specifying the <span class="italic">total dimensionality</span> of the TIN object. For each point in the TIN blocks, <code>tin_tot_dimensions</code> ordinates (values) are stored.</p>
<p>The total dimensionality must be greater than or equal to the index dimensionality, which is the number of dimensions in the <code>tin_extent</code> geometry. Specifying total dimensionality greater than index dimensionality enables necessary nonspatial attributes to be retrieved in the same fetch operation with spatial data. The maximum total dimensionality value is 8. The default value for this parameter is 2.</p>
</dd>
<dt>tin_domain</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
<dt>tin_break_lines</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
<dt>tin_stop_lines</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
<dt>tin_void_rgns</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
<dt>tin_val_attr_tables</dt>
<dd>
<p>SDO_STRING_ARRAY object specifying the names of any value attribute tables for the TIN. If this parameter is null, the TIN has no associated value attribute tables. Type SDO_STRING_ARRAY is defined as VARRAY(1048576) OF VARCHAR2(32).</p>
</dd>
<dt>tin_other_attrs</dt>
<dd>
<p>XMLTYPE object specifying any other attributes of the TIN. If this parameter is null, the TIN has no other attributes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2499"></a>Usage Notes</p>
<p>After you use this function to create an SDO_TIN object, you can create a TIN by specifying this object as input to the <a href="#CACJHFFD">SDO_TIN_PKG.CREATE_TIN</a> procedure.</p>
<p>The SDO_TIN data type is described in <a href="sdo_objrelschema.htm#CBBFDFCJ">Section 2.5</a>.</p>
<p><a href="sdo_intro.htm#BABJBBEB">Section 1.11.1</a> describes how to use TINs to model surfaces.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2500"></a>Examples</p>
<p>The following example initializes a TIN by creating an SDO_TIN object. It is taken from the <code>sdo_tin.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/TIN/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
declare
  tin sdo_tin;
begin
  -- Initialize the TIN object. 
  tin := sdo_tin_pkg.init(
          'BASE', -- Table that has the SDO_TIN column defined
          'TIN',   -- Column name of the SDO_TIN object 
          'BLKTAB', -- Table to store blocks of the TIN
           'blk_capacity=1000', -- max # of points per block 
           mdsys.sdo_geometry(2003, null, null,
              mdsys.sdo_elem_info_array(1,1003,3),
              mdsys.sdo_ordinate_array(-180, -90, 180, 90)),  -- Extent 
              0.0000000005, -- Tolerance for TIN
              3, -- Total number of dimensions
              null);
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFHAAH"></a>
<div id="SPATL1212" class="refsect1">
<h2 class="refsect1">SDO_TIN_PKG.<a id="sthref2501"></a><a id="sthref2502"></a><a id="sthref2503"></a>TO_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2504"></a>Format</p>
<p class="synopsis">SDO_TIN_PKG.TO_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pts IN BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trs IN BLOB,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_pts IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;num_trs IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tin_tot_dim IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid IN NUMBER DEFAULT NULL,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blk_domain IN SDO_ORGSCL_TYPE DEFAULT NULL</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2505"></a>Description</p>
<p>Returns a geometry object representing all or part of a TIN.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2506"></a>Parameters</p>
<dl>
<dt>pts</dt>
<dd>
<p>BLOB containing points.</p>
</dd>
<dt>trs</dt>
<dd>
<p>BLOB containing triangles.</p>
</dd>
<dt>num_pts</dt>
<dd>
<p>Maximum number of points to be included in the resulting geometry.</p>
</dd>
<dt>num_pts</dt>
<dd>
<p>Maximum number of triangles to be included in the resulting geometry.</p>
</dd>
<dt>tin_tot_dim</dt>
<dd>
<p>Number of spatial dimensions defined for the data.</p>
</dd>
<dt>srid</dt>
<dd>
<p>Spatial reference (coordinate system) ID associated with the data. If this parameter is null, no SRID value is associated with the data.</p>
</dd>
<dt>blk_domain</dt>
<dd>
<p>(Not currently used.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2507"></a>Usage Notes</p>
<p>This function returns a single collection SDO_GEOMETRY object that represents all point geometries in the <code>pts</code> parameter and all triangle geometries in the <code>trs</code> parameter. For example, the points and triangles could reflect the result of a clip operation or the contents of an entire block.</p>
<p><a href="sdo_intro.htm#BABJBBEB">Section 1.11.1</a> describes how to use TINs to model surfaces.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2508"></a>Examples</p>
<p>The following example returns a multipoint collection geometry object representing a TIN. It is taken from the <code>sdo_tin.sql</code> example program, which is under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/md/demo/examples/TIN/plsql/</code> if you installed the files from the Oracle Database Examples media (see <a class="olink EXMPL" href="../../install.112/e24501/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a>).</p>
<pre>
. . .
-- Return points in blk_id of the TIN as a multipoint collection. 
select sdo_tin_pkg.to_geometry(
                    a.points,   -- point LOB
                    a.triangles,   -- point LOB
                    a.num_points, -- # of points in the LOB
                    a.num_triangles, -- # of points in the LOB
                    2,  -- index dimensionality (gtype dim in extent in INIT)
                    3,  -- total dimensionality
                    null -- SRID
                    ) from blktab a where blk_id=0;
. . .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_sam_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_objtune.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
