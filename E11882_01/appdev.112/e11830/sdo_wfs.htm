<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Web Feature Service (WFS) Support</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information for indexing and storing spatial data and for developing spatial applications using Oracle Spatial and Graph and Oracle Locator." />
<meta name="dcterms.created" content="2013-11-26T3:11:46Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Developer's Guide" />
<meta name="dcterms.identifier" content="E11830-15" />
<meta name="dcterms.isVersionOf" content="SPATL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sdo_openls.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_csw.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11830.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/51</span> <!-- End Header -->
<div id="SPATL420" class="chapter"><a id="CIHEFGJJ"></a>
<h1 class="chapter"><span class="secnum">15</span> Web Feature Service (WFS) Support</h1>
<p>This chapter describes Web Feature Service (WFS) support in Oracle Spatial It includes the following major sections:</p>
<ul>
<li>
<p><a href="#CIHDBAEA">Section 15.1, "WFS Engine"</a></p>
</li>
<li>
<p><a href="#CIHGBEAJ">Section 15.2, "Managing Feature Types"</a></p>
</li>
<li>
<p><a href="#CIHGEFJD">Section 15.3, "Request and Response XML Examples"</a></p>
</li>
<li>
<p><a href="#CIHHACID">Section 15.4, "Java API for WFS Administration"</a></p>
</li>
<li>
<p><a href="#CIHBHAFE">Section 15.5, "Using WFS with Oracle Workspace Manager"</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you use WFS, be sure that you understand the concepts described in <a href="sdo_webserv_intro.htm#CHDGBDCE">Chapter 10, "Introduction to Spatial Web Services"</a>, and that you have performed any necessary configuration work as described in that chapter.
<p>If you have data from a previous release that was indexed using one or more SYS.XMLTABLEINDEX indexes, you must drop the associated indexes before the upgrade and re-create the indexes after the upgrade, as described in <a href="sdo_migrat.htm#CHDEIGBF">Section A.3</a>.</p>
</div>
<a id="CIHDBAEA"></a>
<div id="SPATL922" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">15.1</span> <a id="sthref888"></a>WFS Engine</h2>
<p>This section describes the Web Feature Service engine, including its relationship to clients and to the database server. WFS is implemented as a Web service and can be deployed in a WebLogic Server, Oracle Application Server, or standalone Oracle Application Server Containers for J2EE (OC4J) environment.</p>
<p>WFS has a metadata layer, which stores in the database the metadata needed to reply to the WFS requests. The metadata includes spatial columns, which can be queried and processed using Oracle Spatial interfaces. The metadata also stores the association of nonspatial and spatial attributes of features, as well as the services that the Web Feature Service provides to its clients.</p>
<p><a href="#CIHFBDJE">Figure 15-1</a> shows the WFS architecture.</p>
<div id="SPATL923" class="figure">
<p class="titleinfigure"><a id="CIHFBDJE"></a>Figure 15-1 Web Feature Service Architecture</p>
<img width="272" height="209" src="img/wfs_architecture.gif" alt="Description of Figure 15-1 follows" /><br />
<a id="sthref889" href="img_text/wfs_architecture.htm">Description of "Figure 15-1 Web Feature Service Architecture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>As shown in <a href="#CIHFBDJE">Figure 15-1</a>:</p>
<ul>
<li>
<p>WFS is part of the middle tier, and includes a WFS server API and a feature cache.</p>
</li>
<li>
<p>WFS can communicate with a Web service client using WFS requests and responses in SOAP/XML format.</p>
</li>
<li>
<p>WFS performs spatial data and metadata access through JDBC calls to the database.</p>
</li>
<li>
<p>The database includes Oracle Spatial with WFS metadata and data, and with PL/SQL packages for administrative operations (see <a href="sdo_wfs_process_ref.htm#CACGJADA">Chapter 34, "SDO_WFS_PROCESS Package (WFS Processing)"</a> and <a href="sdo_wfs_lock_ref.htm#CHEECIAH">Chapter 33, "SDO_WFS_LOCK Package (WFS)"</a>).</p>
</li>
</ul>
<p>Web Service Security (WSS) is implemented using secure transport. User identities and user labels are managed in LDAP, and the middle tier and WSS combine to perform authentication. Oracle label-based security is used for managing user privileges at the feature level. For more information about WSS, see <a href="sdo_ws_security.htm#BGBFADII">Chapter 17</a>.</p>
</div>
<!-- class="sect1" -->
<a id="CIHGBEAJ"></a>
<div id="SPATL924" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">15.2</span> <a id="sthref890"></a><a id="sthref891"></a><a id="sthref892"></a>Managing Feature Types</h2>
<p>WFS supports relational and document-based feature types:</p>
<ul>
<li>
<p><span class="bold">Relational</span> feature types expose the content of database tables as feature instances. Relational feature types are well suited for those who use Oracle Spatial to manage their geospatial data and use Oracle Database to manage other business data. The Spatial WFS implementation provides ways to access the data, especially in service-oriented architecture (SOA) systems implemented using Web services.</p>
<p>Use PL/SQL application programming interfaces (APIs) to manage relational feature types. The PL/SQL packages SDO_WFS_LOCK and SDO_WFS_PROCESS (described in <a href="sdo_wfs_lock_ref.htm#CHEECIAH">Chapter 33</a> and <a href="sdo_wfs_process_ref.htm#CACGJADA">Chapter 34</a>, respectively) enable you to manage relational feature types.</p>
</li>
<li>
<p><span class="bold">Document-based</span> feature types expose XML schema-based XML content as feature instances. Document-based feature types are well suited for those who use XML as their main data source and who might not currently use Oracle Spatial with such data. For this data, the Spatial WFS implementation extracts the geometry components and stores them using the SDO_GEOMETRY type; it stores the remaining XML components in Oracle XDB and builds appropriate XMLIndex indexes for them.</p>
<p>Use Java APIs (described in <a href="#CIHHACID">Section 15.4</a>) to manage document-based feature types.</p>
</li>
</ul>
<p>These APIs enable you to perform operations that include:</p>
<ul>
<li>
<p>Publishing feature types</p>
</li>
<li>
<p>Dropping (unpublishing) feature types</p>
</li>
<li>
<p>Granting to users and revoking from users privileges of WFS metadata and feature types</p>
</li>
<li>
<p>For relational feature types: lock-enabling and lock-disabling feature tables (with lock-enabling on by default for document-based feature types)</p>
</li>
</ul>
<a id="CIHDDGEE"></a>
<div id="SPATL925" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.2.1</span> Capabilities Documents</h3>
<p>A capabilities document describes an instance of a capability. The document specifies a feature type (such as roads or rivers) and the type of operations supported (such as insert and delete).</p>
<p>A capabilities document is generated by the WFS server in response to a GetCapabilities request. The WFS server uses a capabilities template, and adds information about the feature type and operations to this template to create the capabilities document.</p>
<p>The client can use the HTTP GET method to access this capabilities document using either the SOAP interface or the XML interface:</p>
<ul>
<li>
<p>For the SOAP interface, use <code>oracle.spatial.ws.servlet.WFSServlet,</code> which can be accessed at an address in the following format:</p>
<pre>
http://<span class="italic">machine-name:port</span>/<span class="italic">SpatialWS-SpatialWS-context-root</span>/<span class="italic">wfsservlet</span>?request=GetCapabilities&amp;service=WFS&amp;version=1.0.0
</pre></li>
<li>
<p>For the XML interface, use <code>oracle.spatial.ws.servlet.WFSXMLServlet</code>, which can be accessed at an address in the following format:</p>
<pre>
http://<span class="italic">machine-name:port</span>/<span class="italic">SpatialWS-SpatialWS-context-root</span>/<span class="italic">xmlwfsservlet</span>?request=GetCapabilities&amp;service=WFS&amp;version=1.0.0
</pre></li>
</ul>
<p>In the preceding formats:</p>
<ul>
<li>
<p><span class="italic">machine-name</span> is the name of the system where the application server or OC4J server is running.</p>
</li>
<li>
<p><span class="italic">port</span> is the port number where the application server or OC4J server is running.</p>
</li>
<li>
<p><span class="italic">SpatialWS-SpatialWS-context-root</span> is the default root where the Spatial Web services application is mounted.</p>
</li>
<li>
<p><span class="italic">wfsservlet</span> is the <code>servlet-mapping url-pattern</code> for <code>oracle.spatial.ws.servlet.WFSServlet</code>, as specified by default in the <code>web.xml</code> file.</p>
</li>
<li>
<p><span class="italic">xmlwfsservlet</span> is the <code>servlet-mapping url-pattern</code> for <code>oracle.spatial.ws.servlet.WFSXMLServlet</code>, as specified by default in the <code>web.xml</code> file.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHGEFJD"></a>
<div id="SPATL926" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">15.3</span> Request and Response XML Examples</h2>
<p>This section presents some feature requests to the WFS engine, and the response to each request, for each of the following operations:</p>
<ul>
<li>
<p>GetCapabilities</p>
</li>
<li>
<p>DescribeFeatureType</p>
</li>
<li>
<p>GetFeature</p>
</li>
<li>
<p>GetFeatureWithLock</p>
</li>
<li>
<p>LockFeature</p>
</li>
<li>
<p>Transaction, with a subelement specifying the transaction type:</p>
<ul>
<li>
<p>Insert</p>
</li>
<li>
<p>Update</p>
</li>
<li>
<p>Delete</p>
</li>
</ul>
</li>
</ul>
<p>The XML request and response formats are similar for both relational and document-based features. Several examples in this section refer to relational features based on the COLA_MARKETS_CS table used in <a href="sdo_cs_concepts.htm#i885437">Example 6-17</a> in <a href="sdo_cs_concepts.htm#i889615">Section 6.13</a>, where the MKT_ID column contains the unique numeric ID of each feature, the NAME column contains each feature's name (<code>cola_a</code>, <code>cola_b</code>, <code>cola_c</code>, or <code>cola_d</code>), and the SHAPE column contains the geometry associated with each feature.</p>
<p><a href="#CIHHHFFC">Example 15-1</a> is a request to get the capabilities of the WFS server named WFS at a specified namespace URL. T.his request will return a capabilities document, as explained in <a href="#CIHDDGEE">Section 15.2.1</a></p>
<div id="SPATL927" class="example">
<p class="titleinexample"><a id="CIHHHFFC"></a>Example 15-1 GetCapabilities Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;GetCapabilities
   service="WFS"
   version="1.0.0"
   xmlns="http://www.opengis.net/wfs" /&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHJGBHA">Example 15-2</a> is an excerpt of the response from the request in <a href="#CIHHHFFC">Example 15-1</a>.</p>
<div id="SPATL928" class="example">
<p class="titleinexample"><a id="CIHJGBHA"></a>Example 15-2 GetCapabilities Response</p>
<pre>
&lt;WFS_Capabilities xmlns="http://www.opengis.net/wfs" version="1.0.0" xmlns:ogc="http://www.opengis.net/ogc" xmlns:myns="http://www.example.com/myns"&gt;
  &lt;Service&gt;
    &lt;Name&gt; Oracle WFS &lt;/Name&gt;
    &lt;Title&gt; Oracle Web Feature Service &lt;/Title&gt;
    &lt;Abstract&gt; Web Feature Service maintained by Oracle &lt;/Abstract&gt;
    &lt;OnlineResource&gt;http://localhost:8888/SpatialWS-SpatialWS-context-root/wfsservlet&lt;/OnlineResource&gt;
  &lt;/Service&gt;
  &lt;Capability&gt;
    &lt;Request&gt;
      &lt;GetCapabilities&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Get onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/wfsservlet"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/GetCapabilities&gt;
      &lt;DescribeFeatureType&gt;
        &lt;SchemaDescriptionLanguage&gt;
          &lt;XMLSCHEMA/&gt;
        &lt;/SchemaDescriptionLanguage&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/DescribeFeatureType&gt;
      &lt;GetFeature&gt;
        &lt;ResultFormat&gt;
          &lt;GML2/&gt;
        &lt;/ResultFormat&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/GetFeature&gt;
      &lt;GetFeatureWithLock&gt;
        &lt;ResultFormat&gt;
          &lt;GML2/&gt;
        &lt;/ResultFormat&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/GetFeatureWithLock&gt;
      &lt;Transaction&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/Transaction&gt;
      &lt;LockFeature&gt;
        &lt;DCPType&gt;
          &lt;HTTP&gt;
            &lt;Post onlineResource="http://localhost:8888/SpatialWS-SpatialWS-context-root/SpatialWSSoapHttpPort"/&gt;
          &lt;/HTTP&gt;
        &lt;/DCPType&gt;
      &lt;/LockFeature&gt;
    &lt;/Request&gt;
  &lt;/Capability&gt;
  &lt;FeatureTypeList&gt;
    &lt;Operations&gt;
      &lt;Insert/&gt;
      &lt;Update/&gt;
      &lt;Delete/&gt;
      &lt;Query/&gt;
      &lt;Lock/&gt;
    &lt;/Operations&gt;
  &lt;FeatureType xmlns:myns="http://www.example.com/myns"&gt;
  &lt;Name&gt; myns:COLA&lt;/Name&gt;
  &lt;Title&gt; LIST OF COLA MARKETS &lt;/Title&gt;
  &lt;SRS&gt; SDO:8307&lt;/SRS&gt;
&lt;/FeatureType&gt;&lt;FeatureType xmlns:myns="http://www.example.com/myns"&gt;
  &lt;Name&gt; myns:COLAVIEW1 &lt;/Name&gt;
  &lt;Title&gt; LIST OF COLA MARKET VIEW &lt;/Title&gt;
  &lt;SRS&gt; SDO:8307&lt;/SRS&gt;
&lt;/FeatureType&gt;&lt;FeatureType xmlns:wfs="http://www.opengis.net/wfs"&gt; 
  &lt;Name xmlns:myns="http://www.example.com/myns1"&gt;myns:SampleFeature&lt;/Name&gt;
  &lt;Title&gt;SAMPLE FEATURE&lt;/Title&gt;
  &lt;SRS&gt;EPSG:32615&lt;/SRS&gt;
&lt;/FeatureType&gt;&lt;/FeatureTypeList&gt;
  &lt;ogc:Filter_Capabilities xmlns:ogc="http://www.opengis.net/ogc"&gt;
    &lt;ogc:Spatial_Capabilities&gt;
      &lt;ogc:Spatial_Operators&gt;
        &lt;ogc:BBOX/&gt;
        &lt;ogc:Equals/&gt;
        &lt;ogc:Disjoint/&gt;
        &lt;ogc:Intersect/&gt;
        &lt;ogc:Touches/&gt;
        &lt;ogc:Crosses/&gt;
        &lt;ogc:Within/&gt;
        &lt;ogc:Contains/&gt;
        &lt;ogc:Overlaps/&gt;
        &lt;ogc:Beyond/&gt;
        &lt;ogc:DWithin/&gt;
      &lt;/ogc:Spatial_Operators&gt;
    &lt;/ogc:Spatial_Capabilities&gt;
    &lt;ogc:Scalar_Capabilities&gt;
      &lt;ogc:Logical_Operators/&gt;
      &lt;ogc:Comparison_Operators&gt;
        &lt;ogc:Simple_Comparisons/&gt;
        &lt;ogc:Like/&gt;
        &lt;ogc:Between/&gt;
        &lt;ogc:NullCheck/&gt;
      &lt;/ogc:Comparison_Operators&gt;
      &lt;ogc:Arithmetic_Operators&gt;
        &lt;ogc:Simple_Arithmetic/&gt;
      &lt;/ogc:Arithmetic_Operators&gt;
    &lt;/ogc:Scalar_Capabilities&gt;
  &lt;/ogc:Filter_Capabilities&gt;
&lt;/WFS_Capabilities&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHDIBFI">Example 15-3</a> is a request to describe the feature type named <code>COLA</code>.</p>
<div id="SPATL929" class="example">
<p class="titleinexample"><a id="CIHDIBFI"></a>Example 15-3 DescribeFeatureType Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;wfs:DescribeFeatureType
   service="WFS"
   version="1.0.0"
   xmlns:wfs="http://www.opengis.net/wfs"
   xmlns:myns="http://www.example.com/myns"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
   xsi:schemaLocation="http://www.opengis.net/wfs ../wfs/1.0.0/WFS-basic.xsd"&gt;
   &lt;wfs:TypeName&gt;myns:COLA&lt;/wfs:TypeName&gt;
&lt;/wfs:DescribeFeatureType&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHDGECE">Example 15-4</a> is the response from the request in <a href="#CIHDIBFI">Example 15-3</a>. The response is an XML schema definition (XSD).</p>
<div id="SPATL930" class="example">
<p class="titleinexample"><a id="CIHDGECE"></a>Example 15-4 DescribeFeatureType Response</p>
<pre>
&lt;xsd:schema targetNamespace="http://www.example.com/myns" xmlns:wfs="http://www.opengis.net/wfs" xmlns:myns="http://www.example.com/myns" xmlns:gml="http://www.opengis.net/gml" elementFormDefault="qualified" version="1.0.0" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
   &lt;xsd:import namespace="http://www.opengis.net/gml" schemaLocation="http://localhost:8888/examples/servlets/xsds/feature.xsd"/&gt;
   &lt;xsd:element name="COLA" type="myns:COLAType" substitutionGroup="gml:_Feature"/&gt;
   &lt;xsd:complexType name="COLAType"&gt;
      &lt;xsd:complexContent&gt;
         &lt;xsd:extension base="gml:AbstractFeatureType"&gt;
            &lt;xsd:sequence&gt;
               &lt;xsd:element name="MKT_ID" type="xsd:double"/&gt;
               &lt;xsd:element name="NAME" nillable="true"&gt;
                  &lt;xsd:simpleType&gt;
                     &lt;xsd:restriction base="xsd:string"&gt;
                        &lt;xsd:maxLength value="32"/&gt;
                     &lt;/xsd:restriction&gt;
                  &lt;/xsd:simpleType&gt;
               &lt;/xsd:element&gt;
               &lt;xsd:element name="SHAPE" type="gml:PolygonMemberType" nillable="true"/&gt;
            &lt;/xsd:sequence&gt;
            &lt;xsd:attribute name="fid" type="xsd:double"/&gt;
         &lt;/xsd:extension&gt;
      &lt;/xsd:complexContent&gt;
   &lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHFIDEC">Example 15-5</a> is a request to get the MKT_ID, NAME, and SHAPE properties of the feature or features of type COLA where the MKT_ID value is greater than 2 and the NAME value is equal to <code>cola_c</code>, or where the MKT_ID value is greater than 3 and the NAME value is equal to <code>cola_d</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For GetFeature and GetFeatureWithLock, the <code>&lt;Query&gt;</code> and <code>&lt;PropertyName&gt;</code> elements, which list the property names to be selected, can be any top-level element of the queried feature type, in which case its entire content (which may be nested) is returned in the query response. XPaths of arbitrary depth are not supported in <code>&lt;PropertyName&gt;</code> elements directly under the <code>&lt;Query&gt;</code> element; however, they are supported in <code>&lt;PropertyName&gt;</code> elements in a <code>&lt;Filter&gt;</code> element under the <code>&lt;Query&gt;</code> element, as shown in <a href="#CIHFIDEC">Example 15-5</a> and <a href="#CIHGGCHI">Example 15-7</a>.</div>
<div id="SPATL931" class="example">
<p class="titleinexample"><a id="CIHFIDEC"></a>Example 15-5 GetFeature Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;wfs:GetFeature
   service="WFS"
   version="1.0.0"
   xmlns:wfs="http://www.opengis.net/wfs"
   xmlns:ogc="http://www.opengis.net/ogc"
   xmlns:myns="http://www.example.com/myns"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.opengis.net/wfs ../wfs/1.0.0/WFS-basic.xsd"&gt;
   &lt;wfs:Query typeName="myns:COLA"&gt;
      &lt;ogc:PropertyName&gt;myns:MKT_ID&lt;/ogc:PropertyName&gt;
      &lt;ogc:PropertyName&gt;myns:NAME&lt;/ogc:PropertyName&gt;
      &lt;ogc:PropertyName&gt;myns:SHAPE&lt;/ogc:PropertyName&gt;
      &lt;ogc:Filter&gt;
          &lt;ogc:And&gt;
            &lt;ogc:And&gt;
                &lt;ogc:PropertyIsGreaterThan&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt; 2 &lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsGreaterThan&gt;
                &lt;ogc:PropertyIsEqualTo&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:NAME&lt;/ogc:PropertyName&gt;
                &lt;ogc:Literal&gt;cola_c&lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsEqualTo&gt;
            &lt;/ogc:And&gt;
            &lt;ogc:Or&gt;
                &lt;ogc:PropertyIsEqualTo&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt;3&lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsEqualTo&gt;
                &lt;ogc:PropertyIsEqualTo&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:NAME&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt;cola_d&lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsEqualTo&gt;
            &lt;/ogc:Or&gt;
          &lt;/ogc:And&gt;
      &lt;/ogc:Filter&gt;
   &lt;/wfs:Query&gt;
&lt;/wfs:GetFeature&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHBFFBH">Example 15-6</a> is the response from the request in <a href="#CIHFIDEC">Example 15-5</a>.</p>
<div id="SPATL932" class="example">
<p class="titleinexample"><a id="CIHBFFBH"></a>Example 15-6 GetFeature Response</p>
<pre>
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;wfs:FeatureCollection xsi:schemaLocation="http://www.example.com/myns http://localhost:8888/wfsservlet?featureTypeId=1 http://www.opengis.net/wfs ../wfs/1.0.0/WFS-basic.xsd" xmlns:wfs="http://www.opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;gml:boundedBy xmlns:gml="http://www.opengis.net/gml"&gt;
      &lt;gml:Box srsName="SDO:8307"&gt;
         &lt;gml:coordinates&gt;3.0,3.0 6.0,5.0&lt;/gml:coordinates&gt;
      &lt;/gml:Box&gt;
   &lt;/gml:boundedBy&gt;
   &lt;gml:featureMember xmlns:gml="http://www.opengis.net/gml"&gt;
      &lt;myns:COLA fid="3" xmlns:myns="http://www.example.com/myns"&gt;
         &lt;myns:MKT_ID&gt;3&lt;/myns:MKT_ID&gt;
         &lt;myns:NAME&gt;cola_c&lt;/myns:NAME&gt;
         &lt;myns:SHAPE&gt;
            &lt;gml:Polygon srsName="SDO:8307" xmlns:gml="http://www.opengis.net/gml"&gt;
               &lt;gml:outerBoundaryIs&gt;
                  &lt;gml:LinearRing&gt;
                     &lt;gml:coordinates decimal="." cs="," ts=" "&gt;3.0,3.0 6.0,3.0
6.0,5.0 4.0,5.0 3.0,3.0 &lt;/gml:coordinates&gt;
                  &lt;/gml:LinearRing&gt;
               &lt;/gml:outerBoundaryIs&gt;
            &lt;/gml:Polygon&gt;
         &lt;/myns:SHAPE&gt;
      &lt;/myns:COLA&gt;
   &lt;/gml:featureMember&gt;
&lt;/wfs:FeatureCollection&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHGGCHI">Example 15-7</a> is a request to get the MKT_ID, NAME, and SHAPE properties of the feature of type COLA where the MKT_ID value is greater than 2 and the NAME value is equal to <code>cola_c</code>, or where the MKT_ID value is equal to 3, and to lock that feature.</p>
<div id="SPATL933" class="example">
<p class="titleinexample"><a id="CIHGGCHI"></a>Example 15-7 GetFeatureWithLock Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;wfs:GetFeatureWithLock
   service="WFS"
   version="1.0.0"
   expiry="5"
   xmlns:wfs="http://www.opengis.net/wfs"
   xmlns:ogc="http://www.opengis.net/ogc"
   xmlns:gml="http://www.opengis.net/gml"
   xmlns:myns="http://www.example.com/myns"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;
   &lt;wfs:Query typeName="myns:COLA"&gt;
      &lt;ogc:PropertyName&gt;myns:MKT_ID&lt;/ogc:PropertyName&gt;
      &lt;ogc:PropertyName&gt;myns:NAME&lt;/ogc:PropertyName&gt;
      &lt;ogc:PropertyName&gt;myns:SHAPE&lt;/ogc:PropertyName&gt;
      &lt;ogc:Filter&gt;
         &lt;ogc:PropertyIsEqualTo&gt;
            &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
            &lt;ogc:Literal&gt; 3 &lt;/ogc:Literal&gt;
         &lt;/ogc:PropertyIsEqualTo&gt;
      &lt;/ogc:Filter&gt;
   &lt;/wfs:Query&gt;
&lt;/wfs:GetFeatureWithLock&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHJIGAG">Example 15-8</a> is the response from the request in <a href="#CIHGGCHI">Example 15-7</a>.</p>
<div id="SPATL934" class="example">
<p class="titleinexample"><a id="CIHJIGAG"></a>Example 15-8 GetFeatureWithLock Response</p>
<pre>
&lt;wfs:FeatureCollection xmlns:wfs="http://www.opengis.net/wfs" lockId="1" xsi:schemaLocation="http://www.example.com/myns http://localhost:8888/SpatialWS-SpatialWS-context-root/wfsservlet?featureTypeId=1 " xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;gml:boundedBy xmlns:gml="http://www.opengis.net/gml"&gt;
      &lt;gml:Box srsName="SDO:8307"&gt;
         &lt;gml:coordinates&gt;3.0,3.0 6.0,5.0&lt;/gml:coordinates&gt;
      &lt;/gml:Box&gt;
   &lt;/gml:boundedBy&gt;
   &lt;gml:featureMember xmlns:gml="http://www.opengis.net/gml"&gt;
      &lt;myns:COLA xmlns:myns="http://www.example.com/myns" fid="3"&gt;
         &lt;myns:MKT_ID&gt;3&lt;/myns:MKT_ID&gt;
         &lt;myns:NAME&gt;cola_c&lt;/myns:NAME&gt;
         &lt;myns:SHAPE&gt;
            &lt;gml:Polygon srsName="SDO:8307"&gt;
               &lt;gml:outerBoundaryIs&gt;
                  &lt;gml:LinearRing&gt;
                     &lt;gml:coordinates decimal="." cs="," ts=" "&gt;3.0,3.0 6.0,3.0 6.0,5.0 4.0,5.0 3.0,3.0 &lt;/gml:coordinates&gt;
                  &lt;/gml:LinearRing&gt;
               &lt;/gml:outerBoundaryIs&gt;
            &lt;/gml:Polygon&gt;
         &lt;/myns:SHAPE&gt;
      &lt;/myns:COLA&gt;
   &lt;/gml:featureMember&gt;
&lt;/wfs:FeatureCollection&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHBCBCD">Example 15-9</a> is a request to lock the feature where the MKT_ID value is equal to 2.</p>
<div id="SPATL935" class="example">
<p class="titleinexample"><a id="CIHBCBCD"></a>Example 15-9 LockFeature Request</p>
<pre>
&lt;?xml version="1.0" ?&gt;
&lt;wfs:LockFeature
   service="WFS"
   version="1.0.0"
   expiry="5"
   xmlns:wfs="http://www.opengis.net/wfs"
   xmlns:ogc="http://www.opengis.net/ogc"
   xmlns:gml="http://www.opengis.net/gml"
   xmlns:myns="http://www.example.com/myns"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;
   &lt;wfs:Lock typeName="myns:COLA"&gt;
      &lt;ogc:Filter&gt;
           &lt;ogc:PropertyIsEqualTo&gt;
              &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
              &lt;ogc:Literal&gt; 2 &lt;/ogc:Literal&gt;
           &lt;/ogc:PropertyIsEqualTo&gt;
      &lt;/ogc:Filter&gt;
   &lt;/wfs:Lock&gt;
&lt;/wfs:LockFeature&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHEHJGA">Example 15-10</a> is the response from the request in <a href="#CIHBCBCD">Example 15-9</a>.</p>
<div id="SPATL936" class="example">
<p class="titleinexample"><a id="CIHEHJGA"></a>Example 15-10 LockFeature Response</p>
<pre>
&lt;wfs:WFS_LockFeatureResponse xmlns:wfs="http://www.opengis.net/wfs"&gt;
   &lt;wfs:LockId&gt;2&lt;/wfs:LockId&gt;
&lt;/wfs:WFS_LockFeatureResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHDCIGC">Example 15-11</a> is a request to insert a feature, with MKT_ID = 5 and NAME = <code>cola_e</code>, into the table associated with the WFS service named <code>WFS</code>.</p>
<div id="SPATL937" class="example">
<p class="titleinexample"><a id="CIHDCIGC"></a>Example 15-11 Insert Request</p>
<pre>
&lt;?xml version="1.0"?&gt;
&lt;wfs:Transaction version="1.0.0" handle="TX01" service="WFS" xmlns="http://www.e
xample.com/myns" xmlns:myns="http://www.example.com/myns" xmlns:gml="http://ww
w.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wfs="http://www.
opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;
&lt;wfs:Insert handle="INSERT01" &gt;
&lt;myns:COLA fid="5" xmlns:myns="http://www.example.com/myns"&gt;
         &lt;myns:MKT_ID&gt;5&lt;/myns:MKT_ID&gt;
         &lt;myns:NAME&gt;cola_e&lt;/myns:NAME&gt;
         &lt;myns:SHAPE&gt;
            &lt;gml:Polygon srsName="SDO:8307" xmlns:gml="http://www.opengis.net/gml"&gt;
               &lt;gml:outerBoundaryIs&gt;
                  &lt;gml:LinearRing&gt;
                     &lt;gml:coordinates decimal="." cs="," ts=" "&gt;1.0,3.0 6.0,3.0 6.0,5.0 4.0,5.0 1.0,3.0 &lt;/gml:coordinates&gt;
                  &lt;/gml:LinearRing&gt;
               &lt;/gml:outerBoundaryIs&gt;
            &lt;/gml:Polygon&gt;
         &lt;/myns:SHAPE&gt;
      &lt;/myns:COLA&gt;
&lt;/wfs:Insert&gt;
&lt;/wfs:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHJBFGJ">Example 15-12</a> is the response from the request in <a href="#CIHDCIGC">Example 15-11</a>.</p>
<div id="SPATL938" class="example">
<p class="titleinexample"><a id="CIHJBFGJ"></a>Example 15-12 Insert Response</p>
<pre>
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;wfs:WFS_TransactionResponse version="1.0.0" xmlns:wfs="http://www.opengis.net/wfs"&gt;
   &lt;wfs:InsertResult handle="INSERT01"&gt;
      &lt;ogc:FeatureId fid="5" xmlns:ogc="http://www.opengis.net/ogc"/&gt;
   &lt;/wfs:InsertResult&gt;
   &lt;wfs:TransactionResult handle="TX01"&gt;
      &lt;wfs:Status&gt;
         &lt;wfs:SUCCESS/&gt;
      &lt;/wfs:Status&gt;
   &lt;/wfs:TransactionResult&gt;
&lt;/wfs:WFS_TransactionResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHBCFHB">Example 15-13</a> is a request to update the feature, where MKT_ID is greater than 2 and less than 4 and where NAME is not null, in the table associated with the WFS service named <code>WFS</code>. This request specifies that the NAME value of the specified feature is to be set to <code>cola_cl</code>.</p>
<div id="SPATL939" class="example">
<p class="titleinexample"><a id="CIHBCFHB"></a>Example 15-13 Update Request</p>
<pre>
&lt;?xml version="1.0"?&gt;
&lt;wfs:Transaction version="1.0.0" handle="TX01" service="WFS" xmlns="http://www.example.com/myns"
xmlns:myns="http://www.example.com/myns" xmlns:gml="http://www.opengis.net/gml"
xmlns:ogc="http://www.opengis.net/ogc" xmlns:wfs="http://www.
opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;
&lt;wfs:Update handle="UPDATE1" typeName="myns:COLA" &gt;
&lt;wfs:Property&gt;
        &lt;wfs:Name&gt;myns:COLA/myns:NAME&lt;/wfs:Name&gt;
        &lt;wfs:Value&gt;cola_c1&lt;/wfs:Value&gt;
&lt;/wfs:Property&gt;
&lt;ogc:Filter&gt;
          &lt;ogc:And&gt;
            &lt;ogc:And&gt;
                &lt;ogc:PropertyIsGreaterThan&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt; 2 &lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsGreaterThan&gt;
                &lt;ogc:PropertyIsLessThan&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt; 4 &lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsLessThan&gt;
            &lt;/ogc:And&gt;
            &lt;ogc:Not&gt;
                &lt;ogc:PropertyIsNull&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:NAME&lt;/ogc:PropertyName&gt;
                &lt;/ogc:PropertyIsNull&gt;
            &lt;/ogc:Not&gt;
          &lt;/ogc:And&gt;
&lt;/ogc:Filter&gt;
&lt;/wfs:Update&gt;
&lt;/wfs:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHCFDBJ">Example 15-14</a> is the response from the request in <a href="#CIHBCFHB">Example 15-13</a>.</p>
<div id="SPATL940" class="example">
<p class="titleinexample"><a id="CIHCFDBJ"></a>Example 15-14 Update Response</p>
<pre>
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;wfs:WFS_TransactionResponse version="1.0.0" xmlns:wfs="http://www.opengis.net/wfs"&gt;
   &lt;wfs:TransactionResult handle="TX01"&gt;
      &lt;wfs:Status&gt;
         &lt;wfs:SUCCESS/&gt;
      &lt;/wfs:Status&gt;
   &lt;/wfs:TransactionResult&gt;
&lt;/wfs:WFS_TransactionResponse&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHGDEIG">Example 15-15</a> is a request to delete the feature, where MKT_ID is greater than 3 and NAME is equal to <code>cola_e</code> and is not null, in the table associated with the WFS service named <code>WFS</code>.</p>
<div id="SPATL941" class="example">
<p class="titleinexample"><a id="CIHGDEIG"></a>Example 15-15 Delete Request</p>
<pre>
&lt;?xml version="1.0"?&gt;
&lt;wfs:Transaction version="1.0.0" handle="TX01" service="WFS" xmlns="http://www.example.com/myns" 
xmlns:myns="http://www.example.com/myns" xmlns:gml="http://www.opengis.net/gml" 
xmlns:ogc="http://www.opengis.net/ogc" xmlns:wfs="http://www.
opengis.net/wfs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" &gt;
&lt;wfs:Delete handle="DELETE1" typeName="myns:COLA" &gt;
&lt;ogc:Filter&gt;
          &lt;ogc:And&gt;
            &lt;ogc:And&gt;
                &lt;ogc:PropertyIsGreaterThan&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:MKT_ID&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt; 3 &lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsGreaterThan&gt;
                &lt;ogc:PropertyIsEqualTo&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:NAME&lt;/ogc:PropertyName&gt;
                        &lt;ogc:Literal&gt; cola_e &lt;/ogc:Literal&gt;
                &lt;/ogc:PropertyIsEqualTo&gt;
            &lt;/ogc:And&gt;
            &lt;ogc:Not&gt;
                &lt;ogc:PropertyIsNull&gt;
                        &lt;ogc:PropertyName&gt;myns:COLA/myns:NAME&lt;/ogc:PropertyName&gt;
                &lt;/ogc:PropertyIsNull&gt;
            &lt;/ogc:Not&gt;
          &lt;/ogc:And&gt;
&lt;/ogc:Filter&gt;
&lt;/wfs:Delete&gt;
&lt;/wfs:Transaction&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHIJJCE">Example 15-16</a> is the response from the request in <a href="#CIHGDEIG">Example 15-15</a>.</p>
<div id="SPATL942" class="example">
<p class="titleinexample"><a id="CIHIJJCE"></a>Example 15-16 Delete Response</p>
<pre>
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;wfs:WFS_TransactionResponse version="1.0.0" xmlns:wfs="http://www.opengis.net/wfs"&gt;
   &lt;wfs:TransactionResult handle="TX01"&gt;
      &lt;wfs:Status&gt;
         &lt;wfs:SUCCESS/&gt;
      &lt;/wfs:Status&gt;
   &lt;/wfs:TransactionResult&gt;
&lt;/wfs:WFS_TransactionResponse&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="CIHHACID"></a>
<div id="SPATL943" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">15.4</span> <a id="sthref893"></a><a id="sthref894"></a><a id="sthref895"></a>Java API for WFS Administration</h2>
<p>In addition to the PL/SQL APIs in the SDO_WFS_PROCESS and SDO_WFS_LOCK packages, you can use a Java API to publish and drop feature types, and to grant and revoke access to feature types and WFS metadata tables.</p>
<p>This section provides basic reference information about the methods in the <code>oracle.spatial.wfs.WFSAdmin</code> class. The methods are presented in alphabetical order.</p>
<a id="CIHDECAA"></a>
<div id="SPATL944" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.4.1</span> <a id="sthref896"></a><a id="sthref897"></a>createXMLTableIndex method</h3>
<p>The <code>createXMLTableIndex</code> method creates an index of XDB.XMLINDEX on document-based feature type instances. This method has the following format:</p>
<pre>
public static void createXMLTableIndex(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL945" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref898"></a>
<h3 class="sect2"><span class="secnum">15.4.2</span> <a id="sthref899"></a><a id="sthref900"></a>dropFeatureType method</h3>
<p>The <code>dropFeatureType</code> method deletes a feature type from the WFS repository. This method has the following format:</p>
<pre>
public static void dropFeatureType(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
<!-- class="sect2" -->
<a id="CIHFIFCE"></a>
<div id="SPATL946" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.4.3</span> <a id="sthref901"></a><a id="sthref902"></a>dropXMLTableIndex method</h3>
<p>The <code>dropXMLTableIndex</code> method drops an index of type XDB.XMLINDEX that was created on document-based feature type instances. This method has the following format:</p>
<pre>
public static void dropXMLTableIndex(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
<!-- class="sect2" -->
<a id="CIHGADJE"></a>
<div id="SPATL947" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.4.4</span> <a id="sthref903"></a><a id="sthref904"></a>getIsXMLTableIndexCreated method</h3>
<p>The <code>getIsXMLTableIndexCreated</code> method returns a Boolean <code>TRUE</code> if an index of type XDB.XMLINDEX has been created on a document-based feature type, or a Boolean <code>FALSE</code> if such an index has not been created. This method has the following format:</p>
<pre>
public static boolean getIsXMLTableIndexCreated(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL948" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref905"></a>
<h3 class="sect2"><span class="secnum">15.4.5</span> <a id="sthref906"></a><a id="sthref907"></a>grantFeatureTypeToUser method</h3>
<p>The <code>grantFeatureTypeToUser</code> method grants access to a feature type to a database user. This method has the following format:</p>
<pre>
public static void grantFeatureTypeToUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the feature type.</p>
<p><code>typeName</code> is the name of the feature type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL949" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref908"></a>
<h3 class="sect2"><span class="secnum">15.4.6</span> <a id="sthref909"></a>grantMDAccessToUser method</h3>
<p>The <code>grantMDAccessToUser</code> method grants access to the WFS metadata to a database user. This method has the following format:</p>
<pre>
public static void grantMDAccessToUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<a id="CIHDDEHH"></a>
<div id="SPATL950" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.4.7</span> <a id="sthref910"></a><a id="sthref911"></a>publishFeatureType method</h3>
<p>The <code>publishFeatureType</code> method publishes a document-based feature type; that is, it registers metadata related to the feature type. This method has the following formats:</p>
<pre>
public static void publishFeatureType(OracleConnection conn, 
     XMLType featureTypeMD) throws SQLException , WFSException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths,   
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn,
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths,
     String primarySpatialPath,
     String featureMemberNS,
     String featureMemberName,
     String ftNSUrl, 
     String ftName,
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths,
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, 
     String srsNSAlias,
     String ftXSDRefId,
     boolean genSpatialIndex,
     boolean lockEnable) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3, 
     CollectionPathInfo collPathInfo) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3, 
     CollectionPathInfo collPathInfo, 
     boolean hasMultipleSRSNS) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>featureTypeMD</code> is the feature type path registration metadata. This metadata must conform to the <code>featureTypeMd</code> element definition as specified in the <code>wstype_md.xsd</code> file. An example of feature type path registration metadata XML is provided in <code>ft_metadata.xml</code>. These files are included in the <code>ws_client.jar</code> demo file (described in <a href="sdo_webserv_intro.htm#BABIBDBI">Section 10.4</a>) under the <code>src/data/</code> path. For information about using the example to publish a feature type, see the <code>Readme.txt</code> file, which is included in <code>ws_client.jar</code> under the <code>src/</code> path.</p>
<p><code>schemaDocXt</code> is the XML schema definition (XSD) of the feature type.</p>
<p><code>featureDescXt</code> is the XML schema definition (XSD) of the feature type description, to be included in the <code>Capabilities</code> document.</p>
<p><code>docIdPaths</code> is a list of document ID path elements where each element is a String.</p>
<p><code>primarySpatialPath</code> is the primary spatial path that will be used to compute the bounding box in the result.</p>
<p><code>featureMemberNS</code> is the namespace of the feature member.</p>
<p><code>featureMemberName</code> is the name of the feature member.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
<p><code>spatialPaths</code> is a list of spatial paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>mandatoryPaths</code> is a list of mandatory paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>tsPaths</code> is a list of time-related paths in the feature type (for example, <code>date</code>, <code>dateTime</code>, <code>gYear</code>, <code>gMonth</code>, <code>gDay</code>, <code>gMonthDay</code>, and <code>gYearMonth</code>). It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>sdoMetaInfo</code> is the spatial metadata information for spatial paths. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.GeomMetaInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>srsNS</code> is the user-defined namespace of the spatial reference system (coordinate system) associated with the data in the spatial paths. This namespace (if specified) is also used to generate the <code>srsName</code> attribute in the <code>&lt;boundedBy&gt;</code> element of the FeatureCollection result generated for the GetFeature request.</p>
<p><code>srsNSAlias</code> is the namespace alias of the spatial reference system (coordinate system) associated with the data in the spatial paths.</p>
<p><code>ftXSDRefId</code> is the group feature type XML schema definition file name (as a string), for cases where multiple feature types are defined in a single XSD file. This parameter is used to store the group XSD definition once in the WFS metadata, and then refer to it from multiple feature types whose schema definitions are present in the group feature type XSD file.</p>
<p><code>genSpatialIndex</code> is a Boolean value: <code>TRUE</code> causes a spatial index to be created on the feature type at type creation time; <code>FALSE</code> does not cause a spatial index to be created.</p>
<p><code>lockEnable</code> is a Boolean value: <code>TRUE</code> causes the feature type table (the underlying system-generated table where instances of this feature type are stored) to be lock-enabled at type creation time; <code>FALSE</code> does not cause the feature type table to be lock-enabled. If <code>lockEnable</code> is <code>TRUE</code>, this will WFS-transaction lock enable the WFS data table for the feature type. (This data table is automatically generated when the feature type is published.)</p>
<p><code>numPaths</code> is a list of numeric (NUMBER, INTEGER, and so on) related paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XDB.XMLINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>WFSAdmin.BTREE</code>, <code>WFSAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the document-based feature type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the document-based feature type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="#CIHDECAA">Section 15.4.1</a>).</p>
<p><code>featureCollectionNS</code> is the namespace of the feature collection.</p>
<p><code>featureCollectionName</code> is the name of the feature collection.</p>
<p><code>isGML3</code> is a Boolean value: <code>TRUE</code> means that the geometries inside instances of this feature type are GML3.1.1 compliant; <code>FALSE</code> means that the geometries inside instances of this feature type are GML 2.1.2 compliant.</p>
<p><code>collPathInfo</code> is spatial collection path information.</p>
<p><code>hasMultipleSRSNS</code> is a Boolean value: <code>TRUE</code> means that this feature type refers to multiple user-defined spatial reference system namespaces; <code>FALSE</code> means that this feature type does not refer to multiple user-defined spatial reference system namespaces.</p>
<a id="CIHIGJIA"></a>
<div id="SPATL951" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">15.4.7.1</span> Related Classes for publishFeatureType</h4>
<p>This section describes some classes used in the definition of parameters of the <a href="#CIHDDEHH">publishFeatureType method</a>.</p>
<p><code>oracle.spatial.ws.PathElement</code> is a Java class that contains a pair of String objects: the <code>PathElement</code> namespace am the <code>PathElement</code> name. This class includes the <code>getValue()</code> method, which returns a string format of the <code>PathElement</code> object. This class has the following format:</p>
<pre>
public class PathElement {
// Set namespace and name information for a PathElement.
        public void set(String ns, String name);
 //Get a string value for the PathElement object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.Path</code> is a Java class that contains an ordered list of <code>PathElement</code> objects that constitute the path. For example, if an XPath is <code>myns:A/myns:B</code>, then <code>myns:A</code> and <code>myns:B</code> are <code>PathElement</code> objects. This class includes the <code>getValue()</code> method, which returns a string format of the <code>Path</code> object. This class has the following format:</p>
<pre>
public class Path {
//Add a PathElement.
        public void add(PathElement p) ;
//Get a string Value for the Path object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.PathInfo</code> is a container class that contains information about a path or list of paths, including their association and metadata information. This class has the following format:</p>
<pre>
public class PathInfo {
 
 // Set number of occurrences for the Path. Default value is 1. Number of 
 // occurrences &gt; 1 in case of arrays.
        public void setNumOfOccurrences(int i) ;
 
 // Get number of occurrences for the Path.
        public int getNumOfOccurrences();
 
 // Add a path, in case PathInfo has multiple paths associated via a 
 // choice association
        public void addPath(Path p) ;
 
  // Add path type information. This is relevant for time-related Paths
  // (for example, date, dateTime, gDay, gMonth, gYear, gMonthDay, 
  // gYearMonth, duration, or time).
        public void addPathType(String t) ;
 
  // Add a PathInfo type. This can be PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION.
  // PathInfo.CHOICE - means that the list of paths  in this PathInfo are
  // related to each other via choice association. For example, we may have
  // a list of Spatial Paths, which are associated with one another via choice.
  // So, only one of these path can occur in a feature instance/document.
  // PathInfo.COLLECTION - means the list of paths in this PathInfo are part 
  // of a collection (currently spatial collections are 
  // supported) which will be indexed.
  // Default value is PathInfo.DEFAULT for one Path or a finite array Paths.
  //  @param t PathInfo type information. PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION
        public void addPathInfoType(int t) ;
 
 //  Returns a  string representation for PathInfo content.
        public String getPathContent() ;
 
 // Returns Path type information (for example, date, dateTime, gDay, gMonth, 
 // gYear, gMonthDay, gYearMonth, duration, or time).
        public String getPathType() ;
 
 // Returns a  string representation for PathInfo path content.
 // param i The index of the path in the PathInfo whose path content needs to
 // be returned
 // @return a  string representation for PathInfo path content
        public String getCollectionPathContent(int i);
 
 // Returns number of paths in the PathInfo. 
 // @return number of paths in the PathInfo which is of type PathInfo.COLLECTION
 // if PathInfo is not of type PathInfo.COLLECTION returns -1
        public int getCollectionPathContentSize();
}
</pre>
<p><code>oracle.spatial.ws.CollectionPathInfo</code> is a container class that contains information about a collection of PathInfo objects. Each PathInfo object in this collection, represents a group of spatial paths that will be indexed and searched on. This class will be used to register paths referring to spatial collection-based content in feature and record types. This class has the following format:</p>
<pre>
public class CollectionPathInfo {
 
  /**
   * Add a PathInfo.
   * @param p PathInfo to be added 
   * @param g geometry related metadata for PathInfo to be added 
   */
  public void addPathInfo(PathInfo p, GeomMetaInfo g) ;
 
  /**
   * Get a PathInfo.
   * @param i index of the PathInfo to be retrieved
   */
  public PathInfo getPathInfo(int i) ;
  /**
   * Get geometry related metadata for a certain PathInfo.
   * @param i index of the PathInfo whose geomMetaInfo is to be retrieved
  */
        public GeomMetaInfo getGeomMetaInfo(int i) ;
 
  /**
   * Get all PathInfo objects in this CollectionPathInfo.
   */
        public ArrayList&lt;PathInfo&gt; getPathInfos() ;
}
</pre>
<p><code>oracle.spatial.ws.GeomMetaInfo</code> is a class that contains dimension-related information corresponding to a spatial path in a feature type. This information includes the dimension name, the lower and upper bounds, the tolerance, and the coordinate system (SRID). This class has the following format:</p>
<pre>
public class GeomMetaInfo {
 
  // Default constructor. Creates a GeomMetaInfo object with number of 
  // dimensions equal to 2.
        public GeomMetaInfo() ;
 
  // Creates a GeomMetaInfo object of a specified number of dimensions.
  // Parameter numOfDimensions is the number of dimensions represented
  // in the GeomMetaInfo object.
  // Note: max number of dimensions supported is 4.
        public GeomMetaInfo(int numOfDimensions)  throws  
        ArrayIndexOutOfBoundsException ;
 
  //Set Dimension Name.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension name value.
        public void setDimName(int index, String val) throws
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Lower Bound.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension lower bound value.
        public void setLB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Upper Bound
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension upper bound value
        public void setUB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension tolerance value.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter  val is dimension tolerance value.
        public void setTolerance(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Coordinate Reference System Identifier
        public void setSRID (int val) ;
 
  // Get dimension Name.
  // Parameter index represents the dimension index whose name needs to be 
  // returned. This method returns the dimension name for the given index.
        public String getDimName(int index) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Get dimension lower bound.
  // Parameter index represents the dimension index whose lower bound needs
  //  to be returned.
  // This method returns the lower bound for the given index.
        public double getLB(int index) throws ArrayIndexOutOfBoundsException ;
 
  // Get dimension upper bound.
  // Parameter index represents the dimension index whose upper bound needs 
  // to be returned.
  // This method returns the upper bound for the given index.
        public double getUB(int index) throws ArrayIndexOutOfBoundsException ;
 
       // Get dimension tolerance.
  // Parameter index represents the dimension index whose tolerance needs 
  // to be returned.
  // This method returns the tolerance value for the given index.
        public double getTolerance(int index) throws
        ArrayIndexOutOfBoundsException ;
 
  // Get coordinate system (spatial reference system) identifier.
        public int getSRID () ;
 
  // Get number of dimensions represented by this GeomMetaInfo object.
        public int getNumOfDimensions() ;
 
  // Sets the spatial index dimension parameter. By default it is 2.
  // return  Coordinate Reference System Identifier value
        public int setSpatialIndexDimension(int d) ;
 
  // Get the spatial index dimension parameter.
  // return  number of dimensions
        public int getSpatialIndexDimension() ;
 
  // Sets the user spatial srs namespace refered by this GeomMetaInfo object. 
  // Needs to be specified if multiple srs namespace are refered within the same 
  //feature or record type.
        public void setSRSNS(String s) ;
 
  // Gets the user defined spatial srs namespace refered by this 
  // GeomMetaInfo object.
        public String getSRSNS() ;
 
  // Sets the user defined spatial srs namespace alias refered by this 
  // GeomMetaInfo object. 
        public void setSRSNSAlias (String s) ;
 
  // Gets the user defined spatial srs namespace  alias refered by this 
  // GeomMetaInfo object.
        public String getSRSNSAlias () ;
}
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="SPATL952" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref912"></a>
<h3 class="sect2"><span class="secnum">15.4.8</span> <a id="sthref913"></a><a id="sthref914"></a>revokeFeatureTypeFromUser method</h3>
<p>The <code>revokeFeatureTypeFromUser</code> method revokes access to a feature type from a database user. This method has the following format:</p>
<pre>
public static void revokeFeatureTypeFromUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the feature type.</p>
<p><code>typeName</code> is the name of the feature type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<div id="SPATL953" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref915"></a>
<h3 class="sect2"><span class="secnum">15.4.9</span> <a id="sthref916"></a>revokeMDAccessFromUser method</h3>
<p>The <code>revokeMDAccessFromUser</code> method revokes access to the WFS metadata from a database user. This method has the following format:</p>
<pre>
public static void revokeMDAccessFromUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
<!-- class="sect2" -->
<a id="CIHHEFAA"></a>
<div id="SPATL954" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.4.10</span> <a id="sthref917"></a><a id="sthref918"></a>setXMLTableIndexInfo method</h3>
<p>The <code>setXMLTableIndexInfo</code> method updates the XMLTableIndex index information for a document-based feature type, with the option of creating the index. This method has the following format:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the XMLTableIndex index already exists, you must drop it (using the <a href="#CIHFIFCE">dropXMLTableIndex method</a>) before you call the <code>setXMLTableIndexInfo</code> method.</div>
<pre>
public static void setXMLTableIndexInfo(OracleConnection conn,
   String ftNSUrl,
   String ftName,
   ArrayList&lt;PathInfo&gt; idxPaths,
   ArrayList&lt;String[]&gt; idxPathTypes,
   boolean genXMLIndex) throws SQLException , WFSException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XDB.XMLINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="#CIHIGJIA">Section 15.4.7.1</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>WFSAdmin.BTREE</code>, <code>WFSAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the document-based feature type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the document-based feature type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="#CIHDECAA">Section 15.4.1</a>).</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHBHAFE"></a>
<div id="SPATL1416" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">15.5</span> <a id="sthref919"></a><a id="sthref920"></a><a id="sthref921"></a>Using WFS with Oracle Workspace Manager</h2>
<p>You can use Oracle Workspace Manager to version-enable a WFS table with relational features. To do so, first register the WFS table using the <a href="sdo_wfs_lock_ref.htm#CHEGIHFI">SDO_WFS_LOCK.RegisterFeatureTable</a> procedure; then execute the DBMS_WM.EnableVersioning procedure. (For information about Workspace Manager, including reference documentation for the DBMS_WM PL/SQL package, see <a class="olink ADWSM" href="../e11826/toc.htm"><span class="italic">Oracle Database Workspace Manager Developer's Guide</span></a>.)</p>
<p>You can create workspaces and perform transactional WFS changes to these workspaces by using the WFS-T (Web Feature Services transaction) interfaces. However, to use interfaces other than WFS-T, you must use a SQL*Plus session for which database transactions are enabled on the WFS tables. These database transactions include the following:</p>
<ul>
<li>
<p>Update and delete operations on WFS tables</p>
</li>
<li>
<p>Workspace maintenance operations, such as refreshing a workspace or merging workspaces</p>
</li>
</ul>
<p>To enable database transactions on the WFS tables, call the <a href="sdo_wfs_lock_ref.htm#CHEBJFEI">SDO_WFS_LOCK.EnableDBTxns</a> procedure (documented in <a href="sdo_wfs_lock_ref.htm#CHEECIAH">Chapter 33</a>). After you execute this procedure, database transactions are permitted on the WFS tables and WFS-T semantics are maintained for WFS transactions, until the end of the session.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment733">
<tr>
<td class="cellalignment742">
<table class="cellalignment738">
<tr>
<td class="cellalignment737"><a href="sdo_openls.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment737"><a href="sdo_csw.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment744">
<table class="cellalignment736">
<tr>
<td class="cellalignment737"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment737"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment737"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment737"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment737"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment737"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
