<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SDO_TOPO_MAP Package Subprograms</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="description" content="Provides usage and reference information about the Topology Data Model and Network Data Model Graph features of Oracle Spatial and Graph." />
<meta name="dcterms.created" content="2014-07-09T11:54:30Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Spatial Topology and Network Data Models Developer's Guide" />
<meta name="dcterms.identifier" content="E11831-07" />
<meta name="dcterms.isVersionOf" content="TOPOL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="sdo_topo_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sdo_prtnet.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11831.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/17</span> <!-- End Header -->
<div id="TOPOL250" class="chapter"><a id="CACDEDEE"></a>
<h1 class="chapter"><span class="secnum">4</span> SDO_TOPO_MAP Package Subprograms</h1>
<p><a id="sthref256"></a><a id="sthref257"></a>The MDSYS.SDO_TOPO_MAP package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial topology data model. This package contains subprograms related to editing topologies. These subprograms use a TopoMap object, either one that you previously created or that Spatial creates implicitly.</p>
<p>To use the subprograms in this chapter, you must understand the conceptual information about topology in <a href="sdo_topo_concepts.htm#BABDHJAF">Chapter 1</a>, as well as the information about editing topologies in <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>The rest of this chapter provides reference information about the SDO_TOPO_MAP subprograms, listed in alphabetical order.</p>
<div class="refentry"><a id="CACIIACB"></a>
<div id="TOPOL835" class="refsect1">
<h2 class="refsect1"><a id="sthref258"></a><a id="sthref259"></a><a id="sthref260"></a>SDO_TOPO_MAP.ADD_EDGE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref261"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id1 IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id2 IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref262"></a>Description</p>
<p>Adds an edge to a topology, and returns the edge ID of the added edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref263"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the edge, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>node_id1</dt>
<dd>
<p>Node ID of the start node for the edge to be added.</p>
</dd>
<dt>node_id2</dt>
<dd>
<p>Node ID of the end node for the edge to be added.</p>
</dd>
<dt>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line or contiguous line string geometry) representing the edge to be added.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref264"></a>Usage Notes</p>
<p>Spatial automatically assigns an edge ID to the added edge. If <code>topology</code> is not null, the appropriate entry is inserted in the &lt;topology-name&gt;_EDGE$ table; and if the addition of the edge affects the face information table, the appropriate entries in the &lt;topology-name&gt;_FACE$ table are updated. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If <code>node_id1</code> and <code>node_id2</code> are the same value, a loop edge is created.</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addEdge</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref265"></a>Examples</p>
<p>The following example adds an edge connecting node N3 to node N4 in the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.ADD_EDGE(null, 3, 4,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(25,35, 20,37)))
  INTO :res_number;
 
Call completed.
 
SQL&gt; PRINT res_number;
 
RES_NUMBER                                                                      
----------                                                                      
        29 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJIJCF"></a>
<div id="TOPOL836" class="refsect1">
<h2 class="refsect1"><a id="sthref266"></a><a id="sthref267"></a><a id="sthref268"></a><a id="sthref269"></a>SDO_TOPO_MAP.ADD_ISOLATED_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref270"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref271"></a>Description</p>
<p>Adds an isolated node (that is, an island node) to a topology, and returns the node ID of the added isolated node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref272"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the isolated node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>face_id</dt>
<dd>
<p>Face ID of the face on which the isolated node is to be added. (An exception is raised if the specified point is not on the specified face.)</p>
</dd>
<dt>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the isolated node to be added.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point representing the isolated node to be added.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point representing the isolated node to be added.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref273"></a>Usage Notes</p>
<p>Spatial automatically assigns a node ID to the added node. If <code>topology</code> is not null, the appropriate entry is inserted in the &lt;topology-name&gt;_NODE$ table, and the &lt;topology-name&gt;_FACE$ table is updated to include an entry for the added isolated node. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If you know the ID of the face on which the isolated node is to be added, you can specify the <code>face_id</code> parameter. If you specify this parameter, there are two benefits:</p>
<ul>
<li>
<p>Validation: The function checks to see if the point is on the specified face, and raises an exception if it is not. Otherwise, the function checks to see if the point is on any face in the topology, and raises an exception if it is not.</p>
</li>
<li>
<p>Performance: The function checks only if the point is on the specified face. Otherwise, it checks potentially all faces in the topology to see if the point is on any face.</p>
</li>
</ul>
<p>To add a non-isolated node, use the <a href="#CACFHBDI">SDO_TOPO_MAP.ADD_NODE</a> function.</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addIsolatedNode</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref274"></a>Examples</p>
<p>The following example adds an isolated node to the right of isolated node N4 on face F2, and it returns the node ID of the added node. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
DECLARE
  result_num NUMBER;
BEGIN
result_num := SDO_TOPO_MAP.ADD_ISOLATED_NODE(null, 2,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,37,NULL), NULL, NULL));
DBMS_OUTPUT.PUT_LINE('Result = ' || result_num);
END;
/
Result = 24                                                                     
 
PL/SQL procedure successfully completed.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHAFJG"></a>
<div id="TOPOL837" class="refsect1">
<h2 class="refsect1"><a id="sthref275"></a><a id="sthref276"></a><a id="sthref277"></a><a id="sthref278"></a>SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref279"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curve IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coords IN SDO_NUMBER_ARRAY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref280"></a>Description</p>
<p>Adds a linear (line string or multiline string) geometry to the topology, inserting edges and nodes as necessary based on the full intersection of the geometry with the edges and nodes in the topology graph, and an array of the edge IDs of the inserted and shared edges in sequence from the start to the end of the geometry.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref281"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the edge or edges, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>curve</dt>
<dd>
<p>SDO_GEOMETRY object (curve or line string geometry) representing the edge or edges to be added.</p>
</dd>
<dt>coords</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of the edge or edges to be added.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref282"></a>Usage Notes</p>
<p>This function creates at least one new edge, and more edges if necessary. For example, if the line string geometry intersects an existing edge, two edges are created for the added line string, and the existing edge (the one being intersected) is divided into two edges. If <code>topology</code> is not null, Spatial automatically updates the &lt;topology-name&gt;_EDGE$ table as needed. (If <code>topology</code> is null, you can update this table at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>This function returns an array of the edge IDs of the inserted and shared edges in sequence from the start to the end of the geometry. If a segment in the added geometry overlaps an existing edge in the topology, the sign of the returned edge depends on the directions of the added segment and the existing edge: if the direction of the existing edge is the same as the linear geometry, the returned edge element is positive; if the direction of the existing edge is the opposite of the linear geometry, the returned edge element is negative.</p>
<p>An exception is raised if the object in the <code>curve</code> or <code>coords</code> parameter contains any line segments that run together (overlap) in any manner; however, the line segments can cross at one or more points.</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addLinearGeometry</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref283"></a>Examples</p>
<p>The following example adds an edge representing a specified line string geometry, and it returns the edge ID of the added edge. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(null,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,2,1),
    SDO_ORDINATE_ARRAY(50,10, 55,10, 57,11)))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(NULL,SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(31)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCFEAG"></a>
<div id="TOPOL838" class="refsect1">
<h2 class="refsect1"><a id="sthref284"></a><a id="sthref285"></a><a id="sthref286"></a><a id="sthref287"></a>SDO_TOPO_MAP.ADD_LOOP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref288"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_LOOP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref289"></a>Description</p>
<p>Adds an edge that loops and connects to the same node, and returns the edge ID of the added edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref290"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the edge, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID of the node to which to add the edge that will start and end at this node.</p>
</dd>
<dt>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line string geometry) representing the edge to be added. The start and end points of the line string must be the same point representing <code>node_id</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref291"></a>Usage Notes</p>
<p>This function creates a new edge, as well as a new face consisting of the interior of the loop. If the edge is added at an isolated node, the edge is an isolated edge. If <code>topology</code> is not null, Spatial automatically updates the &lt;topology-name&gt;_EDGE$ and &lt;topology-name&gt;_FACE$ tables as needed. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addLoop</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref292"></a>Examples</p>
<p>The following example adds an edge loop starting and ending at node N4, and it returns the edge ID of the added edge. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.ADD_LOOP(null, 4,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(20,37, 20,39, 25,39, 20,37)))
  INTO :res_number;
 
Call completed.
 
SQL&gt; PRINT res_number;
 
RES_NUMBER                                                                      
----------                                                                      
        30 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFHBDI"></a>
<div id="TOPOL839" class="refsect1">
<h2 class="refsect1"><a id="sthref293"></a><a id="sthref294"></a><a id="sthref295"></a>SDO_TOPO_MAP.ADD_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref296"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coord_index IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_new_shape_point IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coord_index IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_new_shape_point IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref297"></a>Description</p>
<p>Adds a non-isolated node to a topology to split an existing edge, and returns the node ID of the added node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref298"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID of the edge on which the node is to be added.</p>
</dd>
<dt>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt>coord_index</dt>
<dd>
<p>The index (position) of the array position in the edge coordinate array on or after which the node is to be added. Each vertex (node or shape point) has a position in the edge coordinate array. The start point (node) is index (position) 0, the first point after the start point is 1, and so on. (However, the <code>coord_index</code> value cannot be the index of the last vertex.) For example, if the edge coordinates are (2,2, 5,2, 8,3) the index of the second vertex (5,2) is 1.</p>
</dd>
<dt>is_new_shape_point</dt>
<dd>
<p><code>TRUE</code> if the added node is to be a new shape point following the indexed vertex (<code>coord_index</code> value) of the edge; <code>FALSE</code> if the added node is exactly on the indexed vertex.</p>
<p>A value of <code>TRUE</code> lets you add a node at a new point, breaking an edge segment at the coordinates specified in the <code>point</code> parameter or the <code>x</code> and <code>y</code> parameter pair. A value of <code>FALSE</code> causes the coordinates in the <code>point</code> parameter or the <code>x</code> and <code>y</code> parameter pair to be ignored, and causes the node to be added at the existing shape point associated with the <code>coord_index</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref299"></a>Usage Notes</p>
<p>Spatial automatically assigns a node ID to the added node and creates a new edge. The split piece at the beginning of the old edge is given the edge ID of the old edge. If <code>topology</code> is not null, appropriate entries are inserted in the &lt;topology-name&gt;_NODE$ and &lt;topology-name&gt;_EDGE$ tables. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>To add an isolated node (that is, an island node), use the <a href="#CACJIJCF">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a> function.</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addNode</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref300"></a>Examples</p>
<p>The following example adds a non-isolated node to the right of node N2 on edge E2, and it returns the node ID of the added node. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
DECLARE
  result_num NUMBER;
BEGIN
result_num := SDO_TOPO_MAP.ADD_NODE(null, 2,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(27,30,NULL), NULL, NULL),
  0, 'TRUE');
DBMS_OUTPUT.PUT_LINE('Result = ' || result_num);
END;
/
Result = 26                                                                     
 
PL/SQL procedure successfully completed.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIDBAB"></a>
<div id="TOPOL840" class="refsect1">
<h2 class="refsect1"><a id="sthref301"></a><a id="sthref302"></a><a id="sthref303"></a><a id="sthref304"></a>SDO_TOPO_MAP.ADD_POINT_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref305"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_POINT_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_POINT_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coord IN SDO_NUMBER_ARRAY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref306"></a>Description</p>
<p>Adds a node representing a specified point geometry or coordinate pair, and returns the node ID of the added node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref307"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the node to be added.</p>
</dd>
<dt>coord</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of the node to be added.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref308"></a>Usage Notes</p>
<p>If the point coincides with an existing node, no changes are made to the topology. Otherwise, an isolated node or a node splitting an edge is added.</p>
<p>For information about adding and deleting nodes and edges, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This function is equivalent to using the <code>addPointGeometry</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref309"></a>Examples</p>
<p>The following example adds a node representing a specified point geometry, and it returns the node ID of the added node. It uses the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.ADD_POINT_GEOMETRY(null,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(57,12,NULL), NULL, NULL))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_POINT_GEOMETRY(NULL,SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(57,12
--------------------------------------------------------------------------------
                                                                              29
</pre>
<p>The following example adds a node at the specified coordinates (58, 12), and it returns the node ID of the added node. It uses the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.ADD_POINT_GEOMETRY(null, SDO_NUMBER_ARRAY(58,12))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_POINT_GEOMETRY(NULL,SDO_NUMBER_ARRAY(58,12))                   
-------------------------------------------------------------                   
                                                           30 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFGIFG"></a>
<div id="TOPOL841" class="refsect1">
<h2 class="refsect1"><a id="sthref310"></a><a id="sthref311"></a><a id="sthref312"></a><a id="sthref313"></a>SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref314"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygon IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coords IN SDO_NUMBER_ARRAY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref315"></a>Description</p>
<p>Adds one or more faces representing a specified polygon geometry, and returns the face ID of each added face.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref316"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to which to add the face or faces, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>polygon</dt>
<dd>
<p>SDO_GEOMETRY object (polygon or multipolygon geometry) representing the face or faces to be added. Each polygon in the object must have a single exterior ring that can contain any number of interior rings.</p>
</dd>
<dt>coords</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of a single polygon geometry representing the face or faces to be added. The vertices of the polygon must be in counterclockwise order, with the last vertex the same as the first vertex.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref317"></a>Usage Notes</p>
<p>This function creates at least one new face, and more faces if necessary. For example, if the polygon geometry intersects an existing face, faces are created for the added polygon, and the existing face (the one being intersected) definition is adjusted. If <code>topology</code> is not null, Spatial automatically updates the &lt;topology-name&gt;_FACE$ table as needed. (If <code>topology</code> is null, you can update this table at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If the polygon coincides with an existing face, no changes are made to the topology.</p>
<p>For a multipolygon geometry, no exterior ring may overlap any other exterior ring. For example, you cannot add a face representing the following single multipolygon geometry: a park (exterior ring) containing a lake (interior ring) with an island in the lake (exterior ring inside the preceding interior ring).</p>
<p>This function is equivalent to using the <code>addPolygonGeometry</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref318"></a>Examples</p>
<p>The following example adds a face representing a specified polygon geometry, and it returns and prints the face ID of the added edge. It uses the current updatable TopoMap object.</p>
<pre>
DECLARE
  res_number_array SDO_NUMBER_ARRAY;
  face_count NUMBER;
  face_ctr NUMBER;
  this_face NUMBER;
BEGIN
res_number_array := SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(null,
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,1),
    SDO_ORDINATE_ARRAY(61,10, 70,10, 70,15, 65,15, 61,10)));
-- DBMS_OUTPUT.PUT_LINE('Result = ' || res_number_array);
-- Print each face associated with the geometry.
face_count := res_number_array.count;
for face_ctr in 1..face_count loop
  this_face := res_number_array(face_ctr);
  dbms_output.put_line ('this face = '|| this_face);
  end loop;  -- printed each face
END;
/
this face = 12 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHBEHA"></a>
<div id="TOPOL842" class="refsect1">
<h2 class="refsect1"><a id="sthref319"></a><a id="sthref320"></a><a id="sthref321"></a>SDO_TOPO_MAP.CHANGE_EDGE_COORDS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref322"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.CHANGE_EDGE_COORDS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom IN SDO_GEOMETRY);</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.CHANGE_EDGE_COORDS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom IN SDO_GEOMETRY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_nodes OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_edges OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_iso_moves IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref323"></a>Description</p>
<p>Changes the coordinates and related information about an edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref324"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology containing the edge, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID of the edge whose coordinates are to be changed.</p>
</dd>
<dt>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line or contiguous line string geometry) representing the modified edge. The start and end points of the modified edge must be the same as for the original edge.</p>
</dd>
<dt>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>allow_iso_moves</dt>
<dd>
<p><code>TRUE</code> causes Spatial to allow an edge coordinates change operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code>FALSE</code> causes Spatial not to allow an edge coordinates change operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code>allow_iso_moves</code> parameter, Spatial allows edge move operations that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref325"></a>Usage Notes</p>
<p>If this procedure modifies a boundary between faces, Spatial automatically performs the following operations and updates the topology data model tables as needed: reassigning island nodes and faces, and adjusting the MBRs of the faces on both sides.</p>
<p>If <code>topology</code> is not null, this procedure modifies the information about the specified edge in the &lt;topology-name&gt;_EDGE$ table (described in <a href="sdo_topo_concepts.htm#BABHGFAA">Section 1.5.1</a>). (If <code>topology</code> is null, you can update this table at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>You cannot use this procedure to change the start point or the end point, or both, of the specified edge. To do any of these operations, you must delete the edge, delete the node or nodes for the start or end point (or both) to be changed, add the necessary new node or nodes, and add the edge.</p>
<p>For information about editing topological elements, see <a href="sdo_topo_editing.htm#CEGEHADJ">Chapter 2</a>.</p>
<p>This procedure is equivalent to using the <code>changeEdgeCoords</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref326"></a>Examples</p>
<p>The following example changes the coordinates of edge E1. (It changes only the third point, from 16,38 to 16,39.) It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.CHANGE_EDGE_COORDS(null, 1,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(8,30, 16,30, 16,39, 3,38, 3,30, 8,30)));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGGDAC"></a>
<div id="TOPOL843" class="refsect1">
<h2 class="refsect1"><a id="sthref327"></a><a id="sthref328"></a><a id="sthref329"></a><a id="sthref330"></a>SDO_TOPO_MAP.CLEAR_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref331"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.CLEAR_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref332"></a>Description</p>
<p>Clears all objects and changes in the cache associated with a TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref333"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref334"></a>Usage Notes</p>
<p>If the TopoMap object is updatable, this procedure changes it to be read-only.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>Contrast this procedure with the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure, which applies the changes in the cache associated with the TopoMap object to the topology. You cannot call the SDO_TOPO_MAP.CLEAR_TOPO_MAP procedure if you previously used the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure on the specified TopoMap object.</p>
<p>This procedure is equivalent to using the <code>clearCache</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref335"></a>Examples</p>
<p>The following example clears the cache associated with the TopoMap object named <code>CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code>CITY_DATA</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.CLEAR_TOPO_MAP('CITY_DATA_TOPOMAP');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEECCA"></a>
<div id="TOPOL844" class="refsect1">
<h2 class="refsect1"><a id="sthref336"></a><a id="sthref337"></a><a id="sthref338"></a><a id="sthref339"></a>SDO_TOPO_MAP.COMMIT_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref340"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.COMMIT_TOPO_MAP;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref341"></a>Description</p>
<p>Updates the topology to reflect changes made to the current updatable TopoMap object, commits all changes to the database, and makes the TopoMap object read-only.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref342"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref343"></a>Usage Notes</p>
<p>Use this procedure when you are finished with a batch of edits to a topology and you want to commit all changes to the database. After the commit operation completes, you cannot edit the TopoMap object. To make further edits to the topology, you must either clear the cache (using the <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure) or create a new TopoMap object (using the <a href="#CACJCGFE">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure), and then load the topology into the TopoMap object for update (using the <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure).</p>
<p>Contrast this procedure with the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure, which leaves the TopoMap object available for editing operations and which does not perform a commit operation (and thus does not end the database transaction).</p>
<p>To roll back all TopoMap object changes, use the <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>This procedure is equivalent to using the <code>commitDB</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref344"></a>Examples</p>
<p>The following example commits to the database all changes to the current updatable TopoMap object, and prevents further editing of the TopoMap object.</p>
<pre>
EXECUTE SDO_TOPO_MAP.COMMIT_TOPO_MAP;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGEGBB"></a>
<div id="TOPOL845" class="refsect1">
<h2 class="refsect1"><a id="sthref345"></a><a id="sthref346"></a><a id="sthref347"></a><a id="sthref348"></a><a id="sthref349"></a>SDO_TOPO_MAP.CREATE_EDGE_INDEX</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref350"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.CREATE_EDGE_INDEX(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref351"></a>Description</p>
<p>Creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with a TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref352"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref353"></a>Usage Notes</p>
<p>You can cause Spatial to create in-memory R-tree indexes to be built on the edges and faces in the specified TopoMap object. These indexes use some memory resources and take some time to create; however, they significantly improve performance if you edit a large number of topological elements in the session. They can also improve performance for queries that use a read-only TopoMap object. If the TopoMap object is updatable and if you are performing many editing operations, you should probably rebuild the indexes periodically; however, if the TopoMap object will not be updated, create the indexes when or after loading the read-only TopoMap object or after calling the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>Compare this procedure with the <a href="#CACBDEAF">SDO_TOPO_MAP.CREATE_FACE_INDEX</a> procedure, which creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with a TopoMap object.</p>
<p>This procedure is equivalent to using the <code>createEdgeIndex</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref354"></a>Examples</p>
<p>The following example creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with the TopoMap object named <code>CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code>CITY_DATA</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.CREATE_EDGE_INDEX('CITY_DATA_TOPOMAP');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBDEAF"></a>
<div id="TOPOL846" class="refsect1">
<h2 class="refsect1"><a id="sthref355"></a><a id="sthref356"></a><a id="sthref357"></a><a id="sthref358"></a><a id="sthref359"></a>SDO_TOPO_MAP.CREATE_FACE_INDEX</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref360"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.CREATE_FACE_INDEX(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref361"></a>Description</p>
<p>Creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with a TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref362"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref363"></a>Usage Notes</p>
<p>You can cause Spatial to create in-memory R-tree indexes to be built on the edges and faces in the specified TopoMap object. These indexes use some memory resources and take some time to create; however, they significantly improve performance if you edit a large number of topological elements in the session. They can also improve performance for queries that use a read-only TopoMap object. If the TopoMap object is updatable and if you are performing many editing operations, you should probably rebuild the indexes periodically; however, if the TopoMap object will not be updated, create the indexes when or after loading the read-only TopoMap object or after calling the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>Compare this procedure with the <a href="#CACGEGBB">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a> procedure, which creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with a TopoMap object.</p>
<p>This procedure is equivalent to using the <code>createFaceIndex</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref364"></a>Examples</p>
<p>The following example creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with the TopoMap object named <code>CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code>CITY_DATA</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.CREATE_FACE_INDEX('CITY_DATA_TOPOMAP');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIJGEA"></a>
<div id="TOPOL275" class="refsect1">
<h2 class="refsect1"><a id="sthref365"></a><a id="sthref366"></a><a id="sthref367"></a>SDO_TOPO_MAP.CREATE_FEATURE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref368"></a>Format (no topology geometry layer hierarchy or lowest level in a hierarchy)</p>
<p class="synopsis">SDO_TOPO_MAP.CREATE_FEATURE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_TOPO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref369"></a>Format (parent level in a hierarchy)</p>
<p class="synopsis">SDO_TOPO_MAP.CREATE_FEATURE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_name IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dml_condition IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_TOPO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref370"></a>Description</p>
<p>Creates a feature from Oracle Spatial geometries. (This function is intended to be used for inserting rows into a feature table.)</p>
<ul>
<li>
<p>The first format (with the <code>geom</code> parameter and without the <code>dml_condition</code> parameter) is for creating a feature in a topology without a topology geometry layer hierarchy or in the lowest level of a topology with a topology geometry layer hierarchy.</p>
</li>
<li>
<p>The second format (with the <code>dml_condition</code> parameter and without the <code>geom</code> parameter) is for creating a feature in a parent level of a topology with a topology geometry layer hierarchy.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref371"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Topology having the associated specified feature table and feature column.</p>
</dd>
<dt>table_name</dt>
<dd>
<p>Name of the feature table containing the feature column specified in <code>column_name</code>.</p>
</dd>
<dt>column_name</dt>
<dd>
<p>Name of the feature column (of type SDO_TOPO_GEOMETRY) containing the topology geometries.</p>
</dd>
<dt>geom</dt>
<dd>
<p>Geometry objects.</p>
</dd>
<dt>dml_condition</dt>
<dd>
<p>For topologies with a topology geometry layer hierarchy (described in <a href="sdo_topo_concepts.htm#CIHHGJAB">Section 1.4</a>): DML condition for selecting rows from a child layer to be inserted into a parent layer. Specify the condition in a quoted string, but without the word WHERE. For example, to select only rows where the STATE_ABBR column value is <code>MA</code>, specify the following: <code>'state_abbr=''MA'''</code></p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref372"></a>Usage Notes</p>
<p>This function is used to create features from existing geometries stored in a spatial table. Creating features from existing geometries is one approach to creating topology features; the other approach is to load the topology data into the node, edge, and face information tables. Both approaches are described in <a href="sdo_topo_concepts.htm#CIHBIADE">Section 1.1</a>, which contains the following subsections:</p>
<ul>
<li>
<p><a href="sdo_topo_concepts.htm#CIHFBBBG">Section 1.1.1, "Using a Topology Built from Topology Data"</a></p>
</li>
<li>
<p><a href="sdo_topo_concepts.htm#CIHCDCFD">Section 1.1.2, "Using a Topology Built from Spatial Geometries"</a> (that is, the approach using the CREATE_FEATURE function)</p>
</li>
</ul>
<p>When you use the first format of this function, you must first create and load an updatable TopoMap object. To create a topology feature or an associated topological element, the function internally calls the <code>addPointGeometry</code>, <code>addLinearGeometry</code>, or <code>addPolygonGeometry</code> method of the updatable TopoMap object, depending on the SDO_GTYPE value of the geometry object, and it calls the <code>updateTopology</code> method of the updatable TopoMap object to write topological elements to the database. If this function is called in an INSERT or UPDATE statement, a feature is created or updated in the feature table. When the function completes, it has the effect of overlaying the geometry onto the topology. (That is, Spatial uses an implicitly created TopoMap object to create a new TopoMap object for each call to this function.)</p>
<p>When you use the second format of this function, you do not need to create an updatable TopoMap object. The function internally collects TG_ID values of features in the child level based on the <code>dml_condition</code> parameter value, and it assembles an SDO_TGL_OBJECT_ARRAY object to create the SDO_GEOMETRY object.</p>
<p>To ensure that this function works correctly with all geometries, use a loop to call the function for each geometry. Do not use this function in a subquery in an INSERT or UPDATE statement, because doing so may cause inconsistencies in the topology, and you may not receive any error or warning messages about the inconsistencies.</p>
<p>An exception is raised if one or more of the following conditions exist:</p>
<ul>
<li>
<p><code>topology</code>, <code>table_name</code>, or <code>column_name</code> does not exist.</p>
</li>
<li>
<p><code>geom</code> specifies geometry objects of a type inconsistent with the topology geometry layer type. For example, you cannot use line string geometries to create land parcel features.</p>
</li>
<li>
<p><code>dml_condition</code> is used with a topology that does not have a topology geometry layer hierarchy.</p>
</li>
<li>
<p>The input geometries include any optimized shapes, such as optimized rectangles or circles.</p>
</li>
<li>
<p>A line string or multiline string geometry contains any overlapping line segments.</p>
</li>
<li>
<p>In a multipolygon geometry, an exterior ring overlaps any other exterior ring.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref373"></a>Examples</p>
<p>The following example populates the FEATURE column in the CITY_STREETS, TRAFFIC_SIGNS, and LAND_PARCELS feature tables with all geometries in the GEOMETRY column in the CITY_STREETS_GEOM, TRAFFIC_SIGNS_GEOM, and LAND_PARCELS_GEOM spatial tables, respectively. This example assumes that an updatable TopoMap object has been created and loaded for the <code>CITY_DATA</code> topology. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHBGDEC">Section 1.12.2</a>.)</p>
<pre>
BEGIN
  FOR street_rec IN (SELECT name, geometry FROM city_streets_geom) LOOP
   INSERT INTO city_streets VALUES(street_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE('CITY_DATA', 'CITY_STREETS', 'FEATURE',
         street_rec.geometry));
  END LOOP;
 
  FOR sign_rec IN (SELECT name, geometry FROM traffic_signs_geom) LOOP
   INSERT INTO traffic_signs VALUES(sign_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE('CITY_DATA', 'TRAFFIC_SIGNS', 'FEATURE',
         sign_rec.geometry));
  END LOOP;
 
  FOR parcel_rec IN (SELECT name, geometry FROM land_parcels_geom) LOOP
   INSERT INTO land_parcels VALUES(parcel_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE('CITY_DATA', 'LAND_PARCELS', 'FEATURE',
         parcel_rec.geometry));
  END LOOP;
END;
/
</pre>
<p>The following example creates a topology that has a topology geometry layer hierarchy with two layers: counties and states. The calls to the CREATE_FEATURE function that create parent layer (state) features include the <code>dml_condition</code> parameter (for example, <code>'p_name=''NH'''</code>).</p>
<pre>
declare
 name varchar2(64);
 cursor c1 is select state_abrv, county from
   counties order by 1, 2;
 stateabrv varchar2(2);
begin
 
 -- Initialize.
 sdo_topo_map.create_topo_map('cnty', 'm2', 10000, 10000, 10000);
 sdo_topo_map.load_topo_map('m2', -180, -90, 180, 90, 'true');
 
 -- Insert one county at a time.
 for cnty_rec in c1 loop
   stateabrv := cnty_rec.state_abrv;
   name := cnty_rec.county;
   insert into cnty_areas select state_abrv || '-' ||county,
     sdo_topo_map.create_feature('CNTY', 'CNTY_AREAS', 'FEATURE', geom) from
     counties where state_abrv=stateabrv and county=name;
 end loop;
 
 -- Roll back topology.
 sdo_topo_map.rollback_topo_map();
 sdo_topo_map.drop_topo_map('m2');
 
 -- Roll back inserts.
 rollback;
 
exception
 when others then
   dbms_output.put_line(SQLERRM);
   sdo_topo_map.rollback_topo_map();
   sdo_topo_map.drop_topo_map('m2');
   rollback;
end;
/
 
-- Add parent feature layer.
--  
--   The following commented out statement can be used to populate the
--     child_layer_id parameter in sdo_topo.add_topo_geometry_layer.
--  
--   select tg_layer_id
--     from user_sdo_topo_info 
--     where TOPOLOGY = 'SC' 
--       and table_name = 'SC_AREAS';
-- 
execute sdo_topo.add_topo_geometry_layer('SC','SC_P_AREAS', 'FEATURE', -
                                      'POLYGON', NULL, child_layer_id =&gt; 1);
 
-- Create and insert state features (logically) from county features.
insert into sc_p_areas (f_name, p_name, feature) values ('NH', 'US',
  sdo_topo_map.create_feature('SC','SC_P_AREAS','FEATURE','p_name=''NH'''));
insert into sc_p_areas (f_name, p_name, feature) values ('CT', 'US',
  sdo_topo_map.create_feature('SC','SC_P_AREAS','FEATURE','p_name=''CT'''));
insert into sc_p_areas (f_name, p_name, feature) values ('ME', 'US',
  sdo_topo_map.create_feature('SC','SC_P_AREAS','FEATURE','p_name=''ME'''));
insert into sc_p_areas (f_name, p_name, feature) values ('MA', 'US',
  sdo_topo_map.create_feature('SC','SC_P_AREAS','FEATURE','p_name=''MA'''));
commit;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJCGFE"></a>
<div id="TOPOL847" class="refsect1">
<h2 class="refsect1"><a id="sthref374"></a><a id="sthref375"></a><a id="sthref376"></a><a id="sthref377"></a>SDO_TOPO_MAP.CREATE_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref378"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.CREATE_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number_of_edges IN NUMBER DEFAULT 100,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number_of_nodes IN NUMBER DEFAULT 80,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number_of_faces IN NUMBER DEFAULT 30);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref379"></a>Description</p>
<p>Creates a TopoMap object cache associated with an existing topology.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref380"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>number_of_edges</dt>
<dd>
<p>An estimate of the maximum number of edges that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 100 is used.</p>
</dd>
<dt>number_of_nodes</dt>
<dd>
<p>An estimate of the maximum number of nodes that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 80 is used.</p>
</dd>
<dt>number_of_faces</dt>
<dd>
<p>An estimate of the maximum number of faces that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 30 is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref381"></a>Usage Notes</p>
<p>The <code>number_of_edges</code>, <code>number_of_nodes</code>, and <code>number_of_faces</code> parameters let you improve the performance and memory usage of the procedure when you have a good idea of the approximate number of edges, nodes, or faces (or any combination) that will be placed in the cache associated with the specified TopoMap object. Spatial initially allocates memory cache for the specified or default number of objects of each type, and incrementally increases the allocation later if more objects need to be accommodated.</p>
<p>You can create more than one TopoMap object in a user session; however, there can be no more than one updatable TopoMap object at any given time in a user session.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>Using this procedure is equivalent to calling the constructor of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref382"></a>Examples</p>
<p>The following example creates a TopoMap object named <code>CITY_DATA_TOPOMAP</code> and its associated cache, and it associates the TopoMap object with the topology named <code>CITY_DATA</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.CREATE_TOPO_MAP('CITY_DATA', 'CITY_DATA_TOPOMAP');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEAGDD"></a>
<div id="TOPOL848" class="refsect1">
<h2 class="refsect1"><a id="sthref383"></a><a id="sthref384"></a><a id="sthref385"></a><a id="sthref386"></a>SDO_TOPO_MAP.DROP_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref387"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.DROP_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref388"></a>Description</p>
<p>Deletes a TopoMap object from the current user session.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref389"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref390"></a>Usage Notes</p>
<p>This procedure rolls back any uncommitted changes if the TopoMap object is updatable (that is, performs the equivalent of an <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> operation). It clears the cache associated with the TopoMap object, and removes the TopoMap object from the session.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>Using this procedure is equivalent to setting the variable of the TopoMap object to a null value in a client-side Java application. (The client-side Java API is described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>.)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref391"></a>Examples</p>
<p>The following example drops the TopoMap object named <code>CITY_DATA_TOPOMAP</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.DROP_TOPO_MAP('CITY_DATA_TOPOMAP');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBAEBC"></a>
<div id="TOPOL849" class="refsect1">
<h2 class="refsect1"><a id="sthref392"></a><a id="sthref393"></a><a id="sthref394"></a><a id="sthref395"></a>SDO_TOPO_MAP.GET_CONTAINING_FACE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref396"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_CONTAINING_FACE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.GET_CONTAINING_FACE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref397"></a>Description</p>
<p>Returns the face ID number of the face that contains the specified point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref398"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the face and the point, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref399"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function determines, from the faces in the specified TopoMap object (including any island faces), which one face (if any) contains the specified point in its open set, excluding islands. (The open set, excluding islands, of a face consists of all points inside, but not on the boundary of, the face.) If the point is exactly on the boundary of a face, the function returns a value of 0 (zero).</p>
<p>If the entire topology has been loaded into the TopoMap object and if the point is not in any finite face in the cache, this function returns a value of -1 (for the universe face). If a window from the topology has been loaded into the TopoMap object and if the point is not in any finite face in the cache, this function returns a value of -1 (for the universe face) if the point is inside the window and a value of 0 (zero) if the point is outside the window. If neither the entire topology nor a window has been loaded, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code>getContainingFace</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref400"></a>Examples</p>
<p>The following example returns the face ID number of the face that contains the point at (22, 37) in the <code>CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_CONTAINING_FACE(null, 'CITY_DATA_TOPOMAP',
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,37,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_CONTAINING_FACE(NULL,'CITY_DATA_TOPOMAP',SDO_GEOMETRY(2001,NULL
--------------------------------------------------------------------------------
                                                                               2
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGJCDF"></a>
<div id="TOPOL850" class="refsect1">
<h2 class="refsect1"><a id="sthref401"></a><a id="sthref402"></a><a id="sthref403"></a>SDO_TOPO_MAP.GET_EDGE_ADDITIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref404"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_EDGE_ADDITIONS() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref405"></a>Description</p>
<p>Returns an array of edge ID numbers of edges that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref406"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref407"></a>Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getEdgeAdditions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref408"></a>Examples</p>
<p>The following example returns the edge ID numbers of edges that have been added to the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_EDGE_ADDITIONS FROM DUAL;
 
GET_EDGE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(28, 29, 30, 32)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL851" class="refsect1"><a id="sthref409"></a>
<h2 class="refsect1"><a id="sthref410"></a><a id="sthref411"></a><a id="sthref412"></a>SDO_TOPO_MAP.GET_EDGE_CHANGES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref413"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_EDGE_CHANGES() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref414"></a>Description</p>
<p>Returns an array of edge ID numbers of edges that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref415"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref416"></a>Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getEdgeChanges</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref417"></a>Examples</p>
<p>The following example returns the edge ID numbers of edges that have been changed in the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_EDGE_CHANGES FROM DUAL;
 
GET_EDGE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(3, 2, 1) 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHEEGD"></a>
<div id="TOPOL852" class="refsect1">
<h2 class="refsect1"><a id="sthref418"></a><a id="sthref419"></a><a id="sthref420"></a>SDO_TOPO_MAP.GET_EDGE_COORDS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref421"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_EDGE_COORDS(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref422"></a>Description</p>
<p>Returns an array with the coordinates of the start node, shape points, and end node for the specified edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref423"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the edge, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID value of the edge.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref424"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function is equivalent to using the <code>getEdgeCoords</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref425"></a>Examples</p>
<p>The following example returns the coordinates of the start node, shape points, and end node for the edge whose edge ID value is 1. The returned array contains coordinates for six points. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, 'CITY_DATA_TOPOMAP', 1) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,'CITY_DATA_TOPOMAP',1)                            
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(8, 30, 16, 30, 16, 38, 3, 38, 3, 30, 8, 30)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL853" class="refsect1"><a id="sthref426"></a>
<h2 class="refsect1"><a id="sthref427"></a><a id="sthref428"></a><a id="sthref429"></a>SDO_TOPO_MAP.GET_EDGE_DELETIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref430"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_EDGE_DELETIONS() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref431"></a>Description</p>
<p>Returns an array of edge ID numbers of edges that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref432"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref433"></a>Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getEdgeDeletions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref434"></a>Examples</p>
<p>The following example returns the edge ID numbers of edges that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no edges have been deleted.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_EDGE_DELETIONS FROM DUAL;
 
GET_EDGE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBCJGE"></a>
<div id="TOPOL854" class="refsect1">
<h2 class="refsect1"><a id="sthref435"></a><a id="sthref436"></a><a id="sthref437"></a>SDO_TOPO_MAP.GET_EDGE_NODES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref438"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_EDGE_NODES(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref439"></a>Description</p>
<p>Returns an array with the ID numbers of the start and end nodes on the specified edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref440"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the edge, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID value of the edge.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref441"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>If the edge starts and ends at a node, the ID number of the node is the first and last number in the array.</p>
<p>This function has no exact equivalent method in the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>). The <code>getEdge</code> method returns a Java edge object of the <code>oracle.spatial.topo.Edge</code> class.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref442"></a>Examples</p>
<p>The following example returns the ID numbers of the nodes on the edge whose edge ID value is 1. The returned array contains two nodes ID numbers, both of them 1 (for the same node), because the specified edge starts and ends at the node with node ID 1 and has a loop edge. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_EDGE_NODES(null, 'CITY_DATA_TOPOMAP', 1) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_NODES(NULL,'CITY_DATA_TOPOMAP',1)                             
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(1, 1)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBJJGI"></a>
<div id="TOPOL855" class="refsect1">
<h2 class="refsect1"><a id="sthref443"></a><a id="sthref444"></a><a id="sthref445"></a>SDO_TOPO_MAP.GET_FACE_ADDITIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref446"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_FACE_ADDITIONS() RETURN SDO_NUMBER_ARRAY</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref447"></a>Description</p>
<p>Returns an array of face ID numbers of faces that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref448"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref449"></a>Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getFaceAdditions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref450"></a>Examples</p>
<p>The following example returns the face ID numbers of faces that have been added to the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_FACE_ADDITIONS FROM DUAL;
 
GET_FACE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(11)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL856" class="refsect1"><a id="sthref451"></a>
<h2 class="refsect1"><a id="sthref452"></a><a id="sthref453"></a><a id="sthref454"></a>SDO_TOPO_MAP.GET_FACE_CHANGES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref455"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_FACE_CHANGES() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref456"></a>Description</p>
<p>Returns an array of face ID numbers of faces that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref457"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref458"></a>Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getFaceChanges</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref459"></a>Examples</p>
<p>The following example returns the face ID numbers of faces that have been changed in the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_FACE_CHANGES FROM DUAL;
 
GET_FACE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(2, 1, -1)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBCGEA"></a>
<div id="TOPOL857" class="refsect1">
<h2 class="refsect1"><a id="sthref460"></a><a id="sthref461"></a><a id="sthref462"></a>SDO_TOPO_MAP.GET_FACE_BOUNDARY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref463"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_FACE_BOUNDARY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;face_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref464"></a>Description</p>
<p>Returns an array with the edge ID numbers of the edges that make up the boundary for the specified face.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref465"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the face, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>face_id</dt>
<dd>
<p>Face ID value of the face.</p>
</dd>
<dt>option</dt>
<dd>
<p>One of the following numbers to indicate an option for computing the boundary: 0 for an external boundary ring without spurs (that is, without doubly traced edges), 1 for external and internal rings without spurs, or 2 for external and internal rings with spurs. A value of 2 returns the full, though possibly degenerate, boundary.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref466"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function is equivalent to using the <code>getFaceBoundary</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref467"></a>Examples</p>
<p>The following example returns the edges in the external boundary ring without spurs for the face whose face ID value is 3. The returned array contains four edge ID values. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_FACE_BOUNDARY(null, 'CITY_DATA_TOPOMAP', 3, 0) FROM DUAL;
 
SDO_TOPO_MAP.GET_FACE_BOUNDARY(NULL,'CITY_DATA_TOPOMAP',3,0)                    
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(19, 6, 21, 9)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL858" class="refsect1"><a id="sthref468"></a>
<h2 class="refsect1"><a id="sthref469"></a><a id="sthref470"></a><a id="sthref471"></a>SDO_TOPO_MAP.GET_FACE_DELETIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref472"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_FACE_DELETIONS() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref473"></a>Description</p>
<p>Returns an array of face ID numbers of faces that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref474"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref475"></a>Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getFaceDeletions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref476"></a>Examples</p>
<p>The following example returns the face ID numbers of faces that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no faces have been deleted.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_FACE_DELETIONS FROM DUAL;
 
GET_FACE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL859" class="refsect1"><a id="sthref477"></a>
<h2 class="refsect1"><a id="sthref478"></a><a id="sthref479"></a><a id="sthref480"></a><a id="sthref481"></a>SDO_TOPO_MAP.GET_NEAREST_EDGE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref482"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref483"></a>Description</p>
<p>Returns the edge ID number of the edge that is nearest (closest to) the specified point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref484"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the edge and the point, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref485"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>The nearest edge is determined from the representation of the topology in the database, using the spatial index. If there are changed, added, or deleted edges in the instance and the database has not been updated to reflect those changes, the result may not reflect the true situation in the TopoMap object cache.</p>
<p>If multiple edges are equally close to the point, any one of the edge ID values is returned. If no edges exist in the topology, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code>getNearestEdge</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref486"></a>Examples</p>
<p>The following example returns the edge ID number of the edge that is closest to the point at (8, 8) in the <code>CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NEAREST_EDGE(null, 'CITY_DATA_TOPOMAP',
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_EDGE(NULL,'CITY_DATA_TOPOMAP',SDO_GEOMETRY(2001,NULL,SD
--------------------------------------------------------------------------------
                                                                              22
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHEFCG"></a>
<div id="TOPOL860" class="refsect1">
<h2 class="refsect1"><a id="sthref487"></a><a id="sthref488"></a><a id="sthref489"></a><a id="sthref490"></a>SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref491"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref492"></a>Description</p>
<p>Returns the edge ID number of the edge that, of the edges loaded in the specified TopoMap object, is nearest (closest to) the specified point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref493"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref494"></a>Usage Notes</p>
<p>If multiple edges are equally close to the point, any one of the edge ID values is returned. If no topology data is loaded or if no edges exist in the cache, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code>getNearestEdgeInCache</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref495"></a>Examples</p>
<p>The following example returns the edge ID number of the edge that is closest to the point at (8, 8) in the <code>CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE('CITY_DATA_TOPOMAP',
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE('CITY_DATA_TOPOMAP',SDO_GEOMETRY(2001,NUL
--------------------------------------------------------------------------------
                                                                              22
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL861" class="refsect1"><a id="sthref496"></a>
<h2 class="refsect1"><a id="sthref497"></a><a id="sthref498"></a><a id="sthref499"></a><a id="sthref500"></a>SDO_TOPO_MAP.GET_NEAREST_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref501"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref502"></a>Description</p>
<p>Returns the node ID number of the node that is nearest (closest to) the specified point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref503"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the node and the point, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref504"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>The nearest node is determined from the representation of the topology in the database, using the spatial index. If there are changed, added, or deleted nodes in the instance and the database has not been updated to reflect those changes, the result may not reflect the true situation in the TopoMap object cache.</p>
<p>If multiple nodes are equally close to the point, any one of the node ID values is returned.</p>
<p>This function is equivalent to using the <code>getNearestNode</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref505"></a>Examples</p>
<p>The following example returns the node ID number of the node that is closest to the point at (8, 8) in the <code>CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NEAREST_NODE(null, 'CITY_DATA_TOPOMAP',
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_NODE(NULL,'CITY_DATA_TOPOMAP',SDO_GEOMETRY(2001,NULL,SD
--------------------------------------------------------------------------------
                                                                               8
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACEDAGD"></a>
<div id="TOPOL862" class="refsect1">
<h2 class="refsect1"><a id="sthref506"></a><a id="sthref507"></a><a id="sthref508"></a><a id="sthref509"></a>SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref510"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref511"></a>Description</p>
<p>Returns the node ID number of the node that, of the nodes loaded in the specified TopoMap object, is nearest (closest to) the specified point.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref512"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref513"></a>Usage Notes</p>
<p>If multiple nodes are equally close to the point, any one of the node ID values is returned. If no topology data is loaded or if no nodes exist in the cache, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code>getNearestNodeInCache</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref514"></a>Examples</p>
<p>The following example returns the node ID number of the node that is closest to the point at (8, 8) in the <code>CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE('CITY_DATA_TOPOMAP',
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE('CITY_DATA_TOPOMAP',SDO_GEOMETRY(2001,NUL
--------------------------------------------------------------------------------
                                                                               8
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL863" class="refsect1"><a id="sthref515"></a>
<h2 class="refsect1"><a id="sthref516"></a><a id="sthref517"></a><a id="sthref518"></a>SDO_TOPO_MAP.GET_NODE_ADDITIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref519"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_ADDITIONS() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref520"></a>Description</p>
<p>Returns an array of node ID numbers of nodes that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref521"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref522"></a>Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getNodeAdditions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref523"></a>Examples</p>
<p>The following example returns the node ID numbers of nodes that have been added to the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_ADDITIONS FROM DUAL;
 
GET_NODE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(24, 25, 26, 27, 28)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACDHDBB"></a>
<div id="TOPOL864" class="refsect1">
<h2 class="refsect1"><a id="sthref524"></a><a id="sthref525"></a><a id="sthref526"></a>SDO_TOPO_MAP.GET_NODE_CHANGES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref527"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_CHANGES() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref528"></a>Description</p>
<p>Returns an array of node ID numbers of nodes that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref529"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref530"></a>Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getNodeChanges</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref531"></a>Examples</p>
<p>The following example returns the node ID numbers of nodes that have been changed in the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_CHANGES FROM DUAL;
 
GET_NODE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(2, 4) 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL865" class="refsect1"><a id="sthref532"></a>
<h2 class="refsect1"><a id="sthref533"></a><a id="sthref534"></a><a id="sthref535"></a>SDO_TOPO_MAP.GET_NODE_COORD</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref536"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_COORD(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref537"></a>Description</p>
<p>Returns an SDO_GEOMETRY object with the coordinates of the specified node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref538"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref539"></a>Usage Notes</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function is equivalent to using the <code>getNodeCoord</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref540"></a>Examples</p>
<p>The following example returns a geometry object with the coordinates of the node whose node ID value is 14. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_COORD(null, 'CITY_DATA_TOPOMAP', 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_COORD(NULL,'CITY_DATA_TOPOMAP',14)(SDO_GTYPE, SDO_SRID, SD
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, 0, SDO_POINT_TYPE(21, 14, NULL), NULL, NULL)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL866" class="refsect1"><a id="sthref541"></a>
<h2 class="refsect1"><a id="sthref542"></a><a id="sthref543"></a><a id="sthref544"></a>SDO_TOPO_MAP.GET_NODE_DELETIONS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref545"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_DELETIONS() RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref546"></a>Description</p>
<p>Returns an array of node ID numbers of nodes that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref547"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref548"></a>Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code>getNodeDeletions</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref549"></a>Examples</p>
<p>The following example returns the node ID numbers of nodes that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no nodes have been deleted.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_DELETIONS FROM DUAL;
 
GET_NODE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIICHG"></a>
<div id="TOPOL867" class="refsect1">
<h2 class="refsect1"><a id="sthref550"></a><a id="sthref551"></a><a id="sthref552"></a><a id="sthref553"></a><a id="sthref554"></a>SDO_TOPO_MAP.GET_NODE_FACE_STAR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref555"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_FACE_STAR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref556"></a>Description</p>
<p>Returns an SDO_NUMBER_ARRAY object with the face ID numbers, in clockwise order, of the faces that are connected to the specified node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref557"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref558"></a>Usage Notes</p>
<p>The <span class="bold">node face star</span> of a node is the faces that are connected to the node. One face is returned for each edge connected to the node. For an isolated node, the containing face is returned. A face may appear more than once in the list.</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function is equivalent to using the <code>getNodeFaceStar</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
<p>To return the node star of a node, use the <a href="#CACCHABE">SDO_TOPO_MAP.GET_NODE_STAR</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref559"></a>Examples</p>
<p>The following example returns the node face star of the node whose node ID value is 14. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_FACE_STAR(null, 'CITY_DATA_TOPOMAP', 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_FACE_STAR(NULL,'CITY_DATA_TOPOMAP',14)                    
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(4, 7, 6, 3)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCHABE"></a>
<div id="TOPOL868" class="refsect1">
<h2 class="refsect1"><a id="sthref560"></a><a id="sthref561"></a><a id="sthref562"></a><a id="sthref563"></a><a id="sthref564"></a>SDO_TOPO_MAP.GET_NODE_STAR</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref565"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_NODE_STAR(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref566"></a>Description</p>
<p>Returns an SDO_NUMBER_ARRAY object with the edge ID numbers, in clockwise order, of the edges that are connected to the specified node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref567"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. Must not exceed 20 characters.</p>
</dd>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref568"></a>Usage Notes</p>
<p>The <span class="bold">node star</span> of a node is the edges that are connected to the node. A positive edge ID represents an edge for which the node is its start node. A negative edge ID represents an edge for which the node is its end node. If any loops are connected to the node, edges may appear in the list twice with opposite signs.</p>
<p>The <code>topology</code> or <code>topo_map</code> parameter should specify a valid name, as explained in <a href="sdo_topo_editing.htm#CEGCGICJ">Section 2.1.3</a>.</p>
<p>This function is equivalent to using the <code>getNodeStar</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
<p>To return the node face star of a node, use the <a href="#CACIICHG">SDO_TOPO_MAP.GET_NODE_FACE_STAR</a> function.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref569"></a>Examples</p>
<p>The following example returns the node star of the node whose node ID value is 14. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_NODE_STAR(null, 'CITY_DATA_TOPOMAP', 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_STAR(NULL,'CITY_DATA_TOPOMAP',14)                             
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(19, -10, -20, -9)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL869" class="refsect1"><a id="sthref570"></a>
<h2 class="refsect1"><a id="sthref571"></a><a id="sthref572"></a><a id="sthref573"></a><a id="sthref574"></a>SDO_TOPO_MAP.GET_TOPO_NAME</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref575"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_TOPO_NAME(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref576"></a>Description</p>
<p>Returns the name of the topology associated with the specified TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref577"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref578"></a>Usage Notes</p>
<p>This function is equivalent to using the <code>getTopoName</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref579"></a>Examples</p>
<p>The following example returns the name of the topology associated with the TopoMap object named <code>CITY_DATA_TOPOMAP</code>. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.GET_TOPO_NAME('CITY_DATA_TOPOMAP') FROM DUAL;
 
SDO_TOPO_MAP.GET_TOPO_NAME('CITY_DATA_TOPOMAP')                                     
--------------------------------------------------------------------------------
CITY_DATA 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGJFJB"></a>
<div id="TOPOL870" class="refsect1">
<h2 class="refsect1"><a id="sthref580"></a><a id="sthref581"></a><a id="sthref582"></a>SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref583"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID() RETURN NUMBER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref584"></a>Description</p>
<p>Returns the topology transaction ID number, if data has been loaded into the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref585"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref586"></a>Usage Notes</p>
<p>For each row in the history information table for a topology, the TOPO_TX_ID column contains the topology transaction ID number. The history information table is described in <a href="sdo_topo_concepts.htm#CIHJICHI">Section 1.5.5</a>.</p>
<p>This function is equivalent to using the <code>getTopoTransactionId</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref587"></a>Examples</p>
<p>The following example returns the topology transaction ID number for the current updatable TopoMap object.</p>
<pre>
SELECT SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID FROM DUAL;
 
GET_TOPO_TRANSACTION_ID                                                              
-----------------------
                      1 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<div id="TOPOL871" class="refsect1"><a id="sthref588"></a>
<h2 class="refsect1"><a id="sthref589"></a><a id="sthref590"></a><a id="sthref591"></a><a id="sthref592"></a>SDO_TOPO_MAP.LIST_TOPO_MAPS</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref593"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.LIST_TOPO_MAPS() RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref594"></a>Description</p>
<p>Returns a comma-delimited list of entries for each TopoMap object currently active in the session, or an empty string if there are no currently active TopoMap objects.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref595"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref596"></a>Usage Notes</p>
<p>Each entry in the comma-delimited list contains the following information: the name of the TopoMap object, the name of the topology associated with the TopoMap object, and either <code>updatable</code> if the TopoMap object can be updated (that is, edited) or <code>read-only</code> if the TopoMap object cannot be updated.</p>
<p>For more information about TopoMap objects, including updatable and read-only status, see <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.</p>
<p>To remove a TopoMap object from the session, use the <a href="#CACEAGDD">SDO_TOPO_MAP.DROP_TOPO_MAP</a> procedure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref597"></a>Examples</p>
<p>The following example lists the Topomap object name, topology name, and whether the object is updatable or read-only for each TopoMap object currently active in the session. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.LIST_TOPO_MAPS FROM DUAL;
 
LIST_TOPO_MAPS
--------------------------------------------------------------------------------
(CITY_DATA_TOPOMAP, CITY_DATA, updatable)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBEHDF"></a>
<div id="TOPOL872" class="refsect1">
<h2 class="refsect1"><a id="sthref598"></a><a id="sthref599"></a><a id="sthref600"></a><a id="sthref601"></a><a id="sthref602"></a>SDO_TOPO_MAP.LOAD_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref603"></a>Format (Function)</p>
<p class="synopsis">SDO_TOPO_MAP.LOAD_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build_indexes IN VARCHAR2 DEFAULT 'TRUE'</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.LOAD_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build_indexes IN VARCHAR2 DEFAULT 'TRUE'</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref604"></a>Format (Procedure)</p>
<p class="synopsis">SDO_TOPO_MAP.LOAD_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build_indexes IN VARCHAR2 DEFAULT 'TRUE');'</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.LOAD_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build_indexes IN VARCHAR2 DEFAULT 'TRUE');'</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref605"></a>Description</p>
<p>Loads the topological elements (primitives) for an entire topology or a window (rectangular portion) of a topology into a TopoMap object. If you use a function format, returns the string <code>TRUE</code> if topological elements were loaded into the cache, and <code>FALSE</code> if no topological elements were loaded into the cache.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref606"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
<p>See the Usage Notes and <a href="#CACJBAII">Figure 4-1</a> for information about which topological elements are loaded when you specify a window.</p>
</dd>
<dt>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt>allow_updates</dt>
<dd>
<p><code>TRUE</code> makes the TopoMap object updatable; that is, it allows topology editing operations to be performed on the TopoMap object and changes to be written back to the database. <code>FALSE</code> makes the TopoMap object read-only with respect to the database; that is, it allows topology editing operations to be performed on the TopoMap object but does not allow changes to be written back to the database.</p>
<p>Making a TopoMap object updatable causes the topological elements in the TopoMap object to be locked, which means that they cannot be included in an updatable TopoMap object in the session of another database user. (Within any given user session, there can be no more than one updatable TopoMap object active.)</p>
</dd>
<dt>build_indexes</dt>
<dd>
<p><code>TRUE</code> (the default) builds in-memory R-tree indexes for edge and face data; <code>FALSE</code> does not build in-memory R-tree indexes for edge and face data. The indexes improve the performance of editing operations, especially with large topologies.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref607"></a>Usage Notes</p>
<p>Using a procedure format for loading the TopoMap object is more efficient than using the function format, if you do not need to know if any topological elements were loaded (for example, if the specified topology or rectangular area is empty). Using a function format lets you know if any topological elements were loaded.</p>
<p>You must create the TopoMap object (using the <a href="#CACJCGFE">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure) before you load data into it.</p>
<p>You cannot use this function or procedure if the TopoMap object already contains data. If the TopoMap object contains any data, you must do one of the following before calling this function or procedure: commit the changes (using the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure) and clear the cache (using the <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure), or roll back the changes (using the <a href="#CACDCFBH">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> procedure).</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>This function or procedure is equivalent to using the <code>loadTopology</code> or <code>loadWindow</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
<p>Every TopoMap object, whether for an entire topology or for a window specified using the <code>xmin</code>, <code>ymin</code>, <code>xmax</code>, and <code>ymax</code> parameters, has a region associated with it. For an updatable TopoMap object, updates are allowed only within this region. (The region might also contain topological elements that you cannot update directly, but that might be modified by Oracle Spatial as needed as a result of your editing operations.)</p>
<p>When a TopoMap object is loaded, all nodes, faces, and edges that intersect the region for the TopoMap object are loaded. When a face is loaded, all edges and nodes that are on the boundary of the face are loaded. When an edge is loaded, the start node and end node of the edge are loaded. Consider the topology and the window (shown by a dashed line) in <a href="#CACJBAII">Figure 4-1</a>.</p>
<div id="TOPOL873" class="figure">
<p class="titleinfigure"><a id="CACJBAII"></a>Figure 4-1 Loading Topological Elements into a Window</p>
<img width="344" height="332" src="img/load_window.gif" alt="Description of Figure 4-1 follows" /><br />
<a id="sthref608" href="img_text/load_window.htm">Description of "Figure 4-1 Loading Topological Elements into a Window"</a><br />
<br /></div>
<!-- class="figure" -->
<p>With the window shown in <a href="#CACJBAII">Figure 4-1</a>:</p>
<ul>
<li>
<p>Face F1 is loaded because it partially overlaps the window.</p>
</li>
<li>
<p>The following edges are loaded: E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E16.</p>
<p>Edge E3 is loaded because it partially overlaps the window.</p>
<p>Edge E9 is loaded because it bounds a face (F1) that partially overlaps a window.</p>
<p>Edge E12 is loaded because it is an island edge in a face (F1) that partially overlaps the window.</p>
<p>Edge E1 is not loaded because it is not associated with any face that interacts with the window.</p>
</li>
<li>
<p>The following nodes are loaded: N2, N5, N6, N7, N8, N9, N10, N11, N12, N16, N19, N20.</p>
<p>Non-isolated node N2 is loaded because edge E3 is loaded.</p>
<p>Non-isolated node N12 is loaded because edges E9 and E11 are loaded.</p>
<p>Isolated node N16 is loaded because it is an isolated (island) node inside a locked face.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref609"></a>Examples</p>
<p>The following example loads all <code>CITY_DATA</code> topology elements into its associated TopoMap object for editing and builds the in-memory R-tree indexes by default. It returns a result indicating that the operation was successful and that some topological elements were loaded into the cache. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.LOAD_TOPO_MAP('CITY_DATA_TOPOMAP', 'TRUE') INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFCACH"></a>
<div id="TOPOL874" class="refsect1">
<h2 class="refsect1"><a id="sthref610"></a><a id="sthref611"></a><a id="sthref612"></a>SDO_TOPO_MAP.MOVE_EDGE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref613"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_coords IN SDO_NUMBER_ARRAY);</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t_node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_coords IN SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_nodes OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_edges OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_iso_moves IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref614"></a>Description</p>
<p>Moves a non-isolated edge.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref615"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology in which to move the edge, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID of the edge to be moved.</p>
</dd>
<dt>edge_coords</dt>
<dd>
<p>An array of coordinates of the resulting moved edge, from start point to end point.</p>
</dd>
<dt>s_node_id</dt>
<dd>
<p>Node ID of the source node, which identifies the point (start node or end node of the edge) affected by the move, before the move occurs. For example, if the end point of edge E19 is to be moved from node N17 to node N16, the <code>s_node_id</code> value is the node ID number for node N17.</p>
</dd>
<dt>t_node_id</dt>
<dd>
<p>Node ID of the target node, which identifies the point affected by the move, after the move occurs. For example, if the end point of edge E19 is to be moved from node N17 to node N16, the <code>t_node_id</code> value is the node ID number for node N16.</p>
</dd>
<dt>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>allow_iso_moves</dt>
<dd>
<p><code>TRUE</code> causes Spatial to allow an edge move operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code>FALSE</code> causes Spatial not to allow an edge move operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code>allow_iso_moves</code> parameter, Spatial allows an edge move operation that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref616"></a>Usage Notes</p>
<p>For information about moving edges, see <a href="sdo_topo_editing.htm#CEGDCGJG">Section 2.3.2</a>.</p>
<p>This procedure is equivalent to using the <code>moveEdge</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref617"></a>Examples</p>
<p>The following example moves the edge with edge ID value 19, and it displays the edge coordinates before and after the move. The edge move operation moves the end point of the edge from the node with node ID value 17 to the node with node ID value 16. (The edge being moved is E19 in <a href="sdo_topo_concepts.htm#CIHDGFGC">Figure 1-2</a> in <a href="sdo_topo_concepts.htm#CIHIBIFG">Section 1.2</a>; and the edge is being changed from going vertically up to node N17, to going diagonally up and left to node N16. The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
-- Get coordinates of edge E19.
SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, 'CITY_DATA_TOPOMAP', 19) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,'CITY_DATA_TOPOMAP',19)                           
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(21, 14, 21, 22)                                                
 
-- Move edge E19: from N14 -&gt; N17 to N14 -&gt; N16. The 3rd and 4th parameters
-- identify N17 and N16.
CALL SDO_TOPO_MAP.MOVE_EDGE(null, 19, 17, 16,
  SDO_NUMBER_ARRAY(21,14, 9,22));
 
Call completed.
 
-- Get coordinates of edge E19 after the move.
SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, 'CITY_DATA_TOPOMAP', 19) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,'CITY_DATA_TOPOMAP',19)                           
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(21, 14, 9, 22)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACHAEDB"></a>
<div id="TOPOL875" class="refsect1">
<h2 class="refsect1"><a id="sthref618"></a><a id="sthref619"></a><a id="sthref620"></a>SDO_TOPO_MAP.MOVE_ISOLATED_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref621"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point IN SDO_GEOMETRY);</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_ISOLATED_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref622"></a>Description</p>
<p>Moves an isolated (island) node.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref623"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology in which to move the node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID of the node to be moved.</p>
</dd>
<dt>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the location to which the isolated node is to be moved.</p>
</dd>
<dt>x</dt>
<dd>
<p>X-axis value of the point representing the location to which the isolated node is to be moved.</p>
</dd>
<dt>y</dt>
<dd>
<p>Y-axis value of the point representing the location to which the isolated node is to be moved.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref624"></a>Usage Notes</p>
<p>For information about moving nodes, see <a href="sdo_topo_editing.htm#CEGFCHFI">Section 2.2.2</a>.</p>
<p>The node must be moved to a location inside the face in which it is currently located. Otherwise, you must delete the node and re-create it.</p>
<p>This procedure is equivalent to using the <code>moveIsolatedNode</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref625"></a>Examples</p>
<p>The following example adds an isolated node and then moves it. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.ADD_ISOLATED_NODE(null, 2, 
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,38,NULL), NULL, NULL))
  INTO :res_number;
 
-- Move the just-added isolated node (from 20,38 to 22,39).
CALL SDO_TOPO_MAP.MOVE_ISOLATED_NODE( null, :res_number, 
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,39,NULL), NULL, NULL));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIAHAB"></a>
<div id="TOPOL876" class="refsect1">
<h2 class="refsect1"><a id="sthref626"></a><a id="sthref627"></a><a id="sthref628"></a>SDO_TOPO_MAP.MOVE_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref629"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edges_coords IN SDO_EDGE_ARRAY);</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.MOVE_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edges_coords IN SDO_EDGE_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_nodes OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moved_iso_edges OUT SDO_NUMBER_ARRAY,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_iso_moves IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref630"></a>Description</p>
<p>Moves a non-isolated node and its attached edges.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref631"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology in which to move the node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID of the node to be moved.</p>
</dd>
<dt>edges_coords</dt>
<dd>
<p>An array of arrays, of type SDO_EDGE_ARRAY (described in <a href="sdo_topo_concepts.htm#CIHJECCE">Section 1.6.7</a>). Each inner array consists of coordinates of each resulting attached edge, from start point to end point. The outer array consists of the attached edge arrays, starting with the start edge of the node to be moved and proceeding in clockwise order (with the sequence of the edges as would be obtained in a call to the <a href="#CACCHABE">SDO_TOPO_MAP.GET_NODE_STAR</a> function).</p>
<p>The array for each edge must include the start and end points. Any loops that connect twice at the moved node must be specified twice in the array.</p>
</dd>
<dt>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code>allow_iso_moves</code> parameter value is <code>TRUE</code>, Spatial stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code>allow_iso_moves</code> parameter value is <code>FALSE</code>, Spatial stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code>allow_iso_moves</code> parameter value had been <code>TRUE</code>.</p>
</dd>
<dt>allow_iso_moves</dt>
<dd>
<p><code>TRUE</code> causes Spatial to allow a node move operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code>FALSE</code> causes Spatial not to allow a node move operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code>allow_iso_moves</code> parameter, Spatial allows a node move operation that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref632"></a>Usage Notes</p>
<p>For information about moving nodes, see <a href="sdo_topo_editing.htm#CEGFCHFI">Section 2.2.2</a>.</p>
<p>This procedure is equivalent to using the <code>moveNode</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref633"></a>Examples</p>
<p>The following example moves node N3 and adjusts the coordinates of the only attached edge. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
-- Move node N3 to right: from 25,35 to 26,35.
-- E3 is changed from 25,30 -&gt; 25,35 to 25,30 -&gt; 26,35.
CALL SDO_TOPO_MAP.MOVE_NODE(null, 3,
  SDO_EDGE_ARRAY(SDO_NUMBER_ARRAY(25,30, 26,35)));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGJACC"></a>
<div id="TOPOL877" class="refsect1">
<h2 class="refsect1"><a id="sthref634"></a><a id="sthref635"></a><a id="sthref636"></a>SDO_TOPO_MAP.REMOVE_EDGE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref637"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.REMOVE_EDGE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_id IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref638"></a>Description</p>
<p>Removes an edge from a topology.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref639"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology from which to remove the edge, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>edge_id</dt>
<dd>
<p>Edge ID of the edge to be removed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref640"></a>Usage Notes</p>
<p>If <code>topology</code> is not null, Spatial automatically updates the appropriate entries in the &lt;topology-name&gt;_EDGE$ and &lt;topology-name&gt;_FACE$ tables. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about removing an edge from a topology, see <a href="sdo_topo_editing.htm#CEGBHDAE">Section 2.3.3</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref641"></a>Examples</p>
<p>The following example removes the edge with edge ID value 99 from the current updatable TopoMap object.</p>
<pre>
CALL SDO_TOPO_MAP.REMOVE_EDGE(null, 99);
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACFHJJB"></a>
<div id="TOPOL878" class="refsect1">
<h2 class="refsect1"><a id="sthref642"></a><a id="sthref643"></a><a id="sthref644"></a>SDO_TOPO_MAP.REMOVE_NODE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref645"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.REMOVE_NODE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_id IN NUMBER);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref646"></a>Description</p>
<p>Removes a node from a topology.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref647"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology from which to remove the node, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
<dt>node_id</dt>
<dd>
<p>Node ID of the node to be removed.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref648"></a>Usage Notes</p>
<p>If <code>topology</code> is not null, Spatial automatically updates the appropriate entries in the &lt;topology-name&gt;_NODE$ and &lt;topology-name&gt;_EDGE$ tables, and in the &lt;topology-name&gt;_FACE$ table if necessary. (If <code>topology</code> is null, you can update these tables at any time by calling the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about removing a node from a topology, see <a href="sdo_topo_editing.htm#CEGIIHDE">Section 2.2.3</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref649"></a>Examples</p>
<p>The following example removes the node with node ID value 500 from the current updatable TopoMap object.</p>
<pre>
CALL SDO_TOPO_MAP.REMOVE_NODE(null, 500);
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACGFAAG"></a>
<div id="TOPOL879" class="refsect1">
<h2 class="refsect1"><a id="sthref650"></a><a id="sthref651"></a><a id="sthref652"></a><a id="sthref653"></a><a id="sthref654"></a>SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref655"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref656"></a>Description</p>
<p>Removes obsolete nodes from a topology. (Obsolete nodes are explained in <a href="sdo_topo_editing.htm#CEGGJBCH">Section 2.2.4</a>.)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref657"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology from which to remove obsolete nodes, or null if you are using an updatable TopoMap object (see <a href="sdo_topo_editing.htm#CEGCCIGG">Section 2.1.2</a>). Must not exceed 20 characters.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref658"></a>Usage Notes</p>
<p>For information about removing obsolete nodes from a topology, see <a href="sdo_topo_editing.htm#CEGGJBCH">Section 2.2.4</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref659"></a>Examples</p>
<p>The following example removes all obsolete nodes from the current updatable TopoMap object.</p>
<pre>
CALL SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES(null);
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACDCFBH"></a>
<div id="TOPOL880" class="refsect1">
<h2 class="refsect1"><a id="sthref660"></a><a id="sthref661"></a><a id="sthref662"></a><a id="sthref663"></a>SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref664"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref665"></a>Description</p>
<p>Rolls back all changes to the database that were made using the current updatable TopoMap object, discards any changes in the object, clears the object's cache structure, and makes the object read-only.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref666"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref667"></a>Usage Notes</p>
<p>Use this procedure when you are finished with a batch of edits to a topology and you want to discard (that is, not commit) all changes to the database and in the cache. After the rollback operation completes, you cannot edit the TopoMap object. To make further edits to the topology, you can load the topology into the same TopoMap object for update (using the <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure), or you can create a new TopoMap object (using the <a href="#CACJCGFE">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure) and load the topology into that TopoMap object for update.</p>
<p>To commit all TopoMap object changes, use the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>This procedure is equivalent to using the <code>rollbackDB</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref668"></a>Examples</p>
<p>The following example rolls back from the database all changes associated with the current updatable TopoMap object.</p>
<pre>
EXECUTE SDO_TOPO_MAP.ROLLBACK_TOPO_MAP;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACCBIEI"></a>
<div id="TOPOL881" class="refsect1">
<h2 class="refsect1"><a id="sthref669"></a><a id="sthref670"></a><a id="sthref671"></a>SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref672"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;capacity IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref673"></a>Description</p>
<p>Returns an array with the edge ID numbers of the edges that interact with a specified query window. The query uses the edge R-tree built on the specified TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref674"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the query window.</p>
</dd>
<dt>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the query window.</p>
</dd>
<dt>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the query window.</p>
</dd>
<dt>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the query window.</p>
</dd>
<dt>capacity</dt>
<dd>
<p>Maximum number of edge ID values to be returned. If you specify 0 or a negative number, 100 is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref675"></a>Usage Notes</p>
<p>This procedure is equivalent to using the <code>searchEdgeRTree</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref676"></a>Examples</p>
<p>The following example returns the edge ID numbers (up to 200) of edge that interact with a query window whose lower-left corner is at (5,5) and upper-right corner is at (30,40). (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP('CITY_DATA_TOPOMAP', -
  5,5, 30,40, 200) FROM DUAL;
 
SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP('CITY_DATA_TOPOMAP',5,5,30,40,200)      
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(12, 13, 22, 20, 9, 21, 19, 6, 10, 7, 26, 3, 1, 25, 2)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACBDEFA"></a>
<div id="TOPOL882" class="refsect1">
<h2 class="refsect1"><a id="sthref677"></a><a id="sthref678"></a><a id="sthref679"></a>SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref680"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;capacity IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_NUMBER_ARRAY;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref681"></a>Description</p>
<p>Returns an array with the face ID numbers of the faces that interact with a specified query window. The query uses the face R-tree built on the specified TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref682"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the query window.</p>
</dd>
<dt>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the query window.</p>
</dd>
<dt>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the query window.</p>
</dd>
<dt>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the query window.</p>
</dd>
<dt>capacity</dt>
<dd>
<p>Maximum number of face ID values to be returned. If you specify 0 or a negative number, 100 is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref683"></a>Usage Notes</p>
<p>This procedure is equivalent to using the <code>searchFaceRTree</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref684"></a>Examples</p>
<p>The following example returns the face ID numbers (up to 200) of faces that interact with a query window whose lower-left corner is at (5,5) and upper-right corner is at (30,40). (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
SELECT SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP('CITY_DATA_TOPOMAP', -
  5,5, 30,40, 200) FROM DUAL;
 
SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP('CITY_DATA_TOPOMAP',5,5,30,40,200)      
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(6, 7, 3, 4, 9, 1, 2)
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACIDAAJ"></a>
<div id="TOPOL883" class="refsect1">
<h2 class="refsect1"><a id="sthref685"></a><a id="sthref686"></a><a id="sthref687"></a><a id="sthref688"></a><a id="sthref689"></a>SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref690"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxsize IN NUMBER DEFAULT 268435456);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref691"></a>Description</p>
<p>Sets the Java maximum heap size for an application to run in an Oracle Java virtual machine.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref692"></a>Parameters</p>
<dl>
<dt>maxsize</dt>
<dd>
<p>Number of bytes for the Java maximum heap size. The default value is 268435456 (256 MB).</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref693"></a>Usage Notes</p>
<p>If you encounter the <code>java.lang.OutOfMemoryError</code> exception, you can use this procedure to increase the maximum heap size.</p>
<p>If you specify a value greater than the system limit, the system limit is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref694"></a>Examples</p>
<p>The following example sets the Java maximum heap size to 536870912 (512 MB).</p>
<pre>
EXECUTE SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE(536870912);
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJCAJH"></a>
<div id="TOPOL884" class="refsect1">
<h2 class="refsect1"><a id="sthref695"></a><a id="sthref696"></a><a id="sthref697"></a>SDO_TOPO_MAP.UPDATE_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref698"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.UPDATE_TOPO_MAP;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref699"></a>Description</p>
<p>Updates the topology to reflect edits made to the current updatable TopoMap object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref700"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref701"></a>Usage Notes</p>
<p>Use this procedure to update the topology periodically during an editing session, as explained in <a href="sdo_topo_editing.htm#CEGHAAJA">Section 2.1.4</a>. Updates are made, as needed, to the edge, face, and node information tables (described in <a href="sdo_topo_concepts.htm#BABBBDBJ">Section 1.5</a>). The TopoMap object remains open for further editing operations. The updates are not actually committed to the database until you call the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>This procedure performs a level-0 validation of the TopoMap object before it updates the topology. (See the explanation of the <code>level</code> parameter for the <a href="#CACJAICB">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a> function.)</p>
<p>If you caused in-memory R-tree indexes to be created when you loaded the TopoMap object (by specifying or accepting the default value of <code>TRUE</code> for the <code>build_indexes</code> parameter with the <a href="#CACBEHDF">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure), you can rebuild these indexes by using the <a href="#CACGEGBB">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a> and <a href="#CACBDEAF">SDO_TOPO_MAP.CREATE_FACE_INDEX</a> procedures. For best index performance, these indexes should be rebuilt periodically when you are editing a large number of topological elements.</p>
<p>Contrast this procedure with the <a href="#CACGGDAC">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure, which clears the cache associated with a specified TopoMap object and makes the object read-only.</p>
<p>To commit all TopoMap object changes, use the <a href="#CACEECCA">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="sdo_topo_editing.htm#CEGBDCHD">Section 2.1</a>.</p>
<p>This procedure is equivalent to using the <code>updateTopology</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref702"></a>Examples</p>
<p>The following example updates the topology associated with the current updatable TopoMap object to reflect changes made to that object.</p>
<pre>
EXECUTE SDO_TOPO_MAP.UPDATE_TOPO_MAP;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CACJAICB"></a>
<div id="TOPOL885" class="refsect1">
<h2 class="refsect1"><a id="sthref703"></a><a id="sthref704"></a><a id="sthref705"></a><a id="sthref706"></a>SDO_TOPO_MAP.VALIDATE_TOPO_MAP</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref707"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.VALIDATE_TOPO_MAP(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topo_map IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level IN NUMBER DEFAULT 1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref708"></a>Description</p>
<p>Performs a first-order validation of a TopoMap object, and optionally (by default) checks the computational geometry also; returns the string <code>TRUE</code> if the structure of the topological elements in TopoMap object is consistent, and raises an exception if the structure of the topological elements in TopoMap object is not consistent.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref709"></a>Parameters</p>
<dl>
<dt>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
</dd>
<dt>level</dt>
<dd>
<p>A value of 0 checks for the following conditions as part of a first-order validation:</p>
<ul>
<li>
<p>All faces are closed, and none have infinite loops.</p>
</li>
<li>
<p>All previous and next edge pointers are consistent.</p>
</li>
<li>
<p>All edges meet at nodes.</p>
</li>
<li>
<p>Each island node is associated with a face.</p>
</li>
<li>
<p>All edges on a face boundary are associated with the face.</p>
</li>
</ul>
<p>A value of 1 (the default) checks for all conditions associated with a value of 0, plus the following conditions related to computational geometry:</p>
<ul>
<li>
<p>Each island is inside the boundary of its associated face.</p>
</li>
<li>
<p>No edge intersects itself or another edge.</p>
</li>
<li>
<p>Start and end coordinates of edges match coordinates of nodes.</p>
</li>
<li>
<p>Node stars are properly ordered geometrically.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref710"></a>Usage Notes</p>
<p>This function checks the consistency of all pointer relationships among edges, nodes, and faces. You can use this function to validate an updatable TopoMap object before you update the topology (using the <a href="#CACJCAJH">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure) or to validate a read-only TopoMap object before issuing queries.</p>
<p>This function uses a tolerance value of 10E-15 for its internal computations, as explained in <a href="sdo_topo_concepts.htm#BABIEJGD">Section 1.2.1</a>.</p>
<p>This function is equivalent to using the <code>validateCache</code> method of the <code>TopoMap</code> class of the client-side Java API (described in <a href="sdo_topo_concepts.htm#CIHBEHFI">Section 1.8.2</a>).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref711"></a>Examples</p>
<p>The following example validates the topology in the TopoMap object named <code>CITY_DATA_TOPOMAP</code>, and it returns a result indicating that the topology is valid. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.VALIDATE_TOPO_MAP('CITY_DATA_TOPOMAP') INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEBDBEA"></a>
<div id="TOPOL886" class="refsect1">
<h2 class="refsect1"><a id="sthref712"></a><a id="sthref713"></a><a id="sthref714"></a>SDO_TOPO_MAP.VALIDATE_TOPOLOGY</h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref715"></a>Format</p>
<p class="synopsis">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prevent_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level IN NUMBER DEFAULT 1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
<p>or</p>
<p class="synopsis">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topology IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymin IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ymax IN NUMBER,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prevent_updates IN VARCHAR2,</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level IN NUMBER DEFAULT 1</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref716"></a>Description</p>
<p>Loads an entire topology or a window (rectangular portion) of a topology into a TopoMap object; returns the string <code>TRUE</code> if the structure of the topology is consistent, and raises an exception if the structure of the topology is not consistent.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref717"></a>Parameters</p>
<dl>
<dt>topology</dt>
<dd>
<p>Name of the topology to be validated. Must not exceed 20 characters.</p>
</dd>
<dt>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt>prevent_updates</dt>
<dd>
<p><code>TRUE</code> prevents other users from updating the topology while the validation is being performed; <code>FALSE</code> allows other users to update the topology while the validation is being performed. If you specify <code>FALSE</code>, any topology changes made by other users while the validation is being performed will not be considered by this function and will not affect the result.</p>
</dd>
<dt>level</dt>
<dd>
<p>A value of 0 checks for the following conditions:</p>
<ul>
<li>
<p>All faces are closed, and none have infinite loops.</p>
</li>
<li>
<p>All previous and next edge pointers are consistent.</p>
</li>
<li>
<p>All edges meet at nodes.</p>
</li>
<li>
<p>Each island node is associated with a face.</p>
</li>
<li>
<p>All edges on a face boundary are associated with the face.</p>
</li>
</ul>
<p>A value of 1 (the default) checks for all conditions associated with a value of 0, plus the following conditions related to computational geometry:</p>
<ul>
<li>
<p>Each island is inside the boundary of its associated face.</p>
</li>
<li>
<p>No edge intersects itself or another edge.</p>
</li>
<li>
<p>Start and end coordinates of edges match coordinates of nodes.</p>
</li>
<li>
<p>Node stars are properly ordered geometrically.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref718"></a>Usage Notes</p>
<p>This function implicitly creates a TopoMap object, and removes the object after the validation is complete. (TopoMap objects are described in <a href="sdo_topo_editing.htm#CEGJIJFD">Section 2.1.1</a>.)</p>
<p>This function uses a tolerance value of 10E-15 for its internal computations, as explained in <a href="sdo_topo_concepts.htm#BABIEJGD">Section 1.2.1</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref719"></a>Examples</p>
<p>The following example validates the topology named <code>CITY_DATA</code>, and it returns a result indicating that the topology is valid. (The example refers to definitions and data from <a href="sdo_topo_concepts.htm#CIHCEGJI">Section 1.12.1</a>.)</p>
<pre>
CALL SDO_TOPO_MAP.VALIDATE_TOPOLOGY('CITY_DATA') INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment778">
<tr>
<td class="cellalignment785">
<table class="cellalignment783">
<tr>
<td class="cellalignment782"><a href="sdo_topo_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment782"><a href="sdo_prtnet.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment787">
<table class="cellalignment781">
<tr>
<td class="cellalignment782"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment782"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment782"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment782"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment782"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment782"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
