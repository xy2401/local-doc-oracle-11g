<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>How to Implement a Web Service</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 015" />
<meta name="dcterms.created" content="2012-02-02T14:33:20Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Application Express Advanced Tutorials" />
<meta name="dcterms.identifier" content="E11945-02" />
<meta name="dcterms.isVersionOf" content="HTMAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="check_box.htm" title="Previous" type="text/html" />
<link rel="Next" href="bar_chart.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11945.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/19</span> <!-- End Header --><a id="CHDJEFEB"></a>
<h1 class="chapter"><span class="secnum">7</span> <a id="HTMAD006"></a>How to Implement a Web Service</h1>
<p>Web services enable applications to interact with one another over the Web in a platform-neutral, language independent environment. In a typical Web services scenario, a business application sends a request to a service at a given URL by using the HTTP protocol. The service receives the request, processes it, and returns a response. You can incorporate calls to external Web services in applications developed in Oracle Application Express.</p>
<p>Web services in Oracle Application Express are based on SOAP (Simple Object Access Protocol). SOAP is a World Wide Web Consortium (W3C) standard protocol for sending and receiving requests and responses across the Internet. SOAP messages can be sent back and forth between a service provider and a service user in SOAP envelopes.</p>
<p>Web services are called from within an Oracle Application Express application by:</p>
<ul>
<li>
<p>Using the Universal Description, Discovery, and Integration (UDDI) registry</p>
</li>
<li>
<p>Manually providing the WSDL URL</p>
</li>
</ul>
<p>This tutorial illustrates the later method.</p>
<p>Topics in this section include:</p>
<ul>
<li>
<p><a href="#BABEAIGH">About Creating Web Service References</a></p>
</li>
<li>
<p><a href="#CACGGHAG">Creating a New Application</a></p>
</li>
<li>
<p><a href="#CACCFEID">Specifying an Application Proxy Server Address</a></p>
</li>
<li>
<p><a href="#CHDDJICH">Creating a Web Service Reference from a WSDL</a></p>
</li>
<li>
<p><a href="#CHDEFEGH">Creating a Web Service Reference Manually</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SOAP 1.1 specification is a W3C note. (The W3C XML Protocol Working Group has been formed to create a standard that will supersede SOAP.)
<p>For information about Simple Object Access Protocol (SOAP) 1.1 see:</p>
<pre>
<a href="http://www.w3.org/TR/SOAP/">http://www.w3.org/TR/SOAP/</a>
</pre></div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
"Implementing Web Services" in <span class="italic"><a class="olink HTMDB13005" href="../../appdev.112/e11947/advnc_web_services.htm#HTMDB13005">Oracle Database Application Express User's Guide</a></span></div>
<a id="BABEAIGH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Creating Web Service References</h2>
<p>To utilize Web services in Oracle Application Express, you create a Web service reference using a wizard. When you create the Web reference, you can follow one of these methods:</p>
<ul>
<li>
<p>You supply the URL to a WSDL document. The wizard then analyzes the WSDL and collects all the necessary information to create a valid SOAP message.</p>
<p>The wizard provides a step where you can locate a WSDL using the Universal Description, Discovery, and Integration (UDDI) registry. A UDDI registry is a directory where businesses register their Web services. You search for the WSDL by entering either a service or business name.</p>
</li>
<li>
<p>You supply the relevant information on how to interact with the Web reference, including the SOAP request envelope, and create the Web reference manually.</p>
</li>
</ul>
<p>This tutorial describes the second method, creating a Web service reference manually.</p>
</div>
<!-- class="sect1" -->
<a id="CACGGHAG"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a New Application</h2>
<p>First, create a new application.</p>
<p>To create an application:</p>
<ol>
<li>
<p>On the Workspace home page, click the <span class="bold">Application Builder</span> icon.</p>
</li>
<li>
<p>On the Application Builder home page, click <span class="bold">Create</span>.</p>
</li>
<li>
<p>For Method, select <span class="bold">Create Application</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Name:</p>
<ol>
<li>
<p>For Name - Enter <code>Web Services</code>.</p>
</li>
<li>
<p>Accept the remaining defaults and click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>Add a blank page:</p>
<ol>
<li>
<p>Under Select Page Type, accept the default, <span class="bold">Blank</span>.</p>
</li>
<li>
<p>In Page Name, enter <code>Web Services</code> and then click <span class="bold">Add Page</span>.</p>
<p>The new page appears in the list at the top of the page.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Tabs, accept the default, <span class="bold">One Level of Tabs</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Shared Components, accept the default, <span class="bold">No</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Attributes, accept the default for Authentication Scheme, Language, and User Language Preference Derived From and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For User Interface, select <span class="bold">Theme 2</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Review your selections and click <span class="bold">Create</span>.</p>
</li>
</ol>
<p>The Application home page appears.</p>
</div>
<!-- class="sect1" -->
<a id="CACCFEID"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Specifying an Application Proxy Server Address</h2>
<p>If your environment requires a proxy server to access the Internet, you must specify a proxy server address on the Application Attributes page before you can create a Web service reference.</p>
<p>To specify a proxy address:</p>
<ol>
<li>
<p>On the Application home page, click <span class="bold">Shared Components</span>.</p>
</li>
<li>
<p>Under Application, click <span class="bold">Definition</span>.</p>
</li>
<li>
<p>Under Name, enter the proxy server in the Proxy Server field.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The Application home page appears.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDDJICH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a Web Service Reference from a WSDL</h2>
<p>In this exercise, you create a Web service by supplying the location of a WSDL document to a Web service. You then create a form and report for displaying movie theaters and locations.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following exercise is dependent upon the availability of the specified Web service ultimately invoked. If the Web service is unavailable, you may experience difficulties completing this exercise.</div>
<p>To create a new Web reference by supplying the WSDL location:</p>
<ol>
<li>
<p>On the Application home page, click <span class="bold">Shared Components</span>.</p>
<p>The Shared Components page appears.</p>
</li>
<li>
<p>Under Logic, select <span class="bold">Web Service References</span>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span></p>
</li>
<li>
<p>When prompted whether to search a UDDI registry to find a WSDL, select <span class="bold">No</span> and click <span class="bold">Next</span>.</p>
<ol>
<li>
<p>In the WSDL Location field enter:</p>
<p><code>http://www.ignyte.com/webservices/ignyte.whatsshowing.webservice/moviefunctions.asmx?wsdl</code></p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>A summary page appears describing the selected Web service.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Create Reference</span>.</p>
<p>The Create Web Service Reference page appears. The Web service reference for MovieInformation is added to the Web Service References Repository.</p>
</li>
</ol>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref104"></a>
<h3 class="sect2">Create a Form and Report</h3>
<p>Next, you need to create a page that contains a form and report to use with your Web Service Reference.</p>
<p>To create a form and report after creating a Web Service Reference:</p>
<ol>
<li>
<p>On the Create Web Service Reference success page, select <span class="bold">Create Form and Report on Web Service</span>.</p>
</li>
<li>
<p>For Choose Service and Operation:</p>
<ol>
<li>
<p>Web Service Reference - Select <span class="bold">MovieInformation</span>.</p>
</li>
<li>
<p>Operation - Select <span class="bold">GetTheatersAndMovies</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Page and Region Attributes:</p>
<ol>
<li>
<p>Form Region Title - Change to <code>Theater Information</code>.</p>
</li>
<li>
<p>Accept the other defaults and click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Input Items:</p>
<ol>
<li>
<p>For P2_ZIPCODE and P2_RADIUS, accept the default, <span class="bold">Yes</span>, in the Create column.</p>
</li>
<li>
<p>For P2_ZIPCODE, change the Item Label default to <code>ZIP Code</code>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Web Service Results:</p>
<ol>
<li>
<p>Temporary Result Set Name (Collection) - Accept the default.</p>
</li>
<li>
<p>Result Tree to Report On - Select <span class="bold">Theater (tns:Theater)</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Result Parameters, select all the parameters and click <span class="bold">Finish</span>.</p>
</li>
<li>
<p>Click <span class="bold">Run Page</span>.</p>
</li>
<li>
<p>If prompted to log in, enter the user name and password for your workspace and click <span class="bold">Login</span>.</p>
<p>A form and report resembling <a href="#CACFJFIH">Figure 7-1</a> appear. Notice that the Theater Information Form at the top of the page contains a data entry field and a submit button, but the Results Report does not contain any data.</p>
<div class="figure">
<p class="titleinfigure"><a id="CACFJFIH"></a>Figure 7-1 Theater Information Form and Report without Data</p>
<img width="599" height="187" src="img/web_name.gif" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" /><br />
<a id="sthref105" href="img_text/web_name.htm">Description of "Figure 7-1 Theater Information Form and Report without Data"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>To test the form, enter <code>43221</code> in the ZIP Code field and <code>5</code> in the Radius field. Then click <span class="bold">Submit</span>.</p>
<p>The report at the bottom of the page should resemble <a href="#CACJEFFB">Figure 7-2</a>. The report lists the names and addresses of movie theaters matching the entered ZIP code and radius.</p>
<div class="figure">
<p class="titleinfigure"><a id="CACJEFFB"></a>Figure 7-2 Theater Information Report Showing Resulting Data</p>
<img width="528" height="404" src="img/web_name_2.gif" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" /><br />
<a id="sthref106" href="img_text/web_name_2.htm">Description of "Figure 7-2 Theater Information Report Showing Resulting Data"</a><br />
<br /></div>
<!-- class="figure" --></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEFEGH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a Web Service Reference Manually</h2>
<p>In this exercise, you create a Web reference by supplying information about the Web service and using the manual facility. Manual Web references are created by visually inspecting the WSDL document as well as using a tool to determine the SOAP envelope for the Web service request.</p>
<p>Topics in this section include:</p>
<ul>
<li>
<p><a href="#CHDBHFJC">Create a Web Service Reference Manually</a></p>
</li>
<li>
<p><a href="#CHDIDJFH">Test the Web Service</a></p>
</li>
<li>
<p><a href="#CHDCAGFI">Create a Page to Call the Manual Web Service</a></p>
</li>
<li>
<p><a href="#CHDDHGHJ">Create a Submit Button</a></p>
</li>
<li>
<p><a href="#CHDCCFEA">Create Items for ZIP Code and Radius</a></p>
</li>
<li>
<p><a href="#CHDJBGCF">Create a Process to Call the Manually Created Web Reference</a></p>
</li>
<li>
<p><a href="#CHDHEEIB">Create a Report on the Web Service Result</a></p>
</li>
</ul>
<a id="CHDBHFJC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Web Service Reference Manually</h3>
<p>To create a Web reference manually, you will copy code from the WSDL for a service called MovieInformation.</p>
<p>Please note the example settings provided in the following steps are based on the MovieInformation service at the time this document was released.</p>
<p>To create a manual Web reference:</p>
<ol>
<li>
<p>On the Application home page, click <span class="bold">Shared Components</span>.</p>
</li>
<li>
<p>Under Logic, click <span class="bold">Web Service References</span>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
<li>
<p>For Search UDDI, select <span class="bold">No</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>From the Tasks list on the right, click the <span class="bold">Create Web Reference Manually</span> link.</p>
<p>The Create/Edit Web Service page appears.</p>
</li>
<li>
<p>In the Name field, enter <code>Movie Info</code>.</p>
</li>
<li>
<p>Locate the endpoint of the MovieInformation service:</p>
<ol>
<li>
<p>Open the WSDL by going to:</p>
<pre>
<a href="http://www.ignyte.com/webservices/ignyte.whatsshowing.webservice/moviefunctions.asmx?wsdl">http://www.ignyte.com/webservices/ignyte.whatsshowing.webservice/moviefunctions.asmx?wsdl</a>
</pre></li>
<li>
<p>In the WSDL, find the <code>location</code> attribute of the <code>soap:address</code> element, which is a child of the <code>port</code> element. You can search for the following term within the code: soap:address location.</p>
<p>At the time of this release, it was this attribute:</p>
<pre>
http://www.ignyte.com/webservices/ignyte.whatsshowing.webservice/moviefunctions.asmx
</pre></li>
</ol>
</li>
<li>
<p>In the URL field on the Create/Edit Web Service page, enter the endpoint of the MovieInformation service you located. For example: <code>http://www.ignyte.com/webservices/ignyte.whatsshowing.webservice/moviefunctions.asmx</code></p>
</li>
<li>
<p>Locate the SOAP action for the <code>GetTheatersAndMovies</code> operation:</p>
<ol>
<li>
<p>If necessary, open the WSDL again. See Step 7a.</p>
</li>
<li>
<p>In the WSDL, find the <code>soapAction</code> attribute of the <code>soap:operation</code> element, which is a child of the operation element that has a name attribute of <code>GetTheatersAndMovies</code>. You can search for the following term within the code: <code>soap:operation soapAction</code>.</p>
<p>At the time of this release, it was this attribute:</p>
<pre>
http://www.ignyte.com/whatsshowing/GetTheatersAndMovies
</pre></li>
</ol>
</li>
<li>
<p>In the Action field on the Create/Edit Web Service page, enter the SOAP action you located. For example: <code>http://www.ignyte.com/whatsshowing/GetTheatersAndMovies</code></p>
</li>
<li>
<p>In the SOAP Envelope field on the Create/Edit Web Reference page, enter the xml code representing the SOAP Request message. For example:</p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:tns="http://www.ignyte.com/whatsshowing"
xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
   &lt;soap:Body&gt;
      &lt;tns:GetTheatersAndMovies&gt;
         &lt;tns:zipCode&gt;#ZIP#&lt;/tns:zipCode&gt;
         &lt;tns:radius&gt;#RADIUS#&lt;/tns:radius&gt;
      &lt;/tns:GetTheatersAndMovies&gt;
   &lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;
</pre>
<p>You can use a SOAP message generating tool, such as MindReef, to construct a valid SOAP Request for a given Web service.</p>
</li>
<li>
<p>In the Store Response in Collection field, enter <code>MOVIE_RESULTS</code>. This is where the response from the Web service will be stored.</p>
<p>The Create/Edit Web Service page should resemble <a href="#CHDBAICJ">Figure 7-3</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="CHDBAICJ"></a>Figure 7-3 Create/Edit Web Service Page</p>
<img width="603" height="607" src="img/web_manref.gif" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" /><br />
<a id="sthref107" href="img_text/web_manref.htm">Description of "Figure 7-3 Create/Edit Web Service Page"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The Web Service References page appears, showing Movie Info in the list.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDIDJFH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Test the Web Service</h3>
<p>To test the Web service:</p>
<ol>
<li>
<p>On the Web Service References page, click the <span class="bold">Test</span> icon next to the Movie Info Web reference.</p>
<p>The Web Services Testing page appears.</p>
<p>Note View must be set to Details, otherwise the Test icon is not displayed.</p>
</li>
<li>
<p>In the SOAP Envelope field, replace #ZIP# with <code>43221</code> and #RADIUS# with <code>5</code>.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
</li>
<li>
<p>Review the Result field and note the following about the response:</p>
<ul>
<li>
<p>The base node in the return envelope is called:</p>
<pre>
GetTheatersAndMoviesResponse
</pre></li>
<li>
<p>The namespace for the message is:</p>
<pre>
http://www.ignyte.com/whatsshowing
</pre></li>
<li>
<p>The XPath to the interesting parts of the response under the result element is:</p>
<pre>
/GetTheatersAndMoviesResponse/GetTheatersAndMoviesResult/Theater/Movies/Movie
</pre></li>
<li>
<p>The interesting elements in the results are called:</p>
<pre>
Name
Rating
RunningTime
ShowTimes
</pre></li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDCAGFI"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Page to Call the Manual Web Service</h3>
<p>Next, you want to create a page to call the manual Web Service.</p>
<p>To create a page to call the manual Web service:</p>
<ol>
<li>
<p>Click the <span class="bold">Application</span> breadcrumb link.</p>
</li>
<li>
<p>On the Application home page, click <span class="bold">Create Page</span>.</p>
</li>
<li>
<p>For Page, select <span class="bold">Blank Page</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Accept the default for the Page Number and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In Name, enter <code>Find Movies</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Tabs, accept the default, <span class="bold">No</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
<li>
<p>On the Success page, click <span class="bold">Edit Page</span>.</p>
</li>
<li>
<p>On the Page Definition, locate the Regions section.</p>
</li>
<li>
<p>Click the <span class="bold">Create</span> icon.</p>
</li>
<li>
<p>For Region, select <span class="bold">HTML</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">HTML</span> as the HTML region container and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Title field, enter <code>Movie Information</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Click <span class="bold">Create Region</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDDHGHJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Submit Button</h3>
<p>Next, you want to add a Submit button to the region to initiate a search from the page.</p>
<p>To create a Submit button:</p>
<ol>
<li>
<p>On the Page Definition, click the <span class="bold">Create</span> icon in the Buttons section.</p>
</li>
<li>
<p>For Button Region, accept the default, <span class="bold">Movie Information</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Button Position, accept the default, <span class="bold">Create a button in a region position</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Button Attributes, enter <code>SUBMIT</code> in the Button Name and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Button Template, accept the default, <span class="bold">Button</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Display Properties, select <span class="bold">Region Template Position #CREATE#</span> from the Position list and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Branch to Page field, select <span class="bold">Find Movies</span> from the list. The page number appears in the field.</p>
</li>
<li>
<p>Click <span class="bold">Create Button</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDCCFEA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create Items for ZIP Code and Radius</h3>
<p>Next, you want to create two items where users can enter a search term.</p>
<p>To create the ZIP Code item:</p>
<ol>
<li>
<p>On the Find Movies Page Definition, click the <span class="bold">Create</span> icon in the Items section.</p>
</li>
<li>
<p>For Item Type, select <span class="bold">Text</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Text Control Display Type, accept the default, <span class="bold">Text Field</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Display Position and Name, specify the following:</p>
<ol>
<li>
<p>Item Name - Enter <code>ZIP</code>.</p>
<p>The Movie Info Web Service Reference defines the zip code sent in the SOAP Request as #ZIP#. Therefore, this Item Name must be ZIP in order for it's value to be substituted into the SOAP Request sent to the Web Service.</p>
</li>
<li>
<p>Region - Accept the default, <span class="bold">Movie Information</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>In the Label field, replace the existing text with <code>ZIP Code</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Click <span class="bold">Create Item</span>.</p>
</li>
</ol>
<p>To create the Radius item:</p>
<ol>
<li>
<p>On the Find Movies Page Definition, click the <span class="bold">Create</span> icon in the Items section.</p>
</li>
<li>
<p>For Item Type, select <span class="bold">Text</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Text Control Display Type, accept the default, <span class="bold">Text Field</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Display Position and Name, specify the following:</p>
<ol>
<li>
<p>Item Name - Enter <code>RADIUS</code>.</p>
<p>The Movie Info Web Service Reference defines the radius sent in the SOAP Request as #RADIUS#. Therefore, this Item Name must be RADIUS in order for it's value to be substituted into the SOAP Request sent to the Web Service.</p>
</li>
<li>
<p>Region - Accept the default, <span class="bold">Movie Information</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>In the Label field, enter <code>Radius</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Click <span class="bold">Create Item</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDJBGCF"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Process to Call the Manually Created Web Reference</h3>
<p>Next, you want to create a process that calls the manually created Web reference.</p>
<p>To create a process to call the manually created Web reference:</p>
<ol>
<li>
<p>On the Find Movies Page Definition, click the <span class="bold">Create</span> icon in the Processes section.</p>
</li>
<li>
<p>For Process Type, select <span class="bold">Web Services</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Name field, enter <code>Call Movie Info</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>From the Web Service Reference list, select <span class="bold">Movie Info</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Success Message area, enter <code>Called Movie Info</code>.</p>
</li>
<li>
<p>In the Failure Message area, enter <code>Error calling Movie Info</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>From the When Button Pressed list, select <span class="bold">SUBMIT</span> and click <span class="bold">Create Process</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDHEEIB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Report on the Web Service Result</h3>
<p>Next, you want to add a report that displays the results of the called Web service.</p>
<p>To create a report on the Web service result:</p>
<ol>
<li>
<p>On the Find Movies Page Definition, click the <span class="bold">Create</span> icon in the Regions section.</p>
</li>
<li>
<p>Select <span class="bold">Report</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Region, select <span class="bold">Report on collection containing Web service result</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Title field, enter <code>Search Results</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Web Reference Type, select <span class="bold">Manually Created</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Web Reference Information, specify the following:</p>
<ol>
<li>
<p>Web Service Reference - Select <span class="bold">Movie Info</span> from the list.</p>
</li>
<li>
<p>SOAP Style - Select <span class="bold">Document</span>.</p>
</li>
<li>
<p>Message Format - Select <span class="bold">Literal</span>.</p>
<p>Note that these two attributes can be determined by manually inspecting the WSDL document for the service.</p>
</li>
<li>
<p>Result Node Path - Enter:</p>
<pre>
/GetTheatersAndMoviesResponse/GetTheatersAndMoviesResult/Theater/Movies/Movie
</pre></li>
<li>
<p>Message Namespace - Enter:</p>
<pre>
http://www.ignyte.com/whatsshowing
</pre>
<p>Note that you reviewed both the Result Node Path and Message Namespace when testing the service.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>In the first four Parameter Names, enter <code>Name</code>, <code>Rating</code>, <code>RunningTime</code>, and <code>ShowTimes</code>, and click <span class="bold">Create SQL Report</span>.</p>
</li>
<li>
<p>To test the page:</p>
<ol>
<li>
<p>Click <span class="bold">Run Page</span>. If prompted to log in, enter your workspace user name and password. The Movie Information form appears, as shown in <a href="#CHDHJGCA">Figure 7-4</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="CHDHJGCA"></a>Figure 7-4 Movie Information Form with No Data</p>
<img width="323" height="185" src="img/web_manrfform.gif" alt="Description of Figure 7-4 follows" title="Description of Figure 7-4 follows" /><br />
<a id="sthref108" href="img_text/web_manrfform.htm">Description of "Figure 7-4 Movie Information Form with No Data"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>In the ZIP Code and Radius fields, enter information and click <span class="bold">Submit</span>.</p>
<p>The results appear in the Search Results area.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment883">
<tr>
<td class="cellalignment890">
<table class="cellalignment893">
<tr>
<td class="cellalignment887"><a href="check_box.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment887"><a href="bar_chart.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment892">
<table class="cellalignment886">
<tr>
<td class="cellalignment887"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment887"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment887"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment887"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment887"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
