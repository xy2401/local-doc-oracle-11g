<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Building Your Application</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-26T9:30:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Application Express Developer's Guide" />
<meta name="dcterms.identifier" content="E11946-02" />
<meta name="dcterms.isVersionOf" content="TDPAX" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="get_start.htm" title="Previous" type="text/html" />
<link rel="Next" href="deploy_app.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e11946.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/11</span> <!-- End Header -->
<div id="TDPAX04000" class="chapter"><a id="BCEBEHBA"></a>
<h1 class="chapter"><span class="secnum">4</span> Building Your <a id="sthref131"></a>Application</h1>
<p>In this tutorial, you create a Human Resources (HR) application for a fictitious company called <span class="italic"><a id="sthref132"></a><a id="sthref133"></a><a id="sthref134"></a>AnyCo Corp</span>. This section shows you how to build the application, modify it, and preview it at different points during the development process.</p>
<p>Before you begin this section:</p>
<ul>
<li>
<p>Read <a href="get_start.htm#BEHBIDJH">"Getting Started with Oracle Application Express"</a>.</p>
</li>
<li>
<p>Ensure you have installed the database objects as described in <a href="get_start.htm#BABGAFBD">"Installing the Sample Objects"</a>. This applies to both the hosted demo environment and local instance.</p>
</li>
</ul>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BCECBCCC">About the Application You Build in This Tutorial</a></p>
</li>
<li>
<p><a href="#BCEJHEJH">Creating the Initial Application</a></p>
</li>
<li>
<p><a href="#CEGHHJEJ">Using an Interactive Report</a></p>
</li>
<li>
<p><a href="#BCEBJJGB">Modifying the Departments Report</a></p>
</li>
<li>
<p><a href="#BCECFAJF">Adding an Employees Report and Form</a></p>
</li>
<li>
<p><a href="#BCEHFFEG">Editing the Employees Report</a></p>
</li>
<li>
<p><a href="#BCEDHHID">Adding a Link on the Home Page to the Employees Report</a></p>
</li>
<li>
<p><a href="#BCECEDHD">Adding a Department Column to the Employees Reports</a></p>
</li>
<li>
<p><a href="#BCEDGEHJ">Linking a Column Value to Another Page</a></p>
</li>
<li>
<p><a href="#BCEIFAJD">Adding a Conditional Department Details Report</a></p>
</li>
<li>
<p><a href="#BCEHBDBD">Adding Your Company Name</a></p>
</li>
<li>
<p><a href="#BCEIDHEF">Switching Themes to Change the User Interface</a></p>
</li>
</ul>
<a id="BCECBCCC"></a>
<div id="TDPAX04002" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About the <a id="sthref135"></a><a id="sthref136"></a>Application You Build in This Tutorial</h2>
<p>This tutorial guides you through the development of a Human Resources (HR) application for a fictitious company called <span class="italic">AnyCo Corp.</span> The application enables users to view and modify employee information stored in the <code>OEHR_DEPARTMENTS</code> and <code>OEHR_EMPLOYEES</code> tables.</p>
<p>When building the application, you perform these tasks:</p>
<ol>
<li>
<p><a href="#BCEJHEJH">"Creating the Initial Application"</a>: Create an application that includes a Home page and a basic Departments report.</p>
</li>
<li>
<p><a href="#CEGHHJEJ">"Using an Interactive Report"</a>: Run and use the Interactive Report.</p>
</li>
<li>
<p><a href="#BCEBJJGB">"Modifying the Departments Report"</a>: Expand the report to pull in data from other tables.</p>
</li>
<li>
<p><a href="#BCECFAJF">"Adding an Employees Report and Form"</a>: Build an Employee form and report based on the <code>OEHR_EMPLOYEES</code> table.</p>
</li>
<li>
<p><a href="#BCEHFFEG">"Editing the Employees Report"</a>: Add calculated fields to the Employees report.</p>
</li>
<li>
<p><a href="#BCEDHHID">"Adding a Link on the Home Page to the Employees Report"</a>: Add a link on the Home page.</p>
</li>
<li>
<p><a href="#BCECEDHD">"Adding a Department Column to the Employees Reports"</a>: Modify the Employees report to enable the user to select a department.</p>
</li>
<li>
<p><a href="#BCEDGEHJ">"Linking a Column Value to Another Page"</a>: Add a link on the Departments report that navigates the user to the Employees report.</p>
</li>
<li>
<p><a href="#BCEIFAJD">"Adding a Conditional Department Details Report"</a>: Add a report as a region that displays department details.</p>
</li>
<li>
<p><a href="#BCEHBDBD">"Adding Your Company Name"</a>: Add your company name so that it appears on all pages in your application.</p>
</li>
<li>
<p><a href="#BCEIDHEF">"Switching Themes to Change the User Interface"</a>: Switch the theme for your application.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BCEJHEJH"></a>
<div id="TDPAX04003" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating the <a id="sthref137"></a><a id="sthref138"></a>Initial Application</h2>
<p>This first exercise guides you through creating your initial application. Using the Create Application Wizard, you create two pages and specify basic application functionality.</p>
<p>The pages created in this section include:</p>
<ul>
<li>
<p>Home - This page is the first page displayed when the application is run. This page contains a link to the Departments report.</p>
</li>
<li>
<p>Departments - This page is an interactive report of all departments.</p>
<p>There are two types of reports, interactive and classic. Interactive is the default when creating applications, converting forms and creating report regions. Interactive reports should be selected when you want to provide user customizations such as filters, sorting, compilation and so on. If you have limited need for this functionality, you are best served by using a classic report.</p>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
For more information on the difference between these two report types, see Chapter 3. How to Create a Parameterize Report in the <span class="italic">Oracle Application Express Advanced Tutorials</span>.</div>
</li>
</ul>
<p>To create your initial application:</p>
<ol>
<li>
<p>Log in to Oracle Application Express.</p>
<p>For instructions, see <a href="setup_env.htm#CACCEHAE">"Logging In to the Hosted Demo Environment"</a> or <a href="setup_env.htm#BEHCHGGB">"Logging In to Your Local Instance"</a>.</p>
</li>
<li>
<p>On the Workspace home page, click <span class="bold">Application Builder</span>.</p>
</li>
<li>
<p>Click the <span class="bold">Create</span> button.</p>
<p>The <a id="sthref139"></a>Create Application Wizard appears.</p>
<img width="758" height="265" src="img/cr_app.gif" alt="Description of cr_app.gif follows" /><br />
<a id="sthref140" href="img_text/cr_app.htm">Description of the illustration cr_app.gif</a><br />
<br />
<p>Note that each page within a wizard displays the title of the wizard (for example, <span class="italic">Create Application</span>). Each wizard page also displays a series of blocks on the left, representing the sequence of steps. The highlighted block indicates the step you are performing.</p>
<img width="145" height="101" src="img/bldap_wiz_steplst.gif" alt="Description of bldap_wiz_steplst.gif follows" /><br />
<a id="sthref141" href="img_text/bldap_wiz_steplst.htm">Description of the illustration bldap_wiz_steplst.gif</a><br />
<br />
<p>To orient you, each step in these exercises generally begins with the block label. For example, the first step in the Create Application Wizard highlights the word <span class="italic">Method</span>. Therefore, the next step orients you by beginning with the words <span class="italic">For Method</span>.</p>
</li>
<li>
<p>For Method, accept the default, <span class="bold">Create Application</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Name:</p>
<ol>
<li>
<p>Name - Enter <code>AnyCo Corp</code>.</p>
</li>
<li>
<p>Application - accept the default ID. The system provides a unique ID for each application you create in this workspace.</p>
</li>
<li>
<p>Create Application - Accept the default, <span class="bold">From scratch</span>.</p>
</li>
<li>
<p>Schema - Select the schema that contains the objects for this tutorial (for example, <span class="bold">TWODAYPLUS</span>).</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
<p>Next, add a page to your application.</p>
</li>
<li>
<p>For Pages, specify the following in the Add Page section:</p>
<ol>
<li>
<p>Select Page Type - Accept the default, <span class="bold">Blank</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Explanatory information for each option appears on the right side of the page. This page-level help appears throughout the application.</div>
</li>
<li>
<p>Page Name - Enter <code>Home</code>.</p>
</li>
<li>
<p>Click <span class="bold">Add Page</span>.</p>
<p>The Home page is now listed in the top area. Also, note that the Add Page area appears so you can continue adding pages to your initial application.</p>
</li>
</ol>
<img width="606" height="430" src="img/cr_app_add_pg.gif" alt="Description of cr_app_add_pg.gif follows" /><br />
<a id="sthref142" href="img_text/cr_app_add_pg.htm">Description of the illustration cr_app_add_pg.gif</a><br />
<br />
<p>Next, add a report page on the <code>OEHR_DEPARTMENTS</code> table.</p>
</li>
<li>
<p>In the Add Page section, specify the following:</p>
<ol>
<li>
<p>Select Page Type - Select <span class="bold">Report</span>.</p>
</li>
<li>
<p>Subordinate to Page - Select <span class="bold">Home (1)</span>.</p>
<p>This sets up the hierarchy among the pages in your application.</p>
</li>
<li>
<p>Page Source - Accept the default, <span class="bold">Table</span>.</p>
</li>
<li>
<p>Table Name - Select <span class="bold">OEHR_DEPARTMENTS</span>.</p>
<p>The list shows all tables and views in the schema associated with the application.</p>
</li>
<li>
<p>Implementation - Accept the default <span class="bold">I<a id="sthref143"></a><a id="sthref144"></a><a id="sthref145"></a>nteractive</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add Page</span>.</p>
<p>Notice that the pages listed in the Create Application section reflect the hierarchy of the pages in your application.</p>
<p>Next, change the default page name, OEHR_DEPARTMENTS, to Departments.</p>
</li>
</ol>
</li>
<li>
<p>Click the <span class="bold">Oehr_Departments</span> link.</p>
</li>
<li>
<p>Under Page Definition, change the Page Name to <code>Departments</code> and click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>In the Create Application section, click <span class="bold">Next</span>.</p>
<p>After adding your initial pages, define some application-level settings.</p>
</li>
<li>
<p>For Tabs, select <span class="bold">No Tabs</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Shared Components, accept the default, <span class="bold">No</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Attributes, make these changes:</p>
<ol>
<li>
<p>Authentication Scheme - Accept the default, <span class="bold">Application Express</span>.</p>
<p>Note that Application Express is the default <a id="sthref146"></a>Authentication Scheme. The authentication scheme option enables you to control users' access to the application using Application Express authentication or another type of authentication.</p>
</li>
<li>
<p>Language - Accept the default, <span class="bold">English (United States) (en-us)</span></p>
</li>
<li>
<p>User Language Preference Derived From - Accept the default, <span class="bold">Use Application Primary Language</span>.</p>
</li>
<li>
<p>Date Format - Select the up arrow to select the <span class="bold">12-JAN-04</span> format from the list of Date formats.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For User Interface, select <span class="bold">Theme 18</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Confirm, verify the information and click <span class="bold">Create</span>.</p>
<p>The two pages you created, Home and Departments, appear as icons by default.</p>
<div class="infoboxnotealso">
<p class="notep1">Note:</p>
To view the pages in a list instead of as icons, from the View list select <span class="bold">Details</span> and click <span class="bold">Go</span>. Your view setting is retained from session to session.
<p>Because these steps use the default setting, switch back to Icons view before continuing.</p>
</div>
<p>Notice that Oracle Application Express adds a Login page automatically to your application.</p>
<img width="397" height="154" src="img/bldap_cr_app.gif" alt="Description of bldap_cr_app.gif follows" /><br />
<a id="sthref147" href="img_text/bldap_cr_app.htm">Description of the illustration bldap_cr_app.gif</a><br />
<br /></li>
</ol>
<p>Congratulations! You created your first application using Oracle Application Express. Next, preview the application to see the application the way it would appear to end users.</p>
<div id="TDPAX7031" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref148"></a>
<h3 class="sect2">Previewing Your <a id="sthref149"></a><a id="sthref150"></a><a id="sthref151"></a><a id="sthref152"></a>Application</h3>
<p>You preview your application by running it. Running the application displays the rendered version of the application as end users would see it.</p>
<p>As you create pages, you can view them by running the page individually or by running the entire application. When you run a page or application, the Application Express engine dynamically renders it into viewable HTML based on data stored in the database.</p>
<ul>
<li>
<p>To run the application, click the <a id="sthref153"></a><span class="bold">Run Application</span> icon.</p>
<img width="127" height="91" src="img/run_ico_sm.gif" alt="Description of run_ico_sm.gif follows" /><br />
<a id="sthref154" href="img_text/run_ico_sm.htm">Description of the illustration run_ico_sm.gif</a><br />
<br /></li>
<li>
<p>To run the page, click the <a id="sthref155"></a><span class="bold">Run Page</span> icon.</p>
<img width="14" height="20" src="img/run_ico_green.gif" alt="Description of run_ico_green.gif follows" /><br />
<a id="sthref156" href="img_text/run_ico_green.htm">Description of the illustration run_ico_green.gif</a><br />
<br /></li>
</ul>
<p>To preview your application:</p>
<ol>
<li>
<p>On the Application home page, click <span class="bold">Run Application</span>.</p>
<p>The first time you run an application you are prompted to enter a user name and password. To continue, simply enter your workspace user name and password and then click Login.</p>
</li>
<li>
<p>The first time you run an application you are prompted to enter a user name and password. To continue, simply enter your workspace user name and password and then click <span class="bold">Login</span>.</p>
<p>You can run the application using your Application Express login credentials because you chose Application Express Authentication when creating the application. For more information, see "Establishing User Identity Through Authentication" in <a class="olink HTMDB12003" href="../../appdev.112/e11947/sec_authentication.htm#HTMDB12003"><span class="italic">Oracle Application Express Application Builder User's Guide</span></a>.</p>
<p>The <a id="sthref157"></a>Home page of your application appears.</p>
<img width="585" height="311" src="img/bldap_home.gif" alt="Description of bldap_home.gif follows" /><br />
<a id="sthref158" href="img_text/bldap_home.htm">Description of the illustration bldap_home.gif</a><br />
<br />
<p>Notice that a link to the Departments page appears on the Home page because you set up that hierarchy.</p>
<p>Also notice the <a id="sthref159"></a>Developer toolbar at the bottom of the page. These links appear when you run an application within the development environment. The Developer toolbar offers a quick way to edit the current page, create a page, region, or page control, view session state, or toggle in and out of Debug mode.</p>
</li>
<li>
<p>Click the <span class="bold">Departments</span> link.</p>
<p>The Departments report appears.</p>
<img width="499" height="583" src="img/bldap_dept.gif" alt="Description of bldap_dept.gif follows" /><br />
<a id="sthref160" href="img_text/bldap_dept.htm">Description of the illustration bldap_dept.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEBJJGB"></a>
<div id="TDPAX04004" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Modifying the <a id="sthref161"></a>Departments Report</h2>
<p>When you run the Create Application Wizard, the wizard creates forms and reports based on the selections you make. Behind the scenes, Application Express writes a query for you to extract the appropriate data from the database.</p>
<p>In this exercise, you modify the query for the <a id="sthref162"></a><a id="sthref163"></a><a id="sthref164"></a><a id="sthref165"></a>Departments report to include information from the <code>OEHR_EMPLOYEES</code> table. Three columns from the OEHR_EMPLOYEES table, Number of Employees, Manager Name and Location, are added to the Departments report. The Manager Name column replaces the Manager Id column and the Location column replaces the Location Id column.</p>
<p>To modify the Departments report:</p>
<ol>
<li>
<p>Click the <span class="bold">Edit Page 2</span> link on the Developer toolbar (at the bottom of the page).</p>
<p>The Page Definition for Page 2 appears. A <span class="bold">page</span> is the basic building block of an application. Pages contain user interface elements such as tabs, lists, buttons, items, and regions. To see the definition of each page belonging to your application, you use the Page Definition page. For more information, see <a href="get_start.htm#BEHJCDAD">"What Is Application Builder?"</a>.</p>
</li>
<li>
<p>Under Page Rendering, locate the Regions section.</p>
<img width="415" height="389" src="img/bldap_reg.gif" alt="Description of bldap_reg.gif follows" /><br />
<a id="sthref166" href="img_text/bldap_reg.htm">Description of the illustration bldap_reg.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Departments</span>.</p>
</li>
<li>
<p>Scroll down to Source, and replace the default Region Source script with the following:</p>
<pre>
SELECT d.DEPARTMENT_ID,
    d.DEPARTMENT_NAME,
    (select count(*)from oehr_employees where department_id = d.department_id)  "Number of Employees",
    substr(e.first_name,1,1)||'.'||e.last_name "Manager Name",
    c.COUNTRY_NAME "Location"
FROM OEHR_DEPARTMENTS d,
   OEHR_EMPLOYEES e,
   OEHR_LOCATIONS l,
   OEHR_COUNTRIES c
WHERE d.LOCATION_ID=l.LOCATION_ID
    AND l.COUNTRY_ID=c.COUNTRY_ID
    AND d.DEPARTMENT_ID=e.department_id
    AND d.manager_id=e.employee_id
    AND instr(upper(d.department_name),upper(nvl(:P2_REPORT_SEARCH,d.department_name)))&gt;0
</pre></li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span> to confirm.</p>
</li>
<li>
<p>Under the Regions section, click the <span class="bold">Interactive Report</span> link.</p>
</li>
<li>
<p>Click <span class="bold">Edit</span> icon next to Number of Employees.</p>
</li>
<li>
<p>Under Column Definition, select <span class="bold">center</span> for Column Alignment.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
<div id="TDPAX7032" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref167"></a>
<h3 class="sect2">Run the <a id="sthref168"></a><a id="sthref169"></a><a id="sthref170"></a><a id="sthref171"></a>Report to View Added Columns</h3>
<p>To see how the page looks to end users, run the page. When you run a page, the Application Express engine dynamically renders and processes the page to display viewable HTML.</p>
<p>To run the page:</p>
<ol>
<li>
<p>Click the <a id="sthref172"></a>Run Page icon in the upper right corner.</p>
<img width="180" height="92" src="img/runpg_iconrow.gif" alt="Description of runpg_iconrow.gif follows" /><br />
<a id="sthref173" href="img_text/runpg_iconrow.htm">Description of the illustration runpg_iconrow.gif</a><br />
<br />
<p>The revised Departments report appears.</p>
<img width="453" height="472" src="img/bldap_deptexp.gif" alt="Description of bldap_deptexp.gif follows" /><br />
<a id="sthref174" href="img_text/bldap_deptexp.htm">Description of the illustration bldap_deptexp.gif</a><br />
<br /></li>
<li>
<p>To add the new columns, click the <span class="bold">A<a id="sthref175"></a><a id="sthref176"></a>ctions</span> menu. The list of Action options appears.</p>
<img width="469" height="614" src="img/bldap_addcolumn.gif" alt="Description of bldap_addcolumn.gif follows" /><br />
<a id="sthref177" href="img_text/bldap_addcolumn.htm">Description of the illustration bldap_addcolumn.gif</a><br />
<br />
<p>Note that the Manager Id and Location Id columns are no longer available. Also note that the three new columns are not displayed on the revised report: Number of Employees, Manager Name, and Location. The following steps are required to add these columns to the display and reorder them.</p>
</li>
<li>
<p>Select <span class="bold">Select Columns</span>.</p>
<p>The columns that were added by the new SQL, Location and Manager Name, are in the <span class="bold">Do Not Display</span> box.</p>
</li>
<li>
<p>Click the <span class="bold">Move All</span> icon to add these three columns to the <span class="bold">Display in Report</span> box. The Move All icon looks like the following figure. <img width="20" height="19" src="img/bldap_moveall.gif" alt="Description of bldap_moveall.gif follows" /><br />
<a id="sthref178" href="img_text/bldap_moveall.htm">Description of the illustration bldap_moveall.gif</a><br />
<br /></p>
</li>
<li>
<p>Use the up and down arrows to the right of the Display in Report to put the columns in this order:</p>
<img width="673" height="258" src="img/bldap_reorder.gif" alt="Description of bldap_reorder.gif follows" /><br />
<a id="sthref179" href="img_text/bldap_reorder.htm">Description of the illustration bldap_reorder.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The Departments page appears and includes the new columns.</p>
<img width="740" height="474" src="img/bldap_deptnew.gif" alt="Description of bldap_deptnew.gif follows" /><br />
<a id="sthref180" href="img_text/bldap_deptnew.htm">Description of the illustration bldap_deptnew.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGHHJEJ"></a>
<div id="TDPAX7033" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using an Interactive Report</h2>
<p>This exercise guides you through some commonly used report options available to users when they run interactive reports. These options allow the user to perform certain tasks quickly.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For an overview of all Interactive Report components see How to Create a Parameterized Report in the <a class="olink HTMAD" href="../../appdev.112/e11945/toc.htm"><span class="italic">Oracle Application Express Advanced Tutorials</span></a>.</div>
<p>Topics included in this section:</p>
<ul>
<li>
<p><a href="#CEGDFCHD">Save Report Settings as the Default</a></p>
</li>
<li>
<p><a href="#CEGHJJBJ">Create a Filter</a></p>
</li>
<li>
<p><a href="#BCEHCDJI">Change the Sort Order</a></p>
</li>
<li>
<p><a href="#BCEBFFBH">Add a Controlled break</a></p>
</li>
<li>
<p><a href="#BCEBCHDA">Reset Report Settings</a></p>
</li>
</ul>
<p>You already used the Select Column option from the Actions menu to add columns to the report display. In this section, you run the application and use some of the various search, sort, highlight and reset features to manipulate the Departments interactive report.</p>
<p>This tutorial only touches on some of the most prominent functionality available with interactive reports. For complete details refer to the <a class="olink HTMAD" href="../../appdev.112/e11945/toc.htm"><span class="italic">Oracle Application Express Advanced Tutorials</span></a> and <a class="olink HTMDB" href="../e11947/toc.htm"><span class="italic">Oracle Application Express Application Builder User's Guide</span></a>.</p>
<a id="CEGDFCHD"></a>
<div id="TDPAX7034" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Save Report Settings as the Default</h3>
<p>If the report settings are not saved as the default, the columns added to the display in the previous steps are not displayed when the application is restarted or when the report is reset.</p>
<p>To save current report settings as the default:</p>
<ol>
<li>
<p>Select the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Save Report</span>.</p>
<p>The Save Report settings appear.</p>
</li>
<li>
<p>Select <span class="bold">As Default Report Settings</span> from the <span class="bold">Save</span> drop down.</p>
<img width="449" height="160" src="img/bldap_default.gif" alt="Description of bldap_default.gif follows" /><br />
<a id="sthref181" href="img_text/bldap_default.htm">Description of the illustration bldap_default.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Apply.</span></p>
<p>The report will show all columns when the user selects the Reset option from the Actions menu or when the page is reset by a Reset Interactive Report command, <code>RIR</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For a description of how to save as a report as a Named Report see How to Create a Parameterized Report in the <a class="olink HTMAD" href="../../appdev.112/e11945/toc.htm"><span class="italic">Oracle Application Express Advanced Tutorials</span></a>.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGHJJBJ"></a>
<div id="TDPAX7035" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Filter</h3>
<p>This exercise shows you how a user can add a filter to the Departments report. This example creates a filter to show all departments with the exception of departments with an Id of <code>60</code>.</p>
<p>There is more than one way a user can create a filter. The user can add a filter from the:</p>
<ul>
<li>
<p>Search Bar</p>
</li>
<li>
<p>Actions Menu</p>
</li>
<li>
<p>Column Heading</p>
</li>
</ul>
<p>The Actions menu offers more options than the others. For a quick filter using the equals operator, the Search Bar or column heading are the quickest methods. For anything else, use the Filter option from the Actions menu.</p>
<p>To create a filter for all departments not equal to <code>60</code>:</p>
<ol>
<li>
<p>Select the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Filter</span>.</p>
<p>The filter settings display. Note the user can also click the column heading link to create a filter for that column. Creating a filter from the column heading menu, however, is limited to the equal operator.</p>
<img width="585" height="126" src="img/bldap_filter.gif" alt="Description of bldap_filter.gif follows" /><br />
<a id="sthref182" href="img_text/bldap_filter.htm">Description of the illustration bldap_filter.gif</a><br />
<br /></li>
<li>
<p>From the Operator drop down, select the not equals operator:</p>
<pre>
<span class="bold">!=</span>
</pre></li>
<li>
<p>Select <span class="bold">60</span> from the Expression drop down.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The Departments report is displayed with the Department_Id!=60 filter applied. All departments, accept for the IT department with a Department Id of 60, are included in the report.</p>
<img width="740" height="475" src="img/bldap_dept60.gif" alt="Description of bldap_dept60.gif follows" /><br />
<a id="sthref183" href="img_text/bldap_dept60.htm">Description of the illustration bldap_dept60.gif</a><br />
<br />
<p>Notice the filter is shown at the top of the report. You can edit, disable, or delete this filter. To edit, click on the filter name. To disable, deselect the check box. To delete, click on the Delete icon that looks like an X over the filter icon.</p>
</li>
<li>
<p>Deselect the check box next to the Department Id!=60 filter to disable it.</p>
<p>The report shows data for all Department Ids.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEHCDJI"></a>
<div id="TDPAX7036" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Change the Sort Order</h3>
<p>In this exercise, you learn how the user can reorder the data for each column.</p>
<p>To change the sort order:</p>
<ol>
<li>
<p>Select the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Sort</span>.</p>
<p>The sort settings are displayed. Note this option is also available for each column by clicking the column heading. The Actions menu is quicker when changing the sort order for multiple columns.</p>
</li>
<li>
<p>Select <span class="bold">Department Name</span> for the first column entry.</p>
<img width="440" height="250" src="img/bldap_actionsort.gif" alt="Description of bldap_actionsort.gif follows" /><br />
<a id="sthref184" href="img_text/bldap_actionsort.htm">Description of the illustration bldap_actionsort.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The report shows the Department Name column in ascending alphabetical order.</p>
<img width="765" height="460" src="img/bldap_ascend.gif" alt="Description of bldap_ascend.gif follows" /><br />
<a id="sthref185" href="img_text/bldap_ascend.htm">Description of the illustration bldap_ascend.gif</a><br />
<br />
<p>Notice the up arrow icon after the Department Name that indicates the column has been sorted in ascending order. You can click on this arrow to resort the column.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEBFFBH"></a>
<div id="TDPAX7037" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add a Controlled break</h3>
<p>Another Actions menu option the user can select to reformat the report, is the controlled break. This allows the user to delineate data into clearly visible groups.</p>
<p>To add a controlled break:</p>
<ol>
<li>
<p>Click the <span class="bold">Location</span> column heading.</p>
<p>The column heading menu appears.</p>
</li>
<li>
<p>Click the <span class="bold">Control Break</span> icon as shown below.</p>
<p>Note this same option is also available from the Actions menu.</p>
<img width="204" height="165" src="img/bldap_ctlbrk.gif" alt="Description of bldap_ctlbrk.gif follows" /><br />
<a id="sthref186" href="img_text/bldap_ctlbrk.htm">Description of the illustration bldap_ctlbrk.gif</a><br />
<br />
<p>The report is reformatted to show a break after each group of rows that share the same location.</p>
<img width="608" height="668" src="img/bldap_locbrk.gif" alt="Description of bldap_locbrk.gif follows" /><br />
<a id="sthref187" href="img_text/bldap_locbrk.htm">Description of the illustration bldap_locbrk.gif</a><br />
<br />
<p>Note the Location control break report setting has been added under the Department Id!=60 filter.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="TDPAX7038" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref188"></a>
<h3 class="sect2">Display the Single Row View</h3>
<p>The user can display details for a row by selecting the Single Row icon.</p>
<p>To display the single row view:</p>
<ol>
<li>
<p>Locate the <span class="bold">Single Row View</span> icon for the first row.</p>
<img width="303" height="190" src="img/bldap_singlerow.gif" alt="Description of bldap_singlerow.gif follows" /><br />
<a id="sthref189" href="img_text/bldap_singlerow.htm">Description of the illustration bldap_singlerow.gif</a><br />
<br /></li>
<li>
<p>Select the <span class="bold">Single Row View</span> icon for the first row.</p>
<p>The details page for the first row appears.</p>
<img width="574" height="254" src="img/bldap_details.gif" alt="Description of bldap_details.gif follows" /><br />
<a id="sthref190" href="img_text/bldap_details.htm">Description of the illustration bldap_details.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEBCHDA"></a>
<div id="TDPAX7039" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Reset Report Settings</h3>
<p>The user can revert the report settings back to the saved default settings.</p>
<p>When an interactive report is reset, the default settings are applied to the report. An interactive report can be reset by the user and by the developer under the following conditions:</p>
<ul>
<li>
<p>A user can reset an interactive report if the Reset option is available from the Actions menu. This option is enabled or disabled by the developer. For further details see "Editing Interactive Reports" in the <a class="olink HTMDB25353" href="../../appdev.112/e11947/bldapp_rpt.htm#HTMDB25353"><span class="italic">Oracle Application Express Application Builder User's Guide</span></a>.</p>
</li>
<li>
<p>A developer can specify that an interactive report be reset when it is called from another page. The Reset Interactive Report command, <code>RIR</code>, is used for this purpose. For further details see "Editing Interactive Reports" in the <a class="olink HTMDB25353" href="../../appdev.112/e11947/bldapp_rpt.htm#HTMDB25353"><span class="italic">Oracle Application Express Application Builder User's Guide</span></a>.</p>
</li>
</ul>
<p>To return to the default settings:</p>
<ol>
<li>
<p>Select the <span class="bold">Departments</span> breadcrumb.</p>
</li>
<li>
<p>Select the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Reset</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The report goes back to the default report settings saved in the previous section.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCECFAJF"></a>
<div id="TDPAX04005" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding an Employees <a id="sthref191"></a><a id="sthref192"></a><a id="sthref193"></a><a id="sthref194"></a><a id="sthref195"></a><a id="sthref196"></a><a id="sthref197"></a>Report and Form</h2>
<p>In this exercise, you add a report to display employee information and a form to create, update, and delete employee information.</p>
<p>To add an employee report and form:</p>
<ol>
<li>
<p>Click the <a id="sthref198"></a><span class="bold">Application ID</span> link on the Developer toolbar (at the bottom of the page).</p>
<p>The Application home page appears.</p>
</li>
<li>
<p>Click <span class="bold">Create Page</span>.</p>
</li>
<li>
<p>For Page:</p>
<ol>
<li>
<p>Select <span class="bold">Form</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">Form on a Table with Report</span>.</p>
<p>This option creates two pages, a report and form, based on a single table or view.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Table/View Owner, accept the default and click <span class="bold">Next</span>. This specifies the schema owner.</p>
</li>
<li>
<p>For Table/View Name, select <span class="bold">OEHR_EMPLOYEES</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Define Report Page, make these changes:</p>
<ol>
<li>
<p>Implementation - Select <span class="bold">Interactive</span>.</p>
</li>
<li>
<p>Page Name - Change to <code>Employees</code>.</p>
</li>
<li>
<p>Region Title - Change to <code>Employees</code>.</p>
</li>
<li>
<p><a id="sthref199"></a><a id="sthref200"></a><a id="sthref201"></a>Breadcrumb - Select <span class="bold">Breadcrumb</span>.</p>
<p>The Create Breadcrumb Entry section appears.</p>
</li>
<li>
<p>For Select Parent Entry, click the <span class="bold">Home</span> link.</p>
<p>Home appears in the Parent Entry field.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Define Report Page, accept the default, <span class="bold">Do not use tabs</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Define Report Page, press the <span class="bold">Ctrl</span> key, select the following columns, and click <span class="bold">Next</span>:</p>
<ul>
<li>
<p>EMPLOYEE_ID</p>
</li>
<li>
<p>FIRST_NAME</p>
</li>
<li>
<p>LAST_NAME</p>
</li>
<li>
<p>HIRE_DATE</p>
</li>
<li>
<p>SALARY</p>
</li>
<li>
<p>COMMISSION_PCT</p>
</li>
</ul>
<p>The columns you selected appear on the Report page when the page is run.</p>
</li>
<li>
<p>For Define Report Page, accept the defaults and click <span class="bold">Next</span>.</p>
<p>Note that the default Edit Link image resembles a small piece of paper and pencil.</p>
<p>Next, define the page and region information for the form.</p>
</li>
<li>
<p>For Define Form Page, edit the following:</p>
<ol>
<li>
<p>Page Name - Enter <code>Create/Edit Employee</code>.</p>
</li>
<li>
<p>Region Title - Enter <code>Create/Edit Employee</code>.</p>
</li>
<li>
<p>Entry Name - Enter <code>Create/Edit Employee</code>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>In Primary Key, accept the defaults and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In Define the source for the primary key columns, accept the default, <a id="sthref202"></a><a id="sthref203"></a><a id="sthref204"></a><a id="sthref205"></a><span class="bold">Existing trigger</span>, and click <span class="bold">Next</span>.</p>
<p>Your table, <code>OEHR_EMPLOYEES</code>, already has a trigger that populates the primary key.</p>
</li>
<li>
<p>In Select Column(s), select all columns and click <span class="bold">Next</span>.</p>
<p>These columns appear in the Create/Edit Employee form when the page is run.</p>
</li>
<li>
<p>In Identify Process Options, accept the defaults and click <span class="bold">Next</span>.</p>
<p>These selections enable users to add, update, and create employee records.</p>
</li>
<li>
<p>For Confirm, verify the information and click <span class="bold">Finish</span>.</p>
</li>
</ol>
<div id="TDPAX7040" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref206"></a>
<h3 class="sect2">Previewing the <a id="sthref207"></a><a id="sthref208"></a><a id="sthref209"></a><a id="sthref210"></a>Pages</h3>
<p>To preview the two pages you just created, run the current page. From the Employees report, you can then preview the form.</p>
<p>To preview the pages:</p>
<ol>
<li>
<p>Click the <span class="bold">Run Page</span> icon.</p>
<img width="332" height="153" src="img/runpg_afterwiz.gif" alt="Description of runpg_afterwiz.gif follows" /><br />
<a id="sthref211" href="img_text/runpg_afterwiz.htm">Description of the illustration runpg_afterwiz.gif</a><br />
<br />
<p>The Employees report appears.</p>
<img width="598" height="551" src="img/bldap_emprpt.gif" alt="Description of bldap_emprpt.gif follows" /><br />
<a id="sthref212" href="img_text/bldap_emprpt.htm">Description of the illustration bldap_emprpt.gif</a><br />
<br />
<p>Note the following about the Employees report:</p>
<ul>
<li>
<p>The Search Bar with the Actions menu appears at the top. For more information see <a href="#CEGHHJEJ">Using an Interactive Report</a> .</p>
</li>
<li>
<p>The column headings are links that allow the user to quickly perform various sorting, filtering and reformatting operations. For more information see <a href="#CEGHHJEJ">Using an Interactive Report</a> .</p>
</li>
<li>
<p>The Edit icon you selected appears in each row. You can click the Edit icon to update the employee record. Since you created a form based on a table with a report, the wizard automatically linked the report to the form. If you create just a report, as is done in the previous <a href="#BCEJHEJH">Creating the Initial Application</a> section, the wizard automatically links the report to the single row view.</p>
</li>
<li>
<p>The Create button appears in the upper right corner. You can click the Create button to add an employee to the underlying table.</p>
</li>
<li>
<p>The Employees report includes the five columns you specified. When you selected the columns and applied the changes, Oracle Application Express created the appropriate SQL code in the background to produce this result.</p>
</li>
</ul>
<p>Your data might appear in a different order. If so, ignore this difference and continue with these steps.</p>
</li>
<li>
<p>To review the form you also created, click the <span class="bold">Edit</span> icon in an Employee row.</p>
<p>The Create/Edit Employee form appears.</p>
<img width="418" height="415" src="img/bldap_empeditfrm.gif" alt="Description of bldap_empeditfrm.gif follows" /><br />
<a id="sthref213" href="img_text/bldap_empeditfrm.htm">Description of the illustration bldap_empeditfrm.gif</a><br />
<br />
<p>Note the following about the <a id="sthref214"></a>Create/Edit Employee form:</p>
<ul>
<li>
<p>The form includes Cancel, Delete, and Apply Changes buttons.</p>
</li>
<li>
<p>The Hire Date field displays a calendar, which is included because the data type of the underlying column is <code>DATE</code>.</p>
</li>
<li>
<p>Fields labeled in red require entries.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEHFFEG"></a>
<div id="TDPAX04006" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Editing the <a id="sthref215"></a><a id="sthref216"></a><a id="sthref217"></a>Employees Report</h2>
<p>In this exercise, you create a new column titled Remuneration to display employees' salaries in the Employees report.</p>
<p>Topics in this section include:</p>
<ul>
<li>
<p><a href="#BCEIGGJE">Create a Function</a></p>
</li>
<li>
<p><a href="#CEGBEGGE">Add a Column</a></p>
</li>
<li>
<p><a href="#BCEIIEEG">Previewing the Page</a></p>
</li>
<li>
<p><a href="#BCEDCGDJ">Changing the Column Format</a></p>
</li>
</ul>
<a id="BCEIGGJE"></a>
<div id="TDPAX7042" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a <a id="sthref218"></a><a id="sthref219"></a><a id="sthref220"></a><a id="sthref221"></a><a id="sthref222"></a><a id="sthref223"></a>Function</h3>
<p>First, create a function to calculate employees' salaries.</p>
<p>To create a function:</p>
<ol>
<li>
<p>Click the <span class="bold">Home</span> link on the Developer toolbar.</p>
</li>
<li>
<p>Click <span class="bold">SQL Workshop</span> and then <span class="bold">SQL Commands</span>.</p>
<p>SQL Commands provides a window where you can run PL/SQL against the database.</p>
</li>
<li>
<p>In the SQL editor, enter the following script:</p>
<pre>
CREATE OR REPLACE FUNCTION calc_remuneration(
    salary IN number, commission_pct IN number)
RETURN NUMBER IS
BEGIN
    RETURN ((salary*12) + (salary * 12 * nvl(commission_pct,0)));
END;
</pre>
<p>When copying and pasting this SQL, make sure there is not an empty line before the first statement, CREATE OR REPLACE FUNCTION.</p>
</li>
<li>
<p>Click <span class="bold">Run</span>.</p>
<p>The Results section displays this message:</p>
<pre>
Function created.
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGBEGGE"></a>
<div id="TDPAX7043" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add a <a id="sthref224"></a><a id="sthref225"></a><a id="sthref226"></a><a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a>Column</h3>
<p>Next, add a column to display the results of the employees' salary calculations.</p>
<p>To add a column:</p>
<ol>
<li>
<p>Navigate to the Page Definition for page 3:</p>
<ol>
<li>
<p>Click the <span class="bold">Application Builder</span> tab.</p>
</li>
<li>
<p>Select the <span class="bold">AnyCo Corp</span> application.</p>
</li>
<li>
<p>Click <span class="bold">3 - Employees</span>.</p>
<p>The Page Definition for page 3, Employees, appears.</p>
</li>
</ol>
</li>
<li>
<p>Under Regions, click the <span class="bold">Employees</span> link (next to Interactive Report).</p>
<img width="414" height="153" src="img/bldap_emprjn.gif" alt="Description of bldap_emprjn.gif follows" /><br />
<a id="sthref230" href="img_text/bldap_emprjn.htm">Description of the illustration bldap_emprjn.gif</a><br />
<br />
<p>The <a id="sthref231"></a>Region Definition appears.</p>
</li>
<li>
<p>Scroll down to Source, and replace the existing code with the following:</p>
<pre>
SELECT "EMPLOYEE_ID", 
    "FIRST_NAME",
    "LAST_NAME",
    "HIRE_DATE",
    "SALARY",
    "COMMISSION_PCT",
    calc_remuneration(salary, commission_pct) REMUNERATION
FROM "#OWNER#"."OEHR_EMPLOYEES"
</pre></li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span> to confirm.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEIIEEG"></a>
<div id="TDPAX7044" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Previewing the <a id="sthref232"></a><a id="sthref233"></a><a id="sthref234"></a><a id="sthref235"></a>Page</h3>
<p>To preview the page, click the <span class="bold">Run Page</span> icon in the upper right corner. Notice the Remuneration column does not appear. You must add the column by using the Select Column action.</p>
<img width="598" height="551" src="img/bldap_emprpt.gif" alt="Description of bldap_emprpt.gif follows" /><br />
<a id="sthref236" href="img_text/bldap_emprpt.htm">Description of the illustration bldap_emprpt.gif</a><br />
<br />
<p>To display the Remuneration column:</p>
<ol>
<li>
<p>Select the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select the <span class="bold">Select Columns</span> action.</p>
</li>
<li>
<p>Move the <span class="bold">Remuneration</span> column from the Do Not Display box to the Display in Report box.</p>
<img width="671" height="259" src="img/bldap_addrem.gif" alt="Description of bldap_addrem.gif follows" /><br />
<a id="sthref237" href="img_text/bldap_addrem.htm">Description of the illustration bldap_addrem.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The Employees Report is displayed and includes the Remuneration column.</p>
<img width="705" height="546" src="img/bldap_empfrmrem.gif" alt="Description of bldap_empfrmrem.gif follows" /><br />
<a id="sthref238" href="img_text/bldap_empfrmrem.htm">Description of the illustration bldap_empfrmrem.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEDCGDJ"></a>
<div id="TDPAX7045" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Changing the Column <a id="sthref239"></a><a id="sthref240"></a><a id="sthref241"></a><a id="sthref242"></a>Format</h3>
<p>Next, change the format of the columns that contain numeric values.</p>
<p>To change the column format:</p>
<ol>
<li>
<p>Click <span class="bold">Edit Page 3</span> on the Developer toolbar (at the bottom of the page).</p>
<p>The Page Definition appears.</p>
</li>
<li>
<p>Under Regions, click <span class="bold">Interactive Report</span>.</p>
<p>The Interactive Report Attributes page appears.</p>
</li>
<li>
<p>Locate the Column Attributes section.</p>
<p>Next, change the format of the value in the Salary and Remuneration columns.</p>
</li>
<li>
<p>To edit the Salary format:</p>
<ol>
<li>
<p>Click the <span class="bold">Edit</span> icon next to <code>SALARY</code>.</p>
</li>
<li>
<p>For Number/Date Format, select <span class="bold">$5,234.10</span> from the list.</p>
<p>Notice that the appropriate format mask appears in the field.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</li>
<li>
<p>Repeat the previous step for <code>REMUNERATION</code>.</p>
</li>
<li>
<p>Click the <span class="bold">Run Page 3</span> icon in the upper right corner to preview the page.</p>
<p>Notice that the numbers in the Salary and Remuneration columns now appear with the dollar sign, include commas and decimals, and are correctly aligned.</p>
<img width="690" height="404" src="img/bldap_emprptnum2.gif" alt="Description of bldap_emprptnum2.gif follows" /><br />
<a id="sthref243" href="img_text/bldap_emprptnum2.htm">Description of the illustration bldap_emprptnum2.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEDHHID"></a>
<div id="TDPAX04008" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding a Link on the <a id="sthref244"></a><a id="sthref245"></a><a id="sthref246"></a><a id="sthref247"></a><a id="sthref248"></a><a id="sthref249"></a><a id="sthref250"></a><a id="sthref251"></a>Home Page to the Employees Report</h2>
<p>In this exercise, you add a link on the Home page to take users to the Employees report. This link appears in the Navigation region on the left side of the Home page.</p>
<p>To add a link on the Home page to the Employees report:</p>
<ol>
<li>
<p>Navigate to the Page Definition for the Home page, page 1:</p>
<ol>
<li>
<p>Click <span class="bold">Application</span> in the Developer toolbar (at the bottom of the page).</p>
</li>
<li>
<p>On the Application home page, click <span class="bold">Home</span>.</p>
</li>
</ol>
</li>
<li>
<p>Under Regions, click the <span class="bold">List</span> link (next to Navigation).</p>
</li>
<li>
<p>On the List Entries page, click the <span class="bold">Create List Entry</span> button on the right side of the page.</p>
</li>
<li>
<p>On the Create/Edit List Entry page, edit the following:</p>
<ol>
<li>
<p>Sequence - Change to <code>20</code>.</p>
</li>
<li>
<p>List Entry Label - Enter <code>Employees</code>.</p>
</li>
<li>
<p>Page - Enter <code>3</code>.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
<li>
<p>Run the page.</p>
<img width="151" height="155" src="img/bldap_homeemp.gif" alt="Description of bldap_homeemp.gif follows" /><br />
<a id="sthref252" href="img_text/bldap_homeemp.htm">Description of the illustration bldap_homeemp.gif</a><br />
<br />
<p>Notice that your Home page now includes a link to Employees.</p>
</li>
<li>
<p>Click <span class="bold">Employees</span> to test the link. The Employees report appears.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BCECEDHD"></a>
<div id="TDPAX7046" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding a Department Column to the Employees Reports</h2>
<p>In this exercise, you link the Employees and Departments reports. When you complete this section, the Employees report will have a Departments column showing which department each employee belongs to.</p>
<p>To perform this task, you create a column on the Employees page to enable the user to select a department. You then run the Employees report and add the Departments column to the report display. The report settings are saved as the default.</p>
<p>Topics in this section include:</p>
<ul>
<li>
<p><a href="#CEGFHCAA">Add a Column</a></p>
</li>
<li>
<p><a href="#CEGGBCII">Display Column in the Report</a></p>
</li>
<li>
<p><a href="#CEGHCDBE">Save Report Settings as the Default</a></p>
</li>
</ul>
<a id="CEGFHCAA"></a>
<div id="TDPAX7048" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add a Column</h3>
<p>In order to filter the Employees report by department, add a Department column to the report.</p>
<p>To add a column:</p>
<ol>
<li>
<p>Click on <span class="bold">Edit Page 3</span> in the Developer toolbar.</p>
</li>
<li>
<p>Under Regions, click <span class="bold">Employees</span> and scroll down to Source.</p>
</li>
<li>
<p>Replace Region Source with the following SQL:</p>
<pre>
SELECT e.EMPLOYEE_ID,
    e.FIRST_NAME,
    e.LAST_NAME,
    e.HIRE_DATE,
    e.SALARY,
    e.COMMISSION_PCT,
    calc_remuneration(salary, commission_pct) REMUNERATION,
    e.DEPARTMENT_ID,
    d.DEPARTMENT_NAME
FROM OEHR_EMPLOYEES e,
    OEHR_DEPARTMENTS d
WHERE e.DEPARTMENT_ID=d.DEPARTMENT_ID
</pre></li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span> to confirm.</p>
<p>The next section explains how to add the column to the report display and how to use this column to filter employee reports.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGGBCII"></a>
<div id="TDPAX7049" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Display Column in the Report</h3>
<p>When you first run this report, use the Select Columns action to add the Department Name column to the display. Once this column is visible on the report, make this report the default and filter by department.</p>
<p>To add the Department Name column to the report:</p>
<ol>
<li>
<p>Click <span class="bold">Run Page 3</span> icon.</p>
</li>
<li>
<p>Select the <span class="bold">Actions</span> menu and select <span class="bold">Select Columns</span> from the list.</p>
</li>
<li>
<p>Move the <code>Department Name</code> from the Do Not Display box to the last entry in the Display in Report box. <img width="671" height="259" src="img/bldap_deptcol.gif" alt="Description of bldap_deptcol.gif follows" /><br />
<a id="sthref253" href="img_text/bldap_deptcol.htm">Description of the illustration bldap_deptcol.gif</a><br />
<br /></p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The Employees Report is displayed and includes the Department Name column.</p>
<img width="856" height="556" src="img/bldap_empdept.gif" alt="Description of bldap_empdept.gif follows" /><br />
<a id="sthref254" href="img_text/bldap_empdept.htm">Description of the illustration bldap_empdept.gif</a><br />
<br />
<p>Next, make these report settings the default.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGHCDBE"></a>
<div id="TDPAX7050" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Save Report Settings as the Default</h3>
<p>This section describes how to save the current report settings as the default. Report settings are any setting made through the Actions menu including: selected columns, filters, sorting, control breaks, highlights, computed columns, aggregate columns, charts, flashback.</p>
<p>In this example, the default settings include the display of all columns with no additional Actions menu settings such as filters, sorting, highlights and so on in the report. Once the default settings are saved, these columns are the default display in this report:</p>
<ul>
<li>
<p>Employee Id</p>
</li>
<li>
<p>First Name</p>
</li>
<li>
<p>Last Name</p>
</li>
<li>
<p>Hire Date</p>
</li>
<li>
<p>Salary</p>
</li>
<li>
<p>Commission Pct</p>
</li>
<li>
<p>Remuneration</p>
</li>
<li>
<p>Department Name</p>
</li>
</ul>
<p>To save the current report settings as the default:</p>
<ol>
<li>
<p>Run the Employees report page.</p>
<p>The current report default does not include the Department Name column when the report is displayed.</p>
</li>
<li>
<p>Click the <span class="bold">Actions</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Save Report</span> from the list.</p>
</li>
<li>
<p>For Save, select <span class="bold">As Default Report Settings</span> from the list.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If a reset is performed on this page, these default report settings are used. The Department Name column is displayed by default.</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEDGEHJ"></a>
<div id="TDPAX04010" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Linking a Column Value to <a id="sthref255"></a><a id="sthref256"></a><a id="sthref257"></a><a id="sthref258"></a>Another Page</h2>
<p>In this exercise, you add a link to the Number of Employees column on the Departments report that navigates the user to the Employees report. It also sets the focus to the selected department. The column link includes a Clear Interactive Report command, <code>CIR</code>, to clear the Employees report, when shown, of any filters, control breaks, highlights, aggregates, computed columns, chart settings and flashback settings.</p>
<p>Topics included in this section:</p>
<ul>
<li>
<p><a href="#BCEJICGI">Change Column Value to a Link</a></p>
</li>
<li>
<p><a href="#BABJCDFJ">Run the Departments Report</a></p>
</li>
<li>
<p><a href="#BCEHHJBB">Create a Highlight to Test Clear Interactive Report Command</a></p>
</li>
</ul>
<a id="BCEJICGI"></a>
<div id="TDPAX7051" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Change Column Value to a Link</h3>
<p>To make this change, you edit the report attributes on the Departments report to change the value for the Number of Employees column to a link.</p>
<p>To change the column value to a link:</p>
<ol>
<li>
<p>Navigate to the Page Definition for the Departments page, page 2.</p>
</li>
<li>
<p>Under Regions, click <span class="bold">Interactive Report</span>.</p>
<p>The Interactive Report Attributes page appears.</p>
</li>
<li>
<p>Locate the Column Attributes section.</p>
</li>
<li>
<p>In the Column Attributes section, click the <span class="bold">Edit</span> icon next to Number of Employees.</p>
</li>
<li>
<p>Scroll down to the Column Link section.</p>
</li>
<li>
<p>Under Column Link, make these changes:</p>
<ol>
<li>
<p><a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a>Link Text - Select <span class="bold">[Number of Employees]</span></p>
</li>
<li>
<p>Page - Enter <code>3</code>.</p>
</li>
<li>
<p>Select the <span class="bold">Reset Pagination</span> check box.</p>
</li>
<li>
<p>Clear Cache - Enter <code>3,CIR</code></p>
<p>The <code>3</code> means the cache for page 3 is cleared and the string <code>CIR</code> clears the Employees interactive report of any filters, control breaks, highlights, aggregates, computed columns, chart settings or flashback settings when the report is displayed.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you want to reset the interactive report to the default report settings instead of clear the report, replace <code>CIR</code> with <code>RIR</code>. The last saved default report settings are applied to the interactive report.</div>
</li>
<li>
<p>Item 1, Name - Enter <span class="bold">IR_DEPARTMENT_ID</span>.</p>
<p>By prefixing the item name with IR_, the URL item will be associated with an interactive report column rather than an item on the page.</p>
</li>
<li>
<p>Item 1, Value - Select <span class="bold">#Department ID#</span>.</p>
<p>The Column Link section shows all the options you selected.</p>
<img width="692" height="331" src="img/bldap_setnumlink.gif" alt="Description of bldap_setnumlink.gif follows" /><br />
<a id="sthref262" href="img_text/bldap_setnumlink.htm">Description of the illustration bldap_setnumlink.gif</a><br />
<br />
<p>In summary, these options enable the following behavior when the end user clicks the link:</p>
<ul>
<li>
<p>The end user is navigated to page 3, the Employees report.</p>
</li>
<li>
<p>On the Employees report, the selected department is in focus.</p>
</li>
<li>
<p>The Employees report is cleared. This means any filters, control breaks, highlights, aggregates, computed columns, chart settings or flashback settings are removed.</p>
</li>
<li>
<p>The user is returned to the first set of employee records when the user selects another department.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>Note that in the Column Attributes section, the Number of Employees row contains a check mark in the Link column, reflecting the change you just made.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABJCDFJ"></a>
<div id="TDPAX7052" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Run the Departments Report</h3>
<p>Now it's time to run the report and test the Number of Employees column link from the Departments report. The Employees report is displayed showing all employees that belong to the selected department.</p>
<ol>
<li>
<p>Click the <span class="bold">Run Page 2</span> icon.</p>
<p>The Departments report is displayed. Note that end users can now drill down on the data in the Number of Employees column.</p>
<img width="152" height="318" src="img/bldap_numemplink.gif" alt="Description of bldap_numemplink.gif follows" /><br />
<a id="sthref263" href="img_text/bldap_numemplink.htm">Description of the illustration bldap_numemplink.gif</a><br />
<br /></li>
<li>
<p>In the Number of Employees column, click the <code>3</code> for the Executive row.</p>
<p>All employees that belong to the Executive department appear in the Employees report.</p>
<img width="842" height="246" src="img/bldap_emplink.gif" alt="Description of bldap_emplink.gif follows" /><br />
<a id="sthref264" href="img_text/bldap_emplink.htm">Description of the illustration bldap_emplink.gif</a><br />
<br />
<p>The Department Id filter is displayed because this report is filtered by the Department Id value for the Executive department, <code>90</code>, passed to this report from the Departments report. Notice the Clear Interactive Report command is included at the end of the URL in your browser, as shown in this example:</p>
<pre>
f?p=9257:3:3672543193352902::NO:RP,3,CIR:IR_DEPARTMENT_ID:90
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEHHJBB"></a>
<div id="TDPAX7053" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Create a Highlight to Test Clear Interactive Report Command</h3>
<p>This exercise demonstrates how to use the CIR command to clear a highlight before displaying the Employees report. To show this, you highlight any rows containing the first name of Neena, then display the Employees report from the Number of Employees column on the Departments report.</p>
<p>To highlight rows in the Employees report:</p>
<ol>
<li>
<p>Click the <span class="bold">Actions</span> menu and select <span class="bold">Highlight</span>.</p>
<p>The Highlight options appear.</p>
</li>
<li>
<p>For Highlight options make these changes:</p>
<ol>
<li>
<p>Name - Enter <code>Neena</code></p>
</li>
<li>
<p>Background Color - Select <span class="bold">[yellow]</span></p>
</li>
<li>
<p>Text Color - Select <span class="bold">[blue]</span></p>
</li>
<li>
<p>Column - Select <span class="bold">First Name</span></p>
</li>
<li>
<p>Operator - Select <span class="bold">=</span></p>
</li>
<li>
<p>Expression - Select <span class="bold">Neena</span></p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
</li>
</ol>
<p>The Employees report appears with the row for Neena highlighted.</p>
<img width="834" height="207" src="img/bldap_high.gif" alt="Description of bldap_high.gif follows" /><br />
<a id="sthref265" href="img_text/bldap_high.htm">Description of the illustration bldap_high.gif</a><br />
<br /></li>
<li>
<p>Click the <span class="bold">Home</span> breadcrumb.</p>
</li>
<li>
<p>Click <span class="bold">Departments</span> link.</p>
</li>
<li>
<p>Click <span class="bold">Number of Employees</span> in the Executive row.</p>
<p>The Employees report is displayed with the highlighting cleared, due to the <code>CIR</code> command specified in the column link.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEIFAJD"></a>
<div id="TDPAX04011" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding a Conditional <a id="sthref266"></a><a id="sthref267"></a><a id="sthref268"></a>Department Details Report</h2>
<p>In this exercise, you add a report as a region that displays department details. You also create a condition so that the report displays department information only if you select a department. If you select <span class="bold">No Department Assigned</span>, the Department Details report does not appear.</p>
<p>Topics in this section include:</p>
<ul>
<li>
<p><a href="#BCEGFDEA">Creating the Report and Condition</a></p>
</li>
<li>
<p><a href="#BABCHJFB">Add a List of Values</a></p>
</li>
<li>
<p><a href="#BABCEBIA">Add an Item to Display List of Values</a></p>
</li>
<li>
<p><a href="#BABFJJDE">Add a Branch</a></p>
</li>
<li>
<p><a href="#BABEBEAI">Change Employees Report Query</a></p>
</li>
<li>
<p><a href="#BABEGIDC">Change Column Link on Department Report</a></p>
</li>
<li>
<p><a href="#BCEFCCEG">Turning Off Pagination</a></p>
</li>
</ul>
<a id="BCEGFDEA"></a>
<div id="TDPAX7055" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating the <a id="sthref269"></a><a id="sthref270"></a><a id="sthref271"></a>Report and Condition</h3>
<p>First, create the report and set it to conditionally display.</p>
<p>To create the report and condition:</p>
<ol>
<li>
<p>Navigate to the Page Definition for page 3, Employees.</p>
</li>
<li>
<p>Under Regions, click the <span class="bold">Create</span> icon.</p>
</li>
<li>
<p>For Region, make these changes:</p>
<ol>
<li>
<p>Identify the type of region to add to this page - Select <span class="bold">Report</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Report Implementation - Accept the default, <span class="bold">SQL Report</span>, and click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Display Attributes, make these changes:</p>
<ol>
<li>
<p>Title - Enter <code>Department Details</code>.</p>
</li>
<li>
<p>Region Template - Select <span class="bold">No Template</span>.</p>
</li>
<li>
<p>Sequence - Enter <code>7</code>.</p>
</li>
<li>
<p>Accept the remaining defaults and click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Source, make this change:</p>
<ol>
<li>
<p>Enter the following query:</p>
<pre>
SELECT count(e2.employee_id) "Number of Employees:",
    substr(e.first_name,1,1)||'. '|| e.last_name "Manager Name:", 
    c.country_name "Location:"
    FROM  oehr_departments d, oehr_employees e, 
        oehr_locations l, oehr_countries c, 
        oehr_employees e2
    WHERE d.manager_id    = e.employee_id 
    AND d.location_id   = l.location_id 
    AND d.department_id = e2.department_id
    AND l.country_id    = c.country_id 
    AND nvl(d.department_id,'-1') = nvl(:P3_DEPARTMENT_ID,'-1')
    GROUP BY substr(e.first_name,1,1)||'. '||e.last_name,  c.country_name
</pre></li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
<p>Next, you create a condition that does not display department details when the user selects the <span class="bold">No Department Assigned</span> option.</p>
</li>
<li>
<p>For Report Attributes, make these changes:</p>
<ol>
<li>
<p>Report Template - Select <span class="bold">default: vertical report, look 1 (include null columns)</span>.</p>
<p>This selection displays the list vertically.</p>
</li>
<li>
<p>Accept the remaining defaults and click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Conditional Display, make these changes:</p>
<ol>
<li>
<p>Condition Type - Select <span class="bold">Value of Item in Expression 1 != Expression 2</span>.</p>
<p>Note the exclamation point (!) included after Expression 1 in the option to select.</p>
</li>
<li>
<p>Expression 1 - Enter:</p>
<pre>
P3_DEPARTMENT_ID
</pre></li>
<li>
<p>Expression 2 - Enter:</p>
<p><code>-1</code></p>
<p>The <code>-1</code> indicates no Department has been assigned.</p>
</li>
<li>
<p>Click <span class="bold">Create Region</span>.</p>
</li>
</ol>
</li>
<li>
<p>Under Regions, click <span class="bold">Create</span> icon.</p>
</li>
<li>
<p>Select <span class="bold">HTML</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">HTML</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Create Region, make these changes:</p>
<ol>
<li>
<p>Title - Enter <code>Department</code></p>
</li>
<li>
<p>Region Template - Select <span class="bold">No Template</span></p>
</li>
<li>
<p>Sequence - Enter <code>5</code></p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCHJFB"></a>
<div id="TDPAX7056" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add a List of Values</h3>
<p>In this section, you create a list of values that is used to select which department details to view. This is a dynamic list that queries the OEHR_DEPARTMENTS table for a list of all the department names.</p>
<p>To create a list of values:</p>
<ol>
<li>
<p>Click <span class="bold">Shared Components</span> icon at the top right next to the Run Page 3 icon.</p>
</li>
<li>
<p>Under User Interface, select <span class="bold">Lists of Values</span>.</p>
</li>
<li>
<p>Click the <span class="bold">Create</span> button.</p>
</li>
<li>
<p>Accept the default, From Scratch, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Name, enter <code>DEPARTMENTS</code> and select <span class="bold">Dynamic</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For the Query, enter the following SQL:</p>
<pre>
SELECT department_name d, department_id v
    FROM oehr_departments
    ORDER BY d
</pre></li>
<li>
<p>Click <span class="bold">Create List of Values</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCEBIA"></a>
<div id="TDPAX7057" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add an Item to Display List of Values</h3>
<p>Now, you create an item in the Department Details region to display the list of departments.</p>
<p>To add an item:</p>
<ol>
<li>
<p>Navigate to the Page Definition for page 3, Employees.</p>
</li>
<li>
<p>Under Items, click the <span class="bold">Create</span> icon.</p>
</li>
<li>
<p>Select <span class="bold">Select List</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">Select List with Submit</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Create Item, make these changes:</p>
<ol>
<li>
<p>Item Name - Enter <code>P3_DEPARTMENT_ID</code></p>
</li>
<li>
<p>Sequence - Enter <code>10</code></p>
</li>
<li>
<p>Region - Select <span class="bold">Department (1) 5</span></p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Identify List of Values, make these changes:</p>
<ol>
<li>
<p>Named LOV - Select <span class="bold">DEPARTMENTS</span></p>
</li>
<li>
<p>Display Null Option - Select <span class="bold">Yes</span></p>
</li>
<li>
<p>Null Text - Enter <code>- No Department Assigned -</code></p>
</li>
<li>
<p>Null Value - Enter <code>-1</code></p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</li>
<li>
<p>For Label, enter <code>Department</code> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Item Source Value, enter <code>-1</code></p>
</li>
<li>
<p>Click <span class="bold">Create Item</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABFJJDE"></a>
<div id="TDPAX7058" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Add a Branch</h3>
<p>You need to add a branch that returns to the Employees page 3 when the user chooses a department from the Department list of values.</p>
<ol>
<li>
<p>Under Branches, click the <span class="bold">Create</span> icon.</p>
</li>
<li>
<p>Accept defaults and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Page, enter <code>3</code>.</p>
</li>
<li>
<p>Select <span class="bold">reset pagination for this page</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Accept defaults and click <span class="bold">Create Branch</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABEBEAI"></a>
<div id="TDPAX7059" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Change Employees Report Query</h3>
<p>Now, you change the Employees report query to display employees that belong to the selected department.</p>
<p>To change the query:</p>
<ol>
<li>
<p>Under Regions, click the <span class="bold">Employees</span> link.</p>
</li>
<li>
<p>Enter the following SQL for Region Source:</p>
<pre>
SELECT  e.EMPLOYEE_ID,
        e.FIRST_NAME,
        e.LAST_NAME,
        e.HIRE_DATE,
        e.SALARY,
        e.COMMISSION_PCT,
        calc_remuneration(salary, commission_pct) REMUNERATION,
        e.DEPARTMENT_ID,
        d.DEPARTMENT_NAME
  FROM  OEHR_EMPLOYEES e,
        OEHR_DEPARTMENTS d
 WHERE  e.DEPARTMENT_ID = d.DEPARTMENT_ID(+) AND 
        (e.DEPARTMENT_ID = :P3_DEPARTMENT_ID or 
        (e.DEPARTMENT_ID is null and nvl(:P3_DEPARTMENT_ID,'-1') = '-1'))
</pre></li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABEGIDC"></a>
<div id="TDPAX7060" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Change Column Link on Department Report</h3>
<p>Because the Employees query has changed, the Number of Employees column link needs to initialize the P3_DEPARTMENT_ID item to the value of DEPARTMENT_ID.</p>
<p>To change the column link for Number of Employees:</p>
<ol>
<li>
<p>Click the <span class="bold">Application ID</span> breadcrumb.</p>
</li>
<li>
<p>Click <span class="bold">2 - Departments</span>.</p>
</li>
<li>
<p>Under Regions, click the <span class="bold">Interactive Report</span> link.</p>
</li>
<li>
<p>Click the <span class="bold">Edit</span> icon for Number of Employees.</p>
</li>
<li>
<p>Under Column Link, enter <code>P3_DEPARTMENT_ID</code> for Item 1.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCEFCCEG"></a>
<div id="TDPAX7061" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Turning Off Pagination</h3>
<p>Next, turn off pagination for the Department Details report, because only one record (the department details report) displays at a time. If pagination is on, the region that displays the department details includes the information <span class="italic">row 1 - 1</span>.</p>
<p>To turn off pagination:</p>
<ol>
<li>
<p>Click the <span class="bold">Application ID</span> breadcrumb.</p>
</li>
<li>
<p>Click <span class="bold">3 - Employees</span>.</p>
</li>
<li>
<p>Under Regions, click <span class="bold">Report</span> (next to Department Details).</p>
</li>
<li>
<p>Scroll down to Layout and Pagination.</p>
</li>
<li>
<p>For Pagination Scheme, select <span class="bold">- No Pagination Selected -</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>Run the page.</p>
</li>
<li>
<p>To remove the Department id = 90 filter, select the <span class="bold">Remove Filter</span> icon next to the filter.</p>
</li>
<li>
<p>From the Department list, select <span class="bold">No Department Assigned</span>.</p>
<img width="606" height="236" src="img/bldapp_nodptassgn.gif" alt="Description of bldapp_nodptassgn.gif follows" /><br />
<a id="sthref272" href="img_text/bldapp_nodptassgn.htm">Description of the illustration bldapp_nodptassgn.gif</a><br />
<br />
<p>Employee Kimberely Grant appears. This employee is not currently assigned to a department. Therefore, no department details appear. The <span class="italic">1 - 1</span> you see on this form is part of the Employees report, not part of the Department Details region you just edited.</p>
</li>
<li>
<p>From the Department list, select <span class="bold">Marketing</span>.</p>
<img width="285" height="109" src="img/bldapp_dptdetail.gif" alt="Description of bldapp_dptdetail.gif follows" /><br />
<a id="sthref273" href="img_text/bldapp_dptdetail.htm">Description of the illustration bldapp_dptdetail.gif</a><br />
<br />
<p>Note the details under Department.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCEHBDBD"></a>
<div id="TDPAX04012" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding Your <a id="sthref274"></a><a id="sthref275"></a><a id="sthref276"></a><a id="sthref277"></a>Company Name</h2>
<p>You can add a graphical logo or text to your application so that it displays on each page. Your page template determines the display location.</p>
<p>In this exercise, you add your company name to your application.</p>
<p>To add your company name to your application:</p>
<ol>
<li>
<p>Navigate to the Application home page. Click the <span class="bold">Application</span> link on the Developer toolbar (at the bottom of the page).</p>
</li>
<li>
<p>Click <span class="bold">Shared Components</span>.</p>
</li>
<li>
<p>Under Application, click <span class="bold">Definition</span>.</p>
<p>The Edit Application Definition page appears.</p>
</li>
<li>
<p>Under Logo:</p>
<ol>
<li>
<p>Logo Type - Select <span class="bold">Text</span>.</p>
</li>
<li>
<p>Logo - Enter <code>AnyCo Corp</code>.</p>
</li>
<li>
<p>Logo Attributes - Select <span class="bold">Black Text</span> from the pop up list.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>Click <span class="bold">Application</span> link on Developer toolbar.</p>
</li>
<li>
<p>Click <span class="bold">Run Application</span> icon.</p>
</li>
</ol>
<img width="224" height="172" src="img/bldap_compname.gif" alt="Description of bldap_compname.gif follows" /><br />
<a id="sthref278" href="img_text/bldap_compname.htm">Description of the illustration bldap_compname.gif</a><br />
<br />
<p>The company name now appears on each page in your application.</p>
</div>
<!-- class="sect1" -->
<a id="BCEIDHEF"></a>
<div id="TDPAX04013" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Switching Themes to <a id="sthref279"></a><a id="sthref280"></a><a id="sthref281"></a>Change the User Interface</h2>
<p>In this exercise, you switch the current theme to another one for your application. A <span class="bold">theme</span> is a collection of templates that defines the application user interface. Each theme contains templates for every type of application component and page control, including individual pages, regions, reports, lists, labels, menus, buttons, and list of values.</p>
<p>Oracle Application Express separates presentation (or user interface themes) from the application logic. You can design your application in one theme, change to another supplied theme, or create and use your own custom theme. By separating the application logic (such as queries, processes, and branches) from the HTML rendering, your application can take advantage of the latest designs and other technological advances without an application rewrite. Each theme provides a complete set of templates that accommodate every user interface pattern that may be needed in an application.</p>
<p>To switch the theme:</p>
<ol>
<li>
<p>Click the <span class="bold">Application</span> link on the Developer toolbar (at the bottom of the page).</p>
</li>
<li>
<p>On the Application home page, click <span class="bold">Shared Components</span>.</p>
</li>
<li>
<p>Under User Interface, click <span class="bold">Themes</span>.</p>
<img width="236" height="162" src="img/bldap_sharcomp.gif" alt="Description of bldap_sharcomp.gif follows" /><br />
<a id="sthref282" href="img_text/bldap_sharcomp.htm">Description of the illustration bldap_sharcomp.gif</a><br />
<br /></li>
<li>
<p>On the Themes page, click <span class="bold">Create</span>.</p>
<p>The Create Theme Wizard appears.</p>
</li>
<li>
<p>For Method, accept the default, <span class="bold">From the Repository</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Identify Theme, select <span class="bold">Theme 11</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Confirm, click <span class="bold">Create</span>.</p>
</li>
<li>
<p>Click <span class="bold">Switch Theme</span>.</p>
</li>
<li>
<p>For Identify Theme, accept the default, <span class="bold">11. Round Green</span>, and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>For Verify Compatibility, review the information, accept the defaults, and click <span class="bold">Next</span>.</p>
<p>The wizard verifies that corresponding templates exist in the selected theme for all templates used in your current application. If a template is missing, it warns you with a message in the Status column. For this tutorial, you can ignore this message because Oracle Application Express maps missing region templates to existing ones.</p>
</li>
<li>
<p>For Confirm Switch, click <span class="bold">Switch Theme</span>.</p>
</li>
<li>
<p>Run the page.</p>
<img width="912" height="472" src="img/bldap_newtheme2.gif" alt="Description of bldap_newtheme2.gif follows" /><br />
<a id="sthref283" href="img_text/bldap_newtheme2.htm">Description of the illustration bldap_newtheme2.gif</a><br />
<br />
<p>The color scheme and display layouts are changed in all your pages.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment749">
<tr>
<td class="cellalignment756">
<table class="cellalignment754">
<tr>
<td class="cellalignment753"><a href="get_start.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment753"><a href="deploy_app.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment758">
<table class="cellalignment752">
<tr>
<td class="cellalignment753"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment753"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment753"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment753"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment753"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment753"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
