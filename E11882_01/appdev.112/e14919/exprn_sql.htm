<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SQL Operators and Statements</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 033" />
<meta name="dcterms.created" content="2011-08-16T11:52:4Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Rules Manager and Expression Filter Developer's Guide" />
<meta name="dcterms.identifier" content="E14919-04" />
<meta name="dcterms.isVersionOf" content="EXPRN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="exprn_spatialpred.htm" title="Previous" type="text/html" />
<link rel="Next" href="exprn_utilities.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e14919.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/36</span> <!-- End Header --><a id="CHDDCAJI"></a><a id="EXPRN045"></a>
<h1 class="chapter"><span class="secnum">15</span> SQL Operators and Statements</h1>
<p>This chapter provides reference information about the SQL <code>EVALUATE</code> operator and SQL statements used to index expression data. <a href="#CHDEFDHD">Table 15-1</a> lists the statements and their descriptions. For complete information about SQL statements, see <a class="olink SQLRF" href="../../server.112/e41084/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
<div class="tblformal">
<p class="titleintable"><a id="EXPRN553"></a><a id="sthref296"></a><a id="CHDEFDHD"></a>Table 15-1 Expression Filter Index Creation and Usage Statements</p>
<table class="cellalignment1002" title="Expression Filter Index Creation and Usage Statements" summary="This two column table (read from left to right) lists a SQL statement and a description for that statement." dir="ltr">
<thead>
<tr class="cellalignment989">
<th class="cellalignment999" id="r1c1-t2">Statement</th>
<th class="cellalignment999" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment989">
<td class="cellalignment995" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#CIHGBFDH">EVALUATE</a></p>
</td>
<td class="cellalignment995" headers="r2c1-t2 r1c2-t2">
<p>Matches an expression set with a given data item or table of data items</p>
</td>
</tr>
<tr class="cellalignment989">
<td class="cellalignment995" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#CHDBGGJB">ALTER INDEX REBUILD</a></p>
</td>
<td class="cellalignment995" headers="r3c1-t2 r1c2-t2">
<p>Rebuilds an Expression Filter index</p>
</td>
</tr>
<tr class="cellalignment989">
<td class="cellalignment995" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#BJEIGFEF">ALTER INDEX RENAME TO</a></p>
</td>
<td class="cellalignment995" headers="r4c1-t2 r1c2-t2">
<p>Changes the name of an Expression Filter index</p>
</td>
</tr>
<tr class="cellalignment989">
<td class="cellalignment995" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#CHDCFHDJ">CREATE INDEX</a></p>
</td>
<td class="cellalignment995" headers="r5c1-t2 r1c2-t2">
<p>Creates an Expression Filter index on a column storing expressions</p>
</td>
</tr>
<tr class="cellalignment989">
<td class="cellalignment995" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#BJEHIFIF">DROP INDEX</a></p>
</td>
<td class="cellalignment995" headers="r6c1-t2 r1c2-t2">
<p>Drops an Expression Filter index</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<a id="CIHGBFDH"></a><a id="EXPRN046"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1"><a id="sthref297"></a>EVALUATE</h2>
<p>The <code>EVALUATE</code> operator is used in the <code>WHERE</code> clause of a SQL statement to compare stored expressions to incoming data items.</p>
<p>The expressions to be evaluated are stored in an Expression column, which is created by assigning an attribute set to a <code>VARCHAR2</code> column in a user table.</p>
<p class="titleinrefsubsect"><a id="sthref298"></a>Format</p>
<pre>
EVALUATE (expression_column, &lt;dataitem&gt;)

&lt;dataitem&gt; := &lt;varchar_dataitem&gt; | &lt;anydata_dataitem&gt;
&lt;varchar_dataitem&gt; := attribute_name =&gt; attribute_value 
                      {, attribute_name =&gt; attribute_value}
&lt;anydata_dataitem&gt; := AnyData.convertObject(attribute_set_instance)
</pre>
<p class="titleinrefsubsect"><a id="sthref299"></a>Keywords and Parameters</p>
<dl>
<dt>expression_column</dt>
<dd>
<p>Name of the column storing the expressions</p>
</dd>
<dt>attribute_name</dt>
<dd>
<p>Name of an attribute from the corresponding attribute set</p>
</dd>
<dt>attribute_value</dt>
<dd>
<p>Value for the attribute</p>
</dd>
<dt>attribute_set_instance</dt>
<dd>
<p>Instance of the object type associated with the corresponding attribute set</p>
</dd>
</dl>
<p class="titleinrefsubsect"><a id="sthref300"></a>Returns</p>
<p>The <code>EVALUATE</code> operator returns a <code>1</code> for an expression that matches the data item, and returns a <code>0</code> for an expression that does not match the data item. For any null values stored in the Expression column, the <code>EVALUATE</code> operator returns <code>NULL</code>.</p>
<p class="titleinrefsubsect"><a id="sthref301"></a>Usage Notes</p>
<p>You can use the <code>EVALUATE</code> operator in the <code>WHERE</code> clause of a SQL statement. When you define an Expression Filter index on a column storing expressions, the <code>EVALUATE</code> operator on such a column may use the index for the expression set evaluation based on its usage cost. You can use the <code>EVALUATE</code> operator as a join predicate between a table storing expressions and a table storing the corresponding data items.</p>
<p>If you can represent the values of all elementary attributes in the attribute set as readable values, such as those stored in <code>VARCHAR</code>, <code>DATE</code>, and <code>NUMBER</code> data types and the constructors formatted as a string, then you can format the data item as a string of attribute name-value pairs. If a data item does not require a constructor for any of its elementary attribute values, then you can format a list of values provided for the data item as a string of name-value pairs using two getVarchar<a id="sthref302"></a><a id="sthref303"></a> methods (a <code>STATIC</code> method and a <code>MEMBER</code> method) in the object type associated with the attribute set.</p>
<p>You can format any data item using an <code>AnyData</code><a id="sthref304"></a><a id="sthref305"></a> instance. An attribute set with one or more binary typed attributes must use the <code>AnyData</code> form of the data item.</p>
<p>See <a href="exprn_expconcepts.htm#CHDFJJAB">Section 11.3</a> for more information about the <code>EVALUATE</code> operator.</p>
<p>Related views: <code><a href="exprn_views.htm#CHDBIFHC">USER_EXPFIL_ATTRIBUTE_SETS View</a></code>, <code><a href="exprn_views.htm#CHDEGFFE">USER_EXPFIL_ATTRIBUTES View</a></code>, and <code><a href="exprn_views.htm#CHDGIGEF">USER_EXPFIL_EXPRESSION_SETS View</a></code></p>
<p class="titleinrefsubsect"><a id="sthref306"></a>Examples</p>
<p>The following query uses the <code>VARCHAR</code> form of the data item generated by the <code>getVarchar()</code> function:</p>
<pre>
SELECT * FROM Consumer WHERE 
    EVALUATE (Consumer.Interest,
               Car4Sale('Mustang',
                         2000,
                         18000,
                         22000).getVarchar()
               ) = 1;
</pre>
<p>For the previous query, the data item can be passed in the <code>AnyData</code> form with the following syntax:</p>
<pre>
SELECT * FROM Consumer WHERE
    EVALUATE (Consumer.Interest,
              AnyData.convertObject (
                      Car4Sale ('Mustang',
                                 2000,
                                 18000,
                                 22000)
              )) = 1;
</pre>
<p>When a large set of data items are stored in a table, the table storing expressions can be joined with the table storing data items with the following syntax:</p>
<pre>
SELECT i.CarId, c.CId, c.Phone
FROM Consumer c, Inventory i
WHERE
     EVALUATE (c.Interest,
               Car4Sale(i.Model, i.Year, i.Price, i.Mileage).getVarchar()) = 1
ORDER BY i.CarId;
</pre></div>
<!-- class="refsect1" -->
<a id="CHDBGGJB"></a><a id="EXPRN047"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1"><a id="sthref307"></a>ALTER INDEX REBUILD</h2>
<p><a id="sthref308"></a>The <code>ALTER INDEX REBUILD</code> statement rebuilds an Expression Filter index created on a column storing expressions. The Expression Filter index <code>DOMIDX_OPSTATUS</code> status in the <code>USER_INDEXES</code> view must be <code>VALID</code> for the rebuild operation to succeed.</p>
<p class="titleinrefsubsect"><a id="sthref309"></a>Format</p>
<pre>
ALTER INDEX [schema_name.]index_name REBUILD
 [PARAMETERS ('DEFAULT')]
</pre>
<p class="titleinrefsubsect"><a id="sthref310"></a>Keywords and Parameters</p>
<dl>
<dt>DEFAULT</dt>
<dd>
<p>The list of stored and indexed attributes for the Expression Filter index being rebuilt are derived from the default index parameters associated with the corresponding attribute set.</p>
</dd>
</dl>
<p class="titleinrefsubsect"><a id="sthref311"></a>Usage Notes</p>
<p>When you issue the <code>ALTER INDEX...REBUILD</code> statement without a <code>PARAMETERS</code> clause, the Expression Filter index is rebuilt using the current list of stored and indexed attributes. You can also use this statement for indexes that failed during <code>IMPORT</code> operation due to missing dependent objects.</p>
<p>You can modify the default index parameters associated with an attribute set without affecting the existing Expression Filter indexes. You can rebuild these indexes to use the new set of defaults by using the <code>DEFAULT</code> parameter with the <code>ALTER INDEX...REBUILD</code> statement. When you rebuild an index using the defaults, index parameters assigned to the expression set are cleared.</p>
<p>The bitmap indexes defined for the indexed attributes of an Expression Filter index get fragmented as the expressions stored in the corresponding column are frequently modified (using <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> operations). Rebuilding those indexes could improve the performance of the query using the <code>EVALUATE</code> operator. The bitmap indexes can be rebuilt online using the <code>DBMS_EXPFIL.DEFRAG_INDEX</code> procedure.</p>
<p>See <a href="exprn_indexexpressions.htm#CIHGADEC">Section 12.8</a> for more information about rebuilding indexes.</p>
<p>Related views: <code><a href="exprn_views.htm#CHDBFCIF">USER_EXPFIL_INDEXES View</a></code> and <code><a href="exprn_views.htm#CHDGGIJG">USER_EXPFIL_PREDTAB_ATTRIBUTES View</a></code></p>
<p class="titleinrefsubsect"><a id="sthref312"></a>Examples</p>
<p>The following statement rebuilds the index using its current parameters:</p>
<pre>
ALTER INDEX InterestIndex REBUILD;
</pre>
<p>The following statement rebuilds the index using the default index parameters associated with the corresponding attribute set:</p>
<pre>
ALTER INDEX InterestIndex REBUILD PARAMETERS('DEFAULT');
</pre></div>
<!-- class="refsect1" -->
<a id="BJEIGFEF"></a><a id="EXPRN048"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1"><a id="sthref313"></a>ALTER INDEX RENAME TO</h2>
<p>The <code>ALTER INDEX RENAME TO</code> statement renames an Expression Filter index.</p>
<p class="titleinrefsubsect"><a id="sthref314"></a>Format</p>
<pre>
ALTER INDEX [schema_name.]index_name RENAME TO new_index_name;
</pre>
<p class="titleinrefsubsect"><a id="sthref315"></a>Keywords and Parameters</p>
<p>None.</p>
<p class="titleinrefsubsect"><a id="sthref316"></a>Usage Notes</p>
<p>None.</p>
<p class="titleinrefsubsect"><a id="sthref317"></a>Examples</p>
<p>The following statement renames the index:</p>
<pre>
ALTER INDEX InterestIndex RENAME TO ExprIndex;
</pre></div>
<!-- class="refsect1" -->
<a id="CHDCFHDJ"></a><a id="EXPRN049"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1"><a id="sthref318"></a><a id="sthref319"></a>CREATE INDEX</h2>
<p>The <code>CREATE INDEX</code> statement creates an Expression Filter index for a set of expressions stored in a column. You should configure the column being indexed to store expressions (with an attribute set assigned to it), and the index should be created in the same schema as the table (storing expressions).</p>
<p class="titleinrefsubsect"><a id="sthref320"></a>Format</p>
<pre>
CREATE INDEX [schema_name.]index_name ON
[schema_name.].table_name (column_name) INDEXTYPE IS EXFSYS.EXPFILTER
[ PARAMETERS (' &lt;parameters_clause&gt; ' ) ...;
&lt;parameters_clause&gt;:= [ADD TO DEFAULTS | REPLACE DEFAULTS]
             [&lt;storeattrs_clause&gt;] [&lt;indexattrs_clause&gt;][&lt;predstorage_clause&gt;]
&lt;storeattrs_clause&gt;  :=  STOREATTRS [ ( attr1, attr2, ..., attrx   ) | TOP n ]
&lt;indexattrs_clause&gt;  :=  INDEXATTRS [ ( attr1, attr2, ..., attry   ) | TOP m ]
&lt;predstorage_clause&gt; := PREDSTORAGE (&lt;storage_clause&gt;)
</pre>
<p class="titleinrefsubsect"><a id="sthref321"></a>Keywords and Parameters</p>
<dl>
<dt>EXFSYS.EXPFILTER</dt>
<dd>
<p>The name of the index type that implements the Expression Filter index.</p>
</dd>
<dt>ADD TO DEFAULTS</dt>
<dd>
<p>When you specify this parameter, the attributes listed in the <code>STOREATTRS</code> and <code>INDEXATTRS</code> clauses are added to the defaults associated with the corresponding attribute set. This is the default behavior.</p>
</dd>
<dt>REPLACE DEFAULTS</dt>
<dd>
<p>When you specify this parameter, the index is created using only the list of stored and indexed attributes specified after this clause. In this case, the default index parameters associated with the corresponding attribute set are ignored.</p>
</dd>
<dt>STOREATTRS</dt>
<dd>
<p>Lists the stored attributes for the Expression Filter index.</p>
</dd>
<dt>INDEXATTRS</dt>
<dd>
<p>Lists the indexed attributes for the Expression Filter index.</p>
</dd>
<dt>TOP</dt>
<dd>
<p>You can use this parameter for both <code>STOREATTRS</code> and <code>INDEXATTRS</code> clauses only when expression set statistics are collected. (See the section about <a class="olink ARPLS168" href="../../appdev.112/e40758/d_expfilref.htm#ARPLS168">GET_EXPRSET_STATS Procedure</a>.) The number after the <code>TOP</code> parameter indicates the number of (the most-frequent) attributes to be stored or indexed for the Expression Filter index.</p>
</dd>
<dt>PREDSTORAGE</dt>
<dd>
<p>Storage clause for the predicate table. <a class="olink SQLRF52300" href="../../server.112/e41084/clauses009.htm#SQLRF52300">See <span class="italic">Oracle Database SQL Language Reference</span></a> for the <code>&lt;storage_clause&gt;</code> definition.</p>
</dd>
</dl>
<p class="titleinrefsubsect"><a id="sthref322"></a>Usage Notes</p>
<p>When the index parameters are directly assigned to an expression set (column storing expressions), the <code>PARAMETERS</code> clause in the <code>CREATE INDEX</code> statement cannot contain <code>STOREATTRS</code> or <code>INDEXATTRS</code> clauses. In this case, the Expression Filter index is always created using the parameters associated with the expression set. (See the <a class="olink ARPLS170" href="../../appdev.112/e40758/d_expfilref.htm#ARPLS170"><code>INDEX_PARAMETERS</code> Procedure</a> and <a class="olink ARPLS174" href="../../appdev.112/e40758/d_expfilref.htm#ARPLS174"><code>XPINDEX_PARAMETERS</code> Procedure</a> sections in <a href="exprn_packages.htm#CIHEJDDH">Chapter 18</a> and the <a href="exprn_views.htm#BABDEDBB">"USER_EXPFIL_INDEX_PARAMS View"</a> in <a href="exprn_views.htm#BACEHGBJ">Chapter 19</a>.)</p>
<p>When the <code>PARAMETERS</code> clause is not used with the <code>CREATE INDEX</code> statement and the index parameters are not assigned to the expression set, the default index parameters associated with the corresponding attribute set are used for the Expression Filter index. If the default index parameters list is empty, all the scalar attributes defined in the attribute set are stored and indexed in the predicate table.</p>
<p>For an Expression Filter index, all the indexed attributes are also stored. So, the list of stored attributes is derived from those listed in the <code>STOREATTRS</code> clause and those listed in the <code>INDEXATTRS</code> clause. If you do not specify the <code>REPLACE DEFAULTS</code> clause, this list is merged with the default index parameters associated with the corresponding attribute set.</p>
<p>If you do not specify the <code>REPLACE DEFAULTS</code> clause, the list of indexed attributes for an Expression Filter index is derived from the <code>INDEXATTRS</code> clause and the default index parameters associated with the corresponding attribute set. If this list is empty, the system picks at most 10 stored attributes and indexes them.</p>
<p>If an attribute is listed in the <code>PARAMETERS</code> clause as well as the default index parameters, its stored versus indexed property is decided by the <code>PARAMETERS</code> clause specification.</p>
<p>Predicate statistics for the expression set should be available to use the <code>TOP</code> clause in the parameters of the <code>CREATE INDEX</code> statement. (See the <a class="olink ARPLS168" href="../../appdev.112/e40758/d_expfilref.htm#ARPLS168"><code>GET_EXPRSET_STATS</code> Procedure</a> for more information.) When you use the <code>TOP</code> clause for the <code>STOREATTRS</code> parameter, the <code>INDEXATTRS</code> parameter (if specified) should also use the <code>TOP</code> clause. Also, the number you specify for the <code>TOP</code> clause of the <code>INDEXATTRS</code> parameter should be less than or equal to the one you specify for the <code>STOREATTRS</code> parameter. When you use a <code>TOP</code> clause, <code>REPLACE DEFAULTS</code> usage is implied. That is, the stored and indexed attributes are picked solely based on the predicate statistics available in the dictionary.</p>
<p>The successful creation of the Expression Filter index creates a predicate table, one or more bitmap indexes on the predicate table, and a package with access functions in the same schema as the base table. By default, the predicate table and its indexes are created in the user default tablespace. You can specify an alternate tablespace and other storage parameters for the predicate table using the <code>PREDSTORAGE</code> clause. The indexes on the predicate table are always created in the same tablespace as the predicate table.</p>
<p>See <a href="exprn_indexexpressions.htm#CIHBFHBA">Chapter 12</a> for information about indexing expressions.</p>
<p>Related views: <code><a href="exprn_views.htm#CHDBFCIF">USER_EXPFIL_INDEXES View</a></code>, <a href="exprn_views.htm#BABDEDBB">USER_EXPFIL_INDEX_PARAMS View</a>, <code><a href="exprn_views.htm#CHDBDECJ">USER_EXPFIL_DEF_INDEX_PARAMS View</a></code>, <code><a href="exprn_views.htm#CHDCGGJH">USER_EXPFIL_EXPRSET_STATS View</a></code>, and <code><a href="exprn_views.htm#CHDGGIJG">USER_EXPFIL_PREDTAB_ATTRIBUTES View</a></code></p>
<p class="titleinrefsubsect"><a id="sthref323"></a>Examples</p>
<p>When you do not directly assign index parameters to the expression set, you can create an Expression Filter index using the default index parameters specified for the corresponding attribute set as follows:</p>
<pre>
CREATE INDEX InterestIndex ON Consumer (Interest) INDEXTYPE IS EXFSYS.EXPFILTER;
</pre>
<p>You can create an index with one additional stored attribute using the following statement:</p>
<pre>
CREATE INDEX InterestIndex ON Consumer (Interest) INDEXTYPE IS EXFSYS.EXPFILTER
  PARAMETERS ('STOREATTRS (CrashTestRating(Model, Year)) 
               PREDSTORAGE (tablespace tbs_1) ');
</pre>
<p>You can specify the complete list of stored and indexed attributes for an index with the following statement:</p>
<pre>
CREATE INDEX InterestIndex ON Consumer (Interest) INDEXTYPE IS EXFSYS.EXPFILTER
  PARAMETERS ('REPLACE DEFAULTS 
               STOREATTRS (Model, CrashTestRating(Model, Year))
               INDEXATTRS (Model, Year, Price)
               PREDSTORAGE (tablespace tbs_1) ');
</pre>
<p>You can use the <code>TOP</code> clause in the parameters clause when statistics are computed for the expression set. These statistics are accessible from the <code>USER_EXPFIL_EXPRSET_STATS</code> view.</p>
<pre>
BEGIN
  DBMS_EXPFIL.GET_EXPRSET_STATS (expr_tab =&gt; 'Consumer',
                                 expr_col =&gt; 'Interest');
END;
/
 
CREATE INDEX InterestIndex ON Consumer (Interest) INDEXTYPE IS EXFSYS.EXPFILTER
  PARAMETERS ('STOREATTRS TOP 4 INDEXATTRS TOP 3');
</pre></div>
<!-- class="refsect1" -->
<a id="BJEHIFIF"></a><a id="EXPRN050"></a>
<hr />
<div class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1"><a id="sthref324"></a><a id="sthref325"></a>DROP INDEX</h2>
<p>The <code>DROP INDEX</code> statement drops an Expression Filter index.</p>
<p class="titleinrefsubsect"><a id="sthref326"></a>Format</p>
<pre>
DROP INDEX [schema_name.]index_name;
</pre>
<p class="titleinrefsubsect"><a id="sthref327"></a>Keyword and Parameters</p>
<p>None.</p>
<p class="titleinrefsubsect"><a id="sthref328"></a>Usage Notes</p>
<p>Dropping an Expression Filter index automatically drops all the secondary objects maintained for the index. These objects include a predicate table, one or more indexes on the predicate table, and an access function package.</p>
<p class="titleinrefsubsect"><a id="sthref329"></a>Examples</p>
<pre>
DROP INDEX InterestIndex;
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment988">
<tr>
<td class="cellalignment995">
<table class="cellalignment993">
<tr>
<td class="cellalignment992"><a href="exprn_spatialpred.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment992"><a href="exprn_utilities.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment997">
<table class="cellalignment991">
<tr>
<td class="cellalignment992"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment992"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment992"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment992"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment992"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment992"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
