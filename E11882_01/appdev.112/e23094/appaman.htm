<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Administering Oracle XML&nbsp;DB</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748" />
<meta name="description" content="This manual describes Oracle XML&nbsp;DB. It includes guidelines and examples for storing, generating, accessing, searching, validating, transforming, evolving, and indexing XML data in Oracle Database." />
<meta name="dcterms.created" content="2014-02-20T9:56:17Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="XML DB Developer's Guide" />
<meta name="dcterms.identifier" content="E23094-04" />
<meta name="dcterms.isVersionOf" content="ADXDB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="partpg6.htm" title="Previous" type="text/html" />
<link rel="Next" href="xdb25loa.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e23094.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">47/54</span> <!-- End Header -->
<script  >
<!-- // <![CDATA[
window.name='appaman'
// ]]> -->
</script> <script  >
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=120,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><h1>Footnote ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/body><\/html>');
    msg.document.close();
    msg.focus();
}
// ]]>
</script> <noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<div id="ADXDB2700" class="chapter"><a id="g645751"></a>
<h1 class="chapter"><span class="secnum">34</span> Admini<a id="sthref1836"></a>stering Oracle XML&nbsp;DB</h1>
<p>This chapter describes how to administer Oracle XML&nbsp;DB. It includes information about installing, upgrading, and configuring Oracle XML&nbsp;DB.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i638485">Installing Oracle XML&nbsp;DB</a></p>
</li>
<li>
<p><a href="#i640804">Upgrading an Existing Oracle XML&nbsp;DB Installation</a></p>
</li>
<li>
<p><a href="#CDCCGDIC">Administering Oracle XML&nbsp;DB using Oracle Enterprise Manager</a></p>
</li>
<li>
<p><a href="#i641205">Configuring Oracle XML&nbsp;DB using xdbconfig.xml</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb_xlink.htm#CIHHJJCC">"Configuring Resources for XLink and XInclude"</a> for information on configuring Oracle XML&nbsp;DB Repository resources for use with XLink and XInclude</div>
<a id="i638485"></a>
<div id="ADXDB5694" class="sect1">
<h2 class="sect1">In<a id="sthref1837"></a><a id="sthref1838"></a>stalling Oracle XML&nbsp;DB</h2>
<p>You can perform a new installation of Oracle XML&nbsp;DB with or without Database Configuration Assistant (DBCA). You are required to install Oracle XML&nbsp;DB manually without DBCA if you upgrade an existing installation.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do <span class="italic">not</span> uninstall Oracle XML&nbsp;DB in a database that contains any <code>XMLType</code> data without first contacting Oracle Support.</div>
<a id="i641017"></a>
<div id="ADXDB5696" class="sect2">
<h3 class="sect2">Installing Oracle XML&nbsp;DB with Database Configuration Assistant</h3>
<p>Oracle XML&nbsp;DB is part of the seed database and is installed by Database Configuration Assistant (DBCA) by default. No additional steps are required to install Oracle XML&nbsp;DB.</p>
<p>However, if you select the advanced database configuration, then you can configure the <code>SYSAUX</code> tablespace, which is used for Oracle XML&nbsp;DB Repository, and the port numbers for protocols FTP, HTTP(S), and WebDAV.</p>
<p>By default, DBCA performs the following tasks during installation:</p>
<ul>
<li>
<p>Creates tablespace <code>SYSAUX</code> for Oracle XML&nbsp;DB Repository</p>
</li>
<li>
<p>Enables all protocol access</p>
</li>
</ul>
<p>Tablespace <code><a id="sthref1839"></a><a id="sthref1840"></a>SYSAUX</code> holds the data stored in Oracle XML&nbsp;DB Repository, including data stored using:</p>
<ul>
<li>
<p>SQL, for example using <code>RESOURCE_VIEW</code> and <code>PATH_VIEW</code></p>
</li>
<li>
<p>Protocols such as FTP, HTTP(S), and WebDAV</p>
</li>
</ul>
<p>You can store data in tables outside of this tablespace and access the data through Oracle XML&nbsp;DB Repository, by having <code>REF</code>s to that data stored in the tables in this tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb22pro.htm#CHDHAGBF">"Anonymous Access to Oracle XML&nbsp;DB Repository using HTTP"</a> for information about allowing unauthenticated access to the repository</div>
<div id="ADXDB5697" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1841"></a>
<h4 class="sect3">Dynamic Protocol Registration of FTP and HTTP(S) Services with Local Listener</h4>
<p>Oracle XML&nbsp;DB installation dynamically registers FTP and HTTP(S) services with the local listener. You can perform start, stop, and query with <code>lsnrctl</code>. For example:</p>
<ul>
<li>
<p>start: <code>lsnrctl</code> <code>start</code></p>
</li>
<li>
<p>stop: <code>lsnrctl</code> <code>stop</code></p>
</li>
<li>
<p>query: <code>lsnrctl</code> <code>status</code></p>
</li>
</ul>
<div id="ADXDB5698" class="sect4"><a id="sthref1842"></a>
<h5 class="sect4">Changing FTP or HTTP(S) Port Numbers</h5>
<p>To change FTP and HTTP(S) port numbers, update elements <code>&lt;ftp-port&gt;</code>, <code>&lt;http-port&gt;</code>, and <code>&lt;http2-port&gt;</code> in file <code>/xdbconfig.xml</code> in Oracle XML&nbsp;DB Repository.</p>
<p>After updating the port numbers, dynamic protocol registration automatically stops FTP/HTTP(S) service on old port numbers and starts them on new port numbers if the local listener is up. If the local listener is not up, restart the listener after updating the port numbers.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb22pro.htm#g1031760">Chapter 28, "Accessing the Repository using Protocols"</a> for information about configuring protocols</div>
</div>
<!-- class="sect4" -->
<div id="ADXDB5699" class="sect4"><a id="sthref1843"></a>
<h5 class="sect4">Post-installation</h5>
<p>Oracle XML&nbsp;DB uses dynamic protocol registration to set up FTP and HTTP listener services with the local listener. Ensure that the listener is up when you access Oracle XML&nbsp;DB protocols.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the listener is running on a port that is not standard (for example, not 1521), then, in order for the protocols to register with the correct listener, the <code>init.ora</code> file must contain a <code>local_listener</code> entry. This references a <code>TNSNAME</code> entry that points to the correct listener. After editing the <code>init.ora</code> parameter, you must regenerate the <code>SPFILE</code> entry using <code>CREATE</code> <code>SPFILE</code>.</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACIBCBA"></a>
<div id="ADXDB5700" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Installing Oracle XML&nbsp;DB Manually without DBCA</h3>
<p>You can install Oracle XML&nbsp;DB manually, by running the <code>catqm</code> SQL script in directory <code>rdbms/admin</code> as database user <code>SYS</code>. Before running the script, you must install the database. If you expect Oracle XML&nbsp;DB Repository to contain a large amount of data, then you might also want to create a separate tablespace for Oracle XML&nbsp;DB.</p>
<p>Here is the syntax for <code>catqm</code>, where:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">xdb_password</span></code> is the password</p>
</li>
<li>
<p><code><span class="codeinlineitalic">xdb_ts_name</span></code> is the tablespace to use for Oracle XML&nbsp;DB</p>
</li>
<li>
<p><code><span class="codeinlineitalic">temp_ts_name</span></code> is the temporary tablespace</p>
</li>
<li>
<p><code><span class="codeinlineitalic">secure_file_for_repo</span></code> is <code>YES</code> or <code>NO</code> (uppercase), <code>YES</code> meaning to use SecureFile LOB storage for Oracle XML&nbsp;DB Repository</p>
</li>
</ul>
<pre>
catqm.sql <span class="italic">xdb_password</span> <span class="italic">xdb_ts_name</span> <span class="italic">temp_ts_name</span> <span class="italic">secure_file_for_repos</span>
</pre>
<p>For example:</p>
<pre>
catqm.sql change_on_install SYSAUX TEMP YES
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>SecureFile LOB storage can be created only in a tablespace that uses automatic segment space management. See <a class="olink ADMIN10065" href="../../server.112/e25494/tspaces.htm#ADMIN10065"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
</li>
<li>
<p>Database compatibility must be 11.0.0.0 or greater, in order to use SecureFile LOB storage.</p>
</li>
</ul>
</div>
<div id="ADXDB5701" class="sect3"><a id="sthref1844"></a>
<h4 class="sect3">Post-Installation</h4>
<p>After the manual installation, carry out these tasks:</p>
<ol>
<li>
<p>Add the following dispatcher entry to the <code>init.ora</code> file:</p>
<pre>
dispatchers="(PROTOCOL=TCP) (SERVICE=&lt;sid&gt;XDB)"
</pre></li>
<li>
<p>Restart the database and the listener to enable Oracle XML&nbsp;DB protocol access.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb22pro.htm#CHDHAGBF">"Anonymous Access to Oracle XML&nbsp;DB Repository using HTTP"</a> for information about allowing unauthenticated access to the repository</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i640804"></a>
<div id="ADXDB5703" class="sect1">
<h2 class="sect1">Upgrading an <a id="sthref1845"></a><a id="sthref1846"></a>Existing Oracle XML&nbsp;DB Installation</h2>
<p>The following considerations apply to all upgrades to Oracle Database 11<span class="italic">g</span>:</p>
<ul>
<li>
<p>Run script <code>catproc.sql</code>, as always.</p>
</li>
<li>
<p>As a post-upgrade step, if you want Oracle XML&nbsp;DB functionality, then you must install Oracle XML&nbsp;DB manually as described in <a href="#CACIBCBA">"Installing Oracle XML&nbsp;DB Manually without DBCA"</a>.</p>
</li>
<li>
<p>ACL security: In releases prior to Oracle Database&nbsp;11<span class="italic">g</span> Release 1, conflicts among ACEs for the same principal and same privilege were resolved by giving priority to any ACE that had child <code>deny</code>, whether or not preceding ACEs had child <code>grant</code>, that is, ACE order did not matter. In Oracle Database 11<span class="italic">g</span> this <code>deny-trumps-grant</code> behavior is still available, but it is not the default behavior.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb21sec.htm#CHDBBGEA">"ACL and ACE Evaluation"</a> for information about conflicts among ACEs</div>
<div id="ADXDB5704" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1847"></a>
<h3 class="sect2">Validation of ACL Documents and Configuration File</h3>
<p>Access control list (ACL) documents are stored in table <code>XDB$ACL</code>. The Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, is stored in table <code>XDB$CONFIG</code>. Starting with Oracle Database&nbsp;11<span class="italic">g</span> Release 1, these tables use the post-parse (binary XML) storage model. This implies that ACL documents and the configuration file are fully validated against their respective XML schemas. Validation takes place during upgrade, using your existing ACL documents and configuration file and the corresponding existing XML schemas.</p>
<p>If an ACL document fails to validate during upgrade, then the document is moved to table <code>XDB$INVALID_ACL</code>.</p>
<p>If validation of configuration file <code>xdbconfig.xml</code> fails during upgrade, then the file is saved in table <code>XDB$INVALID_CONFIG</code>, the default configuration file replaces it in table <code>XDB$CONFIG</code>, and the <code>XDB</code> component of the database is marked invalid. You must then start the database in normal mode and fix the <code>XDB</code> component, before trying to use the database.</p>
<p>To fix the <code>XDB</code> component, you can fix the invalid files to make them valid, and then call PL/SQL procedure <code>RecoverUpgrade</code>. After validating, this procedure moves the fixed files to tables <code>XDB$ACL</code> and <code>XDB$CONFIG</code>, and marks the <code>XDB</code> component valid.</p>
<p>As an option, you can call procedure <code>RecoverUpgrade</code> with parameter <code>use_default</code> set to <code>TRUE</code>, to abandon any invalid files. In this case, any valid files are moved to tables <code>XDB$ACL</code> and <code>XDB$CONFIG</code>, and any remaining invalid files are deleted. Default files are used in place of any invalid files. For ACLs, the default ACL document is used. For the configuration file, the default <code>xdbconfig.xml</code> is used (in which ACE order matters).</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Use a <code>TRUE</code> value for parameter <code>use_default</code> <span class="italic">only</span> if you are certain that you no longer need the old ACL files or configuration file that are invalid. These files are <span class="italic">deleted</span>.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CDCCGDIC"></a>
<div id="ADXDB5708" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Administering Oracle XML&nbsp;DB using Oracle <a id="sthref1848"></a><a id="sthref1849"></a>Enterprise Manager</h2>
<p>Oracle Enterprise Manager is a graphical tool supplied with Oracle Database that lets you perform database administration tasks easily. You can use it to perform the following tasks related to Oracle XML&nbsp;DB:</p>
<ul>
<li>
<p><a id="sthref1850"></a>Configure Oracle XML&nbsp;DB. View or edit parameters for the Oracle XML&nbsp;DB configuration file, <code>/xdbconfig.xml</code>.</p>
<p>For information about configuring Oracle XML&nbsp;DB without using Oracle Enterprise Manager, see <a href="#i641205">"Configuring Oracle XML&nbsp;DB using xdbconfig.xml"</a>.</p>
</li>
<li>
<p>Search, create, edit, undelete Oracle XML&nbsp;DB Repository <span class="italic">resources</span> and their associated <span class="italic">access control lists</span> (ACLs).</p>
<p>For information about creating and managing resources without using Oracle Enterprise Manager, see <a href="partpg5.htm#g997359">Part V, "Oracle XML&nbsp;DB Repository"</a>.</p>
</li>
<li>
<p>Search, create, edit, and delete <code>XMLType</code> <span class="italic">tables</span> and <span class="italic">views</span>.</p>
</li>
<li>
<p>Search, create, register, and delete <span class="italic">XML schemas</span>.</p>
<p>For information about manipulating XML schemas without using Oracle Enterprise Manager, see <a href="xdb05sto.htm#g1070409">Chapter 7, "XML Schema Storage and Query: Basic"</a>.</p>
</li>
<li>
<p>Create <span class="italic">function-based indexes</span> based on XPath expressions.</p>
<p>For information about creating function-based indexes without using Oracle Enterprise Manager, see <a href="xdb_indexing.htm#CHDEADIH">Chapter 6, "Indexing XMLType Data"</a>.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The online help available with Oracle Enterprise Manager, for information about using Enterprise Manager to perform these tasks</div>
</div>
<!-- class="sect1" -->
<a id="i641205"></a>
<div id="ADXDB5709" class="sect1">
<h2 class="sect1">Configuring Oracle XML&nbsp;DB using <a id="sthref1851"></a><a id="sthref1852"></a>xdbconfig.xml</h2>
<p>Oracle XML&nbsp;DB is managed internally through a configuration file, <code>/xdbconfig.xml</code>, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.</p>
<p>The configuration file can be modified at run time. Updating the configuration file creates a new version of this repository resource. At the start of each session, the current version of the configuration file is bound to that session. The session uses this configuration-file version for its duration, unless you make an explicit call to refresh the session to the latest version.</p>
<a id="i641206"></a>
<div id="ADXDB5710" class="sect2">
<h3 class="sect2">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</h3>
<p>The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, <code>/xdbconfig.xml</code>, which conforms to the Oracle XML&nbsp;DB configuration XML schema: <code>http://xmlns.oracle.com/xdb/xdbconfig.xsd</code>. To configure or reconfigure Oracle XML&nbsp;DB, update file <code>/xdbconfig.xml</code>. Its structure is described in the following sections. You need administrator privileges to access file <code>/xdbconfig.xml</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="apphxdb.htm#i643401">"xdbconfig.xsd: XML Schema for Configuring Oracle XML&nbsp;DB"</a> for a complete listing of the Oracle XML&nbsp;DB configuration XML schema</div>
<div id="ADXDB5711" class="sect3"><a id="sthref1853"></a>
<h4 class="sect3">&lt;xdbconfig&gt; (Top-Level Element)</h4>
<p>Element <code>&lt;xdbconfig&gt;</code> is the top-level element. Its structure is as follows:</p>
<pre>
&lt;xdbconfig&gt; 
    &lt;sysconfig&gt; ... &lt;/sysconfig&gt; 
    &lt;userconfig&gt; ... &lt;/userconfig&gt; 
&lt;/xdbconfig&gt;
</pre>
<p>Element <code>&lt;sysconfig&gt;</code> defines system-specific, built-in parameters. Element <code>&lt;userconfig&gt;</code> lets you store new custom parameters.</p>
</div>
<!-- class="sect3" -->
<div id="ADXDB5712" class="sect3"><a id="sthref1854"></a>
<h4 class="sect3">&lt;sysconfig&gt; (Child of &lt;xdbconfig&gt;)</h4>
<p>Element <code>&lt;sysconfig&gt;</code> is a child of <code>&lt;xdbconfig&gt;</code>. Its structure is as follows:</p>
<pre>
&lt;sysconfig&gt; 
    <span class="italic">general parameters</span>
    &lt;protocolconfig&gt; ... &lt;/protocolconfig&gt; 
&lt;/sysconfig&gt; 
</pre>
<p>Element <code>&lt;sysconfig&gt;</code> includes as content several general parameters that apply to all of Oracle XML&nbsp;DB, such as the maximum age of an access control list (ACL) and whether or not Oracle XML&nbsp;DB is case sensitive. Child <code>&lt;protocolconfig&gt;</code> contains protocol-specific parameters.</p>
</div>
<!-- class="sect3" -->
<div id="ADXDB5713" class="sect3"><a id="sthref1855"></a>
<h4 class="sect3">&lt;userconfig&gt; (Child of &lt;xdbconfig&gt;)</h4>
<p>Element <code>&lt;userconfig&gt;</code> is a child of <code>&lt;xdbconfig&gt;</code>. It contains any parameters that you may want to add.</p>
</div>
<!-- class="sect3" -->
<div id="ADXDB5714" class="sect3"><a id="sthref1856"></a>
<h4 class="sect3">&lt;protocolconfig&gt; (Child of &lt;sysconfig&gt;)</h4>
<p>Element <code>&lt;protocolconfig&gt;</code> is a child of <code>&lt;sysconfig&gt;</code>. Its structure is as follows:</p>
<pre>
&lt;protocolconfig&gt; 
  &lt;common&gt; ... &lt;/common&gt; 
  &lt;ftpconfig&gt; ... &lt;/ftpconfig&gt; 
  &lt;httpconfig&gt; ... &lt;/httpconfig&gt; &lt;/protocolconfig&gt; 
</pre>
<p>Under <code>&lt;common&gt;</code>, Oracle Database stores parameters that apply to all protocols, such as MIME-type information. Parameters that are specific to protocols FTP and HTTP(S) are in elements <code>&lt;ftpconfig&gt;</code> and <code>&lt;httpconfig&gt;</code>, respectively.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xdb22pro.htm#g1031760">Chapter 28, "Accessing the Repository using Protocols"</a>, <a href="xdb22pro.htm#BABJEIEG">Table 28-1</a>, <a href="xdb22pro.htm#g1029943">Table 28-2</a>, and <a href="xdb22pro.htm#g1029959">Table 28-3</a>, for a list of protocol configuration parameters</div>
</div>
<!-- class="sect3" -->
<a id="CDCDIDBD"></a>
<div id="ADXDB5715" class="sect3">
<h4 class="sect3">&lt;httpconfig&gt; (Child of &lt;protocolconfig&gt;)</h4>
<p>Element <code>&lt;httpconfig&gt;</code> is a child of <code>&lt;protocolconfig&gt;</code>. Its structure is as follows:</p>
<pre>
&lt;httpconfig&gt;
  ...
  &lt;webappconfig&gt;
    ...
    &lt;servletconfig&gt;
      ...
      &lt;servlet-list&gt;
        &lt;servlet&gt; ... &lt;/servlet&gt;
        ...
      &lt;/servlet-list&gt;
    &lt;/servletconfig&gt;
  &lt;/webappconfig&gt;
  ...
  &lt;plsql&gt; ... &lt;/plsql&gt;
&lt;/httpconfig&gt;
</pre>
<p>Element <code>&lt;httpconfig&gt;</code> has the following child elements, in addition to others:</p>
<ul>
<li>
<p><code>&lt;webappconfig&gt;</code> &ndash; used to configure Web-based applications. This includes Web application-specific parameters, such as icon name, display name for the application, and a list of servlets.</p>
<p>Element <code>&lt;servletconfig&gt;</code> is a child of <code>&lt;webappconfig&gt;</code> that is used to define servlets. It has child <code>&lt;servlet-list&gt;</code>, which has child <code>&lt;servlet&gt;</code> (see <a href="#CDCEEJIG">"&lt;servlet&gt; (Descendant of &lt;httpconfig&gt;)"</a>).</p>
</li>
<li>
<p><code>&lt;plsql&gt;</code><a id="sthref1857" href="#sthref1857" onclick='footdisplay(1,"There are two different \u003ccode\u003e&lt;plsql\u003e\u003c/code\u003e elements that are used to configure the embedded PL/SQL gateway. One, a child of \u003ccode\u003e&lt;httpconfig\u003e\u003c/code\u003e, defines \u003cspan class=\"italic\"\u003eglobal parameters\u003c/span\u003e. The other, a child of \u003ccode\u003e&lt;servlet\u003e\u003c/code\u003e, defines \u003cspan class=\"italic\"\u003eDAD attributes\u003c/span\u003e.")'><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a> &ndash; used to define global configuration parameters when configuring the <span class="italic">embedded PL/SQL gateway</span>. Each global parameter is defined with a child element of <code>&lt;plsql&gt;</code>. The element name is the same as the global parameter name. The element content is the same as the parameter value.</p>
<p>The recommended way to configure the embedded PL/SQL gateway is to use the procedures in PL/SQL package <code>DBMS_EPG</code>, <span class="italic">not</span> to edit file <code>xdbconfig.xml</code>.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="xdb22pro.htm#g1031760">Chapter 28, "Accessing the Repository using Protocols"</a>, <a href="xdb22pro.htm#BABJEIEG">Table 28-1</a>, <a href="xdb22pro.htm#g1029943">Table 28-2</a>, and <a href="xdb22pro.htm#g1029959">Table 28-3</a>, for a list of protocol configuration parameters</p>
</li>
<li>
<p><a class="olink ADFNS015" href="../../appdev.112/e41502/adfns_web.htm#ADFNS015"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>, for complete information on configuring and using the embedded PL/SQL gateway</p>
</li>
<li>
<p><a class="olink HSADM003" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=HSADM003"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle HTTP Server</span></a> for information about mod_plsql and conceptual information about using the PL/SQL gateway</p>
</li>
<li>
<p><a class="olink ARPLS193" href="../../appdev.112/e40758/d_epg.htm#ARPLS193"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>, for information about package <code>DBMS_EPG</code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CDCEEJIG"></a>
<div id="ADXDB5716" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">&lt;servlet&gt; (Descendant of &lt;httpconfig&gt;)</h4>
<p>An optional <code>&lt;plsql&gt;</code> element, child of <code>&lt;servlet&gt;</code>, configures the embedded PL/SQL gateway servlet. However, the <span class="italic">recommended</span> way to configure the embedded gateway is to use the procedures in PL/SQL package <code>DBMS_EPG</code>, <span class="italic">not</span> to edit file <code>xdbconfig.xml</code>.</p>
<p>Element <code>&lt;plsql&gt;</code> has a child element for each embedded PL/SQL DAD attribute<a id="sthref1858" href="#sthref1858" onclick='footdisplay(2,"DAD is an abbreviation for Database Access Descriptor. DAD attributes are parameters that define such a descriptor.")'><sup class="tablefootnote">Foot&nbsp;2&nbsp;</sup></a> that is needed to configure the embedded gateway. All such children are optional. The element name is the same as the DAD attribute name. The element content is the same as the DAD-attribute value.</p>
<p>Element <code>&lt;servlet&gt;</code> is a descendent of <code>&lt;httpconfig&gt;</code> &ndash; see <a href="#CDCDIDBD">"&lt;httpconfig&gt; (Child of &lt;protocolconfig&gt;)"</a>. It is used to configure servlets, including Java servlets and embedded PL/SQL gateway servlets.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="xdb23jv1.htm#g1050187">Chapter 32, "Writing Oracle XML&nbsp;DB Applications in Java"</a> for information about configuring Java servlets</p>
</li>
<li>
<p><a class="olink ADFNS015" href="../../appdev.112/e41502/adfns_web.htm#ADFNS015"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>, for complete information on configuring and using the embedded PL/SQL gateway</p>
</li>
<li>
<p><a class="olink HTMDB" href="../e11947/toc.htm"><span class="italic">Oracle Application Express Application Builder User's Guide</span></a>, for information about Oracle Application Express</p>
</li>
<li>
<p><a class="olink ARPLS193" href="../../appdev.112/e40758/d_epg.htm#ARPLS193"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>, for information about package <code>DBMS_EPG</code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="i641207"></a>
<div id="ADXDB5717" class="sect3">
<h4 class="sect3">Oracle XML&nbsp;DB Configuration File Example</h4>
<p>The following is a sample Oracle XML&nbsp;DB configuration file:</p>
<div id="ADXDB5718" class="example">
<p class="titleinexample"><a id="sthref1859"></a>Example 34-1 Oracle XML&nbsp;DB Configuration File</p>
<pre>
&lt;xdbconfig xmlns="http://xmlns.oracle.com/xdb/xdbconfig.xsd" 
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                 xsi:schemaLocation="http://xmlns.oracle.com/xdb/xdbconfig.xsd 
                                    http://xmlns.oracle.com/xdb/xdbconfig.xsd"&gt;
   &lt;sysconfig&gt;
      &lt;acl-max-age&gt;900&lt;/acl-max-age&gt;
      &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt; 
      &lt;invalid-pathname-chars&gt;,&lt;/invalid-pathname-chars&gt;
      &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;       
      &lt;call-timeout&gt;300&lt;/call-timeout&gt;
      &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt; 
      &lt;max-session-use&gt;100&lt;/max-session-use&gt;
      &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt; 
      &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
      &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
      &lt;xdbcore-log-level&gt;0&lt;/xdbcore-log-level&gt;
      &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt; 
    
      &lt;protocolconfig&gt; 
          &lt;common&gt;
             &lt;extension-mappings&gt;
                &lt;mime-mappings&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;au&lt;/extension&gt;
                    &lt;mime-type&gt;audio/basic&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;avi&lt;/extension&gt;
                    &lt;mime-type&gt;video/x-msvideo&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;bin&lt;/extension&gt;
                    &lt;mime-type&gt;application/octet-stream&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                &lt;/mime-mappings&gt; 

                &lt;lang-mappings&gt;
                  &lt;lang-mapping&gt;
                    &lt;extension&gt;en&lt;/extension&gt;
                    &lt;lang&gt;english&lt;/lang&gt;
                  &lt;/lang-mapping&gt;
                &lt;/lang-mappings&gt;

                &lt;charset-mappings&gt;
                &lt;/charset-mappings&gt;

                &lt;encoding-mappings&gt;
                  &lt;encoding-mapping&gt;
                    &lt;extension&gt;gzip&lt;/extension&gt;
                    &lt;encoding&gt;zip file&lt;/encoding&gt;      
                  &lt;/encoding-mapping&gt;
                  &lt;encoding-mapping&gt;
                    &lt;extension&gt;tar&lt;/extension&gt;
                    &lt;encoding&gt;tar file&lt;/encoding&gt;        
                  &lt;/encoding-mapping&gt;
                &lt;/encoding-mappings&gt;
             &lt;/extension-mappings&gt;

             &lt;session-pool-size&gt;50&lt;/session-pool-size&gt;
             &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
          &lt;/common&gt;

          &lt;ftpconfig&gt;
            &lt;ftp-port&gt;2100&lt;/ftp-port&gt;
            &lt;ftp-listener&gt;local_listener&lt;/ftp-listener&gt;
            &lt;ftp-protocol&gt;tcp&lt;/ftp-protocol&gt;
            &lt;logfile-path&gt;/sys/log/ftplog.xml&lt;/logfile-path&gt;
            &lt;log-level&gt;0&lt;/log-level&gt;
            &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
            &lt;buffer-size&gt;8192&lt;/buffer-size&gt; 
          &lt;/ftpconfig&gt;

          &lt;httpconfig&gt;
            &lt;http-port&gt;8080&lt;/http-port&gt;
            &lt;http-listener&gt;local_listener&lt;/http-listener&gt;
            &lt;http-protocol&gt;tcp&lt;/http-protocol&gt;
            &lt;max-http-headers&gt;64&lt;/max-http-headers&gt; 
            &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
            &lt;server-name&gt;XDB HTTP Server&lt;/server-name&gt;
            &lt;max-header-size&gt;16384&lt;/max-header-size&gt;
            &lt;max-request-body&gt;2000000000&lt;/max-request-body&gt;
            &lt;logfile-path&gt;/sys/log/httplog.xml&lt;/logfile-path&gt;
            &lt;log-level&gt;0&lt;/log-level&gt;    
            &lt;servlet-realm&gt;Basic realm="XDB"&lt;/servlet-realm&gt;
            &lt;webappconfig&gt;
              &lt;welcome-file-list&gt;
                &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
                &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;
              &lt;/welcome-file-list&gt;
              &lt;error-pages&gt;
              &lt;/error-pages&gt;
              &lt;servletconfig&gt; 
                &lt;servlet-mappings&gt;
                  &lt;servlet-mapping&gt;
                    &lt;servlet-pattern&gt;/oradb/*&lt;/servlet-pattern&gt;
                    &lt;servlet-name&gt;DBURIServlet&lt;/servlet-name&gt;
                  &lt;/servlet-mapping&gt;
                &lt;/servlet-mappings&gt;
                               
                &lt;servlet-list&gt;
                  &lt;servlet&gt;
                    &lt;servlet-name&gt;DBURIServlet&lt;/servlet-name&gt;
                    &lt;display-name&gt;DBURI&lt;/display-name&gt;
                    &lt;servlet-language&gt;C&lt;/servlet-language&gt;
                    &lt;description&gt;Servlet for accessing DBURIs&lt;/description&gt;
                    &lt;security-role-ref&gt;
                      &lt;role-name&gt;authenticatedUser&lt;/role-name&gt;
                      &lt;role-link&gt;authenticatedUser&lt;/role-link&gt;
                    &lt;/security-role-ref&gt;
                  &lt;/servlet&gt;
                &lt;/servlet-list&gt;
              &lt;/servletconfig&gt;
            &lt;/webappconfig&gt;
          &lt;/httpconfig&gt; 
      &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt; 
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt; 
   &lt;/sysconfig&gt;
&lt;/xdbconfig&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect3" -->
<a id="i641079"></a>
<div id="ADXDB5719" class="sect3">
<h4 class="sect3">Oracle XML&nbsp;DB <a id="sthref1860"></a>Configuration API</h4>
<p>You can access the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, the same way you access any other XML schema-based resource in the hierarchy. It can be accessed using FTP, HTTP(S), WebDAV, Oracle Enterprise Manager, or any of the resource and Document Object Model (DOM) APIs for Java, PL/SQL, or C (OCI).</p>
<p>For convenience, you can use PL/SQL package <code>DBMS_XDB</code> package for configuration access. It exposes the following functions and procedures:</p>
<ul>
<li>
<p><code>cfg_get</code> &ndash; Returns the configuration information for the current session.</p>
</li>
<li>
<p><code>cfg_refresh</code> &ndash; Refreshes the session configuration information using the current configuration file. Typical uses of <code>cfg_refresh</code> include the following:</p>
<ul>
<li>
<p>You have modified the configuration and now want the session to pick up the latest version of the configuration information.</p>
</li>
<li>
<p>It has been a long running session, the configuration has been modified by a concurrent session, and you want the current session to pick up the latest version of the configuration information.</p>
</li>
</ul>
</li>
<li>
<p><code>cfg_update</code> &ndash; Updates the configuration information, writing the configuration file. A <code>COMMIT</code> is performed.</p>
</li>
</ul>
<p><a href="#CACHDDGI">Example 34-2</a> updates parameters <code>ftp-port</code> and <code>http-port</code> in the configuration file.</p>
<div id="ADXDB5720" class="example">
<p class="titleinexample"><a id="CACHDDGI"></a>Example 34-2 Updating the Configuration File using CFG_UPDATE and CFG_GET</p>
<pre>
DECLARE
  v_cfg XMLType;
BEGIN
  SELECT updateXML(DBMS_XDB.<span class="bold">cfg_get</span>(), 
                   '/xdbconfig/descendant::ftp-port/text()',
                   '2121', 
                   '/xdbconfig/descendant::http-port/text()', 
                   '19090')
    INTO v_cfg FROM DUAL;
  DBMS_XDB.<span class="bold">cfg_update</span>(v_cfg);
  COMMIT; 
END;
/ 
</pre></div>
<!-- class="example" -->
<p>If you have many parameters to update, then it can be easier to use FTP, HTTP(S), or Oracle Enterprise Manager to update the configuration.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS371" href="../../appdev.112/e40758/d_xdb.htm#ARPLS371"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></div>
</div>
<!-- class="sect3" -->
<a id="BHBJAGHE"></a>
<div id="ADXDB5721" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Configuring Default Namespace to Schema Location Mappings</h4>
<p>Oracle XML&nbsp;DB identifies schema-based <code>XMLType</code> instances by pre-parsing the input XML document. If the appropriate <code>xsi:schemaLocation</code> or <code>xsi:noNamespaceSchemaLocation</code> attribute is found, then the specified schema location URL is used to consult the registered schema. If the appropriate <code>xsi:</code> attribute is not found, the XML document is considered to be non-schema-based.Oracle XML&nbsp;DB provides a mechanism to configure default schema location mappings. If the appropriate <code>xsi:</code> attribute is not specified in the XML document, the default schema location mappings is used. Element <code>schemaLocation-mappings</code> of the Oracle XML&nbsp;DB configuration XML schema, <code>xdbconfig.xsd</code>, can be used to specify the mapping between <code><span class="codeinlineitalic">(namespace, element)</span></code> pairs and the default schema location. If the <code><span class="codeinlineitalic">element</span></code> value is empty, the mapping applies to all global elements in the specified namespace. If the <code><span class="codeinlineitalic">namespace</span></code> value is empty, it corresponds to the null namespace.</p>
<p>The definition of the <code>schemaLocation-mappings</code> element is as follows:</p>
<pre>
 &lt;element name="schemaLocation-mappings"
          type="xdbc:schemaLocation-mapping-type" minOccurs="0"/&gt; 
 &lt;complexType name="schemaLocation-mapping-type"&gt;&lt;sequence&gt;
      &lt;element name="schemaLocation-mapping"
               minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;complexType&gt;&lt;sequence&gt;
        &lt;element name="namespace" type="string"/&gt;
        &lt;element name="element" type="string"/&gt;
        &lt;element name="schemaURL" type="string"/&gt;
      &lt;/sequence&gt;&lt;/complexType&gt;
      &lt;/element&gt;&lt;/sequence&gt; 
 &lt;/complexType&gt; 
</pre>
<p>The schema location used depends on mappings in the Oracle XML&nbsp;DB configuration file for the namespace used and the root document element. For example, assume that the document does not have the appropriate <code>xsi:</code> attribute to indicate the schema location. Consider a document root element <span class="italic">R</span> in namespace <span class="italic">N</span>. The algorithm for identifying the default schema location is as follows:</p>
<ol>
<li>
<p>If the Oracle XML&nbsp;DB configuration file has a mapping for <span class="italic">N</span> and <span class="italic">R</span>, the corresponding schema location is used.</p>
</li>
<li>
<p>If the configuration file has a mapping for <span class="italic">N</span>, but not <span class="italic">R</span>, the schema location for <span class="italic">N</span> is used.</p>
</li>
<li>
<p>If the document root <span class="italic">R</span> does not have any namespace, the schema location for <span class="italic">R</span> is used.</p>
</li>
</ol>
<p>For example, suppose that your Oracle XML&nbsp;DB configuration file includes the following mapping:</p>
<pre>
      &lt;schemaLocation-mappings&gt;
         &lt;schemaLocation-mapping&gt;
            &lt;namespace&gt;http://www.oracle.com/example&lt;/namespace&gt;
            &lt;element&gt;<span class="bold">root</span>&lt;/element&gt;
            &lt;schemaURL&gt;http://www.oracle.com/example/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
         &lt;schemaLocation-mapping&gt;
            &lt;namespace&gt;http://www.oracle.com/example2&lt;/namespace&gt;
            &lt;element&gt;&lt;/element&gt;
            &lt;schemaURL&gt;http://www.oracle.com/example2/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
         &lt;schemaLocation-mapping&gt;
           &lt;namespace&gt;&lt;/namespace&gt;
           &lt;element&gt;<span class="bold">specialRoot</span>&lt;/element&gt;
           &lt;schemaURL&gt;http://www.oracle.com/example3/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
      &lt;/schemaLocation-mappings&gt;
 
</pre>
<p>The following schema locations are used:</p>
<ul>
<li>
<p>Root element = <code>root</code></p>
<ul>
<li>
<p>Namespace = <code>http://www.oracle.com/example</code></p>
</li>
<li>
<p>Schema URL = <code>http://www.oracle.com/example/sch.xsd</code></p>
</li>
</ul>
<p>This mapping is used when the instance document specifies:</p>
<pre>
&lt;root xmlns="http://www.oracle.com/example/"&gt;
</pre></li>
<li>
<p>Root element = <code>null</code> (any global element in the namespace)</p>
<ul>
<li>
<p>Namespace = <code>http://www.oracle.com/example2</code></p>
</li>
<li>
<p>Schema URL = <code>http://www.oracle.com/example2/sch.xsd</code></p>
</li>
</ul>
<p>This mapping is used when the instance document specifies:</p>
<pre>
&lt;root xmlns="http://www.oracle.example2"&gt;
</pre></li>
<li>
<p>Root element = <code>specialRoot</code></p>
<ul>
<li>
<p>Namespace = <code>null</code> (i.e null namespace)</p>
</li>
<li>
<p>Schema URL = <code>http://www.oracle.com/example3/sch.xsd</code></p>
</li>
</ul>
<p>This mapping is used when the instance document specifies:</p>
<pre>
&lt;specialRoot&gt;
</pre></li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
This functionality is available only on the server side, that is, when XML is parsed on the server. If XML is parsed on the client side, the appropriate <code>xsi:</code> attribute is still required.</div>
</div>
<!-- class="sect3" -->
<a id="BHBDHAEF"></a>
<div id="ADXDB5722" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Configuring XML File Extensions</h4>
<p>Oracle XML&nbsp;DB Repository treats certain files as XML documents, based on their file extensions. When such files are inserted into the repository, Oracle XML&nbsp;DB pre-parses them to identify the schema location (or uses the default mapping if present) and inserts the document into the appropriate default table. By default, the following extensions are considered as XML file extensions: <code><span class="codeinlinebold">xml</span></code>, <code><span class="codeinlinebold">xsd</span></code>, <code><span class="codeinlinebold">xsl</span></code>, <code><span class="codeinlinebold">xlt</span></code>. In addition, Oracle XML&nbsp;DB provides a mechanism for applications to specify other file extensions as XML file extensions. The <code><span class="codeinlinebold">xml-extensions</span></code> element is defined in the configuration schema, <code>http://xmlns.oracle.com/xdb/xdbconfig.xsd</code>, as follows:</p>
<pre>
 &lt;element name="xml-extensions"
          type="xdbc:xml-extension-type" minOccurs="0"/&gt; 
 
 &lt;complexType name="xml-extension-type"&gt;&lt;sequence&gt;
      &lt;element name="extension" type="xdbc:exttype"
               minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;/element&gt;&lt;/sequence&gt; 
  &lt;/complexType&gt; 
</pre>
<p>For example, the following fragment from the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, specifies that files with extensions <code>vsd</code>, <code>vml</code>, and <code>svgl</code> should be treated as XML files:</p>
<pre>
 &lt;xml-extensions&gt;
   &lt;extension&gt;vsd&lt;/extension&gt;
   &lt;extension&gt;vml&lt;/extension&gt;
   &lt;extension&gt;svgl&lt;/extension&gt;
 &lt;/xml-extensions&gt;
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<div class="sect1"><a id="sthref1861"></a>
<h2 class="sect1">Package DBMS_XDB_ADMIN<a id="sthref1862"></a></h2>
<p><a href="#CHDFCGHD">Table 34-1</a> describes <code>DBMS_XDB_ADMIN</code> PL/SQL procedures for managing and configuring Oracle XML&nbsp;DB and Oracle XML&nbsp;DB Repository.</p>
<div class="tblhruleformalwide">
<p class="titleintable"><a id="sthref1863"></a><a id="CHDFCGHD"></a>Table 34-1 DBMS_XDB_ADMIN Management Procedures</p>
<table class="cellalignment1032" title="DBMS_XDB_ADMIN Management Procedures" summary="This table describes DBMS_XDB resource management methods." >
<thead>
<tr class="cellalignment1020">
<th class="cellalignment1027" id="r1c1-t18">Function/Procedure</th>
<th class="cellalignment1027" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1020">
<td class="cellalignment1028" id="r2c1-t18" headers="r1c1-t18">
<p><code>moveXDB_tablespace</code></p>
</td>
<td class="cellalignment1028" headers="r2c1-t18 r1c2-t18">
<p>Move database schema <code>XDB</code> to the specified tablespace.</p>
</td>
</tr>
<tr class="cellalignment1020">
<td class="cellalignment1028" id="r3c1-t18" headers="r1c1-t18">
<p><code>rebuildHierarchicalIndex</code></p>
</td>
<td class="cellalignment1028" headers="r3c1-t18 r1c2-t18">
<p>Rebuild the hierarchical repository index. This can be needed from time to time, in particular after invoking <code>moveXDB_tablespace</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
In a default, general-purpose database, where database schema <code>XDB</code> is in tablespace <code>SYSAUX</code>, you must use <code>DBMS_XDB_ADMIN.moveXDB_tablespace</code> before performing a full database export. A full database export does not export data from tablespaces <code>SYSTEM</code> or <code>SYSAUX</code>.</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Prior to Oracle Database 11g Release 2 (11.2.0.3), these procedures belonged to PL/SQL package <code>DBMS_XDB</code>. These two procedures in package <code>DBMS_XDB</code> are <span class="italic">deprecated</span> as of release 11.2.0.3.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS214" href="../../appdev.112/e40758/d_xdb_admin.htm#ARPLS214"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" -->
<hr />
<br />
<p style="text-decoration:underline">Footnote Legend</p>
Footnote&nbsp;1:&nbsp;There are two different <code>&lt;plsql&gt;</code> elements that are used to configure the embedded PL/SQL gateway. One, a child of <code>&lt;httpconfig&gt;</code>, defines <span class="italic">global parameters</span>. The other, a child of <code>&lt;servlet&gt;</code>, defines <span class="italic">DAD attributes</span>.<br />
Footnote&nbsp;2:&nbsp;DAD is an abbreviation for Database Access Descriptor. DAD attributes are parameters that define such a descriptor.<br /></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1019">
<tr>
<td class="cellalignment1028">
<table class="cellalignment1024">
<tr>
<td class="cellalignment1023"><a href="partpg6.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1023"><a href="xdb25loa.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1030">
<table class="cellalignment1022">
<tr>
<td class="cellalignment1023"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1023"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1023"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1023"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1023"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1023"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
