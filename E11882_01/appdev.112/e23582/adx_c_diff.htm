<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Determining XML Differences Using C</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1032" />
<meta name="dcterms.created" content="2014-12-05T14:20:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="XML Developer's Kit Programmer's Guide" />
<meta name="dcterms.identifier" content="E23582-06" />
<meta name="dcterms.isVersionOf" content="ADXDK" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="adx_c_sproc.htm" title="Previous" type="text/html" />
<link rel="Next" href="adx_c_soap.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e23582.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">30/47</span> <!-- End Header -->
<div id="ADXDK2500" class="chapter"><a id="CHDBAEDH"></a>
<h1 class="chapter"><span class="secnum">21</span> Determining XML Differences Using C</h1>
<p>The Oracle XDK includes components that help you to determine the differences between the contents of two XML documents and then to apply the differences (patch) to one of the XML documents.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#BABCABHJ">Overview of XMLDiff in C</a></p>
</li>
<li>
<p><a href="#BABJEJJE">Using XmlDiff</a></p>
</li>
<li>
<p><a href="#BABEGJJD">Using XmlPatch</a></p>
</li>
<li>
<p><a href="#BABEDFCI">Using XmlHash</a></p>
</li>
</ul>
<a id="BABCABHJ"></a>
<div id="ADXDK19828" class="sect1">
<h2 class="sect1">Overview of <a id="sthref555"></a>XMLDiff in C</h2>
<p>You can use Oracle <code dir="ltr">XmlDiff</code> to determine the differences between two similar XML documents. <code dir="ltr">XmlDiff</code> generates an <code dir="ltr">Xdiff</code> instance document that indicates the differences. The <code dir="ltr">Xdiff</code> instance document is an XML document that conforms to an XML schema, the <code dir="ltr">Xdiff</code> schema.</p>
<p>You can then use <code dir="ltr">XmlPatch</code>, which takes the <code dir="ltr">Xdiff</code> instance document and applies the changes to other documents. This can be used to apply the same changes to a large number of XML documents.</p>
<p><code dir="ltr">XmlDiff</code> only supports the DOM API for input and output.</p>
<p><code dir="ltr">XmlPatch</code> also supports the DOM for the input and patch documents.</p>
<p><code dir="ltr">XmlDiff</code> and <code dir="ltr">XmlPatch</code> can be used through a C API or a command-line tool, and they are exposed by two SQL functions.</p>
<p>An <code dir="ltr">XmlHash</code> C API is provided to compute the hash value of an XML tree or subtree. If hash values of two trees or subtrees are equal, the trees are identical to a very high probability.</p>
<div id="ADXDK19829" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref556"></a>
<h3 class="sect2">Flow of Process for XMLDiff</h3>
<p>The flow of the process is as follows:</p>
<ol>
<li>
<p>The two input documents are compared by <code dir="ltr">XmlDiff</code>.</p>
</li>
<li>
<p><code dir="ltr">XmlDiff</code> creates a <code dir="ltr">Xdiff</code> instance document.</p>
</li>
<li>
<p>The application can pass the <code dir="ltr">Xdiff</code> instance document to <code dir="ltr">XmlPatch</code>, if this is required.</p>
</li>
<li>
<p><code dir="ltr">XmlPatch</code> can apply the differences captured from the comparison to other documents as specified by the application.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJEJJE"></a>
<div id="ADXDK2510" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using XmlDiff</h2>
<p><code dir="ltr">XmlDiff</code> compares the trees that represent the two input documents to determine differences.</p>
<p>Both input documents must use the same character-set encoding. The <code dir="ltr">Xdiff</code> (output) instance document has the same encoding as the data encoding (DOM encoding) of the input documents.</p>
<a id="CHDBHBHF"></a>
<div id="ADXDK19830" class="sect2">
<h3 class="sect2">User Options for Optimization</h3>
<p>There are two options for the comparison, known as optimizations:</p>
<ul>
<li>
<p>Global Optimization - Default</p>
<p>The whole document trees are compared.</p>
</li>
<li>
<p>Local Optimization</p>
<p>Comparison is at the sibling level. Local optimization compares siblings under the corresponding parents from two trees.</p>
</li>
</ul>
<p>Global optimization can take more time and space for large documents but always produces the smallest set of differences (the optimal difference). Local optimization is much faster, but may not produce the optimal difference.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCGBAH"></a>
<div id="ADXDK19831" class="sect2">
<h3 class="sect2">User Option for Hashing</h3>
<p>Hashing generally speeds up global optimization with a small possible loss in quality. Hashing improves the quality of the difference output, with local optimization. Using different hash levels may generate both local and global differences.</p>
<p>You can specify the use of hashing for both local and global optimization.</p>
<p>To specify hashing, provide the <code dir="ltr">hashLevel</code> parameter. If <code dir="ltr">hashLevel</code> is greater than 1, then only the <code dir="ltr">DOMHash</code> values are used for comparing all subtrees at <code dir="ltr">depth &gt;= hashLevel</code> of difference. If the hash values are equal, then the subtrees are presumed to be equal.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDEJJA"></a>
<div id="ADXDK19832" class="sect2">
<h3 class="sect2">How XmlDiff Looks at Input Documents</h3>
<p><code dir="ltr">XmlDiff</code> ignores differences in the order of attributes while doing the comparison.</p>
<p><code dir="ltr">XmlDiff</code> ignores DocType declarations. Files are not validated against the DTD.</p>
<p><code dir="ltr">XmlDiff</code> ignores any differences in the namespace prefixes as long as the namespace prefixes refer to the same namespace URI. Otherwise, if two nodes have the same local name and content but differ in namespace URI, these differences are indicated.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code dir="ltr">XmlDiff</code> operates on its input documents in a nonschema-based way. It does not operate on elements or attributes in a type-aware manner.</div>
</div>
<!-- class="sect2" -->
<a id="CHDIAEEH"></a>
<div id="ADXDK2540" class="sect2">
<h3 class="sect2">Using the <a id="sthref557"></a>XmlDiff Command-Line Utility</h3>
<p><a href="#BABJDEEA">Table 21-1</a> describes command-line options:</p>
<div id="ADXDK19833" class="tblformal">
<p class="titleintable"><a id="sthref558"></a><a id="BABJDEEA"></a>Table 21-1 XmlDiff Command-Line Options for the C Language</p>
<table class="cellalignment1214" title="XmlDiff Command-Line Options for the C Language" summary="rows are XmlDiff command line options. first column is option name, second column description" dir="ltr">
<thead>
<tr class="cellalignment1205">
<th class="cellalignment1212" id="r1c1-t3">Option</th>
<th class="cellalignment1212" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-e</code> encoding</p>
</td>
<td class="cellalignment1213" headers="r2c1-t3 r1c2-t3">
<p>Specify default input-file encoding. If no encoding is specified in XML file, this encoding is assumed for input.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-E</code> encoding</p>
</td>
<td class="cellalignment1213" headers="r3c1-t3 r1c2-t3">
<p>Specify output/data encoding. DOMs and the <code dir="ltr">Xdiff</code> instance document are created in this encoding. Default is UTF8.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-h</code> <code dir="ltr">hash</code>L<code dir="ltr">evel</code></p>
</td>
<td class="cellalignment1213" headers="r4c1-t3 r1c2-t3">
<p>Specify the hash level. <code dir="ltr">0</code> means none.</p>
<p>If greater than <code dir="ltr">1</code>, starting depth to use hashing for subtrees.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-g</code></p>
</td>
<td class="cellalignment1213" headers="r5c1-t3 r1c2-t3">
<p>Set global optimization (default).</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-l</code></p>
</td>
<td class="cellalignment1213" headers="r6c1-t3 r1c2-t3">
<p>Set local optimization.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r7c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-p</code></p>
</td>
<td class="cellalignment1213" headers="r7c1-t3 r1c2-t3">
<p>Show this usage help.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r8c1-t3" headers="r1c1-t3">
<p><code dir="ltr">-u</code></p>
</td>
<td class="cellalignment1213" headers="r8c1-t3 r1c2-t3">
<p>Disable update operation.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" -->
<a id="CHDEFAFJ"></a>
<div id="ADXDK19834" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Sample Input Document</h3>
<p><a href="#BABBHCIA">Example 21-1</a> is a sample <code dir="ltr">xml</code> document that can be used to explain updates resulting from using both <code dir="ltr">XmlDiff</code> and <code dir="ltr">XmlPatch</code>. It is followed by some hypothetical changes.</p>
<div id="ADXDK19835" class="example">
<p class="titleinexample"><a id="BABBHCIA"></a>Example 21-1 book1.xml</p>
<pre dir="ltr">
&lt;?xml version="1.0"?&gt;
&lt;booklist xmlns="http://booklist.oracle.com"&gt;
  &lt;book&gt;    
    &lt;title&gt;Twelve Red Herrings&lt;/title&gt;
    &lt;author&gt;Jeffrey Archer&lt;/author&gt;
    &lt;publisher&gt;Harper Collins&lt;/publisher&gt;
    &lt;price&gt;7.99&lt;/price&gt;      
  &lt;/book&gt;
  &lt;book&gt;
    &lt;title language="English"&gt;The Eleventh Commandment&lt;/title&gt;
    &lt;author&gt;Jeffrey Archer&lt;/author&gt;
    &lt;publisher&gt;McGraw Hill&lt;/publisher&gt;   
    &lt;price&gt;3.99&lt;/price&gt;
  &lt;/book&gt;
  &lt;book&gt;
    &lt;title language="English" country="USA"&gt;C++ Primer&lt;/title&gt;
    &lt;author&gt;Lippmann&lt;/author&gt;
    &lt;publisher&gt;Harper Collins&lt;/publisher&gt;   
    &lt;price&gt;4.99&lt;/price&gt;
  &lt;/book&gt;          
  &lt;book&gt;
    &lt;title&gt;Emperor's New Mind&lt;/title&gt;
    &lt;author&gt;Roger Penrose&lt;/author&gt;
    &lt;publisher&gt;Oxford Publishing Company&lt;/publisher&gt;
    &lt;price&gt;15.9&lt;/price&gt;
  &lt;/book&gt;          
  &lt;book&gt;
    &lt;title&gt;Evening News&lt;/title&gt;
    &lt;author&gt;Arthur Hailey&lt;/author&gt;
    &lt;publisher&gt;MacMillan Publishers&lt;/publisher&gt;
    &lt;price&gt;9.99&lt;/price&gt;
  &lt;/book&gt;  
&lt;/booklist&gt;
</pre></div>
<!-- class="example" -->
<p>Assume that there is another file, <code dir="ltr">book2.xml</code>, that looks just like the <a href="#BABBHCIA">Example 21-1, "book1.xml"</a> except that it results in the following:</p>
<p>Deletes "The Eleventh Commandment", a <code dir="ltr">delete-node</code> operation.</p>
<p>Changes the country code for the "C++ Primer" to US from USA, an <code dir="ltr">update-node</code> operation.</p>
<p>Adds a description to "Emperor's New Mind", an <code dir="ltr">append-node</code> operation.</p>
<p>Add the edition to "Evening News", an <code dir="ltr">insert-node-before</code> operation.</p>
<p>Updates the price of "Evening News", an <code dir="ltr">update-node</code> operation.</p>
</div>
<!-- class="sect2" -->
<a id="BABCEHFF"></a>
<div id="ADXDK19836" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Sample <a id="sthref559"></a>Xdiff Instance Document</h3>
<p>This section shows the <code dir="ltr">Xdiff</code> instance document produced by the comparison of these two XML files described in the previous section. The sections that follow explain the XML processing instructions and the operations on this document.</p>
<p>You can invoke <code dir="ltr">XmlDiff</code> as follows:</p>
<pre dir="ltr">
&gt; xmldiff book1.xml book2.xml
</pre>
<p>You can also examine the sample application for arguments and flags.</p>
<div id="ADXDK19837" class="example">
<p class="titleinexample"><a id="sthref560"></a>Example 21-2 Sample Xdiff Instance Document</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xd:xdiff xsi:schemaLocation="http://xmlns.oracle.com/xdb/xdiff.xsd
xmlns:xd="http://xmlns.oracle.com/xdb/xdiff.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:oraxdfns_0="http://booklist.oracle.com"&gt;
<span class="bold">    &lt;?oracle-xmldiff operations-in-docorder="true" output-model="snapshot" </span>
<span class="bold">        diff-algorithm="global"?&gt; </span>
    &lt;xd:delete-node xd:node-type="element" xd:xpath="/oraxdfns_0
              :booklist[1]/oraxdfns_0:book[2]"/&gt;
    &lt;xd:update-node xd:node-type="attribute" 
         xd:parent-xpath="/oraxdfns_0:booklist[1]/oraxdfns_0:book[3]/oraxdfns_0
              :title[1]" xd:attr-local="country"&gt;
                &lt;xd:content&gt;US&lt;/xd:content&gt;
    &lt;/xd:update-node&gt;
    &lt;xd:append-node xd:node-type="element" xd:parent-xpath="/oraxdfns_0
              :booklist[1]/oraxdfns_0:book[4]"&gt;
        &lt;xd:content&gt;
            &lt;oraxdfns_0:description&gt; This is a classic &lt;/oraxdfns_0:description&gt;
        &lt;/xd:content&gt;
    &lt;/xd:append-node&gt;
    &lt;xd:insert-node-before xd:node-type="element" xd:xpath="/oraxdfns_0
              :booklist[1]/oraxdfns_0:book[5]/oraxdfns_0:author[1]"&gt;
        &lt;xd:content&gt;
            &lt;oraxdfns_0:edition&gt;Hardcover&lt;/oraxdfns_0:edition&gt;
        &lt;/xd:content&gt;
    &lt;/xd:insert-node-before&gt;
    &lt;xd:update-node xd:node-type="text" xd:xpath="/oraxdfns_0
           :booklist[1]/oraxdfns_0:book[5]/oraxdfns_0:price[1]/text()[1]"&gt;
        &lt;xd:content&gt;12.99&lt;/xd:content&gt;
    &lt;/xd:update-node&gt;
&lt;/xd:xdiff&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CHDJEHCD"></a>
<div id="ADXDK19838" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Output Model and XML Processing Instructions</h3>
<p>The <code dir="ltr">Xdiff</code> instance document uses some XML processing instructions (shown in bold in the previous section) that are used to represent certain aspects of the differencing process. See <a href="#CHDIHCEF">"Xdiff Schema"</a>. These instructions and related options are:</p>
<ul>
<li>
<p><code dir="ltr">operations-in-docorder</code>: Options are <code dir="ltr">true</code> or <code dir="ltr">false</code>:</p>
<ul>
<li>
<p><code dir="ltr">true</code> - The <code dir="ltr">Xdiff</code> instance document refers to the nodes from the first document in the same order as in the document.</p>
</li>
<li>
<p><code dir="ltr">false</code> - The <code dir="ltr">Xdiff</code> instance document does not refer to the nodes from the first document in the same order as in the document.</p>
</li>
</ul>
<p>The output of global optimization meets the <code dir="ltr">operations-in-docorder</code> requirement, but local optimization does not.</p>
</li>
<li>
<p><code dir="ltr">output-model</code>: Options are:</p>
<ul>
<li>
<p><code dir="ltr">snapshot</code> - Xmldiff generates output in snapshot model and follows the UNIX <span class="italic">diff</span> model. Each operation uses <code dir="ltr">XPath</code> as if no operations have been applied to the input document. This is the default. <code dir="ltr">XmlPatch</code> can only handle this model if <code dir="ltr">operations-in-docorder</code> is set to <code dir="ltr">true</code> and the <code dir="ltr">XPath</code>s are simple. Simple <code dir="ltr">XPath</code>s require a child axis, no wild cards, and must use positional predicates, such as <code dir="ltr">/root[1]/child[2]/text()[2]</code>.</p>
</li>
<li>
<p><code dir="ltr">current</code> - Each operation uses <code dir="ltr">XPath</code> as if all operations up to the previous one have been applied to the input document. Even though <code dir="ltr">XmlDiff</code> does not generate differences in the current model, <code dir="ltr">XmlPatch</code> can handle a hand-crafted <code dir="ltr">diff</code> document in the current model</p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr">diff-algorithm</code>: Options indicate which optimization generated the differences.</p>
<ul>
<li>
<p>Global optimization</p>
</li>
<li>
<p>Local optimization</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDBHBHF">"User Options for Optimization"</a></div>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDHFAHJ"></a>
<div id="ADXDK19839" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Xdiff Operations</h3>
<p><code dir="ltr">XmlDiff</code> captures differences using operations indicated by the <code dir="ltr">Xdiff</code> instance document.</p>
<p>Note the following about <code dir="ltr">Xdiff</code> operations:</p>
<ul>
<li>
<p>The <code dir="ltr">parent-xpath</code> attribute or <code dir="ltr">xpath</code> attribute specifies the <code dir="ltr">XPATH</code> location of the parent node of the node to be operated on or <code dir="ltr">XPATH</code> location of node.</p>
</li>
<li>
<p>The <code dir="ltr">node-type</code> attribute specifies the type of the node to be operated on.</p>
</li>
<li>
<p>The <code dir="ltr">content</code> child element specifies the new subtree or value appended or inserted.</p>
</li>
</ul>
<p>The <code dir="ltr">Xdiff</code> operations, presented in the Xdiff Instance Document, are as follows:</p>
<ul>
<li>
<p><code dir="ltr">append-node</code>:</p>
<p>The <code dir="ltr">append-node</code> element specifies that a node of the given type is added as the last child of the given parent.</p>
</li>
<li>
<p><code dir="ltr">insert-node-before</code>:</p>
<p>The <code dir="ltr">insert-node-before</code> element specifies that a node of the given type is inserted before the given reference node.</p>
</li>
<li>
<p><code dir="ltr">delete-node</code>:</p>
<p>The <code dir="ltr">delete-node</code> element specifies that the node be deleted along with all its children. This can be used to delete elements, comments, and so on.</p>
</li>
<li>
<p><code dir="ltr">update-node</code>:</p>
<p><code dir="ltr">update-node</code> specifies that the value associated with the node with the given <code dir="ltr">XPath</code> expression is updated to the new value, which is specified. Content is the value for a text node. The value of an attribute is the value for an attribute node.</p>
<ul>
<li>
<p>Update for Text Nodes:</p>
<ul>
<li>
<p>Generation of update node operations can be turned off by the user.</p>
</li>
<li>
<p>The value of an attribute is the value for an attribute node.</p>
</li>
<li>
<p><code dir="ltr">update-node</code> is generated for text nodes only by global optimization.</p>
</li>
</ul>
</li>
<li>
<p>Update for Elements:</p>
<ul>
<li>
<p><code dir="ltr">XmlDiff</code> does not generate update operations for element nodes.</p>
<p>You can either manually modify the <code dir="ltr">Xdiff</code> instance document to create an update operation that works with <code dir="ltr">XmlPatch</code>, or provide a totally hand-written <code dir="ltr">Xdiff</code> instance document. All children of the element operated on by the update are deleted. Any new subtree specified under the content node is imported.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDBAJDE"></a>
<div id="ADXDK19840" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Format of Xdiff Instance Document</h3>
<p>The output of <code dir="ltr">XmlDiff</code>, the <code dir="ltr">Xdiff</code> instance document, is in XML format and conforms to the <code dir="ltr">Xdiff</code> schema shown in the next section.</p>
<p>The output document contains a sequence of operations describing the differences between the two input documents. If you apply the differences from the first document, you get the second document.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIHCEF"></a>
<div id="ADXDK19841" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref561"></a>Xdiff Schema</h3>
<p><a href="#BABJEFEE">Example 21-3</a> shows the <code dir="ltr">Xdiff</code> schema to which the <code dir="ltr">Xdiff</code> instance document (output) adheres.</p>
<div id="ADXDK19842" class="example">
<p class="titleinexample"><a id="BABJEFEE"></a>Example 21-3 Xdiff Schema: xdiff.xsd</p>
<pre dir="ltr">
&lt;schema targetNamespace="http://xmlns.oracle.com/xdb/xdiff.xsd" 
    xmlns="http://www.w3.org/2001/XMLSchema" 
    xmlns:xd="http://xmlns.oracle.com/xdb/xdiff.xsd" 
    version="1.0" elementFormDefault="qualified"
    attributeFormDefault="qualified"&gt; 
    &lt;annotation&gt; 
        &lt;documentation&gt; 
         Defines the structure of XML documents that capture the difference 
         between two XML documents. Changes that are not supported by Oracle 
         XmlDiff may not be expressible in this schema. 
           
       'oracle-xmldiff' PI in Xdiff document:
 
       We use 'oracle-xmldiff' PI to describe certain aspects of the diff.
       The PI denotes values for 'operations-in-docorder' and 'output-model'.
       The output of XmlDiff has the PI always. If the user hand-codes a diff doc
       then it must also have the PI in it as the first child of top level xdiff
       element, to be able to call XmlPatch.
 
       operations-in-docorder: 
       Can be either 'true' or 'false'.
       If true, the operations in the diff document refer to the
       elements of the input doc in the same order as document order. Output of
       global algorithm meets this requirement while local does not.
       
       output-model:
       output models for representing the diff. Can be either 'Snapshot' or 
       'Current'.
 
       Snapshot model:
       Each operation uses Xpaths as if no operations
       have been applied to the input document. (like UNIX diff)
       This is the model used in the output of XmlDiff. XmlPatch works with 
       this (and the current model too).
       For XmlPatch to handle this model, "operations-in-docorder" must be 
       true and the Xpaths must be simple. (see XmlDif C API documentation).
 
       Current model:
       Each operation uses Xpaths as if all operations till the previous one
       have been applied to the input document. Works with XmlPatch even if 
       the 'operations-in-docorder' criterion is not met and the xpaths are 
       not simple.
       &lt;!-- Example:
            &lt;?oracle-xmldiff operations-in-docorder="true" output-model=
            "snapshot" diff-algorithm="global"?&gt;
        --&gt;
      &lt;/documentation&gt; 
    &lt;/annotation&gt; 
    &lt;!-- Enumerate the supported node types --&gt; 
    &lt;simpleType name="xdiff-nodetype"&gt; 
        &lt;restriction base="string"&gt; 
            &lt;enumeration value="element"/&gt; 
            &lt;enumeration value="attribute"/&gt; 
            &lt;enumeration value="text"/&gt; 
            &lt;enumeration value="cdata"/&gt; 
            &lt;enumeration value="entity-reference"/&gt;
            &lt;enumeration value="entity"/&gt;
            &lt;enumeration value="processing-instruction"/&gt;
            &lt;enumeration value="notation"/&gt;
            &lt;enumeration value="comment"/&gt;            
         &lt;/restriction&gt; 
    &lt;/simpleType&gt;
 
    &lt;element name="xdiff"&gt; 
        &lt;complexType&gt; 
            &lt;choice minOccurs="0" maxOccurs="unbounded"&gt; 
                &lt;element name="append-node"&gt; 
                    &lt;complexType&gt; 
                        &lt;sequence&gt; 
                            &lt;element name="content" type="anyType"/&gt; 
                        &lt;/sequence&gt; 
                        &lt;attribute name="node-type" type="xd:xdiff-nodetype"/&gt; 
                        &lt;attribute name="xpath" type="string"/&gt; 
                        &lt;attribute name="parent-xpath" type="string"/&gt; 
                        &lt;attribute name="attr-local" type="string"/&gt;
                        &lt;attribute name="attr-nsuri" type="string"/&gt;
                    &lt;/complexType&gt; 
                &lt;/element&gt;
 
                &lt;element name="insert-node-before"&gt; 
                    &lt;complexType&gt; 
                        &lt;sequence&gt; 
                            &lt;element name="content" type="anyType"/&gt; 
                        &lt;/sequence&gt; 
                        &lt;attribute name="xpath" type="string"/&gt; 
                        &lt;attribute name="node-type" type="xd:xdiff-nodetype"/&gt;
 
                    &lt;/complexType&gt; 
                &lt;/element&gt;
 
                &lt;element name="delete-node"&gt; 
                    &lt;complexType&gt; 
                        &lt;attribute name="node-type" type="xd:xdiff-nodetype"/&gt;
                        &lt;attribute name="xpath" type="string"/&gt; 
                        &lt;attribute name="parent-xpath" type="string"/&gt; 
                        &lt;attribute name="attr-local" type="string"/&gt;
                        &lt;attribute name="attr-nsuri" type="string"/&gt;
                    &lt;/complexType&gt; 
                &lt;/element&gt;
                 &lt;element name="update-node"&gt; 
                    &lt;complexType&gt; 
                        &lt;sequence&gt; 
                            &lt;element name="content" type="anyType"/&gt; 
                        &lt;/sequence&gt; 
                        &lt;attribute name="node-type" type="xd:xdiff-nodetype"/&gt; 
                        &lt;attribute name="parent-xpath" type="string"/&gt; 
                        &lt;attribute name="xpath" type="string"/&gt; 
                        &lt;attribute name="attr-local" type="string"/&gt;
                        &lt;attribute name="attr-nsuri" type="string"/&gt;
                    &lt;/complexType&gt; 
                &lt;/element&gt;
                &lt;element name="rename-node"&gt; 
                    &lt;complexType&gt; 
                        &lt;sequence&gt; 
                            &lt;element name="content" type="anyType"/&gt; 
                        &lt;/sequence&gt; 
                        &lt;attribute name="xpath" type="string"/&gt; 
                        &lt;attribute name="node-type" type="xd:xdiff-nodetype"/&gt; 
                    &lt;/complexType&gt; 
                &lt;/element&gt;
            &lt;/choice&gt; 
         &lt;attribute name="xdiff-version" type="string"/&gt; 
        &lt;/complexType&gt; 
    &lt;/element&gt; 
&lt;/schema&gt;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CHDIHAEC"></a>
<div id="ADXDK19843" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using <a id="sthref562"></a>XMLDiff in an Application</h3>
<p>In an application, <code dir="ltr">XmlDiff</code> takes the source types and locations of the input documents as arguments. The source type can be a URL, file, <code dir="ltr">orastream</code> and <code dir="ltr">stream</code> context pointers, buffer, and <code dir="ltr">buffer_length</code> pointers or the pointer to a DOM document element (<code dir="ltr">docelement</code>).</p>
<p><code dir="ltr">XmlDiff</code> returns the document node for the DOM for the <code dir="ltr">Xdiff</code> instance document.</p>
<p>XmlDiff builds the DOM for the two documents, if they are not already provided as DOM, before performing a comparison.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CAXML" href="../e10770/toc.htm"><span class="italic">Oracle Database XML C API Reference</span></a>, for the C API for the flags that control the behavior of <code dir="ltr">XmlDiff</code></div>
<div id="ADXDK19844" class="example">
<p class="titleinexample"><a id="sthref563"></a>Example 21-4 XMLDiff Application</p>
<pre dir="ltr">
# include &lt;xmldf.h&gt;
...
xmlctx     *xctx;
xmldocnode *doc1, *doc2, *doc3;
uword       hash_level;
oratext    *s, *inp1 = "book1.xml", *inp2="book2.xml";
xmlerr      err;
ub4         flags;

flags = 0; /* defaults : global algorithm */
hash_level = 0; /* no hashing */
/* create XML meta context */
if (!(xctx = XmlCreate(&amp;err, (oratext *) "XmlDiff", NULL)))
{
   printf("Failed to create XML context, error %u\n",
(unsigned) err);
err_exit("Exiting");
}
/* Load the two input files */
if (!(doc1 = XmlLoadDom(xctx, &amp;err, "file", inp1, "discard_whitespace", TRUE,
 NULL)))
{
   printf("Parsing first file failed, error %u\n", (unsigned)err);
   err_exit((oratext *)"Exiting.");
}
if (!(doc2 = XmlLoadDom(xctx, &amp;err, "file", inp2, "discard_whitespace", TRUE,
    NULL)))
{
   printf("Parsing second file failed, error %u\n", (unsigned)err);
   err_exit((oratext *)"Exiting.");
}
 
/* run XmlDiff on the DOM trees. */
 
doc3 = XmlDiff(xctx, &amp;err, flags, XMLDF_SRCT_DOM, doc1, NULL, XMLDF_SRCT_DOM,
               doc2, NULL,hash_level, NULL);
 
if(!doc3)
   printf("XmlDiff Failed, error %u\n", (unsigned)err);
else
{
if(err != XMLERR_OK)
printf("XmlDiff returned error %u\n", (unsigned)err);
/* Now we have the DOM tree in doc3 which represent the Diff */
...
}
 
XmlFreeDocument(xctx, doc1);
XmlFreeDocument(xctx, doc2);
XmlFreeDocument(xctx, doc3);
XmlDestroy(xctx);
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CHDEHEDJ"></a>
<div id="ADXDK19845" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Customized Output</h3>
<p>A customized output builder stores differences in any format suitable to the application. You can create your own customized output builder, rather than using the default <code dir="ltr">Xdiff</code> instance document, generated by <code dir="ltr">XmlDiff</code> and which conforms to the <code dir="ltr">Xdiff</code> schema.</p>
<p>To do this, you must provide a callback that can be called after <code dir="ltr">XmlDiff</code> determines the differences. The differences are passed to the callback as an array of <code dir="ltr">xmdlfop</code>. The callback may be called multiple times as the differences are being generated.</p>
<p>Using a customized output builder may perform better than using the default, because it does not have to maintain the internal state necessary for <code dir="ltr">XPath</code> generation.</p>
<p>By default, <code dir="ltr">XmlDiff</code> captures the differences in XML conforming to <code dir="ltr">Xdiff</code> schema. If necessary, plug in your own output builder. The differences are represented as an array <code dir="ltr">xmldfop</code>. You must write an output builder callback function. The function signature is:</p>
<pre dir="ltr">
xmlerr(*xdfobcb)(void *uctx, xmldfop *escript, ub4 escript_siz);
</pre>
<p><code dir="ltr">uctx</code> is the user specific context.</p>
<p><code dir="ltr">escript</code> is the array of size <code dir="ltr">escript_siz</code>:</p>
<pre dir="ltr">
diff[escript_siz]
</pre>
<p><code dir="ltr">mctx</code> is the memory context.</p>
<p>Supply this memory context through properties to <code dir="ltr">XmlDiff()</code>. Use this memory context to allocate <code dir="ltr">escript</code>. You must later free <code dir="ltr">escript</code>.</p>
<p>Invoke the output builder callback after the differences have been found which happens even before the call to <code dir="ltr">XmlDiff()</code> returns. The output builder callback can be called multiple times.</p>
<div id="ADXDK19846" class="example">
<p class="titleinexample"><a id="sthref564"></a>Example 21-5 Customized XMLDiff Output</p>
<pre dir="ltr">
 /* Sample useage:  */
 ...
 #include &lt;orastruc.h&gt; / * for 'oraprop' * /
 ...
 static oraprop diff_props[] = {
    ORAPROP(XMLDF_PROPN_CUSTOM_OB, XMLDF_PROPI_CUSTOM_OB, POINTER),
    ORAPROP(XMLDF_PROPN_CUSTOM_OBMCX, XMLDF_PROPI_CUSTOM_OBMCX, POINTER),
    ORAPROP(XMLDF_PROPN_CUSTOM_OBUCX, XMLDF_PROPI_CUSTOM_OBUCX, POINTER),
        { NULL }
  }; 
  ...
  oramemctx *mymemctx;
  ...
  xmlerr myob(void *uctx,  xmldfop *escript, ub4 escript_siz)
  {
     /* process diff which is available in escript * /
     
     /* free escript - the caller has to do this * /
     OraMemFree(mymemctx, escript);
  }
 
  main()
  {
   ...
      myctxt  *myctx;
 
      diff_props[0].value_oraprop.p_oraprop_v = myob;
      diff_props[1].value_oraprop.p_oraprop_v = mymemctx;
      diff_props[2].value_oraprop.p_oraprop_v = myctx;
      XmlDiff(xctx, &amp;err, 0, doc1, NULL, 0, doc2, NULL, 0, diff_props);
 ...
  }
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEGJJD"></a>
<div id="ADXDK2520" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using <a id="sthref565"></a>XmlPatch</h2>
<p><code dir="ltr">XmlPatch</code> takes the <code dir="ltr">Xdiff</code> instance document, either as generated by <code dir="ltr">XmlDiff</code> or created by another mechanism, and follows the instructions in the <code dir="ltr">Xdiff</code> instance document to modify other XML documents as specified.</p>
<ul>
<li>
<p><a href="#CHDFEBBJ">Using the XmlPatch Command-Line Utility</a></p>
</li>
<li>
<p><a href="#CHDIAGHI">Using XmlPatch in an Application</a></p>
</li>
</ul>
<a id="CHDFEBBJ"></a>
<div id="ADXDK2550" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using the XmlPatch Command-Line Utility</h3>
<p><a href="#BABFFEGF">Table 21-2</a> describes the <code dir="ltr">XmlPatch</code> command-line options:</p>
<div id="ADXDK19847" class="tblformal">
<p class="titleintable"><a id="sthref566"></a><a id="BABFFEGF"></a>Table 21-2 XmlPatch for C Command-Line Options</p>
<table class="cellalignment1214" title="XmlPatch for C Command-Line Options" summary="rows are XmlPatch command line options. first column is option name, second column description" dir="ltr">
<thead>
<tr class="cellalignment1205">
<th class="cellalignment1212" id="r1c1-t6">Option</th>
<th class="cellalignment1212" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">-e</code> encoding</p>
</td>
<td class="cellalignment1213" headers="r2c1-t6 r1c2-t6">
<p>Specify default input-file encoding. If no encoding is specified in XML file, this encoding is assumed for input.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">-E</code> encoding</p>
</td>
<td class="cellalignment1213" headers="r3c1-t6 r1c2-t6">
<p>Specify output/data encoding. DOMs and patched document are created in this encoding. Default is UTF8.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">-i</code></p>
</td>
<td class="cellalignment1213" headers="r4c1-t6 r1c2-t6">
<p>Interpret file names as URLs.</p>
</td>
</tr>
<tr class="cellalignment1205">
<td class="cellalignment1213" id="r5c1-t6" headers="r1c1-t6">
<p><code dir="ltr">-h</code></p>
</td>
<td class="cellalignment1213" headers="r5c1-t6 r1c2-t6">
<p>Show this usage help.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" -->
<a id="CHDIAGHI"></a>
<div id="ADXDK19848" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using XmlPatch in an Application</h3>
<p><code dir="ltr">XmlPatch</code> takes the source types and locations of the input document and the <code dir="ltr">diff</code> document as arguments. The source type can be a URL, file, <code dir="ltr">orastream</code> and <code dir="ltr">stream</code> context pointers, buffer and <code dir="ltr">buffer_length</code> pointers, or the pointer to a DOM document element (<code dir="ltr">docelement</code>).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CAXML" href="../e10770/toc.htm"><span class="italic">Oracle Database XML C API Reference</span></a>, for the C API for the flags that control the behavior of <code dir="ltr">XmlPatch</code></div>
<p>The modes that were set by the <code dir="ltr">Xdiff</code> schema affect how <code dir="ltr">XmlPatch</code> works.</p>
<p>If the <code dir="ltr">output-model</code> is <code dir="ltr">Snapshot</code>, <code dir="ltr">XmlPatch</code> only works if <code dir="ltr">operations-in-docorder</code> is <code dir="ltr">TRUE</code>.</p>
<p>If the <code dir="ltr">output-model</code> is <code dir="ltr">Current</code>, it is not necessary that <code dir="ltr">operations-in-docorder</code> be set to <code dir="ltr">TRUE</code>.</p>
<div id="ADXDK19849" class="example">
<p class="titleinexample"><a id="sthref567"></a>Example 21-6 Sample Application for XmlPatch</p>
<pre dir="ltr">
...
#include &lt;xmldf.h&gt;
...
xmlctx     *xctx;
xmldocnode *doc1, *doc2;
oratext    *s;
oratext    *inp1 = "book1.xml"; /* input document */
oratext    *inp2 = "diff.xml", /* diff document */
xmlerr      err;
 
/* create XML meta context */
if (!(xctx = XmlCreate(&amp;err, (oratext *) "XmlPatch", NULL)))
{
   printf("Failed to create XML context, error %u\n",
(unsigned) err);
err_exit("Exiting");
}
/* Load the two input files */
if (!(doc1 = XmlLoadDom(xctx, &amp;err, "file", inp1, "discard_whitespace", TRUE,
    NULL)))
{
   printf("Parsing first file failed, error %u\n", (unsigned)err);
   err_exit((oratext *)"Exiting.");
}
if (!(doc2 = XmlLoadDom(xctx, &amp;err, "file", inp2, "discard_whitespace", TRUE,
    NULL)))
{
   printf("Parsing second file failed, error %u\n", (unsigned)err);
   err_exit((oratext *)"Exiting.");
}
 
/* call XmlPatch */
if(!XmlPatch(xctx, &amp;err, 0, XMLDF_SRCT_DOM, doc1, NULL, XMLDF_SRCT_DOM,
           doc2, NULL, NULL));
 
   printf("XmlPatch Failed, error %u\n", (unsigned)err);
else
{
if(err != XMLERR_OK)
printf("XmlPatch returned error %u\n", (unsigned)err);
/* Now we have the patched document in doc1 */
...
}
 
XmlFreeDocument(xctx, doc1);
XmlFreeDocument(xctx, doc2);
XmlDestroy(xctx);
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEDFCI"></a>
<div id="ADXDK2530" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using <a id="sthref568"></a>XmlHash</h2>
<p>Oracle XDK provides <code dir="ltr">XmlHash,</code> which computes a hash value for an XML tree or subtree. If the hash values of two subtrees are equal, it is highly probable that they are the same XML. This can be used to do a quick comparison, for example, if you want to see if the XML tree is already in the database.</p>
<p>You can run <code dir="ltr">XmlDiff</code> again, if necessary, on any matches, to be absolutely certain there is a match. You can compute the hash value of the new document and query the database for it.</p>
<p><a href="#BABDABHF">Example 21-7</a> shows a sample program that uses <code dir="ltr">XmlHash</code>.</p>
<div id="ADXDK19850" class="example">
<p class="titleinexample"><a id="BABDABHF"></a>Example 21-7 XmlHash Program</p>
<pre dir="ltr">
sword main(sword argc, char *argv[])
{
   xmlctx     *xctx;
   xmldfsrct   srct;
   oratext    *data_encoding, *input_encoding, *s, *inp1;
   ub1         flags;
   xmlerr      err;
   ub4         num_args;
   xmlhasht    digest;
   flags = 0; /* defaults */
   srct = XMLDF_SRCT_FILE;
   inp1 = "somexml.xml";
   xctx = XmlCreate(&amp;err, (oratext *) "XmlHash", NULL);
 
   if (!xctx)
   {
      /* handle error with creating xml context and exit */
      ...
   }
 
   /* run XmlHash */
   err = XmlHash(xctx, &amp;digest, 0, srct, inp1, NULL, NULL);
   if(err)
      printf("XmlHash returned error:%d \n", err);
   else
      txdfha_pd(digest);
 
   XmlDestroy(xctx);
 
   return (sword )err;
}
 
/* print bytes in xml hash */
static void txdfha_pd(xmlhasht digest)
{
   ub4  i;
 
   for(i = 0; i &lt; digest.l_xmlhasht; i++)
      printf("%x ", digest.d_xmlhasht[i]);
 
   printf("\n");
}
</pre></div>
<!-- class="example" -->
<div id="ADXDK19851" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref569"></a>
<h3 class="sect2">Calling XmlDiff and XmlPatch</h3>
<p><code dir="ltr">XmlDiff</code> and <code dir="ltr">XmlPatch</code> can be called as command-line tools and from the C language. They are also available as SQL functions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink SQLRF20025" href="../../server.112/e41084/functions241.htm#SQLRF20025"><span class="italic">Oracle Database SQL Language Reference,</span></a> <code dir="ltr">XMLDiff</code></p>
</li>
<li>
<p><a class="olink SQLRF20026" href="../../server.112/e41084/functions247.htm#SQLRF20026"><span class="italic">Oracle Database SQL Language Reference</span></a>, <code dir="ltr">XMLPatch</code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1204">
<tr>
<td class="cellalignment1213">
<table class="cellalignment1209">
<tr>
<td class="cellalignment1208"><a href="adx_c_sproc.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1208"><a href="adx_c_soap.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1216">
<table class="cellalignment1207">
<tr>
<td class="cellalignment1208"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1208"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1208"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1208"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1208"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1208"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
