<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Overview of the Unified C++ Interfaces</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1032" />
<meta name="dcterms.created" content="2014-12-05T14:20:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="XML Developer's Kit Programmer's Guide" />
<meta name="dcterms.identifier" content="E23582-06" />
<meta name="dcterms.isVersionOf" content="ADXDK" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="adx_cp_gs.htm" title="Previous" type="text/html" />
<link rel="Next" href="adx_cp_parser.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e23582.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">34/47</span> <!-- End Header -->
<div id="ADXDK1800" class="chapter"><a id="CEGFHHJH"></a>
<h1 class="chapter"><span class="secnum">24</span> Overview of the Unified C++ Interfaces</h1>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#BABCCHIA">What is the Unified C++ API?</a></p>
</li>
<li>
<p><a href="#BABDJDAH">Accessing the C++ Interface</a></p>
</li>
<li>
<p><a href="#BCEDIEFF">OracleXML Namespace</a></p>
</li>
<li>
<p><a href="#BABBFDAB">Ctx Namespace</a></p>
</li>
<li>
<p><a href="#BABBIHAA">IO Namespace</a></p>
</li>
<li>
<p><a href="#BABFCFDA">Tools Package</a></p>
</li>
<li>
<p><a href="#BABGACCG">Error Message Files</a></p>
</li>
</ul>
<a id="BABCCHIA"></a>
<div id="ADXDK19890" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">What is the Unified C++ API?</h2>
<p>Unified C++ APIs for XML tools represent a set of C++ interfaces for Oracle XML tools. This unified approach provides a generic, interface-based framework that allows XML tools to be improved, updated, replaced, or added without affecting any interface-based user code, and minimally affecting application drivers and, possibly, application configuration. All three kinds of C++ interfaces: abstract classes, templates, and implicit interfaces represented by generic template parameters, are used by the unified framework.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Use the new unified C++ API in <code dir="ltr">xml.hpp</code> for new XDK applications. The old C++ API in <code dir="ltr">oraxml.hpp</code> is deprecated and supported only for backward compatibility, but will not be enhanced. It will be removed in a future release.
<p>These C++ APIs support the W3C specification as closely as possible; however, Oracle cannot guarantee that the specification is fully supported by our implementation because the W3C specification does not cover C++ implementations.</p>
</div>
</div>
<!-- class="sect1" -->
<a id="BABDJDAH"></a>
<div id="ADXDK19891" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Accessing the C++ Interface</h2>
<p>The <a id="sthref589"></a>C++ interface is provided with Oracle Database. Sample files are located in <code dir="ltr">$ORACLE_HOME/xdk/demo/cpp</code>.</p>
<p><code dir="ltr">readme.html</code> in the root directory of the software archive contains release specific information including bug fixes and API additions.</p>
</div>
<!-- class="sect1" -->
<a id="BCEDIEFF"></a>
<div id="ADXDK19892" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">OracleXML Namespace</h2>
<p><a id="sthref590"></a><code dir="ltr">OracleXml</code> is the C++ namespace for all XML C++ interfaces. It contains common interfaces and namespaces for different XDK packages. The following namespaces are included:</p>
<ul>
<li>
<p><code dir="ltr">Ctx</code> - namespace for TCtx related declarations</p>
</li>
<li>
<p><code dir="ltr">Dom</code> - namespace for DOM related declarations</p>
</li>
<li>
<p><code dir="ltr">Parser</code> - namespace for parser and schema validator declarations</p>
</li>
<li>
<p><code dir="ltr">IO</code> - namespace for input and output source declarations</p>
</li>
<li>
<p><code dir="ltr">Xsl</code> - namespace for XSLT related declarations</p>
</li>
<li>
<p><code dir="ltr">XPath</code> - namespace for XPath related declarations</p>
</li>
<li>
<p><code dir="ltr">Tools</code> - namespace for Tools::Factory related declarations</p>
</li>
</ul>
<p><code dir="ltr">OracleXml</code> is fully defined in the file <code dir="ltr">xml.hpp</code>. Another namespace, <code dir="ltr">XmlCtxNS</code>, visible to users, is defined in <code dir="ltr">xmlctx.hpp</code>. That namespace contains C++ definitions of data structures corresponding to C level definitions of the <code dir="ltr">xmlctx</code> context and related data structures. While there is no need for users to know details of that namespace, <code dir="ltr">xmlctx.hpp</code> must be included in most application main modules.</p>
<p>Multiple encodings are currently supported on the base of the <code dir="ltr">oratext</code> type that is currently supposed to be used by all implementations. All strings are represented as <code dir="ltr">oratext*</code>.</p>
<div id="ADXDK19893" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref591"></a>
<h3 class="sect2">OracleXML Interfaces</h3>
<p>XMLException Interface - This is the root interface for all XML exceptions.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBFDAB"></a>
<div id="ADXDK19894" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Ctx Namespace</h2>
<p>The Ctx namespace contains data types and interfaces related to the TCtx interface.</p>
<a id="BCEGJBGD"></a>
<div id="ADXDK19895" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">OracleXML Datatypes</h3>
<p>DATATYPE encoding - a particular supported encoding. The following kinds of encodings (or encoding names) are supported:</p>
<ul>
<li>
<p>data_encoding</p>
</li>
<li>
<p>default_input_encoding</p>
</li>
<li>
<p>input_encoding - overwrites the previous one</p>
</li>
<li>
<p>error_language - gets overwritten by the language of the error handler, if specified</p>
</li>
</ul>
<p>DATATYPE encodings - array of encodings.</p>
</div>
<!-- class="sect2" -->
<div id="ADXDK19896" class="sect2"><a id="sthref592"></a>
<h3 class="sect2">Ctx Interfaces</h3>
<p><code dir="ltr">ErrorHandler</code> Interface - This is the root error handler class. It deals with local processing of errors, mainly from the underlying C implementation. It may throw <code dir="ltr">XmlException</code> in some implementations. But this is not specified in its signature in order to accommodate needs of all implementations. However, it can create exception objects. The error handler is passed to the <code dir="ltr">TCtx</code> constructor when <code dir="ltr">TCtx</code> is initialized. Implementations of this interface are provided by the user.</p>
<p><code dir="ltr">MemAllocator</code> Interface - This is a simple root interface to make the <code dir="ltr">TCtx</code> interface reasonably generic so that different allocator approaches can be used in the future. It is passed to the <code dir="ltr">TCt</code>x constructor when <code dir="ltr">TCtx</code> is initialized. It is a low level allocator that does not know the type of an object being allocated. The allocators with this interface can also be used directly. In this case the user is responsible for the explicit deallocation of objects (with <code dir="ltr">dealloc</code>).</p>
<p>If the <code dir="ltr">MemAllocator</code> interface is passed as a parameter to the <code dir="ltr">TCtx</code> constructor, then, in many cases, it makes sense to overwrite the operator new. In this case all memory allocations in both C and C++ can be done by the same allocator.</p>
<p><code dir="ltr">Tctx</code> Interface - This is an implicit interface to XML context implementations. It is primarily used for memory allocation, error (not exception) handling, and different encodings handling. The context interface is an implicit interface that is supposed to be used as type parameter. The name <code dir="ltr">TCtx</code> will be used as a corresponding type parameter name. Its actual substitutions are instantiations of implementations parameterized (templatized) by real context implementations. In the case of errors <code dir="ltr">XmlException</code> might be thrown.All constructors create and initialize context implementations. In a multithreaded environment a separate context implementation has to be initialized for each thread.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBIHAA"></a>
<div id="ADXDK19897" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">IO Namespace</h2>
<p>The <code dir="ltr">IO</code> namespace specifies interfaces for the different input and output options for all XML tools.</p>
<div id="ADXDK19898" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref593"></a>
<h3 class="sect2">IO Datatypes</h3>
<p>Datatype <code dir="ltr">InputSourceType</code> specifies different kinds of input sources supported currently. They include:</p>
<ul>
<li>
<p><code dir="ltr">ISRC_URI</code> - Input is to be read from the specified URI.</p>
</li>
<li>
<p><code dir="ltr">ISRC_FILE</code> - Input is to be read from a file.</p>
</li>
<li>
<p><code dir="ltr">ISRC_BUFFER</code> - Input is to be read from a buffer.</p>
</li>
<li>
<p><code dir="ltr">ISRC_DOM</code> - Input is a DOM tree.</p>
</li>
<li>
<p><code dir="ltr">ISRC_CSTREAM</code> - Input is a C level stream.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="ADXDK19899" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref594"></a>
<h3 class="sect2">IO Interfaces</h3>
<p><code dir="ltr">URISource</code> - This is an interface to inputs from specified URIs.</p>
<p><code dir="ltr">FileSource</code> - This is an interface to inputs from a file.</p>
<p><code dir="ltr">BufferSource</code> - This is an interface to inputs from a buffer.</p>
<p><code dir="ltr">DOMSource</code> - This is an interface to inputs from a DOM tree.</p>
<p><code dir="ltr">CStreamSource</code> - This is an interface to inputs from a C level stream.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABFCFDA"></a>
<div id="ADXDK19900" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Tools Package</h2>
<p><code dir="ltr">Tools</code> is the package (sub-space of <code dir="ltr">OracleXml</code>) for types and interfaces related to the creation and instantiation of Oracle XML tools.</p>
<div id="ADXDK19901" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref595"></a>
<h3 class="sect2">Tools Interfaces</h3>
<p><code dir="ltr">FactoryException</code> - Specifies tool's factory exceptions. It is derived from <code dir="ltr">XMLExceptions</code>.</p>
<p><code dir="ltr">Factory</code> - XML tools factory. Hides implementations of all XML tools and provides methods to create objects representing these tools based on their ID values.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGACCG"></a>
<div id="ADXDK19902" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Error Message Files</h2>
<p>Error message files are provided in the <code dir="ltr">mesg</code> subdirectory. The messages files also exist in the <code dir="ltr">$ORACLE_HOME/xdk/mesg</code> directory. You can set the environment variable <code dir="ltr">ORA_XML_MESG</code> to point to the absolute path of the <code dir="ltr">mesg</code> subdirectory, although this not required.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CPXML01000" href="../../appdev.112/e10771/ctx.htm#CPXML01000"><span class="italic">Oracle Database XML C++ API Reference</span></a> package Ctx APIs for C++</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1204">
<tr>
<td class="cellalignment1213">
<table class="cellalignment1209">
<tr>
<td class="cellalignment1208"><a href="adx_cp_gs.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1208"><a href="adx_cp_parser.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1216">
<table class="cellalignment1207">
<tr>
<td class="cellalignment1208"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1208"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1208"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1208"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1208"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1208"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
