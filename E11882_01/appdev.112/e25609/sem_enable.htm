<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Enabling, Downgrading, or Removing Semantic Technologies Support</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information about Oracle Database support for semantic technologies, including storage, inference, and query capabilities for data and ontologies based on Resource Description Framework (RDF), RDF Schema (RDFS), and Web Ontology Language (OWL)." />
<meta name="dcterms.created" content="2014-01-26T18:14:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Semantic Technologies Developer's Guide" />
<meta name="dcterms.identifier" content="E25609-06" />
<meta name="dcterms.isVersionOf" content="RDFRM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="sem_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sem_rdfsa_ref.htm" title="Previous" type="text/html" />
<link rel="Next" href="sem_spatial_orageo.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e25609.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/26</span> <!-- End Header -->
<div id="RDFRM118" class="appendix"><a id="CHDBFEFI"></a>
<h1 class="appendix"><span class="secnum">A</span> Enabling, Downgrading, or Removing Semantic Technologies Support</h1>
<p>This appendix describes the required steps that you must perform before you can use any types, synonyms, or PL/SQL packages related to Oracle semantic technologies support in the current Oracle Database release. You must run one or more scripts, and you must ensure that Spatial is installed and the Partitioning option is enabled. These requirements are explained in <a href="#CHDHEABD">Section A.1</a>.</p>
<p>This appendix also describes the steps if, after enabling semantic technologies support, you need to do any of the following:</p>
<ul>
<li>
<p>Downgrade the semantic technologies support to that provided with a previous Oracle Database release, as explained in <a href="#CHDEBEHI">Section A.2</a>.</p>
</li>
<li>
<p>Remove all support for semantic technologies from the database, as explained in <a href="#CHDJDEIE">Section A.3</a>.</p>
</li>
</ul>
<a id="CHDHEABD"></a>
<div id="RDFRM119" class="sect1">
<h2 class="sect1"><span class="secnum">A.1</span> <a id="sthref1183"></a>Enabling Semantic Technologies Support</h2>
<p>Before you can use any types, synonyms, or PL/SQL packages related to Oracle semantic technologies support in the current Oracle Database release, you must either install the capabilities in a new Oracle Database installation or upgrade the capabilities from a previous release, following the steps in whichever of the following sections applies to your situation:</p>
<ul>
<li>
<p><a href="#CHDFFBAA">Section A.1.1, "Enabling Semantic Technologies Support in a New Database Installation"</a></p>
</li>
<li>
<p><a href="#CHDHHJDA">Section A.1.2, "Upgrading Semantic Technologies Support from Release 11.1"</a></p>
</li>
<li>
<p><a href="#CHDDBGFH">Section A.1.3, "Upgrading Semantic Technologies Support from Release 10.2"</a></p>
</li>
</ul>
<p>If you upgraded to Release 11.2.0.2.0 and your Semantic Technologies installation is invalid, see <a href="#BABECFJJ">Section A.1.4, "Release 11.2.0.2: Required Actions if Semantic Technologies Installation is Invalid"</a></p>
<p>In addition, you must ensure that Spatial is installed and the Partitioning option is enabled, as explained in <a href="#CHDHIAAF">Section A.1.5</a>.</p>
<a id="CHDFFBAA"></a>
<div id="RDFRM120" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.1</span> <a id="sthref1184"></a>Enabling Semantic Technologies Support in a New Database Installation</h3>
<p>To enable semantic technologies support in a new installation of Oracle Database Release 11.2 (or for an upgrade from Release 10.2 if no RDF network exists, as explained in <a href="#CHDDBGFH">Section A.1.3</a>), follow these steps:</p>
<ol>
<li>
<p>Connect to the database as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p>Start SQL*Plus, and enter the following statement:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/catsem.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\catsem.sql</code></p>
</li>
</ul>
</li>
</ol>
<p>If a semantic network already exists, or if any semantic technologies types, tables, or PL/SQL packages already exist, the <code>catsem.sql</code> script exits with an error.</p>
<p>If the script completes successfully, a row with the following column values is inserted into the MDSYS.RDF_PARAMETER table:</p>
<ul>
<li>
<p>NAMESPACE: <code>MDSYS</code></p>
</li>
<li>
<p>ATTRIBUTE: <code>SEM_VERSION</code></p>
</li>
<li>
<p>VALUE: (string starting with <code>112</code>)</p>
</li>
<li>
<p>DESCRIPTION: <code>VALID</code></p>
</li>
</ul>
<p>If you use Workspace Manager with RDF data, you must also run the appropriate script <span class="italic">after</span> you run <code>catsem.sql</code>, as explained in <a href="workspace_mgr.htm#CJGJJEJG">Section 6.1, "Enabling Workspace Manager Support for RDF Data"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHHJDA"></a>
<div id="RDFRM121" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.2</span> <a id="sthref1185"></a><a id="sthref1186"></a>Upgrading Semantic Technologies Support from Release 11.1</h3>
<p>If you are upgrading from Oracle Database Release 11.1 that includes the semantic technologies support for Release 11.1, the semantic technologies support is automatically upgraded to Release 11.2 when the database is upgraded. If you use Workspace Manager with RDF data, you must also run the appropriate script <span class="italic">after</span> the upgrade of semantic technologies support, as explained in <a href="workspace_mgr.htm#CJGJJEJG">Section 6.1, "Enabling Workspace Manager Support for RDF Data"</a>.</p>
<p>However, you will also need to migrate RDF data if you have an existing Release 11.1 RDF network containing triples that include typed literal values of type xsd:float, xsd:double, xsd:boolean, or xsd:time.</p>
<p>To check if you need to migrate RDF data, connect to the database as a user with DBA privileges and query the MDSYS.RDF_PARAMETER table, as follows:</p>
<pre>
SELECT namespace, attribute, value FROM mdsys.rdf_parameter
  WHERE namespace='MDSYS' 
  AND attribute IN ('FLOAT_DOUBLE_DECIMAL',
                    'XSD_TIME', 'XSD_BOOLEAN', 
                    'DATA_CONVERSION_CHECK');
</pre>
<p>If the FLOAT_DOUBLE_DECIMAL, XSD_TIME, or XSD_BOOLEAN attributes have the string value <code>INVALID</code> or if the DATA_CONVERSION_CHECK attribute has the string value <code>FAILED_UNABLE_TO_LOCK_APPLICATION_TABLES</code>, <code>FAILED_INSUFFICIENT_WORKSPACE_PRIVILEGES</code>, or <code>FAILED_OLS_POLICIES_ARE_ENABLED</code>, you need to migrate RDF data.</p>
<p>However, if the FLOAT_DOUBLE_DECIMAL, XSD_TIME, and XSD_BOOLEAN attributes do not exist or have the string value <code>VALID</code> and if the DATA_CONVERSION_CHECK attribute does not exist, you do <span class="italic">not</span> need to migrate RDF data. However, if your semantic network may have any empty RDF literals, see <a href="#CHDDHHBD">Section A.1.2.1, "Handling of Empty RDF Literals"</a>; and if you choose to migrate existing empty literals to the new format, follow the steps in this section.</p>
<p>To migrate RDF data, follow these steps:</p>
<ol>
<li>
<p>Connect to the database as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted), and enter: <code>SET CURRENT_SCHEMA=MDSYS</code></p>
</li>
<li>
<p>Ensure that the user MDSYS has the following privileges:</p>
<ul>
<li>
<p>INSERT privilege on all application tables in the semantic network</p>
</li>
<li>
<p>ALTER ANY INDEX privilege (optional: only necessary if Semantic Indexing for Documents is being used)</p>
</li>
<li>
<p>ACCESS privilege for any workspace in which version-enabled application tables have been modified (optional: only necessary if Workspace Manager is being used for RDF data)</p>
</li>
</ul>
</li>
<li>
<p>Ensure that any OLS policies for RDF data are temporarily disabled (optional: only necessary if OLS for RDF Data is being used). OLS policies can be re-enabled after running convert_old_rdf_data.</p>
</li>
<li>
<p><a id="sthref1187"></a><a id="sthref1188"></a>Start SQL*Plus. If you want to migrate the RDF data without converting existing empty literals to the new format (see <a href="#CHDDHHBD">Section A.1.2.1</a>), enter the following statement:</p>
<pre>
EXECUTE sdo_rdf_internal.convert_old_rdf_data;
</pre>
<p>If you want to migrate the RDF data and also convert existing empty literals to the new format, call <code>convert_old_rdf_data</code> with the <code>flags</code> parameter set to <code>'CONVERT_ORARDF_NULL'</code>. In addition, you can use an optional <code>tablespace_name</code> parameter to specify the tablespace to use when creating intermediate tables during data migration. For example, the following statement migrates old semantic data, converts existing <code>"orardf:null "</code> values to "", and uses the MY_TBS tablespace for any intermediate tables:</p>
<pre>
EXECUTE sdo_rdf_internal.convert_old_rdf_data(
  flags=&gt;'CONVERT_ORARDF_NULL', 
  tablespace_name=&gt;'MY_TBS');
</pre>
<p>The <code>sdo_rdf_internal.convert_old_rdf_data</code> procedure may take a significant amount of time to run if the semantic network contains many triples that are using (or affected by use of) xsd:float, xsd:double, xsd:time, or xsd:boolean typed literals.</p>
</li>
<li>
<p><a id="sthref1189"></a>Enter the following statement:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/semrelod.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\semrelod.sql</code></p>
</li>
</ul>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
You may encounter the ORA-00904 (invalid identifier) error when executing a SEM_MATCH query if the <code>sdo_rdf_internal.convert_old_rdf_data</code> procedure and the <code>semrelod.sql</code> script were not run after the upgrade to Release 11.2.</div>
<a id="CHDDHHBD"></a>
<div id="RDFRM398" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">A.1.2.1</span> Handling of Empty RDF Literals</h4>
<p>The way empty-valued RDF literals are handled has changed in Release 11.2. Before this release, the values of empty-valued literals were converted to <code>"orardf:null "</code>. In Release 11.2, such values are stored without modification (that is, as ""). However, whether you migrate existing <code>"orardf:null "</code> values to "" is optional.</p>
<p>To check if <code>"orardf:null "</code> values exist in your semantic network, connect to the database as a user with DBA privileges and query the MDSYS.RDF_PARAMETER table, as follows:</p>
<pre>
SELECT namespace, attribute, value FROM mdsys.rdf_parameter
  WHERE namespace='MDSYS' 
  AND attribute = 'NULL_LITERAL';
</pre>
<p>If the NULL_LITERAL attribute has the value <code>EXISTS</code>, then <code>"orardf:null "</code> values are present in your semantic network.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDBGFH"></a>
<div id="RDFRM122" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.3</span> <a id="sthref1190"></a><a id="sthref1191"></a>Upgrading Semantic Technologies Support from Release 10.2</h3>
<p>If you are upgrading from Oracle Database Release 10.2 that includes the semantic technologies support for Release 10.2, the actions required depend on whether there is an existing RDF network.</p>
<p>If there is not an existing RDF network, skip the rest of this section and follow the instructions in <a href="#CHDFFBAA">Section A.1.1, "Enabling Semantic Technologies Support in a New Database Installation"</a>.</p>
<p>If there is an existing RDF network, perform the following steps after the Oracle Database upgrade:</p>
<ol>
<li>
<p>Connect to the database (Release 11.2) as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p><a id="sthref1192"></a>Start SQL*Plus, and enter the following statement:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/catsem10i.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\catsem10i.sql</code></p>
</li>
</ul>
<p>The <code>catsem10i.sql</code> script enables Release 11.2 semantic technologies support and migrates RDF data from Release 10.2 to Release 11.2 format. The script may take a long time to run if the existing Release 10.2 RDF network contains a large amount of RDF data.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABECFJJ"></a>
<div id="RDFRM399" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.4</span> Release 11.2.0.2: Required Actions if Semantic Technologies Installation is Invalid</h3>
<p>Further action may be required if your Semantic Technologies installation is invalid after upgrading to Release 11.2.0.2.0. (This is not an issue with upgrades to Release 11.2.0.3 and later.) Action is required if either or both of the following are true after upgrading to Release 11.2.0.2.0:</p>
<ul>
<li>
<p>A row exists with the following values in the MDSYS.RDF_PARAMETER table:</p>
<pre>
MDSYS   SEM_VERSION   11202   INVALID
</pre></li>
<li>
<p>The STATUS column value is INVALID in any row returned by the following query:</p>
<pre>
SELECT object_name, status FROM all_objects WHERE object_name = 'SEMCONTEXTINDEXMETHODS' or object_name = 'PRLLIDX_CREATE';
</pre></li>
</ul>
<p>In such a case, enter the following sequence of commands as SYSDBA to complete the upgrade of your installation:</p>
<pre>
SQL&gt; @ $ORACLE_HOME/md/admin/sdordfctx.sql
SQL&gt; @ $ORACLE_HOME/md/admin/semrelod.sql
SQL&gt; EXECUTE sys.validate_sdo;
</pre>
<p>For the preceding commands:</p>
<ul>
<li>
<p>When running <code>sdordfctx.sql</code>, you can ignore any ORA-01921, ORA-02303, ORA-00955, and ORA-29809 errors.</p>
</li>
<li>
<p>Executing <code>sys.validate_sdo</code> is needed only if SDO is invalid, which it could be if Semantic Technologies is invalid; however, there is no harm in executing <code>sys.validate_sdo</code> in any case.</p>
</li>
</ul>
<p>After running the preceding commands, check whether your Semantic Technologies installation is valid by checking if a row exists with the following values in the MDSYS.RDF_PARAMETER table:</p>
<pre>
MDSYS   SEM_VERSION   11202   VALID
</pre></div>
<!-- class="sect2" -->
<a id="CHDHIAAF"></a>
<div id="RDFRM123" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.5</span> Spatial and Partitioning Requirements</h3>
<p>Oracle <a id="sthref1193"></a><a id="sthref1194"></a><a id="sthref1195"></a>Spatial must be installed before you can use any of the RDF and OWL capabilities. Oracle Locator is not sufficient. For information about Spatial and Locator, see <a class="olink SPATL" href="../e11830/toc.htm"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
<p>The Partitioning option must be enabled before you can use any of the RDF and OWL capabilities. For licensing information about the Partitioning option, see <a class="olink DBLIC" href="../../license.112/e47877/toc.htm"><span class="italic">Oracle Database Licensing Information</span></a>. For usage information about partitioning, see <a class="olink VLDBG" href="../../server.112/e25523/toc.htm"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEBEHI"></a>
<div id="RDFRM124" class="sect1">
<h2 class="sect1"><span class="secnum">A.2</span> Downgrading Semantic Technologies Support to a Previous Release</h2>
<p>This section explains how to downgrade the semantic technologies support, in conjunction with an Oracle Database downgrade to Release 11.1 or 10.2.</p>
<p>Downgrading is <span class="bolditalic">strongly discouraged</span>, except for rare cases where it is necessary. If you downgrade to a previous release, you will not benefit from bug fixes and enhancements that have been made in intervening releases.</p>
<p>If you have enabled Workspace Manager support for RDF data, you must remove that support <span class="italic">before</span> you downgrade semantic technologies support in the database, as explained in <a href="workspace_mgr.htm#CJGHDBAI">Section 6.1.1</a>.</p>
<a id="CHDEGJBH"></a>
<div id="RDFRM125" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.2.1</span> <a id="sthref1196"></a><a id="sthref1197"></a>Downgrading to Release 11.1 Semantic Technologies Support</h3>
<p>If you need to downgrade to Oracle Database Release 11.1, the semantic technologies component will be downgraded automatically when you downgrade the database. However, any RDF or OWL data that is specific to Release 11.2 (that is, Release 11.2 RDF/OWL persistent structures that are not supported in previous versions) must be dropped <span class="italic">before</span> you perform the downgrade, so that the database is compatible with Release 11.1.</p>
<p>Any virtual models will not be preserved during a downgrade, because they are only available through a Release 11.1.0.7.0 patch (number 7600122) that was made available on My Oracle Support (MetaLink) in November, 2008. To use virtual models, you must reapply this patch after the downgrade, and then re-create the virtual models. For convenience, you can use the <code>semvmrecreate.sql</code> script to generate a script that you can later use (after the downgrade) to automatically re-create any virtual models that were present in the Release 11.2 semantic network. To do so, follow these steps before you downgrade the database :</p>
<ol>
<li>
<p>Connect to the database (Release 11.2) as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p><a id="sthref1198"></a>Start SQL*Plus, and enter a statement in the following format:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/semvmrecreate.sql /</code><span class="italic">my_dir_path</span><code>/my_vm_recreate.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\semvmrecreate.sql \</code><span class="italic">my_dir_path</span><code>\my_vm_recreate.sql</code></p>
</li>
</ul>
<p>where <span class="italic">my_dir_path</span> is the path to the location in which to create the <code>my_vm_recreate.sql</code> script file. (You can use another file name for the script, if you want.)</p>
</li>
</ol>
<p>To check if any Release 11.2 RDF data is incompatible with Release 11.1, perform the following steps:</p>
<ol>
<li>
<p>Connect to the database (Release 11.2) as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p>Start SQL*Plus, and enter the following statements:</p>
<pre>
SET SERVEROUT ON
EXECUTE SDO_SEM_DOWNGRADE.CHECK_111_COMPATIBLE;
</pre></li>
</ol>
<p><a id="sthref1199"></a>If any RDF data is incompatible with Release 11.1, the procedure generates an error and displays a list of the incompatible data. In this case, you must run the <code>semrelod111.sql</code> script after the database downgrade, as follows:</p>
<ol>
<li>
<p>In the Release 11.2 database, save a copy of the <code>semrelod111.sql</code> file, which is in the following location:</p>
<ul>
<li>
<p>Linux: <code>$ORACLE_HOME/md/admin/semrelod111.sql</code></p>
</li>
<li>
<p>Windows: <code>%ORACLE_HOME%\md\admin\semrelod111.sql</code></p>
</li>
</ul>
</li>
<li>
<p>If you have any virtual models that you want to be able to re-create after the download, run the <code>semvmrecreate.sql</code> script (if you have not already done so), as explained earlier in this section.</p>
</li>
<li>
<p>Remove any Release 11.2 release-specific RDF or OWL data (including virtual models) if you have not already done so, as explained earlier in this section.</p>
</li>
<li>
<p>Perform the database downgrade.</p>
</li>
<li>
<p>In the Release 11.1 database, copy the saved copy of the <code>semrelod111.sql</code> file to the following location:</p>
<ul>
<li>
<p>Linux: <code>$ORACLE_HOME/md/admin/</code></p>
</li>
<li>
<p>Windows: <code>%ORACLE_HOME%\md\admin\</code></p>
</li>
</ul>
</li>
<li>
<p>Connect to the Release 11.1 database as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p>Start SQL*Plus, and enter the following statement:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/semrelod111.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\semrelod111.sql</code></p>
</li>
</ul>
<p>After the <code>semrelod111.sql</code> script completes successfully, Oracle semantic technologies support for Release 11.1 is enabled and ready to use, and all Release 11.1-compatible data is preserved.</p>
</li>
<li>
<p>If you want to enable support for virtual models, apply the Release 11.1.0.7 interim patch number 7600122.</p>
</li>
<li>
<p>If you previously generated a <code>my_vm_recreate.sql</code> script to re-create your virtual models after the downgrade, go to the <span class="italic">my_dir_path</span> location, connect to the database as the SYS user with SYSDBA privileges, start SQL*Plus, and run the <code>my_vm_recreate.sql</code> script.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="RDFRM126" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1200"></a>
<h3 class="sect2"><span class="secnum">A.2.2</span> <a id="sthref1201"></a><a id="sthref1202"></a>Downgrading to Release 10.2 Semantic Technologies Support</h3>
<p>If you need to downgrade to Oracle Database Release 10.2, follow the instructions in <a href="#CHDEGJBH">Section A.2.1</a> to downgrade to Release 11.1, and then follow the instructions in the rest of this section (taken from the Release 11.1 manual) to downgrade from Release 11.1 to Release 10.2.</p>
<p>If you need to downgrade to Oracle Database Release 10.2, and if you used Oracle Database Release 11 RDF or OWL features and want to preserve existing semantic data and rulebases, you must execute a statement to prepare for the downgrade, perform the downgrade, and execute another statement to restore the semantic data.</p>
<p>However, the following considerations apply:</p>
<ul>
<li>
<p>Entailed graph data will not be preserved, because the same information can be regenerated using the Oracle Database Release 10.2 RDF inference API.</p>
</li>
<li>
<p>No rulebases or rules indexes related to OWL are preserved, because Oracle Database Release 10.2 did not support the OWL vocabulary.</p>
</li>
</ul>
<p>Perform the following steps:</p>
<ol>
<li>
<p>Before the database downgrade, connect to the Release 11 database as the SYS user with SYSDBA privileges (<code>SYS</code> <code>AS SYSDBA</code>, and enter the SYS account password when prompted).</p>
</li>
<li>
<p>Start SQL*Plus and enter the following statement:</p>
<pre>
EXECUTE SDO_SEM_DOWNGRADE.PREPARE_DOWNGRADE_FROM_11;
</pre>
<p>When this statement executes successfully, all existing semantic data and rulebases are saved. You will restore the semantic data after the database downgrade.</p>
</li>
<li>
<p>Perform the database downgrade.</p>
</li>
<li>
<p>Download the following file from the Semantic Technologies page of the Oracle Technology Network site: <code>sdosemdgu.plb</code></p>
</li>
<li>
<p>If (and only if) your Oracle Database Release 10.2 release number is 10.2.0.1, click the Software link, and download and install the RDF-specific patch. (This patch is needed because Release 10.2.0.1 did not have the batch loading feature, which is used to restore the semantic data.)</p>
</li>
<li>
<p>Connect to the Release 10.2 database as the SYS user with SYSDBA privileges.</p>
</li>
<li>
<p>Start SQL*Plus and enter a statement in the following statement:</p>
<pre>
EXECUTE SDO_SEM_DOWNGRADE_UTL.PREPARE_DOWNGRADE_TO_102('<span class="italic">&lt;tablespace-name&gt;</span>');
</pre>
<p>Where <span class="italic">&lt;tablespace-name&gt;</span> is the name of the tablespace in which the RDF network will be created.</p>
<p>When this statement executes successfully, all semantic data that had been saved before the downgrade is restored and ready to use.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDJDEIE"></a>
<div id="RDFRM127" class="sect1">
<h2 class="sect1"><span class="secnum">A.3</span> <a id="sthref1203"></a><a id="sthref1204"></a><a id="sthref1205"></a>Removing Semantic Technologies Support</h2>
<p>This section explains how to remove the semantic technologies support from the database. Removing this support is <span class="bolditalic">strongly discouraged</span>, unless you have a strong reason for doing it. After you remove this support, no applications or database users will be able to use any types, synonyms, or PL/SQL packages related to Oracle semantic technologies support.</p>
<p>If you have enabled Workspace Manager support for RDF data, you must remove that support <span class="italic">before</span> you remove semantic technologies support from the database, as explained in <a href="workspace_mgr.htm#CJGHDBAI">Section 6.1.1</a>.</p>
<p>To remove the semantic technologies support from the database, perform the following steps:</p>
<ol>
<li>
<p>Connect to the database (Release 11.2) as the SYS user with SYSDBA privileges (SYS AS SYSDBA, and enter the SYS account password when prompted).</p>
</li>
<li>
<p><a id="sthref1206"></a>Start SQL*Plus, and enter the following statement:</p>
<ul>
<li>
<p>Linux: <code>@$ORACLE_HOME/md/admin/semremov.sql</code></p>
</li>
<li>
<p>Windows: <code>@%ORACLE_HOME%\md\admin\semremov.sql</code></p>
</li>
</ul>
</li>
</ol>
<p>The <code>semremov.sql</code> script drops the semantic network and removes any semantic technologies types, tables, and PL/SQL packages:</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment973">
<tr>
<td class="cellalignment982">
<table class="cellalignment978">
<tr>
<td class="cellalignment977"><a href="sem_rdfsa_ref.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment977"><a href="sem_spatial_orageo.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment984">
<table class="cellalignment976">
<tr>
<td class="cellalignment977"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment977"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment977"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment977"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment977"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment977"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
