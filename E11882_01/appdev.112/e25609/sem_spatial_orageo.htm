<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>SEM_MATCH Support for Spatial Queries</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743" />
<meta name="description" content="Provides usage and reference information about Oracle Database support for semantic technologies, including storage, inference, and query capabilities for data and ontologies based on Resource Description Framework (RDF), RDF Schema (RDFS), and Web Ontology Language (OWL)." />
<meta name="dcterms.created" content="2014-01-26T18:14:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Semantic Technologies Developer's Guide" />
<meta name="dcterms.identifier" content="E25609-06" />
<meta name="dcterms.isVersionOf" content="RDFRM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="sem_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="sem_enable.htm" title="Previous" type="text/html" />
<link rel="Next" href="sem_glossary.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e25609.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/26</span> <!-- End Header -->
<div id="RDFRM400" class="appendix"><a id="BABFDIGE"></a>
<h1 class="appendix"><span class="secnum">B</span> SEM_MATCH Support for Spatial Queries</h1>
<p>This appendix provides reference information for SPARQL extension functions for performing spatial queries in SEM_MATCH. To use these functions, you must understand the concepts explained in <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6, "Spatial Support"</a>.</p>
<p>This appendix includes the following functions:</p>
<ul>
<li>
<p><a href="#BABBHDGF">orageo:area</a></p>
</li>
<li>
<p><a href="#BABBJIFE">orageo:buffer</a></p>
</li>
<li>
<p><a href="#BABBFFEH">orageo:centroid</a></p>
</li>
<li>
<p><a href="#BABDEJFE">orageo:convexHull</a></p>
</li>
<li>
<p><a href="#BABCBBEC">orageo:difference</a></p>
</li>
<li>
<p><a href="#BABGIFFF">orageo:distance</a></p>
</li>
<li>
<p><a href="#BABCFCFF">orageo:intersection</a></p>
</li>
<li>
<p><a href="#BABCDEFB">orageo:length</a></p>
</li>
<li>
<p><a href="#BABGCGHC">orageo:mbr</a></p>
</li>
<li>
<p><a href="#BABCDDDD">orageo:nearestNeighbor</a></p>
</li>
<li>
<p><a href="#BABCGGAI">orageo:relate</a></p>
</li>
<li>
<p><a href="#BABHGAAG">orageo:union</a></p>
</li>
<li>
<p><a href="#BABGEGBF">orageo:withinDistance</a></p>
</li>
<li>
<p><a href="#BABFFEBJ">orageo:xor</a></p>
</li>
</ul>
<div class="refentry"><a id="BABBHDGF"></a>
<div id="RDFRM401" class="refsect1">
<h2 class="refsect1">orageo:area<a id="sthref1207"></a><a id="sthref1208"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1209"></a>Format</p>
<p class="synopsis">orageo:area(geom1 : orageo:WKTLiteral, unit : Literal) : xsd:decimal</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1210"></a>Description</p>
<p>Returns the area of <code>geom1</code> in terms of the specified unit of measure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1211"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code>"unit=SQ_KM"</code>). See the section about unit of measurement support in <a class="olink SPATL559" href="../../appdev.112/e11830/sdo_objrelschema.htm#SPATL559"><span class="italic">Oracle Spatial Developer's Guide</span></a> for more information about unit of measurement specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1212"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_AREA function in <a class="olink SPATL1110" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1110"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1213"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons with areas greater than 10,000 square kilometers.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (<span class="bold">orageo:area</span>(?cgeom, "unit=SQ_KM") &gt; 10000) }'
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABBJIFE"></a>
<div id="RDFRM402" class="refsect1">
<h2 class="refsect1">orageo:buffer<a id="sthref1214"></a><a id="sthref1215"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1216"></a>Format</p>
<p class="synopsis">orageo:buffer(geom1 : orageo:WKTLiteral, distance : xsd:decimal, unit : Literal) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1217"></a>Description</p>
<p>Returns a buffer polygon at a specified distance around or inside a geometry.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1218"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>distance</dt>
<dd>
<p>Distance value. Distance value. If the value is positive, the buffer is generated around <code>geom1</code>; if the value is negative (valid only for polygons), the buffer is generated inside <code>geom1</code>.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code>"unit=KM"</code>). See the section about unit of measurement support in <a class="olink SPATL559" href="../../appdev.112/e11830/sdo_objrelschema.htm#SPATL559"><span class="italic">Oracle Spatial Developer's Guide</span></a> for more information about unit of measurement specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1219"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_BUFFER function in <a class="olink SPATL1111" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1111"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1220"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons that are completely inside a 100 kilometer buffer around a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ # HINT0={LEADING(?cgeom)}
   ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (
     orageo:relate(?cgeom, 
       <span class="bold">orageo:buffer</span>("POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
                     100, "unit=KM"),
      "mask=inside")) }'
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABBFFEH"></a>
<div id="RDFRM403" class="refsect1">
<h2 class="refsect1">orageo:centroid<a id="sthref1221"></a><a id="sthref1222"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1223"></a>Format</p>
<p class="synopsis">orageo:centroid(geom1 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1224"></a>Description</p>
<p>Returns a point geometry that is the centroid of <code>geom1</code>. (The centroid is also known as the "center of gravity.")</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1225"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1226"></a>Usage Notes</p>
<p>For an input geometry consisting of multiple objects, the result is weighted by the area of each polygon in the geometry objects. If the geometry objects are a mixture of polygons and points, the points are not used in the calculation of the centroid. If the geometry objects are all points, the points have equal weight.</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_CENTROID function in <a class="olink SPATL1112" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1112"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1227"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons with centroids within 200 kilometers of a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:withinDistance(<span class="bold">orageo:centroid</span>(?cgeom), 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      "distance=200 unit=KM")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABDEJFE"></a>
<div id="RDFRM404" class="refsect1">
<h2 class="refsect1">orageo:convexHull<a id="sthref1228"></a><a id="sthref1229"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1230"></a>Format</p>
<p class="synopsis">orageo:convexHull(geom1 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1231"></a>Description</p>
<p>Returns a polygon-type object that represents the convex hull of <code>geom1</code>. (The <span class="bold">convex hull</span> is a simple convex polygon that completely encloses the geometry object, using as few straight-line sides as possible to create the smallest polygon that completely encloses the geometry object.)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1232"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1233"></a>Usage Notes</p>
<p>A convex hull is a convenient way to get an approximation of a complex geometry object.</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_CONVEX_HULL function in <a class="olink SPATL1114" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1114"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1234"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose convex hull contains a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(orageo:convexHull(?cgeom), 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      "mask=contains")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABCBBEC"></a>
<div id="RDFRM405" class="refsect1">
<h2 class="refsect1">orageo:difference <a id="sthref1235"></a><a id="sthref1236"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1237"></a>Format</p>
<p class="synopsis">orageo:difference(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1238"></a>Description</p>
<p>Returns a geometry object that is the topological difference (MINUS operation) of <code>geom1</code> and <code>geom2</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1239"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1240"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_UNION function in <a class="olink SPATL1115" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1115"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1241"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose centroid is inside the difference of two specified polygons.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(orageo:centroid(?cgeom), 
      <span class="bold">orageo:difference</span>("Polygon((-83.6 34.1, -83.2 34.1, -83.2 34.5, 
                         -83.6 34.5, -83.6 34.1))"^^orageo:WKTLiteral,
                        "Polygon((-83.2 34.3, -83.0 34.3, -83.0 34.5, 
                         -83.2 34.5, -83.2 34.3))"^^orageo:WKTLiteral),
      "mask=inside")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABGIFFF"></a>
<div id="RDFRM406" class="refsect1">
<h2 class="refsect1">orageo:distance<a id="sthref1242"></a><a id="sthref1243"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1244"></a>Format</p>
<p class="synopsis">orageo:distance(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral, unit : Literal) : xsd:decimal</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1245"></a>Description</p>
<p>Returns the distance between the nearest pair of points or segments of <code>geom1</code> and <code>geom2</code> in terms of the specified unit of measure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1246"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code>"unit=KM"</code>). See the section about unit of measurement support in <a class="olink SPATL559" href="../../appdev.112/e11830/sdo_objrelschema.htm#SPATL559"><span class="italic">Oracle Spatial Developer's Guide</span></a> for more information about unit of measurement specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1247"></a>Usage Notes</p>
<p>Use <code><a href="#BABGEGBF">orageo:withinDistance</a></code> instead of <code>orageo:distance</code> whenever possible, because <a href="#BABGEGBF">orageo:withinDistance</a> has a more efficient index-based implementation.</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_DISTANCE function in <a class="olink SPATL1117" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1117"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1248"></a>Example</p>
<p>The following example finds the ten nearest U.S. Congressional districts to a specified point and orders them by distance from the point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'SELECT ?name ?cdist
 WHERE
 { # HINT0={LEADING(?cgeom)}
   ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:nearestNeighbor(?cgeom, 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      "sdo_num_res=10")) }
 ORDER BY ASC(<span class="bold">orageo:distance</span>(?cgeom,
                "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
                "unit=KM"))'
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '))
ORDER BY sem$rownum;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABCFCFF"></a>
<div id="RDFRM407" class="refsect1">
<h2 class="refsect1">orageo:intersection <a id="sthref1249"></a><a id="sthref1250"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1251"></a>Format</p>
<p class="synopsis">orageo:intersection(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1252"></a>Description</p>
<p>Returns a geometry object that is the topological intersection (AND operation) of <code>geom1</code> and <code>geom2</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1253"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1254"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_INTERSECTION function in <a class="olink SPATL1118" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1118"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1255"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose centroid is inside the intersection of two specified polygons.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(orageo:centroid(?cgeom), 
      <span class="bold">orageo:intersection</span>("Polygon((-83.6 34.1, -83.2 34.1, -83.2 34.5, 
                           -83.6 34.5, -83.6 34.1))"^^orageo:WKTLiteral,
                          "Polygon((-83.2 34.3, -83.0 34.3, -83.0 34.5, 
                           -83.2 34.5, -83.2 34.3))"^^orageo:WKTLiteral),
      "mask=inside")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABCDEFB"></a>
<div id="RDFRM408" class="refsect1">
<h2 class="refsect1">orageo:length<a id="sthref1256"></a><a id="sthref1257"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1258"></a>Format</p>
<p class="synopsis">orageo:length(geom1 : orageo:WKTLiteral, unit : Literal) : xsd:decimal</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1259"></a>Description</p>
<p>Returns the length or perimeter of <code>geom1</code> in terms of the specified unit of measure.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1260"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code>"unit=KM"</code>). See the section about unit of measurement support in <a class="olink SPATL559" href="../../appdev.112/e11830/sdo_objrelschema.htm#SPATL559"><span class="italic">Oracle Spatial Developer's Guide</span></a> for more information about unit of measurement specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1261"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_LENGTH function in <a class="olink SPATL1120" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1120"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1262"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons with lengths (perimeters) greater than 1000 kilometers.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (<span class="bold">orageo:legnth</span>(?cgeom, "unit=KM") &gt; 1000) }'
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABGCGHC"></a>
<div id="RDFRM409" class="refsect1">
<h2 class="refsect1">orageo:mbr<a id="sthref1263"></a><a id="sthref1264"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1265"></a>Format</p>
<p class="synopsis">orageo:mbr(geom1 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1266"></a>Description</p>
<p>Returns the minimum bounding rectangle of <code>geom1</code>, that is, the single rectangle that minimally encloses <code>geom1</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1267"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1268"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_MBR function in <a class="olink SPATL1122" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1122"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1269"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose minimum bounding rectangle contains a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(<span class="bold">orageo:mbr</span>(?cgeom), 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      "mask=contains")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABCDDDD"></a>
<div id="RDFRM410" class="refsect1">
<h2 class="refsect1">orageo:nearestNeighbor<a id="sthref1270"></a><a id="sthref1271"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1272"></a>Format</p>
<p class="synopsis">orageo:nearestNeighbor(geom1: orageo:WKTLiteral, geom2 : orageo:WKTLiteral, param : Literal) : xsd:boolean</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1273"></a>Description</p>
<p>Returns <code>true</code> if <code>geom1</code> is a nearest neighbor of <code>geom2</code>, where the size of the nearest neighbors set is specified by <code>param</code>; returns <code>false</code> otherwise.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1274"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>param</dt>
<dd>
<p>Determines the behavior of the operator. See the Usage Notes for the available keyword-value pairs.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1275"></a>Usage Notes</p>
<p>In the param parameter, the available keyword-value pairs are:</p>
<ul>
<li>
<p><code>distance=</code><code><span class="codeinlineitalic">n</span></code> specifies the maximum allowable distance for the nearest neighbor search.</p>
</li>
<li>
<p><code>sdo_num_res=</code><code><span class="codeinlineitalic">n</span></code> specifies the size of the set for the nearest neighbor search.</p>
</li>
<li>
<p><code>unit=</code><code><span class="codeinlineitalic">unit</span></code> specifies the unit of measurement to use with <code>distance</code> value. If you do not specify a value, the unit of measurement associated with the data is used.</p>
</li>
</ul>
<p><code>geom1</code> must be a local variable (that is, a variable that appears in the basic graph pattern that contains the <code>orageo:nearestNeighbor</code> spatial filter).</p>
<p>It is a good idea to use a <code>'LEADING(?var)' HINT0</code> hint when your query involves a restrictive <code>orageo:relate</code> spatial filter on <code>?var.</code></p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_NN operator in <a class="olink SPATL1032" href="../../appdev.112/e11830/sdo_operat.htm#SPATL1032"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1276"></a>Example</p>
<p>The following example finds the ten nearest U.S. Congressional districts to a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ # HINT0={LEADING(?cgeom)}
   ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (<span class="bold">orageo:nearestNeighbor</span>(?cgeom, 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      <span class="bold">"sdo_num_res=10"</span>)) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABCGGAI"></a>
<div id="RDFRM411" class="refsect1">
<h2 class="refsect1">orageo:relate<a id="sthref1277"></a><a id="sthref1278"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1279"></a>Format</p>
<p class="synopsis">orageo:relate(geom1: orageo:WKTLiteral, geom2 : orageo:WKTLiteral, param : Literal) : xsd:boolean</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1280"></a>Description</p>
<p>Returns <code>true</code> if <code>geom1</code> and <code>geom2</code> satisfy the topological spatial relation specified by the <code>param</code> parameter; returns <code>false</code> otherwise.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1281"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>param</dt>
<dd>
<p>Specifies a list of mask relationships to check. See the list of keywords in the Usage Notes.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1282"></a>Usage Notes</p>
<p>The following <code>param</code> values (mask relationships) can be tested:</p>
<ul>
<li>
<p>ANYINTERACT: Returns TRUE if the objects are not disjoint.</p>
</li>
<li>
<p>CONTAINS: Returns CONTAINS if the second object is entirely within the first object and the object boundaries do not touch; otherwise, returns FALSE.</p>
</li>
<li>
<p>COVEREDBY: Returns COVEREDBY if the first object is entirely within the second object and the object boundaries touch at one or more points; otherwise, returns FALSE.</p>
</li>
<li>
<p>COVERS: Returns COVERS if the second object is entirely within the first object and the boundaries touch in one or more places; otherwise, returns FALSE.</p>
</li>
<li>
<p>DISJOINT: Returns DISJOINT if the objects have no common boundary or interior points; otherwise, returns FALSE.</p>
</li>
<li>
<p>EQUAL: Returns EQUAL if the objects share every point of their boundaries and interior, including any holes in the objects; otherwise, returns FALSE.</p>
</li>
<li>
<p>INSIDE: Returns INSIDE if the first object is entirely within the second object and the object boundaries do not touch; otherwise, returns FALSE.</p>
</li>
<li>
<p>ON: Returns ON if the boundary and interior of a line (the first object) is completely on the boundary of a polygon (the second object); otherwise, returns FALSE.</p>
</li>
<li>
<p>OVERLAPBDYDISJOINT: Returns OVERLAPBDYDISJOINT if the objects overlap, but their boundaries do not interact; otherwise, returns FALSE.</p>
</li>
<li>
<p>OVERLAPBDYINTERSECT: Returns OVERLAPBDYINTERSECT if the objects overlap, and their boundaries intersect in one or more places; otherwise, returns FALSE.</p>
</li>
<li>
<p>TOUCH: Returns TOUCH if the two objects share a common boundary point, but no interior points; otherwise, returns FALSE.</p>
</li>
</ul>
<p>Values for <code>param</code> can be combined using the logical Boolean operator OR. For example, 'INSIDE + TOUCH' returns <code>INSIDE+TOUCH</code> if the relationship between the geometries is INSIDE or TOUCH or both INSIDE and TOUCH; it returns <code>FALSE</code> if the relationship between the geometries is neither INSIDE nor TOUCH.</p>
<p>When invoking <code>orageo:relate</code> with a query variable and a constant geometry, always use the query variable as the first parameter and the constant geometry as the second parameter.</p>
<p>For best performance, <code>geom1</code> should be a local variable (that is, a variable that appears in the basic graph pattern that contains the <code>orageo:relate</code> spatial filter).</p>
<p>It is a good idea to use a <code>'LEADING(?var)' HINT0</code> hint when your query involves a restrictive <code>orageo:relate</code> spatial filter on <code>?var.</code></p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_RELATE operator in <a class="olink SPATL1039" href="../../appdev.112/e11830/sdo_operat.htm#SPATL1039"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1283"></a>Example</p>
<p>The following example finds the U.S. Congressional district that contains a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ # HINT0={LEADING(?cgeom)}
   ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (<span class="bold">orageo:relate</span>(?cgeom, 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      "mask=contains")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '
));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABHGAAG"></a>
<div id="RDFRM412" class="refsect1">
<h2 class="refsect1">orageo:union <a id="sthref1284"></a><a id="sthref1285"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1286"></a>Format</p>
<p class="synopsis">orageo:union(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1287"></a>Description</p>
<p>Returns a geometry object that is the topological union (OR operation) of <code>geom1</code> and <code>geom2</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1288"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1289"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_UN ION function in <a class="olink SPATL1125" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1125"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1290"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose centroid is inside the union of two specified polygons.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(orageo:centroid(?cgeom), 
      orageo:union("Polygon((-83.6 34.1, -83.2 34.1, -83.2 34.5, 
                    -83.6 34.5, -83.6 34.1))"^^orageo:WKTLiteral,
                   "Polygon((-83.2 34.3, -83.0 34.3, -83.0 34.5, 
                    -83.2 34.5, -83.2 34.3))"^^orageo:WKTLiteral),
      "mask=inside")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABGEGBF"></a>
<div id="RDFRM413" class="refsect1">
<h2 class="refsect1">orageo:withinDistance<a id="sthref1291"></a><a id="sthref1292"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1293"></a>Format</p>
<p class="synopsis">orageo:withinDistance(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral, distance : xsd:decimal, unit : Literal) : xsd:boolean</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1294"></a>Description</p>
<p>Returns <code>true</code> if the distance between <code>geom1</code> and <code>geom2</code> is less than or equal to <code>distance</code> when measured in <code>unit</code>; returns <code>false</code> otherwise.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1295"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>distance</dt>
<dd>
<p>Distance value.</p>
</dd>
<dt>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code>"unit=KM"</code>). See the section about unit of measurement support in <a class="olink SPATL559" href="../../appdev.112/e11830/sdo_objrelschema.htm#SPATL559"><span class="italic">Oracle Spatial Developer's Guide</span></a> for more information about unit of measurement specification.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1296"></a>Usage Notes</p>
<p>When invoking this function with a query variable and a constant geometry, always use the query variable as the first parameter and the constant geometry as the second parameter.</p>
<p>For best performance, <code>geom1</code> should be a local variable (that is, a variable that appears in the basic graph pattern that contains the <code>orageo:withinDistance</code> spatial filter).</p>
<p>It is a good idea to use a <code>'LEADING(?var)' HINT0</code> hint when your query involves a restrictive <code>orageo:withinDistance</code> spatial filter on <code>?var.</code></p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_WITHIN_DISTANCE operator in <a class="olink SPATL1041" href="../../appdev.112/e11830/sdo_operat.htm#SPATL1041"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1297"></a>Example</p>
<p>The following example finds the U.S. Congressional districts that are within 100 kilometers of a specified point.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ # HINT0={LEADING(?cgeom)}
   ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (<span class="bold">orageo:withinDistance</span>(?cgeom, 
      "POINT(-71.46444 42.7575)"^^orageo:WKTLiteral,
      100, "KM")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABFFEBJ"></a>
<div id="RDFRM414" class="refsect1">
<h2 class="refsect1">orageo:xor <a id="sthref1298"></a><a id="sthref1299"></a></h2>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1300"></a>Format</p>
<p class="synopsis">orageo:xor(geom1 : orageo:WKTLiteral, geom2 : orageo:WKTLiteral) : orageo:WKTLiteral</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1301"></a>Description</p>
<p>Returns a geometry object that is the topological symmetric difference (XOR operation) of <code>geom1</code> and <code>geom2</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1302"></a>Parameters</p>
<dl>
<dt>geom1</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
<dt>geom2</dt>
<dd>
<p>Geometry object. Specified as a query variable or a constant <code>orageo:WKTLiteral</code> value.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1303"></a>Usage Notes</p>
<p>See <a href="sdo_rdf_concepts.htm#CIHHAEIH">Section 1.6.6</a> for information about representing , indexing, and querying spatial data in RDF.</p>
<p>See also the SDO_GEOM.SDO_XOR function in <a class="olink SPATL1128" href="../../appdev.112/e11830/sdo_objgeom.htm#SPATL1128"><span class="italic">Oracle Spatial Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1304"></a>Example</p>
<p>The following example finds the U.S. Congressional district polygons whose centroid is inside the symmetric difference of two specified polygons.</p>
<pre>
SELECT name, cdist
FROM table(sem_match(
'{ ?person usgovt:name ?name .
   ?person pol:hasRole ?role .
   ?role pol:forOffice ?office .
   ?office pol:represents ?cdist .
   ?cdist orageo:hasExactGeometry ?cgeom 
   FILTER (orageo:relate(orageo:centroid(?cgeom), 
      <span class="bold">orageo:xor</span>("Polygon((-83.6 34.1, -83.2 34.1, -83.2 34.5, 
                  -83.6 34.5, -83.6 34.1))"^^orageo:WKTLiteral,
                 "Polygon((-83.2 34.3, -83.0 34.3, -83.0 34.5, 
                  -83.2 34.5, -83.2 34.3))"^^orageo:WKTLiteral),
      "mask=inside")) } '
,sem_models('gov_all_vm'), null, 
,sem_aliases(
   sem_alias('usgovt','http://www.rdfabout.com/rdf/schema/usgovt/'),
   sem_alias('pol','http://www.rdfabout.com/rdf/schema/politico/'))
,null, null, null, ' ALLOW_DUP=T '));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment973">
<tr>
<td class="cellalignment982">
<table class="cellalignment978">
<tr>
<td class="cellalignment977"><a href="sem_enable.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment977"><a href="sem_glossary.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment984">
<table class="cellalignment976">
<tr>
<td class="cellalignment977"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment977"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment977"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment977"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment977"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment977"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
