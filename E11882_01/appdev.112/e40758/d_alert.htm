<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_ALERT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:54:59Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_advis.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_appinf.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/265</span> <!-- End Header -->
<div id="ARPLS351" class="chapter"><a id="CHDDJCJG"></a>
<h1 class="chapter"><span class="secnum">19</span> DBMS_ALERT</h1>
<p><a id="sthref444"></a><code>DBMS_ALERT</code> supports asynchronous notification of database events (alerts). By appropriate use of this package and database triggers, an application can notify itself whenever values of interest in the database are changed.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDJEDHG">Using DBMS_ALERT</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Restrictions</p>
</li>
<li>
<p>Exceptions</p>
</li>
<li>
<p>Operational Notes</p>
</li>
<li>
<p>Examples</p>
</li>
</ul>
</li>
<li>
<p><a href="#CHDCFHCI">Summary of DBMS_ALERT Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CHDJEDHG"></a>
<hr />
<div id="ARPLS65171" class="refsect1">
<h2 class="refsect1">Using DBMS_ALERT</h2>
<ul>
<li>
<p><a href="#CHDFACGG">Overview</a></p>
</li>
<li>
<p><a href="#i1001013">Security Model</a></p>
</li>
<li>
<p><a href="#BABECEJF">Constants</a></p>
</li>
<li>
<p><a href="#i1001016">Restrictions</a></p>
</li>
<li>
<p><a href="#i1001106">Exceptions</a></p>
</li>
<li>
<p><a href="#CIHHBDAD">Operational Notes</a></p>
</li>
<li>
<p><a href="#CHDHACEG">Examples</a></p>
</li>
</ul>
<div id="ARPLS65172" class="refsect2"><a id="CHDFACGG"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>Suppose a graphics tool is displaying a graph of some data from a database table. The graphics tool can, after reading and graphing the data, wait on a database alert (<code>WAITONE</code>) covering the data just read. The tool automatically wakes up when the data is changed by any other user. All that is required is that a trigger be placed on the database table, which performs a signal (<code>SIGNAL</code>) whenever the trigger is fired.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65173" class="refsect2"><a id="i1001013"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>Security on this package can be controlled by granting <code>EXECUTE</code> on this package to selected users or roles. You might want to write a cover package on top of this one that restricts the alert names used. <code>EXECUTE</code> privilege on this cover package can then be granted rather than on this package.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65174" class="refsect2"><a id="BABECEJF"></a>
<hr />
<h3 class="refsect2">Constants</h3>
<p>The <code>DBMS_ALERT</code> package uses the constants shown in <a href="#BEHGJCBF">Table 19-1</a>:</p>
<div id="ARPLS65175" class="tblformal">
<p class="titleintable"><a id="sthref445"></a><a id="BEHGJCBF"></a>Table 19-1 DBMS_ALERT Constants</p>
<table class="cellalignment1229" title="DBMS_ALERT Constants" summary="This table describes constants used by DBMS_ALERT subprograms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t2">Name</th>
<th class="cellalignment1227" id="r1c2-t2">Type</th>
<th class="cellalignment1227" id="r1c3-t2">Value</th>
<th class="cellalignment1227" id="r1c4-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t2" headers="r1c1-t2">
<p><code>MAXWAIT</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c2-t2">
<p><code>INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c3-t2">
<p><code>86400000</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c4-t2">
<p>The maximum time to wait for an alert (1000 days which is essentially forever).</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65176" class="refsect2"><a id="i1001016"></a>
<hr />
<h3 class="refsect2">Restrictions</h3>
<p>Because database alerters issue commits, they cannot be used with Oracle Forms. For more information on restrictions on calling stored procedures while Oracle Forms is active, refer to your Oracle Forms documentation.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65177" class="refsect2"><a id="i1001106"></a>
<hr />
<h3 class="refsect2">Exceptions</h3>
<p><code>DBMS_ALERT</code> raises the application error -20000 on error conditions. <a href="#CIHCCIJE">Table 19-2</a> shows the messages and the procedures that can raise them.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65178" class="refsect2"><a id="CIHHBDAD"></a>
<hr />
<h3 class="refsect2">Operational Notes</h3>
<p>The following notes relate to general and specific applications:</p>
<ul>
<li>
<p>Alerts are transaction-based. This means that the waiting session is not alerted until the transaction signalling the alert commits. There can be any number of concurrent signalers of a given alert, and there can be any number of concurrent waiters on a given alert.</p>
</li>
<li>
<p>A waiting application is blocked in the database and cannot do any other work.</p>
</li>
<li>
<p>An application can register for multiple events and can then wait for any of them to occur using the <code>WAITANY</code> procedure.</p>
</li>
<li>
<p>An application can also supply an optional <code>timeout</code> parameter to the <code>WAITONE</code> or <code>WAITANY</code> procedures. A <code>timeout</code> of 0 returns immediately if there is no pending alert.</p>
</li>
<li>
<p>The signalling session can optionally pass a message that is received by the waiting session.</p>
</li>
<li>
<p>Alerts can be signalled more often than the corresponding application wait calls. In such cases, the older alerts are discarded. The application always gets the latest alert (based on transaction commit times).</p>
</li>
<li>
<p>If the application does not require transaction-based alerts, the <code>DBMS_PIPE</code> package may provide a useful alternative.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a href="d_pipe.htm#CHDDFCFC">Chapter 103, "DBMS_PIPE"</a></div>
</li>
<li>
<p>If the transaction is rolled back after the call to <code>SIGNAL</code>, no alert occurs.</p>
</li>
<li>
<p>It is possible to receive an alert, read the data, and find that no data has changed. This is because the data changed after the <span class="italic">prior</span> alert, but before the data was read for that <span class="italic">prior</span> alert.</p>
</li>
<li>
<p>Usually, Oracle is event-driven; this means that there are no polling loops. There are two cases where polling loops can occur:</p>
<ul>
<li>
<p>Shared mode. If your database is running in shared mode, a polling loop is required to check for alerts from another instance. The polling loop defaults to one second and can be set by the <code>SET_DEFAULTS</code> procedure.</p>
</li>
<li>
<p><code>WAITANY</code> procedure. If you use the <code>WAITANY</code> procedure, and if a signalling session does a signal but does not commit within one second of the signal, a polling loop is required so that this uncommitted alert does not camouflage other alerts. The polling loop begins at a one second interval and exponentially backs off to 30-second intervals.</p>
</li>
</ul>
</li>
</ul>
<div id="ARPLS65179" class="tblformal">
<p class="titleintable"><a id="sthref446"></a><a id="CIHCCIJE"></a>Table 19-2 DBMS_ALERT Error Messages</p>
<table class="cellalignment1229" title="DBMS_ALERT Error Messages" summary="This table describes DBMS_ALERT Error Messages." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Error Message</th>
<th class="cellalignment1227" id="r1c2-t4">Procedure</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>ORU-10001 lock request error, status: N</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p><code>SIGNAL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t4" headers="r1c1-t4">
<p><code>ORU-10015 error: N waiting for pipe status</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c2-t4">
<p><code>WAITANY</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t4" headers="r1c1-t4">
<p><code>ORU-10016 error: N sending on pipe 'X'</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c2-t4">
<p><code>SIGNAL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t4" headers="r1c1-t4">
<p><code>ORU-10017 error: N receiving on pipe 'X'</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c2-t4">
<p><code>SIGNAL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t4" headers="r1c1-t4">
<p><code>ORU-10019 error: N on lock request</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t4 r1c2-t4">
<p><code>WAIT</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t4" headers="r1c1-t4">
<p><code>ORU-10020 error: N on lock request</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t4 r1c2-t4">
<p><code>WAITANY</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t4" headers="r1c1-t4">
<p><code>ORU-10021 lock request error; status: N</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t4 r1c2-t4">
<p><code>REGISTER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t4" headers="r1c1-t4">
<p><code>ORU-10022 lock request error, status: N</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t4 r1c2-t4">
<p><code>SIGNAL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t4" headers="r1c1-t4">
<p><code>ORU-10023 lock request error; status N</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t4 r1c2-t4">
<p><code>WAITONE</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t4" headers="r1c1-t4">
<p><code>ORU-10024 there are no alerts registered</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t4 r1c2-t4">
<p><code>WAITANY</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t4" headers="r1c1-t4">
<p><code>ORU-10025 lock request error; status N</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t4 r1c2-t4">
<p><code>REGISTER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t4" headers="r1c1-t4">
<p><code>ORU-10037 attempting to wait on uncommitted signal from same session</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t4 r1c2-t4">
<p><code>WAITONE</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65180" class="refsect2"><a id="CHDHACEG"></a>
<hr />
<h3 class="refsect2">Examples</h3>
<p>Suppose you want to graph average salaries by department, for all employees. Your application needs to know whenever <code>EMP</code> is changed. Your application would look similar to this code:</p>
<pre>
DBMS_ALERT.REGISTER('emp_table_alert');
    &lt;&lt;readagain&gt;&gt;: 
   /* ... read the emp table and graph it */ 
      DBMS_ALERT.WAITONE('emp_table_alert', :message, :status); 
      if status = 0 then goto &lt;&lt;readagain&gt;&gt;; else 
      /* ... error condition */ 
</pre>
<p>The <code>EMP</code> table would have a trigger similar to this:</p>
<pre>
CREATE TRIGGER emptrig AFTER INSERT OR UPDATE OR DELETE ON emp
    BEGIN 
      DBMS_ALERT.SIGNAL('emp_table_alert', 'message_text'); 
   END;
</pre>
<p>When the application is no longer interested in the alert, it makes this request:</p>
<pre>
DBMS_ALERT.REMOVE('emp_table_alert');
</pre>
<p>This reduces the amount of work required by the alert signaller. If a session exits (or dies) while registered alerts exist, the alerts are eventually cleaned up by future users of this package.</p>
<p>The example guarantees that the application always sees the latest data, although it may not see every intermediate value.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHDCFHCI"></a>
<hr />
<div id="ARPLS65181" class="refsect1">
<h2 class="refsect1">Summary of DBMS_ALERT Subprograms</h2>
<div id="ARPLS65182" class="tblformal">
<p class="titleintable"><a id="sthref447"></a><a id="sthref448"></a>Table 19-3 DBMS_ALERT Package Subprograms</p>
<table class="cellalignment1229" title=" DBMS_ALERT Package Subprograms" summary="This table lists the DBMS_ALERT subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><a href="#CHDGHFAJ">REGISTER Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>Receives messages from an alert</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><a href="#i1001245">REMOVE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>Disables notification from an alert</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p><a href="#CIHDJEII">REMOVEALL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>Removes all alerts for this session from the registration list</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">
<p><a href="#i997010">SET_DEFAULTS Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p>Sets the polling interval</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t5" headers="r1c1-t5">
<p><a href="#i997031">SIGNAL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c2-t5">
<p>Signals an alert (send message to registered sessions)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t5" headers="r1c1-t5">
<p><a href="#i997060">WAITANY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c2-t5">
<p>Waits <code>timeout</code> seconds to receive alert message from an alert registered for session</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t5" headers="r1c1-t5">
<p><a href="#i997104">WAITONE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c2-t5">
<p>Waits <code>timeout</code> seconds to receive message from named alert</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS73125" class="refsect2"><a id="CHDGHFAJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref449"></a>REGISTER Procedure</h3>
<p>This procedure lets a session register interest in an alert.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref450"></a>Syntax</p>
<pre>
DBMS_ALERT.REGISTER (
   name      IN  VARCHAR2,
   cleanup   IN  BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref451"></a>Parameters</p>
<div id="ARPLS73126" class="tblformal">
<p class="titleintable"><a id="sthref452"></a><a id="sthref453"></a>Table 19-4 REGISTER Procedure Parameters</p>
<table class="cellalignment1229" title="REGISTER Procedure Parameters" summary="This table describes the parameters of DBMS_ALERT.REGISTER." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>Name of the alert in which this session is interested</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>cleanup</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p>Specifies whether to perform cleanup of any extant orphaned pipes used by the <code>DBMS_ALERT</code> package. This cleanup is only performed on the first call to <code>REGISTER</code> for each package instantiation. The default for the parameter is <code>TRUE</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">Alert names beginning with 'ORA$' are reserved for use for products provided by Oracle. Names must be 30 bytes or less. The name is case insensitive.</p>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref454"></a>Usage Notes</p>
<p>A session can register interest in an unlimited number of alerts. Alerts should be deregistered when the session no longer has any interest, by calling <code>REMOVE</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65185" class="refsect2"><a id="i1001245"></a>
<hr />
<h3 class="refsect2"><a id="sthref455"></a>REMOVE Procedure</h3>
<p>This procedure enables a session that is no longer interested in an alert to remove that alert from its registration list. Removing an alert reduces the amount of work done by signalers of the alert.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref456"></a>Syntax</p>
<pre>
DBMS_ALERT.REMOVE (
   name  IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref457"></a>Parameters</p>
<div id="ARPLS65186" class="tblformal">
<p class="titleintable"><a id="sthref458"></a><a id="sthref459"></a>Table 19-5 REMOVE Procedure Parameters</p>
<table class="cellalignment1229" title="REMOVE Procedure Parameters" summary="This table describes the parameters of DBMS_ALERT.REMOVE." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t8">Parameter</th>
<th class="cellalignment1227" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t8" headers="r1c1-t8">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t8 r1c2-t8">
<p>Name of the alert (case-insensitive) to be removed from registration list.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref460"></a>Usage Notes</p>
<p>Removing alerts is important because it reduces the amount of work done by signalers of the alert. If a session dies without removing the alert, that alert is eventually (but not immediately) cleaned up.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65187" class="refsect2"><a id="CIHDJEII"></a>
<hr />
<h3 class="refsect2"><a id="sthref461"></a>REMOVEALL Procedure</h3>
<p>This procedure removes all alerts for this session from the registration list. You should do this when the session is no longer interested in any alerts.</p>
<p>This procedure is called automatically upon first reference to this package during a session. Therefore, no alerts from prior sessions which may have terminated abnormally can affect this session.</p>
<p>This procedure always performs a commit.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref462"></a>Syntax</p>
<pre>
DBMS_ALERT.REMOVEALL;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65188" class="refsect2"><a id="i997010"></a>
<hr />
<h3 class="refsect2"><a id="sthref463"></a>SET_DEFAULTS Procedure</h3>
<p>In case a polling loop is required, use the <code>SET_DEFAULTS</code> procedure to set the polling interval.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref464"></a>Syntax</p>
<pre>
DBMS_ALERT.SET_DEFAULTS (
   sensitivity  IN  NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref465"></a>Parameters</p>
<div id="ARPLS65189" class="tblformal">
<p class="titleintable"><a id="sthref466"></a><a id="sthref467"></a>Table 19-6 SET_DEFAULTS Procedure Parameters</p>
<table class="cellalignment1229" title="SET_DEFAULTS Procedure Parameters" summary="DBMS_ALERT.SET_DEFAULTS" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t9">Parameter</th>
<th class="cellalignment1227" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t9" headers="r1c1-t9">
<p><code>sensitivity</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c2-t9">
<p>Polling interval, in seconds, to sleep between polls. The default interval is five seconds.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65190" class="refsect2"><a id="i997031"></a>
<hr />
<h3 class="refsect2"><a id="sthref468"></a>SIGNAL Procedure</h3>
<p>This procedure signals an alert. The effect of the <code>SIGNAL</code> call only occurs when the transaction in which it is made commits. If the transaction rolls back, <code>SIGNAL</code> has no effect.</p>
<p>All sessions that have registered interest in this alert are notified. If the interested sessions are currently waiting, they are awakened. If the interested sessions are not currently waiting, they are notified the next time they do a wait call.</p>
<p>Multiple sessions can concurrently perform signals on the same alert. Each session, as it signals the alert, blocks all other concurrent sessions until it commits. This has the effect of serializing the transactions.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref469"></a>Syntax</p>
<pre>
DBMS_ALERT.SIGNAL (
   name     IN  VARCHAR2,
   message  IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref470"></a>Parameters</p>
<div id="ARPLS65191" class="tblformal">
<p class="titleintable"><a id="sthref471"></a><a id="sthref472"></a>Table 19-7 SIGNAL Procedure Parameters</p>
<table class="cellalignment1229" title="SIGNAL Procedure Parameters " summary="This table describes the parameters of DBMS_ALERT.SIGNAL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t10">Parameter</th>
<th class="cellalignment1227" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t10" headers="r1c1-t10">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t10 r1c2-t10">
<p>Name of the alert to signal.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t10" headers="r1c1-t10">
<p><code>message</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t10 r1c2-t10">
<p>Message, of 1800 bytes or less, to associate with this alert.</p>
<p>This message is passed to the waiting session. The waiting session might be able to avoid reading the database after the alert occurs by using the information in the message.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65192" class="refsect2"><a id="i997060"></a>
<hr />
<h3 class="refsect2"><a id="sthref473"></a>WAITANY Procedure</h3>
<p>Call this procedure to wait for an alert to occur for any of the alerts for which the current session is registered.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref474"></a>Syntax</p>
<pre>
DBMS_ALERT.WAITANY (
   name      OUT  VARCHAR2,
   message   OUT  VARCHAR2,
   status    OUT  INTEGER,
   timeout   IN   NUMBER DEFAULT MAXWAIT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref475"></a>Parameters</p>
<div id="ARPLS65193" class="tblformal">
<p class="titleintable"><a id="sthref476"></a><a id="sthref477"></a>Table 19-8 WAITANY Procedure Parameters</p>
<table class="cellalignment1229" title="WAITANY Procedure Parameters " summary="This table describes the parameters of DBMS_ALERT.WAITANY." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t11">Parameter</th>
<th class="cellalignment1227" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t11" headers="r1c1-t11">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t11 r1c2-t11">
<p>Returns the name of the alert that occurred.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t11" headers="r1c1-t11">
<p><code>message</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t11 r1c2-t11">
<p>Returns the message associated with the alert.</p>
<p>This is the message provided by the <code>SIGNAL</code> call. If multiple signals on this alert occurred before <code>WAITANY</code>, the message corresponds to the most recent <code>SIGNAL</code> call. Messages from prior <code>SIGNAL</code> calls are discarded.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t11" headers="r1c1-t11">
<p><code>status</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t11 r1c2-t11">
<p>Values returned:</p>
<p>0 - alert occurred</p>
<p>1 - timeout occurred</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t11" headers="r1c1-t11">
<p><code>timeout</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t11 r1c2-t11">
<p>Maximum time to wait for an alert.</p>
<p>If no alert occurs before <code>timeout</code> seconds, this returns a status of 1.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref478"></a>Usage Notes</p>
<p>An implicit <code>COMMIT</code> is issued before this procedure is executed. The same session that waits for the alert may also first signal the alert. In this case remember to commit after the signal and before the wait; otherwise, <code>DBMS_LOCK</code>.<code>REQUEST</code> (which is called by <code>DBMS_ALERT</code>) returns status 4.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref479"></a>Exceptions</p>
<pre>
-20000, ORU-10024: there are no alerts registered.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65194" class="refsect2"><a id="i997104"></a>
<hr />
<h3 class="refsect2"><a id="sthref480"></a>WAITONE Procedure</h3>
<p>This procedure waits for a specific alert to occur. An implicit <code>COMMIT</code> is issued before this procedure is executed. A session that is the first to signal an alert can also wait for the alert in a subsequent transaction. In this case, remember to commit after the signal and before the wait; otherwise, <code>DBMS_LOCK</code>.<code>REQUEST</code> (which is called by <code>DBMS_ALERT</code>) returns status 4.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref481"></a>Syntax</p>
<pre>
DBMS_ALERT.WAITONE (
   name      IN   VARCHAR2,
   message   OUT  VARCHAR2,
   status    OUT  INTEGER,
   timeout   IN   NUMBER DEFAULT MAXWAIT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref482"></a>Parameters</p>
<div id="ARPLS65195" class="tblformal">
<p class="titleintable"><a id="sthref483"></a><a id="sthref484"></a>Table 19-9 WAITONE Procedure Parameters</p>
<table class="cellalignment1229" title=" WAITONE Procedure Parameters " summary="This table describes the parameters of DBMS_ALERT.WAITONE." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Parameter</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>Name of the alert to wait for.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>message</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p>Returns the message associated with the alert.</p>
<p>This is the message provided by the <code>SIGNAL</code> call. If multiple signals on this alert occurred before <code>WAITONE</code>, the message corresponds to the most recent <code>SIGNAL</code> call. Messages from prior <code>SIGNAL</code> calls are discarded.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t12" headers="r1c1-t12">
<p><code>status</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t12 r1c2-t12">
<p>Values returned:</p>
<p>0 - alert occurred</p>
<p>1 - timeout occurred</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t12" headers="r1c1-t12">
<p><code>timeout</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t12 r1c2-t12">
<p>Maximum time to wait for an alert.</p>
<p>If the named alert does not occurs before <code>timeout</code> seconds, this returns a status of 1.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_advis.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_appinf.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
