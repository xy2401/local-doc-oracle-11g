<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_COMPRESSION</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_comparison.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_connection_pool.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">40/265</span> <!-- End Header -->
<div id="ARPLS236" class="chapter"><a id="BEIHIIDI"></a>
<h1 class="chapter"><span class="secnum">36</span> DBMS_COMPRESSION</h1>
<p>The <code>DBMS_COMPRESSION</code> package provides an interface to facilitate choosing the correct compression level for an application.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11630" href="../../server.112/e25494/tables.htm#ADMIN11630"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
<li>
<p><a class="olink CNCPT1132" href="../../server.112/e40540/tablecls.htm#CNCPT1132"><span class="italic">Oracle Database Concepts</span></a></p>
</li>
<li>
<p><a class="olink SQLRF54484" href="../../server.112/e41084/statements_7002.htm#SQLRF54484"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</li>
<li>
<p><a class="olink TDPDW12080" href="../../server.112/e25555/tdpdw_perform.htm#TDPDW12080"><span class="italic">Oracle Database 2 Day + Data Warehousing Guide</span></a></p>
</li>
<li>
<p><a class="olink DWHSG00833" href="../../server.112/e25554/basicmv.htm#DWHSG00833"><span class="italic">Oracle Database Data Warehousing Guide</span></a></p>
</li>
<li>
<p><a class="olink VLDBG00404" href="../../server.112/e25523/part_avail.htm#VLDBG00404"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
</li>
<li>
<p><a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a></p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BEIHIJBI">Using DBMS_COMPRESSION</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Views</p>
</li>
</ul>
</li>
<li>
<p><a href="#BEIJJDAC">Summary of DBMS_COMPRESSION Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BEIHIJBI"></a>
<hr />
<div id="ARPLS65598" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_COMPRESSION</h2>
<ul>
<li>
<p><a href="#BEIHFJBH">Overview</a></p>
</li>
<li>
<p><a href="#BEIGCCHE">Security Model</a></p>
</li>
<li>
<p><a href="#BEIJJEAD">Constants</a></p>
</li>
<li>
<p><a href="#BEIGJDFE">Views</a></p>
</li>
</ul>
<div id="ARPLS65599" class="refsect2"><a id="BEIHFJBH"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>The <code>DBMS_COMPRESSION</code> package gathers compression-related information within a database environment. This includes tools for estimating compressibility of a table for both partitioned and non-partitioned tables, and gathering row-level compression information on previously compressed tables. This gives the user with adequate information to make compression-related decision.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65600" class="refsect2"><a id="BEIGCCHE"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>The <code>DBMS_COMPRESSSION</code> package is owned by user <code>SYS</code>, and must be created by <code>SYS</code>. The execution privilege is granted to <code>PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72894" class="refsect2"><a id="BEIJJEAD"></a>
<hr />
<h3 class="refsect2">Constants</h3>
<p>The <code>DBMS_COMPRESSION</code> package uses the constants shown in <a href="#BEIIJIBE">Table 36-1, "DBMS_COMPRESSION Constants - Compression Types"</a>e:</p>
<div class="tblformal">
<p class="titleintable"><a id="sthref1661"></a><a id="BEIIJIBE"></a>Table 36-1 DBMS_COMPRESSION Constants - Compression Types</p>
<table class="cellalignment1229" title="DBMS_COMPRESSION Constants - Compression Types" summary="This table describes DBMS_DBFS_CONTENT Constants - Chunk Status Value" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Constant</th>
<th class="cellalignment1227" id="r1c2-t3">Type</th>
<th class="cellalignment1227" id="r1c3-t3">Value</th>
<th class="cellalignment1227" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><code>COMP_NOCOMPRESS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c3-t3">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c4-t3">
<p>No compression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><code>COMP_FOR_OLTP</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c3-t3">
<p><code>2</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c4-t3">
<p>OLTP compression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><code>COMP_FOR_QUERY_HIGH</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c3-t3">
<p><code>4</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c4-t3">
<p>High compression level for query operations</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t3" headers="r1c1-t3">
<p><code>COMP_FOR_QUERY_LOW</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c3-t3">
<p><code>8</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c4-t3">
<p>Low compression level for query operations</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t3" headers="r1c1-t3">
<p><code>COMP_FOR_ARCHIVE_HIGH</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c3-t3">
<p><code>16</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c4-t3">
<p>High compression level for archive operations</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t3" headers="r1c1-t3">
<p><code>COMP_FOR_ARCHIVE_LOW</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c3-t3">
<p><code>32</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c4-t3">
<p>Low compression level for archive operations</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t3" headers="r1c1-t3">
<p><code>COMP_BLOCK</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t3 r1c3-t3">
<p><code>64</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t3 r1c4-t3">
<p>Compression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t3" headers="r1c1-t3">
<p><code>COMP_RATIO_MINROWS</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t3 r1c3-t3">
<p><code>1000000</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t3 r1c4-t3">
<p>Minimum required number of rows in the object for which HCC ratio is to be estimated</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t3" headers="r1c1-t3">
<p><code>COMP_RATIO_ALLROWS</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t3 r1c2-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t3 r1c3-t3">
<p><code>-1</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t3 r1c4-t3">
<p>To indicate the use of all the rows in the object to estimate HCC ratio</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
Hybrid columnar compression is a feature of certain Oracle storage systems. See <a class="olink CNCPT89198" href="../../server.112/e40540/tablecls.htm#CNCPT89198"><span class="italic">Oracle Database Concepts</span></a> for more information.</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72966" class="refsect2"><a id="BEIGJDFE"></a>
<hr />
<h3 class="refsect2">Views</h3>
<p>The <code>DBMS_COMPRESSION</code> package uses views described in the <a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a>. The twenty catalog views that contain a <code>COMPRESS_FOR</code> or <code>DEF_COMPRESS_FOR</code> will have a list of valid displayed values to be one of the following:</p>
<ul>
<li>
<p><code>BASIC</code></p>
</li>
<li>
<p><code>OLTP</code></p>
</li>
<li>
<p><code>QUERY</code> <code>LOW</code></p>
</li>
<li>
<p><code>QUERY</code> <code>HIGH</code></p>
</li>
<li>
<p><code>ARCHIVE</code> <code>LOW</code></p>
</li>
<li>
<p><code>ARCHIVE</code> <code>HIGH</code></p>
</li>
</ul>
<p>The affected views are:</p>
<ul>
<li>
<p><a class="olink REFRN20003" href="../../server.112/e40402/statviews_1003.htm#REFRN20003"><code>ALL_ALL_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN20145" href="../../server.112/e40402/statviews_1157.htm#REFRN20145"><code>ALL_OBJECT_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN20159" href="../../server.112/e40402/statviews_2006.htm#REFRN20159"><code>ALL_PART_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN20286" href="../../server.112/e40402/statviews_2117.htm#REFRN20286"><code>ALL_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN20281" href="../../server.112/e40402/statviews_2108.htm#REFRN20281"><code>ALL_TAB_PARTITIONS</code></a></p>
</li>
<li>
<p><a class="olink REFRN20285" href="../../server.112/e40402/statviews_2116.htm#REFRN20285"><code>ALL_TAB_SUBPARTITIONS</code></a></p>
</li>
<li>
<p><a class="olink REFRN23003" href="../../server.112/e40402/statviews_3045.htm#REFRN23003"><code>DBA_ALL_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN23145" href="../../server.112/e40402/statviews_4157.htm#REFRN23145"><code>DBA_OBJECT_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN23159" href="../../server.112/e40402/statviews_4177.htm#REFRN23159"><code>DBA_PART_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN23286" href="../../server.112/e40402/statviews_5056.htm#REFRN23286"><code>DBA_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN23281" href="../../server.112/e40402/statviews_5049.htm#REFRN23281"><code>DBA_TAB_PARTITIONS</code></a></p>
</li>
<li>
<p><a class="olink REFRN23285" href="../../server.112/e40402/statviews_5055.htm#REFRN23285"><code>DBA_TAB_SUBPARTITIONS</code></a></p>
</li>
<li>
<p><a class="olink REFRN23287" href="../../server.112/e40402/statviews_5060.htm#REFRN23287"><code>DBA_TABLESPACES</code></a></p>
</li>
<li>
<p><a class="olink REFRN26145" href="../../server.112/e40402/statviews_5375.htm#REFRN26145"><code>USER_OBJECT_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN26159" href="../../server.112/e40402/statviews_5392.htm#REFRN26159"><code>USER_PART_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN26286" href="../../server.112/e40402/statviews_5490.htm#REFRN26286"><code>USER_TABLES</code></a></p>
</li>
<li>
<p><a class="olink REFRN26281" href="../../server.112/e40402/statviews_5481.htm#REFRN26281"><code>USER_TAB_PARTITIONS</code></a></p>
</li>
<li>
<p><a class="olink REFRN26287" href="../../server.112/e40402/statviews_5491.htm#REFRN26287"><code>USER_TABLESPACES</code></a></p>
</li>
</ul>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BEIJJDAC"></a>
<hr />
<div id="ARPLS65601" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_COMPRESSION Subprograms</h2>
<div id="ARPLS65602" class="tblformal">
<p class="titleintable"><a id="sthref1662"></a><a id="sthref1663"></a>Table 36-2 DBMS_COMPRESSION Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_COMPRESSION Package Subprograms" summary="DBMS_COMPRESSION Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><a href="#BEICEJED">GET_COMPRESSION_RATIO Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>Analyzes the compression ratio of a table, and gives information about compressibility of a table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><a href="#BEIFFAHJ">GET_COMPRESSION_TYPE Function</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>Returns the compression type for a specified row</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="refsect2"><a id="BEICEJED"></a>
<hr />
<h3 class="refsect2"><a id="sthref1664"></a>GET_COMPRESSION_RATIO Procedure</h3>
<p>This procedure analyzes the compression ratio of a table, and gives information about compressibility of a table. Various parameters can be provided by the user to selectively analyze different compression types.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1665"></a>Syntax</p>
<pre>
DBMS_COMPRESSION.GET_COMPRESSION_RATIO (
   scratchtbsname        IN     VARCHAR2,
   ownname               IN     VARCHAR2,
   tabname               IN     VARCHAR2,
   partname              IN     VARCHAR2,
   comptype              IN     NUMBER,
   blkcnt_cmp            OUT    PLS_INTEGER,
   blkcnt_uncmp          OUT    PLS_INTEGER,
   row_cmp               OUT    PLS_INTEGER,
   row_uncmp             OUT    PLS_INTEGER,
   cmp_ratio             OUT    NUMBER,
   comptype_str          OUT    VARCHAR2,   subset_numrows        IN     NUMBER DEFAULT COMP_RATIO_MINROWS); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1666"></a>Parameters</p>
<div class="tblformal">
<p class="titleintable"><a id="sthref1667"></a><a id="sthref1668"></a>Table 36-3 GET_COMPRESSION_RATIO Procedure Parameters</p>
<table class="cellalignment1229" title="GET_COMPRESSION_RATIO Procedure Parameters" summary="This table describes the Parameters of DBMS_COMPRESSION.GET_COMPRESSION_RATIO subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>scratchtbsname</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>Temporary scratch tablespace that can be used for analysis</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>ownname</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p>Schema of the table to analyze</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p><code>tabname</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p>Name of the table to analyze</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t6" headers="r1c1-t6">
<p><code>partname</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t6 r1c2-t6">
<p>In case of partitioned tables, the related partition name</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t6" headers="r1c1-t6">
<p><code>comptype</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t6 r1c2-t6">
<p>Compression types for which analysis should be performed</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t6" headers="r1c1-t6">
<p><code>blkcnt_cmp</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t6 r1c2-t6">
<p>Number of blocks used by compressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t6" headers="r1c1-t6">
<p><code>blkcnt_uncmp</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t6 r1c2-t6">
<p>Number of blocks used by uncompressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t6" headers="r1c1-t6">
<p><code>row_cmp</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t6 r1c2-t6">
<p>Number of rows in a block in compressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t6" headers="r1c1-t6">
<p><code>row_uncmp</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t6 r1c2-t6">
<p>Number of rows in a block in uncompressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t6" headers="r1c1-t6">
<p><code>cmp_ratio</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t6 r1c2-t6">
<p>Compression ratio, <code>blkcnt_uncmp</code> divided by <code>blkcnt_cmp</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t6" headers="r1c1-t6">
<p><code>comptype_str</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t6 r1c2-t6">
<p>String describing the compression type</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t6" headers="r1c1-t6">
<p><code>subset_numrows</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t6 r1c2-t6">
<p>Number of rows sampled to estimate compression ratio.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1669"></a>Usage Notes</p>
<p>The procedure creates different tables in the scratch tablespace and runs analysis on these objects. It does not modify anything in the user-specified tables.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65609" class="refsect2"><a id="BEIFFAHJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref1670"></a>GET_COMPRESSION_TYPE Function</h3>
<p>This function returns the compression type for a specified row. If the row is chained, the function returns the compression type of the head piece only, and does not examine the intermediate or the tail piece since head pieces can be differently compressed.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1671"></a>Syntax</p>
<pre>
DBMS_COMPRESSION.GET_COMPRESSION_TYPE (
   ownname    IN    VARCHAR2, 
   tabname    IN    VARCHAR2, 
   row_id     IN    ROWID)
  RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1672"></a>Parameters</p>
<div id="ARPLS65610" class="tblformal">
<p class="titleintable"><a id="sthref1673"></a><a id="sthref1674"></a>Table 36-4 GET_COMPRESSION_TYPE Function Parameters</p>
<table class="cellalignment1229" title="GET_COMPRESSION_TYPE Function Parameters" summary="This table describes the Parameters of DBMS_COMPRESSION.GET_COMPRESSION_RATIO subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t7">Parameter</th>
<th class="cellalignment1227" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t7" headers="r1c1-t7">
<p><code>ownname</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t7 r1c2-t7">
<p>Schema name of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t7" headers="r1c1-t7">
<p><code>tabname</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t7 r1c2-t7">
<p>Name of table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t7" headers="r1c1-t7">
<p><code>rowid</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t7 r1c2-t7">
<p>Rowid of the row</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1675"></a>Return Values</p>
<p>Flag to indicate the compression type (see <a href="#BEIIJIBE">DBMS_COMPRESSION Constants - Compression Types</a>).</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_comparison.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_connection_pool.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
