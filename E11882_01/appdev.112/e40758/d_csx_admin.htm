<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_CSX_ADMIN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_crypto.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_cube.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">44/265</span> <!-- End Header -->
<div id="ARPLS033" class="chapter"><a id="CDCDHGGF"></a>
<h1 class="chapter"><span class="secnum">40</span> DBMS_CSX_ADMIN</h1>
<p>The <a id="sthref1846"></a><code>DBMS_CSX_ADMIN</code> package provides an interface to customize the setup when transporting a tablespace containing binary XML data.</p>
<p>The chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CBHCEADI">Using DBMS_CSX_ADMIN</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
</ul>
</li>
<li>
<p><a href="#CBHFFECI">Summary of DBMS_CSX_ADMIN</a></p>
</li>
</ul>
<div class="refentry"><a id="CBHCEADI"></a>
<hr />
<div id="ARPLS65708" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_CSX_ADMIN</h2>
<ul>
<li>
<p><a href="#CDCGDAAF">Overview</a></p>
</li>
<li>
<p><a href="#CDCIBEDJ">Security Model</a></p>
</li>
<li>
<p><a href="#CDCCADHH">Constants</a></p>
</li>
</ul>
<div id="ARPLS65709" class="refsect2"><a id="CDCGDAAF"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>This package can be used by DBAs to customize the setup when transporting a tablespace containing binary XML data. The use of the package is not required in order for a transportable tablespace job to run.</p>
<p>By default, all binary XML tables will use the default token table set, which will be replicated during transport on the target database. To avoid the cost of transporting a potentially large token table set, the DBA may opt for registering a new set of token tables for a given tablespace. The package provides routines for token table set registration and lookup.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73546" class="refsect2"><a id="CDCIBEDJ"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>Owned by <code>XDB</code>, the <code>DBMS_CSX_ADMIN</code> package must be created by <code>SYS</code> or <code>XDB</code>. The <code>EXECUTE</code> privilege is granted to <code>SYS</code> or <code>XDB</code> or <code>DBA</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65710" class="refsect2"><a id="CDCCADHH"></a>
<hr />
<h3 class="refsect2">Constants</h3>
<p>The <code>DBMS_CSX_ADMIN</code> package uses the constants shown in <a href="#CDCGIDFE">Table 40-1</a>:</p>
<div id="ARPLS65711" class="tblformal">
<p class="titleintable"><a id="sthref1847"></a><a id="CDCGIDFE"></a>Table 40-1 DBMS_CSX_ADMIN Constants</p>
<table class="cellalignment1229" title="DBMS_CSX_ADMIN Constants" summary="This table describes constants used by DBMS_CSX_ADMIN subprograms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t2">Name</th>
<th class="cellalignment1227" id="r1c2-t2">Type</th>
<th class="cellalignment1227" id="r1c3-t2">Value</th>
<th class="cellalignment1227" id="r1c4-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t2" headers="r1c1-t2">
<p><code>DEFAULT_LEVEL</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c3-t2">
<p><code>0</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c4-t2">
<p>Default token table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t2" headers="r1c1-t2">
<p><code>TAB_LEVEL</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t2 r1c3-t2">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t2 r1c4-t2">
<p>Token table set associated with tables, not tablespaces</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t2" headers="r1c1-t2">
<p><code>TBS_LEVEL</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t2 r1c3-t2">
<p><code>2</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t2 r1c4-t2">
<p>Token table set associated with a tablespace</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t2" headers="r1c1-t2">
<p><code>NO_CREATE</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t2 r1c3-t2">
<p><code>0</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t2 r1c4-t2">
<p>Token tables already exist, associate them with the given table/tablespace</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t2" headers="r1c1-t2">
<p><code>NO_INDEXES</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t2 r1c3-t2">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t2 r1c4-t2">
<p>Do not create indexes on the new set of token tables</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t2" headers="r1c1-t2">
<p><code>WITH_INDEXES</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t2 r1c3-t2">
<p><code>2</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t2 r1c4-t2">
<p>Create indexes on the token tables</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t2" headers="r1c1-t2">
<p><code>DEFAULT_TOKS</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t2 r1c3-t2">
<p><code>0</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t2 r1c4-t2">
<p>Prepopulate the token tables with default token mappings</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t2" headers="r1c1-t2">
<p><code>NO_DEFAULT_TOKS</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t2 r1c2-t2">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t2 r1c3-t2">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t2 r1c4-t2">
<p>Do not prepopulate the token tables with default token mappings</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65712" class="refsect2">
<hr />
<a id="sthref1848"></a>
<h3 class="refsect2">Examples</h3>
<p class="subhead2"><a id="ARPLS65713"></a>Example 1: Register a New Set of Token Tables for the Tablespace</p>
<p>To prepare a tablespace CSXTS for export, the DBA can register a new set of token tables for the tablespace with the following PL/SQL:</p>
<pre>
DECLARE
  tsno   number;
  stmt   varchar2(2000);
BEGIN
  stmt := 'SELECT ts# FROM ts$ WHERE (name = ''' || 'CSXTS' || ''')';
  EXECUTE IMMEDIATE stmt into tsno;
  DBMS_CSX_ADMIN.REGISTERTOKENTABLESET(
    tstabno     =&gt;  tsno, 
    guid        =&gt;  NULL,
    flags       =&gt;  DBMS_CSX_ADMIN.TBS_LEVEL, 
    tocreate    =&gt;  DBMS_CSX_ADMIN.WITH_INDEXES,
    defaulttoks =&gt;  DBMS_CSX_ADMIN.DEFAULT_TOKS);
  COMMIT;
END;
/
</pre>
<p>In this example, the new token tables are indexed, populated with default token mappings, and associated with all tables in the <code>CSXTS</code> tablespace. All subsequent loads of binary XML data in <code>CSXTS</code> will make use of the new set of token tables. The advantage is that no loading of binary XML data in other tablespaces will affect the size of the token tables used by <code>CSXTS</code> and exported during a tablespace export of <code>CSXTS</code>. This setup is suited to the case in which the tablespace does not yet contain binary XML data.</p>
<p class="subhead2"><a id="ARPLS65714"></a>Example 2: Copying the Default Token Tables in a New Set</p>
<p>If binary XML data already exists in the tablespace to be exported, the DBA has the option of copying the default token tables in a new set.</p>
<pre>
DECLARE
  tsno   number;
  stmt   varchar2(2000);
  qntab  varchar2(34);
  nmtab  varchar2(34);
  pttab  varchar2(34);
BEGIN
  stmt := 'select ts# from ts$ where (name = ''' || 'CSXTS' || ''')';
  EXECUTE IMMEDIATE stmt INTO tsno;
  DBMS_CSX_ADMIN.COPYDEFAULTTOKENTABLESET(
    tstabno =&gt; tsno, qntab, nmtab, pttatb);
  COMMIT;
END;
/
</pre>
<p>This setup is suited to the case in which the DBA wishes to optimize the export of a tablespace that already contains binary XML data, and does not have associated a token table set. After cloning the default token table set, all subsequent loads of binary XML data in <code>CSXTS</code> will make use of the new set of token tables.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CBHFFECI"></a>
<hr />
<div id="ARPLS65715" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_CSX_ADMIN</h2>
<div id="ARPLS65716" class="tblformal">
<p class="titleintable"><a id="sthref1849"></a><a id="sthref1850"></a>Table 40-2 DBMS_CSX_ADMIN Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_CSX_ADMIN Package Subprograms" summary="DBMS_CSX_ADMIN Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#CBHDCDGF">COPYDEFAULTTOKENTABLESET Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p>Creates a new token table set associated with a given tablespace, and populates the token tables with the token mappings from the default token tables</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#CDCJIGCA">GETTOKENTABLEINFO Procedure &amp; Function</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p>Returns the GUID of the token table set where token mappings for this table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#CDCCAFJF">GETTOKENTABLEINFOBYTABLESPACE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>Returns the GUID and the token table names for this tablespace</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#CDCIFICC">NAMESPACEIDTABLE Function</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c2-t3">
<p>Returns default namespace-ID token table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#CDCEBIBJ">PATHIDTABLE Function</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c2-t3">
<p>Returns the default path-ID token table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#CDCIAICI">QNAMEIDTABLE Function</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c2-t3">
<p>Returns the default qname-ID token table.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#CDCFCBFA">REGISTERTOKENTABLESET Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t3 r1c2-t3">
<p>Registers a new token table set, creates (if required) the token tables (with the corresponding indexes)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS65717" class="refsect2"><a id="CBHDCDGF"></a>
<hr />
<h3 class="refsect2"><a id="sthref1851"></a>COPYDEFAULTTOKENTABLESET Procedure</h3>
<p>This procedure creates a new token table set associated with a given tablespace, and populates the token tables with the token mappings from the default token tables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1852"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.COPYDEFAULTTOKENTABLESET  (
   tsno         IN    NUMBER,
   qnametable   OUT   VARCHAR2,
   nmspctable   OUT   VARCHAR2,
   pttable      OUT   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1853"></a>Parameters</p>
<div id="ARPLS65718" class="tblformal">
<p class="titleintable"><a id="sthref1854"></a><a id="sthref1855"></a>Table 40-3 COPYDEFAULTTOKENTABLESET Procedure Parameters</p>
<table class="cellalignment1229" title="COPYDEFAULTTOKENTABLESET Procedure Parameters" summary="This table describes the Parameters of DBMS_CSX_ADMIN.COPYDEFAULTTOKENTABLESET subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Parameter</th>
<th class="cellalignment1227" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>tsno</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p>Tablespace number the new set of token tables will be associated with</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t4" headers="r1c1-t4">
<p><code>qnametable</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c2-t4">
<p>Name of the qname-ID table in the new set</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t4" headers="r1c1-t4">
<p><code>nmspctable</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c2-t4">
<p>Name of the namespace-ID table in the new set</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t4" headers="r1c1-t4">
<p><code>pttable</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c2-t4">
<p>Name of the path-id table in the new set</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65719" class="refsect2"><a id="CDCJIGCA"></a>
<hr />
<h3 class="refsect2"><a id="sthref1856"></a>GETTOKENTABLEINFO Procedure &amp; Function</h3>
<p>Given the table name and the owner, the first overload of the procedure returns the globally unique identifier (GUID) of the token table set where token mappings for this table can be found. The procedure returns also the names of the token tables, and whether the token table set is the default one.</p>
<p>Given the object number of a table, the second overload of the procedure returns the GUID of the token table set used by the table, and whether this is the default token table set.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1857"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.GETTOKENTABLEINFO  (
   ownername      IN   VARCHAR2,
   tablename      IN   VARCHAR2,
   guid           OUT  RAW,
   qnametable     OUT  VARCHAR2,
   nmspctable     OUT  VARCHAR2,
   level          OUT  NUMBER,
   tabno          OUT  NUMBER);
</pre>
<pre>
DBMS_CSX_ADMIN.GETTOKENTABLEINFO  (
   tabno          IN   NUMBER,
   guid           OUT  RAW);
 RETURN BOOLEAN;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1858"></a>Parameters</p>
<div id="ARPLS65720" class="tblformal">
<p class="titleintable"><a id="sthref1859"></a><a id="sthref1860"></a>Table 40-4 GETTOKENTABLEINFO Procedure &amp; Function Parameters</p>
<table class="cellalignment1229" title="GETTOKENTABLEINFO Procedure &amp; Function Parameters" summary="This table describes the Parameters of DBMS_CSX_ADMIN.GETTOKENTABLEINFO subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Parameter</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>ownername</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>Owner of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><code>tablename</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>Name of the table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p><code>guid</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>GUID of the token table set used by the given table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">
<p><code>qnametable</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p>Name of the qname-ID table in the new set</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t5" headers="r1c1-t5">
<p><code>nmspctable</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c2-t5">
<p>Name of the namespace-ID table in the new set</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t5" headers="r1c1-t5">
<p><code>level</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c2-t5">
<p><code>DEFAULT_LEVEL</code> if default token table set, <code>TBS_LEVEL</code> if same token table set is used by all tables in the same tablespace as the given table, <code>TAB_LEVEL</code> otherwise</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t5" headers="r1c1-t5">
<p><code>tabno</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c2-t5">
<p>Table object number</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65721" class="refsect2"><a id="CDCCAFJF"></a>
<hr />
<h3 class="refsect2"><a id="sthref1861"></a>GETTOKENTABLEINFOBYTABLESPACE Procedure</h3>
<p>Given a tablespace number, this procedure returns the GUID and the token table names for this tablespace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1862"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.GETTOKENTABLEINFOBYTABLESPACE  (
   tsname          IN   VARCHAR2,
   tablespaceno    IN   NUMBER,
   guid            OUT  RAW,
   qnametable      OUT  VARCHAR2,
   nmspctable      OUT  VARCHAR2,
   isdefault       OUT  BOOLEAN,
   containTokTab   OUT  BOOLEAN);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1863"></a>Parameters</p>
<div id="ARPLS65722" class="tblformal">
<p class="titleintable"><a id="sthref1864"></a><a id="sthref1865"></a>Table 40-5 GETTOKENTABLEINFOBYTABLESPACE Procedure Parameters</p>
<table class="cellalignment1229" title="GETTOKENTABLEINFOBYTABLESPACE Procedure Parameters" summary="This table describes the Parameters of DBMS_CSX_ADMIN.GETTOKENTABLEINFOBYTABLESPACE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>tsname</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>Tablespace name</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>tablespaceno</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p>Tablespace number</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p><code>guid</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p>GUID of the token table set associated with this tablespace (if any)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t6" headers="r1c1-t6">
<p><code>qnametable</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t6 r1c2-t6">
<p>Name of the qname-ID table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t6" headers="r1c1-t6">
<p><code>nmspctable</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t6 r1c2-t6">
<p>Name of the namespace-ID table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t6" headers="r1c1-t6">
<p><code>isdefault</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t6 r1c2-t6">
<p><code>TRUE</code> if the token table is the default one</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t6" headers="r1c1-t6">
<p><code>containTokTab</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t6 r1c2-t6">
<p><code>TRUE</code> if the tablespace contains its own token table set</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65723" class="refsect2"><a id="CDCIFICC"></a>
<hr />
<h3 class="refsect2"><a id="sthref1866"></a>NAMESPACEIDTABLE Function</h3>
<p>This procedure returns default namespace-ID token table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1867"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.NAMESPACEIDTABLE 
  RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65724" class="refsect2"><a id="CDCEBIBJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref1868"></a>PATHIDTABLE Function</h3>
<p>This procedure returns the default path-ID token table. This is used for granting permissions on the default path-ID token table for a user before executing <code>EXPLAIN</code> <code>PLAN</code> for a query on an XML table with an XML index.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1869"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.PATHIDTABLE 
  RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65725" class="refsect2"><a id="CDCIAICI"></a>
<hr />
<h3 class="refsect2"><a id="sthref1870"></a>QNAMEIDTABLE Function</h3>
<p>This procedure returns the default qname-ID token table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1871"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.QNAMEIDTABLE 
  RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65726" class="refsect2"><a id="CDCFCBFA"></a>
<hr />
<h3 class="refsect2"><a id="sthref1872"></a>REGISTERTOKENTABLESET Procedure</h3>
<p>This procedure registers a new token table set, creates (if required) the token tables (with the corresponding indexes).</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1873"></a>Syntax</p>
<pre>
DBMS_CSX_ADMIN.REGISTERTOKENTABLESET  (
   tstabno      IN  NUMBER  DEFAULT NULL,
   guid         IN  RAW     DEFAULT NULL, 
   flags        IN  NUMBER  DEFAULT TBS_LEVEL,
   tocreate     IN  NUMBER  DEFAULT WITH_INDEXES,
   defaulttoks  IN  NUMBER  DEFAULT DEFAULT_TOKS);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1874"></a>Parameters</p>
<div id="ARPLS65727" class="tblformal">
<p class="titleintable"><a id="sthref1875"></a><a id="sthref1876"></a>Table 40-6 REGISTERTOKENTABLESET Procedure Parameters</p>
<table class="cellalignment1229" title="REGISTERTOKENTABLESET Procedure Parameters" summary="This table describes the Parameters of DBMS_CSX_ADMIN.REGISTERTOKENTABLESET subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t7">Parameter</th>
<th class="cellalignment1227" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t7" headers="r1c1-t7">
<p><code>tstabno</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t7 r1c2-t7">
<p>Tablespace/table number of the tablespace/table using the set of token table we register</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t7" headers="r1c1-t7">
<p><code>guid</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t7 r1c2-t7">
<p>GUID of the token table set. If <code>NULL</code>, a new identifier is created, provided the user is <code>SYS</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t7" headers="r1c1-t7">
<p><code>flags</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t7 r1c2-t7">
<p><code>TAB_LEVEL</code> for table level, <code>TBS_LEVEL</code> for tablespace level</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t7" headers="r1c1-t7">
<p><code>tocreate</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t7 r1c2-t7">
<p>Possible values:</p>
<ul>
<li>
<p><code>NO_CREATE</code> if no token tables are created</p>
</li>
<li>
<p><code>NO_INDEXES</code> if token tables are created, but no indexes</p>
</li>
<li>
<p><code>WITH_INDEXES</code> if token tables and corresponding indexes are created</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t7" headers="r1c1-t7">
<p><code>defaulttoks</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t7 r1c2-t7">
<p>If <code>DEFAULT_TOKS</code>, insert default token mappings</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_crypto.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_cube.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
