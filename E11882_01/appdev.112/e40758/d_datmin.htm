<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_DATA_MINING</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:4Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_cube_log.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_dmtran.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">48/265</span> <!-- End Header -->
<div id="ARPLS192" class="chapter"><a id="BAJBGHGD"></a><a id="i1062150"></a>
<h1 class="chapter"><span class="secnum">44</span> <a id="sthref2211"></a> DBMS_DATA_MINING</h1>
<p>Oracle Data Mining is an analytical technology that derives actionable information from data in an Oracle Database. You can use Oracle Data Mining to evaluate the probability of future events and discover unsuspected associations and groupings within your data.</p>
<p>The <code>DBMS_DATA_MINING</code> <a id="sthref2212"></a>package is the programmatic interface for creating and managing data mining models (mining model schema objects). Oracle Data Mining also supports a family of SQL functions for deploying <a id="sthref2213"></a><a id="sthref2214"></a>data mining models.</p>
<p>Oracle Data Miner, a graphical interface to Oracle Data Mining, is available for download from the Oracle Technology Network at: <code><a href="http://www.oracle.com/technetwork/database/options/odm/">http://www.oracle.com/technetwork/database/options/odm/</a></code></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="d_dmtran.htm#BAJHICDA">Chapter 45, "DBMS_DATA_MINING_TRANSFORM"</a>. This package supports data pre-processing for data mining models.</p>
</li>
<li>
<p><a href="d_predan.htm#BAJGIHEA">Chapter 104, "DBMS_PREDICTIVE_ANALYTICS"</a>. This package supports several routines that perform automated data mining.</p>
</li>
<li>
<p><a class="olink SQLRF20030" href="../../server.112/e41084/functions002.htm#SQLRF20030"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the SQL Data Mining scoring functions.</p>
</li>
<li>
<p><a class="olink DMCON001" href="../../datamine.112/e16808/intro_concepts.htm#DMCON001"><span class="italic">Oracle Data Mining Concepts</span></a> for an introduction to Oracle Data Mining.</p>
</li>
<li>
<p><a class="olink DMCON000" href="../../datamine.112/e16808/whatsnew.htm#DMCON000"><span class="italic">Oracle Data Mining Concepts</span></a> for new features in Oracle Data Mining.</p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BAJDHGDF">Using DBMS_DATA_MINING</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Mining Model Objects</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Deprecated Subprograms</p>
</li>
<li>
<p>Mining Functions</p>
</li>
<li>
<p>Model Settings</p>
</li>
<li>
<p>Data Types</p>
</li>
</ul>
</li>
<li>
<p><a href="#i1069667">Summary of DBMS_DATA_MINING Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BAJDHGDF"></a>
<hr />
<div id="ARPLS195" class="refsect1">
<h2 class="refsect1">Using DBMS_DATA_MINING</h2>
<p>This section contains topics that relate to using the <code>DBMS_DATA_MINING</code> package.</p>
<ul>
<li>
<p><a href="#i1068714">Overview</a></p>
</li>
<li>
<p><a href="#CACHFHDE">Mining Model Objects</a></p>
</li>
<li>
<p><a href="#CACIJAAD">Security Model</a></p>
</li>
<li>
<p><a href="#CACCHFBG">Deprecated Subprograms</a></p>
</li>
<li>
<p><a href="#CACBACHD">Mining Functions</a></p>
</li>
<li>
<p><a href="#i1069305">Model Settings</a></p>
</li>
<li>
<p><a href="#i1069306">Data Types</a></p>
</li>
</ul>
<div id="ARPLS65773" class="refsect2"><a id="i1068714"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p><a id="sthref2215"></a>Oracle Data Mining supports <a id="sthref2216"></a>both <span class="bold">supervised</span> <a id="sthref2217"></a>and <span class="bold">unsupervised</span> data mining. Supervised data mining predicts a target value based on historical data. Unsupervised data mining discovers natural groupings and does not use a target.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON030" href="../../datamine.112/e16808/intro_concepts.htm#DMCON030"><span class="italic">Oracle Data Mining Concepts</span></a> for more information</div>
<p>A <a id="sthref2218"></a>data mining <span class="bold">function</span> refers to the methods for solving a given class of data mining problems. The mining function must be specified when a model is created. See <a href="#CACBACHD">"Mining Functions"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note on Terminology:</p>
In data mining terminology, a <span class="italic">function</span> is a general type of problem to be solved by a given approach to data mining. In SQL language terminology, a <span class="italic">function</span> is an operator that returns a value.
<p>In Oracle Data Mining documentation, the term <span class="italic">function</span>, or <span class="italic">mining function</span> refers to a data mining function; the term <span class="italic">SQL function</span> or <span class="italic">SQL Data Mining function</span> refers to a SQL function for <a id="sthref2219"></a><a id="sthref2220"></a>scoring (deploying) data mining models. The SQL Data Mining functions are documented in <a class="olink SQLRF20030" href="../../server.112/e41084/functions002.htm#SQLRF20030"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
</div>
<p>Supervised data mining functions include:</p>
<ul>
<li>
<p>Classification</p>
</li>
<li>
<p>Regression</p>
</li>
<li>
<p>Attribute Importance</p>
</li>
</ul>
<p>Unsupervised data mining functions include:</p>
<ul>
<li>
<p>Clustering</p>
</li>
<li>
<p>Association</p>
</li>
<li>
<p>Feature Extraction</p>
</li>
<li>
<p>Anomaly Detection (one-class classification)</p>
</li>
</ul>
<p>The <a id="sthref2221"></a>steps you use to build and apply a mining model depend on the data mining function and the algorithm being used. The algorithms supported by Oracle Data Mining are listed in <a href="#CACFCJJE">Table 44-1</a>.</p>
<div id="ARPLS65774" class="tblformal">
<p class="titleintable"><a id="sthref2222"></a><a id="CACFCJJE"></a>Table 44-1 <a id="sthref2223"></a>Oracle Data Mining Algorithms</p>
<table class="cellalignment1229" title="Oracle Data Mining Algorithms" summary="This table lists the algorithms supported by Oracle Data Mining algorithms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Algorithm</th>
<th class="cellalignment1227" id="r1c2-t5">Abbreviation</th>
<th class="cellalignment1227" id="r1c3-t5">Function</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p>Adaptive Bayes Network (deprecated)</p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>ABN</p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c3-t5">
<p><a id="sthref2224"></a>Classification</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p>Apriori</p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>AP</p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c3-t5">
<p><a id="sthref2225"></a>Association</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p>Decision Tree</p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>DT</p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c3-t5">
<p>Classification</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">
<p>Generalized Linear Model</p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p>GLM</p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c3-t5">
<p>Classification and <a id="sthref2226"></a>Regression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t5" headers="r1c1-t5">
<p><span class="italic">k</span>-Means (default clustering algorithm)</p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c2-t5">
<p>KM</p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c3-t5">
<p>Clustering<a id="sthref2227"></a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t5" headers="r1c1-t5">
<p>Minimal Descriptor Length</p>
</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c2-t5">
<p>MDL</p>
</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c3-t5">
<p>Attribute Importance<a id="sthref2228"></a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t5" headers="r1c1-t5">
<p>Naive Bayes (default classification algorithm)</p>
</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c2-t5">
<p>NB</p>
</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c3-t5">
<p>Classification<a id="sthref2229"></a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t5" headers="r1c1-t5">
<p>Non-Negative Matrix Factorization</p>
</td>
<td class="cellalignment1228" headers="r9c1-t5 r1c2-t5">
<p>NMF</p>
</td>
<td class="cellalignment1228" headers="r9c1-t5 r1c3-t5">
<p>Feature Extraction<a id="sthref2230"></a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t5" headers="r1c1-t5">
<p>Orthogonal Partitioning Clustering</p>
</td>
<td class="cellalignment1228" headers="r10c1-t5 r1c2-t5">
<p>O-Cluster</p>
</td>
<td class="cellalignment1228" headers="r10c1-t5 r1c3-t5">
<p>Clustering<a id="sthref2231"></a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t5" headers="r1c1-t5">
<p>Support Vector Machine (default regression algorithm)</p>
</td>
<td class="cellalignment1228" headers="r11c1-t5 r1c2-t5">
<p>SVM</p>
</td>
<td class="cellalignment1228" headers="r11c1-t5 r1c3-t5">
<p>Classification and regression (and anomaly detection through one-class classification<a id="sthref2232"></a><a id="sthref2233"></a>)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS614" class="refsect2"><a id="CACHFHDE"></a>
<hr />
<h3 class="refsect2">Mining Model Objects</h3>
<p>Mining models are Oracle Database schema objects. <a id="sthref2234"></a>They support the standard security features of Oracle Database. Mining models are also supported by SQL <code>COMMENT</code> and SQL <code>AUDIT</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DMADM003" href="../../datamine.112/e16807/schemaobjs.htm#DMADM003"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about mining model objects, SQL <code>COMMENT</code>, and SQL <code>AUDIT</code></p>
</li>
<li>
<p><a class="olink DMADM004" href="../../datamine.112/e16807/security.htm#DMADM004"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about mining model security</p>
</li>
<li>
<p><a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about the sample Data Mining programs</p>
</li>
</ul>
</div>
<div id="ARPLS65775" class="refsect3"><a id="sthref2235"></a>
<h4 class="refsect3">ALL_MINING_MODELS</h4>
<p>You can query the data dictionary view <code><a id="sthref2236"></a>ALL_MINING_MODELS</code> to obtain a list of accessible mining models.</p>
<div id="ARPLS65776" class="example">
<p class="titleinexample"><a id="sthref2237"></a>Example 44-1 ALL_MINING_MODELS</p>
<pre>
SQL&gt; describe all_mining_models
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 MODEL_NAME                                NOT NULL VARCHAR2(30)
 MINING_FUNCTION                                    VARCHAR2(30)
 ALGORITHM                                          VARCHAR2(30)
 CREATION_DATE                             NOT NULL DATE
 BUILD_DURATION                                     NUMBER
 MODEL_SIZE                                         NUMBER
 COMMENTS                                           VARCHAR2(4000)
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMPRG017" href="../../datamine.112/e12218/models_building.htm#DMPRG017"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for more information about <code>ALL_MINING_MODELS</code> and related views</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS65777" class="refsect3"><a id="CACBADBJ"></a>
<h4 class="refsect3">Mining Model Naming Restrictions</h4>
<p>The naming rules for models are more restrictive than the naming rules for most database schema objects. A model name must satisfy the following additional requirements:</p>
<ul>
<li>
<p>It must be 25 or fewer characters long.</p>
</li>
<li>
<p>It must be a nonquoted identifier. Oracle requires that nonquoted identifiers contain only alphanumeric characters, the underscore (_), dollar sign ($), and pound sign (#); the initial character must be alphabetic. Oracle strongly discourages the use of the dollar sign and pound sign in nonquoted literals.</p>
</li>
</ul>
<p>Naming requirements for schema objects are fully documented in <a class="olink SQLRF00223" href="../../server.112/e41084/sql_elements008.htm#SQLRF00223"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
</div>
<!-- class="refsect3" -->
<div id="ARPLS65778" class="refsect3"><a id="sthref2238"></a>
<h4 class="refsect3">ALL_MINING_MODEL_ATTRIBUTES</h4>
<p>You <a id="sthref2239"></a>can query the data dictionary view <code><a id="sthref2240"></a>ALL_MINING_MODEL_ATTRIBUTES</code> to obtain a list of the <span class="bold">data attributes</span> for each accessible mining model. Data attributes are the columns of data used by an algorithm to build a model. Some or all of these columns must be present in the data to which the model is applied.</p>
<p>Data attributes are referred to as the <span class="bold">model signature</span>. The <code>ALL_MINING_MODEL_ATTRIBUTES</code> view lists the data attributes in the model signature, including the target if the model is supervised.</p>
<p>An algorithm builds an internal representation of the data attributes and uses them as either <span class="bold">categoricals</span> (data that classifies or categorizes) or as <span class="bold">numericals</span> (continuous data). These internal <span class="bold">model attributes</span> can be viewed using the <code>GET_MODEL_DETAILS</code> functions.</p>
<div id="ARPLS65779" class="example">
<p class="titleinexample"><a id="sthref2241"></a>Example 44-2 ALL_MINING_MODEL_ATTRIBUTES</p>
<pre>
SQL&gt; describe all_mining_model_attributes
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 MODEL_NAME                                NOT NULL VARCHAR2(30)
 ATTRIBUTE_NAME                            NOT NULL VARCHAR2(30)
 ATTRIBUTE_TYPE                                     VARCHAR2(11)
 DATA_TYPE                                          VARCHAR2(12)
 DATA_LENGTH                                        NUMBER
 DATA_PRECISION                                     NUMBER
 DATA_SCALE                                         NUMBER
 USAGE_TYPE                                         VARCHAR2(8)
 TARGET                                             VARCHAR2(3)
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMPRG010" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG010"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for more information about attributes and <code>ALL_MINING_MODEL_ATTRIBUTES</code></div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS65780" class="refsect3"><a id="CACIDCBB"></a>
<h4 class="refsect3">ALL_MINING_MODEL_SETTINGS</h4>
<p>The view <code><a id="sthref2242"></a>ALL_MINING_MODEL_SETTINGS</code> returns the <span class="bold">settings</span> for each accessible mining model. Settings control various characteristics of mining models.</p>
<p>All settings have default values. The values of some settings are generated by the algorithm by default. You can override the default value of a setting by specifying its value in a settings table for the model. All settings, both default and user-specified, are listed in <code>ALL_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65781" class="example">
<p class="titleinexample"><a id="sthref2243"></a>Example 44-3 ALL_MINING_MODEL_SETTINGS</p>
<pre>
SQL&gt; describe all_mining_model_settings
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 MODEL_NAME                                NOT NULL VARCHAR2(30)
 SETTING_NAME                              NOT NULL VARCHAR2(30)
 SETTING_VALUE                                      VARCHAR2(4000)
 SETTING_TYPE                                       VARCHAR2(7)
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1069305">Model Settings</a></p>
</li>
<li>
<p><a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for more information about <code>ALL_MINING_MODEL_SETTINGS</code></p>
</li>
</ul>
</div>
</div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73294" class="refsect2"><a id="CACIJAAD"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>The <code><a id="sthref2244"></a>DBMS_DATA_MINING</code> package is owned by user <code>SYS</code> and is installed as part of database installation. Execution privilege on the package is granted to public. The routines in the package are run with invokers' rights (run with the privileges of the current user).</p>
<p>The <code>DBMS_DATA_MINING</code> package exposes APIs that are leveraged by the Oracle Data Mining option. Users who wish to create mining models in their own schema require the <code>CREATE MINING MODEL</code> system privilege (as well as the <code>CREATE TABLE</code> and <code>CREATE VIEW</code> system privilege). Users who wish to create mining models in other schemas require the <code>CREATE ANY MINING MODEL</code> system privilege (as well as the corresponding table and view creation privileges).</p>
<p>Users have full control over managing models that exist within their own schema. Additional system privileges necessary for managing data mining models in other schemas include <code>ALTER ANY MINING MODEL</code>, <code>DROP ANY MINING MODEL</code>, <code>SELECT ANY MINING MODEL</code>, <code>COMMENT ANY MINING MODEL</code>, and <code>AUDIT ANY</code>.</p>
<p>Individual object privileges on mining models, <code>ALTER MINING MODEL</code> and <code>SELET MINING MODEL</code>, can be used to selectively grant privileges on a model to a different user.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMADM004" href="../../datamine.112/e16807/security.htm#DMADM004"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for more information about the security features of Oracle Data Mining</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS615" class="refsect2"><a id="CACCHFBG"></a>
<hr />
<h3 class="refsect2">Deprecated Subprograms</h3>
<p>The <a id="sthref2245"></a>following subprograms were deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1).</p>
<ul>
<li>
<p><code>GET_DEFAULT_SETTINGS</code></p>
<p>Replaced with data dictionary views: <code>USER</code>/<code>ALL</code>/<code>DBA_MINING_MODEL_SETTINGS</code></p>
</li>
<li>
<p><code>GET_MODEL_SETTINGS</code></p>
<p>Replaced with data dictionary views: <code>USER</code>/<code>ALL</code>/<code>DBA_MINING_MODEL_SETTINGS</code></p>
</li>
<li>
<p><code>GET_MODEL_SIGNATURE</code></p>
<p>Replaced with data dictionary views: <code>USER</code>/<code>ALL</code>/<code>DBA_MINING_MODEL_ATTRIBUTES</code></p>
</li>
</ul>
<p>The following view was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1).</p>
<ul>
<li>
<p><code>DM_USER_MODELS</code></p>
<p>Replaced with data dictionary views: <code>USER</code>/<code>ALL</code>/<code>DBA_MINING_MODELS</code></p>
</li>
</ul>
<p>The Adaptive Bayes Network algorithm was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you do not use deprecated procedures in new applications. Support for deprecated features is for backward compatibility only.</div>
<p>Since 11<span class="italic">g</span> Release 1 (11.1), the <code>DMSYS</code> schema is no longer present in the database. Oracle Data Mining metadata now resides in <code>SYS</code>.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS607" class="refsect2"><a id="CACBACHD"></a>
<hr />
<h3 class="refsect2">Mining Functions</h3>
<p><a id="sthref2246"></a>The constants that specify the mining function of a model are listed in <a href="#CACDBBCC">Table 44-2</a>. The concept of a "mining function" is introduced in <a href="#i1068714">"Overview"</a>.</p>
<p>All models are created with a mining function. The mining function is a required argument to <a id="sthref2247"></a>the <a href="#i1038828"><span class="xreftitlebold">CREATE_MODEL Procedure</span></a>.</p>
<div id="ARPLS65782" class="tblformal">
<p class="titleintable"><a id="sthref2248"></a><a id="CACDBBCC"></a>Table 44-2 Mining Functions</p>
<table class="cellalignment1229" title="Mining Functions" summary="This table describes DBMS_DATA_MINING mining functions." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Value</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>ASSOCIATION</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>Association is a descriptive mining function. An association model identifies relationships and the probability of their occurrence within a data set.</p>
<p>Association models use the Apriori algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>ATTRIBUTE_IMPORTANCE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p>Attribute Importance is a predictive mining function. An attribute importance model identifies the relative importance of an attribute in predicting a given outcome.</p>
<p>Attribute Importance models use the Minimal Descriptor Length algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t12" headers="r1c1-t12">
<p><code>CLASSIFICATION</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t12 r1c2-t12">
<p>Classification is a predictive mining function. A classification model uses historical data to predict a categorical target.</p>
<p>Classification models can use: Naive Bayes, Adaptive Bayes Network (deprecated), Decision Tree, Logistic Regression, or Support Vector Machine algorithms. The default is Naive Bayes.</p>
<p>The classification function can also be used for <span class="bold">anomaly detection</span>. In this case, the SVM algorithm with a null target is used (One-Class SVM).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t12" headers="r1c1-t12">
<p><code>CLUSTERING</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t12 r1c2-t12">
<p>Clustering is a descriptive mining function. A clustering model identifies natural groupings within a data set.</p>
<p>Clustering models can use: <span class="italic">k</span>-Means or O-Cluster algorithms. The default is <span class="italic">k</span>-Means.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t12" headers="r1c1-t12">
<p><code>FEATURE_EXTRACTION</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t12 r1c2-t12">
<p>Feature Extraction is a descriptive mining function. A feature extraction model creates an optimized data set on which to base a model.</p>
<p>Feature extraction models use the Non-Negative Matrix Factorization algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t12" headers="r1c1-t12">
<p><code>REGRESSION</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t12 r1c2-t12">
<p>Regression is a predictive mining function. A regression model uses historical data to predict a numerical target.</p>
<p>Regression models can use Support Vector Machine or Linear Regression. The default is Support Vector Machine.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS608" class="refsect2"><a id="i1069305"></a>
<hr />
<h3 class="refsect2">Model Settings</h3>
<p><a id="sthref2249"></a>Oracle Data Mining uses settings to specify the algorithm and other characteristics of a model. Some settings are general, some are specific to a mining function, and some are specific to an algorithm.</p>
<p>All settings have default values. If you want to override one or more of the settings for a model, you must create a settings table. The settings table must have the column names and data types shown in <a href="#CACEJJJI">Table 44-3</a>.</p>
<div id="ARPLS65783" class="tblformal">
<p class="titleintable"><a id="sthref2250"></a><a id="CACEJJJI"></a>Table 44-3 Required Columns in the Model Settings Table</p>
<table class="cellalignment1229" title="Required Columns in the Model Settings Table" summary="This table lists the required column names and data types in a model settings table." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t13">Column Name</th>
<th class="cellalignment1227" id="r1c2-t13">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t13" headers="r1c1-t13">
<p><code>SETTING_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t13 r1c2-t13">
<p><code>VARCHAR2(30)</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t13" headers="r1c1-t13">
<p><code>SETTING_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t13 r1c2-t13">
<p><code>VARCHAR2(4000)</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>The information you provide in the settings table is used by the model at build time. The name of the settings table is an optional argument to the <a href="#i1038828">CREATE_MODEL Procedure</a>.</p>
<p>You can find the settings used by a model by querying the data dictionary view <code>ALL_MINING_MODEL_SETTINGS</code>. This view lists the model settings used by the mining models to which you have access. All the setting values are included in the view, whether default or user-specified. See <a href="#CACIDCBB">"ALL_MINING_MODEL_SETTINGS"</a>.</p>
<div id="ARPLS65784" class="refsect3"><a id="sthref2251"></a>
<h4 class="refsect3">Algorithm Names</h4>
<p><a id="sthref2252"></a>The <code><span class="codeinlinebold">ALGO_NAME</span></code> setting specifies the model algorithm. The values for the <code>ALGO_NAME</code> setting are listed in <a href="#CACJCDGJ">Table 44-4</a>.</p>
<div id="ARPLS65785" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2253"></a><a id="CACJCDGJ"></a>Table 44-4 Algorithm Names</p>
<table class="cellalignment1226" title="Algorithm Names" summary="Algorithm names used by the ALGO_NAME setting." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t14">ALGO_NAME Value</th>
<th class="cellalignment1227" id="r1c2-t14">Description</th>
<th class="cellalignment1227" id="r1c3-t14">Mining Function</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t14" headers="r1c1-t14">
<p><code>ALGO_ADAPTIVE_BAYES_NETWORK</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t14 r1c2-t14">
<p>Adaptive Bayes Network (deprecated)</p>
</td>
<td class="cellalignment1228" headers="r2c1-t14 r1c3-t14">
<p>Classification</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t14" headers="r1c1-t14">
<p><code>ALGO_DECISION_TREE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t14 r1c2-t14">
<p>Decision Tree</p>
</td>
<td class="cellalignment1228" headers="r3c1-t14 r1c3-t14">
<p>Classification</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t14" headers="r1c1-t14">
<p><code>ALGO_NAIVE_BAYES</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t14 r1c2-t14">
<p>Naive Bayes</p>
</td>
<td class="cellalignment1228" headers="r4c1-t14 r1c3-t14">
<p>Classification</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t14" headers="r1c1-t14">
<p><code>ALGO_GENERALIZED_LINEAR_MODEL</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t14 r1c2-t14">
<p>Generalized Linear Model</p>
</td>
<td class="cellalignment1228" headers="r5c1-t14 r1c3-t14">
<p>Classification and Regression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t14" headers="r1c1-t14">
<p><code>ALGO_SUPPORT_VECTOR_MACHINES</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t14 r1c2-t14">
<p>Support Vector Machine</p>
</td>
<td class="cellalignment1228" headers="r6c1-t14 r1c3-t14">
<p>Classification and Regression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t14" headers="r1c1-t14">
<p><code>ALGO_KMEANS</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t14 r1c2-t14">
<p>Enhanced <span class="italic">k</span>_Means</p>
</td>
<td class="cellalignment1228" headers="r7c1-t14 r1c3-t14">
<p>Clustering</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t14" headers="r1c1-t14">
<p><code>ALGO_O_CLUSTER</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t14 r1c2-t14">
<p>O-Cluster</p>
</td>
<td class="cellalignment1228" headers="r8c1-t14 r1c3-t14">
<p>Clustering</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t14" headers="r1c1-t14">
<p><code>ALGO_AI_MDL</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t14 r1c2-t14">
<p>Minimum Description Length</p>
</td>
<td class="cellalignment1228" headers="r9c1-t14 r1c3-t14">
<p>Attribute Importance</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t14" headers="r1c1-t14">
<p><code>ALGO_APRIORI_ASSOCIATION_RULES</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t14 r1c2-t14">
<p>Apriori</p>
</td>
<td class="cellalignment1228" headers="r10c1-t14 r1c3-t14">
<p>Association Rules</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t14" headers="r1c1-t14">
<p><code>ALGO_NONNEGATIVE_MATRIX_FACTOR</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t14 r1c2-t14">
<p>Non-Negative Matrix Factorization</p>
</td>
<td class="cellalignment1228" headers="r11c1-t14 r1c3-t14">
<p>Feature Extraction</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<p>Oracle Data Mining supports more than one algorithm for the classification, regression, and clustering mining functions. Each of these mining functions has a default algorithm, as shown in <a href="#BAJIFHGI">Table 44-5</a>.</p>
<div id="ARPLS65786" class="tblformal">
<p class="titleintable"><a id="sthref2254"></a><a id="BAJIFHGI"></a>Table 44-5 Default Algorithms</p>
<table class="cellalignment1229" title="Default Algorithms" summary="This table describes the default algorithms for classification, regression, and clustering." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t15">Mining Function</th>
<th class="cellalignment1227" id="r1c2-t15">Default Algorithm</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t15" headers="r1c1-t15">
<p>Classification</p>
</td>
<td class="cellalignment1228" headers="r2c1-t15 r1c2-t15">
<p>Naive Bayes</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t15" headers="r1c1-t15">
<p>Regression</p>
</td>
<td class="cellalignment1228" headers="r3c1-t15 r1c2-t15">
<p>Support Vector Machine</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t15" headers="r1c1-t15">
<p>Clustering</p>
</td>
<td class="cellalignment1228" headers="r4c1-t15 r1c2-t15">
<p><span class="italic">k</span>-Means</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS621" class="refsect3"><a id="CACEHEDI"></a>
<h4 class="refsect3">Automatic Data Preparation</h4>
<p><a id="sthref2255"></a>The<a id="sthref2256"></a> <code><span class="codeinlinebold">PREP_AUTO</span></code> <a id="sthref2257"></a>setting <a id="sthref2258"></a>indicates whether or not the model will use Automatic Data Preparation (ADP). By default ADP is disabled.</p>
<p>When you enable ADP, the model uses heuristics to transform the build data according to the requirements of the algorithm. The transformation instructions are stored with the model and reused whenever the model is applied. You can view the transformation instructions in the model details.</p>
<p>You can choose to supplement automatic data preparations by specifying additional transformations in the <code>xform_list</code> parameter when you build the model. (See <a href="#i1038828">"CREATE_MODEL Procedure"</a>.)</p>
<p>If you do not use ADP (default) <span class="italic">and</span> do not specify transformations in the <code>xform_list</code> parameter to <code>CREATE_MODEL</code> (also the default), you will continue to operate in 10.2 mode. This means that you must implement your own transformations separately in the build, test, and scoring data; you must take special care to implement the exact same transformations in each data set.</p>
<p>If you do not use ADP, but you <span class="italic">do</span> specify transformations in the <code>xform_list</code> parameter to <code>CREATE_MODEL</code>, Oracle Data Mining embeds the transformation definitions in the model and prepares the test and scoring data to match the build data. Because of automatic and embedded data preparation, mining models are known as <a id="sthref2259"></a><span class="bold">supermodels</span>.</p>
<p>The values for the <code>PREP_AUTO</code> setting are described in <a href="#CACFFEEF">Table 44-6</a>.</p>
<div id="ARPLS65787" class="tblformal">
<p class="titleintable"><a id="sthref2260"></a><a id="CACFFEEF"></a>Table 44-6 PREP_AUTO Setting</p>
<table class="cellalignment1229" title="PREP_AUTO Setting" summary="This table describes the values for PREP_AUTO setting: PREP_AUTO_OFF and PREP_AUTO_ON." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t16">PREP_AUTO Value</th>
<th class="cellalignment1227" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t16" headers="r1c1-t16">
<p><code>PREP_AUTO_OFF</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t16 r1c2-t16">
<p>Disable Automatic Data Preparation (default).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t16" headers="r1c1-t16">
<p><code>PREP_AUTO_ON</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t16 r1c2-t16">
<p>Enable Automatic Data Preparation.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON003" href="../../datamine.112/e16808/xform_data.htm#DMCON003"><span class="italic">Oracle Data Mining Concepts</span></a> for information about data preparation</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS616" class="refsect3"><a id="sthref2261"></a>
<h4 class="refsect3"><a id="sthref2262"></a>Mining Function Settings</h4>
<p>The settings described in <a href="#CACGFIDD">Table 44-7</a> apply to a mining function.</p>
<div id="ARPLS65788" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2263"></a><a id="CACGFIDD"></a>Table 44-7 Mining Function Settings</p>
<table class="cellalignment1226" title="Mining Function Settings" summary="This table describes function-specific mining settings." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t18">Mining Function</th>
<th class="cellalignment1227" id="r1c2-t18">Setting Name</th>
<th class="cellalignment1227" id="r1c3-t18">Setting Value</th>
<th class="cellalignment1227" id="r1c4-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t18" headers="r1c1-t18">
<p>Association</p>
</td>
<td class="cellalignment1228" headers="r2c1-t18 r1c2-t18">
<p><code>ASSO_MAX_RULE_LENGTH</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t18 r1c3-t18">
<p><code>TO_CHAR( 2&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=20)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t18 r1c4-t18">
<p>Maximum rule length for association rules.</p>
<p>Default is 4.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t18" headers="r1c1-t18">
<p>Association</p>
</td>
<td class="cellalignment1228" headers="r3c1-t18 r1c2-t18">
<p><code>ASSO_MIN_CONFIDENCE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t18 r1c3-t18">
<p><code>TO_CHAR( 0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t18 r1c4-t18">
<p>Minimum confidence for association rules.</p>
<p>Default is 0.1.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t18" headers="r1c1-t18">
<p>Association</p>
</td>
<td class="cellalignment1228" headers="r4c1-t18 r1c2-t18">
<p><code>ASSO_MIN_SUPPORT</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t18 r1c3-t18">
<p><code>TO_CHAR( 0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t18 r1c4-t18">
<p>Minimum support for association rules.</p>
<p>Default is 0.1.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t18" headers="r1c1-t18">
<p>Classification</p>
</td>
<td class="cellalignment1228" headers="r5c1-t18 r1c2-t18">
<p><code>CLAS_COST_TABLE_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t18 r1c3-t18">
<p><span class="italic">table_name</span></p>
</td>
<td class="cellalignment1228" headers="r5c1-t18 r1c4-t18">
<p>(Decision Tree only) Name of a table that stores a cost matrix to be used by the algorithm in building the model. The cost matrix specifies the costs associated with misclassifications.</p>
<p>Only Decision Tree models can use a cost matrix at build time. All classification algorithms can use a cost matrix at apply time.</p>
<p>The cost matrix table is user-created. See <a href="#CACGCHCE">"ADD_COST_MATRIX Procedure"</a> for the column requirements.</p>
<p>See <a class="olink DMCON050" href="../../datamine.112/e16808/classify.htm#DMCON050"><span class="italic">Oracle Data Mining Concepts</span></a> for information about costs.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t18" headers="r1c1-t18">
<p>Classification</p>
</td>
<td class="cellalignment1228" headers="r6c1-t18 r1c2-t18">
<p><code>CLAS_PRIORS_TABLE_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t18 r1c3-t18">
<p><span class="italic">table_name</span></p>
</td>
<td class="cellalignment1228" headers="r6c1-t18 r1c4-t18">
<p>(Naive Bayes) Name of a table that stores prior probabilities to offset differences in distribution between the build data and the scoring data.</p>
<p>The priors table is user-created. See <a class="olink DMPRG020" href="../../datamine.112/e12218/models_building.htm#DMPRG020"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for the column requirements. See <a class="olink DMCON033" href="../../datamine.112/e16808/classify.htm#DMCON033"><span class="italic">Oracle Data Mining Concepts</span></a> for additional information about priors.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t18" headers="r1c1-t18">
<p>Classification</p>
</td>
<td class="cellalignment1228" headers="r7c1-t18 r1c2-t18">
<p><code>CLAS_WEIGHTS_TABLE_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t18 r1c3-t18">
<p><span class="italic">table_name</span></p>
</td>
<td class="cellalignment1228" headers="r7c1-t18 r1c4-t18">
<p>(GLM and SVM only) Name of a table that stores weighting information for individual target values in SVM classification and GLM logistic regression models. The weights are used by the algorithm to bias the model in favor of higher weighted classes.</p>
<p>The class weights table is user-created. See <a class="olink DMPRG021" href="../../datamine.112/e12218/models_building.htm#DMPRG021"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for the column requirements. See <a class="olink DMCON020" href="../../datamine.112/e16808/algo_glm.htm#DMCON020"><span class="italic">Oracle Data Mining Concepts</span></a> for additional information about class weights.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t18" headers="r1c1-t18">
<p>Clustering</p>
</td>
<td class="cellalignment1228" headers="r8c1-t18 r1c2-t18">
<p><code>CLUS_NUM_CLUSTERS</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t18 r1c3-t18">
<p><code><span class="codeinlineitalic">TO_CHAR( numeric_expr</span></code> <code>&gt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t18 r1c4-t18">
<p>Maximum number of leaf clusters generated by a clustering algorithm. (Oracle Data Mining clustering algorithms are hierarchical, as described in <a class="olink DMCON247" href="../../datamine.112/e16808/clustering.htm#DMCON247"><span class="italic">Oracle Data Mining Concepts</span></a> .)</p>
<p>Enhanced <span class="italic">k</span>-Means usually produces the exact number of clusters specified by <code>CLUS_NUM_CLUSTERS</code>, unless there are fewer distinct data points.</p>
<p>O-Cluster may produce fewer clusters than the number specified by <code>CLUS_NUM_CLUSTERS</code>, depending on the data.</p>
<p>Default is 10.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t18" headers="r1c1-t18">
<p>Feature Extraction</p>
</td>
<td class="cellalignment1228" headers="r9c1-t18 r1c2-t18">
<p><code>FEAT_NUM_FEATURES</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t18 r1c3-t18">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t18 r1c4-t18">
<p>Number of features to be extracted by a feature extraction model.</p>
<p>The default is estimated from the data by the algorithm.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON042" href="../../datamine.112/e16808/part2.htm#DMCON042"><span class="italic">Oracle Data Mining Concepts</span></a> for information about mining functions</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS617" class="refsect3"><a id="sthref2264"></a>
<h4 class="refsect3"><a id="sthref2265"></a>Global Settings</h4>
<p>The settings in <a href="#CACIBHCE">Table 44-8</a> are applicable to any type of model, but are currently only implemented for specific algorithms.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65789" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2266"></a><a id="CACIBHCE"></a>Table 44-8 Global Settings</p>
<table class="cellalignment1226" title="Global Settings" summary="This table describes global model settings." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t20">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t20">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t20" headers="r1c1-t20">
<p><code>ODMS_ITEM_ID_COLUMN_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t20 r1c2-t20">
<p><span class="italic">column_name</span></p>
</td>
<td class="cellalignment1228" headers="r2c1-t20 r1c3-t20">
<p>(Association Rules only) Name of a column that contains the items in a transaction. When this setting is specified, the algorithm expects the data to be presented in native transactional format, consisting of two columns:</p>
<ul>
<li>
<p>Case ID, either categorical or numerical</p>
</li>
<li>
<p>Item ID, either categorical or numerical, specified by <code>ODMS_ITEM_ID_COLUMN_NAME</code></p>
</li>
</ul>
<p>A typical example of transactional data is market basket data, wherein a case represents a basket that may contain many items. Each item is stored in a separate row, and many rows may be needed to represent a case. The case ID values do not uniquely identify each row. Transactional data is also called multi-record case data.</p>
<p>Association Rules is normally used with transactional data, but it can also be applied to single-record case data (similar to other algorithms).</p>
<p>For more information about single-record and multi-record case data, see <a class="olink DMPRG006" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG006"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t20" headers="r1c1-t20">
<p><code>ODMS_ITEM_VALUE_COLUMN_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t20 r1c2-t20">
<p><span class="italic">column_name</span></p>
</td>
<td class="cellalignment1228" headers="r3c1-t20 r1c3-t20">
<p>(<a id="sthref2267"></a>Association Rules only) Name of a column that contains a value associated with each item in a transaction. This setting is only used when a value has been specified for <code>ODMS_ITEM_ID_COLUMN_NAME</code> indicating that the data is presented in native transactional format.</p>
<p><a id="sthref2268"></a>When <code>ODMS_ITEM_VALUE_COLUMN_NAME</code> is specified, the algorithm expects the build data to consist of three columns:</p>
<ul>
<li>
<p>Case ID, either categorical or numerical</p>
</li>
<li>
<p>Item ID, either categorical or numerical, specified by <code>ODMS_ITEM_ID_COLUMN_NAME</code></p>
</li>
<li>
<p>Item value, either categorical or numerical, specified by <code>ODMS_ITEM_VALUE_COLUMN_NAME</code></p>
</li>
</ul>
<p>The item value column may specify information such as the number of items (for example, three apples) or the type of the item (for example, macintosh apples).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t20" headers="r1c1-t20">
<p><code>ODMS_MISSING_VALUE_TREATMENT</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t20 r1c2-t20">
<p><code>ODMS_MISSING_VALUE_MEAN_MODE</code></p>
<p><code>ODMS_MISSING_VALUE_DELETE_ROW</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t20 r1c3-t20">
<p>(GLM only) How to treat missing values in the training data. This setting does not affect the scoring data.</p>
<p>Oracle Data Mining replaces missing values with the mean (numeric attributes) or the mode (categorical attributes) both at build time and apply time. You can set <code>ODMS_MISSING_VALUE_TREATMENT</code> to <code>ODMS_MISSING_VALUE_DELETE_ROW</code> to override this behavior in the training data. When <code>ODMS_MISSING_VALUE_TREATMENT</code> is set to <code>ODMS_MISSING_VALUE_DELETE_ROW</code>, the rows in the training data that contain missing values are deleted. However, if you want to replicate this missing value treatment in the scoring data, you must perform the transformation explicitly. For instructions, see <a class="olink DMCON062" href="../../datamine.112/e16808/algo_glm.htm#DMCON062"><span class="italic">Oracle Data Mining Concepts</span></a>.</p>
<p>The value <code>ODMS_MISSING_VALUE_DELETE_ROW</code> is only valid for tables without nested columns. If this value is used with nested data, an exception is raised.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t20" headers="r1c1-t20">
<p><code>ODMS_ROW_WEIGHT_COLUMN_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t20 r1c2-t20">
<p><span class="italic">column_name</span></p>
</td>
<td class="cellalignment1228" headers="r5c1-t20 r1c3-t20">
<p>(GLM only) Name of a column in the training data that contains a weighting factor for the rows.</p>
<p>Row weights can be used as a compact representation of repeated rows, as in the design of experiments where a specific configuration is repeated several times. Row weights can also be used to emphasize certain rows during model construction. For example, to bias the model towards rows that are more recent and away from potentially obsolete data.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink DMCON022" href="../../datamine.112/e16808/algo_glm.htm#DMCON022"><span class="italic">Oracle Data Mining Concepts</span></a> for information about GLM</p>
<p><a class="olink DMCON009" href="../../datamine.112/e16808/market_basket.htm#DMCON009"><span class="italic">Oracle Data Mining Concepts</span></a> for information about Association Rules</p>
</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS65790" class="refsect3"><a id="sthref2269"></a>
<h4 class="refsect3">Algorithm Settings: Adaptive Bayes Network (deprecated)</h4>
<p>These settings affect the behavior of the Adaptive Bayes Network algorithm.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65791" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2270"></a><a id="sthref2271"></a>Table 44-9 ABN Settings</p>
<table class="cellalignment1226" title="ABN Settings" summary="This table describes algorithm settings for Adaptive Bayes Network." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t22">Setting</th>
<th class="cellalignment1227" id="r1c2-t22">Value</th>
<th class="cellalignment1227" id="r1c3-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t22" headers="r1c1-t22">
<p><code>ABNS_MAX_BUILD_MINUTES</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t22 r1c2-t22">
<p><code>TO_CHAR(</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;=0)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t22 r1c3-t22">
<p>Maximum time to complete an ABN model build.</p>
<p>Default is 0, which implies no time limit.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t22" headers="r1c1-t22">
<p><code>ABNS_MAX_NB_PREDICTORS</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t22 r1c2-t22">
<p><code>TO_CHAR(</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t22 r1c3-t22">
<p>Maximum number of predictors, measured by their MDL ranking, to be considered for building an ABN model of type <code>abns_naive_bayes</code>.</p>
<p>Default is 10.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t22" headers="r1c1-t22">
<p><code>ABNS_MAX_PREDICTORS</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t22 r1c2-t22">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t22 r1c3-t22">
<p>Maximum number of predictors, measured by their MDL ranking, to be considered for building an ABN model of type <code>abns_single_feature</code> or <code>abns_multi_feature</code>.</p>
<p>Default is 25.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t22" headers="r1c1-t22">
<p><code>ABNS_MODEL_TYPE</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t22 r1c2-t22">
<p><code>ABNS_MULTI_FEATURE</code></p>
<p><code>ABNS_NAIVE_BAYES</code></p>
<p><code>ABNS_SINGLE_FEATURE</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t22 r1c3-t22">
<p>Type of ABN model.</p>
<p>The default is <code>multi_feature</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" --></div>
<!-- class="refsect3" -->
<div id="ARPLS610" class="refsect3"><a id="sthref2272"></a>
<h4 class="refsect3">Algorithm Settings: Decision Tree</h4>
<p><a id="sthref2273"></a>These settings affect the behavior of the Decision Tree algorithm.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65792" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2274"></a><a id="sthref2275"></a>Table 44-10 Decision Tree Settings</p>
<table class="cellalignment1226" title="Decision Tree Settings" summary="This table describes algorithm settings for Decision Tree." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t23">Setting</th>
<th class="cellalignment1227" id="r1c2-t23">Value</th>
<th class="cellalignment1227" id="r1c3-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t23" headers="r1c1-t23">
<p><code>TREE_IMPURITY_METRIC</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t23 r1c2-t23">
<p><code>TREE_IMPURITY_ENTROPY</code></p>
<p><code>TREE_IMPURITY_GINI</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t23 r1c3-t23">
<p>Tree impurity metric for Decision Tree.</p>
<p>Tree algorithms seek the best test question for splitting data at each node. The best splitter and split value are those that result in the largest increase in target value homogeneity (purity) for the entities in the node. Purity is measured in accordance with a metric. Decision trees can use either gini (<code>TREE_IMPURITY_GINI</code>) or entropy (<code>TREE_IMPURITY_ENTROPY</code>) as the purity metric. By default, the algorithm uses gini.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t23" headers="r1c1-t23">
<p><code>TREE_TERM_MAX_DEPTH</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t23 r1c2-t23">
<p><code>TO_CHAR( 2&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=20)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t23 r1c3-t23">
<p>Criteria for splits: maximum tree depth (the maximum number of nodes between the root and any leaf node, including the leaf node).</p>
<p>Default is 7.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t23" headers="r1c1-t23">
<p><code>TREE_TERM_MINPCT_MODE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t23 r1c2-t23">
<p><code>TO_CHAR( 0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=10)</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t23 r1c3-t23">
<p>No child shall have fewer records than this number, which is expressed as a percentage of the training rows.</p>
<p>Default is 0.05, indicating 0.05%.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t23" headers="r1c1-t23">
<p><code>TREE_TERM_MINPCT_SPLIT</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t23 r1c2-t23">
<p><code>TO_CHAR( 0 &lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=20)</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t23 r1c3-t23">
<p>Criteria for splits: minimum number of records in a parent node expressed as a percent of the total number of records used to train the model. No split is attempted if number of records is below this value.</p>
<p>Default is 0.1, indicating 0.1%.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t23" headers="r1c1-t23">
<p><code>TREE_TERM_MINREC_NODE</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t23 r1c2-t23">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;=0)</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t23 r1c3-t23">
<p>No child shall have fewer records than this number.</p>
<p>Default is 10.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t23" headers="r1c1-t23">
<p><code>TREE_TERM_MINREC_SPLIT</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t23 r1c2-t23">
<p><code>TO_CHAR( numeric_expr</code> <code>&gt;=0)</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t23 r1c3-t23">
<p>Criteria for splits: minimum number of records in a parent node expressed as a value. No split is attempted if number of records is below this value.</p>
<p>Default is 20.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" --></div>
<!-- class="refsect3" -->
<div id="ARPLS612" class="refsect3"><a id="sthref2276"></a>
<h4 class="refsect3">Algorithm Settings: Generalized Linear Models</h4>
<p><a id="sthref2277"></a>These settings affect the behavior of GLM models. GLM can be used for classification (logistic regression) or regression (linear regression).</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65793" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2278"></a><a id="CACFDICC"></a>Table 44-11 GLM Settings</p>
<table class="cellalignment1226" title="GLM Settings" summary="This table describes algorithm settings for Generalized Linear Models." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t24">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t24">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t24" headers="r1c1-t24">
<p><code>GLMS_CONF_LEVEL</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t24 r1c2-t24">
<p><code>TO_CHAR(0&lt;</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;1)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t24 r1c3-t24">
<p>The confidence level for coefficient confidence intervals.</p>
<p>The default confidence level is 0.95.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t24" headers="r1c1-t24">
<p><code>GLMS_DIAGNOSTICS_TABLE_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t24 r1c2-t24">
<p><span class="italic">table_name</span></p>
</td>
<td class="cellalignment1228" headers="r3c1-t24 r1c3-t24">
<p>The name of a table to contain row-level diagnostic information for a GLM model. The table is created during model build.</p>
<p>If you want to create a diagnostics table, you must specify a case ID when you build the model. (See the <a href="#i1038828">CREATE_MODEL Procedure</a>.) If you specify a diagnostics table but do not provide a case ID, an exception is raised.</p>
<p>For information on GLM diagnostics, see <span class="italic">Oracle Data Mining Concepts</span>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t24" headers="r1c1-t24">
<p><code>GLMS_REFERENCE_CLASS_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t24 r1c2-t24">
<p><span class="italic">target_value</span></p>
</td>
<td class="cellalignment1228" headers="r4c1-t24 r1c3-t24">
<p>The target value to be used as the reference value in a logistic regression model. Probabilities will be produced for the other (non-reference) class.</p>
<p>By default, the algorithm chooses the value with the highest prevalence (the most cases) for the reference class.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t24" headers="r1c1-t24">
<p><code>GLMS_RIDGE_REGRESSION</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t24 r1c2-t24">
<p><code>GLMS_RIDGE_REG_ENABLE</code></p>
<p><code>GLMS_RIDGE_REG_DISABLE</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t24 r1c3-t24">
<p>Whether or not ridge regression will be enabled.</p>
<p>By default, the algorithm determines whether or not to use ridge. You can explicitly enable ridge by setting <code>GLMS_RIDGE_REGRESSION</code> to <code>GLMS_RIDGE_REG_ENABLE</code>.</p>
<p>Ridge applies to both regression and classification mining functions.</p>
<p>When ridge is enabled, no prediction bounds are produced by the <code>PREDICTION_BOUNDS</code> SQL operator.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t24" headers="r1c1-t24">
<p><code>GLMS_RIDGE_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t24 r1c2-t24">
<p><code>TO_CHAR(0&lt;</code> <code><span class="codeinlineitalic">numeric_expr)</span></code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t24 r1c3-t24">
<p>The value for the ridge parameter used by the algorithm. This setting is only used when you explicitly enable ridge regression by setting <code>GLMS_RIDGE_REGRESSION</code> to <code>GLMS_RIDGE_REG_ENABLE</code>.</p>
<p>If ridge regression is enabled internally by the algorithm, the ridge parameter is determined by the algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t24" headers="r1c1-t24">
<p><code>GLMS_VIF_FOR_RIDGE</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t24 r1c2-t24">
<p><code>GLMS_VIF_RIDGE_ENABLE</code></p>
<p><code>GLMS_VIF_RIDGE_DISABLE</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t24 r1c3-t24">
<p>(Linear regression only) Whether or not to produce Variance Inflation Factor (VIF) statistics when ridge is being used.</p>
<p>By default, VIF is not produced when ridge is enabled.</p>
<p>When you explicitly enable ridge regression by setting <code>GLMS_RIDGE_REGRESSION</code> to <code>GLMS_RIDGE_REG_ENABLE</code>, you can request VIF statistics by setting <code>GLMS_VIF_FOR_RIDGE</code> to <code>GLMS_VIF_RIDGE_ENABLE</code>; the algorithm will produce VIF if enough system resources are available.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON022" href="../../datamine.112/e16808/algo_glm.htm#DMCON022"><span class="italic">Oracle Data Mining Concepts</span></a> for information about GLM</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS618" class="refsect3"><a id="sthref2279"></a>
<h4 class="refsect3">Algorithm Settings: <span class="italic">k</span>-Means</h4>
<p><a id="sthref2280"></a>These settings affect the behavior of the <span class="italic">k</span>-Means algorithm.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65794" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2281"></a><a id="sthref2282"></a>Table 44-12 k-Means Settings</p>
<table class="cellalignment1226" title="k-Means Settings" summary="This table describes algorithm settings for k-Means." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t26">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t26">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t26">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t26" headers="r1c1-t26">
<p><code>KMNS_BLOCK_GROWTH</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t26 r1c2-t26">
<p><code>TO_CHAR(1&lt;</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=5)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t26 r1c3-t26">
<p>Growth factor for memory allocated to hold cluster data</p>
<p>Default value is 2</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t26" headers="r1c1-t26">
<p><code>KMNS_CONV_TOLERANCE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t26 r1c2-t26">
<p><code>TO_CHAR(0&lt;</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=0.5)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t26 r1c3-t26">
<p>Convergence tolerance for <span class="italic">k</span>-Means algorithm</p>
<p>Default is 0.01</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t26" headers="r1c1-t26">
<p><code>KMNS_DISTANCE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t26 r1c2-t26">
<p><code>KMNS_COSINE</code></p>
<p><code>KMNS_EUCLIDEAN</code></p>
<p><code>KMNS_FAST_COSINE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t26 r1c3-t26">
<p>Distance Function for <span class="italic">k</span>-Means Clustering. The default is euclidean.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t26" headers="r1c1-t26">
<p><code>KMNS_ITERATIONS</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t26 r1c2-t26">
<p><code>TO_CHAR(0&lt;</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=20)</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t26 r1c3-t26">
<p>Number of iterations for <span class="italic">k</span>-Means algorithm</p>
<p>Default is 3</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t26" headers="r1c1-t26">
<p><code>KMNS_MIN_PCT_ATTR_SUPPORT</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t26 r1c2-t26">
<p><code>TO_CHAR(0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t26 r1c3-t26">
<p>The fraction of attribute values that must be non-null in order for the attribute to be included in the rule description for the cluster.</p>
<p>Setting the parameter value too high in data with missing values can result in very short or even empty rules.</p>
<p>Default is 0.1.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t26" headers="r1c1-t26">
<p><code>KMNS_NUM_BINS</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t26 r1c2-t26">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t26 r1c3-t26">
<p>Number of histogram bins. Specifies the number of bins in the attribute histogram produced by <span class="italic">k</span>-Means. The bin boundaries for each attribute are computed globally on the entire training data set. The binning method is equi-width. All attributes have the same number of bins with the exception of attributes with a single value that have only one bin.</p>
<p>Default is 10.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t26" headers="r1c1-t26">
<p><code>KMNS_SPLIT_CRITERION</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t26 r1c2-t26">
<p><code>KMNS_SIZE</code></p>
<p><code>KMNS_VARIANCE</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t26 r1c3-t26">
<p>Split criterion for <span class="italic">k</span>-Means Clustering. The default criterion is the variance.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON057" href="../../datamine.112/e16808/algo_kmeans.htm#DMCON057"><span class="italic">Oracle Data Mining Concepts</span></a> for information about <span class="italic">k</span>-Means.</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS611" class="refsect3"><a id="sthref2283"></a>
<h4 class="refsect3">Algorithm Settings: Naive Bayes</h4>
<p><a id="sthref2284"></a>These settings affect the behavior of the Naive Bayes Algorithm.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65795" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2285"></a><a id="sthref2286"></a>Table 44-13 Naive Bayes Settings</p>
<table class="cellalignment1226" title="Naive Bayes Settings" summary="This table describes algorithm settings for Naive Bayes." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t28">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t28">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t28">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t28" headers="r1c1-t28">
<p><code>NABS_PAIRWISE_THRESHOLD</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t28 r1c2-t28">
<p><code>TO_CHAR(0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t28 r1c3-t28">
<p>Value of pairwise threshold for NB algorithm</p>
<p>Default is 0.01.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t28" headers="r1c1-t28">
<p><code>NABS_SINGLETON_THRESHOLD</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t28 r1c2-t28">
<p><code>TO_CHAR(0&lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t28 r1c3-t28">
<p>Value of singleton threshold for NB algorithm</p>
<p>Default value is 0.01</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON018" href="../../datamine.112/e16808/algo_nb.htm#DMCON018"><span class="italic">Oracle Data Mining Concepts</span></a> for information about Naive Bayes</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS619" class="refsect3"><a id="sthref2287"></a>
<h4 class="refsect3">Algorithm Settings: Non-Negative Matrix Factorization</h4>
<p><a id="sthref2288"></a>These settings affect the behavior of the Non-Negative Matrix Factorization algorithm.</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65796" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2289"></a><a id="sthref2290"></a>Table 44-14 NMF Settings</p>
<table class="cellalignment1226" title="NMF Settings" summary="This table describes algorithm settings for NMF." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t30">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t30">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t30">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t30" headers="r1c1-t30">
<p><code>NMFS_CONV_TOLERANCE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t30 r1c2-t30">
<p><code>TO_CHAR(0&lt;</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=0.5)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t30 r1c3-t30">
<p>Convergence tolerance for NMF algorithm</p>
<p>Default is 0.05</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t30" headers="r1c1-t30">
<p><code>NMFS_NONNEGATIVE_SCORING</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t30 r1c2-t30">
<p><code>NMFS_NONNEG_SCORING_ENABLE</code></p>
<p><code>NMFS_NONNEG_SCORING_DISABLE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t30 r1c3-t30">
<p>Whether negative numbers should be allowed in scoring results. When set to <code>NMFS_NONNEG_SCORING_ENABLE</code>, negative feature values will be replaced with zeros. When set to <code>NMFS_NONNEG_SCORING_DISABLE</code>, negative feature values will be allowed.</p>
<p>Default is <code>NMFS_NONNEG_SCORING_ENABLE</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t30" headers="r1c1-t30">
<p><code>NMFS_NUM_ITERATIONS</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t30 r1c2-t30">
<p><code>TO_CHAR(1 &lt;=</code> <code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=500)</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t30 r1c3-t30">
<p>Number of iterations for NMF algorithm</p>
<p>Default is 50</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t30" headers="r1c1-t30">
<p><code>NMFS_RANDOM_SEED</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t30 r1c2-t30">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr)</span></code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t30 r1c3-t30">
<p>Random seed for NMF algorithm.</p>
<p>Default is &ndash;1.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON058" href="../../datamine.112/e16808/algo_nmf.htm#DMCON058"><span class="italic">Oracle Data Mining Concepts</span></a> for information about NMF</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS620" class="refsect3"><a id="sthref2291"></a>
<h4 class="refsect3">Algorithm Settings: O-Cluster</h4>
<p><a id="sthref2292"></a>These settings affect the behavior of the O-Cluster algorithm.</p>
<p>You can query the data dictionary view <code>*_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_ALL_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65797" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2293"></a><a id="sthref2294"></a>Table 44-15 O-CLuster Settings</p>
<table class="cellalignment1226" title="O-CLuster Settings" summary="This table describes algorithm settings for O-CLuster." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t32">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t32">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t32">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t32" headers="r1c1-t32">
<p><code>OCLT_MAX_BUFFER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t32 r1c2-t32">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t32 r1c3-t32">
<p>Buffer size for O-Cluster.</p>
<p>Default is 50,000.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t32" headers="r1c1-t32">
<p><code>OCLT_SENSITIVITY</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t32 r1c2-t32">
<p><code>TO_CHAR(0 &lt;=</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&lt;=1)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t32 r1c3-t32">
<p>A fraction that specifies the peak density required for separating a new cluster. The fraction is related to the global uniform density.</p>
<p>Default is 0.5.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON059" href="../../datamine.112/e16808/algo_oc.htm#DMCON059"><span class="italic">Oracle Data Mining Concepts</span></a> for information about O-Cluster</div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS613" class="refsect3"><a id="sthref2295"></a>
<h4 class="refsect3">Algorithm Settings: Support Vector Machine</h4>
<p><a id="sthref2296"></a>These settings affect the behavior of the Support Vector Machine algorithm. SVM can be used for classification or regression, or for anomaly detection (classification with a null target).</p>
<p>You can query the data dictionary view *<code>_MINING_MODEL_SETTINGS</code> (using the <code>ALL</code>, <code>USER</code>, or <code>DBA</code> prefix) to find the setting values for a model. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about *<code>_MINING_MODEL_SETTINGS</code>.</p>
<div id="ARPLS65798" class="tblformalwidemax">
<p class="titleintable"><a id="sthref2297"></a><a id="sthref2298"></a>Table 44-16 SVM Settings</p>
<table class="cellalignment1226" title="SVM Settings" summary="This table describes algorithm settings for Support Vector Machine." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t34">Setting Name</th>
<th class="cellalignment1227" id="r1c2-t34">Setting Value</th>
<th class="cellalignment1227" id="r1c3-t34">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t34" headers="r1c1-t34">
<p><code>SVMS_ACTIVE_LEARNING</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t34 r1c2-t34">
<p><code>SVMS_AL_DISABLE</code></p>
<p><code>SVMS_AL_ENABLE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t34 r1c3-t34">
<p>Whether active learning is enabled or disabled. By default, active learning is enabled.</p>
<p>When active learning is enabled, the SVM algorithm uses active learning to build a reduced size model. When active learning is disabled, the SVM algorithm builds a standard model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t34" headers="r1c1-t34">
<p><code>SVMS_COMPLEXITY_FACTOR</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0</code><code>)</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t34 r1c3-t34">
<p>Value of complexity factor for SVM algorithm (both classification and regression).</p>
<p>Default value estimated from the data by the algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t34" headers="r1c1-t34">
<p><code>SVMS_CONV_TOLERANCE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t34 r1c3-t34">
<p>Convergence tolerance for SVM algorithm.</p>
<p>Default is 0.001.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t34" headers="r1c1-t34">
<p><code>SVMS_EPSILON</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t34 r1c3-t34">
<p>Value of epsilon factor for SVM regression.</p>
<p>Default value estimated from the data by the algorithm.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t34" headers="r1c1-t34">
<p><code>SVMS_KERNEL_CACHE_SIZE</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t34 r1c3-t34">
<p>Value of kernel cache size for SVM algorithm. Applies to Gaussian kernel only.</p>
<p>Default is 50000000 bytes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t34" headers="r1c1-t34">
<p><code>SVMS_KERNEL_FUNCTION</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t34 r1c2-t34">
<p><code>svm_gaussian</code></p>
<p><code>svms_linear</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t34 r1c3-t34">
<p>Kernel for Support Vector Machine. The default is determined by the algorithm based on the number of attributes in the training data. When there are many attributes, the algorithm uses a linear kernel, otherwise it uses a nonlinear (Gaussian) kernel.</p>
<p>The number of attributes does not correspond to the number of columns in the training data. The algorithm explodes categorical attributes to binary, numeric attributes. In addition, Oracle Data Mining handles each row in a nested column as a separate attribute. SVM takes these factors into account when choosing the kernel function.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t34" headers="r1c1-t34">
<p><code>SVMS_OUTLIER_RATE</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">0&lt; numeric_expr</span></code> <code>&lt;1)</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t34 r1c3-t34">
<p>The desired rate of outliers in the training data. Valid for One-Class SVM models only (anomaly detection).</p>
<p>Default is.1.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t34" headers="r1c1-t34">
<p><code>SVMS_STD_DEV</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t34 r1c2-t34">
<p><code>TO_CHAR(</code><code><span class="codeinlineitalic">numeric_expr</span></code> <code>&gt;0)</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t34 r1c3-t34">
<p>Value of standard deviation for SVM algorithm.</p>
<p>This is applicable only for Gaussian kernel.</p>
<p>Default value estimated from the data by the algorithm.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON025" href="../../datamine.112/e16808/algo_svm.htm#DMCON025"><span class="italic">Oracle Data Mining Concepts</span></a> for information about SVM</div>
</div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="ARPLS609" class="refsect2"><a id="i1069306"></a>
<hr />
<h3 class="refsect2">Data Types</h3>
<p>The<a id="sthref2299"></a> <code>DBMS_DATA_MINING</code> package uses object data types to store information about model attributes. Most of these types are returned by the table functions <code>GET</code>_<code><span class="codeinlineitalic">n</span></code>, where <code><span class="codeinlineitalic">n</span></code> identifies the type of information to return. These functions take a model name as input and return the requested information as a collection of rows.</p>
<p>For a list of the <code>GET</code> functions, see <a href="#i1069667">"Summary of DBMS_DATA_MINING Subprograms"</a>.</p>
<p>Oracle Data Mining also uses object data types for handling transactional data. These types, <code>DM_NESTED_NUMERICALS</code> and <code>DM_NESTED_CATEGORICALS</code> specify nested tables that can be used for storing a set of mining attributes in a single column. For more information on nested tables, see the <a class="olink DMPRG006" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG006"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
<p>All the table functions use <span class="bold">pipelining</span>, which causes each row of output to be materialized as it is read from model storage, without waiting for the generation of the complete table object. For more information on pipelined, parallel table functions, consult the <a class="olink LNPLS01210" href="../../appdev.112/e25519/tuning.htm#LNPLS01210"><span class="italic">Oracle Database PL/SQL Language Reference.</span></a></p>
<p>The Data Mining object data types are described in <a href="#BAJCGIII">Table 44-17</a>.</p>
<div id="ARPLS65799" class="tblformal">
<p class="titleintable"><a id="sthref2300"></a><a id="BAJCGIII"></a>Table 44-17 DBMS_DATA_MINING Summary of Data Types</p>
<table class="cellalignment1229" title="DBMS_DATA_MINING Summary of Data Types" summary="This table contains the DBMS_DATA_MINING Summary of Data Types." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t36">Data Type</th>
<th class="cellalignment1227" id="r1c2-t36">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t36" headers="r1c1-t36">
<p><code>DM_ABN_DETAIL</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t36 r1c2-t36">
<p>Information about an attribute in an Adaptive Bayes Network model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t36" headers="r1c1-t36">
<p><code>DM_ABN_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t36 r1c2-t36">
<p>A collection of <code>DM_ABN_DETAIL</code>. Returned by <a href="#i1040058">GET_MODEL_DETAILS_ABN Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t36" headers="r1c1-t36">
<p><code>DM_CENTROID</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t36 r1c2-t36">
<p>The centroid of a cluster.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t36" headers="r1c1-t36">
<p><code>DM_CENTROIDS</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t36 r1c2-t36">
<p>A collection of <code>DM_CENTROID</code>. A member of <code>DM_CLUSTER</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t36" headers="r1c1-t36">
<p><code>DM_CHILD</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t36 r1c2-t36">
<p>A child node of a cluster.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t36" headers="r1c1-t36">
<p><code>DM_CHILDREN</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t36 r1c2-t36">
<p>A collection of <code>DM_CHILD</code>. A member of <code>DM_CLUSTER</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t36" headers="r1c1-t36">
<p><code>DM_CLUSTER</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t36 r1c2-t36">
<p>A cluster. A cluster includes <code>DM_PREDICATES</code>, <code>DM_CHILDREN</code>, <code>DM_CENTROIDS</code>, and <code>DM_HISTOGRAMS</code>. It also includes a <code>DM_RULE</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t36" headers="r1c1-t36">
<p><code>DM_CLUSTERS</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t36 r1c2-t36">
<p>A collection of <code>DM_CLUSTER</code>. Returned by <a href="#CACIIEAA">GET_MODEL_DETAILS_KM Function</a> and <a href="#CACDAIAE">GET_MODEL_DETAILS_OC Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t36" headers="r1c1-t36">
<p><code>DM_CONDITIONAL</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t36 r1c2-t36">
<p>The conditional probability of an attribute in a Naive Bayes model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t36" headers="r1c1-t36">
<p><code>DM_CONDITIONALS</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t36 r1c2-t36">
<p>A collection of <code>DM_CONDITIONAL</code>. Returned by <a href="#i1040352">GET_MODEL_DETAILS_NB Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t36" headers="r1c1-t36">
<p><code>DM_COST_ELEMENT</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t36 r1c2-t36">
<p>The actual and predicted values in a cost matrix.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t36" headers="r1c1-t36">
<p><code>DM_COST_MATRIX</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t36 r1c2-t36">
<p>A collection of <code>DM_COST_ELEMENT</code>. Returned by <a href="#CACGJGDJ">GET_MODEL_COST_MATRIX Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t36" headers="r1c1-t36">
<p><code>DM_GLM_COEFF</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t36 r1c2-t36">
<p>The coefficient and associated statistics of an attribute in a Generalized Linear Model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t36" headers="r1c1-t36">
<p><code>DM_GLM_COEFF_SET</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t36 r1c2-t36">
<p>A collection of <code>DM_GLM_COEFF</code>. Returned by <a href="#CACECDHF">GET_MODEL_DETAILS_GLM Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t36" headers="r1c1-t36">
<p><code>DM_HISTOGRAM_BIN</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t36 r1c2-t36">
<p>A histogram associated with a cluster.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t36" headers="r1c1-t36">
<p><code>DM_HISTOGRAMS</code></p>
</td>
<td class="cellalignment1228" headers="r17c1-t36 r1c2-t36">
<p>A collection of <code>DM_HISTOGRAM_BIN</code>. A member of <code>DM_CLUSTER</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r18c1-t36" headers="r1c1-t36">
<p><code>DM_ITEM</code></p>
</td>
<td class="cellalignment1228" headers="r18c1-t36 r1c2-t36">
<p>An item in an association rule.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r19c1-t36" headers="r1c1-t36">
<p><code>DM_ITEMS</code></p>
</td>
<td class="cellalignment1228" headers="r19c1-t36 r1c2-t36">
<p>A collection of <code>DM_ITEM</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r20c1-t36" headers="r1c1-t36">
<p><code>DM_ITEMSET</code></p>
</td>
<td class="cellalignment1228" headers="r20c1-t36 r1c2-t36">
<p>A collection of <code>DM_ITEMS</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r21c1-t36" headers="r1c1-t36">
<p><code>DM_ITEMSETS</code></p>
</td>
<td class="cellalignment1228" headers="r21c1-t36 r1c2-t36">
<p>A collection of <code>DM_ITEMSET</code>. Returned by <a href="#i1039941">GET_FREQUENT_ITEMSETS Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r22c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_GLOBAL_DETAIL</code></p>
</td>
<td class="cellalignment1228" headers="r22c1-t36 r1c2-t36">
<p>High-level statistics about a model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r23c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_GLOBAL_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r23c1-t36 r1c2-t36">
<p>A collection of <code>DM_MODEL_GLOBAL_DETAIL</code>. Returned by <a href="#CACICAIJ">GET_MODEL_DETAILS_GLOBAL Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r24c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_SETTING</code></p>
</td>
<td class="cellalignment1228" headers="r24c1-t36 r1c2-t36">
<p>A model setting.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r25c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_SETTINGS</code></p>
</td>
<td class="cellalignment1228" headers="r25c1-t36 r1c2-t36">
<p>A collection of <code>DM_MODEL_SETTING</code>. Returned by <a href="#i1040722">GET_MODEL_SETTINGS Function</a> and <a href="#i1065612">GET_DEFAULT_SETTINGS Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r26c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_SIGNATURE_ATTRIBUTE</code></p>
</td>
<td class="cellalignment1228" headers="r26c1-t36 r1c2-t36">
<p>An attribute in the model signature.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r27c1-t36" headers="r1c1-t36">
<p><code>DM_MODEL_SIGNATURE</code></p>
</td>
<td class="cellalignment1228" headers="r27c1-t36 r1c2-t36">
<p>A collection of <code>DM_MODEL_SIGNATURE</code>. Returned by <a href="#i1040800">GET_MODEL_SIGNATURE Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r28c1-t36" headers="r1c1-t36">
<p><code>DM_NB_DETAIL</code></p>
</td>
<td class="cellalignment1228" headers="r28c1-t36 r1c2-t36">
<p>Information about an attribute in a Naive Bayes model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r29c1-t36" headers="r1c1-t36">
<p><code>DM_NB_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r29c1-t36 r1c2-t36">
<p>A collection of <code>DM_DB_DETAIL</code>. Returned by <a href="#i1040352">GET_MODEL_DETAILS_NB Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r30c1-t36" headers="r1c1-t36">
<p><code>DM_NESTED_CATEGORICAL</code></p>
</td>
<td class="cellalignment1228" headers="r30c1-t36 r1c2-t36">
<p>The name and value of a categorical attribute.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r31c1-t36" headers="r1c1-t36">
<p><code>DM_NESTED_CATEGORICALS</code></p>
</td>
<td class="cellalignment1228" headers="r31c1-t36 r1c2-t36">
<p>A collection of <code>DM_NESTED_CATEGORICAL</code>. A collection of attributes defined as a single model attribute. Transactional data must be defined as nested attributes for Data Mining.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r32c1-t36" headers="r1c1-t36">
<p><code>DM_NESTED_NUMERICAL</code></p>
</td>
<td class="cellalignment1228" headers="r32c1-t36 r1c2-t36">
<p>The name and value of a numerical attribute.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r33c1-t36" headers="r1c1-t36">
<p><code>DM_NESTED_NUMERICALS</code></p>
</td>
<td class="cellalignment1228" headers="r33c1-t36 r1c2-t36">
<p>A collection of <code>DM_NESTED_NUMERICAL</code>. A collection of attributes defined as a single model attribute. Transactional data must be defined as nested attributes for Data Mining.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r34c1-t36" headers="r1c1-t36">
<p><code>DM_NMF_ATTRIBUTE</code></p>
</td>
<td class="cellalignment1228" headers="r34c1-t36 r1c2-t36">
<p>An attribute in a feature of a Non-Negative Matrix Factorization model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r35c1-t36" headers="r1c1-t36">
<p><code>DM_NMF_ATTRIBUTE_SET</code></p>
</td>
<td class="cellalignment1228" headers="r35c1-t36 r1c2-t36">
<p>A collection of <code>DM_NMF_ATTRIBUTE</code>. A member of <code>DM_NMF_FEATURE</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r36c1-t36" headers="r1c1-t36">
<p><code>DM_NMF_FEATURE</code></p>
</td>
<td class="cellalignment1228" headers="r36c1-t36 r1c2-t36">
<p>A feature in a Non-Negative Matrix Factorization model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r37c1-t36" headers="r1c1-t36">
<p><code>DM_NMF_FEATURE_SET</code></p>
</td>
<td class="cellalignment1228" headers="r37c1-t36 r1c2-t36">
<p>A collection of <code>DM_NMF_FEATURE</code>. Returned by <a href="#i1040515">GET_MODEL_DETAILS_NMF Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r38c1-t36" headers="r1c1-t36">
<p><code>DM_PREDICATE</code></p>
</td>
<td class="cellalignment1228" headers="r38c1-t36 r1c2-t36">
<p>Antecedent and consequent attributes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r39c1-t36" headers="r1c1-t36">
<p><code>DM_PREDICATES</code></p>
</td>
<td class="cellalignment1228" headers="r39c1-t36 r1c2-t36">
<p>A collection of <code>DM_PREDICATE</code>. A member of <code>DM_RULE</code>, <code>DM_CLUSTER</code>, and <code>DM_ABN_DETAIL</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r40c1-t36" headers="r1c1-t36">
<p><code>DM_RANKED_ATTRIBUTE</code></p>
</td>
<td class="cellalignment1228" headers="r40c1-t36 r1c2-t36">
<p>An attribute ranked by its importance in an Attribute Importance model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r41c1-t36" headers="r1c1-t36">
<p><code>DM_RANKED_ATTRIBUTES</code></p>
</td>
<td class="cellalignment1228" headers="r41c1-t36 r1c2-t36">
<p>A collection of <code>DM_RANKED_ATTRIBUTE</code>. Returned by <a href="#CACGDHGJ">GET_MODEL_DETAILS_AI Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r42c1-t36" headers="r1c1-t36">
<p><code>DM_RULE</code></p>
</td>
<td class="cellalignment1228" headers="r42c1-t36 r1c2-t36">
<p>A rule that defines a conditional relationship.</p>
<p>The rule can be one of the association rules returned by <a href="#i1039753">GET_ASSOCIATION_RULES Function</a>, or it can be a rule associated with a cluster in the collection of clusters returned by <a href="#CACIIEAA">GET_MODEL_DETAILS_KM Function</a> and <a href="#CACDAIAE">GET_MODEL_DETAILS_OC Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r43c1-t36" headers="r1c1-t36">
<p><code>DM_RULES</code></p>
</td>
<td class="cellalignment1228" headers="r43c1-t36 r1c2-t36">
<p>A collection of <code>DM_RULE</code>. Returned by <a href="#i1039753">GET_ASSOCIATION_RULES Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r44c1-t36" headers="r1c1-t36">
<p><code>DM_SVM_ATTRIBUTE</code></p>
</td>
<td class="cellalignment1228" headers="r44c1-t36 r1c2-t36">
<p>The name, value, and coefficient of an attribute in a Support Vector Machine model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r45c1-t36" headers="r1c1-t36">
<p><code>DM_SVM_ATTRIBUTE_SET</code></p>
</td>
<td class="cellalignment1228" headers="r45c1-t36 r1c2-t36">
<p>A collection of <code>DM_SVM_ATTRIBUTE</code>. Returned by <a href="#i1040615">GET_MODEL_DETAILS_SVM Function</a>. Also a member of <code>DM_SVM_LINEAR_COEFF</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r46c1-t36" headers="r1c1-t36">
<p><code>DM_SVM_LINEAR_COEFF</code></p>
</td>
<td class="cellalignment1228" headers="r46c1-t36 r1c2-t36">
<p>The linear coefficient of each attribute in a Support Vector Machine model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r47c1-t36" headers="r1c1-t36">
<p><code>DM_SVM_LINEAR_COEFF_SET</code></p>
</td>
<td class="cellalignment1228" headers="r47c1-t36 r1c2-t36">
<p>A collection of <code>DM_SVM_LINEAR_COEFF</code>. Returned by <a href="#i1040615">GET_MODEL_DETAILS_SVM Function</a> for an SVM model built using the linear kernel.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r48c1-t36" headers="r1c1-t36">
<p><code>DM_TRANSFORM</code></p>
</td>
<td class="cellalignment1228" headers="r48c1-t36 r1c2-t36">
<p>The transformation and reverse transformation expressions for an attribute.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r49c1-t36" headers="r1c1-t36">
<p><code>DM_TRANSFORMS</code></p>
</td>
<td class="cellalignment1228" headers="r49c1-t36 r1c2-t36">
<p>A collection of <code>DM_TRANSFORM</code>. Returned by <a href="#CACJDBCE">GET_MODEL_TRANSFORMATIONS Function</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r50c1-t36" headers="r1c1-t36">
<p><code>TRANSFORM_LIST</code></p>
</td>
<td class="cellalignment1228" headers="r50c1-t36 r1c2-t36">
<p>A list of user-specified transformations for a model. Accepted as a parameter by the <a href="#i1038828">CREATE_MODEL Procedure</a>.</p>
<p>This collection type is defined in the <a href="d_dmtran.htm#BAJHICDA">DBMS_DATA_MINING_TRANSFORM</a> package.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1069667"></a>
<hr />
<div id="ARPLS196" class="refsect1">
<h2 class="refsect1">Summary of DBMS_DATA_MINING Subprograms</h2>
<p><a href="#CACFGIJG">Table 44-18</a> <a id="sthref2301"></a>summarizes the subprograms included in the <code>DBMS_DATA_MINING</code> package.</p>
<div id="ARPLS65800" class="tblformal">
<p class="titleintable"><a id="sthref2302"></a><a id="CACFGIJG"></a>Table 44-18 DBMS_DATA_MINING Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_DATA_MINING Package Subprograms" summary="This table lists the DBMS_DATA_MINING subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t37">Data Type</th>
<th class="cellalignment1227" id="r1c2-t37">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t37" headers="r1c1-t37">
<p><a href="#CACGCHCE">ADD_COST_MATRIX Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t37 r1c2-t37">
<p>Adds a cost matrix to a classification model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t37" headers="r1c1-t37">
<p><a href="#CACCBBJG">ALTER_REVERSE_EXPRESSION Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t37 r1c2-t37">
<p>Changes the reverse transformation expression to an expression that you specify</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t37" headers="r1c1-t37">
<p><a href="#i1038691">APPLY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t37 r1c2-t37">
<p>Applies a model to a data set (scores the data)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t37" headers="r1c1-t37">
<p><a href="#i1038990">COMPUTE_CONFUSION_MATRIX Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t37 r1c2-t37">
<p>Computes the confusion matrix from the <code>APPLY</code> results on test data for a classification model; also provides the accuracy of the model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t37" headers="r1c1-t37">
<p><a href="#i1042043">COMPUTE_LIFT Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t37 r1c2-t37">
<p>Computes lift for a given positive target value from the <code>APPLY</code> results on test data for a classification model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t37" headers="r1c1-t37">
<p><a href="#i1039323">COMPUTE_ROC Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t37 r1c2-t37">
<p>Computes Receiver Operating Characteristic (ROC) for a classification model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t37" headers="r1c1-t37">
<p><a href="#i1038828">CREATE_MODEL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t37 r1c2-t37">
<p>Creates (builds) a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t37" headers="r1c1-t37">
<p><a href="#i1039535">DROP_MODEL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r9c1-t37 r1c2-t37">
<p>Drops a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t37" headers="r1c1-t37">
<p><a href="#i1039591">EXPORT_MODEL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r10c1-t37 r1c2-t37">
<p>Exports a model to a dump file</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t37" headers="r1c1-t37">
<p><a href="#i1039753">GET_ASSOCIATION_RULES Function</a></p>
</td>
<td class="cellalignment1228" headers="r11c1-t37 r1c2-t37">
<p>Returns the rules from an association model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t37" headers="r1c1-t37">
<p><a href="#i1065612">GET_DEFAULT_SETTINGS Function</a></p>
</td>
<td class="cellalignment1228" headers="r12c1-t37 r1c2-t37">
<p>Returns all the default settings for all mining functions and algorithms</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t37" headers="r1c1-t37">
<p><a href="#i1039941">GET_FREQUENT_ITEMSETS Function</a></p>
</td>
<td class="cellalignment1228" headers="r13c1-t37 r1c2-t37">
<p>Returns the frequent itemsets for an association model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t37" headers="r1c1-t37">
<p><a href="#CACGJGDJ">GET_MODEL_COST_MATRIX Function</a></p>
</td>
<td class="cellalignment1228" headers="r14c1-t37 r1c2-t37">
<p>Returns the cost matrix for a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t37" headers="r1c1-t37">
<p><a href="#i1040058">GET_MODEL_DETAILS_ABN Function</a></p>
</td>
<td class="cellalignment1228" headers="r15c1-t37 r1c2-t37">
<p>Returns the details of an Adaptive Bayes Network model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t37" headers="r1c1-t37">
<p><a href="#CACGDHGJ">GET_MODEL_DETAILS_AI Function</a></p>
</td>
<td class="cellalignment1228" headers="r16c1-t37 r1c2-t37">
<p>Returns the details of an Attribute Importance model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t37" headers="r1c1-t37">
<p><a href="#CACECDHF">GET_MODEL_DETAILS_GLM Function</a></p>
</td>
<td class="cellalignment1228" headers="r17c1-t37 r1c2-t37">
<p>Returns the details of a Generalized Linear Model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r18c1-t37" headers="r1c1-t37">
<p><a href="#CACICAIJ">GET_MODEL_DETAILS_GLOBAL Function</a></p>
</td>
<td class="cellalignment1228" headers="r18c1-t37 r1c2-t37">
<p>Returns high-level statistics about a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r19c1-t37" headers="r1c1-t37">
<p><a href="#CACIIEAA">GET_MODEL_DETAILS_KM Function</a></p>
</td>
<td class="cellalignment1228" headers="r19c1-t37 r1c2-t37">
<p>Returns the details of a <span class="italic">k</span>-Means model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r20c1-t37" headers="r1c1-t37">
<p><a href="#i1040352">GET_MODEL_DETAILS_NB Function</a></p>
</td>
<td class="cellalignment1228" headers="r20c1-t37 r1c2-t37">
<p>Returns the details of a Naive Bayes model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r21c1-t37" headers="r1c1-t37">
<p><a href="#i1040515">GET_MODEL_DETAILS_NMF Function</a></p>
</td>
<td class="cellalignment1228" headers="r21c1-t37 r1c2-t37">
<p>Returns the details of an NMF model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r22c1-t37" headers="r1c1-t37">
<p><a href="#CACDAIAE">GET_MODEL_DETAILS_OC Function</a></p>
</td>
<td class="cellalignment1228" headers="r22c1-t37 r1c2-t37">
<p>Returns the details of an O-Cluster model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r23c1-t37" headers="r1c1-t37">
<p><a href="#i1040615">GET_MODEL_DETAILS_SVM Function</a></p>
</td>
<td class="cellalignment1228" headers="r23c1-t37 r1c2-t37">
<p>Returns the details of an SVM model with a linear kernel</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r24c1-t37" headers="r1c1-t37">
<p><a href="#CACFGFDB">GET_MODEL_DETAILS_XML Function</a></p>
</td>
<td class="cellalignment1228" headers="r24c1-t37 r1c2-t37">
<p>Returns the details of a Decision Tree model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r25c1-t37" headers="r1c1-t37">
<p><a href="#i1040722">GET_MODEL_SETTINGS Function</a></p>
</td>
<td class="cellalignment1228" headers="r25c1-t37 r1c2-t37">
<p>Returns the settings used to build a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r26c1-t37" headers="r1c1-t37">
<p><a href="#i1040800">GET_MODEL_SIGNATURE Function</a></p>
</td>
<td class="cellalignment1228" headers="r26c1-t37 r1c2-t37">
<p>Returns the signature of a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r27c1-t37" headers="r1c1-t37">
<p><a href="#CACJDBCE">GET_MODEL_TRANSFORMATIONS Function</a></p>
</td>
<td class="cellalignment1228" headers="r27c1-t37 r1c2-t37">
<p>Returns the user-specified transformation definitions embedded in the model, as well as many of the ADP transformations</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r28c1-t37" headers="r1c1-t37">
<p><a href="#CACBGIDA">GET_TRANSFORM_LIST Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r28c1-t37 r1c2-t37">
<p>Converts between two different transformation specification formats</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r29c1-t37" headers="r1c1-t37">
<p><a href="#i1040882">IMPORT_MODEL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r29c1-t37 r1c2-t37">
<p>Imports a model into a user schema</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r30c1-t37" headers="r1c1-t37">
<p><a href="#i1041086">RANK_APPLY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r30c1-t37 r1c2-t37">
<p>Ranks the predictions from the <code>APPLY</code> results for a classification model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r31c1-t37" headers="r1c1-t37">
<p><a href="#CACFCAIH">REMOVE_COST_MATRIX Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r31c1-t37 r1c2-t37">
<p>Removes a cost matrix from a model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r32c1-t37" headers="r1c1-t37">
<p><a href="#i1041237">RENAME_MODEL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r32c1-t37 r1c2-t37">
<p>Renames a model</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS65801" class="refsect2"><a id="CACGCHCE"></a>
<hr />
<h3 class="refsect2"><a id="sthref2303"></a>ADD_COST_MATRIX Procedure</h3>
<p><a id="sthref2304"></a>This procedure associates a cost matrix table with a classification model. The cost matrix biases the model by assigning costs or benefits to specific model outcomes.</p>
<p>The cost matrix is stored with the model and taken into account when the model is scored. The stored cost matrix is the default scoring matrix for the model.</p>
<p>You can also specify a cost matrix inline when you invoke a Data Mining SQL function for scoring. When an inline cost matrix is specified, it is used instead of the default, stored cost matrix (if one exists).</p>
<p>To obtain the default scoring matrix for a model, use the <code>GET_MODEL_COST_MATRIX</code> function. To remove the default scoring matrix from a model, use the <code>REMOVE_COST_MATRIX</code> procedure. See <a href="#CACGJGDJ">"GET_MODEL_COST_MATRIX Function"</a> and <a href="#CACFCAIH">"REMOVE_COST_MATRIX Procedure"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>"Biasing a Classification Model" in <a class="olink DMCON050" href="../../datamine.112/e16808/classify.htm#DMCON050"><span class="italic">Oracle Data Mining Concepts</span></a> for more information about costs</p>
</li>
<li>
<p><a class="olink SQLRF06210" href="../../server.112/e41084/functions134.htm#SQLRF06210"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax of inline cost matrix</p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2305"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.ADD_COST_MATRIX (
       model_name                IN VARCHAR2,
       cost_matrix_table_name    IN VARCHAR2,
       cost_matrix_schema_name   IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2306"></a>Parameters</p>
<div id="ARPLS65802" class="tblformal">
<p class="titleintable"><a id="sthref2307"></a><a id="sthref2308"></a>Table 44-19 ADD_COST_MATRIX Procedure Parameters</p>
<table class="cellalignment1229" title="ADD_COST_MATRIX Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.ADD_COST_MATRIX." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t39">Parameter</th>
<th class="cellalignment1227" id="r1c2-t39">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t39" headers="r1c1-t39">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t39 r1c2-t39">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t39" headers="r1c1-t39">
<p><code>cost_matrix_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t39 r1c2-t39">
<p>Name of the cost matrix table (described in <a href="#CACBEFFJ">Table 44-20</a>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t39" headers="r1c1-t39">
<p><code>cost_matrix_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t39 r1c2-t39">
<p>Schema of the cost matrix table. If no schema is specified, the current schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2309"></a>Usage Notes</p>
<ol>
<li>
<p>If the model is not in your schema, then <code>ADD_COST_MATRIX</code> requires the <code>ALTER ANY MINING MODEL</code> system privilege or the <code>ALTER</code> object privilege for the mining model.</p>
</li>
<li>
<p>The cost matrix table must have the columns shown in <a href="#CACBEFFJ">Table 44-20</a>. Note that the actual and predicted target values must have the same data type.</p>
<div id="ARPLS65803" class="tblformal">
<p class="titleintable"><a id="sthref2310"></a><a id="CACBEFFJ"></a>Table 44-20 Required Columns in a Cost Matrix Table</p>
<table class="cellalignment1229" title="Required Columns in a Cost Matrix Table" summary="This table describes the column names and data types that are required in a cost matrix table." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t40">Column Name</th>
<th class="cellalignment1227" id="r1c2-t40">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t40" headers="r1c1-t40">
<p><code>ACTUAL_TARGET_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t40 r1c2-t40">
<p><code>VARCHAR2(4000)</code> for categorical targets</p>
<p><code>NUMBER</code> for numeric targets</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t40" headers="r1c1-t40">
<p><code>PREDICTED_TARGET_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t40 r1c2-t40">
<p><code>VARCHAR2(4000)</code>for categorical targets</p>
<p><code>NUMBER</code> for numeric targets</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t40" headers="r1c1-t40">
<p><code>COST</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t40 r1c2-t40">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></li>
<li>
<p>Since a benefit can be viewed as a negative cost, you can specify a benefit for a given outcome by providing a negative number in the <code>costs</code> column of the cost matrix table.</p>
</li>
<li>
<p>All classification algorithms can use a cost matrix for scoring. The Decision Tree algorithm can also use a cost matrix at build time.If you want to build a Decision Tree model with a cost matrix, specify the cost matrix table name in the <code>CLAS_COST_TABLE_NAME</code> setting in the settings table for the model. See <a href="#CACGFIDD">Table 44-7, "Mining Function Settings"</a>.</p>
<p>The cost matrix used to create a Decision Tree model becomes the default scoring matrix for the model. If you want to specify different costs for scoring, use the <code>REMOVE_COST_MATRIX</code> procedure to remove the cost matrix and the <code>ADD_COST_MATRIX</code> procedure to add a new one.</p>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2311"></a>Example</p>
<p>This example creates a cost matrix table called <code>COSTS_NB</code> and adds it to a Naive Bayes model called <code>NB_SH_CLAS_SAMPLE</code>. The model has a binary target: 1 means that the customer responds to a promotion; 0 means that the customer does not respond. The cost matrix assigns a cost of .25 to misclassifications of customers who do not respond and a cost of .75 to misclassifications of customers who do respond. This means that it is three times more costly to misclassify responders than it is to misclassify non-responders.</p>
<pre>
CREATE TABLE costs_nb (
  actual_target_value           NUMBER,
  predicted_target_value        NUMBER,
  cost                          NUMBER);
INSERT INTO costs_nb values (0, 0, 0);
INSERT INTO costs_nb values (0, 1, .25);
INSERT INTO costs_nb values (1, 0, .75);
INSERT INTO costs_nb values (1, 1, 0);
COMMIT;
 
EXEC dbms_data_mining.add_cost_matrix('nb_sh_clas_sample', 'costs_nb');
 
SELECT cust_gender, COUNT(*) AS cnt, ROUND(AVG(age)) AS avg_age
   FROM mining_data_apply_v
   WHERE PREDICTION(nb_sh_clas_sample COST MODEL
      USING cust_marital_status, education, household_size) = 1
   GROUP BY cust_gender
   ORDER BY cust_gender;
   
C        CNT    AVG_AGE
- ---------- ----------
F         72         39
M        555         44
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65804" class="refsect2"><a id="CACCBBJG"></a>
<hr />
<h3 class="refsect2"><a id="sthref2312"></a>ALTER_REVERSE_EXPRESSION Procedure</h3>
<p>This procedure replaces a reverse transformation expression with an expression that you specify. If the attribute does not have a reverse expression, the procedure creates one from the specified expression.</p>
<p>You can also use this procedure to customize the output of clustering, feature extraction, and anomaly detection models.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2313"></a>Syntax</p>
<pre>
DBMS_DATA_MINING. ALTER_REVERSE_EXPRESSION (
         model_name             VARCHAR2,
         expression             CLOB,
         attribute_name         VARCHAR2 DEFAULT NULL,
         attribute_subname      VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2314"></a>Parameters</p>
<div id="ARPLS65805" class="tblformal">
<p class="titleintable"><a id="sthref2315"></a><a id="sthref2316"></a>Table 44-21 ALTER_REVERSE_EXPRESSION Procedure Parameters</p>
<table class="cellalignment1229" title="ALTER_REVERSE_EXPRESSION Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.ALTER_REVERSE_EXPRESSION" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t41">Parameter</th>
<th class="cellalignment1227" id="r1c2-t41">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t41" headers="r1c1-t41">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t41 r1c2-t41">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t41" headers="r1c1-t41">
<p><code>expression</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t41 r1c2-t41">
<p>A SQL expression</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t41" headers="r1c1-t41">
<p><code>attribute_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t41 r1c2-t41">
<p>Name of the attribute. Specify <code>NULL</code> if you wish to apply <code><span class="codeinlineitalic">expression</span></code> to a cluster, feature, or One-Class SVM prediction.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t41" headers="r1c1-t41">
<p><code>attribute_subname</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t41 r1c2-t41">
<p>Name of the nested attribute if <code><span class="codeinlineitalic">attribute_name</span></code> is a nested column, otherwise <code>NULL</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CHDDHCHB"></a>Usage Notes</p>
<ol>
<li>
<p>For purposes of model transparency, Oracle Data Mining provides reverse transformations for transformations that are embedded in a model. Reverse transformations are used in model details and in the results of scoring.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="d_dmtran.htm#CACHEGJD">About Transformation Lists</a> in <a href="d_dmtran.htm#BAJHICDA">Chapter 45</a></div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Use caution when altering the reverse expression for the target of a model that has a cost matrix. If you specify a reverse expression that is inconsistent with the target values in the cost matrix table, you will not be able to score the model.
<p>See <a href="#CACGCHCE">"ADD_COST_MATRIX Procedure"</a> and <a class="olink DMCON050" href="../../datamine.112/e16808/classify.htm#DMCON050"><span class="italic">Oracle Data Mining Concepts</span></a> for information about cost matrixes.</p>
</div>
</li>
<li>
<p>To prevent reverse transformation of an attribute, you can specify <code>NULL</code> for <code><span class="codeinlineitalic">expression</span></code>.</p>
</li>
<li>
<p>You can use <code>ALTER_REVERSE_EXPRESSION</code> to label clusters produced by clustering models and features produced by feature extraction.</p>
<p>You can use <code>ALTER_REVERSE_EXPRESSION</code> to replace the zeros and ones returned by anomaly-detection models. By default, anomaly-detection models label anomalous records with 0 and all other records with 1.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON006" href="../../datamine.112/e16808/anomalies.htm#DMCON006"><span class="italic">Oracle Data Mining Concepts</span></a> for information about anomaly detection</div>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CHDHJBED"></a>Examples</p>
<ol>
<li>
<p>In this example, the target (<code>affinity_card</code>) of the model <code>CLASS_MODEL</code> is manipulated internally as <code>yes</code> or <code>no</code> instead of <code>1</code> or <code>0</code> but returned as <code>1</code>s and <code>0</code>s when scored. The <code>ALTER_REVERSE_EXPRESSION</code> procedure causes the target values to be returned as <code>TRUE</code> or <code>FALSE</code>.</p>
<p>The data sets <code>MINING_DATA_BUILD</code> and <code>MINING_DATA_TEST</code> are included with the Oracle Data Mining sample programs. See <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about the sample programs.</p>
<pre>
DECLARE
        v_xlst dbms_data_mining_transform.TRANSFORM_LIST;
  BEGIN
    dbms_data_mining_transform.SET_TRANSFORM(v_xlst,
          'affinity_card', NULL,
          'decode(affinity_card, 1, ''yes'', ''no'')',
          'decode(affinity_card, ''yes'', 1, 0)');
    dbms_data_mining.CREATE_MODEL(
      model_name             =&gt; 'CLASS_MODEL',
      mining_function        =&gt; dbms_data_mining.classification,
      data_table_name        =&gt; 'mining_data_build',
      case_id_column_name    =&gt; 'cust_id',
      target_column_name     =&gt; 'affinity_card',
      settings_table_name    =&gt; NULL,
      data_schema_name       =&gt; 'dmuser',
      settings_schema_name   =&gt; NULL,
      xform_list             =&gt; v_xlst );
  END;
/
SELECT cust_income_level, occupation,
           PREDICTION(CLASS_MODEL USING *) predict_response
      FROM mining_data_test WHERE age = 60 AND cust_gender IN 'M'
      ORDER BY cust_income_level;
 
CUST_INCOME_LEVEL              OCCUPATION                PREDICT_RESPONSE
------------------------------ --------------------- --------------------
A: Below 30,000                Transp.                                  1
E: 90,000 - 109,999            Transp.                                  1
E: 90,000 - 109,999            Sales                                    1
G: 130,000 - 149,999           Handler                                  0
G: 130,000 - 149,999           Crafts                                   0
H: 150,000 - 169,999           Prof.                                    1
J: 190,000 - 249,999           Prof.                                    1
J: 190,000 - 249,999           Sales                                    1
 
BEGIN
  dbms_data_mining.ALTER_REVERSE_EXPRESSION (
     model_name      =&gt; 'CLASS_MODEL',
     expression      =&gt; 'decode(affinity_card, ''yes'', ''TRUE'', ''FALSE'')',
     attribute_name  =&gt; 'affinity_card');
END;
/
column predict_response on
column predict_response format a20
SELECT cust_income_level, occupation,
             PREDICTION(CLASS_MODEL USING *) predict_response
      FROM mining_data_test WHERE age = 60 AND cust_gender IN 'M'
      ORDER BY cust_income_level;
 
CUST_INCOME_LEVEL              OCCUPATION            PREDICT_RESPONSE
------------------------------ --------------------- --------------------
A: Below 30,000                Transp.               TRUE
E: 90,000 - 109,999            Transp.               TRUE
E: 90,000 - 109,999            Sales                 TRUE
G: 130,000 - 149,999           Handler               FALSE
G: 130,000 - 149,999           Crafts                FALSE
H: 150,000 - 169,999           Prof.                 TRUE
J: 190,000 - 249,999           Prof.                 TRUE
J: 190,000 - 249,999           Sales                 TRUE
</pre></li>
<li>
<p>This example specifies labels for the clusters that result from the <code>sh_clus</code> model. The labels consist of the word "Cluster" and the internal numeric identifier for the cluster.</p>
<pre>
BEGIN
  dbms_data_mining.ALTER_REVERSE_EXPRESSION( 'sh_clus', '''Cluster ''||value');
END;
/
 
SELECT cust_id, cluster_id(sh_clus using *) cluster_id
   FROM sh_aprep_num
       WHERE cust_id &lt; 100011
       ORDER by cust_id;
 
CUST_ID CLUSTER_ID
------- ------------------------------------------------
 100001 Cluster 18
 100002 Cluster 14
 100003 Cluster 14
 100004 Cluster 18
 100005 Cluster 19
 100006 Cluster 7
 100007 Cluster 18
 100008 Cluster 14
 100009 Cluster 8
 100010 Cluster 8
</pre></li>
</ol>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65806" class="refsect2"><a id="i1038691"></a>
<hr />
<h3 class="refsect2"><a id="sthref2317"></a>APPLY Procedure</h3>
<p><a id="sthref2318"></a>This procedure applies a mining model to the data of interest, and generates the results in a table. The apply process is also referred to as <span class="bold">scoring</span>.</p>
<p>For predictive mining functions, the apply process generates predictions in a target column. For descriptive mining functions such as clustering, the apply process assigns each case to a cluster with a probability.</p>
<p>In Oracle Data Mining, the apply operation is not applicable to association models and attribute importance models.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Scoring<a id="sthref2319"></a> can also be performed directly in SQL using the Data Mining functions. See
<ul>
<li>
<p>"Data Mining Functions" in <a class="olink SQLRF20030" href="../../server.112/e41084/functions002.htm#SQLRF20030"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</li>
<li>
<p>"Scoring and Deployment" in <a class="olink DMPRG004" href="../../datamine.112/e12218/models_deploying.htm#DMPRG004"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> and</p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2320"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.APPLY (
      model_name           IN VARCHAR2,
      data_table_name      IN VARCHAR2,
      case_id_column_name  IN VARCHAR2,
      result_table_name    IN VARCHAR2,
      data_schema_name     IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2321"></a>Parameters</p>
<div id="ARPLS65807" class="tblformal">
<p class="titleintable"><a id="sthref2322"></a><a id="sthref2323"></a>Table 44-22 <span class="bolditalic">APPLY Procedure Parameters</span></p>
<table class="cellalignment1229" title="APPLY Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.APPLY." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t46">Parameter</th>
<th class="cellalignment1227" id="r1c2-t46">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t46" headers="r1c1-t46">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t46 r1c2-t46">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t46" headers="r1c1-t46">
<p><code>data_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t46 r1c2-t46">
<p>Name of table or view representing data to be scored</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t46" headers="r1c1-t46">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t46 r1c2-t46">
<p>Name of the case identifier column</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t46" headers="r1c1-t46">
<p><code>result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t46 r1c2-t46">
<p>Name of the table to store apply results</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t46" headers="r1c1-t46">
<p><code>data_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t46 r1c2-t46">
<p>Name of the schema containing the data to be scored</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CHDCEICD"></a>Usage Notes</p>
<ol>
<li>
<p>The data provided for <code>APPLY</code> must undergo the same preprocessing as the data used to create and test the model. When you use Automatic Data Preparation, the preprocessing required by the algorithm is handled for you by the model &mdash; both at build time and apply time. (See <a href="#CACEHEDI">"Automatic Data Preparation"</a>.)</p>
</li>
<li>
<p><code>APPLY</code> creates a table in the user's schema to hold the results. The columns are algorithm-specific.</p>
<p>The columns in the results table are listed in <a href="#BAJFIAAG">Table 44-23</a> through <a href="#CACHEDHD">Table 44-27</a>. The case ID column name in the results table will match the case ID column name provided by you. The type of the incoming case ID column is also preserved in <code>APPLY</code> output.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Make sure that the case ID column does not have the same name as one of the columns that will be created by <code>APPLY</code>. For example, when applying a classification model, the case ID in the scoring data must not be '<code>PREDICTION</code>' or '<code>PROBABILITY</code>' (See <a href="#BAJFIAAG">Table 44-23</a>).</div>
</li>
<li>
<p>The data type for the '<code>PREDICTION</code>', '<code>CLUSTER_ID</code>', and '<code>FEATURE_ID</code>' output columns is influenced by any reverse expression that is embedded in the model by the user. If the user does not provide a reverse expression that alters the scored value type, then the types will conform to the descriptions in the following tables. See <a href="#CACCBBJG">"ALTER_REVERSE_EXPRESSION Procedure"</a>.</p>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div id="ARPLS65808" class="refsect3"><a id="sthref2324"></a>
<h4 class="refsect3">Classification</h4>
<p>The results table for classification has the columns described in <a href="#BAJFIAAG">Table 44-23</a>. If the target of the model is categorical, the <code>PREDICTION</code> column will have a <code>VARCHAR2</code> data type. If the target is numerical, the <code>PREDICTION</code> column will have a <code>NUMBER</code> data type.</p>
<div id="ARPLS65809" class="tblformal">
<p class="titleintable"><a id="sthref2325"></a><a id="BAJFIAAG"></a>Table 44-23 APPLY Results Table for Classification</p>
<table class="cellalignment1229" title="APPLY Results Table for Classification" summary="This table describes the columns in the APPLY results table for classification models. Columns are case_id, prediction, and probability." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t48">Column Name</th>
<th class="cellalignment1227" id="r1c2-t48">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t48" headers="r1c1-t48">
<p><code><span class="codeinlineitalic">Case ID column name</span></code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t48 r1c2-t48">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t48" headers="r1c1-t48">
<p><code>PREDICTION</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t48 r1c2-t48">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t48" headers="r1c1-t48">
<p><code>PROBABILITY</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t48 r1c2-t48">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS65810" class="refsect3"><a id="sthref2326"></a>
<h4 class="refsect3">One-Class SVM (Anomaly Detection)</h4>
<p>The results table for anomaly detection has the columns described in <a href="#CACEFJDB">Table 44-24</a>.</p>
<div id="ARPLS65811" class="tblformal">
<p class="titleintable"><a id="sthref2327"></a><a id="CACEFJDB"></a>Table 44-24 APPLY Results Table for Anomaly Detection</p>
<table class="cellalignment1229" title="APPLY Results Table for Anomaly Detection" summary="This table describes the columns in the APPLY result table for one-class SVM (anomaly detection)." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t49">Column Name</th>
<th class="cellalignment1227" id="r1c2-t49">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t49" headers="r1c1-t49">
<p><code><span class="codeinlineitalic">Case ID column name</span></code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t49 r1c2-t49">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t49" headers="r1c1-t49">
<p><code>PREDICTION</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t49 r1c2-t49">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t49" headers="r1c1-t49">
<p><code>PROBABILITY</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t49 r1c2-t49">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>Values in the <code>PREDICTION</code> column can be either 0 or 1. When the prediction is 1, the case is a typical example. When the prediction is 0, the case is an outlier.</p>
</div>
<!-- class="refsect3" -->
<div id="ARPLS65812" class="refsect3"><a id="sthref2328"></a>
<h4 class="refsect3">Regression using SVM or GLM</h4>
<p>The results table for regression has the columns described in <a href="#CACDCDHC">Table 44-25</a>.</p>
<div id="ARPLS65813" class="tblformal">
<p class="titleintable"><a id="sthref2329"></a><a id="CACDCDHC"></a>Table 44-25 APPLY Results Table for Regression</p>
<table class="cellalignment1229" title="APPLY Results Table for Regression" summary="This table describes the columns in the APPLY Results Table for regression models." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t50">Column Name</th>
<th class="cellalignment1227" id="r1c2-t50">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t50" headers="r1c1-t50">
<p><code><span class="codeinlineitalic">Case ID column name</span></code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t50 r1c2-t50">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t50" headers="r1c1-t50">
<p><code>PREDICTION</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t50 r1c2-t50">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS65814" class="refsect3"><a id="sthref2330"></a>
<h4 class="refsect3">Clustering using <span class="italic">k</span>-Means or O-Cluster</h4>
<p>Clustering is an unsupervised mining function, and hence there are no targets. The results of an <code>APPLY</code> operation will contain simply the cluster identifier corresponding to a case, and the associated probability. The results table has the columns described in <a href="#CACHDGFB">Table 44-26</a>.</p>
<div id="ARPLS65815" class="tblformal">
<p class="titleintable"><a id="sthref2331"></a><a id="CACHDGFB"></a>Table 44-26 APPLY Results Table for Clustering</p>
<table class="cellalignment1229" title="APPLY Results Table for Clustering" summary="This table describes the columns in the APPLY results table for clustering algorithms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t51">Column Name</th>
<th class="cellalignment1227" id="r1c2-t51">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t51" headers="r1c1-t51">
<p><code><span class="codeinlineitalic">Case ID column name</span></code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t51 r1c2-t51">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t51" headers="r1c1-t51">
<p><code>CLUSTER_ID</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t51 r1c2-t51">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t51" headers="r1c1-t51">
<p><code>PROBABILITY</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t51 r1c2-t51">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS65816" class="refsect3"><a id="sthref2332"></a>
<h4 class="refsect3">Feature Extraction using NMF</h4>
<p>Feature extraction is also an unsupervised mining function, and hence there are no targets. The results of an <code>APPLY</code> operation will contain simply the feature identifier corresponding to a case, and the associated match quality. The results table has the columns described in <a href="#CACHEDHD">Table 44-27</a>.</p>
<div id="ARPLS65817" class="tblformal">
<p class="titleintable"><a id="sthref2333"></a><a id="CACHEDHD"></a>Table 44-27 APPLY Results Table for Feature Extraction</p>
<table class="cellalignment1229" title="APPLY Results Table for Feature Extraction" summary="This table describes the columns in the APPLY results table for feature extraction." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t52">Column Name</th>
<th class="cellalignment1227" id="r1c2-t52">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t52" headers="r1c1-t52">
<p><code><span class="codeinlineitalic">Case ID column name</span></code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t52 r1c2-t52">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t52" headers="r1c1-t52">
<p><code>FEATURE_ID</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t52 r1c2-t52">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t52" headers="r1c1-t52">
<p><code>MATCH_QUALITY</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t52 r1c2-t52">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2334"></a>Examples</p>
<p>This example applies the GLM regression model <code>GLMR_SH_REGR_SAMPLE</code> to the data in the <code>MINING_DATA_APPLY_V</code> view. The apply results are output to the table <code>REGRESSION_APPLY_RESULT</code>.</p>
<pre>
SQL&gt; BEGIN
       DBMS_DATA_MINING.APPLY (
       model_name     =&gt; 'glmr_sh_regr_sample',
       data_table_name     =&gt; 'mining_data_apply_v',
       case_id_column_name =&gt; 'cust_id',
       result_table_name   =&gt; 'regression_apply_result');
    END;
    /
 
SQL&gt; SELECT * FROM regression_apply_result WHERE cust_id &gt;  101485;
 
   CUST_ID PREDICTION
---------- ----------
    101486 22.8048824
    101487 25.0261101
    101488 48.6146619
    101489   51.82595
    101490 22.6220714
    101491 61.3856816
    101492 24.1400748
    101493  58.034631
    101494 45.7253149
    101495 26.9763318
    101496 48.1433425
    101497 32.0573434
    101498 49.8965531
    101499  56.270656
    101500 21.1153047
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65818" class="refsect2"><a id="i1038990"></a>
<hr />
<h3 class="refsect2"><a id="sthref2335"></a>COMPUTE_CONFUSION_MATRIX Procedure</h3>
<p><a id="sthref2336"></a>This procedure computes a confusion matrix, stores it in a table in the user's schema, and returns the model accuracy.</p>
<p>A confusion matrix is a test metric for classification models. It compares the predictions generated by the model with the actual target values in a set of test data. The matrix is <span class="italic">n</span>-by-<span class="italic">n</span>, where <span class="italic">n</span> is the number of classes. The confusion matrix lists the number of times each class was correctly predicted and the number of times it was predicted to be one of the other classes.</p>
<p><code>COMPUTE_CONFUSION_MATRIX</code> accepts three input streams:</p>
<ul>
<li>
<p>The predictions generated on the test data. The information is passed in three columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Prediction column</p>
</li>
<li>
<p>Scoring criterion column containing either probabilities or costs</p>
</li>
</ul>
</li>
<li>
<p>The known target values in the test data. The information is passed in two columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Target column containing the known target values</p>
</li>
</ul>
</li>
<li>
<p>(Optional) A cost matrix table with predefined columns. See the Usage Notes for the column requirements.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink DMCON034" href="../../datamine.112/e16808/classify.htm#DMCON034"><span class="italic">Oracle Data Mining Concepts</span></a> for more details about confusion matrixes and other test metrics for classification</p>
<p><a href="#i1042043">"COMPUTE_LIFT Procedure"</a></p>
<p><a href="#i1039323">"COMPUTE_ROC Procedure"</a></p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2337"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX (
      accuracy                     OUT NUMBER,
      apply_result_table_name      IN  VARCHAR2,
      target_table_name            IN  VARCHAR2,
      case_id_column_name          IN  VARCHAR2,
      target_column_name           IN  VARCHAR2,
      confusion_matrix_table_name  IN  VARCHAR2,
      score_column_name            IN  VARCHAR2 DEFAULT 'PREDICTION',
      score_criterion_column_name  IN  VARCHAR2 DEFAULT 'PROBABILITY',
      cost_matrix_table_name       IN  VARCHAR2 DEFAULT NULL,
      apply_result_schema_name     IN  VARCHAR2 DEFAULT NULL,
      target_schema_name           IN  VARCHAR2 DEFAULT NULL,
      cost_matrix_schema_name      IN  VARCHAR2 DEFAULT NULL,
      score_criterion_type         IN  VARCHAR2 DEFAULT 'PROBABILITY');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2338"></a>Parameters</p>
<div id="ARPLS65819" class="tblformal">
<p class="titleintable"><a id="sthref2339"></a><a id="sthref2340"></a>Table 44-28 COMPUTE_CONFUSION_MATRIX Procedure Parameters</p>
<table class="cellalignment1229" title="COMPUTE_CONFUSION_MATRIX Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t54">Parameter</th>
<th class="cellalignment1227" id="r1c2-t54">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t54" headers="r1c1-t54">
<p><code>accuracy</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t54 r1c2-t54">
<p>Output parameter containing the overall percentage accuracy of the predictions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t54" headers="r1c1-t54">
<p><code>apply_result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t54 r1c2-t54">
<p>Table containing the predictions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t54" headers="r1c1-t54">
<p><code>target_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t54 r1c2-t54">
<p>Table containing the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t54" headers="r1c1-t54">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t54 r1c2-t54">
<p>Case ID column in the apply results table. Must match the case identifier in the targets table.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t54" headers="r1c1-t54">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t54 r1c2-t54">
<p>Target column in the targets table. Contains the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t54" headers="r1c1-t54">
<p><code>confusion_matrix_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t54 r1c2-t54">
<p>Table containing the confusion matrix. The table will be created by the procedure in the user's schema.</p>
<p>The columns in the confusion matrix table are described in the Usage Notes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t54" headers="r1c1-t54">
<p><code>score_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t54 r1c2-t54">
<p>Column containing the predictions in the apply results table.</p>
<p>The default column name is <code>PREDICTION</code>, which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t54" headers="r1c1-t54">
<p><code>score_criterion_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t54 r1c2-t54">
<p>Column containing the scoring criterion in the apply results table. Contains either the probabilities or the costs that determine the predictions.</p>
<p>By default, scoring is based on probability; the class with the highest probability is predicted for each case. If scoring is based on cost, the class with the lowest cost is predicted.</p>
<p>The <code>score_criterion_type</code> parameter indicates whether probabilities or costs will be used for scoring.</p>
<p>The default column name is '<code>PROBABILITY'</code>, which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
<p>See the Usage Notes for additional information.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t54" headers="r1c1-t54">
<p><code>cost_matrix_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t54 r1c2-t54">
<p>(Optional) Table that defines the costs associated with misclassifications. If a cost matrix table is provided and the <code>score_criterion_type</code> parameter is set to <code>'COSTS'</code>, the costs in this table will be used as the scoring criteria.</p>
<p>The columns in a cost matrix table are described in the Usage Notes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t54" headers="r1c1-t54">
<p><code>apply_result_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t54 r1c2-t54">
<p>Schema of the apply results table.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t54" headers="r1c1-t54">
<p><code>target_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t54 r1c2-t54">
<p>Schema of the table containing the known targets.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t54" headers="r1c1-t54">
<p><code>cost_matrix_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t54 r1c2-t54">
<p>Schema of the cost matrix table, if one is provided.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t54" headers="r1c1-t54">
<p><code>score_criterion_type</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t54 r1c2-t54">
<p>Whether to use probabilities or costs as the scoring criterion. Probabilities or costs are passed in the column identified in the <code>score_criterion_column_name</code> parameter.</p>
<p>The default value of <code>score_criterion_type</code> is <code>'PROBABILITY'</code>. To use costs as the scoring criterion, specify <code>'COST'</code>.</p>
<p>If <code>score_criterion_type</code> is set to '<code>COST</code>' but no cost matrix is provided and if there is a scoring cost matrix associated with the model, then the associated costs are used for scoring.</p>
<p>See the Usage Notes and the Examples.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2341"></a>Usage Notes</p>
<ul>
<li>
<p>The predictive information you pass to <code>COMPUTE_CONFUSION_MATRIX</code> may be generated using SQL <code>PREDICTION</code> functions, the <code>DBMS_DATA_MINING.APPLY</code> procedure, or some other mechanism. As long as you pass the appropriate data, the procedure can compute the confusion matrix.</p>
</li>
<li>
<p>Instead of passing a cost matrix to <code>COMPUTE_CONFUSION_MATRIX</code>, you can use a scoring cost matrix associated with the model. A scoring cost matrix can be embedded in the model or it can be defined dynamically when the model is applied. To use a scoring cost matrix, invoke the SQL <code>PREDICTION_COST</code> function to populate the score criterion column.</p>
</li>
<li>
<p>The predictions that you pass to <code>COMPUTE_CONFUSION_MATRIX</code> are in a table or view specified in <code>apply_result_table_name</code>.</p>
<pre>
CREATE TABLE <span class="codeinlineboldital">apply_result_table_name</span> AS (
            <span class="codeinlineitalic">case_id_column_name</span>            VARCHAR2, 
            <span class="italic">score_column_name</span>              VARCHAR2,
            <span class="codeinlineitalic">score_criterion_column_name</span>    VARCHAR2);
</pre></li>
<li>
<p>A cost matrix must have the columns described in <a href="#BAJGIDHC">Table 44-29</a>.</p>
<div id="ARPLS65820" class="tblformal">
<p class="titleintable"><a id="sthref2342"></a><a id="BAJGIDHC"></a>Table 44-29 Columns in a Cost Matrix</p>
<table class="cellalignment1229" title="Columns in a Cost Matrix" summary="This table describes the required columns in a confusion matrix." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t55">Column Name</th>
<th class="cellalignment1227" id="r1c2-t55">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t55" headers="r1c1-t55">
<p><code>actual_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t55 r1c2-t55">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t55" headers="r1c1-t55">
<p><code>predicted_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t55 r1c2-t55">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t55" headers="r1c1-t55">
<p><code>cost</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t55 r1c2-t55">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON032" href="../../datamine.112/e16808/classify.htm#DMCON032"><span class="italic">Oracle Data Mining Concepts</span></a> for more information about cost matrixes</div>
</li>
<li>
<p>The confusion matrix created by <code>COMPUTE_CONFUSION_MATRIX</code> has the columns described in <a href="#BAJJGFCI">Table 44-30</a>.</p>
<div id="ARPLS65821" class="tblformal">
<p class="titleintable"><a id="sthref2343"></a><a id="BAJJGFCI"></a>Table 44-30 Columns in a Confusion Matrix</p>
<table class="cellalignment1229" title="Columns in a Confusion Matrix" summary="This table describes the columns in the confusion matrix created by the COMPUTE_CONFUSION_MATRIX" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t57">Column Name</th>
<th class="cellalignment1227" id="r1c2-t57">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t57" headers="r1c1-t57">
<p><code>actual_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t57 r1c2-t57">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t57" headers="r1c1-t57">
<p><code>predicted_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t57 r1c2-t57">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t57" headers="r1c1-t57">
<p><code>value</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t57 r1c2-t57">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON034" href="../../datamine.112/e16808/classify.htm#DMCON034"><span class="italic">Oracle Data Mining Concepts</span></a> for more information about confusion matrixes</div>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2344"></a>Examples</p>
<p>These examples use the Naive Bayes model <code>nb_sh_clas_sample</code>, which is created by one of the Oracle Data Mining sample programs.</p>
<p class="subhead2"><a id="ARPLS65822"></a>Compute a Confusion Matrix Based on Probabilities</p>
<p>The following statement applies the model to the test data and stores the predictions and probabilities in a table.</p>
<pre>
CREATE TABLE nb_apply_results AS
       SELECT cust_id,
              PREDICTION(nb_sh_clas_sample USING *) prediction,
              PREDICTION_PROBABILITY(nb_sh_clas_sample USING *) probability
       FROM mining_data_test_v;
</pre>
<p>Using probabilities as the scoring criterion, you can compute the confusion matrix as follows.</p>
<pre>
DECLARE
   v_accuracy    NUMBER;
      BEGIN
        DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX (
                   accuracy                     =&gt; v_accuracy,
                   apply_result_table_name      =&gt; 'nb_apply_results',
                   target_table_name            =&gt; 'mining_data_test_v',
                   case_id_column_name          =&gt; 'cust_id',
                   target_column_name           =&gt; 'affinity_card',
                   confusion_matrix_table_name  =&gt; 'nb_confusion_matrix',
                   score_column_name            =&gt; 'PREDICTION',
                   score_criterion_column_name  =&gt; 'PROBABILITY'
                   cost_matrix_table_name       =&gt;  null,
                   apply_result_schema_name     =&gt;  null,
                   target_schema_name           =&gt;  null,
                   cost_matrix_schema_name      =&gt;  null,
                   score_criterion_type         =&gt; 'PROBABILITY');
        DBMS_OUTPUT.PUT_LINE('**** MODEL ACCURACY ****: ' || ROUND(v_accuracy,4));
      END;
      /
</pre>
<p>The confusion matrix and model accuracy are shown as follows.</p>
<pre>
 **** MODEL ACCURACY ****: .7847

SQL&gt;SELECT * from nb_confusion_matrix;
ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE      VALUE
------------------- ---------------------- ----------
                  1                      0         60
                  0                      0        891
                  1                      1        286
                  0                      1        263
</pre>
<p class="subhead2"><a id="ARPLS65823"></a>Compute a Confusion Matrix Based on a Cost Matrix Table</p>
<p>The confusion matrix in the previous example shows a high rate of false positives. For 263 cases, the model predicted 1 when the actual value was 0. You could use a cost matrix to minimize this type of error.</p>
<p>The cost matrix table <code>nb_cost_matrix</code> specifies that a false positive is 3 times more costly than a false negative.</p>
<pre>
SQL&gt; SELECT * from nb_cost_matrix;
ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE       COST
------------------- ---------------------- ----------
                  0                      0          0
                  0                      1        .75
                  1                      0        .25
                  1                      1          0
</pre>
<p>This statement shows how to generate the predictions using <code>APPLY</code>.</p>
<pre>
BEGIN
    DBMS_DATA_MINING.APPLY(
          model_name          =&gt; 'nb_sh_clas_sample',
          data_table_name     =&gt; 'mining_data_test_v',
          case_id_column_name =&gt; 'cust_id',
          result_table_name   =&gt; 'nb_apply_results');
 END;
/
</pre>
<p>This statement computes the confusion matrix using the cost matrix table. The score criterion column is named '<code>PROBABILITY</code>', which is the name generated by <code>APPLY</code>.</p>
<pre>
DECLARE
  v_accuracy    NUMBER;
     BEGIN
       DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX (
                accuracy                     =&gt; v_accuracy,
                apply_result_table_name      =&gt; 'nb_apply_results',
                target_table_name            =&gt; 'mining_data_test_v',
                case_id_column_name          =&gt; 'cust_id',
                target_column_name           =&gt; 'affinity_card',
                confusion_matrix_table_name  =&gt; 'nb_confusion_matrix',
                score_column_name            =&gt; 'PREDICTION',
                score_criterion_column_name  =&gt; 'PROBABILITY',
                cost_matrix_table_name       =&gt; 'nb_cost_matrix',
                apply_result_schema_name     =&gt; null,
                target_schema_name           =&gt; null,
                cost_matrix_schema_name      =&gt; null,
                score_criterion_type         =&gt; 'COST');
       DBMS_OUTPUT.PUT_LINE('**** MODEL ACCURACY ****: ' || ROUND(v_accuracy,4));
    END;
    /
</pre>
<p>The resulting confusion matrix shows a decrease in false positives (212 instead of 263).</p>
<pre>
**** MODEL ACCURACY ****: .798

SQL&gt; SELECT * FROM nb_confusion_matrix;
ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE      VALUE
------------------- ---------------------- ----------
                  1                      0         91
                  0                      0        942
                  1                      1        255
                  0                      1        212
</pre>
<p class="subhead2"><a id="ARPLS65824"></a>Compute a Confusion Matrix Based on Embedded Costs</p>
<p>You can use the <code>ADD_COST_MATRIX</code> procedure to embed a cost matrix in a model. The embedded costs can be used instead of probabilities for <a id="sthref2345"></a>scoring. This statement adds the previously-defined cost matrix to the model.</p>
<pre>
BEGIN    DBMS_DATA_MINING.ADD_COST_MATRIX ('nb_sh_clas_sample', 'nb_cost_matrix');END;/
</pre></div>
<!-- class="refsubsect" -->
<p>The following statement applies the model to the test data using the embedded costs and stores the results in a table.</p>
<pre>
CREATE TABLE nb_apply_results AS
         SELECT cust_id,
              PREDICTION(nb_sh_clas_sample COST MODEL USING *) prediction,
              PREDICTION_COST(nb_sh_clas_sample COST MODEL USING *) cost
          FROM mining_data_test_v;
</pre>
<p>You can compute the confusion matrix using the embedded costs.</p>
<pre>
DECLARE
   v_accuracy         NUMBER;
   BEGIN
       DBMS_DATA_MINING.COMPUTE_CONFUSION_MATRIX (
            accuracy                     =&gt; v_accuracy,
            apply_result_table_name      =&gt; 'nb_apply_results',
            target_table_name            =&gt; 'mining_data_test_v',
            case_id_column_name          =&gt; 'cust_id',
            target_column_name           =&gt; 'affinity_card',
            confusion_matrix_table_name  =&gt; 'nb_confusion_matrix',
            score_column_name            =&gt; 'PREDICTION',
            score_criterion_column_name  =&gt; 'COST',
            cost_matrix_table_name       =&gt; null,
            apply_result_schema_name     =&gt; null,
            target_schema_name           =&gt; null,
            cost_matrix_schema_name      =&gt; null,
            score_criterion_type         =&gt; 'COST');
   END;
   /
</pre>
<p>The results are:</p>
<pre>
**** MODEL ACCURACY ****: .798

SQL&gt; SELECT * FROM nb_confusion_matrix;
ACTUAL_TARGET_VALUE PREDICTED_TARGET_VALUE      VALUE
------------------- ---------------------- ----------
                  1                      0         91
                  0                      0        942
                  1                      1        255
                  0                      1        212
</pre></div>
<!-- class="refsect2" -->
<div id="ARPLS65825" class="refsect2"><a id="i1042043"></a>
<hr />
<h3 class="refsect2"><a id="sthref2346"></a>COMPUTE_LIFT Procedure</h3>
<p><a id="sthref2347"></a>This procedure computes lift and stores the results in a table in the user's schema.</p>
<p>Lift is a test metric for binary classification models. To compute lift, one of the target values must be designated as the positive class. <code>COMPUTE_LIFT</code> compares the predictions generated by the model with the actual target values in a set of test data. Lift measures the degree to which the model's predictions of the positive class are an improvement over random chance.</p>
<p>Lift is computed on scoring results that have been ranked by probability (or cost) and divided into quantiles. Each quantile includes the scores for the same number of cases.</p>
<p><code>COMPUTE_LIFT</code> calculates quantile-based and cumulative statistics. The number of quantiles and the positive class are user-specified. Additionally, <code>COMPUTE_LIFT</code> accepts three input streams:</p>
<ul>
<li>
<p>The predictions generated on the test data. The information is passed in three columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Prediction column</p>
</li>
<li>
<p>Scoring criterion column containing either probabilities or costs associated with the predictions</p>
</li>
</ul>
</li>
<li>
<p>The known target values in the test data. The information is passed in two columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Target column containing the known target values</p>
</li>
</ul>
</li>
<li>
<p>(Optional) A cost matrix table with predefined columns. See the Usage Notes for the column requirements.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink DMCON053" href="../../datamine.112/e16808/classify.htm#DMCON053"><span class="italic">Oracle Data Mining Concepts</span></a> for more details about lift and test metrics for classification</p>
<p><a href="#i1038990">"COMPUTE_CONFUSION_MATRIX Procedure"</a></p>
<p><a href="#i1039323">"COMPUTE_ROC Procedure"</a></p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2348"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.COMPUTE_LIFT (
      apply_result_table_name      IN VARCHAR2,
      target_table_name            IN VARCHAR2,
      case_id_column_name          IN VARCHAR2,
      target_column_name           IN VARCHAR2,
      lift_table_name              IN VARCHAR2,
      positive_target_value        IN VARCHAR2,
      score_column_name            IN VARCHAR2 DEFAULT 'PREDICTION',
      score_criterion_column_name  IN VARCHAR2 DEFAULT 'PROBABILITY',
      num_quantiles                IN NUMBER DEFAULT 10,
      cost_matrix_table_name       IN VARCHAR2 DEFAULT NULL,
      apply_result_schema_name     IN VARCHAR2 DEFAULT NULL,
      target_schema_name           IN VARCHAR2 DEFAULT NULL,
      cost_matrix_schema_name      IN VARCHAR2 DEFAULT NULL
      score_criterion_type         IN VARCHAR2 DEFAULT 'PROBABILITY');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2349"></a>Parameters</p>
<div id="ARPLS65826" class="tblformal">
<p class="titleintable"><a id="sthref2350"></a><a id="sthref2351"></a>Table 44-31 COMPUTE_LIFT Procedure Parameters</p>
<table class="cellalignment1229" title="COMPUTE_LIFT Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.COMPUTE_LIFT" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t60">Parameter</th>
<th class="cellalignment1227" id="r1c2-t60">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t60" headers="r1c1-t60">
<p><code>apply_result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t60 r1c2-t60">
<p>Table containing the predictions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t60" headers="r1c1-t60">
<p><code>target_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t60 r1c2-t60">
<p>Table containing the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t60" headers="r1c1-t60">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t60 r1c2-t60">
<p>Case ID column in the apply results table. Must match the case identifier in the targets table.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t60" headers="r1c1-t60">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t60 r1c2-t60">
<p>Target column in the targets table. Contains the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t60" headers="r1c1-t60">
<p><code>lift_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t60 r1c2-t60">
<p>Table containing the lift statistics. The table will be created by the procedure in the user's schema.</p>
<p>The columns in the lift table are described in the Usage Notes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t60" headers="r1c1-t60">
<p><code>positive_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t60 r1c2-t60">
<p>The positive class. This should be the class of interest, for which you want to calculate lift.</p>
<p>If the target column is a <code>NUMBER</code>, you can use the <code>TO_CHAR()</code> operator to provide the value as a string.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t60" headers="r1c1-t60">
<p><code>score_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t60 r1c2-t60">
<p>Column containing the predictions in the apply results table.</p>
<p>The default column name is '<code>PREDICTION</code>', which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t60" headers="r1c1-t60">
<p><code>score_criterion_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t60 r1c2-t60">
<p>Column containing the scoring criterion in the apply results table. Contains either the probabilities or the costs that determine the predictions.</p>
<p>By default, scoring is based on probability; the class with the highest probability is predicted for each case. If scoring is based on cost, the class with the lowest cost is predicted.</p>
<p>The <code>score_criterion_type</code> parameter indicates whether probabilities or costs will be used for scoring.</p>
<p>The default column name is '<code>PROBABILITY</code>', which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
<p>See the Usage Notes for additional information.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t60" headers="r1c1-t60">
<p><code>num_quantiles</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t60 r1c2-t60">
<p>Number of quantiles to be used in calculating lift. The default is 10.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t60" headers="r1c1-t60">
<p><code>cost_matrix_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t60 r1c2-t60">
<p>(Optional) Table that defines the costs associated with misclassifications. If a cost matrix table is provided and the <code>score_criterion_type</code> parameter is set to '<code>COST</code>', the costs will be used as the scoring criteria.</p>
<p>The columns in a cost matrix table are described in the Usage Notes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t60" headers="r1c1-t60">
<p><code>apply_result_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t60 r1c2-t60">
<p>Schema of the apply results table.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t60" headers="r1c1-t60">
<p><code>target_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t60 r1c2-t60">
<p>Schema of the table containing the known targets.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t60" headers="r1c1-t60">
<p><code>cost_matrix_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t60 r1c2-t60">
<p>Schema of the cost matrix table, if one is provided.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t60" headers="r1c1-t60">
<p><code>score_criterion_type</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t60 r1c2-t60">
<p>Whether to use probabilities or costs as the scoring criterion. Probabilities or costs are passed in the column identified in the <code>score_criterion_column_name</code> parameter.</p>
<p>The default value of <code>score_criterion_type</code> is '<code>PROBABILITY</code>'. To use costs as the scoring criterion, specify '<code>COST</code>'.</p>
<p>If <code>score_criterion_type</code> is set to '<code>COST</code>' but no cost matrix is provided and if there is a scoring cost matrix associated with the model, then the associated costs are used for scoring.</p>
<p>See the Usage Notes and the Examples.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2352"></a>Usage Notes</p>
<ul>
<li>
<p>The predictive information you pass to <code>COMPUTE_LIFT</code> may be generated using SQL <code>PREDICTION</code> functions, the <code>DBMS_DATA_MINING.APPLY</code> procedure, or some other mechanism. As long as you pass the appropriate data, the procedure can compute the lift.</p>
</li>
<li>
<p>Instead of passing a cost matrix to <code>COMPUTE_LIFT</code>, you can use a <a id="sthref2353"></a>scoring cost matrix associated with the model. A scoring cost matrix can be embedded in the model or it can be defined dynamically when the model is applied. To use a scoring cost matrix, invoke the SQL <code>PREDICTION_COST</code> function to populate the score criterion column.</p>
</li>
<li>
<p>The predictions that you pass to <code>COMPUTE_LIFT</code> are in a table or view specified in <code>apply_results_table_name</code>.</p>
<pre>
CREATE TABLE <span class="codeinlineboldital">apply_result_table_name</span> AS (
            <span class="codeinlineitalic">case_id_column_name</span>            VARCHAR2, 
            <span class="italic">score_column_name</span>              VARCHAR2,
            <span class="codeinlineitalic">score_criterion_column_name</span>    VARCHAR2);
</pre></li>
<li>
<p>A cost matrix must have the columns described in <a href="#BAJBEICC">Table 44-32</a>.</p>
<div id="ARPLS65827" class="tblformal">
<p class="titleintable"><a id="sthref2354"></a><a id="BAJBEICC"></a>Table 44-32 Columns in a Cost Matrix</p>
<table class="cellalignment1229" title="Columns in a Cost Matrix" summary="This table describes the required columns in a confusion matrix." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t61">Column Name</th>
<th class="cellalignment1227" id="r1c2-t61">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t61" headers="r1c1-t61">
<p><code>actual_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t61 r1c2-t61">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t61" headers="r1c1-t61">
<p><code>predicted_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t61 r1c2-t61">
<p><code>NUMBER</code> or <code>VARCHAR2</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t61" headers="r1c1-t61">
<p><code>cost</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t61 r1c2-t61">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON032" href="../../datamine.112/e16808/classify.htm#DMCON032"><span class="italic">Oracle Data Mining Concepts</span></a> for more information about cost matrixes</div>
</li>
<li>
<p>The table created by <code>COMPUTE_LIFT</code> has the columns described in <a href="#BAJEJCAB">Table 44-33</a></p>
<div id="ARPLS65828" class="tblformal">
<p class="titleintable"><a id="sthref2355"></a><a id="BAJEJCAB"></a>Table 44-33 Columns in a Lift Table</p>
<table class="cellalignment1229" title="Columns in a Lift Table" summary="This table lists the column names and data types in the lift table created by COMPUTE_LIFT." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t63">Column Name</th>
<th class="cellalignment1227" id="r1c2-t63">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t63" headers="r1c1-t63">
<p><code>quantile_number</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t63" headers="r1c1-t63">
<p><code>probability_threshold</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t63" headers="r1c1-t63">
<p><code>gain_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t63" headers="r1c1-t63">
<p><code>quantile_total_count</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t63" headers="r1c1-t63">
<p><code>quantile_target_count</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t63" headers="r1c1-t63">
<p><code>percent_records_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t63" headers="r1c1-t63">
<p><code>lift_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t63" headers="r1c1-t63">
<p><code>target_density_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t63" headers="r1c1-t63">
<p><code>targets_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t63" headers="r1c1-t63">
<p><code>non_targets_cumulative</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t63" headers="r1c1-t63">
<p><code>lift_quantile</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t63" headers="r1c1-t63">
<p><code>target_density</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t63 r1c2-t63">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON035" href="../../datamine.112/e16808/classify.htm#DMCON035"><span class="italic">Oracle Data Mining Concepts</span></a> for details about the information in the lift table</div>
</li>
<li>
<p>When a cost matrix is passed to <code>COMPUTE_LIFT</code>, the cost threshold is returned in the <code>probability_threshold</code> column of the lift table.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2356"></a>Examples</p>
<p>This example uses the Naive Bayes model <code>nb_sh_clas_sample</code>, which is created by one of the Oracle Data Mining sample programs.</p>
<p>The example illustrates lift based on probabilities. For examples that show computation based on costs, see <a href="#i1038990">"COMPUTE_CONFUSION_MATRIX Procedure"</a>.</p>
<p>The following statement applies the model to the test data and stores the predictions and probabilities in a table.</p>
<pre>
CREATE TABLE nb_apply_results AS
    SELECT cust_id, t.prediction, t.probability
    FROM mining_data_test_v, TABLE(PREDICTION_SET(nb_sh_clas_sample USING *)) t;
</pre>
<p>Using probabilities as the scoring criterion, you can compute lift as follows.</p>
<pre>
BEGIN
           DBMS_DATA_MINING.COMPUTE_LIFT (
              apply_result_table_name              =&gt; 'nb_apply_results',
              target_table_name                =&gt; 'mining_data_test_v',
              case_id_column_name              =&gt; 'cust_id',
              target_column_name               =&gt; 'affinity_card',
              lift_table_name                             =&gt; 'nb_lift',
              positive_target_value                 =&gt;  to_char(1),
              score_column_name                =&gt; 'PREDICTION',
              score_criterion_column_name    =&gt; 'PROBABILITY',
              num_quantiles                                =&gt;  10,
              cost_matrix_table_name                =&gt;  null,
              apply_result_schema_name            =&gt;  null,
              target_schema_name               =&gt;  null,
              cost_matrix_schema_name              =&gt;  null,
              score_criterion_type                   =&gt;  'PROBABILITY');
        END;
        /
</pre>
<p>This query displays some of the statistics from the resulting lift table.</p>
<pre>
SQL&gt;SELECT quantile_number, probability_threshold, gain_cumulative,
           quantile_total_count
           FROM nb_lift;

QUANTILE_NUMBER PROBABILITY_THRESHOLD GAIN_CUMULATIVE QUANTILE_TOTAL_COUNT 
--------------- --------------------- --------------- --------------------  
              1            .989335775       .15034965                   55 
              2            .980534911       .26048951                   55  
              3            .968506098      .374125874                   55  
              4            .958975196      .493006993                   55 
              5            .946705997      .587412587                   55  
              6            .927454174       .66958042                   55  
              7            .904403627      .748251748                   55  
              8            .836482525      .839160839                   55  
             10            .500184953               1                   54  
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65830" class="refsect2"><a id="i1039323"></a>
<hr />
<h3 class="refsect2"><a id="sthref2357"></a>COMPUTE_ROC Procedure</h3>
<p><a id="sthref2358"></a>This procedure computes receiver operating characteristic (ROC), stores the results in a table in the user's schema, and returns a measure of the model accuracy.</p>
<p>ROC is a test metric for binary classification models. To compute ROC, one of the target values must be designated as the positive class. <code>COMPUTE_ROC</code> compares the predictions generated by the model with the actual target values in a set of test data.</p>
<p>ROC measures the impact of changes in the probability threshold. The probability threshold is the decision point used by the model for predictions. In binary classification, the default probability threshold is 0.5. The value predicted for each case is the one with a probability greater than 50%.</p>
<p>ROC can be plotted as a curve on an X-Y axis. The false positive rate is placed on the X axis. The true positive rate is placed on the Y axis. A false positive is a positive prediction for a case that is negative in the test data. A true positive is a positive prediction for a case that is positive in the test data.</p>
<p><code>COMPUTE_ROC</code> accepts two input streams:</p>
<ul>
<li>
<p>The predictions generated on the test data. The information is passed in three columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Prediction column</p>
</li>
<li>
<p>Scoring criterion column containing probabilities</p>
</li>
</ul>
</li>
<li>
<p>The known target values in the test data. The information is passed in two columns:</p>
<ul>
<li>
<p>Case ID column</p>
</li>
<li>
<p>Target column containing the known target values</p>
</li>
</ul>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink DMCON054" href="../../datamine.112/e16808/classify.htm#DMCON054"><span class="italic">Oracle Data Mining Concepts</span></a> for more details about ROC and test metrics for classification</p>
<p><a href="#i1038990">"COMPUTE_CONFUSION_MATRIX Procedure"</a></p>
<p><a href="#i1042043">"COMPUTE_LIFT Procedure"</a></p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2359"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.COMPUTE_ROC (
      roc_area_under_curve         OUT NUMBER,
      apply_result_table_name      IN  VARCHAR2,
      target_table_name            IN  VARCHAR2,
      case_id_column_name          IN  VARCHAR2,
      target_column_name           IN  VARCHAR2,
      roc_table_name               IN  VARCHAR2,
      positive_target_value        IN  VARCHAR2,
      score_column_name            IN  VARCHAR2 DEFAULT 'PREDICTION',
      score_criterion_column_name  IN  VARCHAR2 DEFAULT 'PROBABILITY',
      apply_result_schema_name     IN  VARCHAR2 DEFAULT NULL,
      target_schema_name           IN  VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2360"></a>Parameters</p>
<div id="ARPLS65831" class="tblformal">
<p class="titleintable"><a id="sthref2361"></a><a id="sthref2362"></a>Table 44-34 COMPUTE_ROC Procedure Parameters</p>
<table class="cellalignment1229" title="COMPUTE_ROC Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.COMPUTE_ROC." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t66">Parameter</th>
<th class="cellalignment1227" id="r1c2-t66">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t66" headers="r1c1-t66">
<p><code>roc_area_under_the_curve</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t66 r1c2-t66">
<p>Output parameter containing the area under the ROC curve (AUC). The AUC measures the likelihood that an actual positive will be predicted as positive.</p>
<p>The greater the AUC, the greater the flexibility of the model in accommodating trade-offs between positive and negative class predictions. AUC can be especially important when one target class is rarer or more important to identify than another.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t66" headers="r1c1-t66">
<p><code>apply_result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t66 r1c2-t66">
<p>Table containing the predictions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t66" headers="r1c1-t66">
<p><code>target_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t66 r1c2-t66">
<p>Table containing the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t66" headers="r1c1-t66">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t66 r1c2-t66">
<p>Case ID column in the apply results table. Must match the case identifier in the targets table.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t66" headers="r1c1-t66">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t66 r1c2-t66">
<p>Target column in the targets table. Contains the known target values from the test data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t66" headers="r1c1-t66">
<p><code>roc_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t66 r1c2-t66">
<p>Table containing the ROC output. The table will be created by the procedure in the user's schema.</p>
<p>The columns in the ROC table are described in the Usage Notes.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t66" headers="r1c1-t66">
<p><code>positive_target_value</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t66 r1c2-t66">
<p>The positive class. This should be the class of interest, for which you want to calculate ROC.</p>
<p>If the target column is a <code>NUMBER</code>, you can use the <code>TO_CHAR()</code> operator to provide the value as a string.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t66" headers="r1c1-t66">
<p><code>score_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t66 r1c2-t66">
<p>Column containing the predictions in the apply results table.</p>
<p>The default column name is '<code>PREDICTION</code>', which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t66" headers="r1c1-t66">
<p><code>score_criterion_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t66 r1c2-t66">
<p>Column containing the scoring criterion in the apply results table. Contains the probabilities that determine the predictions.</p>
<p>The default column name is '<code>PROBABILITY</code>', which is the default name created by the <code>APPLY</code> procedure (See <a href="#i1038691">"APPLY Procedure"</a>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t66" headers="r1c1-t66">
<p><code>apply_result_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t66 r1c2-t66">
<p>Schema of the apply results table.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t66" headers="r1c1-t66">
<p><code>target_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t66 r1c2-t66">
<p>Schema of the table containing the known targets.</p>
<p>If null, the user's schema is assumed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2363"></a>Usage Notes</p>
<ul>
<li>
<p>The predictive information you pass to <code>COMPUTE_ROC</code> may be generated using SQL <code>PREDICTION</code> functions, the <code>DBMS_DATA_MINING.APPLY</code> procedure, or some other mechanism. As long as you pass the appropriate data, the procedure can compute the receiver operating characteristic.</p>
</li>
<li>
<p>The predictions that you pass to <code>COMPUTE_ROC</code> are in a table or view specified in <code>apply_results_table_name</code>.</p>
<pre>
CREATE TABLE <span class="codeinlineboldital">apply_result_table_name</span> AS (
            <span class="codeinlineitalic">case_id_column_name</span>            VARCHAR2, 
            <span class="italic">score_column_name</span>              VARCHAR2,
            <span class="codeinlineitalic">score_criterion_column_name</span>    VARCHAR2);
</pre></li>
<li>
<p>The table created by <code>COMPUTE_ROC</code> has the columns shown in <a href="#CDCDAEDE">Table 44-35</a>.</p>
<div id="ARPLS65832" class="tblformal">
<p class="titleintable"><a id="sthref2364"></a><a id="CDCDAEDE"></a>Table 44-35 COMPUTE_ROC Output</p>
<table class="cellalignment1229" title="COMPUTE_ROC Output" summary="This table describes the output of COMPUTE_ROC." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t67">Column</th>
<th class="cellalignment1227" id="r1c2-t67">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t67" headers="r1c1-t67">
<p><code>probability</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t67" headers="r1c1-t67">
<p><code>true_positives</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t67" headers="r1c1-t67">
<p><code>false_negatives</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t67" headers="r1c1-t67">
<p><code>false_positives</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t67" headers="r1c1-t67">
<p><code>true_negatives</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t67" headers="r1c1-t67">
<p><code>true_positive_fraction</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t67" headers="r1c1-t67">
<p><code>false_positive_fraction</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t67 r1c2-t67">
<p><code>NUMBER</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON054" href="../../datamine.112/e16808/classify.htm#DMCON054"><span class="italic">Oracle Data Mining Concepts</span></a> for details about the output of <code>COMPUTE_ROC</code></div>
</li>
<li>
<p>ROC is typically used to determine the most desirable probability threshold. This can be done by examining the true positive fraction and the false positive fraction. The true positive fraction is the percentage of all positive cases in the test data that were correctly predicted as positive. The false positive fraction is the percentage of all negative cases in the test data that were incorrectly predicted as positive.</p>
<p>Given a probability threshold, the following statement returns the positive predictions in an apply result table ordered by probability.</p>
<pre>
SELECT <span class="italic">case_id_column_name</span> 
       FROM <span class="italic">apply_result_table_name</span> 
       WHERE <span class="codeinlineitalic">probability</span> &gt; <span class="codeinlineitalic">probability_threshold</span> 
       ORDER BY <span class="codeinlineitalic">probability</span> DESC;
</pre></li>
<li>
<p>There are two approaches to identifying the most desirable probability threshold. Which approach you use depends on whether or not you know the relative cost of positive versus negative class prediction errors.</p>
<p>If the costs are known, you can apply the relative costs to the ROC table to compute the minimum cost probability threshold. Suppose the relative cost ratio is: Positive Class Error Cost / Negative Class Error Cost = 20. Then execute a query like this.</p>
<pre>
WITH <span class="codeinlineitalic">cost</span> AS (
  SELECT <span class="codeinlineitalic">probability_threshold</span>, 20 * <span class="codeinlineitalic">false_negatives</span> + <span class="codeinlineitalic">false_positives</span> <span class="codeinlineitalic">cost</span> 
    FROM <span class="codeinlineitalic">ROC_table</span> 
  GROUP BY <span class="codeinlineitalic">probability_threshold</span>), 
    <span class="codeinlineitalic">minCost</span> AS (
      SELECT min(<span class="codeinlineitalic">cost</span>) <span class="codeinlineitalic">minCost</span> 
        FROM <span class="codeinlineitalic">cost</span>)
      SELECT max(<span class="codeinlineitalic">probability_threshold</span>)probability_threshold 
        FROM <span class="codeinlineitalic">cost</span>, <span class="codeinlineitalic">minCost</span> 
    WHERE <span class="codeinlineitalic">cost</span> = <span class="codeinlineitalic">minCost</span>;
</pre>
<p>If relative costs are not well known, you can simply scan the values in the ROC table (in sorted order) and make a determination about which of the displayed trade-offs (misclassified positives versus misclassified negatives) is most desirable.</p>
<pre>
SELECT * FROM <span class="codeinlineitalic">ROC_table</span> 
         ORDER BY <span class="codeinlineitalic">probability_threshold</span>;
</pre></li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2365"></a>Examples</p>
<p>This example uses the Naive Bayes model <code>nb_sh_clas_sample</code>, which is created by one of the Oracle Data Mining sample programs.</p>
<p>The following statement applies the model to the test data and stores the predictions and probabilities in a table.</p>
<pre>
CREATE TABLE nb_apply_results AS
    SELECT cust_id, t.prediction, t.probability
    FROM mining_data_test_v, TABLE(PREDICTION_SET(nb_sh_clas_sample USING *)) t;
</pre>
<p>Using the predictions and the target values from the test data, you can compute ROC as follows.</p>
<pre>
DECLARE
     v_area_under_curve NUMBER;
  BEGIN
         DBMS_DATA_MINING.COMPUTE_ROC (
               roc_area_under_curve                  =&gt; v_area_under_curve,
               apply_result_table_name       =&gt; 'nb_apply_results',
               target_table_name               =&gt; 'mining_data_test_v',
               case_id_column_name            =&gt; 'cust_id',
               target_column_name             =&gt; 'affinity_card',
               roc_table_name                     =&gt; 'nb_roc',
               positive_target_value         =&gt; '1',
               score_column_name               =&gt; 'PREDICTION',
               score_criterion_column_name   =&gt; 'PROBABILITY');
           DBMS_OUTPUT.PUT_LINE('**** AREA UNDER ROC CURVE ****: ' ||
           ROUND(v_area_under_curve,4));
  END;
 /
</pre>
<p>The resulting AUC and a selection of columns from the ROC table are shown as follows.</p>
<pre>
**** AREA UNDER ROC CURVE ****: .8212

SQL&gt; SELECT probability, true_positive_fraction, false_positive_fraction 
            FROM nb_roc;
 
PROBABILITY  TRUE_POSITIVE_FRACTION  FALSE_POSITIVE_FRACTION
-----------  ----------------------  -----------------------
     .00000                       1                        1
     .50018              .826589595               .227902946
     .53851              .823699422               .221837088
     .54991              .820809249               .217504333
     .55628              .815028902               .215771231
     .55628              .817919075               .215771231
     .57563              .800578035               .214904679
     .57563              .812138728               .214904679
      .                   .                        .
      .                   .                        .
      .                   .                        .

</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65833" class="refsect2"><a id="i1038828"></a>
<hr />
<h3 class="refsect2"><a id="sthref2366"></a>CREATE_MODEL Procedure</h3>
<p><a id="sthref2367"></a>This <a id="sthref2368"></a>procedure <a id="sthref2369"></a>creates a mining model with a given mining function.</p>
<p>By passing an <code>xform_list</code> to <code>CREATE_MODEL</code>, you can specify a list of transformations to be performed on the input data. If the <code>PREP_AUTO</code> setting is on, the transformations are used in addition to the automatic transformations. If the <code>PREP_AUTO</code> setting is off, the specified transformations are the only ones implemented by the model. In both cases, the transformation definitions are embedded in the model and executed automatically whenever the model is applied. See <a href="#CACEHEDI">"Automatic Data Preparation"</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2370"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.CREATE_MODEL (
      model_name            IN VARCHAR2,
      mining_function       IN VARCHAR2,
      data_table_name       IN VARCHAR2,
      case_id_column_name   IN VARCHAR2,
      target_column_name    IN VARCHAR2 DEFAULT NULL,
      settings_table_name   IN VARCHAR2 DEFAULT NULL,
      data_schema_name      IN VARCHAR2 DEFAULT NULL,
      settings_schema_name  IN VARCHAR2 DEFAULT NULL,
      xform_list            IN TRANSFORM_LIST DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2371"></a>Parameters</p>
<div id="ARPLS65834" class="tblformal">
<p class="titleintable"><a id="sthref2372"></a><a id="sthref2373"></a>Table 44-36 CREATE_MODEL Procedure Parameters</p>
<table class="cellalignment1229" title="CREATE_MODEL Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.CREATE_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t69">Parameter</th>
<th class="cellalignment1227" id="r1c2-t69">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t69" headers="r1c1-t69">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t69 r1c2-t69">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used. See also <a href="#CACBADBJ">"Mining Model Naming Restrictions"</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t69" headers="r1c1-t69">
<p><code>mining_function</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t69 r1c2-t69">
<p>The mining function. Values are listed in <a href="#CACDBBCC">Table 44-2, "Mining Functions"</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t69" headers="r1c1-t69">
<p><code>data_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t69 r1c2-t69">
<p>Table or view containing the build data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t69" headers="r1c1-t69">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t69 r1c2-t69">
<p>Case identifier column in the build data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t69" headers="r1c1-t69">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t69 r1c2-t69">
<p>For supervised models, the target column in the build data. <code>NULL</code> for unsupervised models.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t69" headers="r1c1-t69">
<p><code>settings_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t69 r1c2-t69">
<p>Table containing build settings for the model. <code>NULL</code> if there is no settings table (only default settings are used).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t69" headers="r1c1-t69">
<p><code>data_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t69 r1c2-t69">
<p>Schema hosting the build data. If <code>NULL</code>, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t69" headers="r1c1-t69">
<p><code>settings_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t69 r1c2-t69">
<p>Schema hosting the settings table. If <code>NULL</code>, the user's schema is assumed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t69" headers="r1c1-t69">
<p><code>xform_list</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t69 r1c2-t69">
<p>A list of transformations to be used in addition to or instead of automatic transformations, depending on the value of the <code>PREP_AUTO</code> setting. (See <a href="#CACEHEDI">"Automatic Data Preparation"</a>.)</p>
<p>The data type is <code>TRANSFORM_LIST</code>, which consists of records of type <code>TRANSFORM_REC</code>.</p>
<pre>
TYPE
  TRANFORM_REC     IS RECORD (
     attribute_name       VARCHAR2(4000),
     attribute_subname    VARCHAR2(4000),
     expression           EXPRESSION_REC,
     reverse_expression   EXPRESSION_REC,
     attribute_spec       VARCHAR2(4000));
</pre>
<p>Each <code>TRANSFORM_REC</code> describes the transformation and reverse transformation for an attribute. <code>EXPRESSION_REC</code> stores a SQL expression.</p>
<p>The SQL expression stored in <code>EXPRESSION_REC</code> can be manipulated using routines in the <code>DBMS_DATA_MINING_TRANSFORM</code> package. Examples are: <code>SET_EXPRESSION</code>, <code>GET_EXPRESSION</code>, and <code>SET_TRANSFORM</code>.</p>
<p>You can use <code>ATTRIBUTE_SPEC</code> to disable Automatic Data Preparation (ADP) for an individual attribute. Specify '<code>NOPREP</code>' to prevent automatic preparation of this attribute when ADP is on. When ADP is off, the ' <code>NOPREP</code>' value is ignored.</p>
<p>The '<code>NOPREP</code>' value cannot be used for an individual subname of a nested attribute. If '<code>NOPREP</code>' is specified for an individual subname when ADP is on, an error is generated.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2374"></a>Usage Notes</p>
<p>You can obtain information about a model by querying these data dictionary views.</p>
<br />
<code>ALL_MINING_MODELS</code><br />
<code>ALL_MINING_MODEL_ATTRIBUTES</code><br />
<code>ALL_MINING_MODEL_SETTINGS</code><br />
<p>Specify the <code>USER</code> prefix instead of <code>ALL</code> to obtain information about models in your own schema only.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMPRG012" href="../../datamine.112/e12218/api_tour.htm#DMPRG012"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information on the data dictionary views</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2375"></a>Examples</p>
<p>The first example builds a classification model using the Support Vector Machine algorithm.</p>
<pre>
-- Create the settings table 
CREATE TABLE svm_model_settings (
  setting_name  VARCHAR2(30),
  setting_value VARCHAR2(30));

-- Populate the settings table
-- Specify SVM. By default, Naive Bayes is used for classification.
-- Specify ADP. By default, ADP is not used.
BEGIN 
  INSERT INTO svm_model_settings (setting_name, setting_value) VALUES
     (dbms_data_mining.algo_name, dbms_data_mining.algo_support_vector_machines);
  INSERT INTO svm_model_settings (setting_name, setting_value) VALUES
     (dbms_data_mining.prep_auto,dbms_data_mining.prep_auto_on);
  COMMIT;
END;
/
-- Create the model using the specified settings 
BEGIN
  DBMS_DATA_MINING.CREATE_MODEL(
    model_name          =&gt; 'svm_model',
    mining_function     =&gt; dbms_data_mining.classification,
    data_table_name     =&gt; 'mining_data_build_v',
    case_id_column_name =&gt; 'cust_id',
    target_column_name  =&gt; 'affinity_card',
    settings_table_name =&gt; 'svm_model_settings');
END;
/
</pre>
<p>You can display the model settings with the following query.</p>
<pre>
SELECT * FROM user_mining_model_settings 
       WHERE model_name IN 'SVM_MODEL';

MODEL_NAME     SETTING_NAME            SETTING_VALUE                  SETTING
-------------  ----------------------  -----------------------------  -------
SVM_MODEL      ALGO_NAME               ALGO_SUPPORT_VECTOR_MACHINES  INPUT
SVM_MODEL      SVMS_KERNEL_CACHE_SIZE  50000000                      DEFAULT
SVM_MODEL      SVMS_ACTIVE_LEARNING    SVMS_AL_ENABLE                DEFAULT
SVM_MODEL      SVMS_STD_DEV            3.004524                      DEFAULT
SVM_MODEL      PREP_AUTO               ON                            INPUT
SVM_MODEL      SVMS_COMPLEXITY_FACTOR  1.887389                      DEFAULT
SVM_MODEL      SVMS_KERNEL_FUNCTION    SVMS_GAUSSIAN                 DEFAULT
SVM_MODEL      SVMS_CONV_TOLERANCE     .001                          DEFAULT
</pre>
<p>The second example creates an anomaly detection model. Anomaly detection uses SVM classification without a target. This example uses the same settings table created for the SVM classification model in the first example.</p>
<pre>
BEGIN
  DBMS_DATA_MINING.CREATE_MODEL(
    model_name          =&gt; 'anomaly_detect_model',
    mining_function     =&gt; dbms_data_mining.classification,
    data_table_name     =&gt; 'mining_data_build_v',
    case_id_column_name =&gt; 'cust_id',
    target_column_name  =&gt; null,
    settings_table_name =&gt; 'svm_model_settings');
END;
/
</pre>
<p>This query shows that the models created in these examples are the only ones in your schema.</p>
<pre>
SELECT model_name, mining_function, algorithm FROM user_mining_models;
 
MODEL_NAME              MINING_FUNCTION      ALGORITHM
----------------------  -------------------- ------------------------------
SVM_MODEL               CLASSIFICATION       SUPPORT_VECTOR_MACHINES
ANOMALY_DETECT_MODEL    CLASSIFICATION       SUPPORT_VECTOR_MACHINES
</pre>
<p>This query shows that only the SVM classification model has a target.</p>
<pre>
SELECT model_name, attribute_name, attribute_type, target 
       FROM user_mining_model_attributes 
       WHERE target = 'YES';
 
MODEL_NAME          ATTRIBUTE_NAME   ATTRIBUTE_TYPE     TARGET
------------------  ---------------  -----------------  ------
SVM_MODEL           AFFINITY_CARD    CATEGORICAL         YES
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65835" class="refsect2"><a id="i1039535"></a>
<hr />
<h3 class="refsect2"><a id="sthref2376"></a>DROP_MODEL Procedure</h3>
<p>This procedure deletes the specified mining model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2377"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.DROP_MODEL (model_name IN VARCHAR2,
                             force      IN BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2378"></a>Parameters</p>
<div id="ARPLS65836" class="tblformal">
<p class="titleintable"><a id="sthref2379"></a><a id="sthref2380"></a>Table 44-37 DROP_MODEL Procedure Parameters</p>
<table class="cellalignment1229" title="DROP_MODEL Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.DROP_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t71">Parameter</th>
<th class="cellalignment1227" id="r1c2-t71">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t71" headers="r1c1-t71">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t71 r1c2-t71">
<p>Name of the mining model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t71" headers="r1c1-t71">
<p><code>force</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t71 r1c2-t71">
<p>Forces the mining model to be dropped even if it is invalid. A mining model may be invalid if a serious system error interrupted the model build process.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2381"></a>Usage Note</p>
<p>To drop a mining model, you must be the owner or you must have the <code>DROP ANY MINING MODEL</code> privilege. See <a class="olink DMADM004" href="../../datamine.112/e16807/security.htm#DMADM004"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about privileges for data mining.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2382"></a>Example</p>
<p>You can use the following command to delete a valid mining model named <code>nb_sh_clas_sample</code> that exists in your schema.</p>
<pre>
BEGIN
  DBMS_DATA_MINING.DROP_MODEL(model_name =&gt; 'nb_sh_clas_sample');
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65837" class="refsect2"><a id="i1039591"></a>
<hr />
<h3 class="refsect2"><a id="sthref2383"></a>EXPORT_MODEL Procedure</h3>
<p>This procedure exports the specified data mining models to a dump file set. To import the models from the dump file set, use the <a href="#i1040882">IMPORT_MODEL Procedure</a>. <code>EXPORT_MODEL</code> and <code>IMPORT_MODEL</code> use Oracle Data Pump technology.</p>
<p>When Oracle Data Pump is used to export/import an entire schema or database, the mining models in the schema or database are included. However, <code>EXPORT_MODEL</code> and <code>IMPORT_MODEL</code> are the only utilities that support the export/import of individual models.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL2877" href="../../server.112/e22490/part_dp.htm#SUTIL2877"><span class="italic">Oracle Database Utilities</span></a> for information about Oracle Data Pump</p>
<p><a class="olink DMADM010" href="../../datamine.112/e16807/schemaobjs.htm#DMADM010"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for more information about exporting and importing mining models</p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2384"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.EXPORT_MODEL (
      filename          IN VARCHAR2,
      directory         IN VARCHAR2,
      model_filter      IN VARCHAR2 DEFAULT NULL,
      filesize          IN VARCHAR2 DEFAULT NULL,
      operation         IN VARCHAR2 DEFAULT NULL,
      remote_link       IN VARCHAR2 DEFAULT NULL,
      jobname           IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2385"></a>Parameters</p>
<div id="ARPLS65838" class="tblformal">
<p class="titleintable"><a id="sthref2386"></a><a id="BAJGGJIF"></a>Table 44-38 EXPORT_MODEL Procedure Parameters</p>
<table class="cellalignment1229" title="EXPORT_MODEL Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.EXPORT_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t73">Parameter</th>
<th class="cellalignment1227" id="r1c2-t73">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t73" headers="r1c1-t73">
<p><code>filename</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t73 r1c2-t73">
<p>Name of the dump file set to which the models should be exported. The name must be unique within the schema.</p>
<p>The dump file set can contain one or more files. The number of files in a dump file set is determined by the size of the models being exported (both metadata and data) and a specified or estimated maximum file size. You can specify the file size in the <code>filesize</code> parameter, or you can use the <code>operation</code> parameter to cause Oracle Data Pump to estimate the file size. If the size of the models to export is greater than the maximum file size, one or more additional files are created.</p>
<p>When the export operation completes successfully, the name of the dump file set is automatically expanded to <code><span class="codeinlineitalic">filename01.dmp</span></code>, even if there is only one file in the dump set. If there are additional files, they are named sequentially as <code><span class="codeinlineitalic">filename02.dmp</span></code>, <code><span class="codeinlineitalic">filename03.dmp</span></code>, and so forth.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t73" headers="r1c1-t73">
<p><code>directory</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t73 r1c2-t73">
<p>Name of a pre-defined directory object that specifies where the dump file set should be created.</p>
<p>The exporting user must have read/write privileges on the directory object and on the file system directory that it identifies.</p>
<p>See <a class="olink SQLRF01207" href="../../server.112/e41084/statements_5007.htm#SQLRF01207"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about directory objects.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t73" headers="r1c1-t73">
<p><code>model_filter</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t73 r1c2-t73">
<p>Optional parameter that specifies which model or models to export. If you do not specify a value for <code>model_filter</code>, all models in the schema are exported. You can also specify <code>NULL</code> (the default) or <code>'ALL'</code> to export all models.</p>
<p>You can export individual models by name and groups of models based on mining function or algorithm. For instance, you could export all regression models or all Naive Bayes models. Examples are provided in <a href="#CACEDAFI">Table 44-39</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t73" headers="r1c1-t73">
<p><code>filesize</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t73 r1c2-t73">
<p>Optional parameter that specifies the maximum size of a file in the dump file set. The size may be specified in bytes, kilobytes (K), megabytes (M), or gigabytes (G). The default size is 50 MB.</p>
<p>If the size of the models to export is larger than <code>filesize</code>, one or more additional files are created within the dump set. See the description of the <code>filename</code> parameter for more information.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t73" headers="r1c1-t73">
<p><code>operation</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t73 r1c2-t73">
<p>Optional parameter that specifies whether or not to estimate the size of the files in the dump set. By default the size is not estimated and the value of the <code>filesize</code> parameter determines the size of the files.</p>
<p>You can specify either of the following values for <code>operation</code>:</p>
<ul>
<li>
<p><code>'EXPORT'</code> &mdash; Export all or the specified models. (Default)</p>
</li>
<li>
<p><code>'ESTIMATE'</code> &mdash; Estimate the size of the exporting models.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t73" headers="r1c1-t73">
<p><code>remote_link</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t73 r1c2-t73">
<p>Optional parameter not used in this release. Set to <code>NULL</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t73" headers="r1c1-t73">
<p><code>jobname</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t73 r1c2-t73">
<p>Optional parameter that specifies the name of the export job. By default, the name has the form <code><span class="codeinlineitalic">username</span></code><code>_exp_</code><code><span class="codeinlineitalic">nnnn</span></code>, where <code><span class="codeinlineitalic">nnnn</span></code> is a number. For example, a job name in the <code>SCOTT</code> schema might be <code>SCOTT_exp_134</code>.</p>
<p>If you specify a job name, it must be unique within the schema. The maximum length of the job name is 30 characters.</p>
<p>A log file for the export job, named <code><span class="codeinlineitalic">jobname.log</span></code>, is created in the same directory as the dump file set.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2387"></a>Usage Notes</p>
<p>The <code>model_filter</code> parameter specifies which models to export. You can list the models by name, or you can specify all models that have the same mining function or algorithm. You can query the <code>USER_MINING_MODELS</code> view to list the models in your schema.</p>
<pre>
SQL&gt; describe user_mining_models
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 MODEL_NAME                                NOT NULL VARCHAR2(30)
 MINING_FUNCTION                                    VARCHAR2(30)
 ALGORITHM                                          VARCHAR2(30)
 CREATION_DATE                             NOT NULL DATE
 BUILD_DURATION                                     NUMBER
 MODEL_SIZE                                         NUMBER
 COMMENTS                                           VARCHAR2(4000)
</pre>
<p>For more information on data dictionary views of mining models, see <a href="#CACHFHDE">"Mining Model Objects"</a>.</p>
<p>Examples of model filters are provided in <a href="#CACEDAFI">Table 44-39</a>.</p>
<div id="ARPLS65839" class="tblformal">
<p class="titleintable"><a id="sthref2388"></a><a id="CACEDAFI"></a>Table 44-39 Sample Values for the Model Filter Parameter</p>
<table class="cellalignment1229" title="Sample Values for the Model Filter Parameter" summary="This table provides sample model filters for EXPORT_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t74">Sample Value</th>
<th class="cellalignment1227" id="r1c2-t74">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t74" headers="r1c1-t74">
<p><code>'mymodel'</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t74 r1c2-t74">
<p>Export the model named <code>mymodel</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t74" headers="r1c1-t74">
<p><code>'name= ''mymodel'''</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t74 r1c2-t74">
<p>Export the model named <code>mymodel</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t74" headers="r1c1-t74">
<p><code>'name IN (''mymodel2'',''mymodel3'')'</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t74 r1c2-t74">
<p>Export the models named <code>mymodel2</code> and <code>mymodel3</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t74" headers="r1c1-t74">
<p><code>'ALGORITHM_NAME = ''NAIVE_BAYES'''</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t74 r1c2-t74">
<p>Export all Naive Bayes models. See <a href="#CACJCDGJ">Table 44-4</a> for a list of algorithm names.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t74" headers="r1c1-t74">
<p><code>'FUNCTION_NAME =''CLASSIFICATION'''</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t74 r1c2-t74">
<p>Export all classification models. See <a href="#CACDBBCC">Table 44-2</a> for a list of mining functions.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2389"></a>Examples</p>
<p>The following statement exports all the models in the <code>DMUSER3</code> schema to a dump file set called <code>models_out</code> in the directory <code>$ORACLE_HOME/rdbms/log</code>. This directory is mapped to a directory object called <code>DATA_PUMP_DIR</code>. The <code>DMUSER3</code> user has read/write access to the directory and to the directory object.</p>
<pre>
SQL&gt;execute dbms_data_mining.export_model ('models_out', 'DATA_PUMP_DIR');
</pre>
<p>You can exit SQL*Plus and list the resulting dump file and log file.</p>
<pre>
SQL&gt;exit
&gt;cd $ORACLE_HOME/rdbms/log
&gt;ls
&gt;DMUSER3_exp_1027.log  models_out01.dmp  
</pre>
<p>The following example uses the same directory object and is executed by the same user. It exports the models called <code>NMF_SH_SAMPLE</code> and <code>SVMR_SH_REGR_SAMPLE</code> to a different dump file set in the same directory.</p>
<pre>
SQL&gt;execute dbms_data_mining.export_model ( 'models2_out', 'DATA_PUMP_DIR',
            'name in (''NMF_SH_SAMPLE'', ''SVMR_SH_REGR_SAMPLE'')');
SQL&gt;exit
&gt;cd $ORACLE_HOME/rdbms/log
&gt;ls
&gt;DMUSER3_exp_1027.log  models_out01.dmp
 DMUSER3_exp_924.log  models2_out01.dmp
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65840" class="refsect2"><a id="i1039753"></a>
<hr />
<h3 class="refsect2"><a id="sthref2390"></a>GET_ASSOCIATION_RULES Function</h3>
<p>This table function returns the rules from an association model.</p>
<p>You can specify filtering criteria to cause <code>GET_ASSOCIATION_RULES</code> to return a subset of the rules. Filtering criteria can improve the performance of the table function. If the number of rules is large, the greatest performance improvement will result from specifying the <code>topn</code> parameter.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2391"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_ASSOCIATION_RULES (
   model_name            IN VARCHAR2,
   topn                  IN NUMBER DEFAULT NULL,
   rule_id               IN INTEGER DEFAULT NULL,
   min_confidence        IN NUMBER DEFAULT NULL,
   min_support           IN NUMBER DEFAULT NULL,
   max_rule_length       IN INTEGER DEFAULT NULL,
   min_rule_length       IN INTEGER DEFAULT NULL,
   sort_order            IN ORA_MINING_VARCHAR2_NT DEFAULT NULL,
   antecedent_items      IN DM_ITEMS DEFAULT NULL,
   consequent_items      IN DM_ITEMS DEFAULT NULL,
   min_lift              IN NUMBER DEFAULT NULL)
 RETURN DM_RULES PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2392"></a>Parameters</p>
<div id="ARPLS65841" class="tblformal">
<p class="titleintable"><a id="sthref2393"></a><a id="CDCIHJEJ"></a>Table 44-40 GET_ASSOCIATION_RULES Function Parameters</p>
<table class="cellalignment1229" title="GET_ASSOCIATION_RULES Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_ASSOCIATION_RULES." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t75">Parameter</th>
<th class="cellalignment1227" id="r1c2-t75">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t75" headers="r1c1-t75">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t75 r1c2-t75">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
<p>This is the only required parameter of <code>GET_ASSOCIATION_RULES</code>. All other parameters specify optional filters on the rules to return.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t75" headers="r1c1-t75">
<p><code>topn</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t75 r1c2-t75">
<p>Return the <span class="italic">n</span> top rules ordered by confidence and then support, both descending. If you specify a sort order, the top <span class="italic">n</span> rules are derived after the sort is performed.</p>
<p>If <code>topn</code> is specified and no maximum or minimum rule length is specified, then the only columns allowed in the sort order are <code>RULE_CONFIDENCE</code> and <code>RULE_SUPPORT</code>. If <span class="italic">topn</span> is specified and a maximum or minimum rule length <span class="italic">is</span> specified, then <code>RULE_CONFIDENCE</code>, <code>RULE_SUPPORT</code>, and <code>NUMBER_OF_ITEMS</code> are allowed in the sort order.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t75" headers="r1c1-t75">
<p><code>rule_id</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t75 r1c2-t75">
<p>Identifier of the rule to return. If you specify a value for <code>rule_id</code>, do not specify values for the other filtering parameters.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t75" headers="r1c1-t75">
<p><code>min_confidence</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t75 r1c2-t75">
<p>Return the rules with confidence greater than or equal to this number</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t75" headers="r1c1-t75">
<p><code>min_support</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t75 r1c2-t75">
<p>Return the rules with support greater than or equal to this number</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t75" headers="r1c1-t75">
<p><code>max_rule_length</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t75 r1c2-t75">
<p>Return the rules with a length less than or equal to this number.</p>
<p>Rule length refers to the number of items in the rule (See <code>NUMBER_OF_ITEMS</code> in <a href="#CDCJJIJF">Table 44-41</a>). For example, in the rule A=&gt;B (if A, then B), the number of items is 2.</p>
<p>If <code>max_rule_length</code> is specified, then the <code>NUMBER_OF_ITEMS</code> column is permitted in the sort order.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t75" headers="r1c1-t75">
<p><code>min_rule_length</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t75 r1c2-t75">
<p>Return the rules with a length greater than or equal to this number. See <code>max_rule_length</code> for a description of rule length.</p>
<p>If <code>min_rule_length</code> is specified, then the <code>NUMBER_OF_ITEMS</code> column is permitted in the sort order.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t75" headers="r1c1-t75">
<p><code>sort_order</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t75 r1c2-t75">
<p>Sort the rules by the values in one or more of the returned columns. Specify one or more column names, each followed by <code>ASC</code> for ascending order or <code>DESC</code> for descending order.</p>
<p>For example, to sort the result set in descending order first by the <code>NUMBER_OF_ITEMS</code> column, then by the <code>RULE_CONFIDENCE</code> column, you would specify:</p>
<p><code>ORA_MINING_VARCHAR2_NT('NUMBER_OF_ITEMS DESC', 'RULE_CONFIDENCE DESC')</code></p>
<p>If you specify <code>topn</code>, the results will vary depending on the sort order.</p>
<p>By default, the results are sorted by confidence in descending order, then by support in descending order.</p>
<p>See the examples.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t75" headers="r1c1-t75">
<p><code>antecedent_items</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t75 r1c2-t75">
<p>Return the rules with these items in the antecedent. See the examples.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t75" headers="r1c1-t75">
<p><code>consequent_items</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t75 r1c2-t75">
<p>Return the rules with this item in the consequent. See the examples.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t75" headers="r1c1-t75">
<p><code>min_lift</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t75 r1c2-t75">
<p>Return the rules with lift greater than or equal to this number.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2394"></a>Return Values</p>
<div id="ARPLS65842" class="tblformal">
<p class="titleintable"><a id="sthref2395"></a><a id="CDCJJIJF"></a>Table 44-41 GET_ASSOCIATION RULES Function Return Values</p>
<table class="cellalignment1229" title="GET_ASSOCIATION RULES Function Return Values" summary="This table describes Return Values for the GET_ASSOCIATION RULES Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t76">Return Value</th>
<th class="cellalignment1227" id="r1c2-t76">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t76" headers="r1c1-t76">
<p><code>DM_RULES</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t76 r1c2-t76">
<p>Represents a set of rows of type <code>DM_RULE</code>. The rows have the following columns:</p>
<pre>
(rule_id              INTEGER,
 antecedent           DM_PREDICATES,
 consequent           DM_PREDICATES,
 rule_support         NUMBER,
 rule_confidence      NUMBER,
 rule_lift            NUMBER,
 antecedent_support   NUMBER,
 consequent_support   NUMBER,
 number_of_items      INTEGER )
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t76" headers="r1c1-t76">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t76 r1c2-t76">
<p>The <code>antecedent</code> and <code>consequent</code> columns each return nested tables of type <code>DM_PREDICATES</code>.The rows, of type <code>DM_PREDICATE</code>, have the following columns:</p>
<pre>
     (attribute_name            VARCHAR2(4000),
      attribute_subname         VARCHAR2(4000),
      conditional_operator      CHAR(2)/*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/,
      attribute_num_value       NUMBER,
      attribute_str_value       VARCHAR2(4000),
      attribute_support         NUMBER,
      attribute_confidence      NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2396"></a>Usage Notes</p>
<p>This table function pipes out rows of type <code>DM_RULES</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
<p>The <code>ORA_MINING_VARCHAR2_NT</code> type is defined as a table of <code>VARCHAR2(4000)</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2397"></a>Examples</p>
<p>The following example demonstrates an Association model build followed by several invocations of the <code>GET_ASSOCIATION_RULES</code> table function.</p>
<pre>
-- prepare a settings table to override default settings
CREATE TABLE market_settings AS
SELECT *
  FROM TABLE(DBMS_DATA_MINING.GET_DEFAULT_SETTINGS)
 WHERE setting_name LIKE 'ASSO_%';
BEGIN
-- update the value of the minimum confidence
UPDATE census_settings
   SET setting_value = TO_CHAR(0.081)
 WHERE setting_name = DBMS_DATA_MINING.asso_min_confidence;

-- build an AR model 
DBMS_DATA_MINING.CREATE_MODEL(
  model_name =&gt; 'market_model',
  function =&gt; DBMS_DATA_MINING.ASSOCIATION,
  data_table_name =&gt; 'market_build',
  case_id_column_name =&gt; 'item_id',
  target_column_name =&gt; NULL,
  settings_table_name =&gt; 'census_settings');
END;
/
-- View the (unformatted) rules 
SELECT rule_id, antecedent, consequent, rule_support,
       rule_confidence
  FROM TABLE(DBMS_DATA_MINING.GET_ASSOCIATION_RULES('market_model'));
</pre>
<p>In the previous example, you view all rules. To view just the top 20 rules, use the following statement.</p>
<pre>
-- View the top 20 (unformatted) rules
SELECT rule_id, antecedent, consequent, rule_support,
       rule_confidence
  FROM TABLE(DBMS_DATA_MINING.GET_ASSOCIATION_RULES('market_model', 20));
</pre>
<p>The following query uses the association model <code>AR_SH_SAMPLE</code>, which is created from one of the Oracle Data Mining sample programs. (See <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for information about the sample programs.)</p>
<pre>
SELECT * FROM TABLE (
   DBMS_DATA_MINING.GET_ASSOCIATION_RULES (
      'AR_SH_SAMPLE', 10, NULL, 0.5, 0.01, 2, 1,
         ORA_MINING_VARCHAR2_NT (
         'NUMBER_OF_ITEMS DESC', 'RULE_CONFIDENCE DESC', 'RULE_SUPPORT DESC'),
         DM_ITEMS(DM_ITEM('CUSTPRODS', 'Mouse Pad', 1, NULL), 
                  DM_ITEM('CUSTPRODS', 'Standard Mouse', 1, NULL)),
         DM_ITEMS(DM_ITEM('CUSTPRODS', 'Extension Cable', 1, NULL))));
</pre>
<p>The query returns three rules, shown as follows.</p>
<pre>
13  DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Mouse Pad', '= ', 1, NULL, NULL, NULL), 
       DM_PREDICATE('CUSTPRODS', 'Standard Mouse', '= ', 1, NULL, NULL, NULL))
    DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Extension Cable', '= ', 1, NULL, NULL, NULL))
    .15532      .84393   2.7075     .18404     .3117   2
 
11  DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Standard Mouse', '= ', 1, NULL, NULL, NULL))
    DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Extension Cable', '= ', 1, NULL, NULL, NULL))
    .18085      .56291   1.8059     .32128     .3117   1
 
9   DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Mouse Pad', '= ', 1, NULL, NULL, NULL))
    DM_PREDICATES(
       DM_PREDICATE('CUSTPRODS', 'Extension Cable', '= ', 1, NULL, NULL, NULL))
      .17766    .55116   1.7682     .32234     .3117   1



</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65843" class="refsect2"><a id="i1065612"></a>
<hr />
<h3 class="refsect2">GET_DEFAULT_SETTINGS Function</h3>
<p>The <code>GET_DEFAULT_SETTINGS</code> function was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1). It was replaced with the data dictionary view *<code>_MINING_MODEL_SETTINGS</code>. <code>USER_</code>, <code>ALL_</code>, and <code>DBA_</code> versions of the view are available. See <a class="olink DMPRG016" href="../../datamine.112/e12218/models_building.htm#DMPRG016"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
<p>Oracle recommends that you do not use deprecated procedures in new applications. Support for deprecated features is for backward compatibility only.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a href="#CACCHFBG">"Deprecated Subprograms"</a></div>
<p>This table function returns the default settings for all mining functions and algorithms supported in the <code>DBMS_DATA_MINING</code> package.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2398"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_DEFAULT_SETTINGS
  RETURN DM_MODEL_SETTINGS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2399"></a>Return Values</p>
<div id="ARPLS65844" class="tblformal">
<p class="titleintable"><a id="sthref2400"></a><a id="sthref2401"></a>Table 44-42 GET_DEFAULT_SETTINGS Function Return Values</p>
<table class="cellalignment1229" title="GET_DEFAULT_SETTINGS Function Return Values" summary="This table describes Return Values for the GET_DEFAULT_SETTINGS Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t78">Return Value</th>
<th class="cellalignment1227" id="r1c2-t78">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t78" headers="r1c1-t78">
<p><code>DM_MODEL_SETTINGS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t78 r1c2-t78">
<p>Represents a set of rows of type <code>DM_MODEL_SETTING</code>. The rows have the following columns:</p>
<pre>
(setting_name    VARCHAR2(30),
 setting_value   VARCHAR2(128))
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2402"></a>Usage Notes</p>
<p>This table function pipes out rows of type <code>DM_MODEL_SETTING</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
<p>This function is particularly useful if you do not know what settings are associated with a particular function or algorithm, and you want to override some or all of them.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2403"></a>Examples</p>
<p>For example, if you want to override some or all of <span class="italic">k</span>-Means clustering settings, you can create a settings table as shown, and update individual settings as required.</p>
<pre>
BEGIN
  CREATE TABLE mysettings AS
  SELECT * 
  FROM TABLE(DBMS_DATA_MINING.GET_DEFAULT_SETTINGS)
   WHERE setting_name LIKE 'KMNS%';
  -- now update individual settings as required
  UPDATE mysettings
     SET setting_value = 0.02
   WHERE setting_name = DBMS_DATA_MINING.KMNS_MIN_PCT_ATTR_SUPPORT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65845" class="refsect2"><a id="i1039941"></a>
<hr />
<h3 class="refsect2"><a id="sthref2404"></a>GET_FREQUENT_ITEMSETS Function</h3>
<p>This table function returns a set of rows that represent the frequent itemsets from an Association model. For a detailed description of frequent itemsets, consult <a class="olink DMCON" href="../../datamine.112/e16808/toc.htm"><span class="italic">Oracle Data Mining Concepts</span></a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2405"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_FREQUENT_ITEMSETS (
    model_name          IN VARCHAR2,
    topn                IN NUMBER DEFAULT NULL,
    max_itemset_length  IN NUMBER DEFAULT NULL)
  RETURN DM_ITEMSETS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2406"></a>Parameters</p>
<div id="ARPLS65846" class="tblformal">
<p class="titleintable"><a id="sthref2407"></a><a id="sthref2408"></a>Table 44-43 GET_FREQUENT_ITEMSETS Function Parameters</p>
<table class="cellalignment1229" title="GET_FREQUENT_ITEMSETS Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_ABN." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t79">Parameter</th>
<th class="cellalignment1227" id="r1c2-t79">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t79" headers="r1c1-t79">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t79 r1c2-t79">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t79" headers="r1c1-t79">
<p><code>topn</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t79 r1c2-t79">
<p>When not <code>NULL</code>, return the top <span class="italic">n</span> rows ordered by support in descending order</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t79" headers="r1c1-t79">
<p><code>max_itemset_length</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t79 r1c2-t79">
<p>Maximum length of an item set.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2409"></a>Return Values</p>
<div id="ARPLS65847" class="tblformal">
<p class="titleintable"><a id="sthref2410"></a><a id="sthref2411"></a>Table 44-44 GET_FREQUENT_ITEMSETS Function Return Values</p>
<table class="cellalignment1229" title="GET_FREQUENT_ITEMSETS Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_ABN Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t80">Return Value</th>
<th class="cellalignment1227" id="r1c2-t80">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t80" headers="r1c1-t80">
<p><code>DM_ITEMSETS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t80 r1c2-t80">
<p>Represents a set of rows of type <code>DM_ITEMSET</code>. The rows have the following columns:</p>
<pre>
(itemsets_id      NUMBER,
items             DM_ITEMS,
support           NUMBER,
number_of_items   NUMBER)
</pre>
<p>The <code>items</code> column returns a nested table of type <code>DM_ITEMS</code>. The rows have type <code>DM_ITEM</code>:</p>
<pre>
(attribute_name      VARCHAR2(4000),
attribute_subname    VARCHAR2(4000),
attribute_num_value  NUMBER,
attribute_str_value  VARCHAR2(4000))
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2412"></a>Usage Notes</p>
<p>This table function pipes out rows of type <code>DM_ITEMSETS</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2413"></a>Examples</p>
<p>The following example demonstrates an Association model build followed by an invocation of <code>GET_FREQUENT_ITEMSETS</code> table function from Oracle SQL.</p>
<pre>
-- prepare a settings table to override default settings
CREATE TABLE market_settings AS
</pre>
<pre>
    SELECT *
</pre>
<pre>
  FROM TABLE(DBMS_DATA_MINING.GET_DEFAULT_SETTINGS)
 WHERE setting_name LIKE 'ASSO_%';
BEGIN
-- update the value of the minimum confidence
UPDATE market_settings
   SET setting_value = TO_CHAR(0.081)
 WHERE setting_name = DBMS_DATA_MINING.asso_min_confidence;

/* build a AR model */
DBMS_DATA_MINING.CREATE_MODEL(
  model_name           =&gt; 'market_model',
  function             =&gt; DBMS_DATA_MINING.ASSOCIATION,
  data_table_name      =&gt; 'market_build',
  case_id_column_name  =&gt; 'item_id',
  target_column_name   =&gt; NULL,
  settings_table_name  =&gt; 'census_settings');
END;
/

-- View the (unformatted) Itemsets from SQL*Plus
SELECT itemset_id, items, support, number_of_items
  FROM TABLE(DBMS_DATA_MINING.GET_FREQUENT_ITEMSETS('market_model'));
</pre>
<p>In the example above, you view all itemsets. To view just the top 20 itemsets, use the following statement:</p>
<pre>
-- View the top 20 (unformatted) Itemsets from SQL*Plus
SELECT itemset_id, items, support, number_of_items
  FROM TABLE(DBMS_DATA_MINING.GET_FREQUENT_ITEMSETS('market_model', 20));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65848" class="refsect2"><a id="CACGJGDJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref2414"></a>GET_MODEL_COST_MATRIX Function</h3>
<p>This function returns the rows of the default <a id="sthref2415"></a>scoring <a id="sthref2416"></a>matrix associated with the specified model.</p>
<p>By default, this function returns the scoring matrix that was added to the model with the <code>ADD_COST_MATRIX</code> procedure. If you wish to obtain the cost matrix used to create a model, specify <code>cost_matrix_type_create</code> as the <code>matrix_type</code>. See <a href="#CACHJJJH">Table 44-45</a>.</p>
<p>See also <a href="#CACGCHCE">ADD_COST_MATRIX Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2417"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_COST_MATRIX (
      model_name        IN VARCHAR2,
      matrix_type       IN VARCHAR2 DEFAULT cost_matrix_type_score)
RETURN DM_COST_MATRIX PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2418"></a>Parameters</p>
<div id="ARPLS65849" class="tblformal">
<p class="titleintable"><a id="sthref2419"></a><a id="CACHJJJH"></a>Table 44-45 GET_MODEL_COST_MATRIX Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_COST_MATRIX Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_COST_MATRIX." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t81">Parameter</th>
<th class="cellalignment1227" id="r1c2-t81">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t81" headers="r1c1-t81">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t81 r1c2-t81">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t81" headers="r1c1-t81">
<p><code>matrix_type</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t81 r1c2-t81">
<p>The type of cost matrix.</p>
<p><code>COST_MATRIX_TYPE_SCORE</code> &mdash; cost matrix used for scoring. (Default.)</p>
<p><code>COST_MATRIX_TYPE_CREATE</code> &mdash; cost matrix used to create the model (Decision Tree only).</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2420"></a>Return Values</p>
<div id="ARPLS65850" class="tblformal">
<p class="titleintable"><a id="sthref2421"></a><a id="CACIAIDJ"></a>Table 44-46 GET_MODEL_COST_MATRIX Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_COST_MATRIX Function Return Values" summary="This table describes the return values of DBMS_DATA_MINING.GET_MODEL_COST_MATRIX." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t82">Return Value</th>
<th class="cellalignment1227" id="r1c2-t82">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t82" headers="r1c1-t82">
<p><code>DM_COST_MATRIX</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t82 r1c2-t82">
<p>Represents a set of rows of type <code>DM_COST_ELEMENT</code>. The rows have the following columns:</p>
<pre>
actual          VARCHAR2(4000), predicted       VARCHAR2(4000), cost            NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2422"></a>Usage Notes</p>
<p>Only Decision Tree models can be built with a cost matrix. If you want to build a Decision Tree model with a cost matrix, specify the cost matrix table name in the <code>CLAS_COST_TABLE_NAME</code> setting in the settings table for the model. See <a href="#CACGFIDD">Table 44-7, "Mining Function Settings"</a>.</p>
<p>The cost matrix used to create a Decision Tree model becomes the default scoring matrix for the model. If you want to specify different costs for scoring, you can modify the values in the cost matrix table or you can use the <code>REMOVE_COST_MATRIX</code> procedure to remove the cost matrix and the <code>ADD_COST_MATRIX</code> procedure to add a new one</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2423"></a>Example</p>
<p>This example returns the scoring cost matrix associated with the Naive Bayes model <code>NB_SH_CLAS_SAMPLE</code>.</p>
<pre>
column actual format a10
column predicted format a10
SELECT *
    FROM TABLE(dbms_data_mining.get_model_cost_matrix('nb_sh_clas_sample'))
    ORDER BY predicted, actual;
 
ACTUAL     PREDICTED   COST
---------- ---------- -----
0          0            .00
1          0            .75
0          1            .25
1          1            .00
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65851" class="refsect2"><a id="i1040058"></a>
<hr />
<h3 class="refsect2">GET_MODEL_DETAILS_ABN Function</h3>
<p>The Adaptive Bayes Network algorithm <code>ABN</code> algorithm was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1).</p>
<p>Oracle recommends that you do not use deprecated procedures in new applications. Support for deprecated features is for backward compatibility only.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a href="#CACCHFBG">"Deprecated Subprograms"</a></div>
<p>This table function returns a set of rows that provide the details of an Adaptive Bayes Network model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2424"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_ABN (
    model_name         IN VARCHAR2)
  RETURN DM_ABN_DETAILS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2425"></a>Parameters</p>
<div id="ARPLS65852" class="tblformal">
<p class="titleintable"><a id="sthref2426"></a><a id="sthref2427"></a>Table 44-47 GET_MODEL_DETAILS_ABN Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_ABN Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_ABN." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t84">Parameter</th>
<th class="cellalignment1227" id="r1c2-t84">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t84" headers="r1c1-t84">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t84 r1c2-t84">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2428"></a>Return Values</p>
<div id="ARPLS65853" class="tblformal">
<p class="titleintable"><a id="sthref2429"></a><a id="sthref2430"></a>Table 44-48 GET_MODEL_DETAILS_ABN Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_ABN Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_ABN Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t85">Return Value</th>
<th class="cellalignment1227" id="r1c2-t85">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t85" headers="r1c1-t85">
<p><code>DM_ABN_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t85 r1c2-t85">
<p>Represents a set of rows of type <code>DM_ABN_DETAIL</code>. The rows have the following columns:</p>
<pre>
(rule_id           INTEGER,
 antecedent        DM_PREDICATES,
 consequent        DM_PREDICATES,
 rule_support      NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t85" headers="r1c1-t85">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t85 r1c2-t85">
<p>The <code>antecedent</code> and <code>consequent</code> columns of <code>DM_ABN_DETAIL</code> each return nested tables of type <code>DM_PREDICATES</code>. The rows, of type <code>DM_PREDICATE</code>, have the following columns:</p>
<pre>
     (attribute_name          VARCHAR2(4000),
      attribute_subname       VARCHAR2(4000),
      conditional_operator    CHAR(2), /*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/
      attribute_num_value     NUMBER,
      attribute_str_value     VARCHAR2(4000),
      attribute_support       NUMBER,
      attribute_confidence    NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2431"></a>Usage Notes</p>
<p>This table function pipes out rows of type <code>DM_ABN_DETAIL</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
<p>This function returns details only for a single feature ABN model.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2432"></a>Examples</p>
<p>The following example demonstrates an ABN model build followed by an invocation of <code>GET_MODEL_DETAILS_ABN</code> table function from Oracle SQL.</p>
<pre>
BEGIN
  -- prepare a settings table to override default algorithm and model type
  CREATE TABLE abn_settings (setting_name VARCHAR2(30),
  setting_value 
VARCHAR2(128));
  INSERT INTO abn_settings VALUES (DBMS_DATA_MINING.ALGO_NAME,
    DBMS_DATA_MINING.ALGO_ADAPTIVE_BAYES_NETWORK);
  INSERT INTO abn_settings VALUES    (DBMS_DATA_MINING.ABNS_MODEL_TYPE,     DBMS_DATA_MINING.ABNS_SINGLE_FEATURE);
   COMMIT;
  -- create a model
  DBMS_DATA_MINING.CREATE_MODEL (
    model_name           =&gt; 'abn_model',
    function             =&gt; DBMS_DATA_MINING.CLASSIFICATION,
    data_table_name      =&gt; 'abn_build',
    case_id_column_name  =&gt; 'id',
    target_column_name   =&gt; NULL,
    settings_table_name  =&gt; 'abn_settings');
END;
/
-- View the (unformatted) results from SQL*Plus
SELECT *
    FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_ABN('abn_model'));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65854" class="refsect2"><a id="CACGDHGJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref2433"></a>GET_MODEL_DETAILS_AI Function</h3>
<p>This table function returns a set of rows that provide the details of an Attribute Importance model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2434"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_AI (
  model_name         IN VARCHAR2)
 RETURN DM_RANKED_ATTRIBUTES PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2435"></a>Parameters</p>
<div id="ARPLS65855" class="tblformal">
<p class="titleintable"><a id="sthref2436"></a><a id="sthref2437"></a>Table 44-49 GET_MODEL_DETAILS_AI Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_AI Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_KM." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t86">Parameter</th>
<th class="cellalignment1227" id="r1c2-t86">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t86" headers="r1c1-t86">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t86 r1c2-t86">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2438"></a>Return Values</p>
<div id="ARPLS65856" class="tblformal">
<p class="titleintable"><a id="sthref2439"></a><a id="sthref2440"></a>Table 44-50 GET_MODEL_DETAILS_AI Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_AI Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_KM Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t87">Return Value</th>
<th class="cellalignment1227" id="r1c2-t87">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t87" headers="r1c1-t87">
<p><code>DM_RANKED_ATTRIBUTES</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t87 r1c2-t87">
<p>Represents a set of rows of type <code>DM_RANKED_ATTRIBUTE</code>. The rows have the following columns:</p>
<pre>
(attribute_name          VARCHAR2(4000,
 attribute_subname       VARCHAR2(4000),
 importance_value        NUMBER,
 rank                    NUMBER(38))
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2441"></a>Examples</p>
<p>The following example returns model details for the attribute importance model <code>AI_SH_sample</code>, which was created by the sample program <code>dmaidemo.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
SELECT attribute_name, importance_value, rank
    FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_AI('AI_SH_sample'))
    ORDER BY RANK;
 
ATTRIBUTE_NAME                           IMPORTANCE_VALUE       RANK
---------------------------------------- ---------------- ----------
HOUSEHOLD_SIZE                                 .151685183          1
CUST_MARITAL_STATUS                            .145294546          2
YRS_RESIDENCE                                   .07838928          3
AGE                                            .075027496          4
Y_BOX_GAMES                                    .063039952          5
EDUCATION                                      .059605314          6
HOME_THEATER_PACKAGE                           .056458722          7
OCCUPATION                                     .054652937          8
CUST_GENDER                                    .035264741          9
BOOKKEEPING_APPLICATION                        .019204751         10
PRINTER_SUPPLIES                                        0         11
OS_DOC_SET_KANJI                               -.00050013         12
FLAT_PANEL_MONITOR                             -.00509564         13
BULK_PACK_DISKETTES                            -.00540822         14
COUNTRY_NAME                                   -.01201116         15
CUST_INCOME_LEVEL                              -.03951311         16
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65857" class="refsect2"><a id="CACECDHF"></a>
<hr />
<h3 class="refsect2"><a id="sthref2442"></a>GET_MODEL_DETAILS_GLM Function</h3>
<p>This table function returns the coefficient statistics for a Generalized Linear Model.</p>
<p>The same set of statistics is returned for both linear and logistic regression, but statistics that do not apply to the mining function are returned as <code>NULL</code>. For more details, see the Usage Notes.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2443"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_GLM (
             model_name             VARCHAR2)
RETURN DM_GLM_COEFF_SET PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2444"></a>Parameters</p>
<div id="ARPLS65858" class="tblformal">
<p class="titleintable"><a id="sthref2445"></a><a id="sthref2446"></a>Table 44-51 GET_MODEL_DETAILS_GLM Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_GLM Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_GLM." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t88">Parameter</th>
<th class="cellalignment1227" id="r1c2-t88">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t88" headers="r1c1-t88">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t88 r1c2-t88">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2447"></a>Return Values</p>
<div id="ARPLS65859" class="tblformal">
<p class="titleintable"><a id="sthref2448"></a><a id="CACDJFGB"></a>Table 44-52 GET_MODEL_DETAILS_GLM Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_GLM Return Values" summary="This table describes the return values of DBMS_DATA_MINING.APPLY." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t89">Return Value</th>
<th class="cellalignment1227" id="r1c2-t89">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t89" headers="r1c1-t89">
<p><code>DM_GLM_COEFF_SET</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t89 r1c2-t89">
<p>Represents a set of rows of type <code>DM_GLM_COEFF</code>. The rows have the following columns:</p>
<pre>
(class                   VARCHAR2(4000),
 attribute_name          VARCHAR2(4000),
 attribute_subname       VARCHAR2(4000),
 attribute_value         VARCHAR2(4000),
 coefficient             NUMBER,
 std_error               NUMBER,
 test_statistic          NUMBER,
 p_value                 NUMBER,
 VIF                     NUMBER,
 std_coefficient         NUMBER,
 lower_coeff_limit       NUMBER,
 upper_coeff_limit       NUMBER,
 exp_coefficient         BINARY_DOUBLE,
 exp_lower_coeff_limit   BINARY_DOUBLE,
 exp_upper_coeff_limit   BINARY_DOUBLE)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p><code>GET_MODEL_DETAILS_GLM</code> returns a row of statistics for each attribute and one extra row for the intercept, which is identified by a null value in the attribute name. Each row has the <code>DM_GLM_COEFF</code> data type. The statistics are described in <a href="#CACDFBGF">Table 44-53</a>.</p>
<div id="ARPLS65860" class="tblformal">
<p class="titleintable"><a id="sthref2449"></a><a id="CACDFBGF"></a>Table 44-53 DM_GLM_COEFF Data Type Description</p>
<table class="cellalignment1229" title="DM_GLM_COEFF Data Type Description" summary="This table describes the DM_GLM_COEFF data type in DBMS_DATA_MINING." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t90">Column</th>
<th class="cellalignment1227" id="r1c2-t90">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t90" headers="r1c1-t90">
<p><code>class</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t90 r1c2-t90">
<p>The non-reference target class for logistic regression. The model is built to predict the probability of this class.</p>
<p>The other class (the reference class) is specified in the model setting <code>GLMS_REFERENCE_CLASS_NAME</code>. See <a href="#CACFDICC">Table 44-11, "GLM Settings"</a>.</p>
<p>For linear regression, <code>class</code> is null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t90" headers="r1c1-t90">
<p><code>attribute_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t90 r1c2-t90">
<p>The attribute name when there is no subname, or first part of the attribute name when there is a subname. The value of <code>attribute_name</code> is also the name of the column in the case table that is the source for this attribute.</p>
<p>For the intercept, <code>attribute_name</code> is null. Intercepts are equivalent to the bias term in SVM models.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t90" headers="r1c1-t90">
<p><code>attribute_subname</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t90 r1c2-t90">
<p>The name of an attribute in a nested table. The full name of a nested attribute has the form:</p>
<p><code><span class="codeinlineitalic">attribute_name.attribute_subname</span></code></p>
<p>where <code><span class="codeinlineitalic">attribute_name</span></code> is the name of the nested column in the case table that is the source for this attribute.</p>
<p>If the attribute is not nested, <code>attribute_subname</code> is null. If the attribute is an intercept, both the <code>attribute_name</code> and the <code>attribute_subname</code> are null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t90" headers="r1c1-t90">
<p><code>attribute_value</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t90 r1c2-t90">
<p>The value of the attribute (categorical attribute only).</p>
<p>For numerical attributes, <code>attribute_value</code> is null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t90" headers="r1c1-t90">
<p><code>coefficient</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t90 r1c2-t90">
<p>The linear coefficient estimate.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t90" headers="r1c1-t90">
<p><code>std_error</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t90 r1c2-t90">
<p>Standard error of the coefficient estimate.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t90" headers="r1c1-t90">
<p><code>test_statistic</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t90 r1c2-t90">
<p>For linear regression, the t-value of the coefficient estimate.</p>
<p>For logistic regression, the Wald chi-square value of the coefficient estimate.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t90" headers="r1c1-t90">
<p><code>p-value</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t90 r1c2-t90">
<p>Probability of the <code>test_statistic</code>. Used to analyze the significance of specific attributes in the model.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t90" headers="r1c1-t90">
<p><code>VIF</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t90 r1c2-t90">
<p>Variance Inflation Factor. The value is zero for the intercept. For logistic regression, <code>VIF</code> is null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t90" headers="r1c1-t90">
<p><code>std_coefficient</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t90 r1c2-t90">
<p>Standardized estimate of the coefficient.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t90" headers="r1c1-t90">
<p><code>lower_coeff_limit</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t90 r1c2-t90">
<p>Lower confidence bound of the coefficient.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t90" headers="r1c1-t90">
<p><code>upper_coeff_limit</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t90 r1c2-t90">
<p>Upper confidence bound of the coefficient.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t90" headers="r1c1-t90">
<p><code>exp_coefficient</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t90 r1c2-t90">
<p>Exponentiated coefficient for logistic regression. For linear regression, <code>exp_coefficient</code> is null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t90" headers="r1c1-t90">
<p><code>exp_lower_coeff_limit</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t90 r1c2-t90">
<p>Exponentiated coefficient for lower confidence bound of the coefficient for logistic regression. For linear regression, <code>exp_lower_coeff_limit</code> is null.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t90" headers="r1c1-t90">
<p><code>exp_upper_coeff_limit</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t90 r1c2-t90">
<p>Exponentiated coefficient for upper confidence bound of the coefficient for logistic regression. For linear regression, <code>exp_lower_coeff_limit</code> is null.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2450"></a>Usage Notes</p>
<p>Not all statistics are necessarily returned for each coefficient. Statistics will be null if:</p>
<ul>
<li>
<p>They do not apply to the mining function. For example, <code>exp_coefficient</code> does not apply to linear regression.</p>
</li>
<li>
<p>They cannot be computed from a theoretical standpoint. For example, when ridge regression is enabled, the coefficient values are returned with no statistics except VIF if it is enabled. (For information on ridge regression, see <a href="#CACFDICC">Table 44-11, "GLM Settings"</a>.)</p>
</li>
<li>
<p>They cannot be computed because of limitations in system resources.</p>
</li>
<li>
<p>Their values would be infinity.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2451"></a>Examples</p>
<p>The following example returns some of the model details for the GLM regression model <code>GLMR_SH_Regr_sample</code>, which was created by the sample program <code>dmglrdem.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
SQL&gt; SELECT *
   FROM (SELECT class, attribute_name, attribute_value, coefficient, std_error
              FROM TABLE(dbms_data_mining.get_model_details_glm(
                           'GLMR_SH_Regr_sample'))
            ORDER BY class, attribute_name, attribute_value)
     WHERE ROWNUM &lt; 11;

CLASS     ATTRIBUTE_NAME      ATTRIBUTE_VALUE  COEFFICIENT  STD_ERROR
--------- ------------------  ---------------- -----------  ----------
          AFFINITY_CARD                         -.60686139   .531250033
          BULK_PACK_DISKETTES                   -1.9729645   .924531227
          COUNTRY_NAME        Argentina         -1.3340963  1.1942193
          COUNTRY_NAME        Australia           -.340504  5.13688361
          COUNTRY_NAME        Brazil             5.3855269  1.93197882
          COUNTRY_NAME        Canada            4.13393291  2.41283125
          COUNTRY_NAME        China              .74409259  3.59923638
          COUNTRY_NAME        Denmark           -2.5287879  3.18569293
          COUNTRY_NAME        France            -1.0908689  7.18471003
          COUNTRY_NAME        Germany           -1.7472166  2.53689456
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65861" class="refsect2"><a id="CACICAIJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref2452"></a>GET_MODEL_DETAILS_GLOBAL Function</h3>
<p>This table function returns statistics about the model as a whole. Global details are available for GLM and for association rules.</p>
<p>Separate global details are returned for linear and logistic regression. When ridge regression is enabled, fewer global details are returned. For information about ridge, see <a href="#CACFDICC">Table 44-11, "GLM Settings"</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2453"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_GLOBAL (
      model_name     IN  VARCHAR2)
RETURN DM_MODEL_GLOBAL_DETAILS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2454"></a>Parameters</p>
<div id="ARPLS65862" class="tblformal">
<p class="titleintable"><a id="sthref2455"></a><a id="sthref2456"></a>Table 44-54 GET_MODEL_DETAILS_GLOBAL Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_GLOBAL Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_GLOBAL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t91">Parameter</th>
<th class="cellalignment1227" id="r1c2-t91">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t91" headers="r1c1-t91">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t91 r1c2-t91">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2457"></a>Return Values</p>
<div id="ARPLS65863" class="tblformal">
<p class="titleintable"><a id="sthref2458"></a><a id="sthref2459"></a>Table 44-55 GET_MODEL_DETAILS_GLOBAL Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_GLOBAL Function Return Values" summary="This table describes the return valaues of DBMS_DATA_MINING.GET_MODEL_DETAILS_GLOBAL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t92">Return Value</th>
<th class="cellalignment1227" id="r1c2-t92">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t92" headers="r1c1-t92">
<p><code>DM_MODEL_GLOBAL_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t92 r1c2-t92">
<p>A collection of rows of type <code>DM_MODEL_GLOBAL_DETAIL</code>. The rows have the following columns:</p>
<pre>
(global_detail_name   VARCHAR2(30),
 global_detail_value   NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2460"></a>Global Details for GLM: Linear Regression</p>
<div id="ARPLS65864" class="tblformal">
<p class="titleintable"><a id="sthref2461"></a><a id="sthref2462"></a>Table 44-56 Global Details for Linear Regression</p>
<table class="cellalignment1229" title="Global Details for Linear Regression" summary="This table describes global details returned by a linear regression model." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t93">GLOBAL_DETAIL_NAME</th>
<th class="cellalignment1227" id="r1c2-t93">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t93" headers="r1c1-t93">
<p><code>MODEL_DF</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t93 r1c2-t93">
<p>Model degrees of freedom</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t93" headers="r1c1-t93">
<p><code>MODEL_SUM_SQUARES</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t93 r1c2-t93">
<p>Model sum of squares</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t93" headers="r1c1-t93">
<p><code>MODEL_MEAN_SQUARE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t93 r1c2-t93">
<p>Model mean square</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t93" headers="r1c1-t93">
<p><code>F_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t93 r1c2-t93">
<p>Model <span class="italic">F</span> value statistic</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t93" headers="r1c1-t93">
<p><code>MODEL_F_P_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t93 r1c2-t93">
<p>Model <span class="italic">F</span> value probability</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t93" headers="r1c1-t93">
<p><code>ERROR_DF</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t93 r1c2-t93">
<p>Error degrees of freedom</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t93" headers="r1c1-t93">
<p><code>ERROR_SUM_SQUARES</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t93 r1c2-t93">
<p>Error sum of squares</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t93" headers="r1c1-t93">
<p><code>ERROR_MEAN_SQUARE</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t93 r1c2-t93">
<p>Error mean square</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t93" headers="r1c1-t93">
<p><code>CORRECTED_TOTAL_DF</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t93 r1c2-t93">
<p>Corrected total degrees of freedom</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t93" headers="r1c1-t93">
<p><code>CORRECTED_TOT_SS</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t93 r1c2-t93">
<p>Corrected total sum of squares</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t93" headers="r1c1-t93">
<p><code>ROOT_MEAN_SQ</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t93 r1c2-t93">
<p>Root mean square error</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t93" headers="r1c1-t93">
<p><code>DEPENDENT_MEAN</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t93 r1c2-t93">
<p>Dependent mean</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t93" headers="r1c1-t93">
<p><code>COEFF_VAR</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t93 r1c2-t93">
<p>Coefficient of variation</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t93" headers="r1c1-t93">
<p><code>R_SQ</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t93 r1c2-t93">
<p>R-Square</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t93" headers="r1c1-t93">
<p><code>ADJUSTED_R_SQUARE</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t93 r1c2-t93">
<p>Adjusted R-Square</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t93" headers="r1c1-t93">
<p><code>AIC</code></p>
</td>
<td class="cellalignment1228" headers="r17c1-t93 r1c2-t93">
<p>Akaike's information criterion</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r18c1-t93" headers="r1c1-t93">
<p><code>SBIC</code></p>
</td>
<td class="cellalignment1228" headers="r18c1-t93 r1c2-t93">
<p>Schwarz's Bayesian information criterion</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r19c1-t93" headers="r1c1-t93">
<p><code>GMSEP</code></p>
</td>
<td class="cellalignment1228" headers="r19c1-t93 r1c2-t93">
<p>Estimated mean square error of the prediction, assuming multivariate normality</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r20c1-t93" headers="r1c1-t93">
<p><code>HOCKING_SP</code></p>
</td>
<td class="cellalignment1228" headers="r20c1-t93 r1c2-t93">
<p>Hocking Sp statistic</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r21c1-t93" headers="r1c1-t93">
<p><code>J_P</code></p>
</td>
<td class="cellalignment1228" headers="r21c1-t93 r1c2-t93">
<p>JP statistic (the final prediction error)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r22c1-t93" headers="r1c1-t93">
<p><code>NUM_PARAMS</code></p>
</td>
<td class="cellalignment1228" headers="r22c1-t93 r1c2-t93">
<p>Number of parameters (the number of coefficients, including the intercept)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r23c1-t93" headers="r1c1-t93">
<p><code>NUM_ROWS</code></p>
</td>
<td class="cellalignment1228" headers="r23c1-t93 r1c2-t93">
<p>Number of rows</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r24c1-t93" headers="r1c1-t93">
<p><code>MODEL_CONVERGED</code></p>
</td>
<td class="cellalignment1228" headers="r24c1-t93 r1c2-t93">
<p>Whether or not the model converged. Value is <code>1</code> if it converged, or <code>0</code> if it did not converge</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r25c1-t93" headers="r1c1-t93">
<p><code>VALID_COVARIANCE_MATRIX</code></p>
</td>
<td class="cellalignment1228" headers="r25c1-t93 r1c2-t93">
<p>Valid covariance matrix. Value is <code>1</code> if the covariance matrix was computed, or <code>0</code> if it was not computed</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2463"></a>Global Details for GLM: Logistic Regression</p>
<div id="ARPLS65865" class="tblformal">
<p class="titleintable"><a id="sthref2464"></a><a id="sthref2465"></a>Table 44-57 Global Details for Logistic Regression</p>
<table class="cellalignment1229" title="Global Details for Logistic Regression" summary="This table returns global details returned by a logistic regression model." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t94">GLOBAL_DETAIL_NAME</th>
<th class="cellalignment1227" id="r1c2-t94">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t94" headers="r1c1-t94">
<p><code>AIC_INTERCEPT</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t94 r1c2-t94">
<p>Akaike's criterion for the fit of the intercept only model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t94" headers="r1c1-t94">
<p><code>AIC_MODEL</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t94 r1c2-t94">
<p>Akaike's criterion for the fit of the intercept and the covariates (predictors) mode</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t94" headers="r1c1-t94">
<p><code>SC_INTERCEPT</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t94 r1c2-t94">
<p>Schwarz's Criterion for the fit of the intercept only model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t94" headers="r1c1-t94">
<p><code>SC_MODEL</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t94 r1c2-t94">
<p>Schwarz's Criterion for the fit of the intercept and the covariates (predictors) model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t94" headers="r1c1-t94">
<p><code>NEG2_LL_INTERCEPT</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t94 r1c2-t94">
<p>-2 log likelihood of the intercept only model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t94" headers="r1c1-t94">
<p><code>NEG2_LL_MODEL</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t94 r1c2-t94">
<p>-2 log likelihood of the model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t94" headers="r1c1-t94">
<p><code>LR_DF</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t94 r1c2-t94">
<p>Likelihood ratio degrees of freedom</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t94" headers="r1c1-t94">
<p><code>LR_CHI_SQ</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t94 r1c2-t94">
<p>Likelihood ratio chi-square value</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t94" headers="r1c1-t94">
<p><code>LR_CHI_SQ_P_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t94 r1c2-t94">
<p>Likelihood ratio chi-square probability value</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t94" headers="r1c1-t94">
<p><code>PSEUDO_R_SQ_CS</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t94 r1c2-t94">
<p>Pseudo R-square Cox and Snell</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t94" headers="r1c1-t94">
<p><code>PSEUDO_R_SQ_N</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t94 r1c2-t94">
<p>Pseudo R-square Nagelkerke</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t94" headers="r1c1-t94">
<p><code>DEPENDENT_MEAN</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t94 r1c2-t94">
<p>Dependent mean</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t94" headers="r1c1-t94">
<p><code>PCT_CORRECT</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t94 r1c2-t94">
<p>Percent of correct predictions</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t94" headers="r1c1-t94">
<p><code>PCT_INCORRECT</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t94 r1c2-t94">
<p>Percent of incorrectly predicted rows</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t94" headers="r1c1-t94">
<p><code>PCT_TIED</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t94 r1c2-t94">
<p>Percent of cases where probability for both cases is the same</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t94" headers="r1c1-t94">
<p><code>NUM_PARAMS</code></p>
</td>
<td class="cellalignment1228" headers="r17c1-t94 r1c2-t94">
<p>Number of parameters (the number of coefficients, including the intercept)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r18c1-t94" headers="r1c1-t94">
<p><code>NUM_ROWS</code></p>
</td>
<td class="cellalignment1228" headers="r18c1-t94 r1c2-t94">
<p>Number of rows</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r19c1-t94" headers="r1c1-t94">
<p><code>MODEL_CONVERGED</code></p>
</td>
<td class="cellalignment1228" headers="r19c1-t94 r1c2-t94">
<p>Whether or not the model converged. Value is <code>1</code>if it converged, or <code>0</code> if it did not converge.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r20c1-t94" headers="r1c1-t94">
<p><code>VALID_COVARIANCE_MATRIX</code></p>
</td>
<td class="cellalignment1228" headers="r20c1-t94 r1c2-t94">
<p>Valid covariance matrix. Value is <code>1</code> if the covariance matrix was computed, or <code>0</code> if the covariance matrix not computed</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2466"></a>Global Detail for Association Rules</p>
<p>A single global detail is produced by an Association model.</p>
<div id="ARPLS65866" class="tblformal">
<p class="titleintable"><a id="sthref2467"></a><a id="sthref2468"></a>Table 44-58 Global Detail for Association Rules</p>
<table class="cellalignment1229" title="Global Detail for Association Rules" summary="This table describes a global detail returned for association rules model." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t95">GLOBAL_DETAIL_NAME</th>
<th class="cellalignment1227" id="r1c2-t95">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t95" headers="r1c1-t95">
<p><code>RULE_COUNT</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t95 r1c2-t95">
<p>The number of association rules in the model.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2469"></a>Examples</p>
<p>The following example returns the global model details for the GLM regression model <code>GLMR_SH_Regr_sample</code>, which was created by the sample program <code>dmglrdem.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
SELECT *
  FROM TABLE(dbms_data_mining.get_model_details_global(
              'GLMR_SH_Regr_sample'))
ORDER BY global_detail_name;
GLOBAL_DETAIL_NAME             GLOBAL_DETAIL_VALUE
------------------------------ -------------------
ADJUSTED_R_SQUARE                       .731412557
AIC                                       5931.814
COEFF_VAR                               18.1711243
CORRECTED_TOTAL_DF                            1499
CORRECTED_TOT_SS                        278740.504
DEPENDENT_MEAN                              38.892
ERROR_DF                                      1433
ERROR_MEAN_SQUARE                       49.9440956
ERROR_SUM_SQUARES                       71569.8891
F_VALUE                                 62.8492452
GMSEP                                    52.280819
HOCKING_SP                              .034877162
J_P                                     52.1749319
MODEL_CONVERGED                                  1
MODEL_DF                                        66
MODEL_F_P_VALUE                                  0
MODEL_MEAN_SQUARE                       3138.94871
MODEL_SUM_SQUARES                       207170.615
NUM_PARAMS                                      67
NUM_ROWS                                      1500
ROOT_MEAN_SQ                            7.06711367
R_SQ                                    .743238288
SBIC                                    6287.79977
VALID_COVARIANCE_MATRIX                          1
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65867" class="refsect2"><a id="CACIIEAA"></a>
<hr />
<h3 class="refsect2"><a id="sthref2470"></a>GET_MODEL_DETAILS_KM Function</h3>
<p>This table function returns a set of rows that provide the details of a <span class="italic">k</span>-Means clustering model.</p>
<p>You can provide input to <code>GET_MODEL_DETAILS_KM</code> to request specific information about the model, thus improving the performance of the query. If you do not specify filtering parameters, <code>GET_MODEL_DETAILS_KM</code> returns all the information about the model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2471"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_KM (
          model_name          VARCHAR2,
          cluster_id          NUMBER    DEFAULT NULL,
          attribute           VARCHAR2  DEFAULT NULL,
          centroid            NUMBER    DEFAULT 1, 
          histogram           NUMBER    DEFAULT 1, 
          rules               NUMBER    DEFAULT 2,
          attribute_subname   VARCHAR2  DEFAULT NULL)
RETURN DM_CLUSTERS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2472"></a>Parameters</p>
<div id="ARPLS65868" class="tblformal">
<p class="titleintable"><a id="sthref2473"></a><a id="sthref2474"></a>Table 44-59 GET_MODEL_DETAILS_KM Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_KM Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_KM." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t96">Parameter</th>
<th class="cellalignment1227" id="r1c2-t96">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t96" headers="r1c1-t96">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t96 r1c2-t96">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t96" headers="r1c1-t96">
<p><code>cluster_id</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t96 r1c2-t96">
<p>The ID of a cluster in the model. When a valid cluster ID is specified, only the details of this cluster are returned. Otherwise the details for all clusters are returned.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t96" headers="r1c1-t96">
<p><code>attribute</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t96 r1c2-t96">
<p>The name of an attribute. When a valid attribute name is specified, only the details of this attribute are returned. Otherwise the details for all attributes are returned</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t96" headers="r1c1-t96">
<p><code>centroid</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t96 r1c2-t96">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>1 &mdash; Details about centroids are returned (default)</p>
</li>
<li>
<p>0 &mdash; Details about centroids are not returned</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t96" headers="r1c1-t96">
<p><code>histogram</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t96 r1c2-t96">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>1 &mdash; Details about histograms are returned (default)</p>
</li>
<li>
<p>0 &mdash; Details about histograms are not returned</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t96" headers="r1c1-t96">
<p><code>rules</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t96 r1c2-t96">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>2 &mdash; Details about rules are returned (default)</p>
</li>
<li>
<p>1 &mdash; Rule summaries are returned</p>
</li>
<li>
<p>0 &mdash; No information about rules is returned</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2475"></a>Return Values</p>
<div id="ARPLS65869" class="tblformal">
<p class="titleintable"><a id="sthref2476"></a><a id="sthref2477"></a>Table 44-60 GET_MODEL_DETAILS_KM Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_KM Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_KM Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t97">Return Value</th>
<th class="cellalignment1227" id="r1c2-t97">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t97" headers="r1c1-t97">
<p><code>DM_CLUSTERS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t97 r1c2-t97">
<p>Represents a set of rows of type <code>DM_CLUSTER</code>. The rows have the following columns:</p>
<pre>
(id                   NUMBER,
 cluster_id           VARCHAR2(4000),
 record_count         NUMBER,
 parent               NUMBER,
 tree_level           NUMBER,
 dispersion           NUMBER,
 split_predicate      DM_PREDICATES,
 child                DM_CHILDREN,
 centroid             DM_CENTROIDS,
 histogram            DM_HISTOGRAMS,
 rule                 DM_RULE)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t97 r1c2-t97">
<p>The <code>split_predicate</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_PREDICATES</code>. Each row, of type <code>DM_PREDICATE</code>, has the following columns:</p>
<pre>
     (attribute_name           VARCHAR2(4000),
      attribute_subname        VARCHAR2(4000),
      conditional_operator     CHAR(2) /*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/,
      attribute_num_value      NUMBER,
      attribute_str_value      VARCHAR2(4000),
      attribute_support        NUMBER,
      attribute_confidence     NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r4c1-t97 r1c2-t97">
<p>The <code>child</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_CHILDREN</code>. The rows, of type <code>DM_CHILD</code>, have a single column of type <code>NUMBER</code>, which contains the identifiers of each child.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r5c1-t97 r1c2-t97">
<p>The <code>centroid</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_CENTROIDS</code>. The rows, of type <code>DM_CENTROID</code>, have the following columns:</p>
<pre>
     (attribute_name    VARCHAR2(4000),
      attribute_subname  VARCHAR2(4000),
      mean               NUMBER,
      mode_value         VARCHAR2(4000),
      variance           NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r6c1-t97 r1c2-t97">
<p>The <code>histogram</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_HISTOGRAMS</code>. The rows, of type <code>DM_HISTOGRAM_BIN</code>, have the following columns:</p>
<pre>
     (attribute_name    VARCHAR2(4000),
      attribute_subname  VARCHAR2(4000),
      bin_id             NUMBER,
      lower_bound        NUMBER,
      upper_bound        NUMBER,
      label              VARCHAR2(4000),
      count              NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r7c1-t97 r1c2-t97">
<p>The <code>rule</code> column of <code>DM_CLUSTER</code> returns a single row of type <code>DM_RULE</code>. The columns are:</p>
<pre>
     (rule_id            INTEGER,
      antecedent         DM_PREDICATES,
      consequent         DM_PREDICATES,
      rule_support       NUMBER,
      rule_confidence    NUMBER,
      rule_lift          NUMBER,
      antecedent_support NUMBER,
      consequent_support NUMBER,
      number_of_items    INTEGER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t97" headers="r1c1-t97">&nbsp;</td>
<td class="cellalignment1228" headers="r8c1-t97 r1c2-t97">
<p>The <code>antecedent</code> and <code>consequent</code> columns of <code>DM_RULE</code> each return nested tables of type <code>DM_PREDICATES</code>. The rows, of type <code>DM_PREDICATE</code>, have the following columns:</p>
<pre>
          (attribute_name           VARCHAR2(4000),
           attribute_subname  VARCHAR2(4000),
           conditional_operator     CHAR(2)/*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/,
           attribute_num_value      NUMBER,
           attribute_str_value      VARCHAR2(4000),
           attribute_support        NUMBER,
           attribute_confidence     NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2478"></a>Usage Notes</p>
<p>The table function pipes out rows of type <code>DM_CLUSTERS</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2479"></a>Examples</p>
<p>The following example returns model details for the <span class="italic">k</span>-Means clustering model <code>KM_SH_Clus_sample</code>, which was created by the sample program <code>dmkmdemo.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
SELECT T.id           clu_id,
       T.record_count rec_cnt,
       T.parent       parent,
       T.tree_level   tree_level,
       T.dispersion   dispersion
  FROM (SELECT *
          FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_KM(
                     'KM_SH_Clus_sample'))
        ORDER BY id) T
 WHERE ROWNUM &lt; 6;  
 
    CLU_ID    REC_CNT     PARENT TREE_LEVEL DISPERSION
---------- ---------- ---------- ---------- ----------
         1       1500                     1  5.9152211
         2        638          1          2 3.98458982
         3        862          1          2 5.83732097
         4        376          3          3 5.05192137
         5        486          3          3 5.42901522
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65870" class="refsect2"><a id="i1040352"></a>
<hr />
<h3 class="refsect2"><a id="sthref2480"></a>GET_MODEL_DETAILS_NB Function</h3>
<p>This table function returns a set of rows that provide the details of a Naive Bayes model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2481"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_NB (
   model_name      IN       VARCHAR2)
 RETURN DM_NB_DETAILS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2482"></a>Parameters</p>
<div id="ARPLS65871" class="tblformal">
<p class="titleintable"><a id="sthref2483"></a><a id="sthref2484"></a>Table 44-61 GET_MODEL_DETAILS_NB Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_NB Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_NB." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t98">Parameter</th>
<th class="cellalignment1227" id="r1c2-t98">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t98" headers="r1c1-t98">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t98 r1c2-t98">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2485"></a>Return Values</p>
<div id="ARPLS65872" class="tblformal">
<p class="titleintable"><a id="sthref2486"></a><a id="sthref2487"></a>Table 44-62 GET_MODEL_DETAILS_NB Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_NB Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_NB Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t99">Return Value</th>
<th class="cellalignment1227" id="r1c2-t99">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t99" headers="r1c1-t99">
<p><code>DM_NB_DETAILS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t99 r1c2-t99">
<p>Represents a set of rows of type <code>DM_NB_DETAIL</code>. The rows have the following columns:</p>
<pre>
(target_attribute_name          VARCHAR2(30),
 target_attribute_str_value     VARCHAR2(4000),
 target_attribute_num_value     NUMBER,
 prior_probability              NUMBER,
 conditionals                   DM_CONDITIONALS)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t99" headers="r1c1-t99">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t99 r1c2-t99">
<p>The <code>conditionals</code> column of <code>DM_NB_DETAIL</code> returns a nested table of type <code>DM_CONDITIONALS</code>. The rows, of type <code>DM_CONDITIONAL</code>, have the following columns:</p>
<pre>
     (attribute_name             VARCHAR2(4000),
      attribute_subname          VARCHAR2(4000),
      attribute_str_value        VARCHAR2(4000),
      attribute_num_value        NUMBER,
      conditional_probability    NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2488"></a>Usage Notes</p>
<p>The table function pipes out rows of type <code>DM_NB_DETAILS</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2489"></a>Examples</p>
<p>The following query is from the sample program <code>dmnbdemo.sql</code>. It returns model details about the model <code>NB_SH_Clas_sample</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<p>The query creates labels from the bin boundary tables that were used to bin the training data. It replaces the attribute values with the labels. For numeric bins, the labels are <code>(</code><code><span class="codeinlineitalic">lower_boundary</span></code>,<code><span class="codeinlineitalic">upper_boundary</span></code><code>]</code>; for categorical bins, the label matches the value it represents. (This method of categorical label representation will only work for cases where one value corresponds to one bin.) The target was not binned.</p>
<pre>
WITH
    bin_label_view AS (
    SELECT col, bin, (DECODE(bin,'1','[','(') || lv || ',' || val || ']') label
      FROM (SELECT col,
                   bin,
                   LAST_VALUE(val) OVER (
                   PARTITION BY col ORDER BY val
                   ROWS BETWEEN UNBOUNDED PRECEDING AND 1 PRECEDING) lv,
                   val
             FROM nb_sh_sample_num)
   UNION ALL
   SELECT col, bin, val label
     FROM nb_sh_sample_cat
   ),
   model_details AS (
   SELECT T.target_attribute_name                                        tname,
          TO_CHAR(
          NVL(T.target_attribute_num_value,T.target_attribute_str_value)) tval,
          C.attribute_name                                               pname,
          NVL(L.label, NVL(C.attribute_str_value, C.attribute_num_value)) pval,
          T.prior_probability                                           priorp,
          C.conditional_probability                                      condp
     FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_NB('NB_SH_Clas_sample')) T,
          TABLE(T.conditionals) C,
          bin_label_view L
    WHERE C.attribute_name = L.col (+) AND
          (NVL(C.attribute_str_value,C.attribute_num_value) = L.bin(+))
   ORDER BY 1,2,3,4,5,6
   )
   SELECT tname, tval, pname, pval, priorp, condp
     FROM model_details
    WHERE ROWNUM &lt; 11;

TNAME          TVAL PNAME                     PVAL           PRIORP   CONDP
-------------- ---- ------------------------- ------------- ------- -------
AFFINITY_CARD  0    AGE                       (24,30]         .6500   .1714
AFFINITY_CARD  0    AGE                       (30,35]         .6500   .1509
AFFINITY_CARD  0    AGE                       (35,40]         .6500   .1125
AFFINITY_CARD  0    AGE                       (40,46]         .6500   .1134
AFFINITY_CARD  0    AGE                       (46,53]         .6500   .1071
AFFINITY_CARD  0    AGE                       (53,90]         .6500   .1312
AFFINITY_CARD  0    AGE                       [17,24]         .6500   .2134
AFFINITY_CARD  0    BOOKKEEPING_APPLICATION   0               .6500   .1500
AFFINITY_CARD  0    BOOKKEEPING_APPLICATION   1               .6500   .8500
AFFINITY_CARD  0    BULK_PACK_DISKETTES       0               .6500   .3670
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65873" class="refsect2"><a id="i1040515"></a>
<hr />
<h3 class="refsect2"><a id="sthref2490"></a>GET_MODEL_DETAILS_NMF Function</h3>
<p>This table function returns a set of rows that provide the details of a Non-Negative Matrix Factorization model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2491"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_NMF (
   model_name        IN        VARCHAR2)
 RETURN DM_NMF_FEATURE_SET PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2492"></a>Parameters</p>
<div id="ARPLS65874" class="tblformal">
<p class="titleintable"><a id="sthref2493"></a><a id="sthref2494"></a>Table 44-63 GET_MODEL_DETAILS_NMF Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_NMF Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_NMF." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t100">Parameter</th>
<th class="cellalignment1227" id="r1c2-t100">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t100" headers="r1c1-t100">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t100 r1c2-t100">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2495"></a>Return Values</p>
<div id="ARPLS65875" class="tblformal">
<p class="titleintable"><a id="sthref2496"></a><a id="sthref2497"></a>Table 44-64 GET_MODEL_DETAILS_NMF Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_NMF Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_NMF." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t101">Return Value</th>
<th class="cellalignment1227" id="r1c2-t101">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t101" headers="r1c1-t101">
<p><code>DM_NMF_FEATURE_SET</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t101 r1c2-t101">
<p>Represents a set of rows of <code>DM_NMF_FEATURE</code>. The rows have the following columns:</p>
<pre>
(feature_id          NUMBER,
 mapped_feature_id   VARCHAR2(4000),
 attribute_set       DM_NMF_ATTRIBUTE_SET)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t101" headers="r1c1-t101">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t101 r1c2-t101">
<p>The <code>attribute_set</code> column of <code>DM_NMF_FEATURE</code> returns a nested table of type <code>DM_NMF_ATTRIBUTE_SET</code>. The rows, of type <code>DM_NMF_ATTRIBUTE</code>, have the following columns:</p>
<pre>
     (attribute_name    VARCHAR2(4000),
      attribute_subname  VARCHAR2(4000),
      attribute_value    VARCHAR2(4000),
      coefficient        NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2498"></a>Usage Notes</p>
<p>The table function pipes out rows of type <code>DM_NMF_FEATURE_SET</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2499"></a>Examples</p>
<p>The following example returns model details for the feature extraction model <code>NMF_SH_Sample</code>, which was created by the sample program <code>dmnmdemo.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
SELECT * FROM (
SELECT F.feature_id,
       A.attribute_name,
       A.attribute_value,
       A.coefficient
  FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_NMF('NMF_SH_Sample')) F,
       TABLE(F.attribute_set) A
ORDER BY feature_id,attribute_name,attribute_value
) WHERE ROWNUM &lt; 11; 
 
FEATURE_ID ATTRIBUTE_NAME          ATTRIBUTE_VALUE          COEFFICIENT
--------- -----------------------  ---------------- -------------------
        1 AFFINITY_CARD                                 .051208078859308
        1 AGE                                          .0390513260041573
        1 BOOKKEEPING_APPLICATION                      .0512734004239326
        1 BULK_PACK_DISKETTES                           .232471260895683
        1 COUNTRY_NAME             Argentina          .00766817464479959
        1 COUNTRY_NAME             Australia         .000157637881096675
        1 COUNTRY_NAME             Brazil              .0031409632415604
        1 COUNTRY_NAME             Canada             .00144213099311427
        1 COUNTRY_NAME             China             .000102279310968754
        1 COUNTRY_NAME             Denmark           .000242424084307513
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65876" class="refsect2"><a id="CACDAIAE"></a>
<hr />
<h3 class="refsect2"><a id="sthref2500"></a>GET_MODEL_DETAILS_OC Function</h3>
<p>This table function returns a set of rows that provide the details of an O-Cluster clustering model. The rows are an enumeration of the clustering patterns generated during the creation of the model.</p>
<p>You can provide input to <code>GET_MODEL_DETAILS_OC</code> to request specific information about the model, thus improving the performance of the query. If you do not specify filtering parameters, <code>GET_MODEL_DETAILS_OC</code> returns all the information about the model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2501"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_OC (
          model_name         VARCHAR2,
          cluster_id         NUMBER    DEFAULT NULL,
          attribute          VARCHAR2  DEFAULT NULL,
          centroid           NUMBER    DEFAULT 1, 
          histogram          NUMBER    DEFAULT 1, 
          rules              NUMBER    DEFAULT 2)
RETURN DM_CLUSTERS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2502"></a>Parameters</p>
<div id="ARPLS65877" class="tblformal">
<p class="titleintable"><a id="sthref2503"></a><a id="sthref2504"></a>Table 44-65 GET_MODEL_DETAILS_OC Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_OC Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_OC." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t102">Parameter</th>
<th class="cellalignment1227" id="r1c2-t102">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t102" headers="r1c1-t102">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t102 r1c2-t102">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t102" headers="r1c1-t102">
<p><code>cluster_id</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t102 r1c2-t102">
<p>The ID of a cluster in the model. When a valid cluster ID is specified, only the details of this cluster are returned. Otherwise the details for all clusters are returned.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t102" headers="r1c1-t102">
<p><code>attribute</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t102 r1c2-t102">
<p>The name of an attribute. When a valid attribute name is specified, only the details of this attribute are returned. Otherwise the details for all attributes are returned</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t102" headers="r1c1-t102">
<p><code>centroid</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t102 r1c2-t102">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>1 &mdash; Details about centroids are returned (default)</p>
</li>
<li>
<p>0 &mdash; Details about centroids are not returned</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t102" headers="r1c1-t102">
<p><code>histogram</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t102 r1c2-t102">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>1 &mdash; Details about histograms are returned (default)</p>
</li>
<li>
<p>0 &mdash; Details about histograms are not returned</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t102" headers="r1c1-t102">
<p><code>rules</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t102 r1c2-t102">
<p>This parameter accepts the following values:</p>
<ul>
<li>
<p>2 &mdash; Details about rules are returned (default)</p>
</li>
<li>
<p>1 &mdash; Rule summaries are returned</p>
</li>
<li>
<p>0 &mdash; No information about rules is returned</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2505"></a>Return Values</p>
<div id="ARPLS65878" class="tblformal">
<p class="titleintable"><a id="sthref2506"></a><a id="sthref2507"></a>Table 44-66 GET_MODEL_DETAILS_OC Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_OC Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_OC Function." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t103">Return Value</th>
<th class="cellalignment1227" id="r1c2-t103">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t103" headers="r1c1-t103">
<p><code>DM_CLUSTERS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t103 r1c2-t103">
<p>Represents a set of rows of type <code>DM_CLUSTER</code>. The rows have the following columns:</p>
<pre>
(id               NUMBER,
 cluster_id       VARCHAR2(4000),
 record_count     NUMBER,
 parent           NUMBER,
 tree_level       NUMBER,
 dispersion       NUMBER,
 split_predicate  DM_PREDICATES,
 child            DM_CHILDREN,
 centroid         DM_CENTROIDS,
 histogram        DM_HISTOGRAMS,
 rule             DM_RULE)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t103 r1c2-t103">
<p>The <code>split_predicate</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_PREDICATES</code>. Each row, of type <code>DM_PREDICATE</code>, has the following columns:</p>
<pre>
     (attribute_name           VARCHAR2(4000),
      attribute_subname        VARCHAR2(4000),
      conditional_operator     CHAR(2) /*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/,
      attribute_num_value      NUMBER,
      attribute_str_value      VARCHAR2(4000),
      attribute_support        NUMBER,
      attribute_confidence     NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r4c1-t103 r1c2-t103">
<p>The <code>child</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_CHILDREN</code>. The rows, of type <code>DM_CHILD</code>, have a single column of type <code>NUMBER</code>, which contains the identifiers of each child.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r5c1-t103 r1c2-t103">
<p>The <code>centroid</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_CENTROIDS</code>. The rows, of type <code>DM_CENTROID</code>, have the following columns:</p>
<pre>
      (attribute_name    VARCHAR2(4000),
       attribute_subname  VARCHAR2(4000),
       mean               NUMBER,
       mode_value         VARCHAR2(4000),
       variance           NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r6c1-t103 r1c2-t103">
<p>The <code>histogram</code> column of <code>DM_CLUSTER</code> returns a nested table of type <code>DM_HISTOGRAMS</code>. The rows, of type <code>DM_HISTOGRAM_BIN</code>, have the following columns:</p>
<pre>
    (attribute_name    VARCHAR2(4000),
     attribute_subname  VARCHAR2(4000),
     bin_id             NUMBER,
     lower_bound        NUMBER,
     upper_bound        NUMBER,
     label              VARCHAR2(4000),
     count              NUMBER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r7c1-t103 r1c2-t103">
<p>The <code>rule</code> column of <code>DM_CLUSTER</code> returns a single row of type <code>DM_RULE</code>. The columns are:</p>
<pre>
     (rule_id            INTEGER,
      antecedent         DM_PREDICATES,
      consequent         DM_PREDICATES,
      rule_support       NUMBER,
      rule_confidence    NUMBER,
      rule_lift          NUMBER,
      antecedent_support NUMBER,
      consequent_support NUMBER,
      number_of_items    INTEGER)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t103" headers="r1c1-t103">&nbsp;</td>
<td class="cellalignment1228" headers="r8c1-t103 r1c2-t103">
<p>The <code>antecedent</code> and <code>consequent</code> columns each return nested tables of type <code>DM_PREDICATES</code>.The rows, of type <code>DM_PREDICATE</code>, have the following columns:</p>
<pre>
          (attribute_name           VARCHAR2(4000),
           attribute_subname        VARCHAR2(4000),
           conditional_operator     CHAR(2)/*=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=*/,
           attribute_num_value      NUMBER,
           attribute_str_value      VARCHAR2(4000),
           attribute_support        NUMBER,
           attribute_confidence     NUMBER)
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2508"></a>Usage Notes</p>
<p>The table function pipes out rows of type <code>DM_CLUSTER</code>. For information about Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2509"></a>Examples</p>
<p>The following example returns model details for the clustering model <code>OC_SH_Clus_sample</code>, which was created by the sample program <code>dmocdemo.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<p>For each cluster in this example, the split predicate indicates the attribute and the condition used to assign records to the cluster's children during model build. It provides an important piece of information on how the population within a cluster can be divided up into two smaller clusters.</p>
<pre>
SELECT clu_id, attribute_name, op, s_value
     FROM (SELECT a.id clu_id, sp.attribute_name, sp.conditional_operator op,
                  sp.attribute_str_value s_value
             FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_OC(
                    'OC_SH_Clus_sample')) a,
                  TABLE(a.split_predicate) sp
           ORDER BY a.id, op, s_value)
     WHERE ROWNUM &lt; 11;
 
     CLU_ID ATTRIBUTE_NAME       OP S_VALUE
----------- -------------------- ---------------------------------
          1 OCCUPATION           IN ?
          1 OCCUPATION           IN Armed-F
          1 OCCUPATION           IN Cleric.
          1 OCCUPATION           IN Crafts
          2 OCCUPATION           IN ?
          2 OCCUPATION           IN Armed-F
          2 OCCUPATION           IN Cleric.
          3 OCCUPATION           IN Exec.
          3 OCCUPATION           IN Farming
          3 OCCUPATION           IN Handler
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65879" class="refsect2"><a id="i1040615"></a>
<hr />
<h3 class="refsect2"><a id="sthref2510"></a>GET_MODEL_DETAILS_SVM Function</h3>
<p>This table function returns a set of rows that provide the details of a linear Support Vector Machine (SVM) model. If invoked for nonlinear SVM, it returns <code>ORA-40215</code>.</p>
<p>In linear SVM models, only nonzero coefficients are stored. This reduces storage and speeds up model loading. As a result, if an attribute is missing in the coefficient list returned by <code>GET_MODEL_DETAILS_SVM</code>, then the coefficient of this attribute should be interpreted as zero.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2511"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_SVM (
        model_name        VARCHAR2,
        reverse_coef      NUMBER DEFAULT 0)
 RETURN DM_SVM_LINEAR_COEFF_SET PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2512"></a>Parameters</p>
<div id="ARPLS65880" class="tblformal">
<p class="titleintable"><a id="sthref2513"></a><a id="sthref2514"></a>Table 44-67 GET_MODEL_DETAILS_SVM Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_SVM Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_SVM." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t104">Parameter</th>
<th class="cellalignment1227" id="r1c2-t104">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t104" headers="r1c1-t104">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t104 r1c2-t104">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t104" headers="r1c1-t104">
<p><code>reverse_coef</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t104 r1c2-t104">
<p>Whether or not <code>GET_MODEL_DETAILS_SVM</code> should transform the attribute coefficients using the original attribute transformations.</p>
<p>When <code>reverse_coef</code> is set to 0 (default), <code>GET_MODEL_DETAILS_SVM</code> returns the coefficients directly from the model without applying transformations.</p>
<p>When <code>reverse_coef</code> is set to 1, <code>GET_MODEL_DETAILS_SVM</code> transforms the coefficients and bias by applying the normalization shifts and scales that were generated using automatic data preparation.</p>
<p>See Usage Note <a href="#CACEAABB">4</a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2515"></a>Return Values</p>
<div id="ARPLS65881" class="tblformal">
<p class="titleintable"><a id="sthref2516"></a><a id="sthref2517"></a>Table 44-68 GET_MODEL_DETAILS_SVM Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_SVM Function Return Values" summary="This table describes Return Values for the GET_MODEL_DETAILS_SVM." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t105">Return Value</th>
<th class="cellalignment1227" id="r1c2-t105">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t105" headers="r1c1-t105">
<p><code>DM_SVM_LINEAR_COEFF_SET</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t105 r1c2-t105">
<p>Represents a set of rows of type <code>DM_SVM_LINEAR_COEFF</code>. The rows have the following columns:</p>
<pre>
(class            VARCHAR2(4000),
 attribute_set    DM_SVM_ATTRIBUTE_SET)
</pre></td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t105" headers="r1c1-t105">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t105 r1c2-t105">
<p>The <code>attribute_set</code> column returns a nested table of type <code>DM_SVM_ATTRIBUTE_SET</code>. The rows, of type <code>DM_SVM_ATTRIBUTE</code>, have the following columns:</p>
<pre>
     (attribute_name      VARCHAR2(4000),
      attribute_subname   VARCHAR2(4000),
      attribute_value     VARCHAR2(4000),
      coefficient         NUMBER)
</pre>
<p>See Usage Notes.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2518"></a>Usage Notes</p>
<ol>
<li>
<p>This table function pipes out rows of type <code>DM_SVM_LINEAR_COEFF</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</li>
<li>
<p>The <code>class</code> column of <code>DM_SVM_LINEAR_COEFF</code> contains classification target values. For SVM regression models, <code>class</code> is null. For each classification target value, a set of coefficients is returned. For binary classification, one-class classification, and regression models, only a single set of coefficients is returned.</p>
</li>
<li>
<p>The <code>attribute_value</code> column in <code>DM_SVM_ATTRIBUTE_SET</code> is used for categorical attributes.</p>
</li>
<li id="CACEAABB">
<p><code>GET_MODEL_DETAILS</code> functions preserve model transparency by automatically reversing the transformations applied during the build process. Thus the attributes returned in the model details are the original attributes (or a close approximation of the original attributes) used to build the model.</p>
<p>The coefficients are related to the transformed, not the original, attributes. When returned directly with the model details, the coefficients may not provide meaningful information. If you want <code>GET_MODEL_DETAILS_SVM</code> to transform the coefficients such that they relate to the original attributes, set the <code>reverse_coef</code> parameter to 1.</p>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2519"></a>Examples</p>
<p>The following example returns model details for the SVM classification model <code>SVMC_SH_Clas_sample</code>, which was created by the sample program <code>dmsvcdem.sql</code>. For information about the sample programs, see <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>.</p>
<pre>
WITH
  mod_dtls AS (
  SELECT *
    FROM TABLE(DBMS_DATA_MINING.GET_MODEL_DETAILS_SVM('SVMC_SH_Clas_sample'))
  ),
  model_details AS (
  SELECT D.class, A.attribute_name, A.attribute_value, A.coefficient
    FROM mod_dtls D,
            TABLE(D.attribute_set) A
    ORDER BY D.class, ABS(A.coefficient) DESC
  )
  SELECT class, attribute_name aname, attribute_value aval, coefficient coeff
    FROM model_details
    WHERE ROWNUM &lt; 11;
 
CLASS      ANAME                     AVAL                      COEFF
---------- ------------------------- ------------------------- -----
1                                                              -2.85
1          BOOKKEEPING_APPLICATION                              1.11
1          OCCUPATION                Other                      -.94
1          HOUSEHOLD_SIZE            4-5                         .88
1          CUST_MARITAL_STATUS       Married                     .82
1          YRS_RESIDENCE                                         .76
1          HOUSEHOLD_SIZE            6-8                        -.74
1          OCCUPATION                Exec.                       .71
1          EDUCATION                 11th                       -.71
1          EDUCATION                 Masters                     .63
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65882" class="refsect2"><a id="CACFGFDB"></a>
<hr />
<h3 class="refsect2"><a id="sthref2520"></a>GET_MODEL_DETAILS_XML Function</h3>
<p>This function returns an XML object that provides the details of a Decision Tree model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2521"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_DETAILS_XML (
         model_name      IN       VARCHAR2)
   RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2522"></a>Parameters</p>
<div id="ARPLS65883" class="tblformal">
<p class="titleintable"><a id="sthref2523"></a><a id="sthref2524"></a>Table 44-69 GET_MODEL_DETAILS_XML Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_XML Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_DETAILS_XML, which returns details for a decsion tree." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t106">Parameter</th>
<th class="cellalignment1227" id="r1c2-t106">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t106" headers="r1c1-t106">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t106 r1c2-t106">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2525"></a>Return Values</p>
<div id="ARPLS65884" class="tblformal">
<p class="titleintable"><a id="sthref2526"></a><a id="sthref2527"></a>Table 44-70 GET_MODEL_DETAILS_XML Function Return Value</p>
<table class="cellalignment1229" title="GET_MODEL_DETAILS_XML Function Return Value" summary="This table describes Return Values for the GET_MODEL_DETAILS_XML, which returns details for a decision tree." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t107">Return Value</th>
<th class="cellalignment1227" id="r1c2-t107">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t107" headers="r1c1-t107">
<p><code>XMLTYPE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t107 r1c2-t107">
<p>The XML definition for the decision tree model. See <a href="t_xml.htm#BABHCHHJ">Chapter 260, "XMLTYPE"</a> for details.</p>
<p><a id="sthref2528"></a>The XML conforms to the Data Mining Group Predictive Model Markup Language (<a id="sthref2529"></a>PMML) version 2.1 specification. The specification is available at <code><a href="http://www.dmg.org">http://www.dmg.org</a></code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2530"></a>Usage Notes</p>
<p>Special characters that cannot be displayed by Oracle XML are converted to '#'.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2531"></a>Examples</p>
<p>The following statements in SQL*Plus return the details of the decision tree model <code>dt_sh_clas_sample</code>. This model is created by the program <code>dmdtdemo.sql</code>, one of the sample data mining programs provided with Oracle Database Examples.</p>
<p>Note: The "&amp;quot" characters you will see in the XML output are a result of SQL*Plus behavior. To display the XML in proper format, cut and past it into a file and open the file in a browser.</p>
<pre>
column dt_details format a320
SELECT 
 dbms_data_mining.get_model_details_xml('dt_sh_clas_sample') 
 AS DT_DETAILS
FROM dual;


DT_DETAILS
--------------------------------------------------------------------------------
&lt;PMML version="2.1"&gt;
  &lt;Header copyright="Copyright (c) 2004, Oracle Corporation. All rights
      reserved."/&gt;
  &lt;DataDictionary numberOfFields="9"&gt;
    &lt;DataField name="AFFINITY_CARD" optype="categorical"/&gt; 
    &lt;DataField name="AGE" optype="continuous"/&gt; 
    &lt;DataField name="BOOKKEEPING_APPLICATION" optype="continuous"/&gt;
    &lt;DataField name="CUST_MARITAL_STATUS" optype="categorical"/&gt;
    &lt;DataField name="EDUCATION" optype="categorical"/&gt; 
    &lt;DataField name="HOUSEHOLD_SIZE" optype="categorical"/&gt;
    &lt;DataField name="OCCUPATION" optype="categorical"/&gt;
    &lt;DataField name="YRS_RESIDENCE" optype="continuous"/&gt;
    &lt;DataField name="Y_BOX_GAMES" optype="continuous"/&gt;
  &lt;/DataDictionary&gt;
  &lt;TreeModel modelName="DT_SH_CLAS_SAMPLE" functionName="classification"
      splitCharacteristic="binarySplit"&gt;
    &lt;Extension name="buildSettings"&gt;
      &lt;Setting name="TREE_IMPURITY_METRIC" value="TREE_IMPURITY_GINI"/&gt;
      &lt;Setting name="TREE_TERM_MAX_DEPTH" value="7"/&gt;
      &lt;Setting name="TREE_TERM_MINPCT_NODE" value=".05"/&gt;
      &lt;Setting name="TREE_TERM_MINPCT_SPLIT" value=".1"/&gt; 
      &lt;Setting name="TREE_TERM_MINREC_NODE" value="10"/&gt;
      &lt;Setting name="TREE_TERM_MINREC_SPLIT" value="20"/&gt;
      &lt;costMatrix&gt;
        &lt;costElement&gt;
          &lt;actualValue&gt;0&lt;/actualValue&gt;
          &lt;predictedValue&gt;0&lt;/predictedValue&gt;
          &lt;cost&gt;0&lt;/cost&gt;
        &lt;/costElement&gt;
        &lt;costElement&gt;
          &lt;actualValue&gt;0&lt;/actualValue&gt;
          &lt;predictedValue&gt;1&lt;/predictedValue&gt;
          &lt;cost&gt;1&lt;/cost&gt;
        &lt;/costElement&gt;
        &lt;costElement&gt;
          &lt;actualValue&gt;1&lt;/actualValue&gt;
          &lt;predictedValue&gt;0&lt;/predictedValue&gt;
          &lt;cost&gt;8&lt;/cost&gt; 
        &lt;/costElement&gt;
        &lt;costElement&gt; 
          &lt;actualValue&gt;1&lt;/actualValue&gt;
          &lt;predictedValue&gt;1&lt;/predictedValue&gt; 
          &lt;cost&gt;0&lt;/cost&gt; 
        &lt;/costElement&gt;
      &lt;/costMatrix&gt;
    &lt;/Extension&gt;
    &lt;MiningSchema&gt;
      .
      .
      .
      .
      .
      . 
      &lt;/Node&gt;
    &lt;/Node&gt;
  &lt;/TreeModel&gt;
&lt;/PMML&gt; 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65885" class="refsect2"><a id="i1040722"></a>
<hr />
<h3 class="refsect2">GET_MODEL_SETTINGS Function</h3>
<p>The <code>GET_MODEL_SETTINGS</code> function was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1). It was replaced with the data dictionary view *<code>_MINING_MODEL_SETTINGS</code>. <code>USER_</code>, <code>ALL_</code>, and <code>DBA_</code> versions of the view are available. See <a class="olink DMPRG210" href="../../datamine.112/e12218/models_building.htm#DMPRG210"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
<p>Oracle recommends that you do not use deprecated procedures in new applications. Support for deprecated features is for backward compatibility only.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a href="#CACCHFBG">"Deprecated Subprograms"</a></div>
<p>This table function returns the list of settings that were used to build the model.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2532"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_SETTINGS(
   model_name           IN VARCHAR2)
 RETURN DM_MODEL_SETTINGS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2533"></a>Parameters</p>
<div id="ARPLS65886" class="tblformal">
<p class="titleintable"><a id="sthref2534"></a><a id="sthref2535"></a>Table 44-71 GET_MODEL_SETTINGS Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_SETTINGS Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_SETTINGS." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t109">Parameter</th>
<th class="cellalignment1227" id="r1c2-t109">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t109" headers="r1c1-t109">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t109 r1c2-t109">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2536"></a>Return Values</p>
<div id="ARPLS65887" class="tblformal">
<p class="titleintable"><a id="sthref2537"></a><a id="sthref2538"></a>Table 44-72 GET_MODEL_SETTINGS Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_SETTINGS Function Return Values" summary="This table describes Return Values for the GET_MODEL_SETTINGS." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t110">Return Value</th>
<th class="cellalignment1227" id="r1c2-t110">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t110" headers="r1c1-t110">
<p><code>DM_MODEL_SETTINGS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t110 r1c2-t110">
<p>Represents a set of rows of type <code>DM_MODEL_SETTING</code>. The rows have the following columns:</p>
<pre>
(setting_name    VARCHAR2(30),
setting_value    VARCHAR2(128))
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2539"></a>Usage Notes</p>
<p>The table function pipes out rows of type DM_MODEL_SETTING. For information about Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
<p>You can use this table function to determine the settings that were used to build the model. This is purely for informational purposes only &mdash; you cannot alter the model to adopt new settings.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2540"></a>Examples</p>
<p>Assume that you have built a classification model <code>census_model</code> using the Naive Bayes algorithm. You can retrieve the model settings using Oracle SQL as follows:</p>
<pre>
SELECT setting_name, setting_value
  FROM TABLE(DBMS_DATA_MINING.GET_MODEL_SETTINGS('census_model'));
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65888" class="refsect2"><a id="i1040800"></a>
<hr />
<h3 class="refsect2">GET_MODEL_SIGNATURE Function</h3>
<p>The <code>GET_MODEL_SIGNATURE</code> function was deprecated in Oracle Data Mining 11<span class="italic">g</span> Release 1 (11.1). It was replaced with the data dictionary view *<code>_MINING_MODEL_ATTRIBUTES</code>. <code>USER_</code>, <code>ALL_</code>, and <code>DBA_</code> versions of the view are available. See <a class="olink DMPRG018" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG018"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
<p>Oracle recommends that you do not use deprecated procedures in new applications. Support for deprecated features is for backward compatibility only.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a href="#CACCHFBG">"Deprecated Subprograms"</a></div>
<p>This table function returns the model signature, which lists the column attributes used to build the model and which should be present in the scoring data.</p>
<p>The case identifier is not considered a mining attribute. For classification and regression models, the target attribute is also not considered part of the model signature.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Instead of using the <code>GET_MODEL_SIGNATURE</code> function, you can query the data dictionary view, <code>ALL_MINING_MODEL_ATTRIBUTES</code>. See the <a class="olink DMPRG018" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG018"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2541"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_SIGNATURE(
  model_name           IN VARCHAR2)
RETURN DM_MODEL_SIGNATURE PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2542"></a>Parameters</p>
<div id="ARPLS65889" class="tblformal">
<p class="titleintable"><a id="sthref2543"></a><a id="sthref2544"></a>Table 44-73 GET_MODEL_SIGNATURE Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_SIGNATURE Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_SIGNATURE." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t113">Parameter</th>
<th class="cellalignment1227" id="r1c2-t113">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t113" headers="r1c1-t113">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t113 r1c2-t113">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2545"></a>Return Values</p>
<div id="ARPLS65890" class="tblformal">
<p class="titleintable"><a id="sthref2546"></a><a id="sthref2547"></a>Table 44-74 GET_MODEL_SIGNATURE Function Return Values</p>
<table class="cellalignment1229" title="GET_MODEL_SIGNATURE Function Return Values" summary="This table describes Return Values for the GET_MODEL_SIGNATURE." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t114">Return Value</th>
<th class="cellalignment1227" id="r1c2-t114">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t114" headers="r1c1-t114">
<p><code>DM_MODEL_SIGNATURE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t114 r1c2-t114">
<p>Represents a set of rows of type <code>DM_MODEL_SIGNATURE_ATTRIBUTE</code>. The rows have the following columns:</p>
<pre>
(attribute_name      VARCHAR2(30),
 attribute_type      VARCHAR2(106))
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2548"></a>Usage Notes</p>
<p>This table function pipes out rows of type <code>DM_MODEL_SIGNATURE</code>. For information on Data Mining data types and piped output from table functions, see <a href="#i1069306">"Data Types"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2549"></a>Examples</p>
<p>Assume that you have built a classification model <code>census_model</code> using the Naive Bayes algorithm. You can retrieve the model details using Oracle SQL as follows:</p>
<pre>
SELECT attribute_name, attribute_type
  FROM TABLE(DBMS_DATA_MINING.GET_MODEL_SIGNATURE('census_model');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65891" class="refsect2"><a id="CACJDBCE"></a>
<hr />
<h3 class="refsect2"><a id="sthref2550"></a>GET_MODEL_TRANSFORMATIONS Function</h3>
<p><a id="sthref2551"></a>This function returns the transformation expressions embedded in the specified model.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a href="d_dmtran.htm#CACHEGJD">"About Transformation Lists"</a></p>
<p><a href="#CACBGIDA">"GET_TRANSFORM_LIST Procedure"</a></p>
<p><a href="#i1038828">"CREATE_MODEL Procedure"</a></p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2552"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_MODEL_TRANSFORMATIONS (
      model_name     IN VARCHAR2)
RETURN DM_TRANSFORMS PIPELINED;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2553"></a>Parameters</p>
<div id="ARPLS65892" class="tblformal">
<p class="titleintable"><a id="sthref2554"></a><a id="sthref2555"></a>Table 44-75 GET_MODEL_TRANSFORMATIONS Function Parameters</p>
<table class="cellalignment1229" title="GET_MODEL_TRANSFORMATIONS Function Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.GET_MODEL_TRANSFORMATIONS." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t116">Parameter</th>
<th class="cellalignment1227" id="r1c2-t116">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t116" headers="r1c1-t116">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t116 r1c2-t116">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2556"></a>Return Values</p>
<div id="ARPLS65893" class="tblformal">
<p class="titleintable"><a id="sthref2557"></a><a id="sthref2558"></a>Table 44-76 GET_MODEL_TRANSFORMATIONS Function Return Value</p>
<table class="cellalignment1229" title="GET_MODEL_TRANSFORMATIONS Function Return Value" summary="This table describes the return values of DBMS_DATA_MINING.GET_MODEL_TRANSFORMATIONS." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t117">Return Value</th>
<th class="cellalignment1227" id="r1c2-t117">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t117" headers="r1c1-t117">
<p><code>DM_TRANSFORMS</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t117 r1c2-t117">
<p>The transformation expressions embedded in <code><span class="codeinlineitalic">model_name</span></code>.</p>
<p>The <code>DM_TRANSFORMS</code> type is a table of <code>DM_TRANSFORM</code> objects. Each <code>DM_TRANSFORM</code> has these fields:</p>
<pre>
attribute_name       VARCHAR2(4000)
attribute_subname    VARCHAR2(4000)
expression           CLOB
reverse_expression   CLOB
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2559"></a>Usage Notes</p>
<p>When Automatic Data Preparation (ADP) is enabled, both automatic and user-defined transformations may be associated with an attribute. In this case, the user-defined transformations are evaluated before the automatic transformations.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2560"></a>Examples</p>
<p>In this example, several columns in the <code>SH.CUSTOMERS</code> table are used to create a Naive Bayes model. A transformation expression is specified for one of the columns. The model does not use ADP.</p>
<pre>
CREATE OR REPLACE VIEW mining_data AS
   SELECT cust_id, cust_year_of_birth, cust_income_level,cust_credit_limit
   FROM sh.customers;

describe mining_data
 Name                                   Null?    Type
 -------------------------------------- -------- --------------------------
 CUST_ID                                NOT NULL NUMBER
 CUST_YEAR_OF_BIRTH                     NOT NULL NUMBER(4)
 CUST_INCOME_LEVEL                               VARCHAR2(30)
 CUST_CREDIT_LIMIT                               NUMBER
 
CREATE TABLE settings_nb(
      setting_name  VARCHAR2(30),
      setting_value VARCHAR2(30));
BEGIN
     INSERT INTO settings_nb (setting_name, setting_value) VALUES
           (dbms_data_mining.algo_name, dbms_data_mining.algo_naive_bayes);
     INSERT INTO settings_nb (setting_name, setting_value) VALUES
           (dbms_data_mining.prep_auto, dbms_data_mining.prep_auto_off);
     COMMIT;
END;
/
DECLARE
    mining_data_xforms   dbms_data_mining_transform.TRANSFORM_LIST;
  BEGIN
    dbms_data_mining_transform.SET_TRANSFORM (
         xform_list           =&gt;  mining_data_xforms,
         attribute_name       =&gt; 'cust_year_of_birth',
         attribute_subname    =&gt;  null,
         expression           =&gt; 'cust_year_of_birth + 10',
         reverse_expression   =&gt; 'cust_year_of_birth - 10');
    dbms_data_mining.CREATE_MODEL (
        model_name           =&gt;  'new_model',
        mining_function      =&gt;   dbms_data_mining.classification,
        data_table_name      =&gt;  'mining_data',
        case_id_column_name  =&gt;  'cust_id',
        target_column_name   =&gt;  'cust_income_level',
        settings_table_name  =&gt;  'settings_nb',
        data_schema_name     =&gt;   nulL,
        settings_schema_name =&gt;   null,
        xform_list           =&gt;   mining_data_xforms );
  END;
 /
SELECT attribute_name, TO_CHAR(expression), TO_CHAR(reverse_expression)
      FROM TABLE (dbms_data_mining.GET_MODEL_TRANSFORMATIONS('new_model'));

ATTRIBUTE_NAME      TO_CHAR(EXPRESSION)       TO_CHAR(REVERSE_EXPRESSION)
------------------  ------------------------  ----------------------------- 
CUST_YEAR_OF_BIRTH  cust_year_of_birth + 10   cust_year_of_birth - 10
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65894" class="refsect2"><a id="CACBGIDA"></a>
<hr />
<h3 class="refsect2"><a id="sthref2561"></a>GET_TRANSFORM_LIST Procedure</h3>
<p><a id="sthref2562"></a>This <a id="sthref2563"></a>procedure converts transformation expressions specified as <code>DM_TRANSFORMS</code> to a transformation list (<code>TRANSFORM_LIST</code>) that can be used in creating a model. <code>DM_TRANSFORMS</code> is returned by the <code>GET_MODEL_TRANSFORMATIONS</code> function.</p>
<p>You can also use routines in the <code>DBMS_DATA_MINING_TRANSFORM</code> package to construct a transformation list.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a href="d_dmtran.htm#CACHEGJD">"About Transformation Lists"</a></p>
<p><a href="#CACJDBCE">"GET_MODEL_TRANSFORMATIONS Function"</a></p>
<p><a href="#i1038828">"CREATE_MODEL Procedure"</a></p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2564"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.GET_TRANSFORM_LIST (
      xform_list           OUT NOCOPY TRANSFORM_LIST,
      model_xforms         IN  DM_TRANSFORMS);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2565"></a>Parameters</p>
<div id="ARPLS65895" class="tblformal">
<p class="titleintable"><a id="sthref2566"></a><a id="sthref2567"></a>Table 44-77 GET_TRANSFORM_LIST Procedure Parameters</p>
<table class="cellalignment1229" title="GET_TRANSFORM_LIST Procedure Parameters" summary="This table describes the parameters of the GET_TRANSFORM_LIST function: xform_list and model_xforms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t119">Parameter</th>
<th class="cellalignment1227" id="r1c2-t119">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t119" headers="r1c1-t119">
<p><code>xform_list</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t119 r1c2-t119">
<p>A list of transformation specifications that can be embedded in a model. Accepted as a parameter to the <a href="#i1038828">CREATE_MODEL Procedure</a>.</p>
<p>The <code>TRANSFORM_LIST</code> type is a table of <code>TRANSFORM_REC</code> objects. Each <code>TRANSFORM_REC</code> has these fields:</p>
<pre>
attribute_name      VARCHAR2(30)
attribute_subname   VARCHAR2(4000)
expression          EXPRESSION_REC
reverse_expression  EXPRESSION_REC
attribute_spec      VARCHAR2(4000)
</pre>
<p>For details about the <code>TRANSFORM_LIST</code> collection type, see <a href="d_dmtran.htm#CACEJIHI">Table 45-1, "Data Types in DBMS_DATA_MINING_TRANSFORM"</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t119" headers="r1c1-t119">
<p><code>model_xforms</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t119 r1c2-t119">
<p>A list of embedded transformation expressions returned by the <a href="#CACJDBCE">GET_MODEL_TRANSFORMATIONS Function</a> for a specific model.</p>
<p>The <code>DM_TRANSFORMS</code> type is a table of <code>DM_TRANSFORM</code> objects. Each <code>DM_TRANSFORM</code> has these fields:</p>
<pre>
attribute_name       VARCHAR2(4000)
attribute_subname    VARCHAR2(4000)
expression           CLOB
reverse_expression   CLOB
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2568"></a>Examples</p>
<p>In this example, a model <code>mod1</code> is trained using several columns in the <code>SH.CUSTOMERS</code> table. The model uses ADP, which automatically bins one of the columns.</p>
<p>A second model <code>mod2</code> is trained on the same data without ADP, but it uses a transformation list that was obtained from <code>mod1</code>. As a result, both <code>mod1</code> and <code>mod2</code> have the same embedded transformation expression.</p>
<pre>
CREATE OR REPLACE VIEW mining_data AS
     SELECT cust_id, cust_year_of_birth, cust_income_level, cust_credit_limit
     FROM sh.customers;
 
describe mining_data
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 CUST_ID                                   NOT NULL NUMBER
 CUST_YEAR_OF_BIRTH                        NOT NULL NUMBER(4)
 CUST_INCOME_LEVEL                                  VARCHAR2(30)
 CUST_CREDIT_LIMIT                                  NUMBER

CREATE TABLE setmod1(setting_name  VARCHAR2(30),setting_value VARCHAR2(30));
BEGIN
   INSERT INTO setmod1 VALUES (dbms_data_mining.algo_name, dbms_data_mining.algo_naive_bayes);
   INSERT INTO setmod1 VALUES (dbms_data_mining.prep_auto,dbms_data_mining.prep_auto_on);
   dbms_data_mining.CREATE_MODEL (
               model_name            =&gt; 'mod1',
               mining_function       =&gt; dbms_data_mining.classification,
               data_table_name       =&gt; 'mining_data',
               case_id_column_name   =&gt; 'cust_id',
               target_column_name    =&gt; 'cust_income_level',
               settings_table_name   =&gt; 'setmod1');
    COMMIT;
END;
/
CREATE TABLE setmod2(setting_name  VARCHAR2(30),setting_value VARCHAR2(30));
BEGIN
  INSERT INTO setmod2
      VALUES (dbms_data_mining.algo_name, dbms_data_mining.algo_naive_bayes);
  COMMIT;
END;
/
DECLARE
  v_xform_list       dbms_data_mining_transform.TRANSFORM_LIST;
  dmxf               DM_TRANSFORMS;
BEGIN
   EXECUTE IMMEDIATE
    'SELECT dm_transform(attribute_name, attribute_subname,expression, reverse_expression)
     FROM TABLE(dbms_data_mining.GET_MODEL_TRANSFORMATIONS (''mod1''))'
     BULK COLLECT INTO dmxf;
   dbms_data_mining.GET_TRANSFORM_LIST (
        xform_list             =&gt;  v_xform_list,
        model_xforms           =&gt;  dmxf);
   dbms_data_mining.CREATE_MODEL(
         model_name            =&gt; 'mod2',
         mining_function       =&gt;  dbms_data_mining.classification,
         data_table_name       =&gt; 'mining_data',
         case_id_column_name   =&gt; 'cust_id',
         target_column_name    =&gt; 'cust_income_level',
         settings_table_name   =&gt; 'setmod2',
         xform_list            =&gt;  v_xform_list);
END;
/

<span class="bold">-- Transformation expression embedded in mod1</span>
SELECT TO_CHAR(expression) FROM TABLE (dbms_data_mining.GET_MODEL_TRANSFORMATIONS('mod1'));

TO_CHAR(EXPRESSION)
--------------------------------------------------------------------------------
CASE WHEN "CUST_YEAR_OF_BIRTH"&lt;1915 THEN 0 WHEN "CUST_YEAR_OF_BIRTH"&lt;=1915 THEN 0
WHEN "CUST_YEAR_OF_BIRTH"&lt;=1920.5 THEN 1 WHEN "CUST_YEAR_OF_BIRTH"&lt;=1924.5 THEN 2
.
.
.
.5 THEN 29 WHEN "CUST_YEAR_OF_BIRTH" IS NOT NULL THEN 30 END

<span class="bold">-- Transformation expression embedded in mod2</span>
SELECT TO_CHAR(expression) FROM TABLE (dbms_data_mining.GET_MODEL_TRANSFORMATIONS('mod2'));

TO_CHAR(EXPRESSION)
--------------------------------------------------------------------------------
CASE WHEN "CUST_YEAR_OF_BIRTH"&lt;1915 THEN 0 WHEN "CUST_YEAR_OF_BIRTH"&lt;=1915 THEN 0
WHEN "CUST_YEAR_OF_BIRTH"&lt;=1920.5 THEN 1 WHEN "CUST_YEAR_OF_BIRTH"&lt;=1924.5 THEN 2
.
.
.
.5 THEN 29 WHEN "CUST_YEAR_OF_BIRTH" IS NOT NULL THEN 30 END

<span class="bold">-- Reverse transformation expression embedded in mod1</span>
SELECT TO_CHAR(reverse_expression)FROM TABLE (dbms_data_mining.GET_MODEL_TRANSFORMATIONS('mod1'));

TO_CHAR(REVERSE_EXPRESSION)
--------------------------------------------------------------------------------
DECODE("CUST_YEAR_OF_BIRTH",0,'( ; 1915), [1915; 1915]',1,'(1915; 1920.5]',2,'(1
920.5; 1924.5]',3,'(1924.5; 1928.5]',4,'(1928.5; 1932.5]',5,'(1932.5; 1936.5]',6
.
.
.
8,'(1987.5; 1988.5]',29,'(1988.5; 1989.5]',30,'(1989.5;  )',NULL,'NULL')
 
<span class="bold">-- Reverse transformation expression embedded in mod2</span>
SELECT TO_CHAR(reverse_expression) FROM TABLE (dbms_data_mining.GET_MODEL_TRANSFORMATIONS('mod2'));
      
TO_CHAR(REVERSE_EXPRESSION)
--------------------------------------------------------------------------------
DECODE("CUST_YEAR_OF_BIRTH",0,'( ; 1915), [1915; 1915]',1,'(1915; 1920.5]',2,'(1
920.5; 1924.5]',3,'(1924.5; 1928.5]',4,'(1928.5; 1932.5]',5,'(1932.5; 1936.5]',6
.
.
.
8,'(1987.5; 1988.5]',29,'(1988.5; 1989.5]',30,'(1989.5;  )',NULL,'NULL')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65896" class="refsect2"><a id="i1040882"></a>
<hr />
<h3 class="refsect2"><a id="sthref2569"></a>IMPORT_MODEL Procedure</h3>
<p>This procedure imports one or more data mining models. The procedure is overloaded. You can call it to import mining models from a dump file set, or you can call it to import a single mining model from a PMML document.</p>
<p class="subhead2"><a id="ARPLS72986"></a>Import from a dump file set</p>
<p>You can import mining models from a dump file set that was created by the <a href="#i1039591">EXPORT_MODEL Procedure</a>. <code>IMPORT_MODEL</code> and <code>EXPORT_MODEL</code> use Oracle Data Pump technology to export to and import from a dump file set.</p>
<p>When Oracle Data Pump is used directly to export/import an entire schema or database, the mining models in the schema or database are included. <code>EXPORT_MODEL</code> and <code>IMPORT_MODEL</code> export/import mining models only.</p>
<p class="subhead2"><a id="ARPLS72987"></a>Import from PMML</p>
<p>This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2) Data Mining.</p>
<p>You can import a mining model represented in Predictive Model Markup Language (PMML). The model must be of type <code>RegressionModel</code>, either linear regression or binary logistic regression.</p>
<p>PMML is an XML-based standard specified by the Data Mining Group (<code><a href="http://www.dmg.org">http://www.dmg.org</a></code>). Applications that are PMML-compliant can deploy PMML-compliant models that were created by any vendor. Oracle Data Mining supports the core features of PMML 3.1 for regression models.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink DMADM010" href="../../datamine.112/e16807/schemaobjs.htm#DMADM010"><span class="italic">Oracle Data Mining Administrator's Guide</span></a> for more information about exporting and importing mining models</p>
<p><a class="olink SUTIL2877" href="../../server.112/e22490/part_dp.htm#SUTIL2877"><span class="italic">Oracle Database Utilities</span></a> for information about Oracle Data Pump</p>
<p><code><a href="http://www.dmg.org/faq.html">http://www.dmg.org/faq.html</a></code> for more information about PMML</p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2570"></a>Syntax</p>
<p>Imports a mining model from a dump file set:</p>
<pre>
DBMS_DATA_MINING.IMPORT_MODEL (
      filename        IN  VARCHAR2,
      directory       IN  VARCHAR2,
      model_filter    IN  VARCHAR2 DEFAULT NULL,
      operation       IN  VARCHAR2 DEFAULT NULL,
      remote_link     IN  VARCHAR2 DEFAULT NULL,
      jobname         IN  VARCHAR2 DEFAULT NULL,
      schema_remap    IN  VARCHAR2 DEFAULT NULL);
</pre>
<p>Imports a mining model from a PMML document:</p>
<pre>
DBMS_DATA_MINING.IMPORT_MODEL (
      model_name      IN  VARCHAR2,
      pmmldoc         IN XMLTYPE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2571"></a>Parameters</p>
<div id="ARPLS65897" class="tblformal">
<p class="titleintable"><a id="sthref2572"></a><a id="sthref2573"></a>Table 44-78 IMPORT_MODEL Procedure Parameters</p>
<table class="cellalignment1229" title="IMPORT_MODEL Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.IMPORT_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t121">Parameter</th>
<th class="cellalignment1227" id="r1c2-t121">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t121" headers="r1c1-t121">
<p><code>filename</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t121 r1c2-t121">
<p>Name of the dump file set from which the models should be imported. The dump file set must have been created by the <code>EXPORT_MODEL</code> procedure or the <code>expdp</code> export utility of Oracle Data Pump.</p>
<p>The dump file set can contain one or more files. (Refer to <a href="#i1039591">"EXPORT_MODEL Procedure"</a> for details.) If the dump file set contains multiple files, you can specify <code>'</code><code><span class="codeinlineitalic">filename</span></code><code>%U'</code> instead of listing them. For example, if your dump file set contains 3 files, <code>archive01.dmp</code>, <code>archive02.dmp</code>, and <code>archive03.dmp</code>, you can import them by specifying <code>'archive%U'</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t121" headers="r1c1-t121">
<p><code>directory</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t121 r1c2-t121">
<p>Name of a pre-defined directory object that specifies where the dump file set is located. Both the exporting and the importing user must have read/write access to the directory object and to the file system directory that it identifies.</p>
<p>Note: The target database must have also have read/write access to the file system directory.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t121" headers="r1c1-t121">
<p><code>model_filter</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t121 r1c2-t121">
<p>Optional parameter that specifies one or more models to import. If you do not specify a value for <code>model_filter</code>, all models in the dump file set are imported. You can also specify <code>NULL</code> (the default) or 'ALL' to import all models.</p>
<p>The value of <code>model_filter</code> can be one or more model names. The following are valid filters.</p>
<pre>
'mymodel1'
'name IN (''mymodel2'',''mymodel3'')'
</pre>
<p>The first causes <code>IMPORT_MODEL</code> to import a single model named <code>mymodel1</code>. The second causes <code>IMPORT_MODEL</code> to import two models, <code>mymodel2</code> and <code>mymodel3</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t121" headers="r1c1-t121">
<p><code>operation</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t121 r1c2-t121">
<p>Optional parameter that specifies whether to import the models or the SQL statements that create the models. By default, the models are imported.</p>
<p>You can specify either of the following values for <code>operation</code>:</p>
<ul>
<li>
<p><code>'IMPORT'</code> &mdash; Import the models (Default)</p>
</li>
<li>
<p><code>'SQL_FILE'</code>&mdash; Write the SQL DDL for creating the models to a text file. The text file is named <code><span class="codeinlineitalic">job_name</span></code><code>.sql</code> and is located in the dump set directory.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t121" headers="r1c1-t121">
<p><code>remote_link</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t121 r1c2-t121">
<p>Optional parameter not used in this release. Set to <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t121" headers="r1c1-t121">
<p><code>jobname</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t121 r1c2-t121">
<p>Optional parameter that specifies the name of the import job. By default, the name has the form <code><span class="codeinlineitalic">username</span></code><code>_imp_</code><code><span class="codeinlineitalic">nnnn</span></code>, where <code><span class="codeinlineitalic">nnnn</span></code> is a number. For example, a job name in the <code>SCOTT</code> schema might be <code>SCOTT_imp_134</code>.</p>
<p>If you specify a job name, it must be unique within the schema. The maximum length of the job name is 30 characters.</p>
<p>A log file for the import job, named <code><span class="codeinlineitalic">jobname</span></code><code>.log,</code> is created in the same directory as the dump file set.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t121" headers="r1c1-t121">
<p><code>schema_remap</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t121 r1c2-t121">
<p>Optional parameter for importing into a different schema. By default, models are exported and imported within the same schema.</p>
<p>If the dump file set belongs to a different schema, you must specify a schema mapping in the form <code><span class="codeinlineitalic">export_user</span></code>:<code><span class="codeinlineitalic">import_user</span></code>. For example, you would specify <code>'SCOTT:MARY'</code> to import a model exported by <code>SCOTT</code> into the <code>MARY</code> schema.</p>
<p>Note: In some cases, you may need to have the <code>IMP_FULL_DATABASE</code> privilege or the <code>SYS</code> role to import a model from a different schema.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t121" headers="r1c1-t121">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t121 r1c2-t121">
<p>Name for the new model that will be created in the database as a result of an import from PMML The name must be unique within the user's schema.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t121" headers="r1c1-t121">
<p><code>pmmldoc</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t121 r1c2-t121">
<p>The PMML document representing the model to be imported. The PMML document has an <code>XMLTYPE</code> object type. See <a href="t_xml.htm#BABHCHHJ">Chapter 260, "XMLTYPE"</a> for details.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2574"></a>Usage Notes</p>
<p>The following notes pertain to mining model import based on Oracle Data Pump.</p>
<p>Mining models are stored in the default tablespace of the mining model owner, or in a tablespace to which the owner has access. The tablespace must also exist in the target database, and the target user must have access to it. If the tablespace does not exist in the target database, you must create it before importing the models.</p>
<p>For example, if the models were created in schema <code>DMUSER</code> and the default tablespace for <code>DMUSER</code> is <code>USERS</code>, then the <code>USERS</code> tablespace must exist in the target database. You can create the <code>USERS</code> tablespace and grant access to a target user with appropriate tablespace quota as follows.</p>
<pre>
connect / as sysdba;
create tablespace USERS datafile '<span class="italic">data_file_name</span>' size 200M autoextend on;
alter user <span class="italic">target_user</span> quota unlimited on USERS;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2575"></a>Examples</p>
<ol>
<li>
<p>This example shows a model being exported and imported within the schema <code>dmuser2</code>. Then the same model is imported into the <code>dmuser3</code> schema. The <code>dmuser3</code> user has the <code>IMP_FULL_DATABASE</code> privilege.</p>
<pre>
SQL&gt; connect dmuser2
Enter password: <span class="codeinlineitalic">dmuser2_password</span>
Connected.
SQL&gt; select model_name from user_mining_models;
 
MODEL_NAME
------------------------------
NMF_SH_SAMPLE
SVMO_SH_CLAS_SAMPLE
SVMR_SH_REGR_SAMPLE

-- export the model called NMF_SH_SAMPLE to a dump file in same schema
SQL&gt;EXECUTE DBMS_DATA_MINING.EXPORT_MODEL ('NMF_SH_SAMPLE_out', 'DATA_PUMP_DIR',
                            'name = ''NMF_SH_SAMPLE''');
-- import the model back into the same schema
SQL&gt;EXECUTE DBMS_DATA_MINING.IMPORT_MODEL ('NMF_SH_SAMPLE_out01.dmp', 
                            'DATA_PUMP_DIR', 'name = ''NMF_SH_SAMPLE''');

-- connect as different user
-- import same model into that schema
SQL&gt; connect dmuser3
Enter password: <span class="codeinlineitalic">dmuser3_password</span>
Connected.
SQL&gt;EXECUTE DBMS_DATA_MINING.IMPORT_MODEL ('NMF_SH_SAMPLE_out01.dmp', 
                            'DATA_PUMP_DIR', 'name = ''NMF_SH_SAMPLE''',
                            'IMPORT', NULL, 'nmf_imp_job', 'dmuser2:dmuser3');
</pre>
<p>The following example shows user <code>MARY</code> importing all models from a dump file, <code>model_exp_001.dmp</code>, which was created by user <code>SCOTT</code>. The dump file is located in the file system directory mapped to a directory object called <code>DM_DUMP</code>. If user <code>MARY</code> does not have <code>IMP_FULL_DATABASE</code> privileges, <code>IMPORT_MODEL</code> will raise an error.</p>
<pre>
-- import all models
DECLARE
  file_name       VARCHAR2(40);
BEGIN
  file_name := 'model_exp_001.dmp';
  DBMS_DATA_MINING.IMPORT_MODEL(
                filename=&gt;file_name,
               directory=&gt;'DM_DUMP',                 schema_remap=&gt;'SCOTT:MARY');
  DBMS_OUTPUT.PUT_LINE(
'DBMS_DATA_MINING.IMPORT_MODEL of all models from SCOTT done!');
END;
/
</pre></li>
<li>
<p>This example shows how a PMML document called <code>SamplePMML1.xml</code> could be imported from a location referenced by directory object <code>PMMLDIR</code> into the schema of the current user. The imported model will be called <code>PMMLMODEL1</code>.</p>
<pre>
BEGIN    
    dbms_data_mining.import_model ('PMMLMODEL1',
        XMLType (bfilename ('PMMLDIR', 'SamplePMML1.xml'),
          nls_charset_id ('AL32UTF8')
        ));
END;
</pre></li>
</ol>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65898" class="refsect2"><a id="i1041086"></a>
<hr />
<h3 class="refsect2"><a id="sthref2576"></a>RANK_APPLY Procedure</h3>
<p>This procedure ranks the results of an <code>APPLY</code> operation based on a top-N specification for predictive and descriptive model results. For classification models, you can provide a cost matrix as input, and obtain the ranked results with costs applied to the predictions.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2577"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.RANK_APPLY (
      apply_result_table_name        IN VARCHAR2,
      case_id_column_name            IN VARCHAR2,
      score_column_name              IN VARCHAR2,
      score_criterion_column_name    IN VARCHAR2,
      ranked_apply_table_name        IN VARCHAR2,
      top_N                          IN INTEGER DEFAULT 1,
      cost_matrix_table_name         IN VARCHAR2 DEFAULT NULL,
      apply_result_schema_name       IN VARCHAR2 DEFAULT NULL,
      cost_matrix_schema_name        IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2578"></a>Parameters</p>
<div id="ARPLS65899" class="tblformal">
<p class="titleintable"><a id="sthref2579"></a><a id="sthref2580"></a>Table 44-79 RANK_APPLY Procedure Parameters</p>
<table class="cellalignment1229" title="RANK_APPLY Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.RANK_APPLY." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t122">Parameter</th>
<th class="cellalignment1227" id="r1c2-t122">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t122" headers="r1c1-t122">
<p><code>apply_result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t122 r1c2-t122">
<p>Name of the table or view containing the results of an <code>APPLY</code> operation on the test dataset (see Usage Notes)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t122" headers="r1c1-t122">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t122 r1c2-t122">
<p>Name of the case identifier column. This must be the same as the one used for generating <code>APPLY</code> results.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t122" headers="r1c1-t122">
<p><code>score_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t122 r1c2-t122">
<p>Name of the prediction column in the apply results table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t122" headers="r1c1-t122">
<p><code>score_criterion_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t122 r1c2-t122">
<p>Name of the probability column in the apply results table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t122" headers="r1c1-t122">
<p><code>ranked_apply_result_tab_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t122 r1c2-t122">
<p>Name of the table containing the ranked apply results</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t122" headers="r1c1-t122">
<p><code>top_N</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t122 r1c2-t122">
<p>Top N predictions to be considered from the <code>APPLY</code> results for precision recall computation</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t122" headers="r1c1-t122">
<p><code>cost_matrix_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t122 r1c2-t122">
<p>Name of the cost matrix table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t122" headers="r1c1-t122">
<p><code>apply_result_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t122 r1c2-t122">
<p>Name of the schema hosting the <code>APPLY</code> results table</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t122" headers="r1c1-t122">
<p><code>cost_matrix_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t122 r1c2-t122">
<p>Name of the schema hosting the cost matrix table</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2581"></a>Usage Notes</p>
<p>You can use <code>RANK_APPLY</code> to generate ranked apply results, based on a top-N filter and also with application of cost for predictions, if the model was built with costs.</p>
<p>The behavior of <code>RANK_APPLY</code> is similar to that of <code>APPLY</code> with respect to other DDL-like operations such as <code>CREATE_MODEL</code>, <code>DROP_MODEL</code>, and <code>RENAME_MODEL</code>. The procedure does not depend on the model; the only input of relevance is the apply results generated in a fixed schema table from <code>APPLY</code>.</p>
<p>The main intended use of <code>RANK_APPLY</code> is for the generation of the final <code>APPLY</code> results against the scoring data in a production setting. You can apply the model against test data using <code>APPLY</code>, compute various test metrics against various cost matrix tables, and use the candidate cost matrix for <code>RANK_APPLY</code>.</p>
<p>The schema for the apply results from each of the supported algorithms is listed in subsequent sections. The <code>case_id</code> column will be the same case identifier column as that of the apply results.</p>
</div>
<!-- class="refsubsect" -->
<div id="ARPLS65900" class="refsect3"><a id="sthref2582"></a>
<h4 class="refsect3">Classification Models &mdash; NB, ABN, SVM</h4>
<p>For numerical targets, the ranked results table will have the definition as shown:</p>
<pre>
(<span class="italic">case_id</span>       VARCHAR2/NUMBER,
prediction     NUMBER,
probability    NUMBER,
cost           NUMBER,
rank           INTEGER)
</pre>
<p>For categorical targets, the ranked results table will have the following definition:</p>
<pre>
(<span class="italic">case_id</span>       VARCHAR2/NUMBER,
prediction     VARCHAR2,
probability    NUMBER,
cost           NUMBER,
rank           INTEGER)
</pre></div>
<!-- class="refsect3" -->
<div id="ARPLS65901" class="refsect3"><a id="sthref2583"></a>
<h4 class="refsect3">Clustering using <span class="italic">k</span>-Means or O-Cluster</h4>
<p>Clustering is an unsupervised mining function, and hence there are no targets. The results of an <code>APPLY</code> operation contains simply the cluster identifier corresponding to a case, and the associated probability. Cost matrix is not considered here. The ranked results table will have the definition as shown, and contains the cluster ids ranked by <code>top-N</code>.</p>
<pre>
<span class="italic">(case_id  </span>     VARCHAR2/NUMBER,
cluster_id     NUMBER,
probability    NUMBER,
rank           INTEGER)
</pre></div>
<!-- class="refsect3" -->
<div id="ARPLS65902" class="refsect3"><a id="sthref2584"></a>
<h4 class="refsect3">Feature Extraction using NMF</h4>
<p>Feature extraction is also an unsupervised mining function, and hence there are no targets. The results of an <code>APPLY</code> operation contains simply the feature identifier corresponding to a case, and the associated match quality. Cost matrix is not considered here. The ranked results table will have the definition as shown, and contains the feature ids ranked by <code>top-N</code>.</p>
<pre>
<span class="italic">(case_id  </span>      VARCHAR2/NUMBER,
feature_id      NUMBER,
match_quality   NUMBER,
rank            INTEGER)
</pre>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2585"></a>Examples</p>
<pre>
BEGIN
/* build a model with name census_model.
 * (See example under CREATE_MODEL)
 */ 

/* if training data was pre-processed in any manner,
 * perform the same pre-processing steps on apply
 * data also.
 * (See examples in the section on DBMS_DATA_MINING_TRANSFORM)
 */

/* apply the model to data to be scored */
DBMS_DATA_MINING.RANK_APPLY(
  apply_result_table_name       =&gt; 'census_apply_result',
  case_id_column_name           =&gt; 'person_id',
  score_column_name             =&gt; 'prediction',
  score_criterion_column_name   =&gt; 'probability
  ranked_apply_result_tab_name  =&gt; 'census_ranked_apply_result',
  top_N                         =&gt; 3,
  cost_matrix_table_name        =&gt; 'census_cost_matrix');
END;
/

-- View Ranked Apply Results
SELECT *
  FROM census_ranked_apply_result;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65903" class="refsect2"><a id="CACFCAIH"></a>
<hr />
<h3 class="refsect2"><a id="sthref2586"></a>REMOVE_COST_MATRIX Procedure</h3>
<p>Removes the default <a id="sthref2587"></a>scoring matrix from a classification model.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CACGCHCE">"ADD_COST_MATRIX Procedure"</a></p>
</li>
<li>
<p><a href="#CACFCAIH">"REMOVE_COST_MATRIX Procedure"</a></p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2588"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.REMOVE_COST_MATRIX (
      model_name   IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2589"></a>Parameters</p>
<div id="ARPLS65904" class="tblformal">
<p class="titleintable"><a id="sthref2590"></a><a id="sthref2591"></a>Table 44-80 Remove_Cost_Matrix Procedure Parameters</p>
<table class="cellalignment1229" title="Remove_Cost_Matrix Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.REMOVE_COST_MATRIX." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t124">Parameter</th>
<th class="cellalignment1227" id="r1c2-t124">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t124" headers="r1c1-t124">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t124 r1c2-t124">
<p>Name of the model in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2592"></a>Usage Notes</p>
<p>If the model is not in your schema, then <code>REMOVE_COST_MATRIX</code> requires the <code>ALTER ANY MINING MODEL</code> system privilege or the <code>ALTER</code> object privilege for the mining model.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2593"></a>Example</p>
<p>The Naive Bayes model <code>NB_SH_CLAS_SAMPLE</code> has an associated cost matrix that can be used for scoring the model.</p>
<pre>
SQL&gt;SELECT *
      FROM TABLE(dbms_data_mining.get_model_cost_matrix('nb_sh_clas_sample'))
      ORDER BY predicted, actual;
 
ACTUAL     PREDICTED        COST
---------- ---------- ----------
0          0                   0
1          0                 .75
0          1                 .25
1          1                   0
</pre>
<p>You can remove the cost matrix with <code>REMOVE_COST_MATRIX</code>.</p>
<pre>
SQL&gt;EXECUTE dbms_data_mining.remove_cost_matrix('nb_sh_clas_sample');

SQL&gt;SELECT *
      FROM TABLE(dbms_data_mining.get_model_cost_matrix('nb_sh_clas_sample'))
      ORDER BY predicted, actual;

no rows selected
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65905" class="refsect2"><a id="i1041237"></a>
<hr />
<h3 class="refsect2"><a id="sthref2594"></a>RENAME_MODEL Procedure</h3>
<p>This procedure renames a mining model to a new name that you specify.</p>
<p>The model name is in the form [<span class="italic">schema_name</span>.]<span class="italic">model_name</span>. If you do not specify a schema, your own schema is used. For mining model naming restrictions, see <a href="#CACBADBJ">"Mining Model Naming Restrictions"</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2595"></a>Syntax</p>
<pre>
DBMS_DATA_MINING.RENAME_MODEL (
     model_name            IN VARCHAR2,
     new_model_name        IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2596"></a>Parameters</p>
<div id="ARPLS65906" class="tblformal">
<p class="titleintable"><a id="sthref2597"></a><a id="BAJGGEGD"></a>Table 44-81 RENAME_MODEL Procedure Parameters</p>
<table class="cellalignment1229" title="RENAME_MODEL Procedure Parameters" summary="This table describes the parameters of DBMS_DATA_MINING.RENAME_MODEL." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t125">Parameter</th>
<th class="cellalignment1227" id="r1c2-t125">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t125" headers="r1c1-t125">
<p><code>model_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t125 r1c2-t125">
<p>Old name of the model</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t125" headers="r1c1-t125">
<p><code>new_model_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t125 r1c2-t125">
<p>New name of the model.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2598"></a>Usage Notes</p>
<p>If an <code>APPLY</code> operation is using a model, and you attempt to rename the model during that time, the <code>RENAME</code> will succeed and <code>APPLY</code> will return indeterminate results.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2599"></a>Examples</p>
<p>Assume the existence of a model <code>census_model</code>. The following example shows how to rename this model.</p>
<pre>
BEGIN
  DBMS_DATA_MINING.RENAME_MODEL(
    model_name      =&gt; 'census_model',
    new_model_name  =&gt; 'census_new_model');
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_cube_log.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_dmtran.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
