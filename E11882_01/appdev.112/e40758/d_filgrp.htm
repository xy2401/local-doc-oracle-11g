<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_FILE_GROUP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_fga.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_ftran.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">71/265</span> <!-- End Header -->
<div id="ARPLS828" class="chapter"><a id="CEGFGIID"></a>
<h1 class="chapter"><span class="secnum">67</span> DBMS_FILE_GROUP</h1>
<p><a id="sthref4464"></a><a id="sthref4465"></a>The <code>DBMS_FILE_GROUP</code> package, one of a set of Oracle Streams packages, provides administrative interfaces for managing file groups, file group versions, and files. A file group repository is a collection of all of the file groups in a database and can contain multiple versions of a particular file group. You can use this package to create and manage file group repositories.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGCEHFF">Using DBMS_FILE_GROUP</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
</ul>
</li>
<li>
<p><a href="#CEGBJHIA">Summary of DBMS_FILE_GROUP Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CEGCEHFF"></a>
<hr />
<div id="ARPLS66358" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_FILE_GROUP<a id="sthref4466"></a></h2>
<p>This section contains topics which relate to using the <code>DBMS_FILE_GROUP</code> package.</p>
<ul>
<li>
<p><a href="#CEGGHDBD">Overview</a></p>
</li>
<li>
<p><a href="#CEGHEEEB">Security Model</a></p>
</li>
<li>
<p><a href="#CEGJGFAB">Constants</a></p>
</li>
</ul>
<div id="ARPLS66359" class="refsect2"><a id="CEGGHDBD"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>The following terms pertain to the <code>DBMS_FILE_GROUP</code> package:</p>
<p class="subhead2"><a id="ARPLS66360"></a>File</p>
<p>A <span class="bold">file</span> is a reference to a file stored on hard disk. A file is composed of a file name, a directory object, and a file type. The directory object references the directory in which the file is stored on hard disk. For example, a file might have the following components:</p>
<ul>
<li>
<p>The file name is <code>expdat.dmp</code>.</p>
</li>
<li>
<p>The directory object that contains the file is <code>db_files</code>.</p>
</li>
<li>
<p>The file type is <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code>.</p>
</li>
</ul>
<p class="subhead2"><a id="ARPLS66361"></a>Version</p>
<p>A <span class="bold">version</span> is a collection of related files. For example, a version might consist of a set of datafiles and a Data Pump export dump file generated by a Data Pump transportable tablespace export. Only one Data Pump export dump file is allowed in a version.</p>
<p class="subhead2"><a id="ARPLS66362"></a>File Group</p>
<p>A <span class="bold">file group</span> is a collection of versions. A file group can logically group a set of versions. For example, a file group named <code>financial_quarters</code> can keep track of quarterly financial data by logically grouping versions of files related to a tablespace set. The tablespaces containing the data can be exported at the end of each quarter and versioned under names such as <code>Q1FY04</code>, <code>Q2FY04</code>, and so on.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS162" href="../../server.112/e17069/strms_miprov.htm#STRMS162"><span class="italic">Oracle Streams Concepts and Administration</span></a></div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73177" class="refsect2"><a id="CEGHEEEB"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>Security on this package can be controlled in either of the following ways:</p>
<ul>
<li>
<p>Granting <code>EXECUTE</code> on this package to selected users or roles.</p>
</li>
<li>
<p>Granting <code>EXECUTE_CATALOG_ROLE</code> to selected users or roles.</p>
</li>
</ul>
<p>If subprograms in the package are run from within a stored procedure, then the user who runs the subprograms must be granted <code>EXECUTE</code> privilege on the package directly. It cannot be granted through a role.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS66363" class="refsect2"><a id="CEGJGFAB"></a>
<hr />
<h3 class="refsect2">Constants<a id="sthref4467"></a></h3>
<p>The <code>DBMS_FILE_GROUP</code> package defines several enumerated constants for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code>.</p>
<p><a href="#CEGIDDIF">Table 67-1</a> lists the parameters and enumerated constants.</p>
<div id="ARPLS66364" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref4468"></a><a id="CEGIDDIF"></a>Table 67-1 DBMS_FILE_GROUP Parameters with Enumerated Constants</p>
<table class="cellalignment1226" title="DBMS_FILE_GROUP Parameters with Enumerated Constants" summary="This table lists the DBMS_FILE_GROUP subprogram parameters with enumerated constants in alphabetical order and briefly describes the enumerated constants." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Parameter</th>
<th class="cellalignment1227" id="r1c2-t3">Option</th>
<th class="cellalignment1227" id="r1c3-t3">Type</th>
<th class="cellalignment1227" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><code>file_type</code></p>
<p><code>new_file_type</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<ul>
<li>
<p><code>DATAFILE</code></p>
</li>
<li>
<p><code>EXPORT_DUMP_FILE</code></p>
</li>
<li>
<p><code>DATAPUMP_LOG_FILE</code></p>
</li>
</ul>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c3-t3">
<p><code>VARCHAR2(30)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c4-t3">
<p><code>DATAFILE</code> is a datafile for a database. This constant can be specified as <code>'DATAFILE'</code>.</p>
<p><code>EXPORT_DUMP_FILE</code> is a Data Pump export dump file. This constant can be specified as <code>'DUMPSET'</code>.</p>
<p><code>DATAPUMP_LOG_FILE</code> is a Data Pump export log file. This constant can be specified as <code>'DATAPUMPLOG'</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><code>max_versions</code></p>
<p><code>retention_days</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<ul>
<li>
<p><code>INFINITE</code></p>
</li>
</ul>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c3-t3">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c4-t3">
<p><code>INFINITE</code> specifies no limit. The <code>max_versions</code> or <code>retention_days</code> can increase without reaching a limit.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><code>privilege</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>System privilege specified in the <code>GRANT_SYSTEM_PRIVILEGE</code> procedure:</p>
<ul>
<li>
<p><code>READ_ANY_FILE_GROUP</code></p>
</li>
<li>
<p><code>MANAGE_ANY_FILE_GROUP</code></p>
</li>
<li>
<p><code>MANAGE_FILE_GROUP</code></p>
</li>
</ul>
<p>Object privilege specified in the <code>GRANT_OBJECT_PRIVILEGE</code> procedure:</p>
<ul>
<li>
<p><code>READ_ON_FILE_GROUP</code></p>
</li>
<li>
<p><code>MANAGE_ON_FILE_GROUP</code></p>
</li>
</ul>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c4-t3">
<p><code>READ_ANY_FILE_GROUP</code> grants the privilege to view information about any file group in any schema in the data dictionary.</p>
<p><code>MANAGE_ANY_FILE_GROUP</code> grants the privilege to create, manage, and drop any file group in any schema.</p>
<p><code>MANAGE_FILE_GROUP</code> grants the privilege to create, manage, and drop file groups in the user's schema.</p>
<p><code>READ_ON_FILE_GROUP</code> grants the privilege to view information about a specific file group in the data dictionary.</p>
<p><code>MANAGE_ON_FILE_GROUP</code> grants the privilege to manage a specific file group in a schema other than the user's schema.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CEGBJHIA"></a>
<hr />
<div id="ARPLS835" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_FILE_GROUP Subprograms</h2>
<div id="ARPLS66365" class="tblformal">
<p class="titleintable"><a id="sthref4469"></a><a id="sthref4470"></a>Table 67-2 DBMS_FILE_GROUP Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_FILE_GROUP Package Subprograms" summary="This table lists the DBMS_FILE_GROUP subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#CEGIEAEC">ADD_FILE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p>Adds a file to a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t4" headers="r1c1-t4">
<p><a href="#CEGBCBEH">ALTER_FILE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c2-t4">
<p>Alters a file in a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t4" headers="r1c1-t4">
<p><a href="#CEGGBFDC">ALTER_FILE_GROUP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c2-t4">
<p>Alters a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t4" headers="r1c1-t4">
<p><a href="#CEGEDIIC">ALTER_VERSION Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c2-t4">
<p>Alters a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t4" headers="r1c1-t4">
<p><a href="#CEGIEGAA">CREATE_FILE_GROUP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t4 r1c2-t4">
<p>Creates a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t4" headers="r1c1-t4">
<p><a href="#CEGFIDJJ">CREATE_VERSION Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t4 r1c2-t4">
<p>Creates a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t4" headers="r1c1-t4">
<p><a href="#CEGIDAEJ">DROP_FILE_GROUP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t4 r1c2-t4">
<p>Drops a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t4" headers="r1c1-t4">
<p><a href="#CEGCBHJA">DROP_VERSION Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r9c1-t4 r1c2-t4">
<p>Drops a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t4" headers="r1c1-t4">
<p><a href="#CEGCADHG">GRANT_OBJECT_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r10c1-t4 r1c2-t4">
<p>Grants object privileges on a file group to a user</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t4" headers="r1c1-t4">
<p><a href="#CEGCCCAG">GRANT_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r11c1-t4 r1c2-t4">
<p>Grants system privileges for file group operations to a user</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t4" headers="r1c1-t4">
<p><a href="#CEGDAFAE">PURGE_FILE_GROUP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r12c1-t4 r1c2-t4">
<p>Purges a file group using the file group's retention policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t4" headers="r1c1-t4">
<p><a href="#CEGCAHGA">REMOVE_FILE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r13c1-t4 r1c2-t4">
<p>Removes a file from a version of a file group</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t4" headers="r1c1-t4">
<p><a href="#CEGCDAJC">REVOKE_OBJECT_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r14c1-t4 r1c2-t4">
<p>Revokes object privileges on a file group from a user</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t4" headers="r1c1-t4">
<p><a href="#CEGCAIFG">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r15c1-t4 r1c2-t4">
<p>Revokes system privileges for file group operations from a user</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
All subprograms commit unless specified otherwise.</div>
<div id="ARPLS836" class="refsect2"><a id="CEGIEAEC"></a>
<hr />
<h3 class="refsect2">ADD_FILE Procedure<a id="sthref4471"></a><a id="sthref4472"></a></h3>
<p>This procedure adds a file to a version of a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4473"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.ADD_FILE(
  file_group_name  IN  VARCHAR2,
  file_name        IN  VARCHAR2,
  file_type        IN  VARCHAR2  DEFAULT NULL,
  file_directory   IN  VARCHAR2  DEFAULT NULL,
  version_name     IN  VARCHAR2  DEFAULT NULL,
  comments         IN  VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4474"></a>Parameters</p>
<div id="ARPLS66366" class="tblformal">
<p class="titleintable"><a id="sthref4475"></a><a id="sthref4476"></a>Table 67-3 ADD_FILE Procedure Parameters</p>
<table class="cellalignment1229" title="ADD_FILE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.ADD_FILE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>The name of the file group that contains the version, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>file_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p>The name of the file being added to the version. Each file name in a version must be unique.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p><code>file_type</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p>The file type. The following are reserved file types:</p>
<ul>
<li>
<p>If the file is a datafile, then enter the following:</p>
<pre>
'DATAFILE'
</pre></li>
<li>
<p>If the file is a Data Pump export dump file, then enter the following:</p>
<pre>
'DUMPSET'
</pre>
<p>Data Pump metadata is populated when a Data Pump export dump file is imported.</p>
</li>
<li>
<p>If the file is a Data Pump export log file, then enter the following:</p>
<pre>
'DATAPUMPLOG'
</pre></li>
</ul>
<p>If the file type is not one of the reserved file types, then either enter a text description of the file type, or specify <code>NULL</code> to omit a file type description.</p>
<p>See <a href="#CEGJGFAB">"Constants"</a> for more information about the reserved file types.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t6" headers="r1c1-t6">
<p><code>file_directory</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t6 r1c2-t6">
<p>The name of the directory object that corresponds to the directory containing the file.</p>
<p>If <code>NULL</code>, then the procedure uses the default directory object for the version.</p>
<p>If <code>NULL</code> and no default directory object exists for the version, then the procedure uses the default directory object for the file group.</p>
<p>If <code>NULL</code> and no default directory object exists for the version or file group, then the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t6" headers="r1c1-t6">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t6 r1c2-t6">
<p>The name of the version to which the file is added.</p>
<p>If a positive integer is specified as a <code>VARCHAR2</code> value, then the integer is interpreted as a version number. For example, if <code>'1'</code> is specified, then the file is added to version 1 of the file group.</p>
<p>If <code>NULL</code>, then the procedure uses the version with the latest creation time for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t6" headers="r1c1-t6">
<p><code>comments</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t6 r1c2-t6">
<p>Comments about the file being added</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4477"></a>Usage Notes</p>
<p>To run this procedure with either <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code> or <code>'DUMPSET'</code> specified for the <code>file_type</code> parameter, a user must meet the following requirements:</p>
<ul>
<li>
<p>Have the appropriate privileges to import the Data Pump export dump file</p>
</li>
<li>
<p>Have <code>READ</code> privilege on the directory object that contains the Data Pump export dump file</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL100" href="../../server.112/e22490/dp_overview.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for more information about Data Pump privileges</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS837" class="refsect2"><a id="CEGBCBEH"></a>
<hr />
<h3 class="refsect2">ALTER_FILE Procedure<a id="sthref4478"></a><a id="sthref4479"></a></h3>
<p>This procedure alters a file in a version of a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4480"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.ALTER_FILE( 
  file_group_name     IN  VARCHAR2,
  file_name           IN  VARCHAR2,
  version_name        IN  VARCHAR2  DEFAULT NULL,
  new_file_name       IN  VARCHAR2  DEFAULT NULL,
  new_file_directory  IN  VARCHAR2  DEFAULT NULL,
  new_file_type       IN  VARCHAR2  DEFAULT NULL,
  remove_file_type    IN  VARCHAR2  DEFAULT 'N', 
  new_comments        IN  VARCHAR2  DEFAULT NULL,
  remove_comments     IN  VARCHAR2  DEFAULT 'N');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4481"></a>Parameters</p>
<div id="ARPLS66367" class="tblformal">
<p class="titleintable"><a id="sthref4482"></a><a id="sthref4483"></a>Table 67-4 ALTER_FILE Procedure Parameters</p>
<table class="cellalignment1229" title="ALTER_FILE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.ALTER_FILE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t8">Parameter</th>
<th class="cellalignment1227" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t8" headers="r1c1-t8">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t8 r1c2-t8">
<p>The name of the file group that contains the version, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t8" headers="r1c1-t8">
<p><code>file_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t8 r1c2-t8">
<p>The name of the file being altered in the version</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t8" headers="r1c1-t8">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t8 r1c2-t8">
<p>The name of the version that contains the file being altered.</p>
<p>If a positive integer is specified as a <code>VARCHAR2</code> value, then the integer is interpreted as a version number. For example, if <code>'1'</code> is specified, then the file in version 1 of the file group is altered.</p>
<p>If <code>NULL</code>, then the procedure uses the version with the latest creation time for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t8" headers="r1c1-t8">
<p><code>new_file_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t8 r1c2-t8">
<p>The new name of the file if the file name is being changed. Each file name in a version must be unique.</p>
<p>If <code>NULL</code>, then the procedure does not change the file name.</p>
<p><span class="bold">Note:</span> When a non-<code>NULL</code> new file name is specified, this procedure changes the metadata for the file name in the data dictionary, but it does not change the file name on the hard disk.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t8" headers="r1c1-t8">
<p><code>new_file_directory</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t8 r1c2-t8">
<p>The new name of the directory object that corresponds to the directory containing the file, if the directory object is being changed.</p>
<p>If <code>NULL</code>, then the procedure does not change the directory object name.</p>
<p><span class="bold">Note:</span> When a non-<code>NULL</code> new file directory is specified, this procedure changes the metadata for the file directory in the data dictionary, but it does not change the file directory on the hard disk.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t8" headers="r1c1-t8">
<p><code>new_file_type</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t8 r1c2-t8">
<p>The file type. The following are reserved file types:</p>
<ul>
<li>
<p>If the file is a datafile, then enter the following:</p>
<pre>
'DATAFILE'
</pre></li>
<li>
<p>If the file is a Data Pump export dump file, then enter the following:</p>
<pre>
'DUMPSET'
</pre></li>
<li>
<p>If the file is a Data Pump export log file, then enter the following:</p>
<pre>
'DATAPUMPLOG'
</pre></li>
</ul>
<p>If the file type is not one of the reserved file types, then enter a text description of the file type.</p>
<p>If <code>NULL</code>, then the procedure does not change the file type.</p>
<p><span class="bold">See Also:</span> <a href="#CEGJGFAB">"Constants"</a> for more information about the reserved file types.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t8" headers="r1c1-t8">
<p><code>remove_file_type</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t8 r1c2-t8">
<p>If <code>Y</code>, then the procedure removes the file type. If <code>Y</code> and the <code>new_file_type</code> parameter is non-<code>NULL</code>, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not remove the file type.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t8" headers="r1c1-t8">
<p><code>new_comments</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t8 r1c2-t8">
<p>New comments about the file being altered. If non-<code>NULL</code>, then the procedure replaces the existing comments with the specified comments.</p>
<p>If <code>NULL</code>, then the procedure does not change the existing comments.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t8" headers="r1c1-t8">
<p><code>remove_comments</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t8 r1c2-t8">
<p>If <code>Y</code>, then the procedure removes the comments for the file. If <code>Y</code> and the <code>new_comments</code> parameter is non-<code>NULL</code>, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not change the existing comments.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4484"></a>Usage Notes</p>
<p>If the file type is changed to <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code> or <code>'DUMPSET'</code>, then Data Pump metadata for the file is populated. If the file type is changed from <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code> or <code>'DUMPSET'</code>, then Data Pump metadata for the file is purged.</p>
<p>To run this procedure with <code>DBMS_FILE_GROUP.EXPORT_DUMP_FILE</code> or <code>'DUMPSET'</code> specified for the <code>new_file_type</code> parameter, a user must meet the following requirements:</p>
<ul>
<li>
<p>Have the appropriate privileges to import the Data Pump export dump file</p>
</li>
<li>
<p>Have <code>READ</code> privilege on the directory object that contains the Data Pump export dump file</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL100" href="../../server.112/e22490/dp_overview.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for more information about Data Pump privileges</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS838" class="refsect2"><a id="CEGGBFDC"></a>
<hr />
<h3 class="refsect2">ALTER_FILE_GROUP Procedure<a id="sthref4485"></a><a id="sthref4486"></a></h3>
<p>This procedure alters a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4487"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.ALTER_FILE_GROUP(
  file_group_name           IN  VARCHAR2,
  keep_files                IN  VARCHAR2  DEFAULT NULL,
  min_versions              IN  NUMBER    DEFAULT NULL,
  max_versions              IN  NUMBER    DEFAULT NULL,
  retention_days            IN  NUMBER    DEFAULT NULL,
  new_default_directory     IN  VARCHAR2  DEFAULT NULL,
  remove_default_directory  IN  VARCHAR2  DEFAULT 'N',
  new_comments              IN  VARCHAR2  DEFAULT NULL,
  remove_comments           IN  VARCHAR2  DEFAULT 'N');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4488"></a>Parameters</p>
<div id="ARPLS66368" class="tblformal">
<p class="titleintable"><a id="sthref4489"></a><a id="sthref4490"></a>Table 67-5 ALTER_FILE_GROUP Procedure Parameters</p>
<table class="cellalignment1229" title="ALTER_FILE_GROUP Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.ALTER_FILE_GROUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t10">Parameter</th>
<th class="cellalignment1227" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t10" headers="r1c1-t10">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t10 r1c2-t10">
<p>The name of the file group being altered, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t10" headers="r1c1-t10">
<p><code>keep_files</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t10 r1c2-t10">
<p>If <code>Y</code>, then the files in the file group are retained on hard disk if the file group or a version of the file group is dropped or purged.</p>
<p>If <code>N</code>, then the files in the file group are deleted from hard disk if the file group or a version of the file group is dropped or purged.</p>
<p>If <code>NULL</code>, then this parameter is not changed.</p>
<p><span class="bold">Note:</span> If the file group is dropped because of a <code>DROP</code> <code>USER</code> <code>CASCADE</code> statement, then the setting of this parameter determines whether the files are dropped from the hard disk.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t10" headers="r1c1-t10">
<p><code>min_versions</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t10 r1c2-t10">
<p>The minimum number of versions to retain. The specified value must be greater than or equal to <code>1</code>.</p>
<p>If <code>NULL</code>, then the procedure does not change the <code>min_versions</code> setting for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t10" headers="r1c1-t10">
<p><code>max_versions</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t10 r1c2-t10">
<p>The maximum number of versions to retain. The specified value must be greater than or equal to the value specified for <code>min_versions</code>. When the number of versions exceeds the specified <code>max_versions</code>, the oldest version is purged.</p>
<p>Specify <code>DBMS_FILE_GROUP.INFINITE</code> for no limit to the number of versions.</p>
<p>If <code>NULL</code>, then the procedure does not change the <code>max_versions</code> setting for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t10" headers="r1c1-t10">
<p><code>retention_days</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t10 r1c2-t10">
<p>The maximum number of days to retain a version. The specified value must be greater than or equal to <code>0</code> (zero). When the age of a version exceeds the specified <code>retention_days</code> and there are more versions than the number specified in <code>min_versions</code>, the version is purged. The age of a version is calculated by subtracting the creation time from the current time.</p>
<p>A decimal value can specify a fraction of a day. For example, <code>1.25</code> specifies one day and six hours.</p>
<p>Specify <code>DBMS_FILE_GROUP.INFINITE</code> for no limit to the number of days a version can exist.</p>
<p>If <code>NULL</code>, then the procedure does not change the <code>retention_days</code> setting for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t10" headers="r1c1-t10">
<p><code>new_default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t10 r1c2-t10">
<p>The default directory object used when files are added to a file group if no directory is specified when the files are added, and no default directory object is specified for the version.</p>
<p>If <code>NULL</code>, then the procedure does not change the default directory.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t10" headers="r1c1-t10">
<p><code>remove_default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t10 r1c2-t10">
<p>If <code>Y</code>, then the procedure removes the default directory for the file group. If <code>Y</code> and the <code>new_default_directory</code> parameter is set to a non-<code>NULL</code> value, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not remove the default directory for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t10" headers="r1c1-t10">
<p><code>new_comments</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t10 r1c2-t10">
<p>Comments about the file group. If non-<code>NULL</code>, then the new comments replace the existing comments for the file group.</p>
<p>If <code>NULL</code>, then the procedure does not change the existing comments.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t10" headers="r1c1-t10">
<p><code>remove_comments</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t10 r1c2-t10">
<p>If <code>Y</code>, then the comments for the file group are removed. If <code>Y</code> and the <code>new_comments</code> parameter is set to a non-<code>NULL</code> value, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not change the comments for the file group.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4491"></a>Usage Notes</p>
<p>If <code>min_versions</code> is set to <code>1</code>, then the only version of the file group can be purged when a new version is added. If the addition of the new version is not complete when the existing version is purged, then there can be a period of time when no version of the file group is available. Therefore, set <code>min_versions</code> to at least <code>2</code> if a version of the file group must be available at all times.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS839" class="refsect2"><a id="CEGEDIIC"></a>
<hr />
<h3 class="refsect2">ALTER_VERSION Procedure<a id="sthref4492"></a><a id="sthref4493"></a></h3>
<p>This procedure alters a version of a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4494"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.ALTER_VERSION( 
  file_group_name           IN  VARCHAR2, 
  version_name              IN  VARCHAR2  DEFAULT NULL,
  new_version_name          IN  VARCHAR2  DEFAULT NULL,
  remove_version_name       IN  VARCHAR2  DEFAULT 'N',
  new_default_directory     IN  VARCHAR2  DEFAULT NULL,
  remove_default_directory  IN  VARCHAR2  DEFAULT 'N',
  new_comments              IN  VARCHAR2  DEFAULT NULL,
  remove_comments           IN  VARCHAR2  DEFAULT 'N');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4495"></a>Parameters</p>
<div id="ARPLS66369" class="tblformal">
<p class="titleintable"><a id="sthref4496"></a><a id="sthref4497"></a>Table 67-6 ALTER_VERSION Procedure Parameters</p>
<table class="cellalignment1229" title="ALTER_VERSION Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.ALTER_VERSION subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t11">Parameter</th>
<th class="cellalignment1227" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t11" headers="r1c1-t11">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t11 r1c2-t11">
<p>The name of the file group that contains the version, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t11" headers="r1c1-t11">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t11 r1c2-t11">
<p>The name of the version being altered.</p>
<p>If a positive integer is specified as a <code>VARCHAR2</code> value, then the integer is interpreted as a version number. For example, if <code>'1'</code> is specified, then version 1 of the file group is altered.</p>
<p>If <code>'*'</code> is specified, then the procedure alters all versions, and the <code>new_version_name</code> parameter must be <code>NULL</code>.</p>
<p>If <code>NULL</code>, then the procedure uses the version with the latest creation time for the file group.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t11" headers="r1c1-t11">
<p><code>new_version_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t11 r1c2-t11">
<p>The new name of the version. Do not specify a schema.</p>
<p>The specified version name cannot be a positive integer or an asterisk (<code>'*'</code>).</p>
<p>If <code>NULL</code>, then the procedure does not change the version name.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t11" headers="r1c1-t11">
<p><code>remove_version_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t11 r1c2-t11">
<p>If <code>Y</code>, then the procedure removes the version name. If the version name is removed, then the version number must be used to manage the version. If <code>Y</code> and the <code>new_version_name</code> parameter is set to a non-<code>NULL</code> value, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not remove the version name.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t11" headers="r1c1-t11">
<p><code>new_default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t11 r1c2-t11">
<p>The default directory object used when files are added to a version if no directory is specified when the files are added.</p>
<p>If <code>NULL</code>, then the procedure does not change the default directory.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t11" headers="r1c1-t11">
<p><code>remove_default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t11 r1c2-t11">
<p>If <code>Y</code>, then the procedure removes the default directory. If <code>Y</code> and the <code>new_default_directory</code> parameter is set to a non-<code>NULL</code> value, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not remove the default directory.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t11" headers="r1c1-t11">
<p><code>new_comments</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t11 r1c2-t11">
<p>Comments about the version. If non-<code>NULL</code>, then the new comments replace the existing comments for the version.</p>
<p>If <code>NULL</code>, then the procedure does not change the comments.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t11" headers="r1c1-t11">
<p><code>remove_comments</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t11 r1c2-t11">
<p>If <code>Y</code>, then the procedure removes the comments for the version. If <code>Y</code> and the <code>new_comments</code> parameter is set to a non-<code>NULL</code> value, then the procedure raises an error.</p>
<p>If <code>N</code>, then the procedure does not remove the comments for the version.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS840" class="refsect2"><a id="CEGIEGAA"></a>
<hr />
<h3 class="refsect2">CREATE_FILE_GROUP Procedure<a id="sthref4498"></a><a id="sthref4499"></a></h3>
<p>This procedure creates a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4500"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.CREATE_FILE_GROUP(
  file_group_name    IN  VARCHAR2,
  keep_files         IN  VARCHAR2  DEFAULT 'Y',
  min_versions       IN  NUMBER    DEFAULT 2,
  max_versions       IN  NUMBER    DEFAULT DBMS_FILE_GROUP.INFINITE,
  retention_days     IN  NUMBER    DEFAULT DBMS_FILE_GROUP.INFINITE,
  default_directory  IN  VARCHAR2  DEFAULT NULL,
  comments           IN  VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4501"></a>Parameters</p>
<div id="ARPLS66370" class="tblformal">
<p class="titleintable"><a id="sthref4502"></a><a id="sthref4503"></a>Table 67-7 CREATE_FILE_GROUP Procedure Parameters</p>
<table class="cellalignment1229" title="CREATE_FILE_GROUP Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.CREATE_FILE_GROUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Parameter</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>The name of the file group, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>keep_files</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p>If <code>Y</code>, then the files in the file group are retained on hard disk if the file group or a version of the file group is dropped or purged.</p>
<p>If <code>N</code>, then the files in the file group are deleted from hard disk if the file group or a version of the file group is dropped or purged.</p>
<p><span class="bold">Note:</span> If the file group is dropped because of a <code>DROP</code> <code>USER</code> <code>CASCADE</code> statement, then the setting of this parameter determines whether the files are dropped from the hard disk.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t12" headers="r1c1-t12">
<p><code>min_versions</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t12 r1c2-t12">
<p>The minimum number of versions to retain. The specified value must be greater than or equal to <code>1</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t12" headers="r1c1-t12">
<p><code>max_versions</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t12 r1c2-t12">
<p>The maximum number of versions to retain. The specified value must be greater than or equal to the value specified for <code>min_versions</code>. When the number of versions exceeds the specified <code>max_versions</code>, the oldest version is purged.</p>
<p>Specify <code>DBMS_FILE_GROUP.INFINITE</code> for no limit to the number of versions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t12" headers="r1c1-t12">
<p><code>retention_days</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t12 r1c2-t12">
<p>The maximum number of days to retain a version. The specified value must be greater than or equal to <code>0</code> (zero). When the age of a version exceeds the specified <code>retention_days</code> and there are more versions than the number specified in <code>min_versions</code>, the version is purged. The age of a version is calculated by subtracting the creation time from the current time.</p>
<p>A decimal value can specify a fraction of a day. For example, <code>1.25</code> specifies one day and six hours.</p>
<p>Specify <code>DBMS_FILE_GROUP.INFINITE</code> for no limit to the number of days a version can exist.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t12" headers="r1c1-t12">
<p><code>default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t12 r1c2-t12">
<p>The default directory object used when files are added to a file group if no directory is specified when the files are added, and no default directory object is specified for the version.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t12" headers="r1c1-t12">
<p><code>comments</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t12 r1c2-t12">
<p>Comments about the file group being created.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4504"></a>Usage Notes</p>
<p>If <code>min_versions</code> is set to <code>1</code>, then the only version of the file group can be purged when a new version is added. If the addition of the new version is not complete when the existing version is purged, then there can be a period of time when no version of the file group is available. Therefore, set <code>min_versions</code> to at least <code>2</code> if a version of the file group must be available at all times.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS841" class="refsect2"><a id="CEGFIDJJ"></a>
<hr />
<h3 class="refsect2">CREATE_VERSION Procedure<a id="sthref4505"></a><a id="sthref4506"></a></h3>
<p>This procedure creates a version of a file group.</p>
<p>This procedure automatically runs the <code>PURGE_FILE_GROUP</code> procedure. Therefore, versions can be purged based on the file group's retention policy.</p>
<p>This procedure is overloaded. One version of the procedure contains the <code>OUT</code> parameter <code>version_out</code>, and the other does not.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CEGDAFAE">PURGE_FILE_GROUP Procedure</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4507"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.CREATE_VERSION(
  file_group_name    IN  VARCHAR2,
  version_name       IN  VARCHAR2 DEFAULT NULL,
  default_directory  IN  VARCHAR2 DEFAULT NULL,
  comments           IN  VARCHAR2 DEFAULT NULL);

DBMS_FILE_GROUP.CREATE_VERSION(
  file_group_name    IN   VARCHAR2,
  version_name       IN   VARCHAR2 DEFAULT NULL,
  default_directory  IN   VARCHAR2 DEFAULT NULL,
  comments           IN   VARCHAR2 DEFAULT NULL,
  version_out        OUT  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4508"></a>Parameters</p>
<div id="ARPLS66371" class="tblformal">
<p class="titleintable"><a id="sthref4509"></a><a id="sthref4510"></a>Table 67-8 CREATE_VERSION Procedure Parameters</p>
<table class="cellalignment1229" title="CREATE_VERSION Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.CREATE_VERSION subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t14">Parameter</th>
<th class="cellalignment1227" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t14" headers="r1c1-t14">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t14 r1c2-t14">
<p>The name of the file group to which the new version is added, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t14" headers="r1c1-t14">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t14 r1c2-t14">
<p>The name of the version being created. Do not specify a schema.</p>
<p>The specified version name cannot be a positive integer because, when a version is created, a version number is generated automatically. The specified version name cannot be an asterisk (<code>'*'</code>).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t14" headers="r1c1-t14">
<p><code>default_directory</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t14 r1c2-t14">
<p>The default directory object used when files are added to a version if no directory is specified when the files are added.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t14" headers="r1c1-t14">
<p><code>comments</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t14 r1c2-t14">
<p>Comments about the version being created</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t14" headers="r1c1-t14">
<p><code>version_out</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t14 r1c2-t14">
<p>If the <code>version_name</code> parameter is set to a non-<code>NULL</code> value, then this parameter contains the specified version name.</p>
<p>If the <code>version_name</code> parameter is set to <code>NULL</code>, then this parameter contains the generated version number.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS842" class="refsect2"><a id="CEGIDAEJ"></a>
<hr />
<h3 class="refsect2">DROP_FILE_GROUP Procedure<a id="sthref4511"></a><a id="sthref4512"></a></h3>
<p>This procedure drops a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4513"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.DROP_FILE_GROUP(
  file_group_name  IN  VARCHAR2,
  keep_files       IN  VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4514"></a>Parameters</p>
<div id="ARPLS66372" class="tblformal">
<p class="titleintable"><a id="sthref4515"></a><a id="sthref4516"></a>Table 67-9 DROP_FILE_GROUP Procedure Parameters</p>
<table class="cellalignment1229" title="DROP_FILE_GROUP Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.DROP_FILE_GROUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t15">Parameter</th>
<th class="cellalignment1227" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t15" headers="r1c1-t15">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t15 r1c2-t15">
<p>The name of the file group being dropped, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t15" headers="r1c1-t15">
<p><code>keep_files</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t15 r1c2-t15">
<p>If <code>Y</code>, then the procedure retains the files in the file group on hard disk.</p>
<p>If <code>N</code>, then the procedure deletes the files in the file group from hard disk.</p>
<p>If <code>NULL</code>, then the procedure uses the default keep files property of the file group.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4517"></a>Usage Notes</p>
<p>If this procedure deletes files on hard disk, then the user who runs the procedure must have <code>WRITE</code> privilege on the directory object that contains the files.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS843" class="refsect2"><a id="CEGCBHJA"></a>
<hr />
<h3 class="refsect2">DROP_VERSION Procedure<a id="sthref4518"></a><a id="sthref4519"></a></h3>
<p>This procedure drops a version of a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4520"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.DROP_VERSION( 
  file_group_name  IN  VARCHAR2, 
  version_name     IN  VARCHAR2 DEFAULT NULL,
  keep_files       IN  VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4521"></a>Parameters</p>
<div id="ARPLS66373" class="tblformal">
<p class="titleintable"><a id="sthref4522"></a><a id="sthref4523"></a>Table 67-10 DROP_VERSION Procedure Parameters</p>
<table class="cellalignment1229" title="DROP_VERSION Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.DROP_VERSION subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t16">Parameter</th>
<th class="cellalignment1227" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t16" headers="r1c1-t16">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t16 r1c2-t16">
<p>The name of the file group that contains the version, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t16" headers="r1c1-t16">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t16 r1c2-t16">
<p>The name of the version being dropped.</p>
<p>If a positive integer is specified as a <code>VARCHAR2</code> value, then the integer is interpreted as a version number. For example, if <code>'1'</code> is specified, then version 1 of the file group is dropped.</p>
<p>If <code>NULL</code>, then the procedure uses the version with the oldest creation time for the file group.</p>
<p>If <code>'*'</code>, then the procedure drops all versions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t16" headers="r1c1-t16">
<p><code>keep_files</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t16 r1c2-t16">
<p>If <code>Y</code>, then the procedure retains the files in the version on hard disk.</p>
<p>If <code>N</code>, then the procedure deletes the files in the version from hard disk.</p>
<p>If <code>NULL</code>, then the procedure uses the default keep files property of the file group.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4524"></a>Usage Notes</p>
<p>If this procedure deletes files on hard disk, then the user who runs the procedure must have <code>WRITE</code> privilege on the directory object that contains the files.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS844" class="refsect2"><a id="CEGCADHG"></a>
<hr />
<h3 class="refsect2">GRANT_OBJECT_PRIVILEGE Procedure<a id="sthref4525"></a><a id="sthref4526"></a></h3>
<p>This procedure grants object privileges on a file group to a user.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4527"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.GRANT_OBJECT_PRIVILEGE(
  object_name   IN  VARCHAR2,
  privilege     IN  BINARY_INTEGER,
  grantee       IN  VARCHAR2,
  grant_option  IN  BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4528"></a>Parameters</p>
<div id="ARPLS66374" class="tblformal">
<p class="titleintable"><a id="sthref4529"></a><a id="sthref4530"></a>Table 67-11 GRANT_OBJECT_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment1229" title="GRANT_OBJECT_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.GRANT_OBJECT_PRIVILEGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t17">Parameter</th>
<th class="cellalignment1227" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t17" headers="r1c1-t17">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t17 r1c2-t17">
<p>The name of the file group on which the privilege is granted, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t17" headers="r1c1-t17">
<p><code>privilege</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t17 r1c2-t17">
<p>The constant that specifies the privilege. See <a href="#CEGJGFAB">"Constants"</a> for valid privileges.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t17" headers="r1c1-t17">
<p><code>grantee</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t17 r1c2-t17">
<p>The name of the user or role for which the privilege is granted. The specified user cannot be the owner of the object.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t17" headers="r1c1-t17">
<p><code>grant_option</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t17 r1c2-t17">
<p>If <code>TRUE</code>, then the specified user granted the specified privilege can grant this privilege to others.</p>
<p>If <code>FALSE</code>, then the specified user granted the specified privilege cannot grant this privilege to others.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4531"></a>Usage Notes</p>
<p>To run this procedure, a user must meet at least one of the following requirements:</p>
<ul>
<li>
<p>Be the owner of the object on which the privilege is granted</p>
</li>
<li>
<p>Have the same privilege as the privilege being granted with the grant option</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS845" class="refsect2"><a id="CEGCCCAG"></a>
<hr />
<h3 class="refsect2">GRANT_SYSTEM_PRIVILEGE Procedure<a id="sthref4532"></a><a id="sthref4533"></a></h3>
<p>This procedure grants system privileges for file group operations to a user.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you grant a privilege on <code>"ANY"</code> object (for example, <code>ALTER_ANY_RULE</code>), and the initialization parameter <code>O7_DICTIONARY_ACCESSIBILITY</code> is set to <code>FALSE</code>, you give the user access to that type of object in all schemas, except the <code>SYS</code> schema. By default, the initialization parameter <code>O7_DICTIONARY_ACCESSIBILITY</code> is set to <code>FALSE</code>.
<p>If you want to grant access to an object in the <code>SYS</code> schema, then you can grant object privileges explicitly on the object. Alternatively, you can set the <code>O7_DICTIONARY_ACCESSIBILITY</code> initialization parameter to <code>TRUE</code>. Then privileges granted on <code>"ANY"</code> object allows access to any schema, including&nbsp;<code>SYS</code>. Set the <code>O7_DICTIONARY_ACCESSIBILITY</code> initialization parameter with caution.</p>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4534"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.GRANT_SYSTEM_PRIVILEGE(
  privilege     IN  BINARY_INTEGER,
  grantee       IN  VARCHAR2,
  grant_option  IN  BOOLEAN  DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4535"></a>Parameters</p>
<div id="ARPLS66375" class="tblformal">
<p class="titleintable"><a id="sthref4536"></a><a id="sthref4537"></a>Table 67-12 GRANT_SYSTEM_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment1229" title="GRANT_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.GRANT_SYSTEM_PRIVILEGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t19">Parameter</th>
<th class="cellalignment1227" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t19" headers="r1c1-t19">
<p><code>privilege</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t19 r1c2-t19">
<p>The constant that specifies the privilege. See <a href="#CEGJGFAB">"Constants"</a> for valid privileges.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t19" headers="r1c1-t19">
<p><code>grantee</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t19 r1c2-t19">
<p>The name of the user or role for which the privilege is granted. The user who runs the procedure cannot be specified.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t19" headers="r1c1-t19">
<p><code>grant_option</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t19 r1c2-t19">
<p>If <code>TRUE</code>, then the specified user granted the specified privilege can grant this privilege to others.</p>
<p>If <code>FALSE</code>, then the specified user granted the specified privilege cannot grant this privilege to others.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS846" class="refsect2"><a id="CEGDAFAE"></a>
<hr />
<h3 class="refsect2">PURGE_FILE_GROUP Procedure<a id="sthref4538"></a><a id="sthref4539"></a></h3>
<p>This procedure purges a file group using the file group's retention policy.</p>
<p>A file group's retention policy is determined by its settings for the <code>max_versions</code>, <code>min_versions</code>, and <code>retention_days</code> parameters. The following versions of a file group are removed when a file group is purged:</p>
<ul>
<li>
<p>All versions greater than the <code>max_versions</code> setting for the file group when versions are ordered in descending order by creation time. Therefore, the older versions are purged before the newer versions.</p>
</li>
<li>
<p>All versions older than the <code>retention_days</code> setting for the file group unless purging a version would cause the number of versions to drop below the <code>min_versions</code> setting for the file group.</p>
</li>
</ul>
<p>A job named <code>SYS.FGR$AUTOPURGE_JOB</code> automatically purges all file groups in a database periodically according to the job's schedule. You can adjust this job's schedule using the <code>DBMS_SCHEDULER</code> package. Alternatively, you can create a job that runs the <code>PURGE_FILE_GROUP</code> procedure periodically.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4540"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.PURGE_FILE_GROUP(
  file_group_name  IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4541"></a>Parameter</p>
<div id="ARPLS66376" class="tblformal">
<p class="titleintable"><a id="sthref4542"></a><a id="sthref4543"></a>Table 67-13 PURGE_FILE_GROUP Procedure Parameter</p>
<table class="cellalignment1229" title="PURGE_FILE_GROUP Procedure Parameter" summary="This table describes Parameters used by the DBMS_FILE_GROUP.PURGE_FILE_GROUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t20">Parameter</th>
<th class="cellalignment1227" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t20" headers="r1c1-t20">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t20 r1c2-t20">
<p>The name of the file group, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
<p>If <code>NULL</code> and this procedure is run by <code>SYS</code> user, then the procedure purges all file groups.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4544"></a>Usage Notes</p>
<p>If this procedure deletes files on hard disk, then the user who runs the procedure must have <code>WRITE</code> privilege on the directory object that contains the files. Files are deleted when a version is purged and the <code>keep_files</code> parameter is set to <code>N</code> for the version's file group.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS847" class="refsect2"><a id="CEGCAHGA"></a>
<hr />
<h3 class="refsect2">REMOVE_FILE Procedure<a id="sthref4545"></a><a id="sthref4546"></a></h3>
<p>This procedure removes a file from a version of a file group.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4547"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.REMOVE_FILE(
  file_group_name  IN  VARCHAR2,
  file_name        IN  VARCHAR2,
  version_name     IN  VARCHAR2 DEFAULT NULL,
  keep_file        IN  VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4548"></a>Parameters</p>
<div id="ARPLS66377" class="tblformal">
<p class="titleintable"><a id="sthref4549"></a><a id="sthref4550"></a>Table 67-14 REMOVE_FILE Procedure Parameters</p>
<table class="cellalignment1229" title="REMOVE_FILE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.REMOVE_FILE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t21">Parameter</th>
<th class="cellalignment1227" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t21" headers="r1c1-t21">
<p><code>file_group_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t21 r1c2-t21">
<p>The name of the file group that contains the version, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t21" headers="r1c1-t21">
<p><code>file_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t21 r1c2-t21">
<p>The name of the file being removed from the version</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t21" headers="r1c1-t21">
<p><code>version_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t21 r1c2-t21">
<p>The name of the version from which the file is removed.</p>
<p>If a positive integer is specified as a <code>VARCHAR2</code> value, then the integer is interpreted as a version number. For example, if <code>'1'</code> is specified, then the file is removed from version 1 of the file group.</p>
<p>If <code>NULL</code>, then the procedure uses the version with the latest creation time for the file group.</p>
<p>If <code>'*'</code>, then the procedure removes the file from all versions.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t21" headers="r1c1-t21">
<p><code>keep_file</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t21 r1c2-t21">
<p>If <code>Y</code>, then the procedure retains the file on hard disk.</p>
<p>If <code>N</code>, then the procedure deletes the file from hard disk.</p>
<p>If <code>NULL</code>, then the procedure uses the default keep files property of the file group.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4551"></a>Usage Notes</p>
<p>If this procedure deletes files on hard disk, then the user who runs the procedure must have <code>WRITE</code> privilege on the directory object that contains the files.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS848" class="refsect2"><a id="CEGCDAJC"></a>
<hr />
<h3 class="refsect2">REVOKE_OBJECT_PRIVILEGE Procedure<a id="sthref4552"></a><a id="sthref4553"></a></h3>
<p>This procedure revokes object privileges on a file group from a user.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4554"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.REVOKE_OBJECT_PRIVILEGE(
  object_name  IN  VARCHAR2,
  privilege    IN  BINARY_INTEGER,
  revokee      IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4555"></a>Parameters</p>
<div id="ARPLS66378" class="tblformal">
<p class="titleintable"><a id="sthref4556"></a><a id="sthref4557"></a>Table 67-15 REVOKE_OBJECT_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment1229" title="REVOKE_OBJECT_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.REVOKE_OBJECT_PRIVILEGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t22">Parameter</th>
<th class="cellalignment1227" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t22" headers="r1c1-t22">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t22 r1c2-t22">
<p>The name of the file group on which the privilege is revoked, specified as <code><span class="codeinlineitalic">[schema_name.]file_group_name</span></code>. For example, if the schema is <code>hq_dba</code> and the file group name is <code>sales_tbs</code>, then specify <code>hq_dba.sales_tbs</code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t22" headers="r1c1-t22">
<p><code>privilege</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t22 r1c2-t22">
<p>The constant that specifies the privilege. See <a href="#CEGJGFAB">"Constants"</a> for valid privileges.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t22" headers="r1c1-t22">
<p><code>revokee</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t22 r1c2-t22">
<p>The name of the user or role from which the privilege is revoked. The user who owns the object cannot be specified.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS849" class="refsect2"><a id="CEGCAIFG"></a>
<hr />
<h3 class="refsect2">REVOKE_SYSTEM_PRIVILEGE Procedure<a id="sthref4558"></a><a id="sthref4559"></a></h3>
<p>This procedure revokes system privileges for file group operations from a user.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4560"></a>Syntax</p>
<pre>
DBMS_FILE_GROUP.REVOKE_SYSTEM_PRIVILEGE(
  privilege  IN  BINARY_INTEGER,
  revokee    IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4561"></a>Parameters</p>
<div id="ARPLS66379" class="tblformal">
<p class="titleintable"><a id="sthref4562"></a><a id="sthref4563"></a>Table 67-16 REVOKE_SYSTEM_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment1229" title="REVOKE_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_FILE_GROUP.REVOKE_SYSTEM_PRIVILEGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t23">Parameter</th>
<th class="cellalignment1227" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t23" headers="r1c1-t23">
<p><code>privilege</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t23 r1c2-t23">
<p>The constant that specifies the privilege. See <a href="#CEGJGFAB">"Constants"</a> for valid privileges.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t23" headers="r1c1-t23">
<p><code>revokee</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t23 r1c2-t23">
<p>The name of the user or role from which the privilege is revoked. The user who runs the procedure cannot be specified.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_fga.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_ftran.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
