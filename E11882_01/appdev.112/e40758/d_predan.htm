<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_PREDICTIVE_ANALYTICS</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_pipe.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_preproc.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">108/265</span> <!-- End Header -->
<div id="ARPLS604" class="chapter"><a id="BAJGIHEA"></a>
<h1 class="chapter"><span class="secnum">104</span> DBMS_PREDICTIVE_ANALYTICS</h1>
<p>Data <a id="sthref6922"></a>mining can discover useful information buried in vast <a id="sthref6923"></a>amounts of data. However, it is often the case that both the programming interfaces and the data mining expertise required to obtain these results are too complex for use by the wide audiences that can obtain benefits from using Oracle Data Mining.</p>
<p>The <a id="sthref6924"></a><code>DBMS_PREDICTIVE_ANALYTICS</code> package addresses both of these complexities by automating the entire data mining process from data preprocessing through model building to scoring new data. This package provides an important tool that makes data mining possible for a broad audience of users, in particular, business analysts.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DMCON012" href="../../datamine.112/e16808/pa_dmcon.htm#DMCON012"><span class="italic">Oracle Data Mining Concepts</span></a> for an overview of Oracle predictive analytics, including information about the Oracle Spreadsheet Add-In for Predictive Analytics.</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CACHIAFG">Using DBMS_PREDICTIVE_ANALYTICS</a></p>
<ul>
<li>
<p><a href="#CACJFAHJ">Overview</a></p>
</li>
<li>
<p><a href="#CACEAGEA">Security Model</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#CACCCJGB">Summary of DBMS_PREDICTIVE_ANALYTICS Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CACHIAFG"></a>
<hr />
<div id="ARPLS605" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_PREDICTIVE_ANALYTICS</h2>
<p>This section contains topics that relate to using the <code>DBMS_PREDICTIVE_ANALYTICS</code> package.</p>
<ul>
<li>
<p><a href="#CACJFAHJ">Overview</a></p>
</li>
<li>
<p><a href="#CACEAGEA">Security Model</a></p>
</li>
</ul>
<div id="ARPLS67435" class="refsect2"><a id="CACJFAHJ"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>Data mining, according to a commonly used process model, requires the following steps:</p>
<ol>
<li>
<p>Understand the business problem.</p>
</li>
<li>
<p>Understand the data.</p>
</li>
<li id="BAJGAGGD">
<p>Prepare the data for mining.</p>
</li>
<li id="BAJIFCCF">
<p>Create models using the prepared data.</p>
</li>
<li id="BAJHEBED">
<p>Evaluate the models.</p>
</li>
<li>
<p>Deploy and use the model to score new data.</p>
</li>
</ol>
<p><code>DBMS_PREDICTIVE_ANALYTICS</code> automates parts of step <a href="#BAJGAGGD">3</a> &mdash; <a href="#BAJHEBED">5</a> of this process.</p>
<p>Predictive analytics procedures analyze and prepare the input data, create and test mining models using the input data, and then use the input data for scoring. The results of scoring are returned to the user. The models and supporting objects are not preserved after the operation completes.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73298" class="refsect2"><a id="CACEAGEA"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>The <code>DBMS_PREDICTIVE_ANALYTICS</code> package is owned by user <code>SYS</code> and is installed as part of database installation. Execution privilege on the package is granted to public. The routines in the package are run with invokers' rights (run with the privileges of the current user).</p>
<p>The <code>DBMS_PREDICTIVE_ANALYTICS</code> package exposes APIs which are leveraged by the Oracle Data Mining option. Users who wish to invoke procedures in this package require the <code>CREATE MINING MODEL</code> system privilege (as well as the <code>CREATE TABLE</code> and <code>CREATE VIEW</code> system privilege).</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CACCCJGB"></a>
<hr />
<div id="ARPLS606" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_PREDICTIVE_ANALYTICS Subprograms</h2>
<div id="ARPLS67436" class="tblformal">
<p class="titleintable"><a id="sthref6925"></a><a id="CACBHAEH"></a>Table 104-1 DBMS_PREDICTIVE_ANALYTICS Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_PREDICTIVE_ANALYTICS Package Subprograms" summary="Summary of DBMS_PREDICTIVE_ANALYTICS subprograms." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t3">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#CACBACDF">EXPLAIN Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p>Ranks attributes in order of influence in explaining a target column.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#CACGGDEC">PREDICT Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p>Predicts the value of a target column based on values in the input data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#CACHJICB">PROFILE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>Generates rules that identify the records that have the same target value.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS67437" class="refsect2"><a id="CACBACDF"></a>
<hr />
<h3 class="refsect2"><a id="sthref6926"></a>EXPLAIN Procedure</h3>
<p>The <code>EXPLAIN</code> procedure identifies the attributes that are important in explaining the variation in values of a target column.</p>
<p>The input data must contain some records where the target value is known (not <code>NULL</code>). These records are used by the procedure to train a model that calculates the attribute importance.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code>EXPLAIN</code> supports <code>DATE</code> and <code>TIMESTAMP</code> data types in addition to the numeric, character, and nested data types supported by Oracle Data Mining models.
<p>Data requirements for Oracle Data Mining are described in <a class="olink DMPRG005" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG005"><span class="italic">Oracle Data Mining Application Developer's Guide.</span></a></p>
</div>
<p>The <code>EXPLAIN</code> procedure creates a result table that lists the attributes in order of their explanatory power. The result table is described in the Usage Notes.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6927"></a>Syntax</p>
<pre>
DBMS_PREDICTIVE_ANALYTICS.EXPLAIN (
     data_table_name     IN VARCHAR2,
     explain_column_name IN VARCHAR2,
     result_table_name   IN VARCHAR2,
     data_schema_name    IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6928"></a>Parameters</p>
<div id="ARPLS67438" class="tblformal">
<p class="titleintable"><a id="sthref6929"></a><a id="CACIDGBE"></a>Table 104-2 EXPLAIN Procedure Parameters</p>
<table class="cellalignment1229" title="EXPLAIN Procedure Parameters " summary="This table describes the parameters of DBMS_PREDICTIVE_ANALYTICS.EXPLAIN." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Parameter</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>data_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>Name of input table or view</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><code>explain_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>Name of the column to be explained</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p><code>result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>Name of the table where results are saved</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">
<p><code>data_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p>Name of the schema where the input table or view resides and where the result table is created. Default: the current schema.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6930"></a>Usage Notes</p>
<p>The <code>EXPLAIN</code> procedure creates a result table with the columns described in <a href="#CACEIGJA">Table 104-3</a>.</p>
<div id="ARPLS67439" class="tblformalwide">
<p class="titleintable"><a id="sthref6931"></a><a id="CACEIGJA"></a>Table 104-3 EXPLAIN Procedure Result Table</p>
<table class="cellalignment1226" title="EXPLAIN Procedure Result Table" summary="This table describes the columns of the result table for DBMS_PREDICTIVE_ANALYTICS.EXPLAIN." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Column Name</th>
<th class="cellalignment1227" id="r1c2-t6">Data Type</th>
<th class="cellalignment1227" id="r1c3-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>ATTRIBUTE_NAME</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p><code>VARCHAR2(30)</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c3-t6">
<p>Name of a column in the input data; all columns except the explained column are listed in the result table.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>EXPLANATORY_VALUE</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c3-t6">
<p>Value indicating how useful the column is for determining the value of the explained column. Higher values indicate greater explanatory power. Value can range from 0 to 1.</p>
<p>An individual column's explanatory value is independent of other columns in the input table. The values are based on how strong each individual column correlates with the explained column. The value is affected by the number of records in the input table, and the relations of the values of the column to the values of the explain column.</p>
<p>An explanatory power value of 0 implies there is no useful correlation between the column's values and the explain column's values. An explanatory power of 1 implies perfect correlation; such columns should be eliminated from consideration for <code>PREDICT</code>. In practice, an explanatory power equal to 1 is rarely returned.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p><code>RANK</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c3-t6">
<p>Ranking of explanatory power. Rows with equal values for <code>explanatory_value</code> have the same rank. Rank values are not skipped in the event of ties.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6932"></a>Example</p>
<p>The following example performs an <code>EXPLAIN</code> operation on the <code>SUPPLEMENTARY_DEMOGRAPHICS</code> table of Sales History.</p>
<pre>
--Perform EXPLAIN operation 
BEGIN 
    DBMS_PREDICTIVE_ANALYTICS.EXPLAIN( 
        data_table_name      =&gt; 'supplementary_demographics', 
        explain_column_name  =&gt; 'home_theater_package', 
        result_table_name    =&gt; 'demographics_explain_result'); 
END; 
/ 
--Display results 
SELECT * FROM demographics_explain_result;
</pre>
<pre>
ATTRIBUTE_NAME                           EXPLANATORY_VALUE       RANK
---------------------------------------- ----------------- ----------
Y_BOX_GAMES                                     .524311073          1
YRS_RESIDENCE                                   .495987246          2
HOUSEHOLD_SIZE                                  .146208506          3
AFFINITY_CARD                                     .0598227          4
EDUCATION                                       .018462703          5
OCCUPATION                                      .009721543          6
FLAT_PANEL_MONITOR                               .00013733          7
PRINTER_SUPPLIES                                         0          8
OS_DOC_SET_KANJI                                         0          8
BULK_PACK_DISKETTES                                      0          8
BOOKKEEPING_APPLICATION                                  0          8
COMMENTS                                                 0          8
CUST_ID                                                  0          8
</pre>
<p>The results show that <code>Y_BOX_GAMES</code>, <code>YRS_RESiDENCE</code>, and <code>HOUSEHOLD_SIZE</code> are the best predictors of <code>HOME_THEATER_PACKAGE</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS67440" class="refsect2"><a id="CACGGDEC"></a>
<hr />
<h3 class="refsect2"><a id="sthref6933"></a>PREDICT Procedure</h3>
<p>The <code>PREDICT</code> procedure predicts the values of a target column.</p>
<p>The input data must contain some records where the target value is known (not <code>NULL</code>). These records are used by the procedure to train and test a model that makes the predictions.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code>PREDICT</code> supports <code>DATE</code> and <code>TIMESTAMP</code> data types in addition to the numeric, character, and nested data types supported by Oracle Data Mining models.
<p>Data requirements for Oracle Data Mining are described in <a class="olink DMPRG005" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG005"><span class="italic">Oracle Data Mining Application Developer's Guide.</span></a></p>
</div>
<p>The <code>PREDICT</code> procedure creates a result table that contains a predicted target value for every record. The result table is described in the Usage Notes.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6934"></a>Syntax</p>
<pre>
DBMS_PREDICTIVE_ANALYTICS.PREDICT (
    accuracy                  OUT NUMBER,
    data_table_name           IN VARCHAR2,
    case_id_column_name       IN VARCHAR2,
    target_column_name        IN VARCHAR2,
    result_table_name         IN VARCHAR2,
    data_schema_name          IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6935"></a>Parameters</p>
<div id="ARPLS67441" class="tblformal">
<p class="titleintable"><a id="sthref6936"></a><a id="CACHHIBB"></a>Table 104-4 PREDICT Procedure Parameters</p>
<table class="cellalignment1229" title="PREDICT Procedure Parameters" summary="This table describes the columns of the parameters of DBMS_PREDICTIVE_ANALYTICS.PREDICT." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t8">Parameter</th>
<th class="cellalignment1227" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t8" headers="r1c1-t8">
<p><code>accuracy</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t8 r1c2-t8">
<p>Output parameter that returns the predictive confidence, a measure of the accuracy of the predicted values. The predictive confidence for a categorical target is the most common target value; the predictive confidence for a numerical target is the mean.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t8" headers="r1c1-t8">
<p><code>data_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t8 r1c2-t8">
<p>Name of the input table or view.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t8" headers="r1c1-t8">
<p><code>case_id_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t8 r1c2-t8">
<p>Name of the column that uniquely identifies each case (record) in the input data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t8" headers="r1c1-t8">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t8 r1c2-t8">
<p>Name of the column to predict.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t8" headers="r1c1-t8">
<p><code>result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t8 r1c2-t8">
<p>Name of the table where results will be saved.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t8" headers="r1c1-t8">
<p><code>data_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t8 r1c2-t8">
<p>Name of the schema where the input table or view resides and where the result table is created. Default: the current schema.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6937"></a>Usage Notes</p>
<p>The <code>PREDICT</code> procedure creates a result table with the columns described in <a href="#CACBHHID">Table 104-5</a>.</p>
<div id="ARPLS67442" class="tblformal">
<p class="titleintable"><a id="sthref6938"></a><a id="CACBHHID"></a>Table 104-5 PREDICT Procedure Result Table</p>
<table class="cellalignment1229" title="PREDICT Procedure Result Table" summary="This table describes the columns of the result table for DBMS_PREDICTIVE_ANALYTICS.PREDICT." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t9">Column Name</th>
<th class="cellalignment1227" id="r1c2-t9">Data Type</th>
<th class="cellalignment1227" id="r1c3-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t9" headers="r1c1-t9">
<p>Case ID column name</p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c2-t9">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c3-t9">
<p>The name of the case ID column in the input data.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t9" headers="r1c1-t9">
<p><code>PREDICTION</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t9 r1c2-t9">
<p><code>VARCHAR2</code> or <code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t9 r1c3-t9">
<p>The predicted value of the target column for the given case.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t9" headers="r1c1-t9">
<p><code>PROBABILITY</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t9 r1c2-t9">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t9 r1c3-t9">
<p>For classification (categorical target), the probability of the prediction. For regression problems (numerical target), this column contains <code>NULL</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
Make sure that the name of the case ID column is not '<code>PREDICTION</code>' or '<code>PROBABILITY</code>'.</div>
<p>Predictions are returned for all cases whether or not they contained target values in the input.</p>
<p>Predicted values for known cases may be interesting in some situations. For example, you could perform deviation analysis to compare predicted values and actual values.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6939"></a>Example</p>
<p>The following example performs a <code>PREDICT</code> operation and displays the first 10 predictions. The results show an accuracy of 79% in predicting whether each customer has an affinity card.</p>
<pre>
--Perform PREDICT operation 
DECLARE 
    v_accuracy NUMBER(10,9); 
BEGIN 
    DBMS_PREDICTIVE_ANALYTICS.PREDICT( 
        accuracy             =&gt; v_accuracy, 
        data_table_name      =&gt; 'supplementary_demographics', 
        case_id_column_name  =&gt; 'cust_id', 
        target_column_name   =&gt; 'affinity_card', 
        result_table_name    =&gt; 'pa_demographics_predict_result'); 
    DBMS_OUTPUT.PUT_LINE('Accuracy = ' || v_accuracy); 
END; 
/

Accuracy = .788696903

--Display results
SELECT * FROM pa_demographics_predict_result WHERE rownum &lt; 10;
 
   CUST_ID PREDICTION PROBABILITY
---------- ---------- -----------
    101501          1  .834069848
    101502          0  .991269965
    101503          0   .99978311
    101504          1  .971643388
    101505          1  .541754127
    101506          0  .803719133
    101507          0  .999999303
    101508          0  .999999987
    101509          0  .999953074
 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS67443" class="refsect2"><a id="CACHJICB"></a>
<hr />
<h3 class="refsect2"><a id="sthref6940"></a>PROFILE Procedure</h3>
<p>The <code>PROFILE</code> procedure generates rules that describe the cases (records) from the input data. For example, if a target column <code>CHURN</code> has values 'Yes' and 'No', <code>PROFILE</code> generates a set of rules describing the expected outcomes. Each profile includes a rule, record count, and a score distribution.</p>
<p>The input data must contain some cases where the target value is known (not <code>NULL</code>). These cases are used by the procedure to build a model that calculates the rules.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code>PROFILE</code> does not support nested types or dates.
<p>Data requirements for Oracle Data Mining are described in <a class="olink DMPRG005" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG005"><span class="italic">Oracle Data Mining Application Developer's Guide.</span></a></p>
</div>
<p>The <code>PROFILE</code> procedure creates a result table that specifies rules (profiles) and their corresponding target values. The result table is described in the Usage Notes.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6941"></a>Syntax</p>
<pre>
DBMS_PREDICTIVE_ANALYTICS.PROFILE (
     data_table_name           IN VARCHAR2,
     target_column_name        IN VARCHAR2,
     result_table_name         IN VARCHAR2,
     data_schema_name          IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6942"></a>Parameters</p>
<div id="ARPLS67444" class="tblformal">
<p class="titleintable"><a id="sthref6943"></a><a id="sthref6944"></a>Table 104-6 PROFILE Procedure Parameters</p>
<table class="cellalignment1229" title="PROFILE Procedure Parameters" summary="This table describes the parameters of DBMS_PREDICTIVE_ANALYTICS.PROFILE." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Parameter</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>data_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>Name of the table containing the data to be analyzed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>target_column_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p>Name of the target column.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t12" headers="r1c1-t12">
<p><code>result_table_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t12 r1c2-t12">
<p>Name of the table where the results will be saved.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t12" headers="r1c1-t12">
<p><code>data_schema_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t12 r1c2-t12">
<p>Name of the schema where the input table or view resides and where the result table is created. Default: the current schema.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6945"></a>Usage Notes</p>
<p>The <code>PROFILE</code> procedure creates a result table with the columns described in <a href="#CACBCECE">Table 104-7</a>.</p>
<div id="ARPLS67445" class="tblformal">
<p class="titleintable"><a id="sthref6946"></a><a id="CACBCECE"></a>Table 104-7 PROFILE Procedure Result Table</p>
<table class="cellalignment1229" title="PROFILE Procedure Result Table" summary="Columns in the result table created by DBMS_PREDICTIVE_ANALYTICS.PROFILE" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t13">Column Name</th>
<th class="cellalignment1227" id="r1c2-t13">Data Type</th>
<th class="cellalignment1227" id="r1c3-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t13" headers="r1c1-t13">
<p><code>PROFILE_ID</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t13 r1c2-t13">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t13 r1c3-t13">
<p>A unique identifier for this profile (rule).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t13" headers="r1c1-t13">
<p><code>RECORD_COUNT</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t13 r1c2-t13">
<p><code>NUMBER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t13 r1c3-t13">
<p>The number of records described by the profile.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t13" headers="r1c1-t13">
<p><code>DESCRIPTION</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t13 r1c2-t13">
<p><code>SYS.XMLTYPE</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t13 r1c3-t13">
<p>The profile rule. See <a href="#CACIHAGG">"XML Schema for Profile Rules"</a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="CACIHAGG"></a><a id="ARPLS67446"></a>XML Schema for Profile Rules</p>
<p>The <code>DESCRIPTION</code> column of the result table contains XML that conforms to the following XSD:</p>
<pre>
&lt;xs:element name="SimpleRule"&gt;
  &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:group ref="PREDICATE"/&gt;
      &lt;xs:element ref="ScoreDistribution" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="id" type="xs:string" use="optional"/&gt;
    &lt;xs:attribute name="score" type="xs:string" use="required"/&gt;
    &lt;xs:attribute name="recordCount" type="NUMBER" use="optional"/&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:element&gt;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref6947"></a>Example</p>
<p>This example generates a rule describing customers who are likely to use an affinity card (target value is 1) and a set of rules describing customers who are not likely to use an affinity card (target value is 0). The rules are based on only two predictors: education and occupation.</p>
<pre>
SET serveroutput ON
SET trimspool ON
SET pages 10000
SET long 10000
SET pagesize 10000
SET linesize 150
CREATE VIEW cust_edu_occ_view AS
              SELECT cust_id, education, occupation, affinity_card
              FROM sh.supplementary_demographics;
BEGIN
    DBMS_PREDICTIVE_ANALYTICS.PROFILE(
         DATA_TABLE_NAME    =&gt; 'cust_edu_occ_view',
         TARGET_COLUMN_NAME =&gt; 'affinity_card',
         RESULT_TABLE_NAME  =&gt; 'profile_result');
END;
/
</pre>
<p>This example generates eight rules in the result table <code>profile_result</code>. Seven of the rules suggest a target value of 0; one rule suggests a target value of 1. The <code>score</code> attribute on a rule identifies the target value.</p>
<p>This <code>SELECT</code> statement returns all the rules in the result table.</p>
<pre>
SELECT a.profile_id, a.record_count, a.description.getstringval()
 FROM profile_result a;
</pre>
<p>This <code>SELECT</code> statement returns the rules for a target value of 0.</p>
<pre>
SELECT *
  FROM profile_result t
  WHERE extractvalue(t.description, '/SimpleRule/@score') = 0;
</pre>
<p>To obtain more readable output, you can cut and paste the XML for a rule into a text file, save it with the .xml extension, and view the rule in a browser. The eight rules generated by this example are displayed as follows.</p>
<pre>
&lt;SimpleRule id="1" score="0" recordCount="443"&gt; 
  &lt;CompoundPredicate booleanOperator="and"&gt; 
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Armed-F" "Exec." "Prof." "Protec."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"&lt; Bach." "Assoc-V" "HS-grad"
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
  &lt;/CompoundPredicate&gt; 
  &lt;ScoreDistribution value="0" recordCount="297" /&gt; 
  &lt;ScoreDistribution value="1" recordCount="146" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="2" score="0" recordCount="18"&gt;
  &lt;CompoundPredicate booleanOperator="and"&gt;
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;"Armed-F" "Exec." "Prof." "Protec."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt;
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;"10th" "11th" "12th" "1st-4th" "5th-6th" "7th-8th" "9th" "Presch."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt;
  &lt;/CompoundPredicate&gt;
  &lt;ScoreDistribution value="0" recordCount="18" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="3" score="0" recordCount="458"&gt; 
  &lt;CompoundPredicate booleanOperator="and"&gt; 
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Armed-F" "Exec." "Prof." "Protec."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Assoc-A" "Bach."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
  &lt;/CompoundPredicate&gt; 
  &lt;ScoreDistribution value="0" recordCount="248" /&gt; 
  &lt;ScoreDistribution value="1" recordCount="210" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="4" score="1" recordCount="276"&gt; 
  &lt;CompoundPredicate booleanOperator="and"&gt; 
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Armed-F" "Exec." "Prof." "Protec."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Masters" "PhD" "Profsc"
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
  &lt;/CompoundPredicate&gt; 
  &lt;ScoreDistribution value="1" recordCount="183" /&gt; 
  &lt;ScoreDistribution value="0" recordCount="93" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="5" score="0" recordCount="307"&gt; 
  &lt;CompoundPredicate booleanOperator="and"&gt; 
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Assoc-A" "Bach." "Masters" "PhD" "Profsc"
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Crafts" "Sales" "TechSup" "Transp."
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
  &lt;/CompoundPredicate&gt; 
  &lt;ScoreDistribution value="0" recordCount="184" /&gt; 
  &lt;ScoreDistribution value="1" recordCount="123" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="6" score="0" recordCount="243"&gt; 
  &lt;CompoundPredicate booleanOperator="and"&gt; 
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"Assoc-A" "Bach." "Masters" "PhD" "Profsc"
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt; 
      &lt;Array type="string"&gt;"?" "Cleric." "Farming" "Handler" "House-s" "Machine" "Other"
      &lt;/Array&gt; 
    &lt;/SimpleSetPredicate&gt; 
  &lt;/CompoundPredicate&gt; 
  &lt;ScoreDistribution value="0" recordCount="197" /&gt; 
  &lt;ScoreDistribution value="1" recordCount="46" /&gt; 
&lt;/SimpleRule&gt;

&lt;SimpleRule id="7" score="0" recordCount="2158"&gt;
  &lt;CompoundPredicate booleanOperator="and"&gt;
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;
        "10th" "11th" "12th" "1st-4th" "5th-6th" "7th-8th" "9th" "&lt; Bach." "Assoc-V" "HS-grad"
        "Presch."
      &lt;/Array&gt;
    &lt;/SimpleSetPredicate&gt;
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;"?" "Cleric." "Crafts" "Farming" "Machine" "Sales" "TechSup" " Transp."
      &lt;/Array&gt;
    &lt;/SimpleSetPredicate&gt;
  &lt;/CompoundPredicate&gt;
  &lt;ScoreDistribution value="0" recordCount="1819"/&gt;
  &lt;ScoreDistribution value="1" recordCount="339"/&gt;
&lt;/SimpleRule&gt;

&lt;SimpleRule id="8" score="0" recordCount="597"&gt;
  &lt;CompoundPredicate booleanOperator="and"&gt;
    &lt;SimpleSetPredicate field="EDUCATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;
        "10th" "11th" "12th" "1st-4th"  "5th-6th" "7th-8th" "9th" "&lt; Bach." "Assoc-V" "HS-grad"
        "Presch."
      &lt;/Array&gt;
    &lt;/SimpleSetPredicate&gt;
    &lt;SimpleSetPredicate field="OCCUPATION" booleanOperator="isIn"&gt;
      &lt;Array type="string"&gt;"Handler" "House-s" "Other"
      &lt;/Array&gt;
    &lt;/SimpleSetPredicate&gt;
  &lt;/CompoundPredicate&gt;
&lt;ScoreDistribution value="0" recordCount="572"/&gt;
&lt;ScoreDistribution value="1" recordCount="25"/&gt;
&lt;/SimpleRule&gt;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_pipe.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_preproc.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
