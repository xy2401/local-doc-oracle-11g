<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_REDACT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_redefi.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_refrsh.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">115/265</span> <!-- End Header -->
<div id="ARPLS73800" class="chapter"><a id="CHDHEDAI"></a>
<h1 class="chapter"><span class="secnum">111</span> DBMS_REDACT</h1>
<p>The <code>DBMS_REDACT</code> package provides an interface to Oracle Data Redaction, which enables you to mask (redact) data that is returned from queries issued by low-privileged users or an application.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ASOAG10135" href="../../network.112/e40393/asopart1b.htm#ASOAG10135"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> regarding using Data Redaction to protect sensitive data</p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CIAIHAHB">Using DBMS_REDACT</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Operating Procedures</p>
</li>
</ul>
</li>
<li>
<p><a href="#CIAIGAJF">Summary of DBMS_REDACT Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CIAIHAHB"></a>
<hr />
<div id="ARPLS73801" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_REDACT</h2>
<ul>
<li>
<p><a href="#CIAJJAHF">Overview</a></p>
</li>
<li>
<p><a href="#CIAGBAAB">Security Model</a></p>
</li>
<li>
<p><a href="#CHDCAAAJ">Constants</a></p>
</li>
<li>
<p><a href="#CHDHGCCD">Operating Procedures</a></p>
</li>
</ul>
<div id="ARPLS73802" class="refsect2"><a id="CIAJJAHF"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>Data Redaction provides a way to define masking policies for an application. Oracle Data Redaction provides functionality to mask (redact) data that is returned from user <code>SELECT</code> queries. The masking takes place in real time. The Data Redaction policy applies to the querying user, depending on this user's <code>SYS_CONTEXT</code> values. This redaction process does not require that the queried data be static or unchanging, or for the entire data set to be redacted at one time in an off-line manner. Oracle Database redacts only the data for the rows specified by the user's query, not the data for the entire column. The redaction takes place immediately before the data is returned to the querying user or application.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73803" class="refsect2"><a id="CIAGBAAB"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>If the querying user has the <code>EXEMPT REDACTION POLICY</code> system privilege, redaction will not be performed. If the user does not have the <code>EXEMPT REDACTION POLICY</code> system privilege, the policy expression will be evaluated in the current user's environment. If the policy expression evaluates to <code>TRUE</code>, then redaction will be performed, otherwise no redaction will be performed.</p>
<p>You need the <code>EXECUTE</code> privilege on the <code>DBMS_REDACT</code> package in order to execute its subprograms. Procedures in the interface are executed with privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73804" class="refsect2"><a id="CHDCAAAJ"></a>
<hr />
<h3 class="refsect2">Constants</h3>
<p>The <code>DBMS_REDACT</code> package uses the constants shown in the following tables:</p>
<div id="ARPLS73805" class="tblformal">
<p class="titleintable"><a id="sthref7138"></a><a id="CHDFGGGG"></a>Table 111-1 Values for function_type Parameter of DBMS_REDACT.ADD_POLICY</p>
<table class="cellalignment1229" title="Values for function_type Parameter of DBMS_REDACT.ADD_POLICY " summary="Values for &quot;function_type&quot; parameter of DBMS_REDACT.ADD_POLICY" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Constant</th>
<th class="cellalignment1227" id="r1c2-t3">Value</th>
<th class="cellalignment1227" id="r1c3-t3">Type</th>
<th class="cellalignment1227" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><code>NONE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p><code>0</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c4-t3">
<p>No redaction</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><code>FULL</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c4-t3">
<p>Redact to fixed values</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><code>PARTIAL</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>2</p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c4-t3">
<p>Partial redaction, redact a portion of the column data</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t3" headers="r1c1-t3">
<p><code>RANDOM</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c2-t3">
<p>4</p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c4-t3">
<p>Random redaction, each query results in a different random value</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t3" headers="r1c1-t3">
<p><code>REGEXP</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c2-t3">
<p><code>5</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c3-t3">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c4-t3">
<p>Regular expression based redaction</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS73806" class="tblformal">
<p class="titleintable"><a id="sthref7139"></a><a id="CHDCGJGE"></a>Table 111-2 Values for action Parameter of DBMS_REDACT.ALTER_POLICY</p>
<table class="cellalignment1229" title="Values for action Parameter of DBMS_REDACT.ALTER_POLICY" summary="Values for action parameter of DBMS_REDACT.ALTER_POLICY" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Constant</th>
<th class="cellalignment1227" id="r1c2-t4">Value</th>
<th class="cellalignment1227" id="r1c3-t4">Type</th>
<th class="cellalignment1227" id="r1c4-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>ADD_COLUMN</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p><code>1</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c4-t4">
<p>Add a column to the redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t4" headers="r1c1-t4">
<p><code>DROP_COLUMN</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c2-t4">
<p><code>2</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c4-t4">
<p>Drop a column from the redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t4" headers="r1c1-t4">
<p><code>MODIFY_EXPRESSION</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c2-t4">
<p><code>3</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t4 r1c4-t4">
<p>Modify the expression of a redaction policy (the expression evaluates to a <code>BOOLEAN</code> value: if <code>TRUE</code> then redaction is applied, otherwise not)</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t4" headers="r1c1-t4">
<p><code>MODIFY_COLUMN</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c2-t4">
<p><code>4</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t4 r1c4-t4">
<p>Modify a column in the redaction policy to change the redaction <code>function_type</code> or the <code>function_parameters</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t4" headers="r1c1-t4">
<p><code>SET_POLICY_DESCRIPTION</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t4 r1c2-t4">
<p><code>5</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t4 r1c4-t4">
<p>Set a description for the redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t4" headers="r1c1-t4">
<p><code>SET_COLUMN_DESCRIPTION</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t4 r1c2-t4">
<p><code>6</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t4 r1c3-t4">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t4 r1c4-t4">
<p>Set a description for the redaction performed on the column</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73807" class="refsect2"><a id="CHDHGCCD"></a>
<hr />
<h3 class="refsect2">Operating Procedures</h3>
<p>The following table presents the relationship between the type of redaction function and its parameters, based on the datatype of the column being redacted. Examples of the various format strings are provided, showing how to perform some commonplace redaction for a string datatype (in this case, a Social Security Number (SSN)), a <code>DATE</code> datatype, and various examples of redaction for the number datatype.</p>
<div id="ARPLS73808" class="tblformal">
<p class="titleintable"><a id="sthref7140"></a><a id="CHDJCIJG"></a>Table 111-3 Data Redaction Function Types</p>
<table class="cellalignment1229" title="Data Redaction Function Types" summary="This table presents the relationship between function types and function parameters" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">function_type</th>
<th class="cellalignment1227" id="r1c2-t5">function_parameters</th>
<th class="cellalignment1227" id="r1c3-t5">Examples</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.NONE</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c3-t5">&nbsp;</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.FULL</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c3-t5">&nbsp;</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.PARTIAL</code> (for character types)</p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>A comma-separated list, containing the following five fields (with no spaces after the commas delimiting the fields):</p>
<ul>
<li>
<p><code>REDACT_PARTIAL_INPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_OUTPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKCHAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKFROM</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKTO</code></p>
</li>
</ul>
<p>See <a href="#CHDDBGFE">Table 111-4, "Format Descriptors with Component Field Names and Delimiters"</a>.</p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c3-t5">
<p><code>'VVVFVVFVVVV,VVV-VV-VVVV,X,1,5'</code> for masking the first 5 digits of SSN strings like <code>123-45-6789</code>, adding dashes back to format it, resulting in strings like <code>XXX-XX-6789</code></p>
<p><code>'VVVFVVFVVVV,VVV VV VVVV,X,1,5'</code> for masking the first 5 digits of SSN strings like <code>123-45-6789</code>, adding spaces to format it, resulting in strings like <code>XXX XX 6789</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_INPUT_FORMAT</code> - the input format: <code>V</code> for value to be possibly redacted, <code>F</code> for formatting character to be ignored</p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c3-t5">
<p>The <code>REDACT_PARTIAL_INPUT_FORMAT</code> field value <code>VVVFVVFVVVV</code> for matching SSN strings like <code>123-45-6789</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_OUTPUT_FORMAT</code> - the output format: <code>V</code> for output of redaction. Any other character will be treated as a formatting character and output literally.</p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c3-t5">
<p>The REDACT_PARTIAL_OUTPUT_FORMATfield value <code>VVV-VV-VVVV</code> can be used to redact SSN strings into <code>XXX-XX-6789</code> (<code>X</code> comes from <code>REDACT_PARTIAL_MASKCHAR</code> field).</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_MASKCHAR</code> - the character used to redact the input</p>
</td>
<td class="cellalignment1228" headers="r7c1-t5 r1c3-t5">
<p>The value <code>X</code> for redacting SSN strings into <code>XXX-XX-6789</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_MASKFROM</code> - specifies which <code>V</code> within the <code>REDACT_PARTIAL_INPUT_FORMAT</code> from which to start the redaction (see explanation following the next entry, <code>REDACT_PARTIAL_MASKTO</code>)</p>
</td>
<td class="cellalignment1228" headers="r8c1-t5 r1c3-t5">
<p>The value <code>1</code> for redacting SSN strings starting at the first <code>V</code> of <code>REDACT_PARTIAL_INPUT_FORMAT</code> of <code>VVVFVVFVVVV</code> into strings like <code>XXX-XX-6789</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r9c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_MASKTO</code> - specifies which <code>V</code> within the <code>REDACT_PARTIAL_INPUT_FORMAT</code> at which to end the redaction</p>
</td>
<td class="cellalignment1228" headers="r9c1-t5 r1c3-t5">
<p>The value <code>5</code> for redacting SSN strings up to and including the fifth <code>V</code> within <code>REDACT_PARTIAL_INPUT_FORMAT</code> of <code>VVVFVVFVVVV</code> into strings like <code>XXX-XX-6789</code>. Note how the format character <code>'-'</code> (corresponding to the first <code>F</code> within <code>REDACT_PARTIAL_INPUT_FORMAT</code>) is ignored as far as redaction is concerned, so the value here is <code>5</code> as opposed to <code>6</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r10c1-t5 r1c2-t5">
<p>The <code>REDACT_PARTIAL_MASKFROM</code> and <code>REDACT_PARTIAL_MASKTO</code> field values are specified as counts of the number of <code>V</code> characters in the <code>REDACT_PARTIAL_INPUT_FORMAT</code> field, up to and including the intended position, starting from the leftmost <code>V</code>. This way, <code>REDACT_PARTIAL_MASKFROM</code> and <code>REDACT_PARTIAL_MASKTO</code> are independent of the specific formatting of the data. For example, in the common use case of masking an SSN to show only the last four digits, data like <code>123456789</code> (with <code>REDACT_PARTIAL_INPUT_FORMAT</code> of <code>VVVVVVVVV</code>) and data like <code>123-45-6789</code> (with <code>REDACT_PARTIAL_INPUT_FORMAT</code> of <code>VVVFVVFVVVV</code>), would both use <code>REDACT_PARTIAL_MASKFROM</code> of <code>1</code> and <code>REDACT_PARTIAL_MASKTO</code> of <code>5</code>.</p>
</td>
<td class="cellalignment1228" headers="r10c1-t5 r1c3-t5">&nbsp;</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.PARTIAL</code> (for number types)</p>
</td>
<td class="cellalignment1228" headers="r11c1-t5 r1c2-t5">
<p>A comma-separated list, containing the following three fields (with no spaces after the commas delimiting the fields):</p>
<ul>
<li>
<p><code>REDACT_PARTIAL_MASKCHAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKFROM</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKTO</code></p>
</li>
</ul>
<p>See <a href="#CHDDBGFE">Table 111-4, "Format Descriptors with Component Field Names and Delimiters"</a>.</p>
</td>
<td class="cellalignment1228" headers="r11c1-t5 r1c3-t5">
<p><code>'9,1,5'</code> for redacting the first 5 digits of an SSN number <code>123456789</code> into <code>999996789</code>; or <code>'0,1,2'</code> for redacting a number <code>1.23</code> to <code>0.03</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r12c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_MASKCHAR</code> - the character used to redact the input, in the range between <code>0</code> and <code>9</code></p>
<p><code>REDACT_PARTIAL_MASKFROM</code> - the position, starting from 1, from which to start the redaction. The position does not include the decimal point if it is present.</p>
<p><code>REDACT_PARTIAL_MASKTO</code> - the position at which to end the redaction</p>
</td>
<td class="cellalignment1228" headers="r12c1-t5 r1c3-t5">&nbsp;</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.PARTIAL</code> (for datetime datatypes)</p>
</td>
<td class="cellalignment1228" headers="r13c1-t5 r1c2-t5">
<p>A list, containing the following five fields (concatenated so that there is no space between the fields):</p>
<ul>
<li>
<p><code>REDACT_PARTIAL_DATE_MONTH</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_DAY</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_YEAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_HOUR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_MINUTE</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_SECOND</code></p>
</li>
</ul>
<p>See <a href="#CHDDBGFE">Table 111-4, "Format Descriptors with Component Field Names and Delimiters"</a>.</p>
</td>
<td class="cellalignment1228" headers="r13c1-t5 r1c3-t5">
<p><code>'m12DYHMS'</code>, which changes <code>01-May-01 01:01:01</code> to <code>01-Dec-01 01:01:01</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t5" headers="r1c1-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r14c1-t5 r1c2-t5">
<p><code>REDACT_PARTIAL_DATE_MONTH</code>: <code>'M'</code> (no masking of month) or <code>'m#'</code> (mask month to a specific month, if possible), where <code>#</code> (the month specified by its number) is between <code>1</code> and <code>12</code></p>
<p><code>REDACT_PARTIAL_DATE_DAY</code>: <code>'D'</code> (no masking of date) or <code>'d#'</code> (mask day to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>31</code></p>
<p><code>REDACT_PARTIAL_DATE_YEAR</code>: <code>'Y'</code> (no masking of year) or <code>'y#'</code> (mask year to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>9999</code></p>
<p><code>REDACT_PARTIAL_DATE_HOUR</code>: <code>'H'</code> (no masking of hour) or <code>'h#'</code> (mask hour to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>23</code></p>
<p><code>REDACT_PARTIAL_DATE_MINUTE</code>: <code>'M'</code> (no masking of minute) or <code>'m#'</code> (mask minute to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
<p><code>REDACT_PARTIAL_DATE_SECOND</code>: <code>'S'</code> (no masking of second) or <code>'s#'</code> (mask second to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t5 r1c3-t5">&nbsp;</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t5" headers="r1c1-t5">
<p><code>DBMS_REDACT.RANDOM</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t5 r1c2-t5">&nbsp;</td>
<td class="cellalignment1228" headers="r15c1-t5 r1c3-t5">&nbsp;</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS74125" class="tblformal">
<p class="titleintable"><a id="sthref7141"></a><a id="CHDDBGFE"></a>Table 111-4 Format Descriptors with Component Field Names and Delimiters</p>
<table class="cellalignment1229" title="Format Descriptors with Component Field Names and Delimiters" summary="This table describes Format Descriptors with Component Field Names and Delimiters (if any)" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Datatype</th>
<th class="cellalignment1227" id="r1c2-t6">Format Descriptor for Partial redaction</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p>Character</p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p><code>REDACT_PARTIAL_INPUT_FORMAT || ',' || REDACT_PARTIAL_OUTPUT_FORMAT || ',' || REDACT_PARTIAL_MASKCHAR || ',' || REDACT_PARTIAL_MASKFROM || ',' || REDACT_PARTIAL_MASKTO</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p>Number</p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p><code>REDACT_PARTIAL_MASKCHAR || ',' || REDACT_PARTIAL_MASKFROM || ',' || REDACT_PARTIAL_MASKTO</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p>Datetime</p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p><code>REDACT_PARTIAL_DATE_MONTH || REDACT_PARTIAL_DATE_DAY || REDACT_PARTIAL_DATE_YEAR || REDACT_PARTIAL_DATE_HOUR || REDACT_PARTIAL_DATE_MINUTE || REDACT_PARTIAL_DATE_SECOND</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CIAIGAJF"></a>
<hr />
<div id="ARPLS73809" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_REDACT Subprograms</h2>
<div id="ARPLS73810" class="tblformal">
<p class="titleintable"><a id="sthref7142"></a><a id="sthref7143"></a>Table 111-5 DBMS_REDACT Package Subprograms</p>
<table class="cellalignment1229" title="DBMS_REDACT Package Subprograms" summary="DBMS_XYZ Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t7">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t7" headers="r1c1-t7">
<p><a href="#CHDCBEAC">ADD_POLICY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t7 r1c2-t7">
<p>Defines a Data Redaction policy for a table or view</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t7" headers="r1c1-t7">
<p><a href="#CHDBBJHB">ALTER_POLICY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t7 r1c2-t7">
<p>Alters a Data Redaction policy for a table or view</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t7" headers="r1c1-t7">
<p><a href="#CHDDFHDG">DISABLE_POLICY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t7 r1c2-t7">
<p>Disables a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t7" headers="r1c1-t7">
<p><a href="#CHDHIEBD">DROP_POLICY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t7 r1c2-t7">
<p>Drops a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t7" headers="r1c1-t7">
<p><a href="#CHDCHDAE">ENABLE_POLICY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t7 r1c2-t7">
<p>Enables a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t7" headers="r1c1-t7">
<p><a href="#CHDCEEGC">UPDATE_FULL_REDACTION_VALUES Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t7 r1c2-t7">
<p>Modifies the default displayed values for a Data Redaction policy for full redaction</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS73811" class="refsect2"><a id="CHDCBEAC"></a>
<hr />
<h3 class="refsect2"><a id="sthref7144"></a>ADD_POLICY Procedure</h3>
<p>This procedure defines a Data Redaction policy for a table or view.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7145"></a>Syntax</p>
<pre>
DBMS_REDACT.ADD_POLICY (
   object_schema                IN    VARCHAR2 := NULL,
   object_name                  IN    VARCHAR2,
   policy_name                  IN    VARCHAR2,
   column_name                  IN    VARCHAR2 := NULL,
   function_type                IN    BINARY_INTEGER := DBMS_REDACT.FULL,
   function_parameters          IN    VARCHAR2 := NULL,
   expression                   IN    VARCHAR2,
   enable                       IN    BOOLEAN := TRUE,
   regexp_pattern               IN    VARCHAR2 := NULL,
   regexp_replace_string        IN    VARCHAR2 := NULL,
   regexp_position              IN    BINARY_INTEGER := 1,
   regexp_occurrence            IN    BINARY_INTEGER := 0,
   regexp_match_parameter       IN    VARCHAR2 := NULL,
   policy_description           IN    VARCHAR2 := NULL,
   column_description           IN    VARCHAR2 := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7146"></a>Parameters</p>
<div id="ARPLS73812" class="tblformal">
<p class="titleintable"><a id="sthref7147"></a><a id="sthref7148"></a>Table 111-6 <span class="bolditalic">ADD_POLICY Procedure Parameters</span></p>
<table class="cellalignment1229" title="ADD_POLICY Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.ADD_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t8">Parameter</th>
<th class="cellalignment1227" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t8" headers="r1c1-t8">
<p><code>object_schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t8 r1c2-t8">
<p>Schema owning the table, current user if <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t8" headers="r1c1-t8">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t8 r1c2-t8">
<p>Name of table or view to which to add a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t8" headers="r1c1-t8">
<p><code>policy_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t8 r1c2-t8">
<p>Name of policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t8" headers="r1c1-t8">
<p><code>column_name</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t8 r1c2-t8">
<p>[Optional] Name of one column to which the redaction policy applies. If you must redact more than one column, use the <a href="#CHDBBJHB">ALTER_POLICY Procedure</a> to add the additional columns.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t8" headers="r1c1-t8">
<p><code>function_type</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t8 r1c2-t8">
<p>Type of redaction function to use. Possible values are:</p>
<p>- <code>DBMS_REDACT.NONE</code></p>
<p>- <code>DBMS_REDACT.FULL</code> (default)</p>
<p>- <code>DBMS_REDACT.PARTIAL</code></p>
<p>- <code>DBMS_REDACT.RANDOM</code></p>
<p>- <code>DBMS_REDACT.REGEXP</code></p>
<p>If the <code>function_type</code> is <code>DBMS_REDACT.REGEXP,</code> then the <code>function_parameters</code> parameter must be omitted completely, and the <code>regexp_*</code> parameters must be used to define the Data Redaction policy.</p>
<p>See <a href="#CHDFGGGG">Table 111-1, "Values for function_type Parameter of DBMS_REDACT.ADD_POLICY"</a> for an overview of the meanings of these values, and for some examples of their use.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t8" headers="r1c1-t8">
<p><code>function_parameters</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t8 r1c2-t8">
<p>Parameters to the redaction function. The possible values depend on the value of the <code>function_type</code> provided.</p>
<p>If the <code>function_type</code> is <code>DBMS_REDACT.REGEXP,</code> then the <code>function_parameters</code> parameter must be omitted completely, and the <code>regexp_*</code> parameters must be used to define the Data Redaction policy.</p>
<p>- <code>DBMS_REDACT.NONE</code>: Can be omitted entirely and defaults to <code>NULL</code></p>
<p>- <code>DBMS_REDACT.FULL</code>: Can be omitted entirely and defaults to <code>NULL</code></p>
<p>- Masking parameters for partial character masking. For character datatypes, a comma-separated list containing these fields:</p>
<ul>
<li>
<p>Input format: <code>'V'</code> for value to be possibly masked, <code>'F'</code> for formatting character to be ignored</p>
</li>
<li>
<p>Output format: <code>'V'</code> for output of masking, any other characters will be treated as formatting characters.</p>
</li>
<li>
<p>Mask character: a character that will be used to replace the actual values. Examples are <code>'*'</code> and <code>'x'</code>.</p>
</li>
<li>
<p>Starting digit position: specifies the starting (character) position to begin replacing actual values with the masking character. The beginning of the string is position 1. Positions do not include formatting characters.</p>
</li>
<li>
<p>Ending digit position: specifies the ending (character) position to end masking. An example is <code>'VVVFVVFVVVV,VVV-VV-VVVV,X,1,5'</code> for masking the first 5 digits of SSN string <code>123-45-6789</code>, and adding dashes back to format it like an SSN, resulting in <code>XXX-XX-6789</code>.</p>
</li>
</ul>
<p>For number datatypes, a comma-separated list containing these fields:</p>
<ul>
<li>
<p>Mask character: this is a character between <code>'0'</code> to <code>'9'</code> that will be used to replace the actual values.</p>
</li>
<li>
<p>Starting digit position: specifies the starting (digit) position to begin replacing actual values with the masking character. The beginning of the string is position 1. Positions do not include the decimal point.</p>
</li>
<li>
<p>Ending digit position: this specifies the ending digit position to end masking. An example is <code>'9,1,5'</code> for masking the first 5 digits of a Social Security number number <code>123456789</code>, resulting in <code>999996789</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t8" headers="r1c1-t8">&nbsp;</td>
<td class="cellalignment1228" headers="r8c1-t8 r1c2-t8">
<p>For datetime datatypes, the format is a packed string (no spaces or commas) containing the following sequence of fields. Please note that each field can consist of one or more characters, and the field length depends on whether masking is required. The one-character fields are used to specify that no redaction of that component of the datetime value is to take place. The longer fields indicate a specific time or date to use as the redacted value of that component of the datetime value.</p>
<ul>
<li>
<p>Month: <code>'M'</code> (no masking of month) or <code>'m#'</code> (mask month to a specific month, if possible), where <code>#</code> (the month specified by its number) is between <code>1</code> and <code>12</code></p>
</li>
<li>
<p>Day: <code>'D'</code> (no masking of date) or <code>'d#'</code> (mask day to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>31</code></p>
</li>
<li>
<p>Year: <code>'Y'</code> (no masking of year) or <code>'y#'</code> (mask year to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>9999</code></p>
</li>
<li>
<p>Hour: <code>'H'</code> (no masking of hour) or <code>'h#'</code> (mask hour to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>23</code></p>
</li>
<li>
<p>Minute: <code>'M'</code> (no masking of minute) or <code>'m#'</code> (mask minute to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
</li>
<li>
<p>Second: <code>'S'</code> (no masking of second) or <code>'s#'</code> (mask second to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
</li>
</ul>
<p>An example is <code>'m12DYHMS'</code>, which changes <code>01-May-01 01:01:01</code> to <code>01-Dec-01 01:01:01</code></p>
<p>For partial character and number-masking shortcuts, see <a class="olink ASOAG891" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=ASOAG891"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t8" headers="r1c1-t8">
<p><code>expression</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t8 r1c2-t8">
<p>Boolean expression for the table or view, using either the <code>SYS_CONTEXT</code> function or <code>1=1</code>. Redaction takes place only if this policy expression evaluates to <code>TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t8" headers="r1c1-t8">
<p><code>enable</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t8 r1c2-t8">
<p>Boolean value that determines whether the Data Redaction policy is enabled on creation.</p>
<p>The default value is <code>TRUE</code>, which means that the policy is automatically enabled upon creation. If the <code>enable</code> parameter is set to <code>FALSE</code>, the policy takes effect only when it is subsequently enabled by calling the <code>DBMS_REDACT.ENABLE_POLICY</code> procedure.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t8" headers="r1c1-t8">
<p><code>regexp_pattern</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t8 r1c2-t8">
<p>Regular expression pattern up to 512 bytes.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code>. Also, do not specify the <code>function_parameters</code> parameter when <code>function_type</code> is <code>DBMS_REDACT.REGEXP</code>.</p>
<p>See <a class="olink SQLRF51690" href="../../server.112/e41084/functions149.htm#SQLRF51690"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information and examples on using regular expression patterns.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t8" headers="r1c1-t8">
<p><code>regexp_replace_string</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t8 r1c2-t8">
<p>Replacement string (up to 4000 characters in length) with up to 500 back-references to subexpressions in the form <code>\n</code>, where <code>n</code> is a number between 1 and 9.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t8" headers="r1c1-t8">
<p><code>regexp_position</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t8 r1c2-t8">
<p>Integer counting from 1, specifies the position where the search must begin.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t8" headers="r1c1-t8">
<p><code>regexp_occurrence</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t8 r1c2-t8">
<ul>
<li>
<p>Use 0 to replace all occurrences of the match</p>
</li>
<li>
<p>Use positive integer <code><span class="codeinlineitalic">n</span></code> to replace the <code><span class="codeinlineitalic">n</span></code>-th occurence of the match.</p>
</li>
</ul>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t8" headers="r1c1-t8">
<p><code>regexp_match_parameter</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t8 r1c2-t8">
<p>Changes the default matching behavior, possible values are a combination of 'i', 'c', 'n', 'm', 'x'</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
<p>See <a class="olink SQLRF51690" href="../../server.112/e41084/functions149.htm#SQLRF51690"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information and examples on using regular expression match parameters.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t8" headers="r1c1-t8">
<p><code>policy_description</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t8 r1c2-t8">
<p>Description of redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t8" headers="r1c1-t8">
<p><code>column_description</code></p>
</td>
<td class="cellalignment1228" headers="r17c1-t8 r1c2-t8">
<p>Description of the column being redacted</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7149"></a>Exceptions</p>
<ul>
<li>
<p><code>ORA-28060</code> - A Data Redaction policy already exists on this column.</p>
</li>
<li>
<p><code>ORA-28061</code> - This object cannot have a Data Redaction policy defined on it.</p>
</li>
<li>
<p><code>ORA-28062</code> - The policy expression is too long.</p>
</li>
<li>
<p><code>ORA-28063</code> - The policy expression is empty.</p>
</li>
<li>
<p><code>ORA-28064</code> - The type of redaction function is not valid.</p>
</li>
<li>
<p><code>ORA-28066</code> - Invalid column <code><span class="codeinlineitalic">column</span></code></p>
</li>
<li>
<p><code>ORA-28069</code> - A Data Redaction policy already exists on this object.</p>
</li>
<li>
<p><code>ORA-28073</code> - The column <code><span class="codeinlineitalic">column_name</span></code> has an unsupported datatype.</p>
</li>
<li>
<p><code>ORA-28074</code> - The <code>field</code> <code><span class="codeinlineitalic">field_name</span></code> of the masking parameters is not valid</p>
<p>The field can be any of the following:</p>
<ul>
<li>
<p><code>REDACT_PARTIAL_INPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_OUTPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKCHAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKFROM</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKTO</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_MONTH</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_DAY</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_YEAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_HOUR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_MINUTE</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_SECOND</code></p>
</li>
</ul>
<p>See <a href="#CHDJCIJG">Table 111-3</a> and <a href="#CHDDBGFE">Table 111-4</a> for examples of the field contents and field ordering.</p>
</li>
<li>
<p><code>ORA-28075</code> - The policy expression has unsupported functions</p>
</li>
<li>
<p><code>ORA-28076</code> - An attribute was not specified for <code>SYS_SESSION_ROLES</code></p>
</li>
<li>
<p><code>ORA-28077</code> - The attribute specified (<code><span class="codeinlineitalic">attribute</span></code>) exceeds the maximum length</p>
</li>
<li>
<p><code>ORA-28078</code> - A regular expression parameter is missing or invalid</p>
</li>
<li>
<p><code>ORA-28082</code> - The parameter <span class="italic">parameter</span> is invalid (where the possible values are <code>function_parameters</code>, <code>column_description</code> , <code>policy_name</code> and <code>policy_description</code> )</p>
</li>
<li>
<p><code>ORA-28085</code> - The input and output lengths of the redaction do not match.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7150"></a>Usage Notes</p>
<p>See <a href="#CHDHGCCD">Operating Procedures</a> for more information regarding function types and function parameters with related examples.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7151"></a>Example</p>
<p>Partial redaction policy:</p>
<pre>
BEGIN
   DBMS_REDACT.ADD_POLICY(
     object_schema        =&gt; 'hr',
     object_name          =&gt; 'employees',
     column_name          =&gt; 'employee_id',
     policy_name          =&gt; 'mask_emp_id_nums',
     function_type        =&gt; DBMS_REDACT.PARTIAL,
     function_parameters  =&gt; '7,1,5',
     expression           =&gt; '1=1');
END;
</pre>
<p>Full redaction policy:</p>
<pre>
BEGIN
   DBMS_REDACT.ADD_POLICY(
     object_schema        =&gt; 'hr',
     object_name          =&gt; 'employees',
     column_name          =&gt; 'employee_id',
     policy_name          =&gt; 'mask_emp_ids',
     function_type        =&gt; DBMS_REDACT.FULL,
     expression           =&gt; 'SYS_CONTEXT(''SYS_SESSION_ROLES'',''CLERK'') 
                                                                    = ''FALSE''');
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73813" class="refsect2"><a id="CHDBBJHB"></a>
<hr />
<h3 class="refsect2"><a id="sthref7152"></a>ALTER_POLICY Procedure</h3>
<p>This procedure alters an existing Data Redaction policy for a table or view in one or more of the following ways:</p>
<ul>
<li>
<p>By changing the policy expression</p>
</li>
<li>
<p>By changing the type of redaction for a specified column</p>
</li>
<li>
<p>By changing the parameters to the redaction function for a specified column</p>
</li>
<li>
<p>By adding a column to the redaction policy (the redaction type and any parameters must be specified).</p>
</li>
<li>
<p>By removing a column from the redaction policy</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7153"></a>Syntax</p>
<pre>
DBMS_REDACT.ALTER_POLICY (
   object_schema                IN    VARCHAR2 := NULL,
   object_name                  IN    VARCHAR2,
   policy_name                  IN    VARCHAR2,
   action                       IN    BINARY_INTEGER := DBMS_REDACT.ADD_COLUMN,
   column_name                  IN    VARCHAR2 := NULL,
   function_type                IN    BINARY_INTEGER := DBMS_REDACT.FULL,
   function_parameters          IN    VARCHAR2 := NULL,
   expression                   IN    VARCHAR2,
   regexp_pattern               IN    VARCHAR2 := NULL,
   regexp_replace_string        IN    VARCHAR2 := NULL,
   regexp_position              IN    BINARY_INTEGER := 1,
   regexp_occurrence            IN    BINARY_INTEGER := 0,
   regexp_match_parameter       IN    VARCHAR2 := NULL,
   policy_description           IN    VARCHAR2 := NULL,
   column_description           IN    VARCHAR2 := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7154"></a>Parameters</p>
<div id="ARPLS73814" class="tblformal">
<p class="titleintable"><a id="sthref7155"></a><a id="sthref7156"></a>Table 111-7 <span class="bolditalic">ALTER_POLICY Procedure Parameters</span></p>
<table class="cellalignment1229" title="ALTER_POLICY Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.ALTER_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t9">Parameter</th>
<th class="cellalignment1227" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t9" headers="r1c1-t9">
<p><code>object_schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c2-t9">
<p>Schema owning the table, current user if <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t9" headers="r1c1-t9">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t9 r1c2-t9">
<p>Name of table or view to which to alter a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t9" headers="r1c1-t9">
<p><code>policy_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t9 r1c2-t9">
<p>Name of policy limited to 30 bytes</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t9" headers="r1c1-t9">
<p><code>action</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t9 r1c2-t9">
<p>Action to take. For more information see <a href="#CHDCGJGE">Table 111-2, "Values for action Parameter of DBMS_REDACT.ALTER_POLICY"</a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t9" headers="r1c1-t9">
<p><code>column_name</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t9 r1c2-t9">
<p>[Optional] Name of one column to which the redaction policy applies.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t9" headers="r1c1-t9">
<p><code>function_type</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t9 r1c2-t9">
<p>Type of redaction function to use. Possible values are:</p>
<p>- <code>DBMS_REDACT.NONE</code></p>
<p>- <code>DBMS_REDACT.FULL</code> (default)</p>
<p>- <code>DBMS_REDACT.PARTIAL</code></p>
<p>- <code>DBMS_REDACT.RANDOM</code></p>
<p>- <code>DBMS_REDACT.REGEXP</code></p>
<p>If the <code>function_type</code> is <code>DBMS_REDACT.REGEXP,</code> then the <code>function_parameters</code> parameter must be omitted completely, and the <code>regexp_pattern</code>, <code>regexp_replace_string</code>, <code>regexp_position</code>, <code>regexp_occurrence</code>, and <code>regexp_match_parameter</code> must be used to define the Data Redaction policy.</p>
<p>See <a href="#CHDFGGGG">Table 111-1, "Values for function_type Parameter of DBMS_REDACT.ADD_POLICY"</a> for an overview of the meanings of these values, and for some examples of their use.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t9" headers="r1c1-t9">
<p><code>function_parameters</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t9 r1c2-t9">
<p>Parameters to the redaction function. The possible values depend on the value of the <code>function_type</code> provided.</p>
<p>If the <code>function_type</code> is <code>DBMS_REDACT.REGEXP,</code> then the <code>function_parameters</code> parameter must be omitted completely, and the <code>regexp_pattern</code>, <code>regexp_replace_string</code>, <code>regexp_position</code>, <code>regexp_occurrence</code>, and <code>regexp_match_parameter</code> must be used to define the Data Redaction policy.</p>
<p>- If the <code>function_type</code> is <code>DBMS_REDACT.NONE</code>, the <code>function_parameters</code> parameter can be omitted entirely and defaults to <code>NULL</code>.</p>
<p>- If the <code>function_type</code> is <code>DBMS_REDACT.FULL</code>, the <code>function_parameters</code> parameter can be omitted entirely and defaults to <code>NULL</code>.</p>
<p>- If the <code>function_type</code> is <code>DBMS_REDACT.PARTIAL</code>, the <code>function_parameters</code> parameter represents the masking parameters for partial masking.</p>
<ul>
<li>
<p>Input format: <code>'V'</code> for value to be possibly masked, <code>'F'</code> for formatting character to be ignored</p>
</li>
<li>
<p>Output format: <code>'V'</code> for output of masking, any other characters will be treated as formatting characters.</p>
</li>
<li>
<p>Mask character: a character that will be used to replace the actual values. Examples are <code>'*'</code> and <code>'x'</code>.</p>
</li>
<li>
<p>Starting digit position: specifies the starting (character) position to begin replacing actual values with the masking character. The beginning of the string is position 1. Positions do not include formatting characters.</p>
</li>
<li>
<p>Ending digit position: specifies the ending (character) position to end masking. An example is <code>'VVVFVVFVVVV,VVV-VV-VVVV,X,1,5'</code> for masking the first 5 digits of SSN string <code>123-45-6789</code>, and adding dashes back to format it like an SSN, resulting in <code>XXX-XX-6789</code>.</p>
</li>
</ul>
<p>For number datatypes, a comma-separated list containing these fields:</p>
<ul>
<li>
<p>Mask character: this is a character between <code>'0'</code> to <code>'9'</code> that will be used to replace the actual values.</p>
</li>
<li>
<p>Starting digit position: specifies the starting (digit) position to begin replacing actual values with the masking character. The beginning of the string is position 1. Positions do not include the decimal point.</p>
</li>
<li>
<p>Ending digit position: this specifies the ending digit position to end masking. An example is <code>'9,1,5'</code> for masking the first 5 digits of a Social Security number number <code>123456789</code>, resulting in <code>999996789</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t9" headers="r1c1-t9">&nbsp;</td>
<td class="cellalignment1228" headers="r9c1-t9 r1c2-t9">
<p>For datetime datatypes, the format is a packed string (no spaces or commas) containing the following sequence of fields. Please note that each field can consist of one or more characters, and the field length depends on whether masking is required. The one-character fields are used to specify that no redaction of that component of the datetime value is to take place. The longer fields indicate a specific time or date to use as the redacted value of that component of the datetime value.</p>
<ul>
<li>
<p>Month: <code>'M'</code> (no masking of month) or <code>'m#'</code> (mask month to a specific month, if possible), where <code>#</code> (the month specified by its number) is between <code>1</code> and <code>12</code></p>
</li>
<li>
<p>Day: <code>'D'</code> (no masking of date) or <code>'d#'</code> (mask day to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>31</code></p>
</li>
<li>
<p>Year: <code>'Y'</code> (no masking of year) or <code>'y#'</code> (mask year to <code>#</code>, if possible), <code>#</code> between <code>1</code> and <code>9999</code></p>
</li>
<li>
<p>Hour: <code>'H'</code> (no masking of hour) or <code>'h#'</code> (mask hour to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>23</code></p>
</li>
<li>
<p>Minute: <code>'M'</code> (no masking of minute) or <code>'m#'</code> (mask minute to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
</li>
<li>
<p>Second: <code>'S'</code> (no masking of second) or <code>'s#'</code> (mask second to <code>#</code>, if possible), <code>#</code> between <code>0</code> and <code>59</code></p>
</li>
</ul>
<p>An example is <code>'m12DYHMS'</code>, which changes <code>01-May-01 01:01:01</code> to <code>01-Dec-01 01:01:01</code></p>
<p>For partial character and number-masking shortcuts, see <a class="olink ASOAG891" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=ASOAG891"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t9" headers="r1c1-t9">
<p><code>expression</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t9 r1c2-t9">
<p>Boolean expression for the table or view, using either the <code>SYS_CONTEXT</code> function or <code>1=1</code>. Redaction takes place only if this policy expression evaluates to <code>TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t9" headers="r1c1-t9">
<p><code>regexp_pattern</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t9 r1c2-t9">
<p>Regular expression pattern up to 512 bytes.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code>. Also, do not specify the <code>function_parameters</code> parameter when <code>function_type</code> is <code>DBMS_REDACT.REGEXP</code>.</p>
<p>See <a class="olink SQLRF51690" href="../../server.112/e41084/functions149.htm#SQLRF51690"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information and examples on using regular expression patterns</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t9" headers="r1c1-t9">
<p><code>regexp_replace_string</code></p>
</td>
<td class="cellalignment1228" headers="r12c1-t9 r1c2-t9">
<p>Replacement string (up to 4000 characters in length) with up to 500 back-references to subexpressions in the form <code>\n</code>, where <code>n</code> is a number between 1 and 9.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t9" headers="r1c1-t9">
<p><code>regexp_position</code></p>
</td>
<td class="cellalignment1228" headers="r13c1-t9 r1c2-t9">
<p>Integer counting from 1, specifies the position where the search must begin.</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t9" headers="r1c1-t9">
<p><code>regexp_occurrence</code></p>
</td>
<td class="cellalignment1228" headers="r14c1-t9 r1c2-t9">
<ul>
<li>
<p>Use 0 to replace all occurrences of the match</p>
</li>
<li>
<p>Use positive integer <code><span class="codeinlineitalic">n</span></code> to replace the <code><span class="codeinlineitalic">n</span></code>-th occurence of the match.</p>
</li>
</ul>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t9" headers="r1c1-t9">
<p><code>regexp_match_parameter</code></p>
</td>
<td class="cellalignment1228" headers="r15c1-t9 r1c2-t9">
<p>Changes the default matching behavior, possible values are a combination of 'i', 'c', 'n', 'm', 'x'</p>
<p>Use only if the <code>function_type</code> parameter is <code>DBMS_REDACT.REGEXP</code></p>
<p>See <a class="olink SQLRF51690" href="../../server.112/e41084/functions149.htm#SQLRF51690"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information and examples on using regular expression match parameters.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t9" headers="r1c1-t9">
<p><code>policy_description</code></p>
</td>
<td class="cellalignment1228" headers="r16c1-t9 r1c2-t9">
<p>Description of redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t9" headers="r1c1-t9">
<p><code>column_description</code></p>
</td>
<td class="cellalignment1228" headers="r17c1-t9 r1c2-t9">
<p>Description of the column being redacted</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7157"></a>Exceptions</p>
<ul>
<li>
<p><code>ORA-28062</code> - The policy expression is too long.</p>
</li>
<li>
<p><code>ORA-28063</code> - The policy expression is empty.</p>
</li>
<li>
<p><code>ORA-28064</code> - The type of redaction function is not valid.</p>
</li>
<li>
<p><code>ORA-28066</code> - Invalid column <code><span class="codeinlineitalic">column</span></code></p>
</li>
<li>
<p><code>ORA-28067</code> - Missing or invalid column name</p>
</li>
<li>
<p><code>ORA-28068 -</code> The object <code><span class="codeinlineitalic">object</span></code> does not have a Data Redaction policy.</p>
</li>
<li>
<p><code>ORA-28070</code> - The column <code><span class="codeinlineitalic">column</span></code> does not have a Data Redaction policy.</p>
</li>
<li>
<p><code>ORA-28071</code> - The action is not valid.</p>
</li>
<li>
<p><code>ORA-28072</code> - The specified policy name is incorrect.</p>
</li>
<li>
<p><code>ORA-28073</code> - The column <code><span class="codeinlineitalic">column_name</span></code> has an unsupported datatype.</p>
</li>
<li>
<p><code>ORA-28074</code> - The field <code><span class="codeinlineitalic">field_name</span></code> of the masking parameters is not valid</p>
<p>The field can be any of the following:</p>
<ul>
<li>
<p><code>REDACT_PARTIAL_INPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_OUTPUT_FORMAT</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKCHAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKFROM</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_MASKTO</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_MONTH</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_DAY</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_YEAR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_HOUR</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_MINUTE</code></p>
</li>
<li>
<p><code>REDACT_PARTIAL_DATE_SECOND</code></p>
</li>
</ul>
<p>See <a href="#CHDJCIJG">Table 111-3</a> and <a href="#CHDDBGFE">Table 111-4</a> for examples of the field contents and field ordering.</p>
</li>
<li>
<p><code>ORA-28075</code> - The policy expression has unsupported functions.</p>
</li>
<li>
<p><code>ORA-28076</code> - An attribute was not specified for <code>SYS_SESSION_ROLES.</code></p>
</li>
<li>
<p><code>ORA-28077</code> - The attribute specified (<code><span class="codeinlineitalic">attribute</span></code>) exceeds the maximum length.</p>
</li>
<li>
<p><code>ORA-28078</code> - A regular expression parameter is missing or invalid.</p>
</li>
<li>
<p><code>ORA-28082</code> - The parameter <span class="italic">parameter</span> is invalid (where the possible values are <code>function_parameters</code>, <code>column_description,</code> <code>policy_name</code> and <code>policy_description</code> )</p>
</li>
<li>
<p><code>ORA-28085</code> - The input and output lengths of the redaction do not match.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7158"></a>Usage Notes</p>
<p>See <a href="#CHDHGCCD">Operating Procedures</a> for more information regarding Function Types and Function Parameters with related examples.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7159"></a>Examples</p>
<pre>
BEGIN
   DBMS_REDACT.ALTER_POLICY(
     object_schema          =&gt; 'hr',
     object_name            =&gt; 'employees',
     policy_name            =&gt; 'mask_emp_id_nums',
     action                 =&gt; DBMS_REDACT.ADD_COLUMN,
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73815" class="refsect2"><a id="CHDDFHDG"></a>
<hr />
<h3 class="refsect2"><a id="sthref7160"></a>DISABLE_POLICY Procedure</h3>
<p>This procedure disables a Data Redaction policy.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7161"></a>Syntax</p>
<pre>
DBMS_REDACT.DISABLE_POLICY (
   object_schema                IN    VARCHAR2 := NULL,
   object_name                  IN    VARCHAR2,
   policy_name                  IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7162"></a>Parameters</p>
<div id="ARPLS73816" class="tblformal">
<p class="titleintable"><a id="sthref7163"></a><a id="sthref7164"></a>Table 111-8 <span class="bolditalic">DISABLE_POLICY Procedure Parameters</span></p>
<table class="cellalignment1229" title="DISABLE_POLICY Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.DISABLE_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t10">Parameter</th>
<th class="cellalignment1227" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t10" headers="r1c1-t10">
<p><code>object_schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t10 r1c2-t10">
<p>Schema owning the table or view, current user if <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t10" headers="r1c1-t10">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t10 r1c2-t10">
<p>Name of table or view for which to disable a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t10" headers="r1c1-t10">
<p><code>policy_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t10 r1c2-t10">
<p>Name of policy to be disabled</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7165"></a>Exceptions</p>
<ul>
<li>
<p><code>ORA-28068</code> - The object <code><span class="codeinlineitalic">object</span></code> does not have a Data Redaction policy.</p>
</li>
<li>
<p><code>ORA-28072</code> - The specified policy name is incorrect.</p>
</li>
<li>
<p><code>ORA-28080</code> - The policy was already disabled.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7166"></a>Examples</p>
<pre>
BEGIN
   DBMS_REDACT.DISABLE_POLICY (
     object_schema    =&gt; 'hr',
     object_name      =&gt; 'employees',
     policy_name      =&gt; 'mask_emp_ids');
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73817" class="refsect2"><a id="CHDHIEBD"></a>
<hr />
<h3 class="refsect2"><a id="sthref7167"></a>DROP_POLICY Procedure</h3>
<p>This procedure drops a Data Redaction policy by removing a masking policy from the table or view.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7168"></a>Syntax</p>
<pre>
DBMS_REDACT.DROP_POLICY (
   object_schema                IN    VARCHAR2 := NULL,
   object_name                  IN    VARCHAR2,
   policy_name                  IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7169"></a>Parameters</p>
<div id="ARPLS73818" class="tblformal">
<p class="titleintable"><a id="sthref7170"></a><a id="sthref7171"></a>Table 111-9 <span class="bolditalic">DROP_POLICY Procedure Parameters</span></p>
<table class="cellalignment1229" title="DROP_POLICY Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.DROP_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t11">Parameter</th>
<th class="cellalignment1227" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t11" headers="r1c1-t11">
<p><code>object_schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t11 r1c2-t11">
<p>Schema owning the table or view, current user if <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t11" headers="r1c1-t11">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t11 r1c2-t11">
<p>Name of table or view from which to drop a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t11" headers="r1c1-t11">
<p><code>policy_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t11 r1c2-t11">
<p>Name of policy to be dropped</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7172"></a>Exceptions</p>
<ul>
<li>
<p><code>ORA-28068</code> - The object <code><span class="codeinlineitalic">object</span></code> does not have a Data Redaction policy.</p>
</li>
<li>
<p><code>ORA-28072</code> - The specified policy name is incorrect.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7173"></a>Examples</p>
<pre>
BEGIN
   DBMS_REDACT.DROP_POLICY (
      object_schema    =&gt;  'hr',
      object_name      =&gt;  'employees',
      policy_name      =&gt;  'mask_emp_ids');
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73819" class="refsect2"><a id="CHDCHDAE"></a>
<hr />
<h3 class="refsect2"><a id="sthref7174"></a>ENABLE_POLICY Procedure</h3>
<p>This procedure re-enables a Data Redaction policy.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7175"></a>Syntax</p>
<pre>
DBMS_REDACT.ENABLE_POLICY (
   object_schema                IN    VARCHAR2 := NULL,
   object_name                  IN    VARCHAR2,
   policy_name                  IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7176"></a>Parameters</p>
<div id="ARPLS73820" class="tblformal">
<p class="titleintable"><a id="sthref7177"></a><a id="sthref7178"></a>Table 111-10 <span class="bolditalic">ENABLE_POLICY Procedure Parameters</span></p>
<table class="cellalignment1229" title="ENABLE_POLICY Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.DENABLE_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Parameter</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>object_schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>Schema owning the table or view, current user if <code>NULL</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>object_name</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p>Name of table or view to which to enable a Data Redaction policy</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t12" headers="r1c1-t12">
<p><code>policy_name</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t12 r1c2-t12">
<p>Name of policy to be enabled</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7179"></a>Exceptions</p>
<ul>
<li>
<p><code>ORA-28068</code> - The object <code><span class="codeinlineitalic">object</span></code> does not have a Data Redaction policy.</p>
</li>
<li>
<p><code>ORA-28071</code> - The action is not valid.</p>
</li>
<li>
<p><code>ORA-28072</code> - The specified policy name is incorrect.</p>
</li>
<li>
<p><code>ORA-28079</code> - The policy was already enabled.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7180"></a>Examples</p>
<pre>
BEGIN
   DBMS_REDACT.ENABLE_POLICY (
      object_schema    =&gt;  'hr',
      object_name      =&gt;  'employees',
      policy_name      =&gt;  'mask_emp_ids');
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74761" class="refsect2"><a id="CHDCEEGC"></a>
<hr />
<h3 class="refsect2"><a id="sthref7181"></a>UPDATE_FULL_REDACTION_VALUES Procedure</h3>
<p>This procedure modifies the default displayed values for a Data Redaction policy for full redaction.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7182"></a>Syntax</p>
<pre>
DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES (
   number_val       IN NUMBER                    :=  NULL,
   binfloat_val     IN BINARY_FLOAT              :=  NULL,
   bindouble_val    IN BINARY_DOUBLE             :=  NULL,
   char_val         IN CHAR                      :=  NULL,
   varchar_val      IN VARCHAR2                  :=  NULL,
   nchar_val        IN NCHAR                     :=  NULL,
   nvarchar_val     IN NVARCHAR2                 :=  NULL,
   date_val         IN DATE                      :=  NULL,
   ts_val           IN TIMESTAMP                 :=  NULL,
   tswtz_val        IN TIMESTAMP WITH TIME ZONE  :=  NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7183"></a>Parameters</p>
<div id="ARPLS74762" class="tblformal">
<p class="titleintable"><a id="sthref7184"></a><a id="sthref7185"></a>Table 111-11 <span class="bolditalic">UPDATE_FULL_REDACTION_VALUES Procedure Parameters</span></p>
<table class="cellalignment1229" title="UPDATE_FULL_REDACTION_VALUES Procedure Parameters" summary="This table describes the parameters of the DBMS_REDACT.DENABLE_POLICY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t13">Parameter</th>
<th class="cellalignment1227" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t13" headers="r1c1-t13">
<p><code>number_val</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>NUMBER</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t13" headers="r1c1-t13">
<p><code>binfloat_val</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>BINARY_FLOAT</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t13" headers="r1c1-t13">
<p><code>bindouble_val</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>BINARY_DOUBLE</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t13" headers="r1c1-t13">
<p><code>char_val</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>CHAR</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t13" headers="r1c1-t13">
<p><code>varchar_val</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>VARCHAR2</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t13" headers="r1c1-t13">
<p><code>nchar_val</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>NCHAR</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t13" headers="r1c1-t13">
<p><code>nvarchar_val</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>NVARCHAR2</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t13" headers="r1c1-t13">
<p><code>date</code></p>
</td>
<td class="cellalignment1228" headers="r9c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>DATE</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t13" headers="r1c1-t13">
<p><code>ts_val</code></p>
</td>
<td class="cellalignment1228" headers="r10c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>TIMESTAMP</code> datatype</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t13" headers="r1c1-t13">
<p><code>tswtz_val</code></p>
</td>
<td class="cellalignment1228" headers="r11c1-t13 r1c2-t13">
<p>Modifies the default value for columns of the <code>TIMESTAMP WITH TIME ZONE</code> datatype</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7186"></a>Exceptions</p>
<p><code>ORA-28082</code> - The parameter <span class="italic">parameter</span> is invalid (where the possible values are <code>char_val</code>, <code>nchar_val</code>, <code>varchar_val</code> and <code>nvarchar_val</code>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7187"></a>Usage Note</p>
<p>LOB data types are supported for Oracle Database 11 Release 2 (11.2.0.4) by means of an update script. For more information see <a class="olink ASOAG10520" href="../../network.112/e40393/redaction_config.htm#ASOAG10520">"Altering the Default Full Data Redaction Value for LOB Data Type Columns"</a> in <a class="olink ASOAG945" href="../../network.112/e40393/redaction_config.htm#ASOAG945"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_redefi.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_refrsh.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
