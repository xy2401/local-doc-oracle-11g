<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_SHARED_POOL</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:30Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_sessio.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_space.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">137/265</span> <!-- End Header -->
<div id="ARPLS055" class="chapter"><a id="sthref8778"></a>
<h1 class="chapter"><span class="secnum">133</span> DBMS_SHARED_POOL</h1>
<p>The <code><a id="sthref8779"></a>DBMS_SHARED_POOL</code> package provides access to the shared pool, which is the shared memory area where cursors and PL/SQL objects are stored. <code>DBMS_SHARED_POOL</code> enables you to display the sizes of objects in the shared pool, and mark them for keeping or not-keeping in order to reduce memory fragmentation.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BHBEFDHF">Using DBMS_SHARED_POOL</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i996754">Summary of DBMS_SHARED_POOL Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BHBEFDHF"></a>
<hr />
<div id="ARPLS68076" class="refsect1">
<h2 class="refsect1">Using DBMS_SHARED_POOL</h2>
<ul>
<li>
<p><a href="#i998959">Overview</a></p>
</li>
<li>
<p><a href="#i999009">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS68077" class="refsect2"><a id="i998959"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>The procedures provided here may be useful when loading large PL/SQL objects. When large PL/SQL objects are loaded, users response time is affected because of the large number of smaller objects that need to be aged out from the shared pool to make room (due to memory fragmentation). In some cases, there may be insufficient memory to load the large objects.</p>
<p><code>DBMS_SHARED_POOL</code> is also useful for frequently executed triggers. You may want to keep compiled triggers on frequently used tables in the shared pool.</p>
<p>Additionally, <code>DBMS_SHARED_POOL</code> supports sequences. Sequence numbers are lost when a sequence is aged out of the shared pool. <code>DBMS_SHARED_POOL</code> is useful for keeping sequences in the shared pool and thus preventing the loss of sequence numbers.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS68078" class="refsect2"><a id="i999009"></a>
<hr />
<h3 class="refsect2">Operational Notes</h3>
<p>To create <code>DBMS_SHARED_POOL</code>, run the <code>DBMSPOOL</code>.<code>SQL</code> script. The <code>PRVTPOOL</code>.<code>PLB</code> script is automatically executed after <code>DBMSPOOL</code>.<code>SQL</code> runs. These scripts are <span class="italic">not</span> run by as part of standard database creation.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i996754"></a>
<hr />
<div id="ARPLS68079" class="refsect1">
<h2 class="refsect1">Summary of DBMS_SHARED_POOL Subprograms</h2>
<div id="ARPLS68080" class="tblformal">
<p class="titleintable"><a id="sthref8780"></a><a id="sthref8781"></a>Table 133-1 <span class="bolditalic">DBMS_SHARED_POOL Package Subprograms</span></p>
<table class="cellalignment1229" title="DBMS_SHARED_POOL Package Subprograms" summary="This table lists the DBMS_SHARED_POOL subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t2">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#i999181">ABORTED_REQUEST_THRESHOLD Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t2 r1c2-t2">
<p>Sets the aborted request threshold for the shared pool</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#i999221">KEEP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t2 r1c2-t2">
<p>Keeps an object in the shared pool</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#CIHEACGD">MARKHOT Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t2 r1c2-t2">
<p>Marks a library cache object as a hot object</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#CHDCBEBB">PURGE Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t2 r1c2-t2">
<p>Purges the named object or specified heap(s) of the object</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#BHBFDAEA">SIZES Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t2 r1c2-t2">
<p>Shows objects in the shared pool that are larger than the specified size</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t2" headers="r1c1-t2">
<p><a href="#i996877">UNKEEP Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t2 r1c2-t2">
<p>Unkeeps the named object</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t2" headers="r1c1-t2">
<p><a href="#CIHGEFJC">UNMARKHOT Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t2 r1c2-t2">
<p>Unmarks a library cache object as a hot object</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS68081" class="refsect2"><a id="i999181"></a>
<hr />
<h3 class="refsect2"><a id="sthref8782"></a>ABORTED_REQUEST_THRESHOLD Procedure</h3>
<p>This procedure sets the aborted request threshold for the shared pool.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8783"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.ABORTED_REQUEST_THRESHOLD (
   threshold_size NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8784"></a>Parameters</p>
<div id="ARPLS68082" class="tblformal">
<p class="titleintable"><a id="sthref8785"></a><a id="sthref8786"></a>Table 133-2 ABORTED_REQUEST_THRESHOLD Procedure Parameters</p>
<table class="cellalignment1229" title="ABORTED_REQUEST_THRESHOLD Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.ABORTED_REQUEST_THRESHOLD subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Parameter</th>
<th class="cellalignment1227" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><code>threshold_size</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p>Size, in bytes, of a request which does not try to free unpinned (not "unkeep-ed") memory within the shared pool. The range of <code>threshold_size</code> is 5000 to ~2 GB inclusive.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8787"></a>Exceptions</p>
<p>An exception is raised if the threshold is not in the valid range.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8788"></a>Usage Notes</p>
<p>Usually, if a request cannot be satisfied on the free list, then the RDBMS tries to reclaim memory by freeing objects from the LRU list and checking periodically to see if the request can be fulfilled. After finishing this step, the RDBMS has performed a near equivalent of an '<code>ALTER</code> <code>SYSTEM</code> <code>FLUSH</code> <code>SHARED_POOL</code>'.</p>
<p>Because this impacts all users on the system, this procedure "localizes" the impact to the process failing to find a piece of shared pool memory of size greater than <code>thresh_hold</code> size. This user gets the 'out of memory' error without attempting to search the LRU list.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68083" class="refsect2"><a id="i999221"></a>
<hr />
<h3 class="refsect2"><a id="sthref8789"></a>KEEP Procedure</h3>
<p>This procedure keeps an object in the shared pool. Once an object has been kept in the shared pool, it is not subject to aging out of the pool. This may be useful for frequently used large objects. When large objects are brought into the shared pool, several objects may need to be aged out to create a contiguous area large enough.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8790"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.KEEP (
   name VARCHAR2, 
   flag CHAR      DEFAULT 'P');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8791"></a>Parameters</p>
<div id="ARPLS68084" class="tblformal">
<p class="titleintable"><a id="sthref8792"></a><a id="sthref8793"></a>Table 133-3 KEEP Procedure Parameters</p>
<table class="cellalignment1229" title="KEEP Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.KEEP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Parameter</th>
<th class="cellalignment1227" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p>Name of the object to keep.</p>
<p>The value for this identifier is the concatenation of the address and <code>hash_value</code> columns from the <code>v$sqlarea</code> view. This is displayed by the <code>SIZES</code> procedure.</p>
<p>Currently, <code>TABLE</code> and <code>VIEW</code> objects may not be kept.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t4" headers="r1c1-t4">
<p><code>flag</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t4 r1c2-t4">
<p>(Optional) If this is not specified, then the package assumes that the first parameter is the name of a package/procedure/function and resolves the name.</p>
<p>Set to <code>'P'</code> or <code>'p'</code> to fully specify that the input is the name of a package/procedure/function.</p>
<p>Set to <code>'T'</code> or <code>'t'</code> to specify that the input is the name of a type.</p>
<p>Set to <code>'R'</code> or <code>'r'</code> to specify that the input is the name of a trigger.</p>
<p>Set to <code>'Q'</code> or <code>'q'</code> to specify that the input is the name of a sequence.</p>
<p>In case the first argument is a cursor address and hash-value, the parameter should be set to any character except <code>'P'</code> or <code>'p'</code> or <code>'Q'</code> or <code>'q'</code> or <code>'R'</code> or <code>'r'</code> or <code>'T'</code> or <code>'t'</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8794"></a>Exceptions</p>
<p>An exception is raised if the named object cannot be found.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8795"></a>Usage Notes</p>
<p>There are two kinds of objects:</p>
<ul>
<li>
<p>PL/SQL objects, triggers, sequences, and types which are specified by name</p>
</li>
<li>
<p>SQL cursor objects which are specified by a two-part number (indicating a location in the shared pool).</p>
</li>
</ul>
<p>For example:</p>
<pre>
DBMS_SHARED_POOL.KEEP('scott.hispackage') 
</pre>
<p>This keeps package <code>HISPACKAGE</code>, owned by <code>SCOTT</code>. The names for PL/SQL objects follow SQL rules for naming objects (for example, delimited identifiers and multibyte names are allowed). A cursor can be kept by <code>DBMS_SHARED_POOL</code>.<code>KEEP('0034CDFF, 20348871','C')</code>, <code>0034CDFF</code> being the <code>ADDRESS</code> and <code>20348871</code> the <code>HASH_VALUE</code>. Note that the complete hexadecimal address must be in the first 8 characters.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73476" class="refsect2"><a id="CIHEACGD"></a>
<hr />
<h3 class="refsect2"><a id="sthref8796"></a>MARKHOT Procedure</h3>
<p>This procedure marks a library cache object as a hot object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8797"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.MARKHOT (
   schema         VARCHAR2, 
   objname        VARCHAR2,
   namespace      NUMBER DEFAULT 1,   global         BOOLEAN DEFAULT TRUE);

DBMS_SHARED_POOL.MARKHOT (
   hash          VARCHAR2, 
   namespace     NUMBER DEFAULT 1,
   global        BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8798"></a>Parameters</p>
<div id="ARPLS73477" class="tblformal">
<p class="titleintable"><a id="sthref8799"></a><a id="sthref8800"></a>Table 133-4 MARKHOT Procedure Parameters</p>
<table class="cellalignment1229" title="MARKHOT Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.MARKHOTsubprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Parameter</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>User name or the schema to which the object belongs</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><code>objname</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t5" headers="r1c1-t5">
<p><code>namespace</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t5 r1c2-t5">
<p>Number indicating the library cache namespace in which the object is to be searched. Views such as <code>USER_OBJECTS</code> and <code>DBA_OBJECTS</code> reflect the namespace as a number column, as do most dictionary tables such as <code>obj$</code>.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t5" headers="r1c1-t5">
<p><code>global</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t5 r1c2-t5">
<p>If <code>TRUE</code> (default), mark the object hot on all OracleRAC instances</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t5" headers="r1c1-t5">
<p><code>hash</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t5 r1c2-t5">
<p>16-byte hash value for the object</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8801"></a>Exceptions</p>
<p><code>ORA-06502</code>: An exception is raised if the named object cannot be found due to incorrect input</p>
<p><code>ORA-04043</code>: An exception is raised if the named object cannot be found (bad namespace, or hash input)</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68085" class="refsect2"><a id="CHDCBEBB"></a>
<hr />
<h3 class="refsect2"><a id="sthref8802"></a>PURGE Procedure</h3>
<p>This procedure purges the named object or specified heap(s) of the object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8803"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.PURGE (
   name         VARCHAR2, 
   flag         CHAR DEFAULT 'P', 
   heaps        NUMBER DEFAULT 1);

DBMS_SHARED_POOL.PURGE (
   schema       VARCHAR2,
   objname      VARCHAR2,
   namespace    NUMBER,
   heaps        NUMBER);
 
DBMS_SHARED_POOL.PURGE (
   hash         VARCHAR2,
   namespace    NUMBER,
   heaps        NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8804"></a>Parameters</p>
<div id="ARPLS68086" class="tblformal">
<p class="titleintable"><a id="sthref8805"></a><a id="sthref8806"></a>Table 133-5 PURGE Procedure Parameters</p>
<table class="cellalignment1229" title="PURGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.KEEP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>Name of the object to purge.</p>
<p>The value for this identifier is the concatenation of the address and <code>hash_value</code> columns from the <code>v$sqlarea</code> view. This is displayed by the <code>SIZES</code> procedure.</p>
<p>Currently, <code>TABLE</code> and <code>VIEW</code> objects may not be purged.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t6" headers="r1c1-t6">
<p><code>flag</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t6 r1c2-t6">
<p>(Optional) If this is not specified, then the package assumes that the first parameter is the name of a package/procedure/function and resolves the name.</p>
<p>Set to 'P' or 'p' to fully specify that the input is the name of a package/procedure/function.</p>
<p>Set to 'T' or 't' to specify that the input is the name of a type.</p>
<p>Set to 'R' or 'r' to specify that the input is the name of a trigger.</p>
<p>Set to 'Q' or 'q' to specify that the input is the name of a sequence.</p>
<p>In case the first argument is a cursor address and hash-value, the parameter should be set to any character except 'P' or 'p' or 'Q' or 'q' or 'R' or 'r' or 'T' or 't'.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t6" headers="r1c1-t6">
<p><code>heaps</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t6 r1c2-t6">
<p>Heaps to be purged. For example, if heap 0 and heap 6 are to be purged:</p>
<p>1&lt;&lt;0 | 1&lt;&lt;6 =&gt; hex 0x41 =&gt; decimal 65, so specify heaps =&gt;65.Default is 1, that is, heap 0 which means the whole object would be purged</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t6" headers="r1c1-t6">
<p><code>schema</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t6 r1c2-t6">
<p>User name or the schema to which the object belongs</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t6" headers="r1c1-t6">
<p><code>objname</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t6 r1c2-t6">
<p>Name of the object to purge</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t6" headers="r1c1-t6">
<p><code>namespace</code></p>
</td>
<td class="cellalignment1228" headers="r7c1-t6 r1c2-t6">
<p>Parameter is a number indicating the library cache namespace in which the object is to be searched</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t6" headers="r1c1-t6">
<p><code>hash</code></p>
</td>
<td class="cellalignment1228" headers="r8c1-t6 r1c2-t6">
<p>16-byte hash value for the object</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8807"></a>Exceptions</p>
<p><code>ORA-6570</code>: An exception is raised if the named object cannot be found</p>
<p><code>ORA-6570</code>: An object cannot be purged it marked as permanently kept</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8808"></a>Usage Notes</p>
<p>All objects supported by the <a href="#i999221">KEEP Procedure</a> are supported for <code>PURGE</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68087" class="refsect2"><a id="BHBFDAEA"></a>
<hr />
<h3 class="refsect2"><a id="sthref8809"></a>SIZES Procedure</h3>
<p>This procedure shows objects in the <code>shared_pool</code> that are larger than the specified size. The name of the object is also given, which can be used as an argument to either the <code>KEEP</code> or <code>UNKEEP</code> calls.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8810"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.SIZES ( 
   minsize NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8811"></a>Parameters</p>
<div id="ARPLS68088" class="tblformal">
<p class="titleintable"><a id="sthref8812"></a><a id="sthref8813"></a>Table 133-6 SIZES Procedure Parameters</p>
<table class="cellalignment1229" title="SIZES Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.SIZES subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t7">Parameter</th>
<th class="cellalignment1227" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t7" headers="r1c1-t7">
<p><code>minsize</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t7 r1c2-t7">
<p>Size, in kilobytes, over which an object must be occupying in the shared pool, in order for it to be displayed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8814"></a>Usage Notes</p>
<p>Issue the SQLDBA or SQLPLUS <code>'SET</code> <code>SERVEROUTPUT</code> <code>ON</code> <code>SIZE</code> <code>XXXXX'</code> command prior to using this procedure so that the results are displayed.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68089" class="refsect2"><a id="i996877"></a>
<hr />
<h3 class="refsect2"><a id="sthref8815"></a>UNKEEP Procedure</h3>
<p>This procedure unkeeps the named object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8816"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.UNKEEP (
   name VARCHAR2, 
   flag CHAR     DEFAULT 'P');
</pre>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">This procedure may not be supported in the future if automatic mechanisms are implemented to make this unnecessary.</p>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8817"></a>Parameters</p>
<div id="ARPLS68090" class="tblformal">
<p class="titleintable"><a id="sthref8818"></a><a id="sthref8819"></a>Table 133-7 UNKEEP Procedure Parameters</p>
<table class="cellalignment1229" title="UNKEEP Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.UNKEEP subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t9">Parameter</th>
<th class="cellalignment1227" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t9" headers="r1c1-t9">
<p><code>name</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c2-t9">
<p>Name of the object to unkeep. See description of the <code>name</code> object for the <code>KEEP</code> procedure.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t9" headers="r1c1-t9">
<p><code>flag</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t9 r1c2-t9">
<p>See description of the flag parameter for the <code>KEEP</code> procedure.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8820"></a>Exceptions</p>
<p>An exception is raised if the named object cannot be found.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73478" class="refsect2"><a id="CIHGEFJC"></a>
<hr />
<h3 class="refsect2"><a id="sthref8821"></a>UNMARKHOT Procedure</h3>
<p>This procedure unmarks a library cache object as a hot object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8822"></a>Syntax</p>
<pre>
DBMS_SHARED_POOL.UNMARKHOT (
   schema         VARCHAR2, 
   objname        VARCHAR2,
   namespace      NUMBER DEFAULT 1,   global         BOOLEAN DEFAULT TRUE);

DBMS_SHARED_POOL.UNMARKHOT (
   hash          VARCHAR2, 
   namespace     NUMBER DEFAULT 1,
   global        BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8823"></a>Parameters</p>
<div id="ARPLS73479" class="tblformal">
<p class="titleintable"><a id="sthref8824"></a><a id="sthref8825"></a>Table 133-8 UNMARKHOT Procedure Parameters</p>
<table class="cellalignment1229" title="UNMARKHOT Procedure Parameters" summary="This table describes Parameters used by the DBMS_SHARED_POOL.MARKHOTsubprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t10">Parameter</th>
<th class="cellalignment1227" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t10" headers="r1c1-t10">
<p><code>schema</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t10 r1c2-t10">
<p>User name or the schema to which the object belongs</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t10" headers="r1c1-t10">
<p><code>objname</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t10 r1c2-t10">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t10" headers="r1c1-t10">
<p><code>namespace</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t10 r1c2-t10">
<p>Number indicating the library cache namespace in which the object is to be searched</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t10" headers="r1c1-t10">
<p><code>global</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t10 r1c2-t10">
<p>If <code>TRUE</code> (default), unmark the object hot on all Oracle RAC instances</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t10" headers="r1c1-t10">
<p><code>hash</code></p>
</td>
<td class="cellalignment1228" headers="r6c1-t10 r1c2-t10">
<p>16-byte hash value for the object</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8826"></a>Exceptions</p>
<p><code>ORA-06502</code>: An exception is raised if the named object cannot be found due to incorrect input</p>
<p><code>ORA-04043</code>: An exception is raised if the named object cannot be found (bad namespace, or hash input, or non-existent object)</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_sessio.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_space.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
