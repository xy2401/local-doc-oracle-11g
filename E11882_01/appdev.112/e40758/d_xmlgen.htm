<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_XMLGEN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:55:55Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="d_xmldom.htm" title="Previous" type="text/html" />
<link rel="Next" href="d_xmlindex.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">176/265</span> <!-- End Header -->
<div id="ARPLS374" class="chapter"><a id="i1012053"></a>
<h1 class="chapter"><span class="secnum">172</span> <a id="sthref14148"></a><a id="sthref14149"></a>DBMS_XMLGEN</h1>
<p>The <code>DBMS_XMLGEN</code> package converts the results of a SQL query to a canonical XML format. The package takes an arbitrary SQL query as input, converts it to XML format, and returns the result as a <code>CLOB</code>. This package is similar to the <code>DBMS_XMLQUERY</code> package, except that it is written in C and compiled into the kernel. This package can only be run on the database.</p>
<p>This chapter contains the following topic:</p>
<ul>
<li>
<p><a href="#CHDHEDHI">Using DBMS_XMLGEN</a></p>
</li>
<li>
<p><a href="#CHEJCICB">Summary of DBMS_XMLGEN Subprograms</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a class="olink ADXDB" href="../e23094/toc.htm"><span class="italic">Oracle XML DB Developer's Guide, f</span></a>or more information on XML support and on examples of using <code>DBMS_XMLGEN</code></div>
<div class="refentry"><a id="CHDHEDHI"></a>
<hr />
<div id="ARPLS73529" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_XMLGEN</h2>
<ul>
<li>
<p><a href="#CHDGCCIJ">Security Model</a></p>
</li>
</ul>
<div id="ARPLS73530" class="refsect2"><a id="CHDGCCIJ"></a>
<hr />
<h3 class="refsect2">Security Model</h3>
<p>Owned by <code>XDB</code>, the <code>DBMS_XMLGEN</code> package must be created by <code>SYS</code> or <code>XDB</code>. The <code>EXECUTE</code> privilege is granted to <code>PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHEJCICB"></a>
<hr />
<div id="ARPLS69848" class="refsect1">
<h2 class="refsect1">Summary of DBMS_XMLGEN Subprograms</h2>
<div id="ARPLS69849" class="tblformal">
<p class="titleintable"><a id="sthref14150"></a><a id="sthref14151"></a>Table 172-1 Summary of DBMS_XMLGEN Package Subprograms</p>
<table class="cellalignment1229" title="Summary of DBMS_XMLGEN Package Subprograms" summary="This table lists the DBMS_XMLGEN subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#i1014938">CLOSECONTEXT Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p>Closes the context and releases all resources</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#i1013100">CONVERT Functions</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p>Converts the XML into the escaped or unescaped XML equivalent</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#i1013173">GETNUMROWSPROCESSED Function</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>Gets the number of SQL rows that were processed in the last call to <a href="#i1013206">GETXML Functions</a></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#i1013206">GETXML Functions</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c2-t3">
<p>Gets the XML document</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#i1015152">GETXMLTYPE Functions</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c2-t3">
<p>Gets the XML document and returns it as <code>XMLType</code></p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#CHEDFHIG">NEWCONTEXT Functions</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c2-t3">
<p>Creates a new context handle</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#CHDEJFCE">NEWCONTEXTFROMHIERARCHY Function</a></p>
</td>
<td class="cellalignment1228" headers="r8c1-t3 r1c2-t3">
<p>Obtains a handle to use in the <a href="#i1013206">GETXML Functions</a> and other functions to get a hierarchical XML with recursive elements from the result</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r9c1-t3" headers="r1c1-t3">
<p><a href="#i1013303">RESTARTQUERY Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r9c1-t3 r1c2-t3">
<p>Restarts the query to start fetching from the beginning</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r10c1-t3" headers="r1c1-t3">
<p><a href="#i1013328">SETCONVERTSPECIALCHARS Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r10c1-t3 r1c2-t3">
<p>Sets whether special characters such as <code>$,</code> which are non-XML characters, should be converted or not to their escaped representation</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r11c1-t3" headers="r1c1-t3">
<p><a href="#i1013360">SETMAXROWS Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r11c1-t3 r1c2-t3">
<p>Sets the maximum number of rows to be fetched each time</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r12c1-t3" headers="r1c1-t3">
<p><a href="#i1014818">SETNULLHANDLING Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r12c1-t3 r1c2-t3">
<p>Sets <code>NULL</code> handling options</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r13c1-t3" headers="r1c1-t3">
<p><a href="#i1013393">SETROWSETTAG Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r13c1-t3 r1c2-t3">
<p>Sets the name of the element enclosing the entire result</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r14c1-t3" headers="r1c1-t3">
<p><a href="#i1015722">SETROWTAG Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r14c1-t3 r1c2-t3">
<p>Sets the name of the element enclosing each row of the result</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r15c1-t3" headers="r1c1-t3">
<p><a href="#i1010859">SETSKIPROWS Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r15c1-t3 r1c2-t3">
<p>Sets the number of rows to skip every time before generating the XML.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r16c1-t3" headers="r1c1-t3">
<p><a href="#i1010963">USEITEMTAGSFORCOLL Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r16c1-t3 r1c2-t3">
<p>Forces the use of the collection column name appended with the tag <code>_ITEM</code> for collection elements</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r17c1-t3" headers="r1c1-t3">
<p><a href="#i1013950">USENULLATTRIBUTEINDICATOR Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r17c1-t3 r1c2-t3">
<p>Specified whether to use an XML attribute to indicate <code>NULL</code>ness, or to do it by omitting the inclusion of the particular entity in the XML document.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS69850" class="refsect2"><a id="i1014938"></a>
<hr />
<h3 class="refsect2"><a id="sthref14152"></a><a id="sthref14153"></a>CLOSECONTEXT Procedure</h3>
<p>This procedure closes a given context and releases all resources associated with it, including the SQL cursor and bind and define buffers. After this call, the handle cannot be used for a subsequent function call.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14154"></a>Syntax</p>
<pre>
DBMS_XMLGEN.CLOSECONTEXT (
   ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14155"></a>Parameters</p>
<div id="ARPLS69851" class="tblformal">
<p class="titleintable"><a id="sthref14156"></a><a id="sthref14157"></a>Table 172-2 CLOSECONTEXT Procedure Parameters</p>
<table class="cellalignment1229" title="CLOSECONTEXT Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.CLOSECONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Parameter</th>
<th class="cellalignment1227" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p>The context handle to close.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69852" class="refsect2"><a id="i1013100"></a>
<hr />
<h3 class="refsect2"><a id="sthref14158"></a><a id="sthref14159"></a>CONVERT Functions</h3>
<p>This function converts the XML data into the escaped or unescapes XML equivalent, and returns XML <code>CLOB</code> data in encoded or decoded format. There are several version of the function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14160"></a>Syntax</p>
<p>Uses <code>XMLDATA</code> in string form (<code>VARCHAR2</code>):</p>
<pre>
DBMS_XMLGEN.CONVERT (
   xmlData IN VARCHAR2,
   flag    IN NUMBER := ENTITY_ENCODE)
RETURN VARCHAR2;
</pre>
<p>Uses <code>XMLDATA</code> in <code>CLOB</code> form:</p>
<pre>
DBMS_XMLGEN.CONVERT (
   xmlData IN CLOB,
   flag    IN NUMBER := ENTITY_ENCODE)
 RETURN CLOB;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14161"></a>Parameters</p>
<div id="ARPLS69853" class="tblformal">
<p class="titleintable"><a id="sthref14162"></a><a id="sthref14163"></a>Table 172-3 CONVERT Function Parameters</p>
<table class="cellalignment1229" title="CONVERT Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.CONVERT subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Parameter</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>xmlData</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>The XML <code>CLOB</code> data to be encoded or decoded.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t5" headers="r1c1-t5">
<p><code>flag</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t5 r1c2-t5">
<p>The flag setting; <code>ENTITY_ENCODE</code> (default) for encode, and <code>ENTITY_DECODE</code> for decode.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14164"></a>Usage Notes</p>
<p>This function escapes the XML data if the <code>ENTITY_ENCODE</code> is specified. For example, the escaped form of the character <code>&lt;</code> is <code>&amp;lt;</code>. Unescaping is the reverse transformation.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69854" class="refsect2"><a id="i1013173"></a>
<hr />
<h3 class="refsect2"><a id="sthref14165"></a><a id="sthref14166"></a>GETNUMROWSPROCESSED Function</h3>
<p>This function retrieves the number of SQL rows processed when generating the XML using the <a href="#i1013206">GETXML Functions</a> call. This count does not include the number of rows skipped before generating the XML. Note that <a href="#i1013206">GETXML Functions</a> always generates an XML document, even if there are no rows present.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14167"></a>Syntax</p>
<pre>
DBMS_XMLGEN.GETNUMROWSPROCESSED (
   ctx     IN    ctxHandle)
RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14168"></a>Parameters</p>
<div id="ARPLS69855" class="tblformal">
<p class="titleintable"><a id="sthref14169"></a><a id="sthref14170"></a>Table 172-4 GETNUMROWSPROCESSED Function Parameters</p>
<table class="cellalignment1229" title="GETNUMROWSPROCESSED Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETNUMROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t6">Parameter</th>
<th class="cellalignment1227" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t6" headers="r1c1-t6">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t6 r1c2-t6">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14171"></a>Usage Notes</p>
<p>This function is used to determine the terminating condition if calling <a href="#i1013206">GETXML Functions</a> in a loop.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69856" class="refsect2"><a id="i1013206"></a>
<hr />
<h3 class="refsect2"><a id="sthref14172"></a><a id="sthref14173"></a>GETXML Functions</h3>
<p>This function gets the XML document. The function is overloaded.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14174"></a>Syntax</p>
<p>Gets the XML document by fetching the maximum number of rows specified. It appends the XML document to the <code>CLOB</code> passed in. Use this version of <a href="#i1013206">GETXML Functions</a> to avoid any extra <code>CLOB</code> copies and to reuse the same <code>CLOB</code> for subsequent calls. Because of the <code>CLOB</code> reuse, this <a href="#i1013206">GETXML Functions</a>call is potentially more efficient:</p>
<pre>
DBMS_XMLGEN.GETXML (
   ctx          IN ctxHandle, 
   tmpclob      IN OUT NCOPY CLOB,
   dtdOrSchema  IN number := NONE)
 RETURN BOOLEAN;
</pre>
<p>Generates the XML document and returns it as a temporary <code>CLOB</code>. The temporary <code>CLOB</code> obtained from this function must be freed using the <code>DBMS_LOB.FREETEMPORARY</code> call:</p>
<pre>
DBMS_XMLGEN.GETXML (
   ctx          IN ctxHandle,
   dtdOrSchema  IN number := NONE)
 RETURN CLOB;
</pre>
<p>Converts the results from the SQL query string to XML format, and returns the XML as a temporary <code>CLOB</code>, which must be subsequently freed using the <code>DBMS_LOB.FREETEMPORARY</code> call:</p>
<pre>
DBMS_XMLGEN.GETXML (
   sqlQuery     IN VARCHAR2,
   dtdOrSchema  IN number := NONE)
 RETURN CLOB;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14175"></a>Parameters</p>
<div id="ARPLS69857" class="tblformal">
<p class="titleintable"><a id="sthref14176"></a><a id="sthref14177"></a>Table 172-5 GETXML Function Parameters</p>
<table class="cellalignment1229" title="GETXML Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETRXML subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t7">Parameter</th>
<th class="cellalignment1227" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t7" headers="r1c1-t7">
<pre>
ctx
</pre></td>
<td class="cellalignment1228" headers="r2c1-t7 r1c2-t7">
<p>The context handle obtained from the <code>newContext</code> call.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t7" headers="r1c1-t7">
<pre>
tmpclob
</pre></td>
<td class="cellalignment1228" headers="r3c1-t7 r1c2-t7">
<p>The <code>CLOB</code> to which the XML document is appended.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t7" headers="r1c1-t7">
<p><code>sqlQuery</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t7 r1c2-t7">
<p>The SQL query string.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t7" headers="r1c1-t7">
<p><code>dtdOrSchema</code></p>
</td>
<td class="cellalignment1228" headers="r5c1-t7 r1c2-t7">
<p>Generate a DTD or a schema? Only <code>NONE</code> is supported.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14178"></a>Usage Notes</p>
<p>When the rows indicated by the <a href="#i1010859">SETSKIPROWS Procedure</a> call are skipped, the maximum number of rows as specified by the <a href="#i1013360">SETMAXROWS Procedure</a> call (or the entire result if not specified) is fetched and converted to XML. Use the <a href="#i1013173">GETNUMROWSPROCESSED Function</a> to check if any rows were retrieved.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69858" class="refsect2"><a id="i1015152"></a>
<hr />
<h3 class="refsect2"><a id="sthref14179"></a><a id="sthref14180"></a>GETXMLTYPE Functions</h3>
<p>This function gets the XML document and returns it as an <code>XMLTYPE</code>. <code>XMLTYPE</code> operations can be performed on the results.This function is overloaded.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14181"></a>Syntax</p>
<p>Generates the XML document and returns it as a <code>sys.XMLType:</code></p>
<pre>
DBMS_XMLGEN.GETXMLTYPE (
   ctx           IN ctxhandle,
   dtdOrSchema   IN number := NONE)
 RETURN sys.XMLType;
</pre>
<p>Converts the results from the SQL query string to XML format, and returns the XML as a <code>sys.XMLType</code>:</p>
<pre>
DBMS_XMLGEN.GETXMLTYPE (
   sqlQuery     IN VARCHAR2,
   dtdOrSchema  IN number := NONE)
 RETURN sys.XMLType
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14182"></a>Parameters</p>
<div id="ARPLS69859" class="tblformal">
<p class="titleintable"><a id="sthref14183"></a><a id="sthref14184"></a>Table 172-6 GETXMLTYPE Function Parameters</p>
<table class="cellalignment1229" title="GETXMLTYPE Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETXMLTYPE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t8">Parameter</th>
<th class="cellalignment1227" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t8" headers="r1c1-t8">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t8 r1c2-t8">
<p>The context handle obtained from the <code>newContext</code> call.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t8" headers="r1c1-t8">
<p><code>sqlQuery</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t8 r1c2-t8">
<p>The SQL query string.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t8" headers="r1c1-t8">
<p><code>dtdOrSchema</code></p>
</td>
<td class="cellalignment1228" headers="r4c1-t8 r1c2-t8">
<p>Generate a DTD or a schema? Only <code>NONE</code> is supported.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69860" class="refsect2"><a id="CHEDFHIG"></a>
<hr />
<h3 class="refsect2"><a id="sthref14185"></a><a id="sthref14186"></a>NEWCONTEXT Functions</h3>
<p>This function generates and returns a new context handle. This context handle is used in <a href="#i1013206">GETXML Functions</a> and other functions to get XML back from the result. There are several version of the function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14187"></a>Syntax</p>
<p>Generates a new context handle from a query:</p>
<pre>
DBMS_XMLGEN.NEWCONTEXT ( 
      query     IN VARCHAR2) 
 RETURN ctxHandle;
</pre>
<p>Generates a new context handle from a query string in the form of a PL/SQL ref cursor:</p>
<pre>
DBMS_XMLGEN.NEWCONTEXT (
   queryString  IN SYS_REFCURSOR)
 RETURN ctxHandle;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14188"></a>Parameters</p>
<div id="ARPLS69861" class="tblformal">
<p class="titleintable"><a id="sthref14189"></a><a id="sthref14190"></a>Table 172-7 NEWCONTEXT Function Parameters</p>
<table class="cellalignment1229" title="NEWCONTEXT Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.NEWCONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t9">Parameter</th>
<th class="cellalignment1227" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t9" headers="r1c1-t9">
<p><code>query</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t9 r1c2-t9">
<p>The query, in the form of a <code>VARCHAR</code>, the result of which must be converted to XML.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t9" headers="r1c1-t9">
<p><code>queryString</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t9 r1c2-t9">
<p>The query string in the form of a PL/SQL ref cursor, the result of which must be converted to XML.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73481" class="refsect2"><a id="CHDEJFCE"></a>
<hr />
<h3 class="refsect2"><a id="sthref14191"></a>NEWCONTEXTFROMHIERARCHY Function</h3>
<p>This function obtains a handle to use in the <a href="#i1013206">GETXML Functions</a> and other functions to get a hierarchical XML with recursive elements from the result.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14192"></a>Syntax</p>
<pre>
DBMS_XMLGEN.NEWCONTEXTFROMHIERARCHY ( 
   queryString IN VARCHAR2) 
 RETURN ctxHandle;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14193"></a>Parameters</p>
<div id="ARPLS73482" class="tblformal">
<p class="titleintable"><a id="sthref14194"></a><a id="sthref14195"></a>Table 172-8 NEWCONTEXTFROMHIERARCHY Function Parameters</p>
<table class="cellalignment1229" title="NEWCONTEXTFROMHIERARCHY Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.NEWCONTEXTFROMHIERARCHY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t10">Parameter</th>
<th class="cellalignment1227" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t10" headers="r1c1-t10">
<p><code>queryString</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t10 r1c2-t10">
<p>The query string, the result of which must be converted to XML. The query is a hierarchical query typically formed using a <code>CONNECT</code> <code>BY</code> clause, and the result must have the same property as the result set generated by a <code>CONNECT</code> <code>BY</code> query. The result set must have only two columns, the level number and an XML value. The level number is used to determine the hierarchical position of the XML value within the result XML document.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69862" class="refsect2"><a id="i1013303"></a>
<hr />
<h3 class="refsect2"><a id="sthref14196"></a><a id="sthref14197"></a>RESTARTQUERY Procedure</h3>
<p>This procedure restarts the query and generates the XML from the first row. It can be used to start executing the query again, without having to create a new context.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14198"></a>Syntax</p>
<pre>
DBMS_XMLGEN.RESTARTQUERY (
ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14199"></a>Parameters</p>
<div id="ARPLS69863" class="tblformal">
<p class="titleintable"><a id="sthref14200"></a><a id="sthref14201"></a>Table 172-9 RESTARTQUERY Procedure Parameters</p>
<table class="cellalignment1229" title="RESTARTQUERY Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.RESTARTQUERY subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t11">Parameter</th>
<th class="cellalignment1227" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t11" headers="r1c1-t11">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t11 r1c2-t11">
<p>The context handle corresponding to the current query.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69864" class="refsect2"><a id="i1013328"></a>
<hr />
<h3 class="refsect2"><a id="sthref14202"></a><a id="sthref14203"></a>SETCONVERTSPECIALCHARS Procedure</h3>
<p>This procedure sets whether or not special characters in the XML data must be converted into their escaped XML equivalent. For example, the <code>&lt;</code> sign is converted to <code>&amp;lt;.</code> The default is to perform conversions. This function improves performance of XML processing when the input data cannot contain any special characters such as <code>&lt;</code>, <code>&gt;</code>, <code>",'</code>, which must be escaped. It is expensive to scan the character data to replace the special characters, particularly if it involves a lot of data.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14204"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETCONVERTSPECIALCHARS (
ctx   IN ctxHandle,
conv  IN BOOLEAN);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14205"></a>Parameters</p>
<div id="ARPLS69865" class="tblformal">
<p class="titleintable"><a id="sthref14206"></a><a id="sthref14207"></a>Table 172-10 SETCONVERTSPECIALCHARS Procedure Parameters</p>
<table class="cellalignment1229" title="SETCONVERTSPECIALCHARS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETCONVERTSPECIALCHARS subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t12">Parameter</th>
<th class="cellalignment1227" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t12" headers="r1c1-t12">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t12 r1c2-t12">
<p>The context handle obtained from one of the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t12" headers="r1c1-t12">
<p><code>conv</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t12 r1c2-t12">
<p><code>TRUE</code> indicates that conversion is needed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69866" class="refsect2"><a id="i1013360"></a>
<hr />
<h3 class="refsect2"><a id="sthref14208"></a><a id="sthref14209"></a>SETMAXROWS Procedure</h3>
<p>This procedure sets the maximum number of rows to fetch from the SQL query result for every invokation of the <a href="#i1013206">GETXML Functions</a> call. It is used when generating paginated results. For example, when generating a page of XML or HTML data, restrict the number of rows converted to XML or HTML by setting the <code>maxrows</code> parameter.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14210"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETMAXROWS (
ctx      IN ctxHandle,
maxRows  IN NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14211"></a>Parameters</p>
<div id="ARPLS69867" class="tblformal">
<p class="titleintable"><a id="sthref14212"></a><a id="sthref14213"></a>Table 172-11 SETMAXROWS Procedure Parameters</p>
<table class="cellalignment1229" title="SETMAXROWS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETMAXROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t13">Parameter</th>
<th class="cellalignment1227" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t13" headers="r1c1-t13">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t13 r1c2-t13">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t13" headers="r1c1-t13">
<p><code>maxRows</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t13 r1c2-t13">
<p>The maximum number of rows to get for each call to <a href="#i1013206">GETXML Functions</a></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69868" class="refsect2"><a id="i1014818"></a>
<hr />
<h3 class="refsect2">SETNULLHANDLING Procedure</h3>
<p>This procedure sets <code>NULL</code> handling options, handled through the <code>flag</code> parameter setting.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14214"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETNULLHANDLING(
ctx  IN ctx,
flag IN NUMBER); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14215"></a>Parameters</p>
<div id="ARPLS69869" class="tblformal">
<p class="titleintable"><a id="sthref14216"></a><a id="sthref14217"></a>Table 172-12 SETNULLHANDLING Procedure Parameters</p>
<table class="cellalignment1229" title="SETNULLHANDLING Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETNULLHANDLING subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t14">Parameter</th>
<th class="cellalignment1227" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t14" headers="r1c1-t14">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t14 r1c2-t14">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t14" headers="r1c1-t14">
<p><code>flag</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t14 r1c2-t14">
<p>The <code>NULL</code> handling option set.</p>
<ul>
<li>
<p><code>DROP_NULLS CONSTANT NUMBER:= 0;</code> (Default) Leaves out the tag for <code>NULL</code> elements.</p>
</li>
<li>
<p><code>NULL_ATTR CONSTANT NUMBER:= 1</code>; Sets <code>xsi:nil="true"</code>.</p>
</li>
<li>
<p><code>EMPTY_TAG CONSTANT NUMBER:= 2;</code> Sets, for example, <code>&lt;foo/&gt;</code>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69870" class="refsect2"><a id="i1013393"></a>
<hr />
<h3 class="refsect2"><a id="sthref14218"></a><a id="sthref14219"></a>SETROWSETTAG Procedure</h3>
<p>This procedure sets the name of the root element of the document. The default name is <code>ROWSET.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14220"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETROWSETTAG ( 
ctx            IN ctxHandle,  
rowSetTagName  IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14221"></a>Parameters</p>
<div id="ARPLS69871" class="tblformal">
<p class="titleintable"><a id="sthref14222"></a><a id="sthref14223"></a>Table 172-13 SETROWSETTAG Procedure Parameters</p>
<table class="cellalignment1229" title="SETROWSETTAG Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETROWSETTAG subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t15">Parameter</th>
<th class="cellalignment1227" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t15" headers="r1c1-t15">
<p>ctx</p>
</td>
<td class="cellalignment1228" headers="r2c1-t15 r1c2-t15">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t15" headers="r1c1-t15">
<p>rowSetTagName</p>
</td>
<td class="cellalignment1228" headers="r3c1-t15 r1c2-t15">
<p>The name of the document element. Passing <code>NULL</code> indicates that you do not want the <code>ROWSET</code> element present.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14224"></a>Usage Notes</p>
<p>The user can set the <code>rowSetTag</code> to <code>NULL</code> to suppress the printing of this element. However, an error is produced if both the row and the rowset are <code>NULL</code> and there is more than one column or row in the output . This is because the generated XML would not have a top-level enclosing tag, and so would be invalid.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69872" class="refsect2"><a id="i1015722"></a>
<hr />
<h3 class="refsect2"><a id="sthref14225"></a>SETROWTAG Procedure</h3>
<p>This procedure sets the name of the element separating all the rows. The default name is <code>ROW.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14226"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETROWTAG (
ctx         IN ctxHandle,
rowTagName  IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14227"></a>Parameters</p>
<div id="ARPLS69873" class="tblformal">
<p class="titleintable"><a id="sthref14228"></a><a id="sthref14229"></a>Table 172-14 SETROWTAG Procedure Parameters</p>
<table class="cellalignment1229" title="SETROWTAG Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETROWTAG subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t16">Parameter</th>
<th class="cellalignment1227" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t16" headers="r1c1-t16">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t16 r1c2-t16">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t16" headers="r1c1-t16">
<p><code>rowTagName</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t16 r1c2-t16">
<p>The name of the <code>ROW</code> element. Passing <code>NULL</code> indicates that you do not want the <code>ROW</code> element present.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14230"></a>Usage Notes</p>
<p>The user can set the name of the element to <code>NULL</code> to suppress the <code>ROW</code> element itself. However, an error is produced if both the row and the rowset are <code>NULL</code> and there is more than one column or row in the output. This is because the generated XML would not have a top-level enclosing tag, and so would be invalid.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69874" class="refsect2"><a id="i1010859"></a>
<hr />
<h3 class="refsect2"><a id="sthref14231"></a><a id="sthref14232"></a>SETSKIPROWS Procedure</h3>
<p>This procedure skips a given number of rows before generating the XML output for every call to the <a href="#i1013206">GETXML Functions</a>. It is used when generating paginated results for stateless Web pages using this utility. For example, when generating the first page of XML or HTML data, set <code>skiprows</code> to zero. For the next set, set the <code>skiprows</code> to the number of rows obtained in the first case. See <a href="#i1013173">GETNUMROWSPROCESSED Function</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14233"></a>Syntax</p>
<pre>
DBMS_XMLGEN.SETSKIPROWS (
ctx       IN ctxHandle,
skipRows  IN NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14234"></a>Parameters</p>
<div id="ARPLS69875" class="tblformal">
<p class="titleintable"><a id="sthref14235"></a><a id="sthref14236"></a>Table 172-15 SETSKIPROWS Procedure Parameters</p>
<table class="cellalignment1229" title="SETSKIPROWS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETSKIPROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t17">Parameter</th>
<th class="cellalignment1227" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t17" headers="r1c1-t17">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t17 r1c2-t17">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t17" headers="r1c1-t17">
<p><code>skipRows</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t17 r1c2-t17">
<p>The number of rows to skip for each call to <code>getXML.</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69876" class="refsect2"><a id="i1010963"></a>
<hr />
<h3 class="refsect2"><a id="sthref14237"></a><a id="sthref14238"></a>USEITEMTAGSFORCOLL Procedure</h3>
<p>This procedure overrides the default name of the collection elements. The default name for collection elements is the type name itself.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14239"></a>Syntax</p>
<pre>
DBMS_XMLGEN.USEITEMTAGSFORCOLL (
   ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14240"></a>Parameters</p>
<div id="ARPLS69877" class="tblformal">
<p class="titleintable"><a id="sthref14241"></a><a id="sthref14242"></a>Table 172-16 USEITEMTAGSFORCOLL Procedure Parameters</p>
<table class="cellalignment1229" title="USEITEMTAGSFORCOLL Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.USEITEM subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t18">Parameter</th>
<th class="cellalignment1227" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t18" headers="r1c1-t18">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t18 r1c2-t18">
<p>The context handle.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14243"></a>Usage Notes</p>
<p>Using this procedure, you can override the default to use the name of the column with the <code>_ITEM</code> tag appended to it. If there is a collection of <code>NUMBER</code>, the default tag name for the collection elements is <code>NUMBER</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69878" class="refsect2"><a id="i1013950"></a>
<hr />
<h3 class="refsect2"><a id="sthref14244"></a><a id="sthref14245"></a>USENULLATTRIBUTEINDICATOR Procedure</h3>
<p>This procedure specifies whether to use an XML attribute to indicate <code>NULL</code>ness, or to do it by omitting the inclusion of the particular entity in the XML document. It is used as a shortcut for the <a href="#i1014818">SETNULLHANDLING Procedure</a><code>.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14246"></a>Syntax</p>
<pre>
DBMS_XMLGEN.USENULLATTRIBUTEINDICATOR(
ctx       IN   ctxType,
attrind   IN   BOOLEAN := TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref14247"></a>Parameters</p>
<div id="ARPLS69879" class="tblformal">
<p class="titleintable"><a id="sthref14248"></a><a id="sthref14249"></a>Table 172-17 USENULLATTRIBUTEINDICATOR Procedure Parameters</p>
<table class="cellalignment1229" title="USENULLATTRIBUTEINDICATOR Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.USENALLATTRIBUTE subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t19">Parameter</th>
<th class="cellalignment1227" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t19" headers="r1c1-t19">
<p><code>ctx</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t19 r1c2-t19">
<p>Context handle.</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t19" headers="r1c1-t19">
<p><code>attrind</code></p>
</td>
<td class="cellalignment1228" headers="r3c1-t19 r1c2-t19">
<p>Use attribute to indicate <code>NULL</code>?</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="d_xmldom.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="d_xmlindex.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
