<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>OWA_SEC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-19T18:56:5Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference" />
<meta name="dcterms.identifier" content="E40758-03" />
<meta name="dcterms.isVersionOf" content="ARPLS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="w_patt.htm" title="Previous" type="text/html" />
<link rel="Next" href="w_text.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40758.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">197/265</span> <!-- End Header -->
<div id="ARPLS395" class="chapter"><a id="BABEJBAG"></a>
<h1 class="chapter"><span class="secnum">193</span> OWA_SEC</h1>
<p>The <a id="sthref16203"></a>OWA_SEC package provides an interface for custom authentication.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information about implementation of this package:
<ul>
<li>
<p><a class="olink HSADM" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=HSADM"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle HTTP Server</span></a></p>
</li>
<li>
<p><a class="olink YPMOD" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=YPMOD"><span class="italic">Oracle Fusion Middleware User's Guide for mod_plsql</span></a></p>
</li>
</ul>
</div>
<p>The chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABHFDGI">Using OWA_SEC</a></p>
<ul>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i997342">Summary of OWA_SEC Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BABHFDGI"></a>
<hr />
<div id="ARPLS70728" class="refsect1">
<h2 class="refsect1">Using OWA_SEC</h2>
<ul>
<li>
<p><a href="#i998004">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS70729" class="refsect2"><a id="i998004"></a>
<hr />
<h3 class="refsect2">Operational Notes</h3>
<p>Parameters that have default values are optional.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i997342"></a>
<hr />
<div id="ARPLS70730" class="refsect1">
<h2 class="refsect1">Summary of OWA_SEC Subprograms</h2>
<div id="ARPLS70731" class="tblformal">
<p class="titleintable"><a id="sthref16204"></a><a id="sthref16205"></a>Table 193-1 <span class="bolditalic">OWA_SEC Package Subprograms</span></p>
<table class="cellalignment1229" title="OWA_SEC Package Subprograms " summary="This table lists the OWA_SEC subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t3">Subprogram</th>
<th class="cellalignment1227" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#i997046">GET_CLIENT_HOSTNAME Function</a></p>
</td>
<td class="cellalignment1228" headers="r2c1-t3 r1c2-t3">
<p>Returns the client's hostname</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#i997072">GET_CLIENT_IP Function</a></p>
</td>
<td class="cellalignment1228" headers="r3c1-t3 r1c2-t3">
<p>Returns the client's IP address</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#BABIFCCG">GET_PASSWORD Function</a></p>
</td>
<td class="cellalignment1228" headers="r4c1-t3 r1c2-t3">
<p>Returns the password that the user entered</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#i997128">GET_USER_ID Function</a></p>
</td>
<td class="cellalignment1228" headers="r5c1-t3 r1c2-t3">
<p>Returns the username that the user entered</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#BABDEDGJ">SET_AUTHORIZATION Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r6c1-t3 r1c2-t3">
<p>Enables the PL/SQL application to use custom authentication</p>
</td>
</tr>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#i997187">SET_PROTECTION_REALM Procedure</a></p>
</td>
<td class="cellalignment1228" headers="r7c1-t3 r1c2-t3">
<p>Defines the realm that the page is in</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div id="ARPLS70732" class="refsect2"><a id="i997046"></a>
<hr />
<h3 class="refsect2"><a id="sthref16206"></a>GET_CLIENT_HOSTNAME Function</h3>
<p>This function returns the hostname of the client.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16207"></a>Syntax</p>
<pre>
OWA_SEC.GET_CLIENT_HOSTNAME
 RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16208"></a>Return Values</p>
<p>The hostname.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70733" class="refsect2"><a id="i997072"></a>
<hr />
<h3 class="refsect2"><a id="sthref16209"></a>GET_CLIENT_IP Function</h3>
<p>This function returns the IP address of the client.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16210"></a>Syntax</p>
<pre>
OWA_SEC.GET_CLIENT_IP 
  RETURN OWA_UTIL.IP_ADDRESS;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16211"></a>Return Values</p>
<p>The IP address. The <code>owa_util.ip_address data type</code> is a PL/SQL table where the first four elements contain the four numbers of the IP address. For example, if the IP address is <code>123.45.67.89</code> and the variable <code>ipaddr</code> is of the owa_util.ip_address data type, the variable would contain the following values:</p>
<pre>
ipaddr(1) = 123
ipaddr(2) = 45
ipaddr(3) = 67
ipaddr(4) = 89
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70734" class="refsect2"><a id="BABIFCCG"></a>
<hr />
<h3 class="refsect2"><a id="sthref16212"></a>GET_PASSWORD Function</h3>
<p>This function returns the password that the user used to log in.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16213"></a>Syntax</p>
<pre>
OWA_SEC.GET_PASSWORD 
  RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16214"></a>Return Values</p>
<p>The password.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16215"></a>Usage Notes</p>
<p>For security reasons, this function returns a true value only when custom authentication is used. If you call this function when you are not using custom authentication, the function returns an undefined value. Thus, the database passwords are not exposed.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70735" class="refsect2"><a id="i997128"></a>
<hr />
<h3 class="refsect2"><a id="sthref16216"></a>GET_USER_ID Function</h3>
<p>This function returns the username that the user used to log in.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16217"></a>Syntax</p>
<pre>
OWA_SEC.GET_USER_ID 
  RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16218"></a>Return Values</p>
<p>The username.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70736" class="refsect2"><a id="BABDEDGJ"></a>
<hr />
<h3 class="refsect2"><a id="sthref16219"></a>SET_AUTHORIZATION Procedure</h3>
<p>This procedure, called in the initialization portion of the <a href="w_custom.htm#CDEFGABC">OWA_CUSTOM</a> package, sets the authorization scheme for the PL/SQL Gateway. This implements your <code>authorize</code> function, which authorizes the user before his requested procedure is run. The placement of the <code>authorize</code> function depends on the scheme you select.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16220"></a>Syntax</p>
<pre>
OWA_SEC.SET_AUTHORIZATION(
    scheme         IN       INTEGER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16221"></a>Parameters</p>
<div id="ARPLS70737" class="tblformal">
<p class="titleintable"><a id="sthref16222"></a><a id="sthref16223"></a>Table 193-2 SET_AUTHORIZATION Procedure Parameters</p>
<table class="cellalignment1229" title="SET_AUTHORIZATION Procedure Parameters " summary="This table describes the Parameters of the OWA_SEC.SET_AUTHORIZATION subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t4">Parameter</th>
<th class="cellalignment1227" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t4" headers="r1c1-t4">
<p><code>scheme</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t4 r1c2-t4">
<p>The authorization scheme. It is one of the following schemes for <code>SET_AUTHORIZATION</code>:</p>
<ul>
<li>
<p><code>OWA_SEC.NO_CHECK</code> - Specifies that the PL/SQL application is not to do any custom authentication. This is the default.</p>
</li>
<li>
<p><code>OWA_SEC.GLOBAL</code> - Defines an authorize function that is called for all users and all procedures. This is the <code>OWA_CUSTOM</code>.<a href="w_custom.htm#CDECIIIE">AUTHORIZE Function</a> in the "<code>sys</code>" schema.</p>
</li>
<li>
<p><code>OWA_SEC.PER_PACKAGE</code> - Define an <code>authorize</code> function that is called when procedures in a package or anonymous procedures are called. If the procedures are in a package, the package.<code>AUTHORIZE</code> function in the user's schema is called to authorize the user. If the procedures are not in a package, then the anonymous <code>authorize</code> function in the user's schema is called.</p>
</li>
<li>
<p><code>OWA_SEC.CUSTOM</code> - Implements different authorize functions for each user. The function <code>OWA_CUSTOM</code>.<a href="w_custom.htm#CDECIIIE">AUTHORIZE Function</a> in the user's schema is called to authorize the user. If the user's schema does not contain an <code>OWA_CUSTOM</code>.AUTHORIZE Function, the PL/SQL Gateway looks for it in the "sys" schema.</p>
<p>The custom <code>authorize</code> function has the following signature:</p>
<pre>
FUNCTION AUTHORIZE 
  RETURN BOOLEAN;
</pre></li>
</ul>
<p>If the function returns <code>TRUE</code>, authentication succeeded. If it returns <code>FALSE</code>, authentication failed. If the <code>authorize</code> function is not defined, the Gateway returns an error and fails.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70738" class="refsect2"><a id="i997187"></a>
<hr />
<h3 class="refsect2"><a id="sthref16224"></a>SET_PROTECTION_REALM Procedure</h3>
<p>This procedure sets the realm of the page that is returned to the user. The user enters a username and login that already exist in the realm.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16225"></a>Syntax</p>
<pre>
OWA_SEC.SET_PROTECTION_REALM(
   realm      IN      VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16226"></a>Parameters</p>
<div id="ARPLS70739" class="tblformal">
<p class="titleintable"><a id="sthref16227"></a><a id="sthref16228"></a>Table 193-3 SET_PROTECTION_REALM Procedure Parameters</p>
<table class="cellalignment1229" title="SET_PROTECTION_REALM Procedure Parameters " summary="This table describes the Parameters of the OWA_SEC.SET_PROTECTION_REALM subprogram." dir="ltr">
<thead>
<tr class="cellalignment1220">
<th class="cellalignment1227" id="r1c1-t5">Parameter</th>
<th class="cellalignment1227" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1220">
<td class="cellalignment1228" id="r2c1-t5" headers="r1c1-t5">
<p><code>realm</code></p>
</td>
<td class="cellalignment1228" headers="r2c1-t5 r1c2-t5">
<p>The realm where the page belongs. This string is displayed to the user.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1219">
<tr>
<td class="cellalignment1228">
<table class="cellalignment1224">
<tr>
<td class="cellalignment1223"><a href="w_patt.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1223"><a href="w_text.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1231">
<table class="cellalignment1222">
<tr>
<td class="cellalignment1223"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1223"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1223"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1223"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1223"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1223"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
