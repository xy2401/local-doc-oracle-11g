<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1032" />
<title>Description of the illustration adfns062.eps</title>
</head>
<body>
<p>This figure shows an exception and an associated exception handler. A trigger uses a conditional statement that checks for an error condition and raises an application error. The user-defined error code and message are returned to the error handler.</p>
<pre xml:space="preserve" class="oac_no_warn" dir="ltr">
PROCEDURE fire_emp (empid NUMBER) IS
  invalid_empid EXCEPTION
  PRAGMA EXCEPTION_INIT (invalid_empid, -20101);
BEGIN
  DELETE FROM emp WHERE empno = empid;
EXCEPTION
  WHEN invlid_empid THEN
   INSERT INTO emp_audit
    VALUES (empid, 'Fired before probation ended');
END;
</pre>
<p>This program returns the error number 20101 to the invoking environment (the preceding program).</p>
<pre xml:space="preserve" class="oac_no_warn" dir="ltr">
TRIGGER emp_probation
BEFORE DELETE ON emp
FOR EACH ROW
BEGIN
  IF (sysdate - :old.hiredate) &lt; 30 THEN
    raise_application_error(20101,
     'Employee' || old.ename || ' on probation')
  END IF;
END;
</pre>
<div class="footer"><img width="144" height="18" src="../../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
<a href="../../../dcommon/html/cpyr.htm">Copyright&nbsp;Â©&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</a></div>
<!-- class="footer" -->
</body>
</html>
