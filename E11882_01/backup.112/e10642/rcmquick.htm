<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Getting Started with RMAN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1054" />
<meta name="description" content="A guide to backup and recovery of Oracle databases, including RMAN backup and recovery, RMAN data transfer, Oracle Flashback Technology, and user-managed backup and recovery" />
<meta name="dcterms.created" content="2015-05-13T14:1:10Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Backup and Recovery User's Guide" />
<meta name="dcterms.identifier" content="E10642-08" />
<meta name="dcterms.isVersionOf" content="BRADV" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="rcmintro.htm" title="Previous" type="text/html" />
<link rel="Next" href="part_pln.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10642.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/47</span> <!-- End Header -->
<div id="BRADV89346" class="chapter"><a id="BABJAGIB"></a>
<h1 class="chapter"><span class="secnum">2</span> Getting Started with RMAN</h1>
<p>This chapter is intended for new users who want to start using RMAN right away without first reading the more detailed chapters in this book. This chapter provides the briefest possible digest of the most important RMAN concepts and tasks. It is not a substitute for the rest of the backup and recovery documentation set.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i766400">Overview of the RMAN Environment</a></p>
</li>
<li>
<p><a href="#i771020">Starting RMAN and Connecting to a Database</a></p>
</li>
<li>
<p><a href="#i999114">Showing the Default RMAN Configuration</a></p>
</li>
<li>
<p><a href="#i766544">Backing Up a Database</a></p>
</li>
<li>
<p><a href="#i766656">Reporting on RMAN Operations</a></p>
</li>
<li>
<p><a href="#i766774">Maintaining RMAN Backups</a></p>
</li>
<li>
<p><a href="#BABFBFJD">Diagnosing and Repairing Failures with Data Recovery Advisor</a></p>
</li>
<li>
<p><a href="#BABBHDFJ">Rewinding a Database with Flashback Database</a></p>
</li>
<li>
<p><a href="#i999413">Restoring and Recovering Database Files</a></p>
</li>
</ul>
<a id="i766400"></a>
<div id="BRADV89347" class="sect1">
<h2 class="sect1">Overview of the RMAN Environment</h2>
<p><a id="sthref71"></a>Recovery Manager (RMAN) is an Oracle Database client that performs backup and recovery tasks on your databases and automates administration of your backup strategies. It greatly simplifies backing up, restoring, and recovering database files.</p>
<p><a id="sthref72"></a>The RMAN environment consists of the utilities and databases that play a role in backing up your data. At a minimum, the environment for RMAN must include the following components:</p>
<ul>
<li>
<p>A <a id="sthref73"></a><a href="glossary.htm#i433583"><span class="xrefglossterm">target database</span></a></p>
<p>An Oracle database to which RMAN is connected with the <code dir="ltr">TARGET</code> keyword. A target database is a database on which RMAN is performing backup and recovery operations. RMAN always maintains metadata about its operations on a database in the control file of the database. The RMAN metadata is known as the <a id="sthref74"></a><a href="glossary.htm#CHDIJAIC"><span class="xrefglossterm">RMAN repository</span></a>.</p>
</li>
<li>
<p>The <a id="sthref75"></a><a id="sthref76"></a><a id="sthref77"></a><a href="glossary.htm#CHDDDAEB"><span class="xrefglossterm">RMAN client</span></a></p>
<p>An Oracle Database executable that interprets commands, directs server sessions to execute those commands, and records its activity in the target database control file. The RMAN executable is automatically installed with the database and is typically located in the same directory as the other database executables. For example, the RMAN client on Linux is located in <code dir="ltr">$ORACLE_HOME/bin</code>.</p>
</li>
</ul>
<p>Some environments use the following optional components:</p>
<ul>
<li>
<p>A <a id="sthref78"></a><a href="glossary.htm#i999320"><span class="xrefglossterm">fast recovery area</span></a></p>
<p>A disk location in which the database can store and manage files related to backup and recovery. You set the fast recovery area location and size with the<a id="sthref79"></a><a id="sthref80"></a> <a class="olink REFRN10234" href="../../server.112/e40402/initparams065.htm#REFRN10234"><code dir="ltr">DB_RECOVERY_FILE_DEST</code></a> and <a class="olink REFRN10235" href="../../server.112/e40402/initparams066.htm#REFRN10235"><code dir="ltr">DB_RECOVERY_FILE_DEST_SIZE</code></a> initialization parameters.</p>
</li>
<li>
<p>A <a id="sthref81"></a><a href="glossary.htm#i432922"><span class="xrefglossterm">media manager</span></a></p>
<p>An application required for RMAN to interact with sequential media devices such as tape libraries. A media manager controls these devices during backup and recovery, managing the loading, labeling, and unloading of media. Media management devices are sometimes called <a href="glossary.htm#CHDCCBFI"><span class="xrefglossterm">SBT</span></a> (system backup to tape) devices.</p>
</li>
<li>
<p>A <a id="sthref82"></a><a href="glossary.htm#i433280"><span class="xrefglossterm">recovery catalog</span></a></p>
<p>A separate database schema used to record RMAN activity against one or more target databases. A recovery catalog preserves RMAN repository metadata if the control file is lost, making it much easier to restore and recover following the loss of the control file. The database may overwrite older records in the control file, but RMAN maintains records forever in the catalog unless the records are deleted by the user.</p>
</li>
</ul>
<p>This chapter explains how to use RMAN in the most basic configuration, which is <span class="italic">without</span> a recovery catalog or media manager.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="rcmarchi.htm#BGBGEHJJ">Chapter 3, "Recovery Manager Architecture"</a>for a more detailed overview of the RMAN environment</p>
</li>
<li>
<p><a class="olink RCMRF107" href="../../backup.112/e10643/rcmsynta007.htm#RCMRF107"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code dir="ltr">BACKUP</code> command syntax and semantics</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i771020"></a>
<div id="BRADV89348" class="sect1">
<h2 class="sect1">Starting RMAN and Connecting to a Database</h2>
<p><a id="sthref83"></a><a id="sthref84"></a><a id="sthref85"></a>The RMAN client is started by issuing the <code dir="ltr">rman</code> command at the command prompt of your operating system. RMAN then displays a prompt for your commands as shown in the following example:</p>
<pre dir="ltr">
% rman
RMAN&gt;
</pre>
<p>RMAN connections to a database are specified and authenticated in the same way as SQL*Plus connections to a database. The only difference is that RMAN connections to a target or auxiliary database require the <code dir="ltr">SYSDBA</code> privilege. The <code dir="ltr">AS SYSDBA</code> keywords are implied and cannot be explicitly specified. See <a class="olink ADMIN00102" href="../../server.112/e25494/dba.htm#ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn about database connection options for SQL*Plus.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Good security practice requires that passwords should not be entered in plain text on the command line. You should enter passwords in RMAN only when requested by an RMAN prompt. See <a class="olink DBSEG0032" href="../../network.112/e36292/authentication.htm#DBSEG0032"><span class="italic">Oracle Database Security Guide</span></a> to learn about password protection.</div>
<p>You can connect to a database with command-line options or by using the <a class="olink RCMRF114" href="../../backup.112/e10643/rcmsynta011.htm#RCMRF114"><code dir="ltr">CONNECT TARGET</code></a> command. The following example starts RMAN and then connects to a target database through Oracle Net, <a id="sthref86"></a><code dir="ltr">AS SYSDBA</code> is not specified because it is implied. RMAN prompts for a password.</p>
<pre dir="ltr">
% rman
RMAN&gt; CONNECT TARGET SYS@prod

target database Password: <span class="italic">password</span>
connected to target database: PROD (DBID=39525561)
</pre>
<p>The following variation starts RMAN and then connects to a target database by using operating system <a id="sthref87"></a><a id="sthref88"></a>authentication:</p>
<pre dir="ltr">
% rman
RMAN&gt; CONNECT TARGET /

connected to target database: PROD (DBID=39525561)
</pre>
<p>To quit the RMAN client, enter <code dir="ltr">EXIT</code> at the RMAN prompt:</p>
<pre dir="ltr">
RMAN&gt; EXIT
</pre>
<p class="subhead1"><a id="BRADV549"></a>Syntax of Common RMAN Command-line Options</p>
<pre dir="ltr">
RMAN 
[ TARGET <span class="italic">connectStringSpec</span> 
| { CATALOG <span class="italic">connectStringSpec</span> } 
| LOG ['] <span class="italic">filename</span> ['] [ APPEND ]
.
.
. 
]...

connectStringSpec::=
['] [<span class="italic">userid</span>] [/ [<span class="italic">password</span>]] [@<span class="italic">net_service_name</span>] [']
</pre>
<p><a id="sthref89"></a><a id="sthref90"></a><a id="sthref91"></a><a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a><a id="sthref95"></a>The following example appends the output from an <a href="glossary.htm#CHDHHCJB"><span class="xrefglossterm">RMAN session</span></a> to a text file at <code dir="ltr">/tmp/msglog.log</code></p>
<pre dir="ltr">
% rman TARGET / LOG /tmp/msglog.log APPEND
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmcnctg.htm#CEGGAIIE">Chapter 4, "Starting and Interacting with the RMAN&nbsp;Client,"</a> to learn more about starting and using the RMAN client</div>
</div>
<!-- class="sect1" -->
<a id="i999114"></a>
<div id="BRADV89349" class="sect1">
<h2 class="sect1">Showing the Default RMAN Configuration</h2>
<p>The RMAN backup and recovery environment is preconfigured for each target database. The configuration is persistent and applies to all subsequent operations on this target database, even if you exit and restart RMAN.</p>
<p>RMAN configured settings can specify backup devices, configure a connection to a backup device (known as a <a id="sthref96"></a><a href="glossary.htm#i432240"><span class="xrefglossterm">channel</span></a>), policies affecting backup strategy, and others. The default configuration is adequate for most purposes.</p>
<p class="subhead2"><a id="BRADV550"></a>To show the current configuration for a database:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">SHOW ALL</code> command.</p>
<p><a id="sthref97"></a><a id="sthref98"></a><a id="sthref99"></a>For example, enter the command at the RMAN prompt as follows:</p>
<pre dir="ltr">
RMAN&gt; SHOW ALL;
</pre></li>
</ol>
<p>The output lists the <code dir="ltr">CONFIGURE</code> commands to re-create this configuration.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmconfb.htm#g1026663">Chapter 5, "Configuring the RMAN Environment,"</a> and <a href="rcmconfa.htm#CEGCJFEH">Chapter 6, "Configuring the RMAN Environment: Advanced Topics,"</a> to learn how to configure the RMAN environment</div>
</div>
<!-- class="sect1" -->
<a id="i766544"></a>
<div id="BRADV89350" class="sect1">
<h2 class="sect1">Backing Up a Database</h2>
<p><a id="sthref100"></a><a id="sthref101"></a>Use the <a class="olink RCMRF107" href="../../backup.112/e10643/rcmsynta007.htm#RCMRF107"><code dir="ltr">BACKUP</code></a> command to back up files. RMAN backs up data to the configured default device for the type of backup requested. By default, RMAN creates backups on disk. If a fast recovery area is enabled, and if you do not specify the <code dir="ltr">FORMAT</code> parameter (see <a href="#BABHIEIJ">Table 2-1</a>), then RMAN creates backups in the recovery area and automatically gives them unique names.</p>
<p>By default, RMAN creates backup sets rather than image copies. A <a id="sthref102"></a><a href="glossary.htm#i432144"><span class="xrefglossterm">backup set</span></a> consists of one or more <a id="sthref103"></a>backup pieces, which are physical files written in a format that only RMAN can access. A <a id="sthref104"></a><a href="glossary.htm#CHDECCDH"><span class="xrefglossterm">multiplexed backup set</span></a> contains the blocks from multiple input files. RMAN can write backup sets to disk or tape.</p>
<p><a id="sthref105"></a><a id="sthref106"></a>If you specify <code dir="ltr">BACKUP</code> <code dir="ltr">AS</code> <code dir="ltr">COPY</code>, then RMAN copies each file as an <a id="sthref107"></a><a href="glossary.htm#i432704"><span class="xrefglossterm">image copy</span></a>, which is a bit-for-bit copy of a database file created on disk. Image copies are identical to copies created with operating system commands like <code dir="ltr">cp</code> on Linux or <code dir="ltr">COPY</code> on Windows, but are recorded in the RMAN repository and so are usable by RMAN. You can use RMAN to make image copies while the database is open.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="rcmcncpt.htm#BGBFHAGF">Chapter 8, "RMAN Backup Concepts,"</a> to learn concepts relating to RMAN backups</p>
</li>
<li>
<p><a href="rcmbckba.htm#g1050005">Chapter 9, "Backing Up the Database,"</a> to learn how to back up database files with RMAN</p>
</li>
<li>
<p><a class="olink RCMRF107" href="../../backup.112/e10643/rcmsynta007.htm#RCMRF107"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code dir="ltr">BACKUP</code> command syntax and semantics</p>
</li>
</ul>
</div>
<div id="BRADV90058" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref108"></a>
<h3 class="sect2">Backing Up a Database in ARCHIVELOG Mode</h3>
<p>If a database runs in <a id="sthref109"></a><code dir="ltr">ARCHIVELOG</code> mode, then you can back up the database while it is open. The backup is called an <a id="sthref110"></a><a href="glossary.htm#i432767"><span class="xrefglossterm">inconsistent backup</span></a> because redo is required during recovery to bring the database to a consistent state. If you have the archived redo logs needed to recover the backup, open database backups are as effective for data protection as consistent backups.</p>
<p class="subhead2"><a id="BRADV119"></a>To back up the database and archived redo logs while the database is open:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p><a id="sthref111"></a><a id="sthref112"></a>Run the <code dir="ltr">BACKUP DATABASE</code> command.</p>
<p>For example, enter the following command at the RMAN prompt to back up the database and all archived redo log files to the default backup device:</p>
<pre dir="ltr">
RMAN&gt; BACKUP DATABASE PLUS ARCHIVELOG;
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<div id="BRADV90059" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref113"></a>
<h3 class="sect2">Backing Up a Database in NOARCHIVELOG Mode</h3>
<p>If a database runs in <code dir="ltr">NOARCHIVELOG</code> mode, then the only valid database backup is a <a href="glossary.htm#i432345"><span class="xrefglossterm">consistent backup</span></a>. For the backup to be consistent, the database must be mounted after a consistent shutdown. No recovery is required after restoring the backup.</p>
<p class="subhead2"><a id="BRADV120"></a>To make a consistent database backup:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Shut down the database consistently and then mount it.</p>
<p>For example, enter the following commands to <span class="italic">guarantee</span> that the database is in a consistent state for a backup:</p>
<pre dir="ltr">
RMAN&gt; SHUTDOWN IMMEDIATE;
RMAN&gt; STARTUP FORCE DBA;
RMAN&gt; SHUTDOWN IMMEDIATE;
RMAN&gt; STARTUP MOUNT;
</pre></li>
<li>
<p><a id="sthref114"></a><a id="sthref115"></a>Run the <code dir="ltr">BACKUP DATABASE</code> command.</p>
<p>For example, enter the following command at the RMAN prompt to back up the database to the default backup device:</p>
<pre dir="ltr">
RMAN&gt; BACKUP DATABASE;
</pre>
<p>The following variation of the command creates image copy backups of all data files in the database:</p>
<pre dir="ltr">
RMAN&gt; BACKUP AS COPY DATABASE;
</pre></li>
<li>
<p>Open the database and resume normal operations.</p>
<p>The following command opens the database:</p>
<pre dir="ltr">
RMAN&gt; ALTER DATABASE OPEN;
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<div id="BRADV89352" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref116"></a>
<h3 class="sect2">Typical Backup Options</h3>
<p><a id="sthref117"></a><a id="sthref118"></a><a id="sthref119"></a>The <code dir="ltr">BACKUP</code> command includes a host of options, parameters, and clauses that control backup output. <a href="#BABHIEIJ">Table 2-1</a> lists some typical backup options.</p>
<div id="BRADV121" class="tblruleformal">
<p class="titleintable"><a id="sthref120"></a><a id="BABHIEIJ"></a>Table 2-1 Common Backup Options</p>
<table class="cellalignment1945" title="Common Backup Options" summary="Common BACKUP options" dir="ltr">
<thead>
<tr class="cellalignment1934">
<th class="cellalignment1941" id="r1c1-t7">Option</th>
<th class="cellalignment1941" id="r1c2-t7">Description</th>
<th class="cellalignment1941" id="r1c3-t7">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">FORMAT</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t7 r1c2-t7">
<p>Specifies a location and name for backup pieces and copies. You must use substitution variables to generate unique file names.</p>
<p>The most common substitution variable is <a id="sthref121"></a><code dir="ltr">%U</code>, which generates a unique name. Others include <a id="sthref122"></a><code dir="ltr">%d</code> for the DB_NAME, <a id="sthref123"></a><code dir="ltr">%t</code> for the backup set time stamp, <a id="sthref124"></a><code dir="ltr">%s</code> for the backup set number, and <a id="sthref125"></a><code dir="ltr">%p</code> for the backup piece number.</p>
</td>
<td class="cellalignment1942" headers="r2c1-t7 r1c3-t7">
<pre dir="ltr">
BACKUP 
  FORMAT 'AL_%d/%t/%s/%p' 
  ARCHIVELOG LIKE '%arc_dest%';
</pre></td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">TAG</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t7 r1c2-t7">
<p>Specifies a user-defined string as a label for the backup. If you do not specify a <a href="glossary.htm#CHDJHFIH"><span class="xrefglossterm">tag</span></a> , then RMAN assigns a default tag with the date and time. Tags are always stored in the RMAN repository in uppercase.</p>
</td>
<td class="cellalignment1942" headers="r3c1-t7 r1c3-t7">
<pre dir="ltr">
BACKUP
  TAG 'weekly_full_db_bkup' 
  DATABASE MAXSETSIZE 10M;
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmbckba.htm#CEGFHBBB">"Specifying Backup Output Options"</a></div>
</div>
<!-- class="sect2" -->
<div id="BRADV89353" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref126"></a>
<h3 class="sect2">Making Incremental Backups</h3>
<p>If you specify<a id="sthref127"></a><a id="sthref128"></a> <code dir="ltr">BACKUP</code> <code dir="ltr">INCREMENTAL</code>, then RMAN creates an <a href="glossary.htm#i432786"><span class="xrefglossterm">incremental backup</span></a> of a database. Incremental backups capture block-level changes to a database made after a previous <a id="sthref129"></a>incremental backup. Incremental backups are generally smaller and faster to make than full database backups. Recovery with incremental backups is faster than using redo logs alone.</p>
<p>The starting point for an incremental backup strategy is a <a id="sthref130"></a><a href="glossary.htm#CHDCBDHA"><span class="xrefglossterm">level 0 incremental backup</span></a>, which backs up all blocks in the database. An incremental backup at level 0 is identical in content to a <a id="sthref131"></a><a href="glossary.htm#i432658"><span class="xrefglossterm">full backup</span></a>, however, unlike a full backup the level 0 backup is considered a part of the incremental backup strategy.</p>
<p>A level 1 incremental backup contains only blocks changed after a previous incremental backup. If no level 0 backup exists in either the current or parent database <a href="glossary.htm#i432741"><span class="xrefglossterm">incarnation</span></a> when you run a level 1 backup, then RMAN makes a level 0 backup automatically.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot make incremental backups when a <code dir="ltr">NOARCHIVELOG</code> database is open, although you can make incremental backups when the database is mounted after a consistent shutdown.</div>
<p>A level 1 backup can be a <a id="sthref132"></a><a href="glossary.htm#i432455"><span class="xrefglossterm">cumulative incremental backup</span></a>, which includes all blocks changed since the most recent level 0 backup, or a <a id="sthref133"></a><a href="glossary.htm#i432588"><span class="xrefglossterm">differential incremental backup</span></a>, which includes only blocks changed since the most recent incremental backup. Incremental backups are differential by default.</p>
<p>When restoring incremental backups, RMAN uses the level 0 backup as the starting point, then updates changed blocks based on level 1 backups where possible to avoid reapplying changes from redo one at a time. Recovering with incremental backups requires no additional effort on your part. If incremental backups are available, then RMAN uses them during recovery.</p>
<p class="subhead2"><a id="BRADV122"></a>To make incremental backups of the database:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p><a id="sthref134"></a><a id="sthref135"></a>Run the <code dir="ltr">BACKUP INCREMENTAL</code> command.</p>
<p>The following example creates a level 0 incremental backup to serve as a base for an incremental backup strategy:</p>
<pre dir="ltr">
BACKUP INCREMENTAL LEVEL 0 DATABASE;
</pre>
<p>The following example creates a level 1 cumulative incremental backup:</p>
<pre dir="ltr">
BACKUP INCREMENTAL LEVEL 1 CUMULATIVE DATABASE;
</pre>
<p>The following example creates a level 1 differential incremental backup:</p>
<pre dir="ltr">
BACKUP INCREMENTAL LEVEL 1 DATABASE;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmcncpt.htm#i1007616">"Incremental Backups"</a> for a more detailed conceptual overview of incremental backups and <a href="rcmbckba.htm#i1034163">"Making and Updating Incremental Backups"</a></div>
<div id="BRADV89354" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref136"></a>
<h4 class="sect3">Making Incrementally Updated Backups</h4>
<p>The RMAN <a id="sthref137"></a><a href="glossary.htm#CHDIGHBJ"><span class="xrefglossterm">incrementally updated backup</span></a> feature is an efficient incremental backup strategy. The strategy has the following main features:</p>
<ul>
<li>
<p>The strategy requires a level 0 data file copy as a base. This copy has either a system-defined or user-defined tag.</p>
</li>
<li>
<p>Periodically, level 1 differential backups are created with the same tag as the level 0 data file copy. The <code dir="ltr">BACKUP FOR RECOVER OF COPY</code> command specifies that an incremental backup should contain <span class="italic">only</span> blocks changed since the most recent incremental backup with the same tag.</p>
</li>
<li>
<p>Periodically, the incremental backups are applied to the level 0 data file copy. Because the data file copy has been updated with more recent changes, it now requires less media recovery.</p>
</li>
</ul>
<p><a href="#CIHDBFFF">Table 2-2</a> explains which options to use with <code dir="ltr">FOR RECOVER OF COPY</code> to implement an incrementally updated backup strategy.</p>
<div id="BRADV123" class="tblruleformal">
<p class="titleintable"><a id="sthref138"></a><a id="CIHDBFFF"></a>Table 2-2 FOR RECOVER OF COPY Options</p>
<table class="cellalignment1945" title="FOR RECOVER OF COPY Options" summary="FOR RECOVER OF COPY options" dir="ltr">
<thead>
<tr class="cellalignment1934">
<th class="cellalignment1941" id="r1c1-t11">BACKUP Option</th>
<th class="cellalignment1941" id="r1c2-t11">Description</th>
<th class="cellalignment1941" id="r1c3-t11">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">FOR RECOVER OF COPY WITH TAG</code> <code dir="ltr">'</code><code dir="ltr"><span class="codeinlineitalic">tag_name</span></code><code dir="ltr">'</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t11 r1c2-t11">
<p>Use <code dir="ltr">TAG</code> to identify the tag of the data file copy serving as basis for the backup strategy. RMAN automatically assigns the same tag to every level 1 backup of this copy.</p>
<p>If no level 0 data file copy with the specified tag exists in either the current or parent database <a href="glossary.htm#i432741"><span class="xrefglossterm">incarnation</span></a>, then RMAN creates a level 0 data file copy with the specified tag.</p>
</td>
<td class="cellalignment1942" headers="r2c1-t11 r1c3-t11">
<pre dir="ltr">
BACKUP 
  INCREMENTAL LEVEL 1
  FOR RECOVER OF COPY 
  WITH TAG 'incr_update'
  DATABASE;
</pre></td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">FOR RECOVER OF COPY DATAFILECOPY FORMAT '</code><code dir="ltr"><span class="codeinlineitalic">format</span></code><code dir="ltr">'</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t11 r1c2-t11">
<p>Specifies where RMAN creates the data file copy if a copy does not exist. If you add a new data file to the database, then you do not need to change your script, because RMAN automatically creates the level 0 copy required by the incremental backup routine.</p>
</td>
<td class="cellalignment1942" headers="r3c1-t11 r1c3-t11">
<pre dir="ltr">
BACKUP 
  INCREMENTAL LEVEL 1
  FOR RECOVER OF COPY
  DATAFILECOPY FORMAT
  '/disk2/df1.cpy'
  DATABASE;
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<p class="subhead2"><a id="BRADV124"></a>To implement an incrementally updated backup strategy:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p><a id="sthref139"></a><a id="sthref140"></a>Run the <code dir="ltr">RECOVER COPY</code> and <code dir="ltr">BACKUP INCREMENTAL</code> commands.</p>
<p>The following script, run on a regular basis, is all that is required to implement a strategy based on incrementally updated backups.</p>
<pre dir="ltr">
<a id="CHDFEACB"></a>
RECOVER COPY OF DATABASE 
  WITH TAG 'incr_update';
BACKUP 
  INCREMENTAL LEVEL 1
  FOR RECOVER OF COPY WITH TAG 'incr_update'
  DATABASE;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmbckba.htm#CHDEHBFF">"Incrementally Updating Backups"</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="BRADV89355" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref141"></a>
<h3 class="sect2">Validating Database Files and Backups</h3>
<p>You can use the <code dir="ltr">VALIDATE</code> command to confirm that all <a id="sthref142"></a>database files exist, are in their correct location, and are free of physical corruption. The <code dir="ltr">CHECK LOGICAL</code> option also checks for logical block corruption.</p>
<p class="subhead2"><a id="BRADV125"></a>To validate database files:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p><a id="sthref143"></a><a id="sthref144"></a>Run the <code dir="ltr">BACKUP VALIDATE ...</code> command for the desired files.</p>
<p>For example, enter the following commands to validate all database files and archived redo log files for physical and logical corruption:</p>
<pre dir="ltr">
BACKUP VALIDATE CHECK LOGICAL
  DATABASE ARCHIVELOG ALL;
</pre>
<p>You can also use the <a class="olink RCMRF162" href="../../backup.112/e10643/rcmsynta2024.htm#RCMRF162"><code dir="ltr">VALIDATE</code></a> command to check individual data blocks, as shown in the following example:</p>
<pre dir="ltr">
VALIDATE DATAFILE 4 BLOCK 10 TO 13;
</pre>
<p>You can also validate <a id="sthref145"></a>backup sets, as shown in the following example:</p>
<pre dir="ltr">
VALIDATE BACKUPSET 3;
</pre>
<p>You specify backup sets by primary key, which is shown in the output of the <code dir="ltr">LIST BACKUP</code> command.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="rcmvalid.htm#CHDBFAIF">Chapter 16, "Validating Database Files and Backups"</a></p>
</li>
<li>
<p><a class="olink RCMRF107" href="../../backup.112/e10643/rcmsynta007.htm#RCMRF107"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code dir="ltr">VALIDATE</code> command syntax and semantics</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i773595"></a>
<div id="BRADV89356" class="sect2">
<h3 class="sect2">Scripting RMAN Operations</h3>
<p><a id="sthref146"></a>RMAN supports the use of command files to manage recurring tasks such as weekly backups. A <a id="sthref147"></a><a href="glossary.htm#CHDGBHFB"><span class="xrefglossterm">command file</span></a> is a client-side text file containing RMAN commands, exactly as you enter them at the RMAN prompt. You can use any file extension. The <a class="olink RCMRF151" href="../../backup.112/e10643/rcmsynta2012.htm#RCMRF151"><code dir="ltr">RUN</code></a> command provides a degree of flow-of-control in your scripts.</p>
<p class="subhead2"><a id="BRADV126"></a>To create and run a command file:</p>
<ol>
<li>
<p>Use a text editor to create a command file.</p>
<p>For example, create a command file with the following contents:</p>
<pre dir="ltr">
# my_command_file.txt
CONNECT TARGET /
BACKUP DATABASE PLUS ARCHIVELOG;
LIST BACKUP;
EXIT;
</pre></li>
<li>
<p>Start RMAN and then execute the contents of a command file by running the <a class="olink RCMRF100" href="../../backup.112/e10643/rcmsynta001.htm#RCMRF100"><code dir="ltr">@</code></a> command at the RMAN prompt:</p>
<pre dir="ltr">
% rman
RMAN&gt; @/<span class="codeinlineitalic">my_dir</span>/<span class="codeinlineitalic">my_command_file.txt</span>  # runs specified command file
</pre>
<p>You can also launch RMAN with a command file to run, as shown here:</p>
<pre dir="ltr">
% rman @/<span class="codeinlineitalic">my_dir</span>/<span class="codeinlineitalic">my_command_file.txt</span>
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmcnctg.htm#BABBDAEA">"Using Command Files with RMAN"</a> to learn more about command files, and <a href="rcmcnctg.htm#CHDFIGBC">"Using Substitution Variables in Command Files"</a> to learn how to use substitution variables in command files and pass parameters at run time</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i766656"></a>
<div id="BRADV89357" class="sect1">
<h2 class="sect1">Reporting on RMAN Operations</h2>
<p><a id="sthref148"></a>The RMAN <a class="olink RCMRF132" href="../../backup.112/e10643/rcmsynta027.htm#RCMRF132"><code dir="ltr">LIST</code></a> and <a class="olink RCMRF147" href="../../backup.112/e10643/rcmsynta2006.htm#RCMRF147"><code dir="ltr">REPORT</code></a> commands generate reports on backup activities based on the RMAN repository. Use the <a class="olink RCMRF154" href="../../backup.112/e10643/rcmsynta2015.htm#RCMRF154"><code dir="ltr">SHOW ALL</code></a> command to display the current RMAN configuration.</p>
<div id="BRADV89358" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref149"></a>
<h3 class="sect2">Listing Backups</h3>
<p><a id="sthref150"></a><a id="sthref151"></a><a id="sthref152"></a>Run the <code dir="ltr">LIST</code> <code dir="ltr">BACKUP</code> and <code dir="ltr">LIST</code> <code dir="ltr">COPY</code> commands to display information about backups and data file copies listed in the repository. For backups, you can control the format of <code dir="ltr">LIST</code> output with the options in <a href="#CIHEECHB">Table 2-3</a> and <a href="#CIHCGGEI">Table 2-4</a>.</p>
<div id="BRADV127" class="tblruleformal">
<p class="titleintable"><a id="sthref153"></a><a id="CIHEECHB"></a>Table 2-3 LIST Options for Backups</p>
<table class="cellalignment1945" title="LIST Options for Backups" summary="Describes the BY BACKUP, BY FILE, and SUMMARY options" dir="ltr">
<thead>
<tr class="cellalignment1934">
<th class="cellalignment1941" id="r1c1-t15">Option</th>
<th class="cellalignment1941" id="r1c2-t15">Example</th>
<th class="cellalignment1941" id="r1c3-t15">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">BY</code> <code dir="ltr">BACKUP</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t15 r1c2-t15">
<p><code dir="ltr">LIST</code> <code dir="ltr">BACKUP</code> <code dir="ltr">OF</code> <code dir="ltr">DATABASE</code> <code dir="ltr">BY</code> <code dir="ltr">BACKUP</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t15 r1c3-t15">
<p>Organizes the output by backup set. This is the default mode of presentation.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r3c1-t15" headers="r1c1-t15">
<p><code dir="ltr">BY</code> <code dir="ltr">FILE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t15 r1c2-t15">
<p><code dir="ltr">LIST</code> <code dir="ltr">BACKUP</code> <code dir="ltr">BY</code> <code dir="ltr">FILE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t15 r1c3-t15">
<p>Lists the backups according to which file was backed up.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r4c1-t15" headers="r1c1-t15">
<p><code dir="ltr">SUMMARY</code></p>
</td>
<td class="cellalignment1942" headers="r4c1-t15 r1c2-t15">
<p><code dir="ltr">LIST</code> <code dir="ltr">BACKUP</code> <code dir="ltr">SUMMARY</code></p>
</td>
<td class="cellalignment1942" headers="r4c1-t15 r1c3-t15">
<p>Displays summary output.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<p>For both backups and copies you have additional options shown in <a href="#CIHCGGEI">Table 2-4</a>.</p>
<div id="BRADV130" class="tblruleformal">
<p class="titleintable"><a id="sthref154"></a><a id="CIHCGGEI"></a>Table 2-4 Additional LIST Options</p>
<table class="cellalignment1945" title="Additional LIST Options" summary="Describes the EXPIRED and RECOVERABLE options" dir="ltr">
<thead>
<tr class="cellalignment1934">
<th class="cellalignment1941" id="r1c1-t16">Option</th>
<th class="cellalignment1941" id="r1c2-t16">Example</th>
<th class="cellalignment1941" id="r1c3-t16">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">EXPIRED</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t16 r1c2-t16">
<p><code dir="ltr">LIST</code> <code dir="ltr">EXPIRED</code> <code dir="ltr">COPY</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t16 r1c3-t16">
<p>Lists backups that are recorded in the RMAN repository but that were not present at the expected location on disk or tape during the last <code dir="ltr">CROSSCHECK</code> command. An <a href="glossary.htm#CHDGICAB"><span class="xrefglossterm">expired backup</span></a> may have been deleted by an operating system utility.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">RECOVERABLE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t16 r1c2-t16">
<p><code dir="ltr">LIST</code> <code dir="ltr">BACKUP RECOVERABLE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t16 r1c3-t16">
<p>Lists data file backups or copies that have status <code dir="ltr">AVAILABLE</code> in the RMAN repository and that can be restored and recovered.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<p class="subhead2"><a id="BRADV131"></a>To list backups and copies:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">LIST</code> command at the RMAN prompt.</p>
<p>You can display specific objects, as in the following examples:</p>
<pre dir="ltr">
LIST BACKUP OF DATABASE;
LIST COPY OF DATAFILE 1, 2;
LIST BACKUP OF ARCHIVELOG FROM SEQUENCE 10;
LIST BACKUPSET OF DATAFILE 1;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="rcmreprt.htm#CHDIDAEC">"Listing Backups and Recovery-Related Objects"</a> to learn more about the <code dir="ltr">LIST</code> command</p>
</li>
<li>
<p><a class="olink RCMRF132" href="../../backup.112/e10643/rcmsynta027.htm#RCMRF132"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code dir="ltr">LIST</code> command syntax</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="BRADV89359" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref155"></a>
<h3 class="sect2">Reporting on Database Files and Backups</h3>
<p><a id="sthref156"></a><a id="sthref157"></a>The <code dir="ltr">REPORT</code> command performs more complex analysis than <code dir="ltr">LIST</code>. Some main options are shown in <a href="#CIHBJGBG">Table 2-5</a>.</p>
<div id="BRADV551" class="tblruleformal">
<p class="titleintable"><a id="sthref158"></a><a id="CIHBJGBG"></a>Table 2-5 REPORT Options</p>
<table class="cellalignment1945" title="REPORT Options" summary="Describes the NEED BACKUP, OBSOLETE, UNRECOVERABLE, and SCHEMA options" dir="ltr">
<thead>
<tr class="cellalignment1934">
<th class="cellalignment1941" id="r1c1-t18">Option</th>
<th class="cellalignment1941" id="r1c2-t18">Example</th>
<th class="cellalignment1941" id="r1c3-t18">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r2c1-t18" headers="r1c1-t18">
<p><code dir="ltr">NEED</code> <code dir="ltr">BACKUP</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t18 r1c2-t18">
<p><code dir="ltr">REPORT</code> <code dir="ltr">NEED</code> <code dir="ltr">BACKUP DATABASE</code></p>
</td>
<td class="cellalignment1942" headers="r2c1-t18 r1c3-t18">
<p>Shows which files need backing up under current retention policy. Use optional <code dir="ltr">REDUNDANCY</code> and <code dir="ltr">RECOVERY</code> <code dir="ltr">WINDOW</code> parameters to specify different criteria.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r3c1-t18" headers="r1c1-t18">
<p><code dir="ltr">OBSOLETE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t18 r1c2-t18">
<p><code dir="ltr">REPORT</code> <code dir="ltr">OBSOLETE</code></p>
</td>
<td class="cellalignment1942" headers="r3c1-t18 r1c3-t18">
<p>Lists backups that are obsolete under the configured <a href="glossary.htm#i432137"><span class="xrefglossterm">backup retention policy</span></a>. Use the optional <code dir="ltr">REDUNDANCY</code> and <code dir="ltr">RECOVERY</code> <code dir="ltr">WINDOW</code> parameters to override the default.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r4c1-t18" headers="r1c1-t18">
<p><code dir="ltr">SCHEMA</code></p>
</td>
<td class="cellalignment1942" headers="r4c1-t18 r1c2-t18">
<p><code dir="ltr">REPORT</code> <code dir="ltr">SCHEMA</code></p>
</td>
<td class="cellalignment1942" headers="r4c1-t18 r1c3-t18">
<p>Reports the tablespaces and data files in the database at the current time (default) or a different time.</p>
</td>
</tr>
<tr class="cellalignment1934">
<td class="cellalignment1942" id="r5c1-t18" headers="r1c1-t18">
<p><code dir="ltr">UNRECOVERABLE</code></p>
</td>
<td class="cellalignment1942" headers="r5c1-t18 r1c2-t18">
<p><code dir="ltr">REPORT</code> <code dir="ltr">UNRECOVERABLE</code></p>
</td>
<td class="cellalignment1942" headers="r5c1-t18 r1c3-t18">
<p>Lists all data files for which an unrecoverable operation has been performed against an object in the data file since the last backup of the data file.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformal" -->
<p class="subhead2"><a id="BRADV133"></a>To generate reports of database files and backups:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">REPORT</code> command at the RMAN prompt.</p>
<p>The following example reports backups that are obsolete according to the currently configured backup retention policy:</p>
<pre dir="ltr">
REPORT OBSOLETE;
</pre>
<p>The following example reports the data files and temp files in the database:</p>
<pre dir="ltr">
REPORT SCHEMA;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmreprt.htm#i1008987">"Reporting on Backups and Database Schema"</a> to learn how to use the <code dir="ltr">REPORT</code> command for RMAN reporting</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i766774"></a>
<div id="BRADV89360" class="sect1">
<h2 class="sect1">Maintaining RMAN Backups</h2>
<p><a id="sthref159"></a>RMAN repository metadata is always stored in the control file of the target database. <a id="sthref160"></a><a id="sthref161"></a>The <a href="glossary.htm#CHDJGAGC"><span class="xrefglossterm">RMAN maintenance commands</span></a> use this metadata when managing backups.</p>
<div id="BRADV89362" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref162"></a>
<h3 class="sect2">Cross-checking Backups</h3>
<p>The <a class="olink RCMRF119" href="../../backup.112/e10643/rcmsynta015.htm#RCMRF119"><code dir="ltr">CROSSCHECK</code></a> command synchronizes the logical records of RMAN backups and copies with the files on storage media. If a backup is on disk, then <code dir="ltr">CROSSCHECK</code> determines whether the header of the file is valid. If a backup is on tape, then RMAN queries the RMAN repository for the names and locations of the backup pieces. It is a good idea to crosscheck backups and copies before deleting them.</p>
<p class="subhead2"><a id="BRADV552"></a>To crosscheck all backups and copies on disk:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">CROSSCHECK</code> command, as shown in the following example:</p>
<pre dir="ltr">
CROSSCHECK BACKUP;
CROSSCHECK COPY;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmmaint.htm#i1007384">"Crosschecking the RMAN Repository"</a> to learn how to crosscheck RMAN backups</div>
</div>
<!-- class="sect2" -->
<div id="BRADV89363" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref163"></a>
<h3 class="sect2">Deleting Obsolete Backups</h3>
<p><a id="sthref164"></a>The <a class="olink RCMRF121" href="../../backup.112/e10643/rcmsynta016.htm#RCMRF121"><code dir="ltr">DELETE</code></a> command removes RMAN backups and copies from disk and tape, updates the status of the files to <code dir="ltr">DELETED</code> in the control file repository, and removes the records from the recovery catalog (if you use a catalog). If you run RMAN interactively, and if you do not specify the <code dir="ltr">NOPROMPT</code> option, then <code dir="ltr">DELETE</code> displays a list of files and prompts for confirmation before deleting any file in the list.</p>
<p><a id="sthref165"></a>The <code dir="ltr">DELETE OBSOLETE</code> command is particular useful because RMAN deletes backups and data file copies recorded in the RMAN repository that are obsolete, that is, no longer needed. You can use options on the <code dir="ltr">DELETE</code> command to specify what is obsolete or use the configured <a href="glossary.htm#i432137"><span class="xrefglossterm">backup retention policy</span></a>.</p>
<p class="subhead2"><a id="BRADV135"></a>To delete obsolete backups and copies:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">DELETE OBSOLETE</code> command, as shown in the following example:</p>
<pre dir="ltr">
DELETE OBSOLETE;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmmaint.htm#i1006215">"Deleting RMAN Backups and Archived Redo Logs"</a> to learn how to use the <code dir="ltr">DELETE</code> command</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABFBFJD"></a>
<div id="BRADV89364" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Diagnosing and Repairing Failures with Data Recovery Advisor</h2>
<p>The simplest way to diagnose and repair database problems is to use the <a id="sthref166"></a><a href="glossary.htm#CHDBDJFH"><span class="xrefglossterm">Data Recovery Advisor</span></a>. This Oracle Database tool provides an infrastructure for diagnosing persistent data failures, presenting repair options to the user, and automatically executing repairs.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmrepai.htm#CHDDBECC">"Overview of Data Recovery Advisor"</a></div>
<div id="BRADV89365" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref167"></a>
<h3 class="sect2">Listing Failures and Determining Repair Options</h3>
<p>A <a href="glossary.htm#CHDGFDFC"><span class="xrefglossterm">failure</span></a> is a persistent data corruption detected by the Health Monitor. Examples include physical and logical <a id="sthref168"></a>data block corruptions and missing data files. Each failure has a <a href="glossary.htm#CHDICHDJ"><span class="xrefglossterm">failure priority</span></a> and <a href="glossary.htm#CHDDIEID"><span class="xrefglossterm">failure status</span></a>. The priority can be <code dir="ltr">CRITICAL</code>, <code dir="ltr">HIGH</code>, or <code dir="ltr">LOW</code>. The status can be <code dir="ltr">OPEN</code> or <code dir="ltr">CLOSED</code>.</p>
<p>You can run the <a class="olink RCMRF132" href="../../backup.112/e10643/rcmsynta027.htm#RCMRF132"><code dir="ltr">LIST</code></a> <code dir="ltr">FAILURE</code> command to show all known failures. If failures exist, then run the <a class="olink RCMRF166" href="../../backup.112/e10643/rcmsynta003.htm#RCMRF166"><code dir="ltr">ADVISE FAILURE</code></a> command in the same session to determine manual and automated repair options. The following example illustrates these two commands (sample output included).</p>
<div id="BRADV136" class="example">
<p class="titleinexample"><a id="BABIEHJH"></a>Example 2-1 LIST FAILURE and ADVISE FAILURE</p>
<pre dir="ltr">
RMAN&gt; <span class="bold">LIST FAILURE;</span>
 
List of Database Failures
=========================
 
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
142        HIGH     OPEN      23-APR-07     One or more non-system datafiles are missing
101        HIGH     OPEN      23-APR-07     Datafile 1: '/disk1/oradata/prod/system01.dbf' 
                                            contains one or more corrupt blocks

RMAN&gt; <span class="bold">ADVISE FAILURE;</span>
 
List of Database Failures
=========================
 
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
142        HIGH     OPEN      23-APR-07     One or more non-system datafiles are missing
101        HIGH     OPEN      23-APR-07     Datafile 1: '/disk1/oradata/prod/system01.dbf' 
                                            contains one or more corrupt blocks
 
analyzing automatic repair options; this may take some time
using channel ORA_DISK_1
analyzing automatic repair options complete
 
Mandatory Manual Actions
========================
no manual actions available
 
Optional Manual Actions
=======================
1. If file /disk1/oradata/prod/users01.dbf was unintentionally renamed or moved, restore it
 
Automated Repair Options
========================
Option Repair Description
------ ------------------
1      Restore and recover datafile 28; Perform block media recovery of 
       block 56416 in file 1
  Strategy: The repair includes complete media recovery with no data loss
  Repair script: /disk1/oracle/log/diag/rdbms/prod/prod/hm/reco_660500184.hm
</pre></div>
<!-- class="example" -->
<p>The <code dir="ltr">ADVISE FAILURE</code> output shows both manual and automated repair options. First try to fix the problem manually. If you cannot fix the problem manually, then review the automated repair section.</p>
<p>An automated <a href="glossary.htm#CHDGCGGF"><span class="xrefglossterm">repair option</span></a> describes a server-managed repair for one or more failures. Repairs are consolidated when possible so that a single repair can fix multiple failures. The repair option indicates which repair is performed and whether data is lost by performing the repair operation.</p>
<p>In <a href="#BABIEHJH">Example 2-1</a>, the output indicates the file name of a repair script containing RMAN commands. If you do not want to use Data Recovery Advisor to repair the failure automatically, then you can use the script as the basis of your own recovery strategy.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmrepai.htm#CHDGCAIB">"Listing Failures"</a> and <a href="rcmrepai.htm#CHDHADBD">"Determining Repair Options"</a></div>
</div>
<!-- class="sect2" -->
<div id="BRADV89366" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref169"></a>
<h3 class="sect2">Repairing Failures</h3>
<p>After running <code dir="ltr">LIST FAILURE</code> and <code dir="ltr">ADVISE FAILURE</code> in an <a id="sthref170"></a><a href="glossary.htm#CHDHHCJB"><span class="xrefglossterm">RMAN session</span></a>, you can run <a class="olink RCMRF199" href="../../backup.112/e10643/rcmsynta2004.htm#RCMRF199"><code dir="ltr">REPAIR FAILURE</code></a> to execute a repair option. If you execute <code dir="ltr">REPAIR FAILURE</code> with no other command options, then RMAN uses the first repair option of the most recent <code dir="ltr">ADVISE FAILURE</code> command in the current session. Alternatively, specify the repair option number obtained from the most recent <code dir="ltr">ADVISE FAILURE</code> command. <a href="#BABDHDJI">Example 2-2</a> illustrates how to repair the failures identified in <a href="#BABIEHJH">Example 2-1</a>.</p>
<div id="BRADV553" class="example">
<p class="titleinexample"><a id="BABDHDJI"></a>Example 2-2 REPAIR FAILURE</p>
<pre dir="ltr">
RMAN&gt; REPAIR FAILURE;
</pre></div>
<!-- class="example" -->
<p>By default, <code dir="ltr">REPAIR FAILURE</code> prompts for confirmation before it begins executing. After executing a repair, Data Recovery Advisor reevaluates all existing failures on the possibility that they may also have been fixed. Data Recovery Advisor always verifies that failures are still relevant and automatically closes fixed failures. If a repair fails to complete because of an error, then the error triggers a new assessment and re-evaluation of existing failures and repairs.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmrepai.htm#CHDGGBIH">"Repairing Failures"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBHDFJ"></a>
<div id="BRADV89367" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Rewinding a Database with Flashback Database</h2>
<p>You can use the <a id="sthref171"></a><a href="glossary.htm#CHDHJFEH"><span class="xrefglossterm">Oracle Flashback Database</span></a> to rewind the whole database to a past time. Unlike media recovery, you do not need to restore data files to return the database to a past state.</p>
<p>To use the RMAN <a class="olink RCMRF194" href="../../backup.112/e10643/rcmsynta023.htm#RCMRF194"><code dir="ltr">FLASHBACK DATABASE</code></a> command, your database must have been previously configured to generate <a id="sthref172"></a><a href="glossary.htm#CHDFHAAE"><span class="xrefglossterm">flashback logs</span></a>. This configuration task is described in <a href="flashdb.htm#BGBJAGBC">"Flashback Database"</a>. Flashback Database works by rewinding changes to the data files that exist at the moment that you run the command. You cannot use the command to repair media failures or missing data files.</p>
<p>The database must be mounted when you issue <code dir="ltr">FLASHBACK DATABASE</code>. If you have previously created a <a id="sthref173"></a><a href="glossary.htm#CHDEBAAG"><span class="xrefglossterm">restore point</span></a>, then you can flash back to this restore point if it falls within the <a href="glossary.htm#CHDIEAFD"><span class="xrefglossterm">flashback database window</span></a>.</p>
<p class="subhead2"><a id="BRADV554"></a>To rewind a database with Flashback Database:</p>
<ol>
<li>
<p>Start RMAN and connect to a target database.</p>
</li>
<li>
<p>Ensure that the database is in a mounted state.</p>
<p>The following commands shut down and then mount the database:</p>
<pre dir="ltr">
SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
</pre></li>
<li>
<p>Run the <code dir="ltr">FLASHBACK DATABASE</code> command.</p>
<p>The following examples illustrate different forms of the command:</p>
<pre dir="ltr">
FLASHBACK DATABASE TO SCN 861150;

FLASHBACK DATABASE 
  TO RESTORE POINT BEFORE_CHANGES;

FLASHBACK DATABASE    
  TO TIMESTAMP TO_DATE(04-DEC-2009  03:30:00','DD-MON-YYYY HH24:MI:SS');
</pre></li>
<li>
<p>After performing the Flashback Database, open the database read-only in SQL*Plus and run some queries to verify the database contents.</p>
<p>Open the database read-only as follows:</p>
<pre dir="ltr">
SQL "ALTER DATABASE OPEN READ ONLY";
</pre></li>
<li>
<p>If satisfied with the results, then issue the following sequence of commands to shut down and then open the database:</p>
<pre dir="ltr">
SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
ALTER DATABASE OPEN RESETLOGS;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmflash.htm#BGBDCAFA">"Rewinding a Database with Flashback Database"</a></div>
</div>
<!-- class="sect1" -->
<a id="i999413"></a>
<div id="BRADV89368" class="sect1">
<h2 class="sect1">Restoring and Recovering Database Files</h2>
<p>Use the <a class="olink RCMRF149" href="../../backup.112/e10643/rcmsynta2008.htm#RCMRF149"><code dir="ltr">RESTORE</code></a> and <a class="olink RCMRF140" href="../../backup.112/e10643/rcmsynta2001.htm#RCMRF140"><code dir="ltr">RECOVER</code></a> commands for RMAN restore and recovery of physical database files. Restoring data files is retrieving them from backups as needed for a recovery operation. Media recovery is the application of changes from redo logs and incremental backups to a restored data file to bring the data file forward to a desired SCN or point in time.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmcomre.htm#g1047425">Chapter 17, "Performing Complete Database Recovery"</a></div>
<a id="BABDHHDF"></a>
<div id="BRADV99956" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Preparing to Restore and Recover Database Files</h3>
<p>If you must recover the database because a media failure damages database files, then you should first ensure that you have the necessary backups. You can use the <code dir="ltr">RESTORE ... PREVIEW</code> command to report, but not restore, the backups that RMAN could use to restore to the specified time. RMAN queries the metadata and does not actually read the backup files. The database can be open when you run this command.</p>
<p class="subhead2"><a id="BRADV555"></a>To preview a database restore and recovery:</p>
<ol>
<li>
<p>Start RMAN and connect to the target database.</p>
</li>
<li>
<p>Optionally, list the current tablespaces and data files, as shown in the following command:</p>
<pre dir="ltr">
RMAN&gt; REPORT SCHEMA;
</pre></li>
<li>
<p>Run the <code dir="ltr">RESTORE DATABASE</code> command with the <code dir="ltr">PREVIEW</code> option.</p>
<p>The following command specifies <code dir="ltr">SUMMARY</code> so that the backup metadata is not displayed in verbose mode (sample output included):</p>
<pre dir="ltr">
RMAN&gt; RESTORE DATABASE PREVIEW SUMMARY;
 
Starting restore at 21-MAY-07
allocated channel: ORA_DISK_1
channel ORA_DISK_1: SID=80 device type=DISK
 
List of Backups
===============
Key     TY LV S Device Type Completion Time #Pieces #Copies Compressed Tag
------- -- -- - ----------- --------------- ------- ------- ---------- ---
11      B  F  A DISK        18-MAY-07       1       2       NO         TAG20070518T181114
13      B  F  A DISK        18-MAY-07       1       2       NO         TAG20070518T181114
using channel ORA_DISK_1
 
List of Archived Log Copies for database with db_unique_name PROD
=====================================================================
 
Key     Thrd Seq     S Low Time
------- ---- ------- - ---------
47      1    18      A 18-MAY-07
        Name: /disk1/oracle/dbs/db1r_60ffa882_1_18_0622902157.arc
 
Media recovery start SCN is 586534
Recovery must be done beyond SCN 587194 to clear datafile fuzziness
validation succeeded for backup piece
Finished restore at 21-MAY-07
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<div id="BRADV89369" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref174"></a>
<h3 class="sect2">Recovering the Whole Database</h3>
<p>Use the <code dir="ltr">RESTORE</code> <code dir="ltr">DATABASE</code> and <code dir="ltr">RECOVER</code> <code dir="ltr">DATABASE</code> commands to recover the whole database. You must have previously made backups of all needed files. This scenario assumes that you can restore all data files to their original locations. If the original locations are inaccessible, then use the <code dir="ltr">SET NEWNAME</code> command as described in <a href="rcmcomre.htm#CHDHAAGG">"Restoring Datafiles to a Nondefault Location"</a>.</p>
<p class="subhead2"><a id="BRADV556"></a>To recover the whole database:</p>
<ol>
<li>
<p>Prepare for recovery as explained in <a href="#BABDHHDF">"Preparing to Restore and Recover Database Files"</a>.</p>
</li>
<li>
<p>Place the database in a mounted state.</p>
<p>The following example terminates the database instance (if it is started) and mounts the database:</p>
<pre dir="ltr">
RMAN&gt; STARTUP FORCE MOUNT;
</pre></li>
<li>
<p>Restore the database.</p>
<p>The following example uses the preconfigured disk channel to restore the database:</p>
<pre dir="ltr">
RMAN&gt; RESTORE DATABASE;
</pre></li>
<li>
<p>Recover the database, as shown in the following example:</p>
<pre dir="ltr">
RMAN&gt; RECOVER DATABASE;
</pre></li>
<li>
<p>Open the database, as shown in the following example:</p>
<pre dir="ltr">
RMAN&gt; ALTER DATABASE OPEN;
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<div id="BRADV89370" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref175"></a>
<h3 class="sect2">Recovering Tablespaces</h3>
<p>Use the <code dir="ltr">RESTORE</code> <code dir="ltr">TABLESPACE</code> and <code dir="ltr">RECOVER</code> <code dir="ltr">TABLESPACE</code> commands on individual tablespaces when the database is open. In this case, you must take the tablespace that needs recovery offline, restore and then recover the tablespace, and bring the recovered tablespace online.</p>
<p>If you need to restore a data file to a new location, then use the RMAN <code dir="ltr">SET NEWNAME</code> command within a <code dir="ltr">RUN</code> command to specify the new file name. Afterward, use a <code dir="ltr">SWITCH DATAFILE ALL</code> command, which is equivalent to using the SQL statement <code dir="ltr">ALTER DATABASE RENAME FILE</code>, to update the control file to reflect the new names for all data files for which a <code dir="ltr">SET NEWNAME</code> has been issued in the <code dir="ltr">RUN</code> command.</p>
<p>Unlike in user-managed media recovery, you should <span class="italic">not</span> place an online tablespace in <a href="glossary.htm#i432099"><span class="xrefglossterm">backup mode</span></a>. Unlike user-managed tools, RMAN does not require extra logging or backup mode because it knows the format of data blocks.</p>
<p class="subhead2"><a id="BRADV557"></a>To recover an individual tablespace when the database is open:</p>
<ol>
<li>
<p>Prepare for recovery as explained in <a href="#BABDHHDF">"Preparing to Restore and Recover Database Files"</a>.</p>
</li>
<li>
<p>Take the tablespace to be recovered offline:</p>
<p>The following example takes the <code dir="ltr">USERS</code> tablespace offline:</p>
<pre dir="ltr">
RMAN&gt; SQL 'ALTER TABLESPACE users OFFLINE';
</pre></li>
<li>
<p>Restore and recover the tablespace.</p>
<p>The following <code dir="ltr">RUN</code> command, which you execute at the RMAN prompt, sets a new name for the data file in the <code dir="ltr">USERS</code> tablespace:</p>
<pre dir="ltr">
RUN
{
  SET NEWNAME FOR DATAFILE '/disk1/oradata/prod/users01.dbf' 
    TO '/disk2/users01.dbf';
  RESTORE TABLESPACE users;
  SWITCH DATAFILE ALL;   # update control file with new file names
  RECOVER TABLESPACE users;
}
</pre></li>
<li>
<p>Bring the tablespace online, as shown in the following example:</p>
<pre dir="ltr">
RMAN&gt; SQL 'ALTER TABLESPACE users ONLINE';
</pre></li>
</ol>
<p>You can also use <code dir="ltr">RESTORE DATAFILE</code> and <code dir="ltr">RECOVER DATAFILE</code> for recovery at the data file level.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="rcmcomre.htm#CHDHICDF">"Performing Complete Recovery of a Tablespace"</a></p>
</li>
<li>
<p><a href="rcmcncpt.htm#i1008641">"Online Backups and Backup Mode"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="BRADV89371" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref176"></a>
<h3 class="sect2">Recovering Individual Data Blocks</h3>
<p>RMAN can recover individual corrupted data file <a id="sthref177"></a>blocks. When RMAN performs a complete scan of a file for a backup, any corrupted blocks are listed in<a id="sthref178"></a> <code dir="ltr">V$DATABASE_BLOCK_CORRUPTION</code>. Corruption is usually reported in alert logs, trace files, or results of SQL queries.</p>
<p class="subhead2"><a id="BRADV558"></a>To recover data blocks:</p>
<ol>
<li>
<p>Obtain the block numbers of the corrupted blocks if you do not have this information.</p>
<p>The easiest way to locate trace files and the alert log is to connect SQL*Plus to the target database and execute the following <a id="sthref179"></a>query:</p>
<pre dir="ltr">
SQL&gt; SELECT NAME, VALUE 
  2  FROM V$DIAG_INFO;
</pre></li>
<li>
<p>Start RMAN and connect to the target database.</p>
</li>
<li>
<p>Run the <code dir="ltr">RECOVER</code> command to repair the blocks.</p>
<p>The following RMAN command recovers all corrupted blocks:</p>
<pre dir="ltr">
RMAN&gt; RECOVER CORRUPTION LIST;
</pre>
<p>You can also recover individual blocks, as shown in the following example:</p>
<pre dir="ltr">
RMAN&gt; RECOVER DATAFILE 1 BLOCK 233, 235 DATAFILE 2 BLOCK 100 TO 200;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rcmblock.htm#CHDCBIIB">Chapter 19, "Performing Block Media Recovery"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1933">
<tr>
<td class="cellalignment1942">
<table class="cellalignment1938">
<tr>
<td class="cellalignment1937"><a href="rcmintro.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1937"><a href="part_pln.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1944">
<table class="cellalignment1936">
<tr>
<td class="cellalignment1937"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1937"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1937"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1937"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1937"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1937"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
