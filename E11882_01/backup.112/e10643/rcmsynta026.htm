<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>IMPORT CATALOG</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1054" />
<meta name="description" content="A guide to backup and recovery of Oracle databases, including RMAN backup and recovery, RMAN data transfer, Oracle Flashback Technology, and user-managed backup and recovery" />
<meta name="dcterms.created" content="2015-05-13T7:47:42Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Backup and Recovery Reference" />
<meta name="dcterms.identifier" content="E10643-09" />
<meta name="dcterms.isVersionOf" content="RCMRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rcmsynta025.htm" title="Previous" type="text/html" />
<link rel="Next" href="rcmsynta027.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10643.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">39/158</span> <!-- End Header --><a id="CHDBAJAJ"></a>
<div id="RCMRF198" class="refsect1">
<h1 class="refsect1">IMPORT CATALOG<a id="ABC3453759"></a><a id="ABC3453759SRI1"></a><a id="ABC3453759SRI12"></a><a id="ABC3453759SRI123"></a><a id="ABC3453759SRI1234"></a></h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1092"></a>Purpose</p>
<p>Use the <code dir="ltr">IMPORT CATALOG</code> command to import the metadata from one recovery catalog schema into a different catalog schema. If you created catalog schemas of different versions to store metadata for multiple target databases, then this command enables you to maintain a single catalog schema for all databases.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<code dir="ltr"><a href="rcmsynta013.htm#i80886">CREATE CATALOG</a></code></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1093"></a>Prerequisites</p>
<p>RMAN must be connected to the destination recovery catalog, which is the catalog into which you want to import catalog data. This recovery catalog must not be a virtual private catalog.</p>
<p>No target database connection is needed to merge catalog schemas. Execute this command at the RMAN prompt or within the braces of a <code dir="ltr"><a href="rcmsynta2012.htm#i85731">RUN</a></code> command.</p>
<p>The version of the source recovery catalog schema must be equal to the current version of the destination recovery catalog schema. If they are not equal, then upgrade the schemas to the same version.</p>
<p>Ensure that the same database is not registered in both the source recovery catalog schema and destination catalog schema. If a database is registered in both schemas, then <code dir="ltr"><a href="rcmsynta2022.htm#BGBFHHFG">UNREGISTER</a></code> this database from source recovery catalog and execute the <code dir="ltr">IMPORT</code> command again.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1094"></a>Usage Notes</p>
<p>If the operation fails in the middle of the import, then the import is rolled back. Thus, a partial import is not permitted. The unregister operation is separate from the import. By default, the imported database IDs are unregistered from the source recovery catalog schema after a successful import.</p>
<p><a id="sthref1095"></a>Stored scripts are either global or local. It is possible for global scripts, but not local scripts, to have name conflicts during import because the destination schema already contains the script name. In this case, RMAN renames the global script name to <code dir="ltr">COPY OF</code> <code dir="ltr"><span class="codeinlineitalic">script_name</span></code>. For example, RMAN renames <code dir="ltr">bp_cmd</code> to <code dir="ltr">COPY OF bp_cmd</code>.</p>
<p>If the renamed global script is still not unique, then RMAN renames it to <code dir="ltr">COPY(2) OF</code> <code dir="ltr"><span class="codeinlineitalic">script_name</span></code>. If this script name also exists, then RMAN renames the script to <code dir="ltr">COPY(3) OF</code> <code dir="ltr"><span class="codeinlineitalic">script_name</span></code>. RMAN continues the <code dir="ltr">COPY(</code><code dir="ltr"><span class="codeinlineitalic">n</span></code><code dir="ltr">) OF</code> pattern until the script is uniquely named.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1096"></a>Syntax</p>
<p class="subhead2"><a id="RCMRF90194"></a><span class="italic">import</span>::=</p>
<img width="593" height="162" src="img/import.gif" alt="IMPORT Command" /><br />
<a id="sthref1097" href="img_text/import.htm">Description of the illustration import.gif</a><br />
<br />
<p>(<a href="rcmsubcl004.htm#BABHGJJD"><span class="xreftitleitalic"><span class="italic">connectStringSpec</span>::=</span></a>)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1098"></a>Semantics</p>
<div class="inftblinformalwide">
<table class="cellalignment1929" title="Semantics for IMPORT Command" summary="Describes IMPORT CATALOG command parameters" dir="ltr">
<thead>
<tr class="cellalignment1920">
<th class="cellalignment1930" id="r1c1-t91">Syntax Element</th>
<th class="cellalignment1930" id="r1c2-t91">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1920">
<td class="cellalignment1926" id="r2c1-t91" headers="r1c1-t91"><code dir="ltr"><span class="codeinlineitalic"><a href="rcmsubcl004.htm#i80822">connectStringSpec</a></span></code></td>
<td class="cellalignment1926" headers="r2c1-t91 r1c2-t91">Specifies the connection string for the source recovery catalog, which is the catalog whose metadata is imported.</td>
</tr>
<tr class="cellalignment1920">
<td class="cellalignment1926" id="r3c1-t91" headers="r1c1-t91"><code dir="ltr"><a id="sthref1099"></a>DBID</code> <code dir="ltr"><span class="codeinlineitalic">integer</span></code></td>
<td class="cellalignment1926" headers="r3c1-t91 r1c2-t91">Specifies the list of DBIDs for the databases whose metadata is imported from the source catalog schema (see <a href="#CHDIBDIB">Example 2-93</a>).
<p>When not specified, RMAN merges metadata for all database IDs from the source catalog schema into the destination catalog schema. RMAN issues an error if the database whose metadata is merged is already registered in the recovery catalog schema.</p>
</td>
</tr>
<tr class="cellalignment1920">
<td class="cellalignment1926" id="r4c1-t91" headers="r1c1-t91"><code dir="ltr"><a id="sthref1100"></a>DB_NAME</code> <code dir="ltr"><span class="codeinlineitalic">database_name</span></code></td>
<td class="cellalignment1926" headers="r4c1-t91 r1c2-t91">Specifies the list of databases whose metadata is imported from the source catalog schema (see <a href="#CHDIBDIB">Example 2-93</a>).
<p>When not specified, RMAN merges metadata for all databases from the source catalog schema into the destination catalog schema. RMAN issues an error if the same DBID is registered in both recovery catalogs.</p>
</td>
</tr>
<tr class="cellalignment1920">
<td class="cellalignment1926" id="r5c1-t91" headers="r1c1-t91"><code dir="ltr"><a id="sthref1101"></a>NO UNREGISTER</code></td>
<td class="cellalignment1926" headers="r5c1-t91 r1c2-t91">Forces RMAN to keep imported database IDs in the source catalog schema. By default, the imported database IDs are unregistered from source recovery catalog schema.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformalwide" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1102"></a><a id="sthref1103"></a>Examples</p>
<div id="RCMRF90195" class="example">
<p class="titleinexample"><a id="CHDIIACD"></a>Example 2-92 Importing Metadata for All Registered Databases</p>
<p>In this example, database <code dir="ltr">inst1</code> contains a 10.2 catalog schema owned by user <code dir="ltr">rcat</code>, while database <code dir="ltr">catdb</code> contains an 11.1 catalog schema owned by user <code dir="ltr">rco</code>. RMAN imports metadata for all database IDs registered in <code dir="ltr">rcat</code> into the recovery catalog owned by <code dir="ltr">rco</code>. All target databases registered in <code dir="ltr">rcat</code> are unregistered.</p>
<pre dir="ltr">
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database
 
RMAN&gt; IMPORT CATALOG rcat@prod;
 
Starting import catalog at 15-FEB-07
source recovery catalog database Password: <span class="italic">password</span>
connected to source recovery catalog database
import validation complete
database unregistered from the source recovery catalog
Finished import catalog at 15-FEB-07
</pre></div>
<!-- class="example" -->
<div id="RCMRF90196" class="example">
<p class="titleinexample"><a id="CHDIBDIB"></a>Example 2-93 Importing Metadata for a Subset of Registered Databases</p>
<p>This example is a variation on <a href="#CHDIIACD">Example 2-92</a>. Instead of importing the entire recovery catalog, it imports only the metadata for the database with DBID 1618984270.</p>
<pre dir="ltr">
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database
 
RMAN&gt; IMPORT CATALOG rcat@inst1 DBID=1618984270;
 
Starting import catalog at 15-FEB-07
source recovery catalog database Password: <span class="italic">password</span>
connected to source recovery catalog database
import validation complete
database unregistered from the source recovery catalog
Finished import catalog at 15-FEB-07
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1919">
<tr>
<td class="cellalignment1926">
<table class="cellalignment1924">
<tr>
<td class="cellalignment1923"><a href="rcmsynta025.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1923"><a href="rcmsynta027.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1928">
<table class="cellalignment1922">
<tr>
<td class="cellalignment1923"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1923"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1923"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1923"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1923"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1923"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
