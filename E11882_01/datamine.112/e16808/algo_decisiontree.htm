<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Decision Tree</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 735" />
<meta name="dcterms.created" content="2013-06-29T13:13:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Data Mining Concepts" />
<meta name="dcterms.identifier" content="E16808-07" />
<meta name="dcterms.isVersionOf" content="DMCON" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="algo_apriori.htm" title="Previous" type="text/html" />
<link rel="Next" href="algo_glm.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e16808.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">21/34</span> <!-- End Header -->
<div id="DMCON019" class="chapter"><a id="CACDDIBC"></a>
<h1 class="chapter"><span class="secnum">11</span> Decision Tree</h1>
<p><a id="ABC4422066"></a>This <a id="sthref414"></a>chapter describes <a id="sthref415"></a>Decision Tree, one of the classification algorithms supported by Oracle Data Mining.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="classify.htm#BABEJGDC">Chapter 5, "Classification"</a></div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABIDDDI">About Decision Tree</a></p>
</li>
<li>
<p><a href="#CACJAGDA">Growing a Decision Tree</a></p>
</li>
<li>
<p><a href="#BGBICFAJ">Tuning the Decision Tree Algorithm</a></p>
</li>
<li>
<p><a href="#CACCGADI">Data Preparation for Decision Tree</a></p>
</li>
</ul>
<a id="BABIDDDI"></a>
<div id="DMCON296" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Decision Tree</h2>
<p>The Decision Tree algorithm, like Naive Bayes, is based on conditional probabilities. Unlike Naive Bayes, decision trees generate <span class="bold">rules</span>. A rule is a conditional statement that can easily be understood by humans and easily used within a database to identify a set of records.</p>
<p>In some applications of data mining, the reason for predicting one outcome or another may not be important in evaluating the overall quality of a model. In others, the ability to explain the reason for a decision can be crucial. For example, a Marketing professional would need complete descriptions of customer segments in order to launch a successful marketing campaign. The Decision Tree algorithm is ideal for this type of application.</p>
<a id="CACBGECD"></a>
<div id="DMCON297" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Decision Tree Rules</h3>
<p>Oracle Data Mining supports several algorithms that provide <a id="sthref416"></a>rules. In addition to decision trees, clustering algorithms (described in <a href="clustering.htm#CHDIIABF">Chapter 7</a>) provide rules that describe the conditions shared by the members of a cluster, and association rules (described in <a href="market_basket.htm#BABDCBJG">Chapter 8</a>) provide rules that describe associations between attributes.</p>
<p>Rules provide <span class="bold"><a id="sthref417"></a>model transparency</span>, a window on the inner workings of the model. Rules show the basis for the model's predictions. Oracle Data Mining supports a high level of model transparency. While some algorithms provide rules, <span class="italic">all</span> algorithms provide <span class="bold"><a id="sthref418"></a>model details</span>. You can examine model details to determine how the algorithm handles the attributes internally, including transformations and reverse transformations. Transparency is discussed in the context of data preparation in <a href="xform_data.htm#BABGADFF">Chapter 19</a> and in the context of model building in <a class="olink DMPRG003" href="../../datamine.112/e12218/models_building.htm#DMPRG003"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a>.</p>
<p><a href="#BGBDGCFI">Figure 11-1</a> shows a rule generated by a Decision Tree model. This rule comes from a decision tree that predicts the probability that customers will increase spending if given a loyalty card. A target value of 0 means not likely to increase spending; 1 means likely to increase spending.</p>
<div id="DMCON298" class="figure">
<p class="titleinfigure"><a id="BGBDGCFI"></a>Figure 11-1 Sample Decision Tree Rule</p>
<img width="470" height="184" src="img/tree_rule.gif" alt="Description of Figure 11-1 follows" /><br />
<a id="sthref419" href="img_text/tree_rule.htm">Description of "Figure 11-1 Sample Decision Tree Rule"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The rule shown in <a href="#BGBDGCFI">Figure 11-1</a> represents the conditional statement:</p>
<pre>
IF 
          (current residence &gt; 3.5 and has college degree and is single) 
THEN
          predicted target value = 0
</pre>
<p>This rule is a full rule. A surrogate rule is a related attribute that can be used at apply time if the attribute needed for the split is missing.</p>
<div id="DMCON299" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref420"></a>
<h4 class="sect3">Confidence and Support</h4>
<p>Confidence and support are properties of rules. These statistical measures can be used to rank the rules and hence the predictions.</p>
<p><span class="bold">Support</span>: The number of records in the training data set that satisfy the rule.</p>
<p><span class="bold">Confidence</span>: The likelihood of the predicted outcome, given that the rule has been satisfied.</p>
<p>For example, consider a list of 1000 customers (1000 cases). Out of all the customers, 100 satisfy a given rule. Of these 100, 75 are likely to increase spending, and 25 are not likely to increase spending. The <span class="bold">support of the rule</span> is 100/1000 (10%). The <span class="bold">confidence of the prediction</span> (likely to increase spending) for the cases that satisfy the rule is 75/100 (75%).</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACCJCEJ"></a>
<div id="DMCON300" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Advantages of Decision Trees</h3>
<p>The Decision Tree algorithm produces accurate and interpretable models with relatively little user intervention. The algorithm can be used for both binary and multiclass classification problems.</p>
<p>The algorithm is fast, both at build time and apply time. The build process for Decision Tree is parallelized. (Scoring can be parallelized irrespective of the algorithm.)</p>
<p>Decision tree scoring is especially fast. The tree structure, created in the model build, is used for a series of simple tests, (typically 2-7). Each test is based on a single predictor. It is a membership test: either IN or NOT IN a list of values (categorical predictor); or LESS THAN or EQUAL TO some value (numeric predictor).</p>
</div>
<!-- class="sect2" -->
<a id="CACBIDBD"></a>
<div id="DMCON306" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">XML for Decision Tree Models</h3>
<p>You can generate <a id="sthref421"></a>XML representing a decision tree model; the generated XML satisfies the definition specified in the Data Mining Group Predictive Model Markup Language (PMML) version 2.1 specification. The specification is available <code><a href="http://www.dmg.org">http://www.dmg.org</a></code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACJAGDA"></a>
<div id="DMCON301" class="sect1">
<h2 class="sect1">Growing a Decision Tree</h2>
<p>A decision tree predicts a target value by asking a sequence of questions. At a given stage in the sequence, the question that is asked depends upon the answers to the previous questions. The goal is to ask questions that, taken together, uniquely identify specific target values. Graphically, this process forms a tree structure.</p>
<div id="DMCON302" class="figure">
<p class="titleinfigure"><a id="BGBBGCGF"></a>Figure 11-2 Sample Decision Tree</p>
<img width="577" height="313" src="img/treediagram.gif" alt="Description of Figure 11-2 follows" /><br />
<a id="sthref422" href="img_text/treediagram.htm">Description of "Figure 11-2 Sample Decision Tree"</a><br />
<br /></div>
<!-- class="figure" -->
<p><a href="#BGBBGCGF">Figure 11-2</a> is a decision tree with nine nodes (and nine corresponding rules). The target attribute is binary: 1 if the customer will increase spending, 0 if the customer will not increase spending. The first split in the tree is based on the <code>CUST_MARITAL_STATUS</code> attribute. The root of the tree (node 0) is split into nodes 1 and 3. Married customers are in node 1; single customers are in node 3.</p>
<p>The rule associated with node 1 is:</p>
<pre>
Node 1 recordCount=712,0 Count=382, 1 Count=330
CUST_MARITAL_STATUS isIN  "Married",surrogate:HOUSEHOLD_SIZE isIn "3""4-5"
</pre>
<p>Node 1 has 712 records (cases). In all 712 cases, the <code>CUST_MARITAL_STATUS</code> attribute indicates that the customer is married. Of these, 382 have a target of 0 (not likely to increase spending), and 330 have a target of 1 (likely to increase spending).</p>
<div id="DMCON303" class="sect2"><a id="sthref423"></a>
<h3 class="sect2">Splitting</h3>
<p>During the training process, the Decision Tree algorithm must repeatedly find the most efficient way to split a set of cases (records) into two child nodes. Oracle Data Mining offers two homogeneity metrics, <span class="bold"><a id="sthref424"></a>gini</span> and <span class="bold"><a id="sthref425"></a>entropy</span>, for calculating the splits. The default metric is gini.</p>
<p>Homogeneity metrics asses the quality of alternative split conditions and select the one that results in the most homogeneous child nodes. Homogeneity is also called <span class="bold">purity</span>; it refers to the degree to which the resulting child nodes are made up of cases with the same target value. The objective is to maximize the purity in the child nodes. For example, if the target can be either yes or no (will or will not increase spending), the objective is to produce nodes where most of the cases will increase spending or most of the cases will not increase spending.</p>
</div>
<!-- class="sect2" -->
<div id="DMCON304" class="sect2"><a id="sthref426"></a>
<h3 class="sect2">Cost Matrix</h3>
<p>All classification algorithms, including Decision Tree, support a <a id="sthref427"></a>cost-benefit matrix at apply time. You can use the same cost matrix for building and scoring a Decision Tree model, or you can specify a different cost/benefit matrix for scoring.</p>
<p>See <a href="classify.htm#BGBCBDII">"Costs"</a> and <a href="classify.htm#i1005760">"Priors"</a>.</p>
</div>
<!-- class="sect2" -->
<div id="DMCON305" class="sect2"><a id="sthref428"></a>
<h3 class="sect2">Preventing <a id="sthref429"></a>Over-Fitting</h3>
<p>In principle, Decision Tree algorithms can grow each branch of the tree just deeply enough to perfectly classify the training examples. While this is sometimes a reasonable strategy, in fact it can lead to difficulties when there is noise in the data, or when the number of training examples is too small to produce a representative sample of the true target function. In either of these cases, this simple algorithm can produce trees that over-fit the training examples. Over-fit is a condition where a model is able to accurately predict the data used to create the model, but does poorly on new data presented to it.</p>
<p>To prevent over-fitting, Oracle Data Mining supports automatic <span class="bold"><a id="sthref430"></a>pruning</span> and configurable <span class="bold">limit conditions</span> that control tree growth. Limit conditions prevent further splits once the conditions have been satisfied. Pruning removes branches that have insignificant predictive power.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBICFAJ"></a>
<div id="DMCON307" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Tuning the Decision Tree Algorithm</h2>
<p>The Decision Tree algorithm is implemented with reasonable defaults for splitting and termination criteria. However several build settings are available for fine tuning.</p>
<p>You can specify a homogeneity metric for finding the optimal split condition for a tree. The default metric is gini. The entropy metric is also available.</p>
<p>Settings for controlling the growth of the tree are also available. You can specify the maximum depth of the tree, the minimum number of cases required in a child node, the minimum number of cases required in a node in order for a further split to be possible, the minimum number of cases in a child node, and the minimum number of cases required in a node in order for a further split to be possible.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS610" href="../../appdev.112/e40758/d_datmin.htm#ARPLS610"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details</div>
</div>
<!-- class="sect1" -->
<a id="CACCGADI"></a>
<div id="DMCON308" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Data Preparation for Decision Tree</h2>
<p>The Decision Tree algorithm manages its own data preparation internally. It does not require pretreatment of the data. Decision Tree is not affected by Automatic Data Preparation.</p>
<p>Decision Tree interprets missing values as missing at random. The algorithm does not support nested tables and thus does not support sparse data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also<a id="sthref431"></a>:</p>
<p><a href="xform_data.htm#BABGADFF">Chapter 19, "Automatic and Embedded Data Preparation"</a></p>
<p><a class="olink DMPRG005" href="../../datamine.112/e12218/xform_casetbl.htm#DMPRG005"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for information about nested data and missing value treatment</p>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1311">
<tr>
<td class="cellalignment1318">
<table class="cellalignment1316">
<tr>
<td class="cellalignment1315"><a href="algo_apriori.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1315"><a href="algo_glm.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1320">
<table class="cellalignment1314">
<tr>
<td class="cellalignment1315"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1315"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1315"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1315"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1315"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1315"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
