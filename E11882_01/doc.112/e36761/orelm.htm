<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle R Enterprise Versions of R Models</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 730" />
<meta name="dcterms.created" content="2013-04-16T10:39:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="R Enterprise User's Guide" />
<meta name="dcterms.identifier" content="E36761-08" />
<meta name="dcterms.isVersionOf" content="OREUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="predict.htm" title="Previous" type="text/html" />
<link rel="Next" href="mining.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e36761.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/14</span> <!-- End Header -->
<div class="chapter"><a id="CACEJIBC"></a>
<h1 class="chapter"><span class="secnum">6</span> Oracle R Enterprise Versions of R Models</h1>
<p>Oracle R Enterprise includes<a id="sthref81"></a> several functio<a id="sthref82"></a>ns that create R models with data in Database tables.</p>
<p>These functions are available at this time:</p>
<ul>
<li>
<p><code><a href="#BJHCAFIE">ore.lm()</a></code></p>
</li>
<li>
<p><a href="#BJHJHEJD">ore.stepwise()</a></p>
</li>
<li>
<p><a href="#BJHDHIIC">ore.neural()</a></p>
</li>
</ul>
<p>This approach has several advantages, as described in <a href="#CEGJFADI">ore.lm() and ore.stepwise() Advantages</a>.</p>
<a id="BJHCAFIE"></a>
<div class="sect1">
<h2 class="sect1">ore.lm()</h2>
<p><code>ore.lm()</code> performs least squares regression on data represented in an ore.frame object. The model creates a model matrix using the <code>model.matrix</code> method from the <code>OREstats</code> package. The model matrix and the response variable are then represented in SQL and passed to an in-database algorithm. The in-database algorithm estimates the model using an algorithm involving a block update QR decomposition with column pivoting. After the in-database algorithm estimates the coefficients, it does a second pass of the data to estimate the model-level statistics. Finally, the model is returned as an <code>ore.lm</code> object.</p>
<p>The implementation of <code>ore.lm()</code> and <code>ore.stepwise()</code> provides several advantages, as described in <a href="#CEGJFADI">ore.lm() and ore.stepwise() Advantages</a>.</p>
<p><code>ore.lm</code> will not estimate the coefficient values for a set of collinear terms.</p>
<p>After the model is created, use <code>summary</code> to create a summary of the model.</p>
<p>For an example, see <a href="#CACHCHAH">Linear Regression Example</a>.</p>
<a id="CEGJFADI"></a>
<div class="sect2">
<h3 class="sect2">ore.lm() and ore.stepwise() Advantages</h3>
<p>These are important advantages of the way that <code>ore.lm()</code> and <code>ore.stepwise()</code> are implemented:</p>
<ul>
<li>
<p>Both algorithms provide accurate solutions using out-of-core QR factorization. QR factorization decomposes a matrix into an orthogonal matrix and a triangular matrix.</p>
<p>QR-based estimates are often are substantially more accurate than alternative techniques.</p>
<p>QR is an algorithm of choice for difficult rank-deficient models.</p>
</li>
<li>
<p>You can process data that does not fit into machine's memory, that is, out-of-core data. QR factors a matrix into two matrices, one of which fit into memory with he other stored on disk.</p>
<p><code>ore.lm()</code> and <code>ore.stepwise()</code> can solve data sets with more than one billion rows.</p>
</li>
<li>
<p><code>ore.lm()</code> and <code>ore.stepwise()</code> allow fast implementations of forward, backward, and stepwise model selection techniques.</p>
</li>
</ul>
<p><code>ore.neural</code> has similar advantages.</p>
</div>
<!-- class="sect2" -->
<a id="CACHCHAH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Linear Regression Example</h3>
<p>This example pushes<code>longley</code> to a table and builds a regression model:</p>
<pre>
# longley consiste of employment statistics:
head(longley)
     GNP.deflator     GNP Unemployed Armed.Forces Population Year Employed
1947         83.0 234.289      235.6        159.0    107.608 1947   60.323
1948         88.5 259.426      232.5        145.6    108.632 1948   61.122
1949         88.2 258.054      368.2        161.6    109.773 1949   60.171
1950         89.5 284.599      335.1        165.0    110.929 1950   61.187
1951         96.2 328.975      209.9        309.9    112.075 1951   63.221
1952         98.1 346.999      193.2        359.4    113.270 1952   63.639
#Push longley to a table
LONGLEY &lt;- ore.push(longley)
# Fit full model
  oreFit1 &lt;- ore.lm(Employed ~ ., data = LONGLEY)
  summary(oreFit1)
</pre>
<p>For more information, see the R help associated with <code>ore.lm</code> invoked by <code>help(ore.lm)</code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BJHJHEJD"></a>
<div class="sect1">
<h2 class="sect1">ore.stepwise()</h2>
<p><code>ore.stepwise()</code> performs stepwise least squares regression on data represented in an <code>ore.frame</code> object. The model creates a model matrix using the <code>model.matrix</code> method from the <code>OREstats</code> package. The model matrix and the response variable are then represented in SQL and passed to an in-database algorithm. The in-database algorithm estimates the model using an algorithm involving a block update QR decomposition with column pivoting. After the in-database algorithm estimates the coefficients, it does a second pass of the data to estimate the model-level statistics. Finally, the model is returned as an <code>ore.stepwise</code> object.</p>
<p><code>ore.stepwise()</code> excludes collinear terms throughout the computation.</p>
<p>After the model is created, use <code>summary</code> to view a summary of the model.</p>
<p>For an example, see <a href="#CACEEFDI">Stepwise Regression Example</a>.</p>
<a id="CACEEFDI"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Stepwise Regression Example</h3>
<p>This example pushes <code>longley</code> to a table and builds a stepwise model.</p>
<pre>
LONGLEY &lt;- ore.push(longley)
 
 # Two stepwise alternatives
  oreStep1 &lt;-
    ore.stepwise(Employed ~ .^2, data = LONGLEY, add.p = 0.1, drop.p = 0.1)
  oreStep2 &lt;-
    step(ore.lm(Employed ~ 1, data = LONGLEY),
         scope = terms(Employed ~ .^2, data = LONGLEY))
</pre>
<p>For more information, see the R help associated with <code>ore.lm</code> invoked by <code>help(ore.lm)</code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BJHDHIIC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">ore.neural()</h2>
<p>Neural network models can be used to capture intricate nonlinear relationships between inputs and outputs, or to find patterns in data.</p>
<p><code>ore.neural()</code> builds a single layer feedforward neural network on <code>ore.frame</code> data.</p>
<p><code>ore.neural()</code>uses the Broyden&ndash;Fletcher&ndash;Goldfarb&ndash;Shanno (BFGS) method to solve the underlying unconstrained nonlinear optimization problem that results from fitting a neural network.</p>
<p>The output of <code>ore.neural()</code> is an object of type <code>ore.neural</code>.</p>
<p>For detailed information about parameters and output, see the R help for <code>ore.neural()</code>. For an example, see <a href="#CACCBFGA">Neural Network Example</a>.</p>
<a id="CACCBFGA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Neural Network Example</h3>
<p>This example builds a neural network with default values, including hidden size 1.</p>
<p>The <code>longley</code> data set consists of statistics related to employment. This example pushes <code>longley</code> to a table. Note that the example creates a model that uses a subset of <code>longley</code> and then predicts results for a different subset of <code>longley</code>.</p>
<pre>
trainData &lt;- ore.push(longley[1:11, ])
testData &lt;- ore.push(longley[12:16, ])

fit &lt;- ore.neural('Employed ~ GNP + Population + Year', data = trainData)

ans &lt;- predict(fit, newdata = testData)
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2090">
<tr>
<td class="cellalignment2097">
<table class="cellalignment2095">
<tr>
<td class="cellalignment2094"><a href="predict.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2094"><a href="mining.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2099">
<table class="cellalignment2093">
<tr>
<td class="cellalignment2094"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2094"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2094"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2094"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2094"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2094"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
