<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Error Messages, Diagnosis, and Reporting</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 042" />
<meta name="dcterms.created" content="2012-01-23T19:16:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for DRDA User's Guide" />
<meta name="dcterms.identifier" content="E12014-03" />
<meta name="dcterms.isVersionOf" content="DRDAG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2004, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dev_apps.htm" title="Previous" type="text/html" />
<link rel="Next" href="a_db2dd.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12014.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/13</span> <!-- End Header --><a id="g33155"></a><a id="DRDAG199"></a><a id="i27488"></a>
<h1 class="chapter"><span class="secnum">5</span> Error Messages, Diagnosis, and Reporting</h1>
<p>This chapter provides information about error <a id="sthref613"></a>messages and error codes specific to the Oracle Database Gateway for DRDA. It contains the following sections:</p>
<ul>
<li>
<p><a href="#i23894">Interpreting Gateway Error Messages</a></p>
</li>
<li>
<p><a href="#i24001">Mapped Errors</a></p>
</li>
<li>
<p><a href="#i25970">SQL Tracing and the Gateway</a></p>
</li>
</ul>
<a id="i23894"></a><a id="DRDAG200"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Interpreting Gateway Error Messages<a id="sthref614"></a></h2>
<p>The gateway architecture consists of different components. Any component may detect and report an <a id="sthref615"></a>error condition while processing SQL statements that refer to one or more DRDA database tables. This means that errors can be complex, involving error codes and supporting data from multiple components. In all cases, however, the application ultimately receives a single error code or a return code.</p>
<p>As most gateway messages exceed the 70&nbsp;character message area in the Oracle SQL Communications Area (SQLCA), the programmatic interfaces and <a id="sthref616"></a>Oracle Call Interfaces, that you use to access data through the gateway should use SQLGLM or OERHMS to view the entire text of messages. Refer to the programmer's guide to the Oracle precompilers for additional information about SQLGLM, and refer to the <a class="olink LNCPP" href="../../appdev.112/e10764/toc.htm"><span class="italic">Oracle C++ Call Interface Programmer's Guide</span></a> for additional information about OERHMS.</p>
<p>Errors encountered when using the gateway can originate from many sources, as follows:</p>
<ul>
<li>
<p>Errors detected by the Oracle database</p>
</li>
<li>
<p>Errors detected by the gateway</p>
</li>
<li>
<p>Errors detected in the DRDA software, either on the client or server side</p>
</li>
<li>
<p>Communication errors</p>
</li>
<li>
<p>Errors detected by the server database</p>
</li>
</ul>
<a id="DRDAG201"></a>
<div class="sect2"><a id="sthref617"></a>
<h3 class="sect2"><span class="secnum">5.1.1</span> Errors <a id="sthref618"></a>Detected by the Gateway</h3>
<p>Errors detected by the Oracle database are reported back to the application or tool with the standard <code>ORA</code> type message. Refer to <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for descriptions of these errors. For example, the following error occurs when an undefined database link name is specified:</p>
<pre>
<a id="sthref619"></a><a id="sthref620"></a>ORA-02019:  connection description for <a id="sthref621"></a>remote database not found 
</pre>
<p>Errors in the <code><a id="sthref622"></a><a id="sthref623"></a>ORA-9100</code> to <code>ORA-9199</code> range are reserved for the generic gateway layer (components of the gateway that are not specific to DRDA). Messages in this range are documented in <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="DRDAG203"></a>
<div class="sect2"><a id="sthref624"></a>
<h3 class="sect2"><span class="secnum">5.1.2</span> Errors <a id="sthref625"></a>Detected in the DRDA Software</h3>
<p>Errors detected in the DRDA gateway, on the client or server side, are usually reported with <a id="sthref626"></a>error <a id="sthref627"></a><code>ORA-28500</code>, followed by a gateway-specific expanded error message. There are two return codes reported in the expanded message:</p>
<ul>
<li>
<p><code>drc<a id="sthref628"></a><a id="sthref629"></a></code> specifies DRDA-specific errors.</p>
</li>
<li>
<p><code>grc<a id="sthref630"></a><a id="sthref631"></a></code> specifies generic gateway errors detected in the DRDA layer. These errors are documented in the <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a>.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Error code <code>ORA-28500</code> was error code <code><a id="sthref632"></a>ORA-09100</code> prior to gateway version&nbsp;8. Error code <code><a id="sthref633"></a>ORA-28501</code> was listed as <code>ORA-09101</code> prior to gateway version&nbsp;8.</div>
<p>The values in parentheses that follow the <code>drc</code> values are used for <a id="sthref634"></a><a id="sthref635"></a>debugging by Oracle Support Services. The <code><a id="sthref636"></a><a id="sthref637"></a>errp</code> field indicates the program (client or server) that detected the error. If present,<a id="sthref638"></a><a id="sthref639"></a> <code>errmc</code> lists any <a id="sthref640"></a>error tokens.</p>
<p>For example, the following error message is returned when the database name specified with the <code>DRDA_REMOTE_NAME</code> parameter in the i<code>nitsid.ora</code> file is not defined at the DRDA server:</p>
<pre>
ORA-28500: connection from ORACLE to non-Oracle system returned the message:
</pre></div>
<!-- class="sect2" -->
<a id="DRDAG205"></a>
<div class="sect2"><a id="sthref641"></a>
<h3 class="sect2"><span class="secnum">5.1.3</span> Errors Detected by the DRDA Server</h3>
<p><a id="sthref642"></a>Errors detected by the DRDA server<a id="sthref643"></a> are reported with an <code>ORA-28500</code> followed by a gateway-specific expanded error message. Refer to IBM documentation for the specific database being used. Also refer to <a href="#i24001">Mapped Errors</a> in this chapter for some SQL errors that get translated.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Error code <code>ORA-28500</code> was error code <code>ORA-09100</code> prior to gateway version&nbsp;8. Error code <code>ORA-28501</code> was listed as <code>ORA-09101</code> prior to gateway version&nbsp;8.</div>
<p>For example, the following error message indicates that the DRDA server did not find the DB2 database name specified in the <code>HS_FDS_CONNECT_INFO</code> parameter in the <code>initSID.ora</code> file:</p>
<pre>
ORA-28500: connection from ORACLE to a non-Oracle system returned this message:
[Oracle][ODBC DB2 Wire Protocol driver]Remote Database Not Found: UNKNOWN
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i24001"></a><a id="DRDAG206"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.2</span> Mapped Errors</h2>
<p>Some <a id="sthref644"></a>SQL errors are returned from the DRDA server and are translated to an <a id="sthref645"></a><a id="sthref646"></a>Oracle error code. This is needed when the Oracle instance or gateway provides special handling of an error condition.</p>
<p>The following is an example of a translated object does not exist error:</p>
<pre>
ORA-00942: table or view does not exist
[Oracle][ODBC DB2 Wire Protocol driver][UDB DB2 for OS/390 and z/OS]PCASTRO.XXX IS AN UNDEFINED NAME.
</pre></div>
<!-- class="sect1" -->
<a id="i25970"></a><a id="DRDAG208"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.3</span> SQL Tracing and the Gateway</h2>
<p>When developing applications, it is often useful to be able to see the exact SQL statements that are being passed through the gateway. The following sections describe setting appropriate <a id="sthref647"></a>trace <a id="sthref648"></a>parameters and setting up the <a id="sthref649"></a><a id="sthref650"></a><a id="sthref651"></a>debug gateway.</p>
<a id="DRDAG209"></a>
<div class="sect2"><a id="sthref652"></a>
<h3 class="sect2"><span class="secnum">5.3.1</span> SQL <a id="sthref653"></a>Tracing in the Oracle Database</h3>
<p>Oracle database has a command for capturing the SQL statement that is actually sent to the gateway. This command is called <a id="sthref654"></a><a id="sthref655"></a><code>EXPLAIN PLAN</code>. The <code>EXPLAIN PLAN</code> command is used to determine the execution plan that Oracle database follows to execute a specified SQL statement. This command inserts a row, which describes each step of the execution plan, into a specified table. If you are using cost-based optimization, then this command also determines the cost of executing the statement. The syntax of the command is:</p>
<pre>
EXPLAIN PLAN [ SET STATEMENT_ID = 'text' ]
    [ INTO [schema.]table[@dblink] ] FOR statement 
</pre>
<p>For detailed information on this command, refer to the <a class="olink SQLRF" href="../../server.112/e41084/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
In most cases, <code>EXPLAIN&nbsp;PLAN</code> should be sufficient to extract the SQL statement that is actually sent to the gateway, and thus sent to the DRDA server. However, certain SQL statement form have <a id="sthref656"></a>post-processing performed on them in the gateway.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment152">
<tr>
<td class="cellalignment161">
<table class="cellalignment157">
<tr>
<td class="cellalignment156"><a href="dev_apps.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment156"><a href="a_db2dd.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment163">
<table class="cellalignment155">
<tr>
<td class="cellalignment156"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment156"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment156"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment156"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment156"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment156"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
