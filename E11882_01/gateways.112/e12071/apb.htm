<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Gateway RPC Interface</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-18T21:25:2Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for APPC User's Guide" />
<meta name="dcterms.identifier" content="E12071-03" />
<meta name="dcterms.isVersionOf" content="APPUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="apa.htm" title="Previous" type="text/html" />
<link rel="Next" href="apc.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12071.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">15/20</span> <!-- End Header -->
<div id="APPUG110" class="appendix"><a id="g639177"></a>
<h1 class="appendix"><span class="secnum">B</span> Gateway RPC Interface</h1>
<p>To execute a remote transaction program using the Oracle Database Gateway for APPC you must execute a PL/SQL program to call the gateway functions, using a <a id="sthref1125"></a>remote procedural call (RPC). The gateway functions handle the initiation, data exchange and termination for the gateway conversation with the remote transaction program.</p>
<p>The Oracle Database Gateway for APPC includes a tool, PGAU, to generate the <a id="sthref1126"></a>PL/SQL packages (TIPs) automatically, based on definitions you provide in the form of COBOL record layouts and <a id="sthref1127"></a>PGDL (Procedural Gateway Definition Language).</p>
<p>This appendix contains the following section:</p>
<ul>
<li>
<p><a href="#i634624">"Calling Gateway Functions to Execute Transaction Programs"</a></p>
</li>
</ul>
<a id="i634624"></a>
<div id="APPUG1094" class="sect1">
<h2 class="sect1"><span class="secnum">B.1</span> Calling Gateway Functions to Execute Transaction Programs</h2>
<p>The gateway functions are all executed through <a id="sthref1128"></a>remote procedural calls (RPC). The functions are called from <a id="sthref1129"></a>PL/SQL code as follows:</p>
<pre>
<span class="italic">function@dblink(parm1,parm2,...,parmn);</span> 
</pre>
<p>Where <a href="#g637875">Table B-1</a> describes the parameters in this syntax:</p>
<div id="APPUG1344" class="tblformal">
<p class="titleintable"><a id="sthref1130"></a><a id="g637875"></a>Table B-1 Gateway Functions</p>
<table class="cellalignment339" title="Gateway Functions" summary="describes the parameters in the gateway function syntax" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t2">Item</th>
<th class="cellalignment340" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t2" headers="r1c1-t2">
<p><code><span class="codeinlineitalic">function</span></code></p>
</td>
<td class="cellalignment341" headers="r2c1-t2 r1c2-t2">
<p>is the name of the function being called.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t2" headers="r1c1-t2">
<p><code><span class="codeinlineitalic">dblink</span></code></p>
</td>
<td class="cellalignment341" headers="r3c1-t2 r1c2-t2">
<p>is the name of a predefined database link to the gateway server on the Windows system.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r4c1-t2" headers="r1c1-t2">
<p><code><span class="codeinlineitalic">parm1, parm2,parmn</span></code></p>
</td>
<td class="cellalignment341" headers="r4c1-t2 r1c2-t2">
<p>are the function-specific parameters described later in this appendix.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>Calling a function in PL/SQL code with the <code>@dblink</code> notation following the function name is a remote procedural call.</p>
<div id="APPUG1095" class="sect2"><a id="sthref1131"></a>
<h3 class="sect2"><span class="secnum">B.1.1</span> PGAINIT and PGAINIT_SEC</h3>
<p><code>PGAINIT</code><a id="sthref1132"></a> and <code>PGAINIT_SEC</code> are remote procedural calls that initiate an APPC conversation with a specified transaction program. The difference between the two is that <code>PGAINIT_SEC</code> includes the added capability of being able to set the gateway conversation security user&nbsp;ID and password to values other than the current Oracle user&nbsp;ID and password. Upon successful completion of either function, the conversation is ready to send data to the remote transaction program.</p>
<p><a href="#g637891">Table B-2</a> presents the <code>PGAINIT</code> and <code>PGAINIT_SEC</code> parameters that are common in both procedures. It lists the type, datatype and description of each parameter:</p>
<div id="APPUG1345" class="tblformal">
<p class="titleintable"><a id="sthref1133"></a><a id="g637891"></a>Table B-2 Common PGAINIT and PGAINIT_SEC Parameters</p>
<table class="cellalignment339" title="Common PGAINIT and PGAINIT_SEC Parameters" summary="presents the PGAINIT and PGAINIT_SEC parameters that are common in both procedures. It lists the type, datatype and description of each parameter" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t3">Parameters</th>
<th class="cellalignment340" id="r1c2-t3">Type</th>
<th class="cellalignment340" id="r1c3-t3">Datatypes</th>
<th class="cellalignment340" id="r1c4-t3">Descriptions</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t3" headers="r1c1-t3">
<p><code>CONVID</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t3 r1c2-t3">
<p><code>OUT</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t3 r1c3-t3">
<p><code>RAW(12)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t3 r1c4-t3">
<p><span class="bold">For a gateway using SNA:</span> Conversation identifier returned by the <code>PGAINIT</code> function to be used to identify the conversation to the <code>PGAXFER</code> and <code>PGATERM</code> functions. After <code>PGAINIT</code> is called, this variable must never be modified, or results will be unpredictable.</p>
<p><span class="bold">For a gateway using TCP/IP</span>: Socket file descriptor returned by the <code>PGAINIT</code> function to be used to identify the conversation to the <code>PGAXFER</code> and <code>PGATERM</code> functions. After <code>PGAINIT</code> is called, this variable must never be modified, or results will be unpredictable.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t3" headers="r1c1-t3">
<p><code>TPNAME</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t3 r1c2-t3">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t3 r1c3-t3">
<p><code>VARCHAR2(64)</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t3 r1c4-t3">
<p>Transaction program name of the remote transaction program with which a conversation is to be established. For most OLTPs, the name must be the transaction name as defined to the OLTP. This name can be from <code>1</code> to <code>64</code> characters in length.</p>
<p><span class="bold">Note: For TCP/IP support</span>, the maximum size is 8 characters. For more information, refer to Appendix&nbsp;B, "Gateway Initialization Parameters for TCP/IP Communication Protocol" in the <a class="olink APPCI290" href="../../gateways.112/e12078/apb.htm#APPCI290"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> or <a class="olink APPCW265" href="../../gateways.112/e12079/apb.htm#APPCW265"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows</span></a>.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r4c1-t3" headers="r1c1-t3">
<p><code>LUNAME</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t3 r1c2-t3">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t3 r1c3-t3">
<p><code>VARCHAR2(17)</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t3 r1c4-t3">
<p><span class="bold">For a gateway using SNA:</span> the LU name of the OLTP under which the remote transaction program executes. This parameter is the fully-qualified LU name or alias and can be from 1 to 17 characters in length.</p>
<p><span class="bold">For a gateway using TCP/IP:</span> this parameter is not applicable.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r5c1-t3" headers="r1c1-t3">
<p><code>MODENAME</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t3 r1c2-t3">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t3 r1c3-t3">
<p><code>VARCHAR2(8)</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t3 r1c4-t3">
<p><span class="bold">For a gateway using SNA</span>: Logmode entry name of the logmode table entry on the remote host, which defines the session characteristics for the APPC conversation. This name can be from 1 to 8 characters in length.</p>
<p><span class="bold">For a gateway using TCP/IP:</span> this parameter is not applicable.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r6c1-t3" headers="r1c1-t3">
<p><code>PROFNAME</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t3 r1c2-t3">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t3 r1c3-t3">
<p><code>VARCHAR2(8)</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t3 r1c4-t3">
<p>Profile name of the SNA Side Information profile which defines the conversation. This name can be from 1 to 8 characters in length.</p>
<p><span class="bold">For a gateway using TCP/IP:</span> this name represents a group of IMS transactions similar of similar TCP/IP and IMS Connect attributes.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r7c1-t3" headers="r1c1-t3">
<p><code>SYNCLEVEL</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t3 r1c2-t3">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t3 r1c3-t3">
<p><code>CHAR(1)</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t3 r1c4-t3">
<p><code>SYNCLEVEL</code> for this conversation. This value must be either '0' or '1'.</p>
<p><code>SYNCLEVEL 0</code> indicates that the remote transaction program has no synchronization capabilities.</p>
<p><code>SYNCLEVEL 1</code> indicates that the remote transaction program is capable of responding to <code>CONFIRM</code> requests and is used to ensure data integrity when the remote transaction program is making updates to a database on the remote host.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p><a href="#CHDJEEHJ">Table B-3</a> lists the <code>PGAINIT_SEC</code> parameters which are specific to the procedure:</p>
<div id="APPUG1346" class="tblformal">
<p class="titleintable"><a id="sthref1134"></a><a id="CHDJEEHJ"></a>Table B-3 PGAINIT_SEC Parameters Specific to the Procedure</p>
<table class="cellalignment339" title="PGAINIT_SEC Parameters Specific to the Procedure " summary="lists the PGAINIT_SEC parameters which are specific to the procedure" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t4">Parameter</th>
<th class="cellalignment340" id="r1c2-t4">Type</th>
<th class="cellalignment340" id="r1c3-t4">Datatype</th>
<th class="cellalignment340" id="r1c4-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t4" headers="r1c1-t4">
<p><code>USERID</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t4 r1c2-t4">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t4 r1c3-t4">
<p><code>VARCHAR2(8)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t4 r1c4-t4">
<p>Conversation security user ID to be passed to the target OLTP. The value must be from 1 to 8 characters in length.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t4" headers="r1c1-t4">
<p><code>PASSWORD</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t4 r1c2-t4">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t4 r1c3-t4">
<p><code>VARCHAR2(8)</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t4 r1c4-t4">
<p>Conversation security password to be passed to the target OLTP. The value must be from 1 to 8 characters in length.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="APPUG1347"></a>For Gateways Using the SNA Protocol:</p>
<p>There is an interrelationship between <code>PROFNAME</code> and <code>LUNAME</code>/<code>TPNAME</code>/<code>MODENAME</code>. If <code>PROFNAME</code> is set to blanks or a null value, the <code>LUNAME</code>, <code>TPNAME</code>, and <code>MODENAME</code> parameters are all required to be non-blank values. If they are not all set to non-blank values, an exception is generated. However, if <code>PROFNAME</code> is set to a valid <a id="sthref1135"></a>Side Information Profile name, the <code>LUNAME</code>, <code>TPNAME</code>, and <code>MODENAME</code> parameters can be null or blank, because the Side Information profile specifies all the information necessary to establish the conversation. In this case, any non-blank, non-null values specified for <code>LUNAME</code>, <code>TPNAME</code>, or <code>MODENAME</code> override values set in the Side Information profile.<a id="sthref1136"></a><a id="sthref1137"></a><code>PROFNAME</code> must be set and cannot be blank or null.</p>
<p class="subhead2"><a id="APPUG1348"></a>For Gateways Using the TCP/IP protocol:</p>
<p><code>PROFNAME</code> and <code>TPNAME</code> must be set and cannot be blank or null.</p>
</div>
<!-- class="sect2" -->
<a id="i634365"></a>
<div id="APPUG1096" class="sect2">
<h3 class="sect2"><span class="secnum">B.1.2</span> P<a id="sthref1138"></a><a id="sthref1139"></a><a id="sthref1140"></a>GAXFER<a id="sthref1141"></a><a id="sthref1142"></a></h3>
<p><code>PGAXFER</code> is called to transfer data to and from a remote transaction program on the gateway conversation initialized by <code>PGAINIT</code>. The function sends and/or receives data items based on the calling parameters.</p>
<p><a href="#g637770">Table B-4</a> lists the types, datatypes and descriptions of <code>PGAXFER</code> parameters:</p>
<div id="APPUG1349" class="tblformal">
<p class="titleintable"><a id="sthref1143"></a><a id="g637770"></a>Table B-4 PGAXFER Parameters</p>
<table class="cellalignment339" title="PGAXFER Parameters" summary="lists the types, datatypes and descriptions of PGAXFER parameters" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t5">Parameter</th>
<th class="cellalignment340" id="r1c2-t5">Type</th>
<th class="cellalignment340" id="r1c3-t5">Datatype</th>
<th class="cellalignment340" id="r1c4-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t5" headers="r1c1-t5">
<p><code>CONVID</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t5 r1c2-t5">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t5 r1c3-t5">
<p><code>RAW(12)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t5 r1c4-t5">
<p><span class="bold">For a gateway using SNA:</span> Conversation identifier returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
<p><span class="bold">For a gateway using TCP/IP:</span> Socket file descriptor returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t5" headers="r1c1-t5">
<p><code>SENDBUF</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t5 r1c2-t5">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t5 r1c3-t5">
<p><code>RAW(32763)</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t5 r1c4-t5">
<p>Buffer containing all the data items to be sent to the remote transaction program. The data items are sent as is, with no changes. Data items must appear in the buffer in the exact order in which the remote transaction program expects to receive them. The total size of all the data items cannot exceed the maximum size for a single gateway send, which is <code>32,763</code> bytes for a mapped gateway conversation.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r4c1-t5" headers="r1c1-t5">
<p><code>SENDBUFL</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t5 r1c2-t5">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t5 r1c3-t5">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t5 r1c4-t5">
<p>Total length of the data items contained in <code>SENDBUF</code>. The range is <code>0</code>-<code>32,763</code> bytes. A value of '<code>0</code>' is used when there are no data items to send.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r5c1-t5" headers="r1c1-t5">
<p><code>SENDLNS</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t5 r1c2-t5">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t5 r1c3-t5">
<p><code>RAW(1024)</code></p>
</td>
<td class="cellalignment341" headers="r5c1-t5 r1c4-t5">
<p>Buffer containing an array of up to <code>256</code> 4-byte integer values. The first integer value specifies the number of data items contained in the send buffer (<code>SENDBUF</code>). Following that data item count is a series of integer values specifying the lengths of the data items. There must be an exact match between the data item count and the number of data item length values. Up to <code>255</code> data items can be described by this array. The sum of all the data item lengths cannot exceed the total length in <code>SENDBUFL</code>.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r6c1-t5" headers="r1c1-t5">
<p><code>RECVBUF</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t5 r1c2-t5">
<p><code>OUT</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t5 r1c3-t5">
<p><code>RAW(32763)</code></p>
</td>
<td class="cellalignment341" headers="r6c1-t5 r1c4-t5">
<p>Buffer to contain all the data items received from the remote transaction program. The data items are stored in this buffer in the exact order in which the remote transaction program sends them. The total size of all the data items cannot exceed the maximum size of <code>32,763</code> bytes.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r7c1-t5" headers="r1c1-t5">
<p><code>RECVBUFL</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t5 r1c2-t5">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t5 r1c3-t5">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment341" headers="r7c1-t5 r1c4-t5">
<p>Total length of the receive buffer. The range is <code>0</code>-<code>32,763</code> bytes. A value of '<code>0</code>' is used when there are no data items to receive.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r8c1-t5" headers="r1c1-t5">
<p><code>RECVLNS</code></p>
</td>
<td class="cellalignment341" headers="r8c1-t5 r1c2-t5">
<p><code>INOUT</code></p>
</td>
<td class="cellalignment341" headers="r8c1-t5 r1c3-t5">
<p><code>RAW(1024)</code></p>
</td>
<td class="cellalignment341" headers="r8c1-t5 r1c4-t5">
<p>Buffer containing an array of up to <code>256</code> 4-byte integer values. The first integer value specifies the number of data items to be received into the receive buffer (<code>RECVBUF</code>). Following the data item count is a series of integer values specifying the maximum lengths of the data items to be received. On output, these values are replaced with the actual lengths of the data items received. There must be an exact match between the data item count and the number of data item length values. Up to <code>255</code> data items can be described by this array. The sum of all the data item lengths cannot exceed the total length of the receive buffer (<code>RECVBUFL</code>).</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>When <code>PGAXFER</code> is called, either or both of <code>SENDBUFL</code> and <code>RECVBUFL</code> must be nonzero; in other words, at least one data item must be sent to or received from the remote transaction program. If <code>PGAXFER</code> is called with no data items to send or receive, it generates an exception.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
On each <code>PGAXFER</code> call, all send processing occurs first, followed by all receive processing. If a transaction operates in a manner that requires multiple sets of send and receives, then <code>PGAXFER</code> can be called more than once to accommodate the transaction. If more than <code>32,763</code> bytes of data are to be sent or received, multiple calls to <code>PGAXFER</code> must be made.</div>
</div>
<!-- class="sect2" -->
<a id="i634443"></a>
<div id="APPUG1097" class="sect2">
<h3 class="sect2"><span class="secnum">B.1.3</span> PGAT<a id="sthref1144"></a><a id="sthref1145"></a><a id="sthref1146"></a>ERM<a id="sthref1147"></a><a id="sthref1148"></a></h3>
<p><code>PGATERM</code> is called to terminate an the gateway conversation that was initiated by a previous call to <code>PGAINIT</code>. Upon successful completion of this function, the conversation is deallocated and all storage associated with it is freed.</p>
<p><a href="#g637814">Table B-5</a> presents the types, datatypes and descriptions of <code>PGATERM</code> parameters:</p>
<div id="APPUG1350" class="tblformal">
<p class="titleintable"><a id="sthref1149"></a><a id="g637814"></a>Table B-5 PGATERM Parameters</p>
<table class="cellalignment339" title="PGATERM Parameters" summary="presents the types, datatypes and descriptions of PGATERM parameters" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t7">Parameter</th>
<th class="cellalignment340" id="r1c2-t7">Type</th>
<th class="cellalignment340" id="r1c3-t7">Datatype</th>
<th class="cellalignment340" id="r1c4-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t7" headers="r1c1-t7">
<p><code>CONVID</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t7 r1c2-t7">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t7 r1c3-t7">
<p><code>RAW(12)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t7 r1c4-t7">
<p><span class="bold">For a gateway using SNA:</span> Conversation identifier returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
<p><span class="bold">For a gateway using</span> <span class="bold">TCP/IP</span>: Socket file descriptor returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t7" headers="r1c1-t7">
<p><code>TERMTYPE</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t7 r1c2-t7">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t7 r1c3-t7">
<p><code>CHAR(1)</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t7 r1c4-t7">
<p>Type of termination to be performed.'<code>0</code>' indicates normal completion and '<code>1</code>' indicates abnormal termination, which is only requested if there is an error.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" -->
<div id="APPUG1098" class="sect2"><a id="sthref1150"></a>
<h3 class="sect2"><span class="secnum">B.1.4</span> P<a id="sthref1151"></a><a id="sthref1152"></a>GATCTL<a id="sthref1153"></a><a id="sthref1154"></a></h3>
<p><code>PGATCTL</code> is called by the <code>TRACE_LEVEL</code> parameter at <code>%ORACLE_HOME%\\dg4appc\\admin\init<span class="italic">sid</span>.ora</code> file for Microsoft or <code>$ORACLE_HOME/dg4appc/admin/initsid.ora</code> file on UNIX based systems. Using <code>PGATCTL</code>, the trace level can be changed dynamically from within a <a id="sthref1155"></a>PL/SQL stored procedure. This facility is useful when debugging a new PL/SQL application.</p>
<p><a href="#g637837">Table B-6</a> presents the types, datatypes and descriptions of parameters in <code>PGATCTL</code>:</p>
<div id="APPUG1351" class="tblformal">
<p class="titleintable"><a id="sthref1156"></a><a id="g637837"></a>Table B-6 PGATCTL Parameters</p>
<table class="cellalignment339" title="PGATCTL Parameters" summary="presents the types, datatypes and descriptions of parameters in PGATCTL" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t8">Parameter</th>
<th class="cellalignment340" id="r1c2-t8">Type</th>
<th class="cellalignment340" id="r1c3-t8">Datatype</th>
<th class="cellalignment340" id="r1c4-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t8" headers="r1c1-t8">
<p><code>CONVID</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t8 r1c2-t8">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t8 r1c3-t8">
<p><code>RAW(12)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t8 r1c4-t8">
<p><span class="bold">For a gateway using SNA</span>: Conversation identifier returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
<p><span class="bold">For a gateway using</span> <span class="bold">TCP/IP</span>: Socket file descriptor returned by the <code>PGAINIT</code> function to be used to identify the conversation.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r3c1-t8" headers="r1c1-t8">
<p><code>TRFUNC</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t8 r1c2-t8">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t8 r1c3-t8">
<p><code>CHAR(1)</code></p>
</td>
<td class="cellalignment341" headers="r3c1-t8 r1c4-t8">
<p>Trace control function to be performed. The valid values are:</p>
<p>'<code>S</code>' - set trace flags to the exact value specified by the <code>TRFLAGS</code> parameter.</p>
<p>'<code>E</code>' - enable the trace flags specified by the <code>TRFLAGS</code> parameter, without changing any other flags.</p>
<p>'<code>D</code>' - disable the trace flags specified by the <code>TRFLAGS</code> parameter, without changing any other flags.</p>
</td>
</tr>
<tr class="cellalignment333">
<td class="cellalignment341" id="r4c1-t8" headers="r1c1-t8">
<p><code>TRFLAGS</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t8 r1c2-t8">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t8 r1c3-t8">
<p><code>BINARY_INTEGER</code></p>
</td>
<td class="cellalignment341" headers="r4c1-t8 r1c4-t8">
<p>Trace flags.</p>
<p>Turn on <code>TRACE_LEVEL</code>. Refer to Appendix&nbsp;A, "Gateway Initialization Parameters for SNA Protocol" in the <a class="olink APPCI283" href="../../gateways.112/e12078/apa.htm#APPCI283"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> or <a class="olink APPCW258" href="../../gateways.112/e12079/apa.htm#APPCW258"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows</span></a> for more information if your protocol is SNA.</p>
<p>Refer to Appendix&nbsp;B, "Gateway Initialization Parameters for TCP/IP Communication Protocol" in the <a class="olink APPCI290" href="../../gateways.112/e12078/apb.htm#APPCI290"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> or <a class="olink APPCW265" href="../../gateways.112/e12079/apb.htm#APPCW265"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" -->
<div id="APPUG1099" class="sect2"><a id="sthref1157"></a>
<h3 class="sect2"><span class="secnum">B.1.5</span> PGATRA<a id="sthref1158"></a><a id="sthref1159"></a>C<a id="sthref1160"></a><a id="sthref1161"></a></h3>
<p>This function is called to write a line of user data into the PGA trace file. Using <code>PGATRAC</code>, the flow within a PL/SQL procedure can be traced, along with the events traced, based on the <code>TRACE_LEVEL</code> at <code>%ORACLE_HOME%\\dg4appc\\admin\init<span class="italic">sid</span>.ora</code> for Microsoft Windows or <code>$ORACLE_HOME/dg4appc/admin/initsid.ora</code> on UNIX based systems. This is a useful <a id="sthref1162"></a>debugging tool when developing a new PL/SQL application.</p>
<p><a href="#g637861">Table B-7</a> presents the type, datatype and description of the <code>PGATRAC</code> parameter:</p>
<div id="APPUG1352" class="tblformal">
<p class="titleintable"><a id="sthref1163"></a><a id="g637861"></a>Table B-7 PGATRAC Parameter</p>
<table class="cellalignment339" title="PGATRAC Parameter" summary="presents the type, datatype and description of the PGATRAC parameter" dir="ltr">
<thead>
<tr class="cellalignment333">
<th class="cellalignment340" id="r1c1-t9">Parameter</th>
<th class="cellalignment340" id="r1c2-t9">Type</th>
<th class="cellalignment340" id="r1c3-t9">Datatype</th>
<th class="cellalignment340" id="r1c4-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment333">
<td class="cellalignment341" id="r2c1-t9" headers="r1c1-t9">
<p><code>TRDATA</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t9 r1c2-t9">
<p><code>IN</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t9 r1c3-t9">
<p><code>VARCHAR2(120)</code></p>
</td>
<td class="cellalignment341" headers="r2c1-t9 r1c4-t9">
<p>Line of user data to be written into the gateway trace file. The contents must be printable characters.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment332">
<tr>
<td class="cellalignment341">
<table class="cellalignment337">
<tr>
<td class="cellalignment336"><a href="apa.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment336"><a href="apc.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment344">
<table class="cellalignment335">
<tr>
<td class="cellalignment336"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment336"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment336"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment336"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment336"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment336"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
