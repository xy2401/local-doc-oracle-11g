<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Creating a TIP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-07-18T21:25:1Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for APPC User's Guide" />
<meta name="dcterms.identifier" content="E12071-03" />
<meta name="dcterms.isVersionOf" content="APPUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="admin_util.htm" title="Previous" type="text/html" />
<link rel="Next" href="app_sna.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12071.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/20</span> <!-- End Header -->
<div id="APPUG300" class="chapter"><a id="g1011602"></a>
<h1 class="chapter"><span class="secnum">3</span> Creating a TIP</h1>
<p>This <a id="sthref451"></a>chapter shows in detail how you can define, generate and compile a Transaction Interface Package (TIP). It assumes that a remote host transaction program (RTP) already exists. This transaction program has operational characteristics that dictate how the TIP is defined and how the TIP is used by the client application.<a id="sthref452"></a><a id="sthref453"></a></p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#i1006543">"Granting Privileges for TIP Creators"</a></p>
</li>
<li>
<p><a href="#i1006565">"Evaluating the RHT"</a></p>
</li>
<li>
<p><a href="#i1006733">"Defining and Generating the TIP"</a></p>
</li>
<li>
<p><a href="#i1006777">"Compiling the TIP"</a></p>
</li>
<li>
<p><a href="#i1006800">"TIP Content Documentation (tipname.doc)"</a></p>
</li>
</ul>
<p>The following steps create a TIP for use with a remote host transaction (RHT):</p>
<ul>
<li>
<p>evaluating the RHT</p>
</li>
<li>
<p>preparing the PGAU statements</p>
</li>
<li>
<p>defining and generating the TIP</p>
</li>
<li>
<p>compiling the TIP</p>
</li>
</ul>
<p>This chapter also discusses the generated TIP content file.</p>
<a id="i1006543"></a>
<div id="APPUG958" class="sect1">
<h2 class="sect1"><span class="secnum">3.1</span> <a id="sthref454"></a>Granting Privileges for <a id="sthref455"></a><a id="sthref456"></a>TIP Creators</h2>
<p>Every TIP developer requires access to the following <a id="sthref457"></a>PL/SQL packages, which are shipped with the Oracle database:</p>
<p>For Microsoft Windows:</p>
<ul>
<li>
<p><code>DBMS_PIPE</code> in <code>%ORACLE_HOME%\rdbms\admin</code><a id="sthref458"></a><a id="sthref459"></a></p>
</li>
<li>
<p><code>UTL_RAW</code> in <code>%ORACLE_HOME%\rdbms\admin</code><a id="sthref460"></a><a id="sthref461"></a></p>
</li>
<li>
<p><code>UTL_PG</code> in <code>%ORACLE_HOME%\rdbms\admin</code><a id="sthref462"></a><a id="sthref463"></a></p>
</li>
</ul>
<p>For UNIX based systems:</p>
<ul>
<li>
<p><code>DBMS_PIPE</code> in <code>$ORACLE_HOME/rdbms/admin</code><a id="sthref464"></a><a id="sthref465"></a></p>
</li>
<li>
<p><code>UTL_RAW</code> in <code>$ORACLE_HOME/rdbms/admin</code><a id="sthref466"></a><a id="sthref467"></a></p>
</li>
<li>
<p><code>UTL_PG</code> in <code>$ORACLE_HOME/rdbms/admin</code><a id="sthref468"></a><a id="sthref469"></a></p>
</li>
</ul>
<p>If anyone other than user <a id="sthref470"></a><code>PGAADMIN</code> will be developing TIPs, they will need explicit grants to perform these operations. Refer to the "Optional Configuration Steps" section in the configuration chapter appropriate to your communication protocol in the <a class="olink APPCI" href="../e12078/toc.htm"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> or <a class="olink APPCW" href="../e12079/toc.htm"><span class="italic">Oracle Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows</span></a> or more information about private and public grants.</p>
</div>
<!-- class="sect1" -->
<a id="i1006565"></a>
<div id="APPUG959" class="sect1">
<h2 class="sect1"><span class="secnum">3.2</span> Evaluating the RHT<a id="sthref471"></a></h2>
<p>Follow the steps below to identify and become familiar with your remote host transaction data exchanges.</p>
<div id="APPUG960" class="sect2"><a id="sthref472"></a>
<h3 class="sect2"><span class="secnum">3.2.1</span> Identify the Remote Host Transaction</h3>
<p>You must first identify the RHT data exchange steps. These are the send and receive calls embedded within the RHT program.</p>
<p class="subhead1"><a id="APPUG1296"></a><span class="bold"><a id="sthref473"></a>If your gateway is using the SNA communication protocol:</span></p>
<p>The RHT data exchange steps are identified under the following languages:</p>
<ul>
<li>
<p>You may use COBOL for:</p>
<ul>
<li>
<p>CICS</p>
</li>
<li>
<p>IMS</p>
</li>
</ul>
</li>
<li>
<p>You may use IBM 370 Assembler for:</p>
<ul>
<li>
<p>CICS</p>
</li>
<li>
<p>IMS</p>
</li>
</ul>
</li>
<li>
<p>You may use IBM REXX for:</p>
<ul>
<li>
<p>CICS</p>
</li>
<li>
<p>IMS</p>
</li>
<li>
<p>z/OS</p>
</li>
</ul>
</li>
</ul>
<p class="subhead1"><a id="APPUG1297"></a><a id="sthref474"></a>If your gateway is using the TCP/IP communication protocol:</p>
<p>IMS is the only OLTP that is supported when the gateway is using TCP/IP support for IMS Connect. The RHT programs must use embedded <a id="sthref475"></a>I/O&nbsp;PCB function calls. The function is identified only under the COBOL and Assembler languages.</p>
</div>
<!-- class="sect2" -->
<div id="APPUG961" class="sect2"><a id="sthref476"></a>
<h3 class="sect2"><span class="secnum">3.2.2</span> PGAU DEFINE CALL Command<a id="sthref477"></a></h3>
<p>Make a call list of every data exchange. This list dictates a series of PGAU <code>DEFINE CALL</code> statements. Refer to <a href="admin_util.htm#i1006743">"DEFINE CALL"</a> in <a href="admin_util.htm#g1029659">Chapter 2, "Procedural Gateway Administration Utility"</a> for more information about this PGAU command.</p>
<p>The three important parameters that you will use for each call are:</p>
<ul>
<li>
<p><code>cname</code>: the name of the call definition to be created;</p>
</li>
<li>
<p><code>dname</code>: the name of the data structure to be exchanged; and</p>
</li>
<li>
<p>whether it is send (<code>OUT</code>) or receive (<code>IN</code>)</p>
</li>
</ul>
<p>RHT send corresponds to a TIP <code>OUT</code> and RHT receive corresponds to a TIP <code>IN</code>.</p>
<p><span class="bold">If your communication protocol is SNA</span>: Refer to <a href="app_sna.htm#i1008771">Section 4.6.2.1, "Flexible Call Sequence"</a> for more information about PGAU <code>DEFINE CALL</code> commands.</p>
<p><span class="bold">If your communication protocol is TCP/IP</span>: Refer to <a href="app_tcp.htm#i1009532">Section 7.3.2.1, "Flexible Call Sequence"</a> for more information about PGAU <code>DEFINE CALL</code> commands.</p>
<p>PGAU call entries are only defined once, so eliminate any duplicates.</p>
<p>This call list defines the TIP function calls, not the order in which they are used. Note that the order in which each call is made is a behavior of the transaction and dictates the order of calls made by the high-level application to the TIP, which then calls the RHT through the Database Gateway server. While this calling sequence is critical to maintaining the synchronization between the application and the RHT, the TIP is only an access method for the application and has no knowledge of higher level sequencing of calls.</p>
</div>
<!-- class="sect2" -->
<div id="APPUG962" class="sect2"><a id="sthref478"></a>
<h3 class="sect2"><span class="secnum">3.2.3</span> PGAU <a id="sthref479"></a>DEFINE DATA Command</h3>
<p>For each call in the RHT call list, identify the RHT data structures being sent or received in the call buffers.</p>
<p>Make a data list of every such structure. This list dictates a series of PGAU <code>DEFINE DATA</code> statements.</p>
<p>The two important parameters that you will use for <code>DEFINE DATA</code> are:</p>
<ul>
<li>
<p><code>dname:</code> the name of the data definition to be created; and</p>
</li>
<li>
<p><code>dname.ext:</code> the file in which the data definition is stored.</p>
</li>
</ul>
<p>PGAU data entries are only defined once, so eliminate any duplicates.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Move COBOL record layouts (copybooks) to the gateway system.
<p>PGAU can use copybooks as input when defining the data items. Once you have identified the data items to be exchanged, use a file transfer program to download the copybooks to the gateway system. The copybooks are later used to define the data items. The sample copybook used in the example is documented in <a href="apg.htm#g644868">Appendix F, "Administration Utility Samples"</a>.</p>
</div>
</div>
<!-- class="sect2" -->
<div id="APPUG963" class="sect2"><a id="sthref480"></a>
<h3 class="sect2"><span class="secnum">3.2.4</span> PGAU DEFINE TRANSACTION Command on a Gateway Using SNA<a id="sthref481"></a><a id="sthref482"></a></h3>
<p>Determine the network address information for the RHT program. Your network or OLTP system programmer can provide you with this information.</p>
<p><a id="sthref483"></a>The five important parameters that you will use for PGAU <code>DEFINE TRANSACTION</code> are:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Side Profile name</span></code></p>
</li>
<li>
<p><code><span class="codeinlineitalic">TP name</span></code></p>
</li>
<li>
<p><code><span class="codeinlineitalic">LU name</span></code></p>
</li>
<li>
<p><code>LOGMODE</code></p>
</li>
<li>
<p><code>SYNCLEVEL</code></p>
</li>
</ul>
<p>You must also identify the Globalization Support character set (<code>charset</code>) for the language in which the OLTP expects the data.</p>
<p>At this point, if your gateway is using SNA, then proceed to <a href="#i1007553">Section 3.2.6, "Writing the PGAU Statements"</a>.</p>
</div>
<!-- class="sect2" -->
<div id="APPUG964" class="sect2"><a id="sthref484"></a>
<h3 class="sect2"><span class="secnum">3.2.5</span> PGAU DEFINE TRANSACTION Command on a Gateway Using <a id="sthref485"></a><a id="sthref486"></a>TCP/IP</h3>
<p>Before you use this command, you will need to know the IMS Connect hostname (or TCP/IP address), port number and the other IMS Connect parameters that are defined as columns within the <a id="sthref487"></a><code>PGA_TCP_IMSC</code> table. Refer to <a href="tcpmap.htm#g1011686">Chapter 6, "PG4TCPMAP Commands (TCP/IP Only)"</a> for complete information about preparation for mapping parameters to TCP/IP using the <code>pg4tcpmap</code> tool.</p>
<p>When you run the <a id="sthref488"></a><code>pg4tcpmap</code> tool you need to specify a unique name (Side Profile Name). That name must be the same name that you are using here to create your TIP.</p>
<p><a id="APPUG1298"></a><span class="subhead3">If you are converting your gateway from the SNA to a TCP/IP communications protocol to invoke IMS transactions: &nbsp;</span>You need to regenerate the TIPs. Refer to <a href="admin_util.htm#g1029659">Chapter 2, "Procedural Gateway Administration Utility"</a> for details.</p>
</div>
<!-- class="sect2" -->
<a id="i1007553"></a>
<div id="APPUG965" class="sect2">
<h3 class="sect2"><span class="secnum">3.2.6</span> Writing the PGAU Statements<a id="sthref489"></a><a id="sthref490"></a></h3>
<p>After evaluating the RHT, define the TIP to PGAU for placement in the <a id="sthref491"></a>PG DD.</p>
<ol>
<li>
<p>Write a <a id="sthref492"></a><a id="sthref493"></a><code>DEFINE DATA</code> statement for each entry in your data list. If, for example, your RHT had three different data structures, your data definitions might be:</p>
<pre>
DEFINE DATA dname1 LANGUAGE(IBMVSCOBOLII) INFILE(dnamel.ext);
DEFINE DATA dname2 LANGUAGE(IBMVSCOBOLII) INFILE(dname2.ext);
DEFINE DATA dname3 LANGUAGE(IBMVSCOBOLII) INFILE(dname3.ext);
</pre>
<p>Then you must copy or transfer the source file containing these data definitions to the directory where PGAU can read them as input.</p>
</li>
<li>
<p>Write a <a id="sthref494"></a><a id="sthref495"></a><code>DEFINE CALL</code> statement for each entry in your call list. If, for example, your RHT had a receive send receive send sequence, your call definitions would be:</p>
<pre>
DEFINE CALL cname1 PARMS((dnamel IN));
DEFINE CALL cname2 PARMS((dname2 OUT));
DEFINE CALL cname3 PARMS((dname3 IN));
DEFINE CALL cname4 PARMS((dname2 OUT));
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Optionally, you can rewrite your call definitions to consolidate the data transmission into fewer exchanges, as long as you do not alter the data transmission sequence. For example:
<p><code>DEFINE CALL cname1 PARMS((dname1 IN),</code></p>
<p><code>(dname2 OUT));</code></p>
<p><code>DEFINE CALL cname3 PARMS((dname3 IN),</code></p>
<p><code>(dname2 OUT));</code></p>
<p>This reduces the calls between the application and the TIP from four calls to two calls passing an <code>IN</code> and <code>OUT</code> parameter on each call. Because TIPs always process <code>IN</code> parameters before <code>OUT</code> parameters, the data transmission sequence is unchanged. However, this consolidation is not always possible.</p>
<p><span class="bold">If your communication protocol is SNA</span>: Refer to <a href="app_sna.htm#i1008771">Section 4.6.2.1, "Flexible Call Sequence"</a> for more information about PGAU <code>DEFINE CALL</code> commands.</p>
<p><span class="bold">If your communication protocol is TCP/IP</span>: Refer to <a href="app_tcp.htm#i1009532">Section 7.3.2.1, "Flexible Call Sequence"</a> for more information about PGAU <code>DEFINE CALL</code> commands.</p>
</div>
</li>
<li>
<p>Write a <a id="sthref496"></a><a id="sthref497"></a><code>DEFINE TRANSACTION</code> statement that contains every call, specifying the network address and Globalization Support information:</p>
<pre>
DEFINE TRANSACTION tname CALLS(cname1
                               cname2, ....
                               cnameN)
                   ENVIRONMENT(IBM370)
                   SIDEPROF(profname) |
                     TPNAME(tpid) LUNAME(luname) LOGMODE(mode)
                   SYNCLEVEL(n)
                   NLS_LANGUAGE(charset);
</pre></li>
<li>
<p>You can add a<a id="sthref498"></a><a id="sthref499"></a> <code>GENERATE</code> statement to create the TIP specification:</p>
<pre>
GENERATE tname 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also add a <a id="sthref500"></a><code>REPORT</code> statement to list the PG DD entries for <code>tname</code>:
<p><code>REPORT TRANSACTION tname with CALLS with DATA;</code></p>
<p>Also annotate the script with Comments:</p>
<p><code>REM this is a Comment</code></p>
</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="APPUG966" class="sect2"><a id="sthref501"></a>
<h3 class="sect2"><span class="secnum">3.2.7</span> Writing a PGAU Script File</h3>
<p>The previous section describes the steps you need to follow in order to execute PGAU statements via your PGAU command line processor. As a time saving measure, you can choose to write all of the statements (<code>DEFINE DATA</code>, <code>DEFINE CALL</code> and <code>DEFINE TRANSACTION</code>) into a single <a id="sthref502"></a><a id="sthref503"></a>PGAU script file named <code><a id="sthref504"></a><a id="sthref505"></a>tname.ctl</code>, in the following order:</p>
<ol>
<li>
<p>define data</p>
</li>
<li>
<p>define call</p>
</li>
<li>
<p>define transaction</p>
</li>
<li>
<p>generate</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Because you will probably run this script more than once, you should include<a id="sthref506"></a> <code>UNDEFINE</code> statements first to remove any previous entries in the PG DD.</div>
</li>
</ol>
<p>This is an example of a <code><a id="sthref507"></a><a id="sthref508"></a>tname.ctl</code> PGAU script file:</p>
<pre>
UNDEFINE TRANSACTION tname Version(all);
UNDEFINE CALL cname1 Version(all);
UNDEFINE CALL cname2 Version(all);
UNDEFINE DATA dname1 Version(all);
UNDEFINE DATA dname2 Version(all);
UNDEFINE DATA dname3 Version(all);
DEFINE DATA dname1 LANGUAGE(IBMVSCOBOLII) INFILE(dnamel.ext);
DEFINE DATA dname2 LANGUAGE(IBMVSCOBOLII) INFILE(dname2.ext);
DEFINE DATA dname3 LANGUAGE(IBMVSCOBOLII) INFILE(dname3.ext);
DEFINE CALL cname1 PARMS(dname1 IN),
                          (dname2 OUT));
DEFINE CALL cname2 PARMS(dname3 IN),
                         (dname2 OUT));
DEFINE TRANSACTION tname CALLS(cname1,
                              cname2, ....
                              cnameN)
                   ENVIRONMENT(IBM370)
                   SIDEPROF(profname) |
                     TPNAME(tpid) LUNAME(luname) LOGMODE(mode)
                   SYNCLEVEL(n)
                   NLS_LANGUAGE(charset);
Generate tname
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006733"></a>
<div id="APPUG967" class="sect1">
<h2 class="sect1"><span class="secnum">3.3</span> Defining and Generating the TIP<a id="sthref509"></a><a id="sthref510"></a></h2>
<p>After you have created your control file, use PGAU to create the <a id="sthref511"></a>PG DD entries and the <a id="sthref512"></a>TIP specification files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The user&nbsp;ID under which you run PGAU must have:
<ul>
<li>
<p>write access to output the specification files (<code>pgau.pkh, pgau.pkb</code>, and <code>pgau.doc</code>), where <code>pgau</code> is the default name; and</p>
</li>
<li>
<p>read access to the data definition source files (<code>dname.ext</code>), where <code>dname.ext</code> will be specified in PGAU <code>DEFINE DATA</code> statement(s).</p>
</li>
</ul>
</div>
<p>Invoke PGAU against your PG DD stored in the Oracle Database Gateway for APPC Administrator's user&nbsp;ID:</p>
<p>For Microsoft Windows:</p>
<pre>
C:\&gt; pgau
PGAU&gt; connect pgaadmin\pw@<span class="italic">database_specification_string</span> 
</pre>
<p>For UNIX based systems:</p>
<pre>
$ pgau
PGAU&gt; connect pgaadmin/pw@<span class="italic">database_specification_string</span> 
</pre>
<p>Issue the following commands:</p>
<pre>
PGAU&gt; set echo on
PGAU&gt; spool tname.def
PGAU&gt; @tname.ctl
PGAU&gt; spool off
</pre>
<p>The TIP is now ready to be compiled. By default, the <a id="sthref513"></a><a id="sthref514"></a><code>GENERATE</code> statement writes your TIP specifications to the following output files in your current directory:</p>
<pre>
pgau.pkh (TIP Header)
pgau.pkb (TIP Body)
pgau.doc (TIP content documentation)
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can optionally add <a id="sthref515"></a><span class="italic">spool</span> and <span class="italic">echo</span> to your script (<code>tname.ctl</code>) or make ot<a id="sthref516"></a>her enhancements, such as using PG DD roles and the PGAU <a id="sthref517"></a><a id="sthref518"></a><code>GROUP</code> statement for shared PG DDs.
<ul>
<li>
<p><span class="bold">If your gateway is using SNA</span>: Refer to <a href="app_sna.htm#g1020838">Chapter 4, "Client Application Development (SNA Only)"</a> for more information.</p>
</li>
<li>
<p><span class="bold">If your gateway is using TCP/IP support for IMS Connect</span>: Refer to <a href="app_tcp.htm#g1017213">Chapter 7, "Client Application Development (TCP/IP Only)"</a> for more information.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i1006777"></a>
<div id="APPUG968" class="sect1">
<h2 class="sect1"><span class="secnum">3.4</span> Compiling the TIP<a id="sthref519"></a><a id="sthref520"></a></h2>
<p>Exit PGAU. Remain in your current directory and invoke <a id="sthref521"></a>SQL*Plus.</p>
<p>For Microsoft Windows:</p>
<pre>
C:\&gt; sqlplus <span class="italic">userid/pw@database_specification_string</span> 
SQL&gt; set echo on
SQL&gt; @pgau.pkh
SQL&gt; @pgau.pkb
</pre>
<p>For UNIX based systems:</p>
<pre>
$ sqlplus <span class="italic">userid/pw@database_specification_string</span> 
SQL&gt; set echo on
SQL&gt; @pgau.pkh
SQL&gt; @pgau.pkb
</pre>
<p>The last two commands compile the TIP specification and body, respectively.</p>
<p>You have now compiled a TIP which can be called by your client application. If your client application is already written you can begin testing.</p>
<p>For more information about designing your client application and compiling a TIP, refer to <a href="intro.htm#g1024329">Chapter 1, "Introduction to Oracle Database Gateway for APPC"</a> and <a href="apf.htm#g638154">Appendix E, "Tip Internals"</a>.</p>
<p><span class="bold">If your gateway is using SNA</span>: Refer to <a href="app_sna.htm#g1020838">Chapter 4, "Client Application Development (SNA Only)"</a> for information about PGAU statement syntax and usage.</p>
<p><span class="bold">If your gateway is using TCP/IP support for IMS Connect</span>: Refer to <a href="app_tcp.htm#g1017213">Chapter 7, "Client Application Development (TCP/IP Only)"</a> for information about PGAU statement syntax and usage.</p>
</div>
<!-- class="sect1" -->
<a id="i1006800"></a>
<div id="APPUG969" class="sect1">
<h2 class="sect1"><span class="secnum">3.5</span> TIP Content Documentation (tipname.doc)<a id="sthref522"></a></h2>
<p>This section discusses the TIP documentation file that is produced when the user issues a PGAU <code>GENERATE</code> command. This TIP content file describes the function calls and <a id="sthref523"></a>PL/<code>SQL</code> variables and datatypes available in the TIP.</p>
<p><a id="sthref524"></a>PGAU <code>GENERATE</code> always produces a TIP content file named <a id="sthref525"></a><a id="sthref526"></a><a id="sthref527"></a><code><span class="codeinlineitalic">tipname</span></code><code>.doc</code>. The filename is the name of the transaction that was specified in the PGAU <code>GENERATE</code> command, and the filetype is always <code>.doc</code>. This TIP content file contains the following sections:</p>
<ul>
<li>
<p><a id="sthref528"></a><code>GENERATION</code> Status</p>
<p>This section contains the status under which the TIP is generated.</p>
</li>
<li>
<p><a id="sthref529"></a>TIP Transaction</p>
<p>This section identifies the defined transaction attributes. These result from the <code>PGAU DEFINE TRANSACTION</code> definition.</p>
</li>
<li>
<p><a id="sthref530"></a>TIP Default Calls</p>
<p>This section identifies the syntax of the calls made by the user's application to initialize and terminate the transaction. PGAU generates these calls into every TIP regardless of how the TIP or transaction is defined.</p>
</li>
<li>
<p><a id="sthref531"></a>TIP User Calls</p>
<p>This section identifies the syntax of the calls which the user defines for the application to interact with the transaction.</p>
</li>
<li>
<p><a id="sthref532"></a>TIP User Declarations</p>
<p>This section identifies the TIP package public datatype declarations, implied by the user's data definition specified in each call parameter.</p>
</li>
<li>
<p><a id="sthref533"></a>TIP User Variables</p>
<p>This section contains TIP variables that can be referred to by applications or referenced by applications.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment332">
<tr>
<td class="cellalignment341">
<table class="cellalignment337">
<tr>
<td class="cellalignment336"><a href="admin_util.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment336"><a href="app_sna.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment344">
<table class="cellalignment335">
<tr>
<td class="cellalignment336"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment336"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment336"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment336"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment336"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment336"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
