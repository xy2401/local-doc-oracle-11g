<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Gateway Features and Restrictions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 008" />
<meta name="dcterms.created" content="2009-07-29T20:14:20Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for VSAM User's Guide" />
<meta name="dcterms.identifier" content="E12073-01" />
<meta name="dcterms.isVersionOf" content="VSMUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="c_gettingstarted.htm" title="Previous" type="text/html" />
<link rel="Next" href="c_array_handling.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12073.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/13</span> <!-- End Header --><a id="i1005545"></a><a id="VSMUG118"></a>
<h1 class="chapter"><span class="secnum">2</span> Gateway Features and Restrictions</h1>
<p>After the gateway is installed and configured, you can use the gateway to access the Virtual Storage Access Method (Adabas) data, pass Adabas commands from applications to the Adabas database, perform distributed queries, and copy data.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#CHDJIAAE">Accessing VSAM Data</a></p>
</li>
<li>
<p><a href="#CHDBDFCJ">SQL Support</a></p>
</li>
<li>
<p><a href="#CHDGJGID">Handling Non-Relational Data</a></p>
</li>
<li>
<p><a href="#CHDGJJGA">Restrictions</a></p>
</li>
</ul>
<a id="CHDJIAAE"></a><a id="VSMUG119"></a>
<div class="sect1">
<h2 class="sect1">Accessing VSAM Data<a id="sthref9"></a><a id="sthref10"></a><a id="sthref11"></a></h2>
<p>You can access VSAM data either directly or under CICS, as follows:</p>
<ul>
<li>
<p>VSAM (CICS): If your VSAM files are installed under CICS, the VSAM (CICS) data source accesses VSAM by making calls from the external CICS interface (EXCI) to a CICS program that is provided as part of the Oracle Connect installation. This CICS program does the actual VSAM reads and writes from within CICS.</p>
<p>When you access VSAM data using this data source, the following restrictions apply:</p>
<ul>
<li>
<p>SQL DELETE operations are not supported for ESDS files.</p>
</li>
<li>
<p>Using an alternate index to access an entry sequenced data set (ESDS) file is not supported.</p>
</li>
<li>
<p>A non-unique alternate index for a key sequenced data set (KSDS) file is not supported.</p>
</li>
</ul>
</li>
<li>
<p>VSAM Batch: This data source connects directly to the VSAM data and is limited if the VSAM files are managed by CICS. In this case, it is recommended to use this data source for read-only access to VSAM files. However, this may not give you adequate read integrity if some changes are buffered by CICS. Another alternative is to use the VSAM under CICS data source.</p>
<p>When you access VSAM data using the VSAM/Batch data source, the following restrictions apply:</p>
<ul>
<li>
<p>Transactions are not supported when you access VSAM directly. When you update VSAM data, the update is committed immediately. You cannot issue rollback to un-commit the update.</p>
</li>
<li>
<p>Locking is not supported.</p>
</li>
<li>
<p>You cannot update an array value (a child record in a hierarchical table) when the parent record is included in the SQL in a subquery.</p>
</li>
<li>
<p>SQL DELETE operations are not supported for ESDS files.</p>
</li>
<li>
<p>An relative record data set (RRDS) file cannot have an alternate index.</p>
</li>
<li>
<p>The primary key of a KSDS file must be one segment only (however, it can be several consecutive fields). You cannot modify the primary key value of a KSDS file.</p>
</li>
</ul>
</li>
</ul>
<p>Oracle Connect for IMS, VSAM, and Adabas Gateways supports Adabas data on IBM z/OS platforms. Adabas files of types Key Sequenced Data Structure (KSDS), Entry Sequenced Data Set (ESDS), and Relative Record Data Set (RRDS) are supported.</p>
</div>
<!-- class="sect1" -->
<a id="CHDBDFCJ"></a><a id="VSMUG120"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">SQL Support<a id="sthref12"></a><a id="sthref13"></a></h2>
<p>Oracle Database Gateway for VSAM supports SQL-based data access, allowing developers and applications to use this common and standard syntax for retrieving and updating VSAM data, and for using SELECT, INSERT, UPDATE, and DELETE statements.</p>
<p>While SQL is supported by relational database management systems, it is not available for legacy, non-relational data such as VSAM data. This means that Oracle Database Gateway for VSAM goes beyond the functionality provided by other Oracle gateways that connect to relational databases, as those merely deal with the translation and delegation of SQL to the target database. Oracle Database Gateway for VSAM takes care of the translation of the SQL statements into system and file specific access primitives, and their execution in an optimized manner, effectively serving as the SQL processor for the non-relational system.</p>
<p>In terms of SQL support, the gateway supports a wide range of SQL capabilities, from basic SQL statements to statements that include advanced features, such as joining of data from multiple VSAM sources, use of subselects, and support of data manipulation functions. In addition, the gateway optimizes query performance by supporting such advanced capabilities in where clauses, processing most of them before returning the data to Oracle.</p>
<p>Because VSAM is a non-relational system, its data model is not normalized. The gateway provides a complete normalization process that imports existing legacy metadata and produces a relational format that can be used by Oracle users. A key consideration in the normalization process takes care of the hierarchical data structures that are common in VSAM, such as arrays.</p>
<p>Going through the import process, the gateway translates the hierarchical structures and embedded arrays into a relational model that maps the hierarchy to several tables. In addition, the process automatically generates the necessary foreign constraints that can later be retrieved using regular Oracle Data Dictionary queries.</p>
<p>In respect to the data dictionary, the gateway provides all the necessary information although the actual data dictionary is not located in the Oracle database. The gateway supports standard data dictionary queries, making the interaction with the non-Oracle data completely transparent to the user, and taking care of translating the non-Oracle model into the Oracle standard data dictionary format including joins across non-Oracle data dictionary tables.</p>
<p>While the typical use case only supports the retrieval of information using SELECT statements, the gateway also supports data manipulation using INSERT, UPDATE, and DELETE statements. Furthermore, it supports advanced options such as distributed transactions.</p>
<p>To summarize, Oracle Database Gateway for VSAM offers robust SQL support and relational access to non-relational, proprietary, legacy VSAM data. The following topics provide more information about specific SQL features and their support by the gateway.</p>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#CHDBDHFI">Transaction Support</a></p>
</li>
<li>
<p><a href="#i1005577">Pass-Through Feature</a></p>
</li>
<li>
<p><a href="#CIHJGHCA">Naming Rules</a></p>
</li>
<li>
<p><a href="#i1006680">Data Types</a></p>
</li>
<li>
<p><a href="#i1005849">SQL Execution</a></p>
</li>
<li>
<p><a href="#i1005884">Locking</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="vsam_sql_syntax.htm#g636873">Supported SQL Syntax and Functions</a> for details; <a href="#CHDGHEBC">SQL Restrictions</a> for restrictions.</div>
<a id="CHDBDHFI"></a><a id="VSMUG121"></a>
<div class="sect2">
<h3 class="sect2">Transaction Support</h3>
<p>The VSAM (CICS) data source supports global transactions.</p>
<p>To use Oracle Connect for IMS, VSAM, and Adabas Gateways with global transactions, you must have RRS installed and configured and have CICS TS 1.3 or later installed.</p>
<p>The Adabas file participating in the 1PC or global transaction must be defined as recoverable. To define a file as recoverable, perform these steps.</p>
<ol>
<li>
<p>Install the VSAM file under CICS.</p>
</li>
<li>
<p>In CICS, go to the recovery parameters section of the relevant file.</p>
</li>
<li>
<p>Set the value of the <code>RECOvery</code> parameter to <code>Backoutonly</code> and the value of the <code>Fwdrecovlog</code> parameter to <code>no</code>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1005577"></a><a id="VSMUG122"></a>
<div class="sect2">
<h3 class="sect2">Pass-Through Feature<a id="sthref14"></a><a id="sthref15"></a></h3>
<p>You can import a COBOL copybook to define a VSAM record structure of an existing VSAM data set. However, you can also create a VSAM data set and define its record structure by using the pass-through feature. You can then view this structure in Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This option is not supported when you access VSAM data under CICS.</div>
<p>Use the DBMS_HS_PASSTHROUGH package in a PL/SQL block to specify the statement to be passed to the Adabas database, as follows:</p>
<pre>
DECLARE
    num_rows INTEGER;
BEGIN
    num_rows := DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@Adabas('<span class="italic">command</span>');
END;
/
</pre>
<p>Where <code><span class="codeinlineitalic">command</span></code> cannot be one of the following:</p>
<ul>
<li>
<p>BEGIN TRANSACTION</p>
</li>
<li>
<p>COMMIT</p>
</li>
<li>
<p>ROLLBACK</p>
</li>
<li>
<p>SAVE</p>
</li>
<li>
<p>SHUTDOWN</p>
</li>
<li>
<p>Adabas tool commands</p>
</li>
</ul>
<p>For example, to create a table using the pass-through feature, run the following command:</p>
<pre>
SQL&gt; declare
  ret integer;
begin
  ret := dbms_hs_passthrough.execute_immediate@dg4vsam('          create table sample(I int,c char(10))');
end;
/
PL/SQL procedure successfully completed.
</pre>
<p>The DBMS_HS_PASSTHROUGH package supports passing bind values and executing <code>SELECT</code> statements.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code>TRUNCATE</code> cannot be used in a pass-through statement.</div>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<span class="italic">PL/SQL Packages and Types Reference</span> and Chapter 3 of <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about the DBMS_HS_PASSTHROUGH package.</div>
</div>
<!-- class="sect2" -->
<a id="CIHJGHCA"></a><a id="VSMUG123"></a>
<div class="sect2">
<h3 class="sect2">Naming Rules</h3>
<p>Naming rule issues include the following:</p>
<ul>
<li>
<p><a href="#i1005677">Rules for Naming Objects</a></p>
</li>
<li>
<p><a href="#i1005706">Case Sensitivity</a></p>
</li>
</ul>
<a id="i1005677"></a><a id="VSMUG124"></a>
<div class="sect3">
<h4 class="sect3"><a id="sthref16"></a><a id="sthref17"></a>Rules for Naming Objects</h4>
<p>The concept of owner does not exist for objects from VSAM or VSAM/CICS data sources. The userid of the dblink is not used to qualify the object. The owner field in the data dictionary tables (see <a href="vsam_data_dictionary.htm#g87938">Appendix C, "Data Dictionary"</a> for details) is hardcoded as <code>VSAM</code>. You must not use an explicit owner qualifier to reference VSAM or VSAM/CICS tables. Using an explicit owner name results in a message like the following:</p>
<p><code>ORA-00942: table or view does not exist</code></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Reference</span> and Adabas documentation for more information on naming objects and <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</div>
</div>
<!-- class="sect3" -->
<a id="i1005706"></a><a id="VSMUG125"></a>
<div class="sect3">
<h4 class="sect3"><a id="sthref18"></a>Case Sensitivity</h4>
<p>Object names are not case sensitive. Both Oracle Studio for IMS, VSAM, and Adabas Gateways and the gateway automatically use upper case for data source metadata.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006680"></a><a id="VSMUG126"></a>
<div class="sect2">
<h3 class="sect2">Data Types</h3>
<p>Data type issues include the following:</p>
<ul>
<li>
<p><a href="#i1007594">Binary Literal Notation</a></p>
</li>
<li>
<p><a href="#i1008049">Data Type Conversion</a></p>
</li>
</ul>
<a id="i1007594"></a><a id="VSMUG127"></a>
<div class="sect3">
<h4 class="sect3">Binary Literal Notation</h4>
<p>Oracle SQL uses hexadecimal digits surrounded by single quotes to express literal values being compared or inserted into columns defined as data type RAW.</p>
<p><a id="sthref19"></a>This notation is not converted to syntax compatible with the Adabas VARBINARY and BINARY data types (a 0x followed by hexadecimal digits, surrounded by single quotes).</p>
<p>For example, the following statement is not supported:</p>
<pre>
SQL&gt; INSERT INTO BINARY_TAB@Adabas VALUES ('0xff')
</pre>
<p>Where <code>BINARY_TAB</code> contains a column of data type VARBINARY or BINARY. Use bind variables when inserting into or updating VARBINARY and BINARY data types.</p>
</div>
<!-- class="sect3" -->
<a id="i1008049"></a><a id="VSMUG128"></a>
<div class="sect3">
<h4 class="sect3"><a id="sthref20"></a>Data Type Conversion</h4>
<p>Adabas does not support implicit date conversions. Such conversions must be explicit.</p>
<p>For example, the gateway issues an error for the following <code>SELECT</code> statement:</p>
<pre>
SELECT DATE_COL FROM TEST@Adabas WHERE DATE_COL = "1-JAN-2001";
</pre>
<p>To avoid problems with implicit conversions, add explicit conversions, as in the following:</p>
<pre>
SELECT DATE_COL FROM TEST@Adabas WHERE DATE_COL = TO_DATE("1-JAN-2001")
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="vsam_data_dictionary.htm#g87938">Appendix C, "Data Dictionary"</a> for more information about restrictions on data types and <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1005849"></a><a id="VSMUG129"></a>
<div class="sect2">
<h3 class="sect2">SQL Execution<a id="sthref21"></a></h3>
<p>Query issues include the following:</p>
<ul>
<li>
<p><a href="#i1007676">Row Selection</a></p>
</li>
<li>
<p><a href="#i1005871">Empty Strings</a></p>
</li>
<li>
<p><a href="#i1005878">Empty Bind Variables</a></p>
</li>
</ul>
<a id="i1007676"></a><a id="VSMUG130"></a>
<div class="sect3">
<h4 class="sect3">Row Selection</h4>
<p>Adabas evaluates a query condition for all selected rows before returning any of the rows. If there is an error in the evaluation process for one or more rows, no rows are returned even though the remaining rows satisfy the condition.</p>
<p>Oracle evaluates the query condition row-by-row and returns a row when the evaluation is successful. Rows are returned until a row fails the evaluation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</div>
</div>
<!-- class="sect3" -->
<a id="i1005871"></a><a id="VSMUG131"></a>
<div class="sect3">
<h4 class="sect3">Empty Strings</h4>
<p>Oracle processes an empty string in a SQL statement as a null value. Adabas processes an empty string as an empty string.</p>
<p>Comparing to an empty string</p>
<p>The Gateway passes literal empty strings to the Adabas database without any conversion. If you intended an empty string to represent a null value,Adabas does not process the statement that way; it uses the empty string.</p>
<p>You can avoid this problem by using NULL or IS NULL in the SQL statement instead of the empty string syntax, as in the following example:</p>
<pre>
SELECT * from "emp"@Adabas where "ename" IS NULL;
</pre>
<p>Selecting an empty string</p>
<p>For VARCHAR columns, the gateway returns an empty string to the Oracle Database as NULL value.</p>
<p>For CHAR columns, the gateway returns the full size of the column with each character as empty space (' ').</p>
</div>
<!-- class="sect3" -->
<a id="i1005878"></a><a id="VSMUG132"></a>
<div class="sect3">
<h4 class="sect3">Empty Bind Variables</h4>
<p>For VARCHAR bind variables, the gateway passes empty bind variables to the Adabas database as a NULL value.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1005884"></a><a id="VSMUG133"></a>
<div class="sect2">
<h3 class="sect2">Locking<a id="sthref22"></a><a id="sthref23"></a></h3>
<p>The locking model for a Adabas database differs significantly from the Oracle model. The gateway depends on the underlying Adabas behavior, so Oracle applications that access Adabas through the gateway can be affected by the following possible scenarios:</p>
<ul>
<li>
<p>Read access may block write access.</p>
</li>
<li>
<p>Write access may block read access.</p>
</li>
<li>
<p>Statement-level read consistency is not guaranteed.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Adabas documentation for information about the Adabas locking model.</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDGJGID"></a><a id="VSMUG134"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Handling Non-Relational Data</h2>
<p>Non-relational data sources require metadata, which is kept separately from the data itself. This metadata is stored as a data source definition in a data source repository, on the machine where the data source is defined. It lets you access the data from a non-relational database with SQL commands.</p>
<p>The metadata is imported and maintained using Oracle Studio for IMS, VSAM, and Adabas Gateways. If COBOL copybooks describing the data source records are available, you can import the metadata by using the metadata import procedure in the Design perspective, on the Metadata tab. If the metadata is provided in a number of COBOL copybooks that use different filter settings, you first import the metadata from copybooks with the same settings and later the metadata from other copybooks.</p>
<p>When the non-relational data contains arrays, these arrays can be exposed as follows:</p>
<ul>
<li>
<p>As virtual views. This method generates a virtual view for every array in the parent record that contains all the array members.</p>
</li>
<li>
<p>As a sequential view (a single table). This method maps all the record fields of the non-relational file to a single table that contains both parent and child records.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CHDGJJGA"></a><a id="VSMUG135"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Restrictions<a id="sthref24"></a><a id="sthref25"></a></h2>
<p>The following sections describe the restrictions and include suggestions for dealing with them if possible:</p>
<ul>
<li>
<p><a href="#CHDGHEBC">SQL Restrictions</a></p>
</li>
<li>
<p><a href="#CHDGGDEG">VSAM Restrictions</a></p>
</li>
</ul>
<a id="CHDGHEBC"></a><a id="VSMUG136"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">SQL Restrictions<a id="sthref26"></a><a id="sthref27"></a></h3>
<p>Restrictions related to SQL are described in the following sections:</p>
<ul>
<li>
<p><a href="#CHDEDBAE">Unsupported SQL Functions</a></p>
</li>
<li>
<p><a href="#i1006889">SQL Syntax</a></p>
</li>
<li>
<p><a href="#i1006829">Transaction Capability</a></p>
</li>
<li>
<p><a href="#i1006816">Transactional Integrity</a></p>
</li>
<li>
<p><a href="#i1006844">COMMIT or ROLLBACK in PL/SQL Cursor Loops</a></p>
</li>
<li>
<p><a href="#i1006851">Pass-Through Feature</a></p>
</li>
<li>
<p><a href="#i1006964">Database Links</a></p>
</li>
<li>
<p><a href="#CHDGABGB">Data Types</a></p>
</li>
<li>
<p><a href="#i1007048">Encrypted Format Login</a></p>
</li>
<li>
<p><a href="#i1008015">Data Dictionary Views and PL/SQL</a></p>
</li>
</ul>
<a id="CHDEDBAE"></a><a id="VSMUG137"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Unsupported SQL Functions<a id="sthref28"></a><a id="sthref29"></a><a id="sthref30"></a></h4>
<p>When an unsupported SQL function is used in an UPDATE, DELETE, or INSERT statement, an error occurs.</p>
<p>See <a href="vsam_sql_syntax.htm#g636873">Supported SQL Syntax and Functions</a> for a list of the supported functions.</p>
</div>
<!-- class="sect3" -->
<a id="i1006889"></a><a id="VSMUG138"></a>
<div class="sect3">
<h4 class="sect3">SQL Syntax</h4>
<p><a href="#CHDEHFJF">Table 2-1</a> lists the restrictions that apply to SQL syntax.</p>
<div class="tblformal">
<p class="titleintable"><a id="VSMUG139"></a><a id="sthref31"></a><a id="CHDEHFJF"></a>Table 2-1 SQL Syntax Restrictions</p>
<table class="cellalignment239" title="SQL Syntax Restrictions" summary="This table describes SQL syntax restrictions." dir="ltr">
<thead>
<tr class="cellalignment228">
<th class="cellalignment240" id="r1c1-t10">Syntax</th>
<th class="cellalignment240" id="r1c2-t10">Restriction</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment228">
<td class="cellalignment234" id="r2c1-t10" headers="r1c1-t10">
<p>WHERE CURRENT OF clause</p>
</td>
<td class="cellalignment234" headers="r2c1-t10 r1c2-t10">
<p><code>UPDATE</code> and <code>DELETE</code> statements with the <code>WHERE CURRENT OF</code> clause are not supported by the gateway because they rely on the Oracle <a id="sthref32"></a>ROWID implementation. To update or delete a specific row through the gateway, a condition style <code>WHERE</code> clause must be used.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r3c1-t10" headers="r1c1-t10">
<p>CONNECT BY clause</p>
</td>
<td class="cellalignment234" headers="r3c1-t10 r1c2-t10">
<p>The gateway does not support the <code>CONNECT BY</code> clause in a <code>SELECT</code> statement.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r4c1-t10" headers="r1c1-t10">
<p>ROWID</p>
</td>
<td class="cellalignment234" headers="r4c1-t10 r1c2-t10">
<p>The Oracle ROWID implementation is not supported.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r5c1-t10" headers="r1c1-t10">
<p>Subqueries in INSERT statement</p>
</td>
<td class="cellalignment234" headers="r5c1-t10 r1c2-t10">
<p>Subqueries of <code>INSERT</code> statements cannot use multiple aliases for the same table. For example, the following statement is not supported:</p>
<pre>
SQL&gt; INSERT INTO "emp_target"@Adabas
         SELECT a."empno" FROM "emp_source"@Adabas a,
            "emp_source"@Adabas b WHERE b."empno"=9999
</pre></td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r6c1-t10" headers="r1c1-t10">
<p>EXPLAIN PLAN statement</p>
</td>
<td class="cellalignment234" headers="r6c1-t10 r1c2-t10">
<p>The <code>EXPLAIN PLAN</code> statement is not supported.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r7c1-t10" headers="r1c1-t10">
<p>Date arithmetic</p>
</td>
<td class="cellalignment234" headers="r7c1-t10 r1c2-t10">
<p>The following SQL expressions do not function correctly with the gateway:</p>
<pre>
<span class="italic">date + numbernumber + datedate - numberdate1 - date2</span>
</pre>
<p>Statements with the preceding expressions are sent to the Adabas database without any translation. Since Adabas does not support these date arithmetic functions, the statements return an error.</p>
<p><span class="bold">See Also:</span> <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r8c1-t10" headers="r1c1-t10">
<p>String functions</p>
</td>
<td class="cellalignment234" headers="r8c1-t10 r1c2-t10">
<p>If you concatenate numeric literals using the "||" <a id="sthref33"></a>operator when using the gateway to query a Adabas database, the result is an arithmetic addition. For example, the result of the following statement is 18:</p>
<pre>
SQL&gt; SELECT 9 || 9 FROM DUAL@Adabas;
</pre>
<p>The result is 99 when using Oracle to query an Oracle database.</p>
</td>
</tr>
<tr class="cellalignment228">
<td class="cellalignment234" id="r9c1-t10" headers="r1c1-t10">
<p>Schema names and PL/SQL</p>
</td>
<td class="cellalignment234" headers="r9c1-t10 r1c2-t10">
<p>If you do not prefix a Adabas database object with its schema name in a SQL statement within a PL/SQL block, the following error message occurs:</p>
<pre>
<a id="sthref34"></a><a id="sthref35"></a>ORA-6550 PLS-201 Identifier <span class="italic">table_name</span> must be declared.
</pre>
<p>Change the SQL statement to include the schema name of the object.</p>
<p><span class="bold">See Also:</span> <a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="i1006829"></a><a id="VSMUG140"></a>
<div class="sect3">
<h4 class="sect3">Transaction Capability <a id="sthref36"></a></h4>
<p><a id="sthref37"></a>The gateway does not support savepoints. If a distributed update transaction is under way involving the gateway and a user attempts to create a savepoint, the following error occurs:</p>
<pre>
<a id="sthref38"></a><a id="sthref39"></a>ORA-02070: database <span class="italic">dblink</span> does not support savepoint in this context<a id="sthref40"></a><a id="sthref41"></a>
</pre>
<p>By default, the VSAM-CICS data source supports global transactions. If the VSAM-CICS data source is configured differently in Oracle Studio for IMS, VSAM, and Adabas Gateways, see the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for configuration information.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</div>
</div>
<!-- class="sect3" -->
<a id="i1006816"></a><a id="VSMUG141"></a>
<div class="sect3">
<h4 class="sect3">Transactional Integrity <a id="sthref42"></a></h4>
<p>The VSAM batch data source only supports auto-commit mode. Therefore, the gateway cannot guarantee transactional integrity. Each UPDATE, INSERT, and DELETE statement is immediately committed on the VSAM side and cannot be rolled back.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can choose to run the gateway for the VSAM batch data source in read-only mode by setting the HS_FDS_TRANSACTION_MODE parameter to <code>READ_ONLY</code>. Carefully weigh the advantages and disadvantages of executing updates on the VSAM data source using the gateway.</div>
</div>
<!-- class="sect3" -->
<a id="i1006844"></a><a id="VSMUG142"></a>
<div class="sect3">
<h4 class="sect3">COMMIT or ROLLBACK in PL/SQL Cursor Loops <a id="sthref43"></a><a id="sthref44"></a><a id="sthref45"></a><a id="sthref46"></a><a id="sthref47"></a></h4>
<p>Any COMMIT or ROLLBACK issued in a PL/SQL cursor loop closes all open cursors, which can result in the following error:</p>
<pre>
<a id="sthref48"></a><a id="sthref49"></a>ORA-1002:  fetch out of sequence 
</pre>
<p>To prevent this error, move the COMMIT or ROLLBACK statement outside the cursor loop.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ERRMG" href="../../server.112/e17766/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for more information on error messages.</div>
</div>
<!-- class="sect3" -->
<a id="i1006851"></a><a id="VSMUG143"></a>
<div class="sect3">
<h4 class="sect3">Pass-Through Feature<a id="sthref50"></a><a id="sthref51"></a><a id="sthref52"></a></h4>
<p>VSAM commands cannot be issued using the pass-through feature. You should only use the pass-through feature to issue CREATE TABLE statements under the VSAM batch data source that result in the creation of a VSAM data set whose record format is exposed to Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</div>
<!-- class="sect3" -->
<a id="i1006964"></a><a id="VSMUG144"></a>
<div class="sect3">
<h4 class="sect3">Database Links</h4>
<p>The gateway is not multithreaded and cannot support shared database links. Each gateway session spawns a separate gateway process and connections cannot be shared.</p>
</div>
<!-- class="sect3" -->
<a id="CHDGABGB"></a><a id="VSMUG145"></a>
<div class="sect3">
<h4 class="sect3">Data <a id="sthref53"></a><a id="sthref54"></a>Types<a id="sthref55"></a><a id="sthref56"></a></h4>
<p>The FLOAT data type precision is (7).</p>
<p>The VARBINARY data type is reported as BINARY.</p>
</div>
<!-- class="sect3" -->
<a id="i1007048"></a><a id="VSMUG146"></a>
<div class="sect3">
<h4 class="sect3"><a id="sthref57"></a><a id="sthref58"></a>Encrypted Format Login<a id="sthref59"></a><a id="sthref60"></a></h4>
<p>Oracle Database no longer supports the initialization parameter <code>DBLINK_ENCRYPT_LOGIN</code>. Up to version 7.3, this parameter's default <code>true</code> value prevented the password for the login user ID from being sent over the network (in the clear). Later versions automatically encrypt the password.</p>
</div>
<!-- class="sect3" -->
<a id="i1008015"></a><a id="VSMUG147"></a>
<div class="sect3">
<h4 class="sect3">Data Dictionary Views and PL/SQL<a id="sthref61"></a><a id="sthref62"></a><a id="sthref63"></a></h4>
<p>Do not refer to data dictionary views in SQL statements contained within PL/SQL blocks.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDGGDEG"></a><a id="VSMUG148"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">VSAM Restrictions<a id="sthref64"></a><a id="sthref65"></a></h3>
<p>When accessing VSAM data, the following restrictions apply:</p>
<ul>
<li>
<p><a href="#CHDHFJCA">General VSAM Restrictions</a></p>
</li>
<li>
<p><a href="#CHDCCJJE">Restrictions Specific to VSAM (CICS)</a></p>
</li>
<li>
<p><a href="#CHDDEJBJ">Restrictions Specific to VSAM Batch</a></p>
</li>
</ul>
<a id="CHDHFJCA"></a><a id="VSMUG149"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">General VSAM Restrictions</h4>
<p>The following restrictions apply to both the VSAM Batch data source and the VSAM (CICS) data source:</p>
<ul>
<li>
<p>DDL is not supported.</p>
</li>
<li>
<p>Record-level locking is not supported.</p>
</li>
<li>
<p>Record-level sharing (RLS) is not supported.</p>
</li>
<li>
<p>UPDATE operations on arrays (OCCURS clauses) are not supported. See <a href="c_array_handling.htm#CEGIIBBH">Normalizing Non-Relational Data</a> for details on handling arrays.</p>
</li>
<li>
<p>Compressed VSAM files are only supported if the compression package makes the compression transparent.</p>
</li>
<li>
<p>Records in ESDS files cannot be deleted from a table. Therefore, when deleting a record from a table, first make sure that it is not included in a file of type ESDS.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCCJJE"></a><a id="VSMUG150"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Restrictions Specific to VSAM (CICS)</h4>
<p>The following restrictions apply to the VSAM (CICS) data source only:</p>
<ul>
<li>
<p>SQL DELETE operations are not supported for ESDS files.</p>
</li>
<li>
<p>Using an alternate index to access an ESDS file is not supported.</p>
</li>
<li>
<p>A non-unique alternate index for a KSDS file is not supported.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDDEJBJ"></a><a id="VSMUG151"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Restrictions Specific to VSAM Batch</h4>
<p>The following restrictions apply to the VSAM Batch data source only:</p>
<ul>
<li>
<p>Transactions are not supported when accessing Adabas directly.</p>
<p>When accessing Adabas under CICS, global transactions are supported.</p>
</li>
<li>
<p>Locking is not supported.</p>
</li>
<li>
<p>SQL DELETE operations are not supported for ESDS files.</p>
</li>
<li>
<p>An RRDS file cannot have an alternate index.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment227">
<tr>
<td class="cellalignment234">
<table class="cellalignment232">
<tr>
<td class="cellalignment231"><a href="c_gettingstarted.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment231"><a href="c_array_handling.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment236">
<table class="cellalignment230">
<tr>
<td class="cellalignment231"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment231"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment231"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment231"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment231"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment231"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
