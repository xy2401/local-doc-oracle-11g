<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Normalizing Non-Relational Data</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 008" />
<meta name="dcterms.created" content="2009-07-29T19:50:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for Adabas User's Guide" />
<meta name="dcterms.identifier" content="E12074-01" />
<meta name="dcterms.isVersionOf" content="ADAUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="adabas_feat_restrict.htm" title="Previous" type="text/html" />
<link rel="Next" href="c_array_procedures.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12074.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/12</span> <!-- End Header --><a id="CEGIIBBH"></a><a id="ADAUG148"></a>
<h1 class="chapter"><span class="secnum">3</span> Normalizing Non-Relational Data</h1>
<p>This section describes the support methods that Oracle Connect for IMS, VSAM, and Adabas Gateways applies to normalize non-relational data. It includes the following topics:</p>
<ul>
<li>
<p><a href="#CHDIGJAH">Overview of Normalizing Non-Relational Data</a></p>
</li>
<li>
<p><a href="#CHDIJCDB">Representing Metadata</a></p>
</li>
<li>
<p><a href="#CHDHDJEI">Methods of Handling Arrays</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink IVACW" href="../e12077/toc.htm"><span class="italic">Oracle Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide for Microsoft Windows</span></a> or <a class="olink IVACU" href="../e12076/toc.htm"><span class="italic">Oracle Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> for information on importing metadata into Oracle Studio for IMS, VSAM, and Adabas Gateways.</div>
<a id="CHDIGJAH"></a><a id="ADAUG149"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Normalizing Non-Relational Data<a id="sthref72"></a><a id="sthref73"></a><a id="sthref74"></a><a id="sthref75"></a><a id="sthref76"></a></h2>
<p>Oracle Connect for IMS, VSAM, and Adabas Gateways exposes a purely relational front end through the HOA API. However, it connects to non-relational data sources, which include non-relational data models. As such, Oracle Connect for IMS, VSAM, and Adabas Gateways provides a logical mapping that exposes the non-relational constructs in a relational manner. The most prevalent problem in this domain is the issue of arrays, which is described in this section.</p>
</div>
<!-- class="sect1" -->
<a id="ADAUG150"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref77"></a>
<h2 class="sect1">About Arrays</h2>
<p>An array is a group of similar elements of the same size. Arrays contain a series of data elements that are of the same data type, which can be simple or complex (group). A specific element is defined and accessed by its position in the array, which is provided by an index.</p>
<p>Arrays are a convenient way to store a fixed amount of data that is accessed in an unpredictable fashion. They are not efficient, however, when you need to insert or delete individual elements of the array.</p>
</div>
<!-- class="sect1" -->
<a id="CHDIJCDB"></a><a id="ADAUG151"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Representing Metadata<a id="sthref78"></a><a id="sthref79"></a></h2>
<p>Before looking at the different methods of handling arrays, you should understand how metadata is represented in Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
<p><a href="#BABDHCIE">Figure 3-1</a> shows an example record with arrays and nested arrays.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABDHCIE"></a><a id="ADAUG152"></a>Figure 3-1 Arrays and Nested Arrays</p>
<img width="371" height="699" src="img/array_representation.gif" alt="Example of OCCUR and DEPENDING ON clauses in COBOL" title="Example of OCCUR and DEPENDING ON clauses in COBOL" /><br />
<a id="sthref80" href="img_text/array_representation.htm">Description of "Figure 3-1 Arrays and Nested Arrays"</a><br />
<br /></div>
<!-- class="figure" -->
<p>When you import this metadata into Oracle Studio for IMS, VSAM, and Adabas Gateways, the import process creates a data dictionary definition that is equivalent to the original structure, usually mapping the fields one to one. The import process also writes all primary and foreign key definitions to the ALL_CONSTRAINTS table.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you work with the Adabas (Predict) data source, you can only generate the metadata for the arrays by editing the specific table.</div>
<p>Oracle Studio for IMS, VSAM, and Adabas Gateways represents the flattened view of the metadata on the table editor's Columns tab, as shown in <a href="#BABJBICJ">Figure 3-2</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABJBICJ"></a><a id="ADAUG153"></a>Figure 3-2 Representation of Metadata on the Columns tab in Oracle Studio for IMS, VSAM, and Adabas Gateways</p>
<img width="737" height="336" src="img/metadata_studio_columns_tab.gif" alt="Same metadata represented on the Columns tab in Studio" title="Same metadata represented on the Columns tab in Studio" /><br />
<a id="sthref81" href="img_text/metadata_studio_columns_tab.htm">Description of "Figure 3-2 Representation of Metadata on the Columns tab in Oracle Studio for IMS, VSAM, and Adabas Gateways"</a><br />
<br /></div>
<!-- class="figure" -->
<p><a href="#CEGDAFDJ">Table 3-1</a> describes the different columns shown in <a href="#BABJBICJ">Figure 3-2</a>.</p>
<p>The (+) to the left of a column indicates a group field. This type of field usually has a Dimension value. This value is not mandatory, but it optimizes the access to an array. You can click (+) to display the group members. In <a href="#BABJBICJ">Figure 3-2</a>, all groups are expanded.</p>
<div class="tblformal">
<p class="titleintable"><a id="ADAUG154"></a><a id="sthref82"></a><a id="CEGDAFDJ"></a>Table 3-1 Metadata Column Tab Definition</p>
<table class="cellalignment226" title="Metadata Column Tab Definition" summary="Describes the different columns on the Columns tab" dir="ltr">
<thead>
<tr class="cellalignment213">
<th class="cellalignment220" id="r1c1-t4">Column</th>
<th class="cellalignment220" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment213">
<td class="cellalignment221" id="r2c1-t4" headers="r1c1-t4">
<p>Column name</p>
</td>
<td class="cellalignment221" headers="r2c1-t4 r1c2-t4">
<p>The name of the column.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r3c1-t4" headers="r1c1-t4">
<p>Data type</p>
</td>
<td class="cellalignment221" headers="r3c1-t4 r1c2-t4">
<p>The data type of the column. Selecting this field displays a drop-down box listing the possible data types.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r4c1-t4" headers="r1c1-t4">
<p>Size</p>
</td>
<td class="cellalignment221" headers="r4c1-t4 r1c2-t4">
<p>The size of the column for data types of a non-fixed size.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r5c1-t4" headers="r1c1-t4">
<p>Scale</p>
</td>
<td class="cellalignment221" headers="r5c1-t4 r1c2-t4">
<p>The information entered in this field depends on the data type:</p>
<p>For decimal data types, this is the number of digits to the right of the decimal place. This number must not be greater than the number of digits. The default value is 0.</p>
<p>For scaled data types, this is the total number of digits. The number must be negative.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r6c1-t4" headers="r1c1-t4">
<p>Dimension</p>
</td>
<td class="cellalignment221" headers="r6c1-t4 r1c2-t4">
<p>The maximum number of entries of an array. An array has a dimension other than zero. This value is not mandatory, but it optimizes the access to an array.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r7c1-t4" headers="r1c1-t4">
<p>Offset</p>
</td>
<td class="cellalignment221" headers="r7c1-t4 r1c2-t4">
<p>Not relevant for arrays.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r8c1-t4" headers="r1c1-t4">
<p>Fixed offset</p>
</td>
<td class="cellalignment221" headers="r8c1-t4 r1c2-t4">
<p>Not relevant for arrays.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r9c1-t4" headers="r1c1-t4">
<p>Primary Key Column</p>
</td>
<td class="cellalignment221" headers="r9c1-t4 r1c2-t4">
<p>The column is part of the table's primary key.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>The tree in the Metadata view displays a normalized view of the tables, as shown in <a href="#CEGHFGFA">Figure 3-3</a>, where <code>STUDENT_BOOK</code>, <code>STUDENT_COURSE</code>, and <code>STUDENT_COURSE_ASSIGNMENTS</code> are virtual views and <code>STUDENT_ST</code> is a single table, also called sequential view.</p>
<div class="figure">
<p class="titleinfigure"><a id="CEGHFGFA"></a><a id="ADAUG155"></a>Figure 3-3 Normalized View of the Tables in the Metadata View</p>
<img width="290" height="448" src="img/normalized_view.gif" alt="Normalized view of the tables" title="Normalized view of the tables" /><br />
<a id="sthref83" href="img_text/normalized_view.htm">Description of "Figure 3-3 Normalized View of the Tables in the Metadata View"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The following SQL query on the Oracle data dictionary produces the result shown in <a href="#BABCFAHF">Example 3-1</a>. In this query, <code><span class="codeinlineitalic">data source</span></code> is the name of the data source from which the metadata was created. The result shows the metadata of the original table after virtual arrays were created.</p>
<pre>
SQL&gt; select TABLE_NAME,COLUMN_NAME,DATA_TYPE from ALL_TAB_COLUMNS@dg4[<span class="italic">data_source</span>] where table_name like 'STUDENT%';
</pre>
<div class="example">
<p class="titleinexample"><a id="BABCFAHF"></a><a id="ADAUG156"></a>Example 3-1 SQL Query Result</p>
<pre>
TABLE_NAME                       COLUMN_NAME                  DATA_TYPE
------------------------------  ---------------------------  ---------------------
STUDENT                          ID                           NUMBER
STUDENT                          FIRST_NAME                   CHAR
STUDENT                          LAST_NAME                    CHAR
STUDENT                          DATE_OF_BIRTH                CHAR
STUDENT                          NUMOF_COURSES                NUMBER
STUDENT                          NUMOF_BOOKS                  NUMBER
STUDENT_BOOK                     BOOK_ROWNUM                  NUMBER
STUDENT_BOOK                     ISBN                         CHAR
STUDENT_BOOK                     RETURN_DATE                  CHAR
STUDENT_COURSE                   COURSE_ROWNUM                NUMBER
STUDENT_COURSE                   COURSE_ID                    NUMBER
STUDENT_COURSE                   COURSE_TITLE                 CHAR
STUDENT_COURSE                   INSTRUCTOR_ID                NUMBER
STUDENT_COURSE                   NUMOF_ASSIGNMENTS            NUMBER
STUDENT_COURSE_ASSIGNMENTS       COURSE_ROWNUM                NUMBER
STUDENT_COURSE_ASSIGNMENTS       ASSIGNMENTS_ROWNUM           NUMBER
STUDENT_COURSE_ASSIGNMENTS       ASSIGNMENT_TYPE              CHAR
STUDENT_COURSE_ASSIGNMENTS       ASSIGNMENT_TITLE             CHAR
STUDENT_COURSE_ASSIGNMENTS       DUE_DATE                     CHAR
STUDENT_COURSE_ASSIGNMENTS       GRADE                        NUMBER
STUDENT_ST                       __LEVEL                      VARCHAR2
STUDENT_ST                       __SEQUENCE                   NUMBER
STUDENT_ST                       COURSE_ROWNUM                NUMBER
STUDENT_ST                       ASSIGNMENTS_ROWNUM           NUMBER
STUDENT_ST                       BOOK_ROWNUM                  NUMBER
STUDENT_ST                       ID                           NUMBER
STUDENT_ST                       FIRST_NAME                   CHAR
STUDENT_ST                       LAST_NAME                    CHAR
STUDENT_ST                       DATE_OF_BIRTH                CHAR
STUDENT_ST                       NUMOF_COURSES                NUMBER
STUDENT_ST                       NUMOF_BOOKS                  NUMBER
STUDENT_ST                       COURSE_ID                    NUMBER
STUDENT_ST                       COURSE_TITLE                 CHAR
STUDENT_ST                       INSTRUCTOR_ID                NUMBER
STUDENT_ST                       NUMOF_ASSIGNMENTS            NUMBER
STUDENT_ST                       ASSIGNMENT_TYPE              CHAR
STUDENT_ST                       ASSIGNMENT_TITLE             CHAR
STUDENT_ST                       DUE_DATE                     CHAR
STUDENT_ST                       GRADE                        NUMBER
STUDENT_ST                       ISBN                         CHAR
STUDENT_ST                       RETURN_DATE                  CHAR
41 rows selected.
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="CHDHDJEI"></a><a id="ADAUG157"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Methods of Handling Arrays</h2>
<p>Oracle Studio for IMS, VSAM, and Adabas Gateways lets you handle arrays by using the following methods:</p>
<ul>
<li>
<p><a href="#CHDFEHCE">Virtual Views</a></p>
</li>
<li>
<p><a href="#CHDBAIDD">Sequential Flattening (Bulk Load of Array Data)</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Objects from virtual views and sequential flattening are described by Oracle Gateways as tables.</div>
<p>See <a href="c_array_procedures.htm#CHDEEAIB">Chapter 4, "Setting the Array Handling Policy"</a> for information on how to define array handling settings.</p>
<a id="CHDFEHCE"></a><a id="ADAUG158"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Virtual Views<a id="sthref84"></a><a id="sthref85"></a></h3>
<p>Exposing arrays as virtual views is a commonly used technique to handle arrays. It generates a virtual view for every array in the parent record that contains all the array members. Virtual views contain primary key fields from the parent to connect the parent and the virtual view. Optionally, they can also contain all fields from the parent table.</p>
<p>During the import process or when you set the virtual array policy on the table level, Oracle Studio for IMS, VSAM, and Adabas Gateways generates virtual views and names them by appending the array name to the parent name. When an array includes another array, the name of the resulting virtual table consists of the parent name, the array name, and the name of the nested array, as follows:</p>
<pre>
parentName_arrayName_nestedArrayName
</pre>
<p>For example, a parent table called <code>STUDENT</code> with an array called <code>COURSE</code> and a nested array called <code>ASSIGNMENTS</code> is represented by the virtual view <code>STUDENT_COURSE_ASSIGNMENTS</code> (see <a href="#BABFCFEC">Figure 3-5</a>).</p>
<p>The number of nested-array levels is not limited.</p>
<p>Virtual views include the following:</p>
<ul>
<li>
<p>The array member columns from the original structure.</p>
</li>
<li>
<p>The fields from the parent's first unique key, or all parent fields, depending on the selection you make during the import process or when setting the virtual array policy on the table level.</p>
<p>If all parent fields are included in the virtual view, the parent's indexes are available in the view definition and can be used for efficient optimization strategies.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Inherited keys lose their uniqueness in the virtual view.</div>
</li>
<li>
<p>If the view does not include all parent fields, the primary key fields (if the primary key is not the parent's first unique key).</p>
</li>
<li>
<p>If selected, a column called <code>&lt;array_name&gt;_ROWNUM</code>, which identifies the row in the array.</p>
</li>
</ul>
<p>The unique key and <code>&lt;array_name&gt;_ROWNUM</code> columns are generated automatically. Together, they uniquely identify each row in the virtual view and form a unique key.</p>
<p><a href="#BABBDBJH">Figure 3-4</a> shows the <code>STUDENT_BOOKS</code> virtual view with the two array member columns (<code>ISBN</code> and <code>RETURN_DATE</code>) and the column that identifies the row in the array (<code>BOOK_ROWNUM</code>).</p>
<div class="figure">
<p class="titleinfigure"><a id="BABBDBJH"></a><a id="ADAUG159"></a>Figure 3-4 Virtual View STUDENT_BOOKS</p>
<img width="240" height="227" src="img/select_virtual_view.gif" alt="Virtual view of the STUDENT_BOOK table" title="Virtual view of the STUDENT_BOOK table" /><br />
<a id="sthref86" href="img_text/select_virtual_view.htm">Description of "Figure 3-4 Virtual View STUDENT_BOOKS"</a><br />
<br /></div>
<!-- class="figure" -->
<p>Oracle Studio for IMS, VSAM, and Adabas Gateways also maintains primary and foreign key definitions that connect between the parent table and the array tables. This allows graphical tools to easily match parent and array.</p>
<p>When working with virtual views, consider the following limitations:</p>
<ul>
<li>
<p>Virtual views are read-only.</p>
</li>
<li>
<p>Virtual views do not support arrays within variants that have a selector field.</p>
</li>
</ul>
<p>Including all parent fields in the virtual view greatly reduces the need for performing join operations because this in itself is an implicit join. In general, the query processor can devise efficient access strategies because Oracle Connect for IMS, VSAM, and Adabas Gateways copies all relevant indexes from the parent to the virtual view.</p>
<p>Oracle Studio for IMS, VSAM, and Adabas Gateways indicates virtual views by using a different colored icon in the Metadata view, as shown in <a href="#BABFCFEC">Figure 3-5</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABFCFEC"></a><a id="ADAUG160"></a>Figure 3-5 Display of Virtual Views in Oracle Studio for IMS, VSAM, and Adabas Gateways</p>
<img width="483" height="231" src="img/vtables_studio.gif" alt="Icon used in Oracle Studio to indicate a virtual table" title="Icon used in Oracle Studio to indicate a virtual table" /><br />
<a id="sthref87" href="img_text/vtables_studio.htm">Description of "Figure 3-5 Display of Virtual Views in Oracle Studio for IMS, VSAM, and Adabas Gateways"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<a id="CHDBAIDD"></a><a id="ADAUG161"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Sequential Flattening (Bulk Load of Array Data)<a id="sthref88"></a><a id="sthref89"></a><a id="sthref90"></a><a id="sthref91"></a><a id="sthref92"></a></h3>
<p>Performing a bulk load of complex data from a non-relational system to a relational database requires a carefully thought-out algorithm that keeps I/O operations at a minimum.</p>
<p>In a bulk load scenario, a method such as <a href="#CHDFEHCE">Virtual Views</a> requires a full scan of the physical file for every single array. An efficient method of performing this task presents a kind of row-wise normalization, called sequential flattening. This method reads all data in the physical file in a single scan.</p>
<p>Sequential flattening replaces arrays in a non-relational system by a sequence of rows. It maps all the record fields of the non-relational file to a single table that contains both parent and child records. In this way, sequential flattening enables the reception of a stream of data by using a single <code>SELECT</code> statement.</p>
<p>The sequentially flattened view of a complex table is referred to as a <span class="italic">single table</span> or <span class="italic">sequential view</span>. You can choose to create a sequential view in Oracle Studio for IMS, VSAM, and Adabas Gateways by selecting the <span class="bold">Generate sequential view</span> check box during the Metadata Model Selection step of the Metadata Import procedure. The single table is read-only.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink IVACW" href="../e12077/toc.htm"><span class="italic">Oracle Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide for Microsoft Windows</span></a> or <a class="olink IVACU" href="../e12076/toc.htm"><span class="italic">Oracle Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64</span></a> for details on importing metadata into Oracle Studio for IMS, VSAM, and Adabas Gateways.</div>
<p>The flattened table is called <code>&lt;table&gt;_ST</code>, where <code>&lt;table&gt;</code> is the name of the parent table and <code>ST</code> indicates a single table. For example, if a parent table is called <code>STUDENT</code>, the single table, or sequential view, is called <code>STUDENT_ST</code>.</p>
<p>The structure of the single table is identical to the original table's structure, except that Oracle Connect for IMS, VSAM, and Adabas Gateways removes all array dimensions and adds some control fields. When reading a record, Oracle Connect for IMS, VSAM, and Adabas Gateways performs a tree traversal of the parent and its array hierarchy. Each record in the resulting recordset deals with a specific array member; other arrays are nulled out.</p>
<p>The sequentially flattened single table includes the following columns:</p>
<ul>
<li>
<p>The parent fields, that is the non-repeating fields.</p>
</li>
<li>
<p>The array fields for all arrays within the parent.</p>
</li>
<li>
<p>For each array, an optional column called <code>&lt;array_name&gt;_ROWNUM</code>, which identifies the row in the array. This column is generated automatically for the array.</p>
</li>
</ul>
<p>The sequentially flattened single table includes a record (row) for each array record.</p>
<p>See <a href="#BABDHCIE">Figure 3-1</a> for an illustration of arrays and nested arrays.</p>
<p><a href="#BABGFHGD">Figure 3-6</a> shows the metadata that sequential flattening produces for a data source with three arrays (<code>COURSE</code>, <code>ASSIGNMENTS</code>, and <code>BOOK</code>) in the SQL View window. The window presents read-only information about each of the columns in the table.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABGFHGD"></a><a id="ADAUG162"></a>Figure 3-6 SQL View of the Single Table's Metadata</p>
<img width="617" height="390" src="img/sql_view_vtable_oracle.gif" alt="SQL view of the single table&rsquo;s metadata" title="SQL view of the single table&rsquo;s metadata" /><br />
<a id="sthref93" href="img_text/sql_view_vtable_oracle.htm">Description of "Figure 3-6 SQL View of the Single Table's Metadata"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The following table describes the information presented in this window.</p>
<div class="tblformal">
<p class="titleintable"><a id="ADAUG163"></a><a id="sthref94"></a><a id="sthref95"></a>Table 3-2 SQL View Window</p>
<table class="cellalignment226" title="SQL View Window" summary="This table descirobes the SQL View window" dir="ltr">
<thead>
<tr class="cellalignment213">
<th class="cellalignment220" id="r1c1-t8">Information Type</th>
<th class="cellalignment220" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment213">
<td class="cellalignment221" id="r2c1-t8" headers="r1c1-t8">
<p>Name</p>
</td>
<td class="cellalignment221" headers="r2c1-t8 r1c2-t8">
<p>The name of the column.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r3c1-t8" headers="r1c1-t8">
<p>Data Type</p>
</td>
<td class="cellalignment221" headers="r3c1-t8 r1c2-t8">
<p>The data type supported by that column. For example, string or integer.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r4c1-t8" headers="r1c1-t8">
<p>Size</p>
</td>
<td class="cellalignment221" headers="r4c1-t8 r1c2-t8">
<p>Indicates the maximum size allowable for the data in the column. The size is in standard units for the data type. For example, a string with size 40 can have no more than forty characters.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r5c1-t8" headers="r1c1-t8">
<p>Scale</p>
</td>
<td class="cellalignment221" headers="r5c1-t8 r1c2-t8">
<p>Indicates the number of digits allowed after the decimal point for a numeric value.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r6c1-t8" headers="r1c1-t8">
<p>Precision</p>
</td>
<td class="cellalignment221" headers="r6c1-t8 r1c2-t8">
<p>Indicates the total number of digits allowed for a numeric value in the column. If the value has a scale of one or more, then the total number of digits allowed before the decimal point is the precision value minus the scale value. For example, a value with precision 4 and scale 2 can be no larger than 99.99.</p>
</td>
</tr>
<tr class="cellalignment213">
<td class="cellalignment221" id="r7c1-t8" headers="r1c1-t8">
<p>Nullable</p>
</td>
<td class="cellalignment221" headers="r7c1-t8 r1c2-t8">
<p>Indicates whether the column can have a null value. If <code>True</code>, the column is nullable.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p><a href="#BABEAAHG">Figure 3-7</a> shows the actual single table after running a SELECT clause. It contains a column for each row in the preceding SQL view.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABEAAHG"></a><a id="ADAUG164"></a>Figure 3-7 STUDENT_ST with All Parent and Child Records</p>
<img width="1075" height="291" src="img/single_table_data_oracle.gif" alt="A table&rsquo;s data after sequential flattening" title="A table&rsquo;s data after sequential flattening" /><br />
<a id="sthref96" href="img_text/single_table_data_oracle.htm">Description of "Figure 3-7 STUDENT_ST with All Parent and Child Records"</a><br />
<br /></div>
<!-- class="figure" -->
<p>An SQL describe of this single table produces the following result:</p>
<pre>
Name                                             Null?              Type
----------------------------------------- ------------------ ------------------
__LEVEL                                       NOT NULL        VARCHAR2(64)
__SEQUENCE                                    NOT NULL        NUMBER(11)
COURSE_ROWNUM                                                 NUMBER(10)
ASSIGNMENTS_ROWNUM                                            NUMBER(10)
BOOK_ROWNUM                                                   NUMBER(10)
ID                                            NOT NULL        NUMBER(8)
FIRST_NAME                                    NOT NULL        CHAR(32)
LAST_NAME                                     NOT NULL        CHAR(32)
DATE_OF_BIRTH                                 NOT NULL        CHAR(8)
NUMOF_COURSES                                 NOT NULL        NUMBER(10)
NUMOF_BOOKS                                   NOT NULL        NUMBER(10)
COURSE_ID                                                     NUMBER(8)
COURSE_TITLE                                                  CHAR(48)
INSTRUCTOR_ID                                                 NUMBER(8)
NUMOF_ASSIGNMENTS                                             NUMBER(10)
ASSIGNMENT_TYPE                                               CHAR(12)
ASSIGNMENT_TITLE                                              CHAR(48)
DUE_DATE                                                      CHAR(8)
GRADE                                                         NUMBER(2,1)
ISBN                                                          CHAR(10)
RETURN_DATE                                                   CHAR(8)
</pre>
<p>This table shows all the columns of the single table.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment212">
<tr>
<td class="cellalignment221">
<table class="cellalignment217">
<tr>
<td class="cellalignment216"><a href="adabas_feat_restrict.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment216"><a href="c_array_procedures.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2009,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment223">
<table class="cellalignment215">
<tr>
<td class="cellalignment216"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment216"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment216"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment216"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment216"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment216"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
