<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Oracle Database Gateway for VSAM</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-08-16T0:20:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide" />
<meta name="dcterms.identifier" content="E12076-05" />
<meta name="dcterms.isVersionOf" content="IVACU" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="inst_tgw_vsam.htm" title="Previous" type="text/html" />
<link rel="Next" href="part_ims.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12076.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/30</span> <!-- End Header -->
<div id="IVACU208" class="chapter"><a id="CFHGJBBB"></a>
<h1 class="chapter"><span class="secnum">4</span> Configuring Oracle Database Gateway for VSAM</h1>
<p>After installing the gateway, perform the following tasks to configure the gateway for VSAM:</p>
<ul>
<li>
<p><a href="#CFHGEAEC">Configuring the Gateway</a></p>
</li>
<li>
<p><a href="#CFHGAIBE">Configuring Oracle Net Services Listener for the Gateway</a></p>
</li>
<li>
<p><a href="#CFHDCBFI">Configuring the Oracle Database for Gateway Access</a></p>
</li>
<li>
<p><a href="#CFHEEEBC">Creating Database Links</a></p>
</li>
<li>
<p><a href="#CFHHCFEG">Gateway Password Encryption Tool</a></p>
</li>
<li>
<p><a href="#CFHIJJIE">Configuring the Gateway for Multiple VSAM Databases</a></p>
</li>
<li>
<p><a href="#i1006416">Performing Configuration Tasks</a></p>
</li>
<li>
<p><a href="#CHDDJIJG">Testing the VSAM Data Source</a></p>
</li>
</ul>
<a id="CFHGEAEC"></a>
<div id="IVACU209" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.1</span> Configuring the Gateway</h2>
<p>Perform the following tasks to configure Oracle Database Gateway for VSAM:<a id="sthref152"></a><a id="sthref153"></a></p>
<ol>
<li>
<p><a href="#CFHEGGDB">Choose a System Identifier for the Gateway</a></p>
</li>
<li>
<p><a href="#CFHDDJII">Customize the Initialization Parameter File</a></p>
</li>
</ol>
<a id="CFHEGGDB"></a>
<div id="IVACU210" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.1.1</span> Choose a System Identifier for the Gateway</h3>
<p>Choosing a system identifier is the first task in configuring Oracle Database Gateway for VSAM. The <a id="sthref154"></a>gateway system identifier <a id="sthref155"></a>(SID) is an alphanumeric character string that identifies a gateway instance. If you want to connect simultaneously to different VSAM data sources, you need one gateway instance, and therefore one gateway SID, for each VSAM data source. The SID name is used as part of the file name for the initialization parameter file. The default SID is <a id="sthref156"></a><code>dg4vsam</code>.</p>
<p>The <code>HS_FDS_DATASOURCE_NAME</code> parameter takes on the gateway SID as the default value. This means that the data source matches the gateway SID by default. However, you can specify the value of the <code>HS_FDS_DATASOURCE_NAME</code> parameter to match the data source that you want to access. See <a href="hs_ini_para.htm#CHDFFGDF">"HS_FDS_DATASOURCE_NAME"</a> for more information.</p>
<p>If you have one VSAM data source and want to access it sometimes with one set of gateway parameter settings, and other times with a different set of gateway parameter settings, you can define two different data sources and define the matching SIDs accordingly.</p>
</div>
<!-- class="sect2" -->
<a id="CFHDDJII"></a>
<div id="IVACU211" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.1.2</span> Customize the Initialization Parameter File</h3>
<p>Customizing the initialization parameter file is the second task in configuring Oracle Database Gateway for VSAM. <a id="sthref157"></a>The initialization parameter file must be available when the gateway is started. During installation, the following default initialization parameter file is created:</p>
<pre>
<a id="sthref158"></a>$<span class="italic">ORACLE_HOME</span>/dg4vsam/admin/initdg4vsam.ora
</pre>
<p>Where <code><span class="codeinlineitalic">$ORACLE_HOME</span></code> is the directory in which the gateway is installed.</p>
<p>The name of the parameter file is <code>init[</code><code><span class="codeinlineitalic">SID</span></code><code>].ora</code>, where <code><span class="codeinlineitalic">SID</span></code> is the gateway <code><span class="codeinlineitalic">SID</span></code>. If you are not using <code>dg4vsam</code> as the gateway SID, you must rename the initialization parameter file using the SID you chose in Task 1. This default initialization parameter file is sufficient for starting the gateway, verifying a successful installation, and running the demonstration scripts.</p>
<p>In the initialization parameter file, specify the VSAM connection as follows:</p>
<ul>
<li>
<p>If you use the default workspace:</p>
<pre>
HS_FDS_CONNECT_INFO="address:port"
</pre></li>
<li>
<p>If you use a workspace other than the default:</p>
<pre>
HS_FDS_CONNECT_INFO="address='<span class="codeinlineitalic">host</span>' port='<span class="codeinlineitalic">port</span>' workspace='<span class="codeinlineitalic">workspace</span>'"
</pre></li>
</ul>
<p>Where:</p>
<ul>
<li>
<p><code>host</code>: The name of the mainframe computer on which Oracle Connect for IMS, VSAM, and Adabas Gateways runs.</p>
</li>
<li>
<p><code>port</code>: The port number to listen to.</p>
</li>
<li>
<p><code>workspace</code>: The VSAM data source workspace name (optional).</p>
</li>
</ul>
<p>HS_FDS_ACCESS_METHOD must be set to VSAM-CICS for VSAM (CICS) data sources. See <a href="hs_ini_para.htm#g20730">Appendix B, "Initialization Parameters"</a> for details.</p>
<p>A number of initialization parameters can be used to modify the gateway behavior. You may want to change the initialization parameter file later to meet system requirements.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span> for more information about customizing the initialization parameter file.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CFHGAIBE"></a>
<div id="IVACU212" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.2</span> Configuring Oracle Net Services Listener for the Gateway<a id="sthref159"></a></h2>
<p>The gateway requires Oracle Net Services to provide transparent data access. After configuring the gateway, configure Oracle Net Services to work with the gateway.</p>
<ol>
<li>
<p><a href="#CFHFCBFA">Configure Oracle Net Services Oracle Net Listener for the Gateway</a></p>
</li>
<li>
<p><a href="#CFHDFDEB">Stop and Start the Oracle Net Listener for the Gateway</a></p>
</li>
</ol>
<a id="CFHFCBFA"></a>
<div id="IVACU213" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.1</span> Configure Oracle Net Services Oracle Net Listener for the Gateway</h3>
<p>Oracle Net Services uses the <a id="sthref160"></a>Oracle Net Listener to receive incoming connections from a Oracle Net Services client. The Oracle Net Listener and the gateway must reside on the same system.</p>
<p>The Oracle Net Listener listens for incoming requests from the Oracle Database. For the Oracle Net Listener to listen for the gateway, information about the gateway must be added to the Oracle Net Listener configuration file, <code><a id="sthref161"></a>listener.ora</code>. This file is located in the following directory:</p>
<p><code>$ORACLE_HOME/network/admin</code></p>
<p>where <code>$ORACLE_HOME</code> is the directory in which the gateway is installed.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If Oracle Net Services is reinstalled, the original <code>listener.ora</code> file is renamed and a new <code>listener.ora</code> file is put into the same directory.</div>
<p>The following entries must be added to the <code>listener.ora</code> file:</p>
<ul>
<li>
<p>A list of Oracle Net Services addresses on which the Oracle Net Listener listens.</p>
</li>
<li>
<p>The gateway that the Oracle Net Listener starts in response to incoming connection requests.</p>
</li>
</ul>
<a id="i1005863"></a>
<div id="IVACU214" class="sect3">
<h4 class="sect3"><span class="secnum">4.2.1.1</span> Example of Address to Listen On in listener.ora File</h4>
<p>The Oracle Database accesses the gateway using Oracle Net Services and the TCP/IP protocol adapter. The following is the syntax of the connect descriptor entry in the <code>listener.ora</code> file:</p>
<pre>
LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS_LIST =
        (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC))
      )
      (ADDRESS_LIST =
        (ADDRESS = (PROTOCOL = TCP)(HOST = host_name)(PORT = 1552))
      )
    )
  )
</pre>
<p>Where:</p>
<div id="IVACU215" class="tblformal">
<p class="titleintable"><a id="sthref162"></a><a id="sthref163"></a>Table 4-1 Parameters for listener.ora File</p>
<table class="cellalignment128" title="Parameters for listener.ora File" summary="Table showing gateway listening endpoint parameters for listener.ora files" dir="ltr">
<thead>
<tr class="cellalignment122">
<th class="cellalignment129" id="r1c1-t4">Variable</th>
<th class="cellalignment129" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment122">
<td class="cellalignment130" id="r2c1-t4" headers="r1c1-t4">
<p><code><span class="codeinlineitalic">host_name</span></code></p>
</td>
<td class="cellalignment130" headers="r2c1-t4 r1c2-t4">
<p>The name of the system on which the gateway is installed.</p>
</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r3c1-t4" headers="r1c1-t4">
<p><code><span class="codeinlineitalic">port</span></code></p>
</td>
<td class="cellalignment130" headers="r3c1-t4 r1c2-t4">
<p>The port number used by the Oracle Net Listener. If you have other listeners running on <code><span class="codeinlineitalic">host_name</span></code>, the value of <code><span class="codeinlineitalic">port_number</span></code> must be different from the other listeners' port numbers.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="i1007351"></a>
<div id="IVACU216" class="sect3">
<h4 class="sect3"><span class="secnum">4.2.1.2</span> Example of Gateway to Start in listener.ora File</h4>
<p>To direct the Oracle Net Listener to start the gateway in response to incoming connection requests, add an entry to the <code><a id="sthref164"></a>listener.ora</code> file as follows.</p>
<p>Use the following syntax for Linux platforms:</p>
<pre>
SID_LIST_LISTENER =
  (SID_LIST =
  .
  .
  (SID_DESC=
  (SID_NAME=gateway_sid)
  (ORACLE_HOME=ORACLE_HOME_directory)
  (PROGRAM=dg4vsam)
  (ENVS=LD_LIBRARY_PATH=$ORACLE_HOME/lib)
  )
)
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The executable <code>dg4vsam</code> is valid for both VSAM and VSAM CICS.</div>
<p>Where:</p>
<div id="IVACU217" class="tblformal">
<p class="titleintable"><a id="sthref165"></a><a id="sthref166"></a>Table 4-2 Parameters for listener.ora File</p>
<table class="cellalignment128" title="Parameters for listener.ora File" summary="Table describing gateway parameters for listener.ora files" dir="ltr">
<thead>
<tr class="cellalignment122">
<th class="cellalignment129" id="r1c1-t6">Variable</th>
<th class="cellalignment129" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment122">
<td class="cellalignment130" id="r2c1-t6" headers="r1c1-t6">
<p><code><span class="codeinlineitalic">sid_name</span></code></p>
</td>
<td class="cellalignment130" headers="r2c1-t6 r1c2-t6">
<p>The SID of the gateway and matches the gateway SID specified in the connect descriptor entry in the <code>tnsnames.ora</code> file. The Oracle Net Listener uses the SID name to locate the relevant <code>&lt;</code><code><span class="codeinlineitalic">sid_name</span></code><code>&gt;.ora</code> file. It needs to access this file to check which access method is used (VSAM-BATCH or VSAM-CICS).</p>
</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r3c1-t6" headers="r1c1-t6">
<p><code><span class="codeinlineitalic">ORACLE_HOME</span></code></p>
</td>
<td class="cellalignment130" headers="r3c1-t6 r1c2-t6">
<p>The Oracle home directory where the gateway is located.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>The following table specifies which <code>ENVS</code> parameter value to use for the different platforms:</p>
<div class="inftblinformal">
<table class="cellalignment133" title="ENVS parameter values" summary="ENVS parameter value to be specified per platform" dir="ltr">
<thead>
<tr class="cellalignment122">
<th class="cellalignment129" id="r1c1-t7">Platform</th>
<th class="cellalignment129" id="r1c2-t7">ENVS Parameter Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment122">
<td class="cellalignment130" id="r2c1-t7" headers="r1c1-t7">Sun Solaris, 64-bit</td>
<td class="cellalignment130" headers="r2c1-t7 r1c2-t7"><code>LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r3c1-t7" headers="r1c1-t7">HP-UX Itanium 64-bit</td>
<td class="cellalignment130" headers="r3c1-t7 r1c2-t7">SHLIB_PATH=$ORACLE_HOME/lib</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r4c1-t7" headers="r1c1-t7">IBM AIX 64-bit</td>
<td class="cellalignment130" headers="r4c1-t7 r1c2-t7"><code>LIBPATH=$ORACLE_HOME/lib</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r5c1-t7" headers="r1c1-t7">Linux 32-bit</td>
<td class="cellalignment130" headers="r5c1-t7 r1c2-t7"><code>LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r6c1-t7" headers="r1c1-t7">Linux 64-bit</td>
<td class="cellalignment130" headers="r6c1-t7 r1c2-t7"><code>LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Net Services Administrator's Guide</span> for information about changing the <code>listener.ora</code> file.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CFHDFDEB"></a>
<div id="IVACU218" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.2</span> Stop and Start the Oracle Net Listener for the Gateway</h3>
<p>The <a id="sthref167"></a>Oracle Net Listener must be started to initiate the new settings, as follows:</p>
<ol>
<li>
<p>Set the <code>PATH</code> environment variable to access the commands in the following directory:</p>
<pre>
$ORACLE_HOME/bin
</pre>
<p>If you have the Bourne or Korn Shell, enter the following:</p>
<pre>
$ PATH=$ORACLE_HOME/bin:$PATH;export PATH
$ LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH; export LD_LIBRARY_PATH
</pre>
<p>If you have the C Shell, enter the following:</p>
<pre>
$ setenv PATH $ORACLE_HOME/bin:$PATH
$ setenv LD_LIBRARY_PATH $ORACLE_HOME/lib:$LD_LIBRARY_PATH
</pre>
<p>where <code>$ORACLE_HOME</code> is the directory where the gateway is installed.</p>
<p>The following table specifies which path to use for the different platforms.</p>
<div class="inftblinformal">
<table class="cellalignment133" title="Path to be used for the different platforms" summary="Path to be used per platform" dir="ltr">
<thead>
<tr class="cellalignment122">
<th class="cellalignment129" id="r1c1-t9">Platform</th>
<th class="cellalignment129" id="r1c2-t9">Path to be Used</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment122">
<td class="cellalignment130" id="r2c1-t9" headers="r1c1-t9">Linux, 32-bit and 64-bit</td>
<td class="cellalignment130" headers="r2c1-t9 r1c2-t9"><code>LD_LIBRARY_PATH</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r3c1-t9" headers="r1c1-t9">Sun solaris</td>
<td class="cellalignment130" headers="r3c1-t9 r1c2-t9"><code>LD_LIBRARY_PATH</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r4c1-t9" headers="r1c1-t9">HP-UX</td>
<td class="cellalignment130" headers="r4c1-t9 r1c2-t9"><code>SHLIB_PATH</code></td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r5c1-t9" headers="r1c1-t9">IBM AIX</td>
<td class="cellalignment130" headers="r5c1-t9 r1c2-t9"><code>LIBPATH</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></li>
<li>
<p>If the listener is already running, use the <code>lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</p>
<pre>
$ lsnrctl stop
$ lsnrctl start 
</pre></li>
<li>
<p>Check the status of the listener with the new settings, as follows:</p>
<pre>
$ lsnrctl status
</pre>
<p>The following is an example of output from a <code>lsnrctl</code> status check:</p>
</li>
</ol>
<pre>
LSNRCTL for SOLARIS: Version 12.1.0 - Production on 13-DEC-2011 09:16:17

Copyright (c) 1991, 2011, Oracle. All rights reserved.

Connecting to (ADDRESS=(PROTOCOL=TCP)(HOST=204.179.99.15)(PORT=11201))
STATUS of the LISTENER
----------------------
Alias                    listener
Version                  TNSLSNR for SOLARIS: Version 12.1.0 - Production
Start Date               31-May-2011 10:16:17
Uptime                   0 days 18 hr. 5 min. 13 sec
Trace Level              off
Security                 OFF
SNMP                     OFF
Listener Parameter File  /users/oracle/gateway/network/admin/listener.ora
Listener Log File        /users/oracle/gateway/network/log/listener.log
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=204.179.99.15)(PORT=11201)))
Services Summary...
Service "dg4vsam" has 1 instance(s).
  Instance "dg4vsam", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
</pre>
<p>In this example, <code>dg4vsam</code> is the default SID value assigned during installation. You can use any valid ID for the SID, or keep the default.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must use the same SID value in the <code>tnsnames.ora</code> file and the <code>listener.ora</code> file.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CFHDCBFI"></a>
<div id="IVACU219" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.3</span> Configuring the Oracle Database for Gateway Access</h2>
<p>Before you can use the gateway to access VSAM data, you must configure the Oracle Database to enable communication with the gateway over Oracle Net Services.</p>
<p>Perform the following tasks to configure the Oracle Database accordingly:</p>
<p><a href="#CFHFJCHE">Configuring Oracle Net Services for the Oracle Database</a></p>
<a id="CFHFJCHE"></a>
<div id="IVACU220" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.3.1</span> Configuring Oracle Net Services for the Oracle Database</h3>
<p>To configure the server you add connect descriptors to the <code>tnsnames.ora</code> file. You cannot use the Oracle Net Services Assistant or the Oracle Net Services Easy Config tools to configure the <code>tnsnames.ora</code> file. You must edit the file manually.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Administrator's Guide</span> for information about editing the <code>tnsnames.ora</code> file.</div>
<p>For the Oracle Database to access the gateway, it needs a service name entry or a connect descriptor name entry in the <code>tnsnames.ora</code> file to tell the Oracle Database where to make connections.</p>
<p>By default, this file is located in the directory <code>$ORACLE_HOME/network/admin</code>, where <code>$ORACLE_HOME</code> is the directory in which the Oracle Database is installed. The <code>tnsnames.ora</code> file is required by the Oracle Database accessing the gateway, but not by the gateway.</p>
<a id="i1006045"></a>
<div id="IVACU221" class="sect3">
<h4 class="sect3"><span class="secnum">4.3.1.1</span> Configuring tnsnames.ora</h4>
<p>Edit the <code>tnsnames.ora</code> file to add a connect descriptor for the gateway. The following is the syntax of the Oracle Net Services entries using TCP/IP protocol needed for the Oracle Database to access the gateway:</p>
<pre>
<span class="italic">connect_descriptor</span> =
   (DESCRIPTION =
   (ADDRESS_LIST =
   (ADDRESS = (PROTOCOL = TCP)(HOST = <span class="italic">host_name</span>)(PORT = <span class="italic">port_number</span>))
   )
   (CONNECT_DATA =
   (SID=<span class="italic">gateway_sid</span>)
   )
   (HS = OK)
   )
</pre>
<p>Where:</p>
<div id="IVACU222" class="tblformal">
<p class="titleintable"><a id="sthref168"></a><a id="sthref169"></a>Table 4-3 Parameters for tnsnames.ora File</p>
<table class="cellalignment128" title="Parameters for tnsnames.ora File" summary="Table describing gateway parameters for tnsnames.ora file" dir="ltr">
<thead>
<tr class="cellalignment122">
<th class="cellalignment129" id="r1c1-t12">Variable</th>
<th class="cellalignment129" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment122">
<td class="cellalignment130" id="r2c1-t12" headers="r1c1-t12">
<p><code><span class="codeinlineitalic">connect_descriptor</span></code></p>
</td>
<td class="cellalignment130" headers="r2c1-t12 r1c2-t12">
<p>The description of the object to connect to as specified when creating the database link, such as dg4vsam.</p>
<p>Check the <code>sqlnet.ora</code> file for the following parameter setting:</p>
<p><code>names.directory_path = (TNSNAMES)</code></p>
<p><span class="bold">Note</span>: The <code>sqlnet.ora</code> file is typically stored in <code>$ORACLE_HOME/network/admin</code>.</p>
</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r3c1-t12" headers="r1c1-t12">
<p><code><span class="codeinlineitalic">host_name</span></code></p>
</td>
<td class="cellalignment130" headers="r3c1-t12 r1c2-t12">
<p>Specifies the system where the gateway is running.</p>
</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r4c1-t12" headers="r1c1-t12">
<p><code><span class="codeinlineitalic">port_number</span></code></p>
</td>
<td class="cellalignment130" headers="r4c1-t12 r1c2-t12">
<p>Matches the port number used by the Oracle Net Services Oracle Net Listener that is listening for the gateway. The Oracle Net Listener's port number can be found in the <code>listener.ora</code> file used by the Oracle Net Listener. See <a href="#i1005863">"Example of Address to Listen On in listener.ora File"</a>.</p>
</td>
</tr>
<tr class="cellalignment122">
<td class="cellalignment130" id="r5c1-t12" headers="r1c1-t12">
<p><code><span class="codeinlineitalic">gateway_sid</span></code></p>
</td>
<td class="cellalignment130" headers="r5c1-t12 r1c2-t12">
<p>Specifies the SID of the gateway and matches the SID specified in the <code>listener.ora</code> file of the Oracle Net Listener that is listening for the gateway. See <a href="#CFHFCBFA">"Configure Oracle Net Services Oracle Net Listener for the Gateway"</a> for more information.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>For example:</p>
<pre>
<span class="italic">connect_descriptor</span>=
vsam =
  (DESCRIPTION =
  (ADDRESS_LIST =
  (ADDRESS = (PROTOCOL = TCP)(HOST = <span class="italic">host_name</span>)(PORT = <span class="italic">port_number</span>))
  )
  (CONNECT_DATA =
  (SID = <span class="italic">gateway_sid</span>)
  )
  (HS = OK)
  )
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CFHEEEBC"></a>
<div id="IVACU223" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.4</span> Creating Database Links<a id="sthref170"></a></h2>
<p>Any Oracle client connected to the Oracle Database can access VSAM data through the gateway. The Oracle client and the Oracle Database can reside on different systems. The gateway accepts connections only from the Oracle Database.</p>
<p>A connection to the gateway is established through a database link when it is first used in an Oracle session. In this context, a connection refers to the connection between the Oracle Database and the gateway. The connection remains established until the Oracle session ends. Another session or user can access the same database link and get a distinct connection to the gateway and VSAM data source.</p>
<p>Database links are active for the duration of a gateway session. If you want to close a database link during a session, you can do so with the <code>ALTER SESSION CLOSE DATABASE LINK dblink</code> statement. The database and application administrators of a distributed database system are responsible for managing the necessary database links that define paths to the VSAM data source.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Administrator's Guide</span> and <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about using database links.</div>
</div>
<!-- class="sect1" -->
<a id="CFHHCFEG"></a>
<div id="IVACU224" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.5</span> Gateway Password Encryption Tool</h2>
<p>The gateway uses userids and passwords to access the information in the remote database. Some userids and passwords must be defined in the Gateway Initialization File to handle functions such as resource recovery. In the current security conscious environment, having plain-text passwords that are accessible in the Initialization File is considered insecure. The <code>dg4pwd</code> encryption utility has been added as part of Heterogeneous Services' generic connectivity to help make this more secure. This utility is accessible by this gateway. The initialization parameters that contain sensitive values can be stored in an encrypted form.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about using this utility.</div>
</div>
<!-- class="sect1" -->
<a id="CFHIJJIE"></a>
<div id="IVACU225" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.6</span> Configuring the Gateway for Multiple VSAM Databases</h2>
<p>The tasks for configuring the gateway to access multiple VSAM data sources are similar to the tasks for configuring the gateway for a single database. The configuration example assumes the following:</p>
<ul>
<li>
<p>The gateway is installed and configured with the default SID of <code>dg4vsam</code>.</p>
</li>
<li>
<p>The <code>ORACLE_HOME</code> environment variable is set to the directory where the gateway is installed.</p>
</li>
<li>
<p>The gateway is configured for one VSAM data source named <code>dg4vsam</code>.</p>
</li>
<li>
<p>Two VSAM data sources named <code>dg4vsam2</code> and <code>dg4vsam3</code> on a server named <code>mvs5</code> with port number <code>2551</code> are added.</p>
</li>
</ul>
<p>Configuring the gateway for additional VSAM data sources is similar to configuring it for one database, and involves the following:</p>
<ul>
<li>
<p>Configuring the gateway.</p>
</li>
<li>
<p>Configuring Oracle Net Services for the gateway and the Oracle Database.</p>
</li>
</ul>
<a id="i1006179"></a>
<div id="IVACU226" class="sect2">
<h3 class="sect2"><span class="secnum">4.6.1</span> Multiple Databases Example: Configuring the Gateway</h3>
<p class="subhead2"><a id="IVACU227"></a>Choose Two System IDs for Each VSAM Database</p>
<p>A separate instance of the gateway accesses the different VSAM data sources. Each instance needs its own gateway System ID (SID). For this example, the gateway SIDs for the instances that access the VSAM data sources are named as follows:</p>
<ul>
<li>
<p><code>dg4vsam2</code> for the gateway accessing data source dg4vsam2.</p>
</li>
<li>
<p><code>dg4vsam3</code> for the gateway accessing data source dg4vsam3.</p>
</li>
</ul>
<p class="subhead2"><a id="IVACU228"></a>Create Two Initialization Parameter Files</p>
<p>Create an initialization parameter file for each instance of the gateway by copying the original initialization parameter file twice, naming one with the gateway SID for dg4vsam2 and the other with the gateway SID for dg4vsam3:</p>
<pre>
$ cd $ORACLE_HOME/dg4vsam/admin$ cp initdg4vsam.ora initdg4vsam2.ora$ cp initdg4vsam.ora initdg4vsam3.ora
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The library <code>$ORACLE_HOME/dg4vsam/admin</code> is valid both for VSAM and VSAM CICS.</div>
<p>Change the value of the <code>HS_FDS_CONNECT_INFO</code> parameter in the new files.</p>
<p>For <code>initdg4vsam2.ora</code>, enter the following:</p>
<pre>
HS_FDS_CONNECT_INFO="mvs5:2551"
</pre>
<p>For <code>initdg4vsam3.ora</code>, enter the following:</p>
<pre>
HS_FDS_CONNECT_INFO="mvs5:2551"
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you have multiple gateway SIDs for the same VSAM data source because you want to use different gateway parameter settings at different times, follow the same procedure. You create several initialization parameter files, each with different SIDs and different parameter settings.</div>
</div>
<!-- class="sect2" -->
<div id="IVACU229" class="sect2"><a id="sthref171"></a>
<h3 class="sect2"><span class="secnum">4.6.2</span> Multiple Databases Example: Configuring Oracle Net Services Listener</h3>
<p class="subhead2"><a id="IVACU230"></a>Add Entries to <a id="sthref172"></a>listener.ora</p>
<p>Add two new entries to the Oracle Net Listener configuration file, <code>listener.ora</code>. You must have an entry for each gateway instance, even when multiple gateway instances access the same database.</p>
<p>The following example shows the entry for the original installed gateway first, followed by the new entries:</p>
<pre>
SID_LIST_LISTENER=
(SID_LIST=
   (SID_DESC=
      (SID_NAME=dg4vsam)
      (ORACLE_HOME=<span class="italic">ORACLE_HOME_directory</span>)
      (PROGRAM=dg4vsam)
   )
   (SID_DESC=
      (SID_NAME=dg4vsam2)
      (ORACLE_HOME=<span class="italic">ORACLE_HOME_directory</span>)
      (PROGRAM=dg4vsam)
   )
   (SID_DESC=
      (SID_NAME=dg4vsam3)
      (ORACLE_HOME=<span class="italic">ORACLE_HOME_directory</span>)
      (PROGRAM=dg4vsam)
   )
)
</pre></div>
<!-- class="sect2" -->
<div id="IVACU231" class="sect2"><a id="sthref173"></a>
<h3 class="sect2"><span class="secnum">4.6.3</span> Multiple Databases Example: Stopping and Starting the Oracle Net Listener</h3>
<p>If the listener is already running, use the <code>lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</p>
<pre>
$ lsnrctl stop$ lsnrctl start
</pre></div>
<!-- class="sect2" -->
<a id="i1006331"></a>
<div id="IVACU232" class="sect2">
<h3 class="sect2"><span class="secnum">4.6.4</span> Multiple Databases Example: Configuring the Oracle Database for Gateway Access</h3>
<p>This section describes the required procedures to configure the Oracle Database for the gateway access.</p>
<div id="IVACU233" class="sect3"><a id="sthref174"></a>
<h4 class="sect3"><span class="secnum">4.6.4.1</span> Configuring Oracle Net Services on the Oracle Database for Multiple Gateway Instances</h4>
<p>Add two connect descriptor entries to the <code>tnsnames.ora</code> file. You must have an entry for each gateway instance, even if the gateway instances access the same database.</p>
<p>The following VSAM example shows the entry for the original installed gateway first, followed by the two entries for the new gateway instances:</p>
<pre>
<span class="italic">old_db_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4vsam))
               (HS=OK))
<span class="italic">new_vsam2_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4vsam2))
                (HS=OK))
<span class="italic">new_vsam3_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4vsam3))
                (HS=OK)) 
</pre>
<p>The value for <code>PORT</code> is the TCP/IP port number of the Oracle Net Listener that is listening for the gateway. The number can be found in the <code>listener.ora</code> file used by the Oracle Net Listener. The value for <code>HOST</code> is the name of the system on which the gateway is running. The name also can be found in the <code>listener.ora</code> file used by the Oracle Net Listener.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="IVACU234" class="sect2"><a id="sthref175"></a>
<h3 class="sect2"><span class="secnum">4.6.5</span> Multiple Databases Example: Accessing VSAM Data</h3>
<p>Enter the following to create a database link for the <code>dg4vsam2</code> gateway:</p>
<pre>
SQL&gt; CREATE PUBLIC DATABASE LINK VSAM2 CONNECT TO
  2  <span class="italic">user2</span> IDENTIFIED BY <span class="italic">password2</span> USING 'new_vsam2_using';
</pre>
<p>Enter the following to create a database link for the <code>dg4vsam3</code> gateway:</p>
<pre>
SQL&gt; CREATE PUBLIC DATABASE LINK VSAM3 CONNECT TO
  2  <span class="italic">user3</span> IDENTIFIED BY <span class="italic">password3</span> USING 'new_vsam3_using';
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
To encrypt the initialization parameters that would normally be stored in the initialization file in plain text, you must use the <code>dg4pwd</code> utility, as described in <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span>.</div>
<p>After the database links are established you can query the new VSAM data sources, as in the following:</p>
<pre>
SQL&gt; SELECT * FROM ALL_TABLES@VSAM2;
</pre>
<p>or:</p>
<pre>
SQL&gt; SELECT * FROM ALL_TABLES@VSAM3;
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006416"></a>
<div id="IVACU235" class="sect1">
<h2 class="sect1"><span class="secnum">4.7</span> Performing Configuration Tasks</h2>
<p>You can perform the following configuration tasks:</p>
<ul>
<li>
<p><a href="#i1006423">Configuring for Global Transactions</a></p>
</li>
<li>
<p><a href="#CIHGIDFI">Enabling Automatic Recovery</a></p>
</li>
</ul>
<a id="i1006423"></a>
<div id="IVACU236" class="sect2">
<h3 class="sect2"><span class="secnum">4.7.1</span> Configuring for Global Transactions</h3>
<p><a id="sthref176"></a><a id="sthref177"></a>The VSAM/Batch data source supports auto-commit mode only. This means that you cannot roll back, or undo, any changes that you made.</p>
<p><a id="sthref178"></a>The gateway supports the following transaction capabilities:</p>
<ul>
<li>
<p>READ_ONLY</p>
</li>
<li>
<p>SINGLE_SITE (default)</p>
</li>
</ul>
<p>See the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for configuration information.</p>
<p>By default, the VSAM (CICS) data source supports global transactions.</p>
<p>If the VSAM (CICS) data source is configured differently in Oracle Studio for IMS, VSAM, and Adabas Gateways, see the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for information about configuring for global transactions.</p>
<p>If the VSAM (CICS) data source is configured for global transactions, the gateway becomes the commit point site when the VSAM (CICS) data source is updated by a transaction. The Oracle database commits the unit of work in the VSAM (CICS) data source after verifying that all Oracle databases in the transaction have successfully prepared the transaction. Only one gateway can participate in an Oracle global transaction as the commit point site.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for information about the global transaction process.</div>
</div>
<!-- class="sect2" -->
<a id="CIHGIDFI"></a>
<div id="IVACU237" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.7.2</span> Enabling Automatic Recovery<a id="sthref179"></a></h3>
<p>For the gateway to recover distributed transactions, a recovery account and password must be provided. By default, both the user name of the account and the password are <code>RECOVER</code>. The name of the account can be changed with the gateway initialization parameter <code>HS_FDS_RECOVERY_ACCOUNT</code>. The account password can be changed with the gateway initialization parameter <code>HS_FDS_RECOVERY_PWD</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Corporation recommends that you do not use the default value <code>RECOVER</code> for the user name and password. Moreover, storing plain text as user name and password in the initialization file is not a good security policy. There is now a utility called <code>dg4pwd</code> that should be used for encryption. Refer to Chapter 4, "Encrypting Initialization parameters" in Oracle Heterogeneous Connectivity Administration Guide for details.</div>
<p>To change the default user name or the password, in the initialization parameter file, set the following gateway initialization parameters:</p>
<ul>
<li>
<p><code>HS_FDS_RECOVERY_ACCOUNT</code> to the mainframe account name.</p>
<p>This account can be the same account that is used to access the VSAM data source. If you use another account, then it must have the same permissions as the account that is used to access the VSAM data source.</p>
</li>
<li>
<p><code>HS_FDS_RECOVERY_PWD</code> to the password of the account.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CFHDDJII">"Customize the Initialization Parameter File"</a> for information about editing the initialization parameter file and <a href="hs_ini_para.htm#g20730">Appendix B, "Initialization Parameters"</a> for information about the <code>HS_FDS_RECOVERY_ACCOUNT</code> and <code>HS_FDS_RECOVERY_PWD</code> initialization parameters.</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDJIJG"></a>
<div id="IVACU238" class="sect1">
<h2 class="sect1"><span class="secnum">4.8</span> Testing the VSAM Data Source</h2>
<p>You can perform the following tests on the VSAM data source:</p>
<ul>
<li>
<p>Connection test: This tests the physical connection to the data source.</p>
</li>
<li>
<p>Query test: This test runs an SQL SELECT query against the data source.</p>
</li>
</ul>
<p>These tests are described in the following procedures.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="vsamdata_access.htm#CHDFFFEE">Setting Up a VSAM Data Source</a> for information on how to add a data source.</div>
<p>Perform the following to test the physical connection to the data source.</p>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>Expand the node of the required computer.</p>
</li>
<li>
<p>Expand the node of the required binding.</p>
</li>
<li>
<p>Expand the Data sources node.</p>
</li>
<li>
<p>Right-click the required data source entity, and select <span class="bold">Test</span>.</p>
<p>The Test Wizard screen opens.</p>
</li>
<li>
<p>Select <span class="bold">Navigator</span> from the <span class="bold">Active Workspace Name</span> list and click <span class="bold">Next</span>.</p>
<p>The system now tests the connection to the data source, and returns the test result status.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span> to exit the Test wizard.</p>
</li>
</ol>
<p>Perform the following to test the VSAM data source by query.</p>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>Expand the node of the required computer.</p>
</li>
<li>
<p>Expand the node of the required binding.</p>
</li>
<li>
<p>Expand the Data sources node.</p>
</li>
<li>
<p>Right-click the required data source entity, and select <span class="bold">Query Tool</span>.</p>
<p>The Query Tool opens in the Editor pane, with the Build Query tab displayed (see <a href="#CACBHIEE">Figure 4-1</a>).</p>
</li>
<li>
<p>Select <span class="bold">Navigator</span> and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Select the required query type from the Query Type list. The default is a SELECT-type query.</p>
</li>
<li>
<p>Locate and expand the node of the required data source entity.</p>
<p>The data source tables are listed.</p>
</li>
<li>
<p>Select the required table and move it to the Table column by using the arrow button.</p>
<div id="IVACU239" class="figure">
<p class="titleinfigure"><a id="CACBHIEE"></a>Figure 4-1 The Query Tool Screen</p>
<img width="783" height="592" src="img/querytool_vsam.gif" alt="Query tool screen" /><br />
<a id="sthref180" href="img_text/querytool_vsam.htm">Description of "Figure 4-1 The Query Tool Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Execute query</span>.</p>
<p>The Query Result tab opens, displaying the results of the query.</p>
</li>
<li>
<p>Close the Query Tool in the Editor pane.</p>
</li>
</ol>
<div id="IVACU240" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref181"></a>
<h3 class="sect2"><span class="secnum">4.8.1</span> Sample Log File</h3>
<p>Log files are used for troubleshooting and error handling. The log file is generated when the <code>driverTrace</code> debug binding parameter is set to <code>True</code>.</p>
<p>The log file includes various information concerning the functions used or called by the driver, queries executed, data sources accessed, etc.</p>
<p>First, you need to create the log file. Perform the following procedure.</p>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>From the main menu, click <span class="bold">Windows, Preferences</span>.</p>
<p>The Preferences screen is displayed.</p>
<div id="IVACU241" class="figure">
<p class="titleinfigure"><a id="sthref182"></a>Figure 4-2 Studio Preferences</p>
<img width="663" height="532" src="img/rdb020.gif" alt="Studio Preferences" /><br />
<a id="sthref183" href="img_text/rdb020.htm">Description of "Figure 4-2 Studio Preferences"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>In the left pane, click the <span class="bold">Studio</span> node.</p>
</li>
<li>
<p>Click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>Select the <span class="bold">Show advanced environment parameters</span> check box.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>In the Design Perspective Configuration view, right-click the binding under which the Oracle data source is located and select <span class="bold">Edit Binding</span>.</p>
</li>
<li>
<p>From the Category list, select <span class="bold">Debug</span>.</p>
</li>
<li>
<p>Set the <code>driverTrace</code> and <code>generalTrace</code> parameters to <code>TRUE</code>.</p>
<div id="IVACU242" class="figure">
<p class="titleinfigure"><a id="sthref184"></a>Figure 4-3 Binding Properties</p>
<img width="769" height="328" src="img/rdb030.gif" alt="Binding Properties" /><br />
<a id="sthref185" href="img_text/rdb030.htm">Description of "Figure 4-3 Binding Properties"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Execute the following query: <code>Select * from upd_dt limit to 3 rows</code></p>
</li>
</ol>
<p>The following is a sample log file output:</p>
<div id="IVACU243" class="example">
<p class="titleinexample"><a id="sthref186"></a>Example 4-1 Sample VSAM Log File</p>
<pre>
ORACLE CONNECT Log (V10.1.3.1, MVS) Started at 2006-11-21T17:25:13 
Licensed by Oracle Corporation on 28-SEP-2006 (001001610) 
Licensed to ORACLE for &lt;all providers&gt; on &lt;all machines&gt; (&lt;all platforms&gt;
o: 586 9862924 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.SYS,mode=rb, typ
e=record, lrecl=8208 
o: 275 0 flocate &gt;&gt;&gt; stream=9862924,key=98A9830,key_len=4,options=3 
o: 292 8208 fread &gt;&gt;&gt; buffer=98AA310, size=1, count=8208,stream=9862924 
o: 424 0 fclose &gt;&gt;&gt; stream=9862924 
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
o: 586 98B7424 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.SYS,mode=rb, typ
e=record, lrecl=8208 
o: 275 0 flocate &gt;&gt;&gt; stream=98B7424,key=98C2820,key_len=4,options=3 
o: 292 8208 fread &gt;&gt;&gt; buffer=98C3300, size=1, count=8208,stream=98B7424 
o: 424 0 fclose &gt;&gt;&gt; stream=98B7424 
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
IRprc (6695): ; Client 194.90.22.131:3130 (No. 1, NAVXML CLIENT) has connected
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
o: 586 98B7424 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.SYS,mode=rb, typ 
e=record, lrecl=8208 
o: 275 0 flocate &gt;&gt;&gt; stream=98B7424,key=98FEA80,key_len=4,options=3 
o: 292 8208 fread &gt;&gt;&gt; buffer=9901040, size=1, count=8208,stream=98B7424 
o: 424 0 fclose &gt;&gt;&gt; stream=98B7424 
o: 275 0 flocate &gt;&gt;&gt; stream=98613F4,key=984FFD0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=98613F4 
o: 275 0 flocate &gt;&gt;&gt; stream=9861024,key=984FFD0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=984F7C8, size=1, count=2048,stream=9861024 
nvOUT (PROD.AC10131.NAV(QP#SQTXT) 89): SELECT * FROM VSAM:UPD_DT LIMIT TO 100 R
nvRETURN (PROD.AC10131.NAV(QPSYNON) 1140): -1 
o: 586 98B7424 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.VSAM,mode=rb, type 
=record, lrecl=2048 
o: 393 0 fclose &gt;&gt;&gt; stream=98613F4 
o: 424 0 fclose &gt;&gt;&gt; stream=9861024 
o: 586 Calling ENQ for TEST.OR5000A.DEF.NOS.SYS . 
o: 586 Successful exclusive enqueue retCode=0 
o: 586 98B77F4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS,mode=rb+, type 
=record 
o: 627 98B7BC4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS.I2.PATH,mode=r 
b, type=record, lrecl=2048 
o: 275 0 flocate &gt;&gt;&gt; stream=98B7BC4,key=9981F00,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=99816F8, size=1, count=2048,stream=98B7BC4 
o: 393 0 fclose &gt;&gt;&gt; stream=98B7BC4 
o: 424 0 fclose &gt;&gt;&gt; stream=98B77F4 
o: 424 Calling DEQ for TEST.OR5000A.DEF.NOS.SYS 
o: 424 Successful dequeue retCode=0 
o: 627 98B77F4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.VSAM.I2.PATH,mode= 
rb, type=record, lrecl=2048 
o: 275 0 flocate &gt;&gt;&gt; stream=98B77F4,key=98BF0C0,key_len=100,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=98BE8B8, size=1, count=2048,stream=98B77F4 
o: 275 0 flocate &gt;&gt;&gt; stream=98B7424,key=98BF0C0,key_len=4,options=5 
o: 292 2048 fread &gt;&gt;&gt; buffer=98BE8B8, size=1, count=2048,stream=98B7424 
o: 586 98B8BF4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.VSAM,mode=rb, ty 
pe=record, lrecl=8208 
o: 275 0 flocate &gt;&gt;&gt; stream=98B8BF4,key=9982850,key_len=4,options=3 
o: 292 8208 fread &gt;&gt;&gt; buffer=9983330, size=1, count=8208,stream=98B8BF4 
o: 424 0 fclose &gt;&gt;&gt; stream=98B8BF4 
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Execution Strategy Begin &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 
Original SQL: 
SELECT * FROM VSAM : UPD_DT LIMIT TO 100 ROWS 
Accessing file 'UPD_DT' from 'VSAM' Database 
Fetch strategy: scan 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Execution Strategy End &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
FilePool Init(DB=VSAM) 
FilePool Get(DB=VSAM, File=TEST.VSAM.DATA.UPDDT015, Mode=0, FilePool Size=0)
o: 586 98B8BF4 fopen &gt;&gt;&gt; filename=TEST.VSAM.DATA.UPDDT015,mode=rb, type=r 
ecord, lrecl=116 
o: 292 116 fread &gt;&gt;&gt; buffer=9984628, size=1, count=116,stream=98B8BF4 
o: 292 116 fread &gt;&gt;&gt; buffer=9984628, size=1, count=116,stream=98B8BF4 
o: 292 0 fread &gt;&gt;&gt; buffer=9984628, size=1, count=116,stream=98B8BF4 
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment121">
<tr>
<td class="cellalignment130">
<table class="cellalignment126">
<tr>
<td class="cellalignment125"><a href="inst_tgw_vsam.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment125"><a href="part_ims.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment132">
<table class="cellalignment124">
<tr>
<td class="cellalignment125"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment125"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment125"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment125"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment125"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment125"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
