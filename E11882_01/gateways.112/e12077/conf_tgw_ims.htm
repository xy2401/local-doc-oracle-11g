<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Oracle Database Gateway for IMS</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-08-16T0:23:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide" />
<meta name="dcterms.identifier" content="E12077-04" />
<meta name="dcterms.isVersionOf" content="IVACW" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="inst_tgw_ims.htm" title="Previous" type="text/html" />
<link rel="Next" href="part_adabas.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12077.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/27</span> <!-- End Header -->
<div id="IVACW316" class="chapter"><a id="CHDDIEAI"></a>
<h1 class="chapter"><span class="secnum">7</span> Configuring Oracle Database Gateway for IMS</h1>
<p>After installing the gateway, perform the following tasks to configure the gateway for IMS:</p>
<ul>
<li>
<p><a href="#CHDHCBCE">Configuring the Gateway</a></p>
</li>
<li>
<p><a href="#CHDGDCIE">Configuring Oracle Net Services Listener for the Gateway</a></p>
</li>
<li>
<p><a href="#CHDFIDEG">Configuring the Oracle Database for Gateway Access</a></p>
</li>
<li>
<p><a href="#CHDGJBAE">Creating Database Links</a></p>
</li>
<li>
<p><a href="#CHDBDEJB">Gateway Password Encryption Tool</a></p>
</li>
<li>
<p><a href="#CHDBGJHC">Configuring the Gateway for Multiple IMS Databases</a></p>
</li>
<li>
<p><a href="#CHDFFIBG">Performing Configuration Tasks</a></p>
</li>
<li>
<p><a href="#CHDJFDHB">Testing the IMS Data Source</a></p>
</li>
</ul>
<a id="CHDHCBCE"></a>
<div id="IVACW317" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring the Gateway</h2>
<p>Perform the following tasks to configure Oracle Database Gateway for IMS:<a id="sthref294"></a><a id="sthref295"></a></p>
<ol>
<li>
<p><a href="#CHDGADAI">Choose a System Identifier for the Gateway</a></p>
</li>
<li>
<p><a href="#CHDHEGFE">Customize the Initialization Parameter File</a></p>
</li>
</ol>
<a id="CHDGADAI"></a>
<div id="IVACW318" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Choose a System Identifier for the Gateway</h3>
<p>Choosing a system identifier is the first task in configuring Oracle Database Gateway for IMS. The <a id="sthref296"></a>gateway system identifier <a id="sthref297"></a>(SID) is an alphanumeric character string that identifies a gateway instance. If you want to connect simultaneously to different IMS data sources, you need one gateway instance, and therefore one gateway SID, for each IMS database you are accessing. The SID name is used as part of the file name for the initialization parameter file. The default SID is <a id="sthref298"></a><code>dg4ims</code>.</p>
<p>The <code>HS_FDS_DATASOURCE_NAME</code> parameter takes on the gateway SID as the default value. This means that the data source matches the gateway SID by default. However, you can specify the value of the <code>HS_FDS_DATASOURCE_NAME</code> parameter to match the data source that you want to access. See <a href="hs_ini_para.htm#CHDFFGDF">"HS_FDS_DATASOURCE_NAME"</a> for more information.</p>
<p>If you have one IMS data source and want to access it sometimes with one set of gateway parameter settings, and other times with different gateway parameter settings, you can do that by defining two different data sources and defining the matching SID s accordingly.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHEGFE"></a>
<div id="IVACW319" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Customize the Initialization Parameter File</h3>
<p>Customizing the initialization parameter file is the second task in configuring Oracle Database Gateway for IMS. <a id="sthref299"></a>The initialization parameter file must be available when the gateway is started. During installation, the following default initialization parameter file is created:</p>
<pre>
%ORACLE_HOME%\dg4ims\admin\initdg4ims.ora
</pre>
<p>Where <code>%ORACLE_HOME%</code> is the directory in which the gateway is installed.</p>
<p>The name of the parameter file is <code>init[</code><code><span class="codeinlineitalic">SID</span></code><code>].ora</code>, where <code><span class="codeinlineitalic">SID</span></code> is the gateway <code><span class="codeinlineitalic">SID</span></code>. If you are not using <code>dg4ims</code> as the gateway SID, you must rename the initialization parameter file using the SID you chose in Task 1. This default initialization parameter file is sufficient for starting the gateway, verifying a successful installation, and running the demonstration scripts.</p>
<p>In the initialization parameter file, specify the IMS connection as follows:</p>
<p>In the initialization parameter file, specify the VSAM connection as follows:</p>
<ul>
<li>
<p>If you use the default workspace:</p>
<pre>
HS_FDS_CONNECT_INFO="address:port"
</pre></li>
<li>
<p>If you use a workspace other than the default:</p>
<pre>
HS_FDS_CONNECT_INFO="address='<span class="codeinlineitalic">host</span>' port='<span class="codeinlineitalic">port</span>' workspace='<span class="codeinlineitalic">workspace</span>'"
</pre></li>
</ul>
<p>Where:</p>
<ul>
<li>
<p><code>host</code>: The name of the mainframe computer on which Oracle Connect for IMS, VSAM, and Adabas Gateways runs.</p>
</li>
<li>
<p><code>port</code>: The port number to listen to.</p>
</li>
<li>
<p><code>workspace</code>: The IMS data source workspace name. (optional except for the IMS/DB DLI data source)</p>
</li>
</ul>
<p>HS_FDS_ACCESS_METHOD must be set to IMS-DBCTL for IMS/DB DBCTL data sources and to IMS/DBDC for the IMS/DB DBDC data sources. See <a href="hs_ini_para.htm#g20730">Appendix A, "Initialization Parameters"</a> for details.</p>
<p>A number of initialization parameters can be used to modify the gateway behavior. You may want to change the initialization parameter file later to meet system requirements.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span> for more information about customizing the initialization parameter file.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDGDCIE"></a>
<div id="IVACW320" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring Oracle Net Services Listener for the Gateway<a id="sthref300"></a></h2>
<p>The gateway requires Oracle Net Services to provide transparent data access. After configuring the gateway, configure Oracle Net Services to work with the gateway.</p>
<ol>
<li>
<p><a href="#CHDJBHCA">Configure Oracle Net Services Oracle Net Listener for the Gateway</a></p>
</li>
<li>
<p><a href="#CHDJBBHB">Stop and Start the Oracle Net Listener for the Gateway</a></p>
</li>
</ol>
<a id="CHDJBHCA"></a>
<div id="IVACW321" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configure Oracle Net Services Oracle Net Listener for the Gateway</h3>
<p>Oracle Net Services uses the <a id="sthref301"></a>Oracle Net Listener to receive incoming connections from a Oracle Net Services client. The Oracle Net Listener and the gateway must reside on the same system.</p>
<p>The Oracle Net Listener listens for incoming requests from the Oracle Database. For the Oracle Net Listener to listen for the gateway, information about the gateway must be added to the Oracle Net Listener configuration file, <code><a id="sthref302"></a>listener.ora</code>. This file is located in the following directory:</p>
<p><code>%ORACLE_HOME%\network\admin</code></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If Oracle Net Services is reinstalled, the original <code>listener.ora</code> file is renamed and a new <code>listener.ora</code> file is put into the same directory.</div>
<p>The following entries must be added to the <code>listener.ora</code> file:</p>
<ul>
<li>
<p>A list of Oracle Net Services addresses on which the Oracle Net Listener listens.</p>
</li>
<li>
<p>The gateway that the Oracle Net Listener starts in response to incoming connection requests.</p>
</li>
</ul>
<a id="BABFCHFJ"></a>
<div id="IVACW322" class="sect3">
<h4 class="sect3">Example of Address to Listen On in listener.ora File</h4>
<p>The Oracle Database accesses the gateway using Oracle Net Services and the TCP/IP protocol adapter. The following is the syntax of the connect descriptor entry in the <code>listener.ora</code> file:</p>
<pre>
LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = <span class="italic">host_name</span>)(PORT = 11201))
    )
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC0))
    )
  )

</pre>
<p>Where:</p>
<div id="IVACW323" class="tblformal">
<p class="titleintable"><a id="sthref303"></a><a id="sthref304"></a>Table 7-1 Parameters for listener.ora File</p>
<table class="cellalignment264" title="Parameters for listener.ora File" summary="Table showing gateway listening endpoint parameters for listener.ora files" dir="ltr">
<thead>
<tr class="cellalignment258">
<th class="cellalignment265" id="r1c1-t4">Variable</th>
<th class="cellalignment265" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment258">
<td class="cellalignment266" id="r2c1-t4" headers="r1c1-t4">
<p><code><span class="codeinlineitalic">host_name</span></code></p>
</td>
<td class="cellalignment266" headers="r2c1-t4 r1c2-t4">
<p>is the name of the system on which the gateway is installed.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r3c1-t4" headers="r1c1-t4">
<p><code><span class="codeinlineitalic">port</span></code></p>
</td>
<td class="cellalignment266" headers="r3c1-t4 r1c2-t4">
<p>specifies the port number used by the Oracle Net Listener. If you have other listeners running on <code><span class="codeinlineitalic">host_name</span></code>, the value of <code><span class="codeinlineitalic">port_number</span></code> must be different from the other listeners' port numbers.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<div id="IVACW324" class="sect3"><a id="sthref305"></a>
<h4 class="sect3">Example of Gateway to Start in listener.ora File</h4>
<p>To direct the Oracle Net Listener to start the gateway in response to incoming connection requests, add an entry to the <code><a id="sthref306"></a>listener.ora</code> file as follows.</p>
<pre>
SID_LIST_LISTENER =
  (SID_LIST =
   (SID_DESC =
      (ORACLE_HOME = D:\<span class="italic">ORACLE_HOME</span>\product\12.1\Db_1)
      (SID_NAME = IMS)
      (PROGRAM = D:\<span class="italic">ORACLE_HOME</span>\product\12.1\Db_1\bin\dg4ims.exe)
    )
  )
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The executable <code>dg4ims.exe</code> is valid for IMS, IMS CICS, and IMS/TM.</div>
<p>Where:</p>
<div id="IVACW325" class="tblformal">
<p class="titleintable"><a id="sthref307"></a><a id="sthref308"></a>Table 7-2 Parameters for listener.ora File</p>
<table class="cellalignment264" title="Parameters for listener.ora File" summary="Table describing gateway parameters for listener.ora files" dir="ltr">
<thead>
<tr class="cellalignment258">
<th class="cellalignment265" id="r1c1-t6">Variable</th>
<th class="cellalignment265" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment258">
<td class="cellalignment266" id="r2c1-t6" headers="r1c1-t6">
<p><code><span class="codeinlineitalic">sid_name</span></code></p>
</td>
<td class="cellalignment266" headers="r2c1-t6 r1c2-t6">
<p>The SID of the gateway and matches the gateway SID specified in the connect descriptor entry in the <code>tnsnames.ora</code> file. The Oracle Net Listener uses the SID name to locate the relevant <code>&lt;</code><code><span class="codeinlineitalic">sid_name</span></code><code>&gt;.ora</code> file. It needs to access this file to check that access method is used (IMS-BATCH, IMS-DBCTL, or IMS-DBDC).</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r3c1-t6" headers="r1c1-t6">
<p><code><span class="codeinlineitalic">ORACLE_HOME</span></code></p>
</td>
<td class="cellalignment266" headers="r3c1-t6 r1c2-t6">
<p>The Oracle home directory where the gateway is located.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Net Services Administrator's Guide</span> for information about changing the <code>listener.ora</code> file.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJBBHB"></a>
<div id="IVACW326" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Stop and Start the Oracle Net Listener for the Gateway</h3>
<p>The <a id="sthref309"></a>Oracle Net Listener must be started to initiate the new settings, as follows:</p>
<ol>
<li>
<p>Set the <code>PATH</code> environment variable to access the commands in the following directory:</p>
<pre>
%ORACLE_HOME%\bin
</pre>
<p>Run the following command:</p>
<pre>
set PATH=%ORACLE_HOME%\bin
</pre>
<p>where <code>%ORACLE_HOME%</code> is the directory where the gateway is installed.</p>
</li>
<li>
<p>If the listener is already running, use the <code>lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</p>
<pre>
C:\ lsnrctl stop
C:\ lsnrctl start 
</pre></li>
<li>
<p>Check the status of the listener with the new settings, as follows:</p>
<pre>
C:\ lsnrctl status
</pre>
<p>The following is an example of output from a <code>lsnrctl</code> status check:</p>
</li>
</ol>
<pre>
LSNRCTL for 32-bit Windows: Version 11.2.0 - Production on 05-JUL-2009 11:47
:55
Copyright (c) 1991, 2009, Oracle. All rights reserved.
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=oracledev1.attunity.loca
l)(PORT=11201)))
STATUS of the LISTENER
------------------------
Alias LISTENER
Version TNSLSNR for 32-bit Windows: Version 11.2.0 - Production
Start Date 05-JUL-2009 11:47:50
Uptime 0 days 0 hr. 0 min. 8 sec
Trace Level off
Security ON: Local OS Authentication
SNMP OFF
Listener Parameter File C:\oracle\product\11.2.0\NETWORK\ADMIN\listener.ora
Listener Log File C:\oracle\product\11.2.0
Listening Endpoints Summary...
(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=204.179.99.15)(PORT=11201)))
(DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(PIPENAME=\.\pipe\EXTPROC0ipc)))
Services Summary...
Service "dg4ims" has 1 instance(s).
Instance "dg4ims", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
</pre>
<p>In this example, <code>dg4ims</code> is the default SID value assigned during installation. You can use any valid ID for the SID, or keep the default.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must use the same SID value in the <code>tnsnames.ora</code> file, and the <code>listener.ora</code> file.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFIDEG"></a>
<div id="IVACW327" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring the Oracle Database for Gateway Access</h2>
<p>Before you can use the gateway to access IMS data, you must configure the Oracle Database to enable communication with the gateway over Oracle Net Services.</p>
<p>Perform the following tasks to configure the Oracle Database accordingly:</p>
<p><a href="#CHDJFGEG">Configuring Oracle Net Services for the Oracle Database</a></p>
<a id="CHDJFGEG"></a>
<div id="IVACW328" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Oracle Net Services for the Oracle Database</h3>
<p>To configure the server you add connect descriptors to the <code>tnsnames.ora</code> file. You cannot use the Oracle Net Services Assistant or the Oracle Net Services Easy Config tools to configure the <code>tnsnames.ora</code> file. You must edit the file manually.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Administrator's Guide</span> for information about editing the <code>tnsnames.ora</code> file.</div>
<p>For the Oracle Database to access the gateway, it needs a service name entry or a connect descriptor name entry in the <code>tnsnames.ora</code> file to tell the Oracle Database where to make connections.</p>
<p>By default, this file is in <code>%ORACLE_HOME%\network\admin</code>, where <code>%ORACLE_HOME%</code> is the directory in which the Oracle Database is installed. The <code>tnsnames.ora</code> file is required by the Oracle Database accessing the gateway, but not by the gateway.</p>
<div id="IVACW329" class="sect3"><a id="sthref310"></a>
<h4 class="sect3">Configuring tnsnames.ora</h4>
<p>Edit the <code>tnsnames.ora</code> file to add a connect descriptor for the gateway. The following is an example of the Oracle Net Services entries using TCP/IP protocol needed for the Oracle Database to access the gateway:</p>
<pre>
<span class="italic">connect_descriptor</span>=
vsam =
  (DESCRIPTION =
  (ADDRESS_LIST =
  (ADDRESS = (PROTOCOL = TCP)(HOST = <span class="italic">host_name</span>)(PORT = <span class="italic">port_number</span>))
  )
  (CONNECT_DATA =
  (SID = <span class="italic">gateway_sid</span>)
  )
  (HS = OK)
  )
</pre>
<p>Where:</p>
<div id="IVACW330" class="tblformal">
<p class="titleintable"><a id="sthref311"></a><a id="sthref312"></a>Table 7-3 Parameters for tnsnames.ora File</p>
<table class="cellalignment264" title="Parameters for tnsnames.ora File" summary="Table describing gateway parameters for tnsnames.ora file" dir="ltr">
<thead>
<tr class="cellalignment258">
<th class="cellalignment265" id="r1c1-t10">Variable</th>
<th class="cellalignment265" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment258">
<td class="cellalignment266" id="r2c1-t10" headers="r1c1-t10">
<p><code><span class="codeinlineitalic">connect_descriptor</span></code></p>
</td>
<td class="cellalignment266" headers="r2c1-t10 r1c2-t10">
<p>The description of the object to connect to as specified when creating the database link, such as dg4ims.</p>
<p>Check the <code>sqlnet.ora</code> file for the following parameter setting:</p>
<p><code>names.directory_path = (TNSNAMES)</code></p>
<p><span class="bold">Note</span>: The <code>sqlnet.ora</code> file is typically stored in <code>%ORACLE_HOME%\network\admin</code>.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r3c1-t10" headers="r1c1-t10">
<p><code><span class="codeinlineitalic">host_name</span></code></p>
</td>
<td class="cellalignment266" headers="r3c1-t10 r1c2-t10">
<p>Specifies the system where the gateway is running.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r4c1-t10" headers="r1c1-t10">
<p><code><span class="codeinlineitalic">port_number</span></code></p>
</td>
<td class="cellalignment266" headers="r4c1-t10 r1c2-t10">
<p>Matches the port number used by the Oracle Net Services Oracle Net Listener that is listening for the gateway. The Oracle Net Listener's port number can be found in the <code>listener.ora</code> file used by the Oracle Net Listener. See <a href="#BABFCHFJ">"Example of Address to Listen On in listener.ora File"</a>.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r5c1-t10" headers="r1c1-t10">
<p><code><span class="codeinlineitalic">gateway_sid</span></code></p>
</td>
<td class="cellalignment266" headers="r5c1-t10 r1c2-t10">
<p>Specifies the SID of the gateway and matches the SID specified in the <code>listener.ora</code> file of the Oracle Net Listener that is listening for the gateway. See <a href="#CHDJBHCA">"Configure Oracle Net Services Oracle Net Listener for the Gateway"</a> for more information.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>For example:</p>
<pre>
<span class="italic">connect_descriptor</span>=
IMS =
  (DESCRIPTION =
  (ADDRESS_LIST =
  (ADDRESS = (PROTOCOL = TCP)(HOST = <span class="italic">host_name</span>)(PORT = <span class="italic">port_number</span>))
  )
  (CONNECT_DATA =
  (SID = <span class="italic">gateway_sid</span>)
  )
  (HS = OK)
  )
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDGJBAE"></a>
<div id="IVACW331" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating Database Links<a id="sthref313"></a></h2>
<p>Any Oracle client connected to the Oracle Database can access IMS data through the gateway. The Oracle client and the Oracle Database can reside on different systems. The gateway accepts connections only from the Oracle Database.</p>
<p>A connection to the gateway is established through a database link when it is first used in an Oracle session. In this context, a connection refers to the connection between the Oracle Database and the gateway. The connection remains established until the Oracle session ends. Another session or user can access the same database link and get a distinct connection to the gateway and IMS database.</p>
<p>Database links are active for the duration of a gateway session. If you want to close a database link during a session, you can do so with the <code>ALTER SESSION CLOSE DATABASE</code> <code>LINK</code> <code><span class="codeinlineitalic">dblink</span></code> statement. The database and application administrators of a distributed database system are responsible for managing the necessary database links that define paths to the IMS database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Administrator's Guide</span> and <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about using database links.</div>
</div>
<!-- class="sect1" -->
<a id="CHDBDEJB"></a>
<div id="IVACW332" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Gateway Password Encryption Tool</h2>
<p>The gateway uses userids and passwords to access the information in the remote database. Some userids and passwords must be defined in the Gateway Initialization File to handle functions such as resource recovery. In the current security conscious environment, having plain-text passwords that are accessible in the Initialization File is considered insecure. The <code>dg4pwd</code> encryption utility has been added as part of Heterogeneous Services' generic connectivity to help make this more secure. This utility is accessible by this gateway. The initialization parameters that contain sensitive values can be stored in an encrypted form.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about using this utility.</div>
</div>
<!-- class="sect1" -->
<a id="CHDBGJHC"></a>
<div id="IVACW333" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring the Gateway for Multiple IMS Databases</h2>
<p>The tasks for configuring the gateway to access multiple IMS databases are similar to the tasks for configuring the gateway for a single database. The configuration example assumes the following:</p>
<ul>
<li>
<p>The gateway is installed and configured with the default SID of <code>dg4ims</code>.</p>
</li>
<li>
<p>The <code>ORACLE_HOME</code> environment variable is set to the directory where the gateway is installed.</p>
</li>
<li>
<p>The gateway is configured for one IMS database named <code>dg4ims</code>.</p>
</li>
<li>
<p>Two IMS databases named <code>dg4ims2</code> and <code>dg4ims3</code> on a server named <code>mvs5</code> with port number <code>2551</code> are added.</p>
</li>
</ul>
<p>Configuring the gateway for additional IMS databases is similar to configuring it for one database, and involves the following:</p>
<ul>
<li>
<p>Configuring the gateway.</p>
</li>
<li>
<p>Configuring Oracle Net Services for the gateway and the Oracle Database.</p>
</li>
</ul>
<div id="IVACW334" class="sect2"><a id="sthref314"></a>
<h3 class="sect2">Multiple Databases Example: Configuring the Gateway</h3>
<p class="subhead2"><a id="IVACW335"></a>Choose Two System IDs for Each IMS Database</p>
<p>A separate instance of the gateway accesses the different IMS databases. Each instance needs its own gateway System ID (SID). For this example, the gateway SIDs for the instances that access the IMS databases are named as follows:</p>
<ul>
<li>
<p><code>dg4ims2</code> for the gateway accessing data source dg4ims2.</p>
</li>
<li>
<p><code>dg4ims3</code> for the gateway accessing data source dg4ims3.</p>
</li>
</ul>
<p class="subhead2"><a id="IVACW336"></a>Create Two Initialization Parameter Files</p>
<p>Create an initialization parameter file for each instance of the gateway by copying the original initialization parameter file twice, naming one with the gateway SID for dg4ims2 and the other with the gateway SID for dg4ims3:</p>
<pre>
$ cd %ORACLE_HOME%\dg4ims\admin
$ copy initdg4vsam.ora initdg4ims2.ora
$ copy initdg4vsam.ora initdg4ims3.ora
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The library <code>%ORACLE_HOME%\dg4ims\admin</code> is valid both for IMS, IMS CICS, and IMS/TM.</div>
<p>Change the value of the <code>HS_FDS_CONNECT_INFO</code> parameter in the new files.</p>
<p>For <code>initdg4ims2.ora</code>, enter the following:</p>
<pre>
HS_FDS_CONNECT_INFO="mvs5:2551"
</pre>
<p>For <code>initdg4ims3.ora</code>, enter the following:</p>
<pre>
HS_FDS_CONNECT_INFO="mvs5:2551"
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you have multiple gateway SIDs for the same IMS database because you want to use different gateway parameter settings at different times, follow the same procedure. You create several initialization parameter files, each with different SIDs and different parameter settings.</div>
</div>
<!-- class="sect2" -->
<div id="IVACW337" class="sect2"><a id="sthref315"></a>
<h3 class="sect2">Multiple Databases Example: Configuring Oracle Net Services Listener</h3>
<p class="subhead2"><a id="IVACW338"></a>Add Entries to <a id="sthref316"></a>listener.ora</p>
<p>Add two new entries to the Oracle Net Listener configuration file, <code>listener.ora</code>. You must have an entry for each gateway instance, even when multiple gateway instances access the same database.</p>
<p>The following example shows the entry for the original installed gateway first, followed by the new entries:</p>
<pre>
SID_LIST_LISTENER =
  (SID_LIST =
  (SID_DESC=
     (ORACLE_HOME=ORACLE_HOME_directory\product\12.1\Db_1)
     (SID_NAME=dg4ims)
     (PROGRAM=ORACLE_HOME_directory\product\12.1\Db_1\bin\dg4ims.exe)
  )
  (SID_DESC=
     (ORACLE_HOME=ORACLE_HOME_directory\product\12.1\Db_1)
     (SID_NAME=dg4ims2)
     (PROGRAM=ORACLE_HOME_directory\product\12.1\Db_1\bin\dg4ims.exe)
  )
  (SID_DESC=
     (ORACLE_HOME=ORACLE_HOME_directory\product\12.1\Db_1)
     (SID_NAME=dg4ims3)
     (PROGRAM=ORACLE_HOME_directory\product\12.1\Db_1\bin\dg4ims.exe)
  )
)
</pre></div>
<!-- class="sect2" -->
<div id="IVACW339" class="sect2"><a id="sthref317"></a>
<h3 class="sect2">Multiple Databases Example: Stopping and Starting the Oracle Net Listener</h3>
<p>If the listener is already running, use the <code>lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</p>
<pre>
C:\ lsnrctl stop
C:\ lsnrctl start
</pre></div>
<!-- class="sect2" -->
<div id="IVACW340" class="sect2"><a id="sthref318"></a>
<h3 class="sect2">Multiple Databases Example: Configuring the Oracle Database for Gateway Access</h3>
<p>This section describes the required procedures to configure the Oracle Database for the gateway access.</p>
<a id="CIHHBEJH"></a>
<div id="IVACW341" class="sect3">
<h4 class="sect3">Configuring Oracle Net Services on the Oracle Database for Multiple Gateway Instances</h4>
<p>Add two connect descriptor entries to the <code>tnsnames.ora</code> file. You must have an entry for each gateway instance, even if the gateway instances access the same database.</p>
<p>The following IMS example shows the entry for the original installed gateway first, followed by the two entries for the new gateway instances:</p>
<pre>
<span class="italic">old_db_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4ims))
               (HS=OK))
<span class="italic">new_IMS2_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4ims2))
                (HS=OK))
<span class="italic">new_IMS3_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=1541)
                (HOST=gtwhost))
                (CONNECT_DATA=
                    (SID=dg4ims3))
                (HS=OK)) 
</pre>
<p>The value for <code>PORT</code> is the TCP/IP port number of the Oracle Net Listener that is listening for the gateway. The number can be found in the <code>listener.ora</code> file used by the Oracle Net Listener. The value for <code>HOST</code> is the name of the system on which the gateway is running. The name also can be found in the <code>listener.ora</code> file used by the Oracle Net Listener.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="IVACW342" class="sect2"><a id="sthref319"></a>
<h3 class="sect2">Multiple Databases Example: Accessing IMS Data</h3>
<p>Enter the following to create a database link for the <code>dg4ims2</code> gateway:</p>
<pre>
SQL&gt; CREATE PUBLIC DATABASE LINK IMS2 CONNECT TO
  2  <span class="italic">user2</span> IDENTIFIED BY <span class="italic">password2</span> USING 'new_IMS2_using';
</pre>
<p>Enter the following to create a database link for the <code>dg4ims3</code> gateway:</p>
<pre>
SQL&gt; CREATE PUBLIC DATABASE LINK IMS3 CONNECT TO
  2  <span class="italic">user3</span> IDENTIFIED BY <span class="italic">password3</span> USING 'new_IMS3_using';
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
To encrypt the initialization parameters that would normally be stored in the initialization file in plain text, you must use the <code>dg4pwd</code> utility, as described in <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span>.</div>
<p>After the database links are established you can query the new IMS databases, as in the following:</p>
<pre>
SQL&gt; SELECT * FROM ALL_TABLES@IMS2;
</pre>
<p>Or</p>
<pre>
SQL&gt; SELECT * FROM ALL_TABLES@IMS3;
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFFIBG"></a>
<div id="IVACW343" class="sect1">
<h2 class="sect1">Performing Configuration Tasks</h2>
<p>You can perform the following configuration tasks:</p>
<ul>
<li>
<p><a href="#CHDCAJHF">Configuring for Global Transactions</a></p>
</li>
<li>
<p><a href="#CIHEDDIA">Enabling Automatic Recovery</a></p>
</li>
</ul>
<a id="CHDCAJHF"></a>
<div id="IVACW344" class="sect2">
<h3 class="sect2">Configuring for Global Transactions</h3>
<p><a id="sthref320"></a><a id="sthref321"></a>The IMS/DLI and IMS/DBDC data sources support auto-commit mode only. This means that you cannot roll back, or undo, any changes that you made.</p>
<p><a id="sthref322"></a>The gateway supports the following transaction capabilities:</p>
<ul>
<li>
<p>READ_ONLY</p>
</li>
<li>
<p>SINGLE_SITE (default)</p>
</li>
</ul>
<p>See the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for configuration information.</p>
<p>By default, the IMS/DBCTL data source supports global transactions. If the IMS/DBCTL data source is configured differently in Oracle Studio for IMS, VSAM, and Adabas Gateways, see the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for information about configuring for global transactions.</p>
<p>If the IMS/DBCTL data source is configured for global transactions, the gateway becomes the commit point site when the IMS/DBCTL data source is updated by a transaction. The Oracle database commits the unit of work in the IMS/DBCTL data source after verifying that all Oracle databases in the transaction have successfully prepared the transaction. Only one gateway can participate in an Oracle global transaction as the commit point site.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for information about the global transaction process.</div>
</div>
<!-- class="sect2" -->
<a id="CIHEDDIA"></a>
<div id="IVACW345" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Enabling Automatic Recovery<a id="sthref323"></a></h3>
<p>For the gateway to recover distributed transactions, a recovery account and password must be provided. By default, both the user name of the account and the password are <code>RECOVER</code>. The name of the account can be changed with the gateway initialization parameter <code>HS_FDS_RECOVERY_ACCOUNT</code>. The account password can be changed with the gateway initialization parameter <code>HS_FDS_RECOVERY_PWD</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Corporation recommends that you do not use the default value <code>RECOVER</code> for the user name and password. Moreover, storing plain text as user name and password in the initialization file is not a good security policy. There is now a utility called <code>dg4pwd</code> that should be used for encryption. Refer to Chapter 4, "Encrypting Initialization parameters" in Oracle Heterogeneous Connectivity Administration Guide for details.</div>
<p>To change the default user name or the password, in the initialization parameter file, set the following gateway initialization parameters:</p>
<ul>
<li>
<p><code>HS_FDS_RECOVERY_ACCOUNT</code> to the mainframe account name.</p>
<p>This account can be the same account that is used to access the IMS/DB data source. If you use another account, then it must have the same permissions as the account that is used to access the IMS/DB data source.</p>
</li>
<li>
<p><code>HS_FDS_RECOVERY_PWD</code> to the password of the account.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDHEGFE">"Customize the Initialization Parameter File"</a> for information about editing the initialization parameter file and <a href="hs_ini_para.htm#g20730">Appendix A, "Initialization Parameters"</a> for information about the <code>HS_FDS_RECOVERY_ACCOUNT</code> and <code>HS_FDS_RECOVERY_PWD</code> initialization parameters.</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDJFDHB"></a>
<div id="IVACW346" class="sect1">
<h2 class="sect1">Testing the IMS Data Source</h2>
<p>You can perform the following tests on the IMS data source:</p>
<ul>
<li>
<p>Connection test: This tests the physical connection to the data source.</p>
</li>
<li>
<p>Query test: This test runs an SQL SELECT query against the data source.</p>
</li>
</ul>
<p>These tests are described in the following procedures.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="imsdata_access.htm#BABBIIGH">Setting Up an IMS Data Source</a> for information on how to add a data source.</div>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>Expand the node of the required computer.</p>
</li>
<li>
<p>Expand the node of the required binding.</p>
</li>
<li>
<p>Expand the Data sources node.</p>
</li>
<li>
<p>Right-click the required data source entity, and select <span class="bold">Test</span>.</p>
<p>The Test Wizard screen opens.</p>
</li>
<li>
<p>Select <span class="bold">Navigator</span> from the <span class="bold">Active Workspace Name</span> list, and click <span class="bold">Next</span>.</p>
<p>The system now tests the connection to the data source, and returns the test result status.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span> to exit the Test wizard.</p>
</li>
</ol>
<p>Perform the following procedure to test the IMS data source by query:</p>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>Expand the node of the required computer.</p>
</li>
<li>
<p>Expand the node of the required binding.</p>
</li>
<li>
<p>Expand the Data sources node.</p>
</li>
<li>
<p>Right-click the required data source entity, and select <span class="bold">Query Tool</span>.</p>
<p>The Select Workspace screen opens.</p>
</li>
<li>
<p>Select <span class="bold">Navigator</span> and click <span class="bold">OK</span>.</p>
<p>The Query Tool opens in the Editor pane, with the Build Query tab displayed (see <a href="#BABBAGJB">Figure 7-1</a>).</p>
</li>
<li>
<p>Select the required query type from the Query Type list. The default is a SELECT-type query.</p>
</li>
<li>
<p>Locate and expand the node of the required data source entity.</p>
<p>The data source tables are listed.</p>
</li>
<li>
<p>Select the required table and move it to the Table column by using the arrow button.</p>
<div id="IVACW347" class="figure">
<p class="titleinfigure"><a id="BABBAGJB"></a>Figure 7-1 The Query Tool screen</p>
<img width="1011" height="788" src="img/querytool_ims.gif" alt="Description of Figure 7-1 follows" /><br />
<a id="sthref324" href="img_text/querytool_ims.htm">Description of "Figure 7-1 The Query Tool screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Execute query</span>.</p>
<p>The Query Result tab opens, displaying the results of the query.</p>
</li>
<li>
<p>Close the Query Tool in the Editor pane.</p>
</li>
</ol>
<div id="IVACW348" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref325"></a>
<h3 class="sect2">Sample Log File</h3>
<p>Log files are used for troubleshooting and error handling. The log file is generated when the <code>driverTrace</code> debug binding parameter is set to <code>True</code>.</p>
<p>The log file includes various information concerning the functions used or called by the driver, queries executed, data sources accessed, etc.</p>
<p>First, you need to create the log file. Perform the following procedure.</p>
<ol>
<li>
<p>Open Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
</li>
<li>
<p>From the main menu, click <span class="bold">Windows, Preferences</span>.</p>
<p>The Preferences screen is displayed.</p>
<div id="IVACW349" class="figure">
<p class="titleinfigure"><a id="sthref326"></a>Figure 7-2 Studio Preferences</p>
<img width="663" height="532" src="img/rdb020.gif" alt="Studio Preferences" /><br />
<a id="sthref327" href="img_text/rdb020.htm">Description of "Figure 7-2 Studio Preferences"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>In the left pane, click the <span class="bold">Studio</span> node.</p>
</li>
<li>
<p>Click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>Click the <span class="bold">Show advanced environment parameters</span> check box.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>In the Design Perspective Configuration view, right-click the binding under which the data source is located, and select <span class="bold">Edit Binding</span>.</p>
</li>
<li>
<p>In the Category combo box, select <span class="bold">Debug</span>.</p>
</li>
<li>
<p>Set the <code>driverTrace</code> and <code>generalTrace</code> parameters to <code>TRUE</code>.</p>
<div id="IVACW350" class="figure">
<p class="titleinfigure"><a id="sthref328"></a>Figure 7-3 Binding Properties</p>
<img width="769" height="328" src="img/rdb030.gif" alt="Binding Properties" /><br />
<a id="sthref329" href="img_text/rdb030.htm">Description of "Figure 7-3 Binding Properties"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Execute the following query: <code>Select * from nation limit to 3 rows</code>.</p>
</li>
</ol>
<p>The following is a sample log file output:</p>
<div id="IVACW351" class="example">
<p class="titleinexample"><a id="sthref330"></a>Example 7-1 Sample IMS Log File</p>
<pre>
ORACLE CONNECT Log (V10.1.3.1, MVS) Started at 2006-12-04T17:57:33
Licensed by Oracle Corporation on 28-SEP-2006 (001001610)
Licensed to ORACLE for &lt;all providers&gt; on &lt;all machines&gt; (&lt;all platforms&gt;)
 
o: 586 9991834 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.SYS,mode=rb, typ
                e=record, lrecl=8208
o: 275 0 flocate &gt;&gt;&gt; stream=9991834,key=99CA6C8,key_len=4,options=3
o: 292 8208 fread &gt;&gt;&gt; buffer=99CB1A8, size=1, count=8208,stream=9991834
o: 424 0 fclose &gt;&gt;&gt; stream=9991834
o: 275 0 flocate &gt;&gt;&gt; stream=997C3F4,key=9974ED0,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=99746C8, size=1, count=2048,stream=997C3F4
o: 275 0 flocate &gt;&gt;&gt; stream=997C024,key=9974ED0,key_len=4,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=99746C8, size=1, count=2048,stream=997C024
o: 275 0 flocate &gt;&gt;&gt; stream=997C3F4,key=9974ED0,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=99746C8, size=1, count=2048,stream=997C3F4
o: 275 0 flocate &gt;&gt;&gt; stream=997C024,key=9974ED0,key_len=4,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=99746C8, size=1, count=2048,stream=997C024
SYSBASE (699): ; REGENTP(db_ims_d) returned 0
SYSBASE (640): ; dllload(NVDBIMS) returned 8ED5A67
SYSBASE (650): ; dllqueryfn(8ED5A67, db_ims_dli_get_functions) returned 8ED5A90
&lt;IMSDB DP&gt; &gt;&gt;&gt; CONNECT                 connect=''
&lt;IMSDB DP&gt; &lt;&lt;&lt; CONNECT                 0
&lt;IMSDB DP&gt; &gt;&gt;&gt; SET CONNECT  transaction type ==  '0'
&lt;IMSDB DP&gt; &lt;&lt;&lt; SET CONNECT                 0
nvOUT (PROD.AC10131.NAV(QP#SQTXT) 89): SELECT TABLE_NAME, TABLE_TYPE FROM NAV_PROC:SP_TABLES('ims', '%', '%', 'TABLE,SYSTEM TABLE,
VIEW,SYNONYM', 0)
nvRETURN (PROD.AC10131.NAV(QPSYNON) 1140): -1
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  Execution Strategy Begin &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
 
Original SQL: 
SELECT TABLE_NAME , TABLE_TYPE FROM NAV_PROC : SP_TABLES ( 'ims' , '%' , '%' , 'TABLE,SYSTEM TABLE,VIEW,SYNONYM' , 0 )  
 
Accessing saved query spec SP_TABLES()
 from NAV_PROC DB 
 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Execution Strategy End &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
 
o: 586 9991834 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.IMS,mode=rb, type=
                record, lrecl=2048
o: 393 0 fclose &gt;&gt;&gt; stream=997C3F4
o: 424 0 fclose &gt;&gt;&gt; stream=997C024
o: 586 Calling ENQ for TEST.OR5000A.DEF.NOS.SYS . 
o: 586 Successful exclusive enqueue retCode=0 
o: 586 9991C04 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS,mode=rb+, type
                =record
o: 627 997C024 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS.I2.PATH,mode=r
                b, type=record, lrecl=2048
o: 275 0 flocate &gt;&gt;&gt; stream=997C024,key=9C13F50,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9C13748, size=1, count=2048,stream=997C024
o: 393 0 fclose &gt;&gt;&gt; stream=997C024
o: 424 0 fclose &gt;&gt;&gt; stream=9991C04
o: 424 Calling DEQ for TEST.OR5000A.DEF.NOS.SYS 
o: 424 Successful dequeue retCode=0 
o: 586 997C024 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.IMS,mode=rb, type=
                record, lrecl=2048
o: 586 Calling ENQ for TEST.OR5000A.DEF.NOS.SYS . 
o: 586 Successful exclusive enqueue retCode=0 
o: 586 997C3F4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS,mode=rb+, type
                =record
o: 627 997C7C4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS.I2.PATH,mode=r
                b, type=record, lrecl=2048
o: 275 0 flocate &gt;&gt;&gt; stream=997C7C4,key=9C08F30,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9C08728, size=1, count=2048,stream=997C7C4
o: 393 0 fclose &gt;&gt;&gt; stream=997C7C4
o: 424 0 fclose &gt;&gt;&gt; stream=997C3F4
o: 424 Calling DEQ for TEST.OR5000A.DEF.NOS.SYS 
o: 424 Successful dequeue retCode=0 
o: 627 997C3F4 fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.IMS.I2.PATH,mode=r
                b, type=record, lrecl=2048
o: 275 0 flocate &gt;&gt;&gt; stream=997C3F4,key=9C04ED0,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 292 0 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o (292): ; amrc: Error = 81704
  AbendSyscode = 8
 AbendRc = 1704
 FdbkRc = 8
 Ftncd = 17
 Fdbk = 4
 svc99_info = 8
 svc99_error = 1704
 RBA = 0
 last_op = 72
o (292): ; amrc: msg=NULL
DB_VSAM_IO (302): ; amrc: Error = 81704
  AbendSyscode = 8
 AbendRc = 1704
 FdbkRc = 8
 Ftncd = 17
 Fdbk = 4
 svc99_info = 8
 svc99_error = 1704
 RBA = 0
 last_op = 6
DB_VSAM_IO (302): ; amrc: msg=NULL
DB_VSAM_IO (302): ; 
DB_VSAM_IO(302) io_vsam_get
 End of file
 
o: 586 997CFDC fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.IMS,mode=rb, type=
                record, lrecl=2048
o: 586 Calling ENQ for TEST.OR5000A.DEF.NOS.SYS . 
o: 586 Successful exclusive enqueue retCode=0 
o: 586 997D3AC fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS,mode=rb+, type
                =record
o: 627 997DAAC fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.SYS.I2.PATH,mode=r
                b, type=record, lrecl=2048
o: 275 0 flocate &gt;&gt;&gt; stream=997DAAC,key=9BFEF10,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9BFE708, size=1, count=2048,stream=997DAAC
o: 393 0 fclose &gt;&gt;&gt; stream=997DAAC
o: 424 0 fclose &gt;&gt;&gt; stream=997D3AC
o: 424 Calling DEQ for TEST.OR5000A.DEF.NOS.SYS 
o: 424 Successful dequeue retCode=0 
o: 627 997D3AC fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOS.IMS.I2.PATH,mode=r
                b, type=record, lrecl=2048
o: 275 -1 flocate &gt;&gt;&gt; stream=997D3AC,key=9C0AF50,key_len=100,options=5
o (275): ; amrc: Error = 81704
  AbendSyscode = 8
 AbendRc = 1704
 FdbkRc = 8
 Ftncd = 17
 Fdbk = 4
 svc99_info = 8
 svc99_error = 1704
 RBA = 0
 last_op = 74
o (275): ; amrc: msg=NULL
nvOUT (PROD.AC10131.NAV(QP#SQTXT) 89): select * from doctor
nvRETURN (PROD.AC10131.NAV(QPSYNON) 1140): -1
o: 275 0 flocate &gt;&gt;&gt; stream=997C3F4,key=9C04ED0,key_len=100,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C3F4
o: 275 0 flocate &gt;&gt;&gt; stream=997C024,key=9C04ED0,key_len=4,options=5
o: 292 2048 fread &gt;&gt;&gt; buffer=9C046C8, size=1, count=2048,stream=997C024
o: 586 997EADC fopen &gt;&gt;&gt; filename=TEST.OR5000A.DEF.NOSBB.IMS,mode=rb, typ
                e=record, lrecl=8208
o: 275 0 flocate &gt;&gt;&gt; stream=997EADC,key=9C58818,key_len=4,options=3
o: 292 8208 fread &gt;&gt;&gt; buffer=9C591B0, size=1, count=8208,stream=997EADC
o: 424 0 fclose &gt;&gt;&gt; stream=997EADC
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;  Execution Strategy Begin &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
 
Original SQL: 
select * from doctor  
 
Accessing file 'doctor' from 'ims' Database 
Fetch strategy: scan
 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Execution Strategy End &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
 
&lt;IMSDB DP&gt; &gt;&gt;&gt; OPEN_STREAM       DOCTOR  
&lt;IMSDB DP&gt; &lt;&lt;&lt; OPEN_STREAM       status=0, stream=1
&lt;IMSDB DP&gt; &gt;&gt;&gt; SEND_RECEIVE DOCTOR   stream=1, keyLen=26, recLen=80
&lt;IMSDB DP&gt; &gt;&gt;&gt;                 lastPCB=-1, cPCBs=1, PCBs=0
&lt;IMSDB DP&gt; &gt;&gt;&gt;                 readahead=282, cSSAs=2
&lt;IMSDB DP&gt; &gt;&gt;&gt;&gt; READ HOSPITAL
&lt;IMSDB DP&gt; &gt;&gt;&gt;&gt;      DOCTOR  
DLIPLUG Request:
09C90410 | 00000000C4D6C3E3D6D9404000010000 | ....DOCTOR  ....
09C90420 | 0000000000000000000000000000FF00 | ................
09C90430 | 0000001A000000500000000000000000 | .......&amp;........
09C90440 | 0000000000000000000000000000011A | ................
09C90450 | 02000000000000000000000000000000 | ................
09C90460 | 000000000000001A0000000000000000 | ................
09C90470 | 00000000000000000000000000000000 | ................
09C90480 | 0000C8D6E2D7C9E3C1D3000000000000 | ..HOSPITAL......
09C90490 | 0000C4D6C3E3D6D94040000000000000 | ..DOCTOR  ......
09C904A0 | 0000                             | ..              
 
CTDLI(2,GU  ,HOSPITAL ,DOCTOR   )
 
 GU  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Jane Doe            Behind the fireplace          392-600359Urology            
 ), Status(  ), RC(0), KFB(Spalding 
Rehabilitat2 017 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Miki Mouse          Next to fireplace             424-337760Trauma &amp; o         
 ), Status(  ), RC(0), KFB(Swedish Medical   
  1 041 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Yetti Bigfoot       Next to fireplace             392-693961Ear, nose          
 ), Status(  ), RC(0), KFB(Presbyterian/St.
Luke1 059 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Blonde Genius       Next to fireplace             723-135562Ophthalmol         
 ), Status(  ), RC(0), KFB(Presbyterian/St.
Luke2 060 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Gamma Tester        Next to fireplace             974-800964Oral surge         
 ), Status(  ), RC(0), KFB(Good Samaritan    
  1 061 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Dr. Verter          Next to fireplace             297-497895Restorativ         
 ), Status(  ), RC(0), KFB(West Hills 
Hospital 1 062 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Art                 Next to fireplace             594-056510Paediatric         
 ), Status(  ), RC(0), KFB(Los Gatos 
Surgical  1 064 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Joe Canabis         Next to fireplace             24-3377605Orthodonti         
 ), Status(  ), RC(0), KFB(Los Robles 
Regional 1 095 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(DOCTOR  ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(Yoske Black         Next to fireplace             92-6939616Neurosurge         
 ), Status(  ), RC(0), KFB(Los Robles 
Regional 1 100 )
CTDLI(2,GN  ,HOSPITAL ,DOCTOR   )
 
 GN  , DBD(HOSPDBD ), Segment(        ), SSA1(HOSPITAL ), SSA2(DOCTOR   ), 
Buffer(                                                                               
 ), Status(GB), RC(51138), KFB()
DLIPLUG Response:
09C97960 | 40400000000000000000000900000001 |   ..............
09C97970 | 00000000D181958540C4968540404040 | ....Jane Doe    
09C97980 | 4040404040404040C2858889958440A3 |         Behind t
09C97990 | 88854086899985979381838540404040 | he fireplace    
09C979A0 | 404040404040F3F9F260F6F0F0F3F5F9 |       392-600359
09C979B0 | E49996939687A8404040404040404040 | Urology         
09C979C0 | 40404040E29781938489958740D98588 |     Spalding Reh
09C979D0 | 8182899389A381A3F240F0F1F740D489 | abilitat2 017 Mi
09C979E0 | 928940D496A4A2854040404040404040 | ki Mouse        
09C979F0 | 4040D585A7A340A39640868999859793 |   Next to firepl
09C97A00 | 81838540404040404040404040404040 | ace             
09C97A10 | F4F2F460F3F3F7F7F6F0E39981A49481 | 424-337760Trauma
09C97A20 | 4050409640404040404040404040E2A6 |  &amp; o          Sw
09C97A30 | 858489A28840D4858489838193404040 | edish Medical   
09C97A40 | 4040F140F0F4F140E885A3A38940C289 |   1 041 Yetti Bi
09C97A50 | 87869696A340404040404040D585A7A3 | gfoot       Next
09C97A60 | 40A39640868999859793818385404040 |  to fireplace   
09C97A70 | 40404040404040404040F3F9F260F6F9 |           392-69
09C97A80 | F3F9F6F1C581996B409596A285404040 | 3961Ear, nose   
09C97A90 | 4040404040404040D79985A282A8A385 |         Presbyte
09C97AA0 | 9989819561E2A34BD3A49285F140F0F5 | rian/St.Luke1 05
09C97AB0 | F940C2939695848540C7859589A4A240 | 9 Blonde Genius 
09C97AC0 | 404040404040D585A7A340A396408689 |       Next to fi
09C97AD0 | 99859793818385404040404040404040 | replace         
09C97AE0 | 40404040F7F2F360F1F3F5F5F6F2D697 |     723-135562Op
09C97AF0 | 88A38881939496934040404040404040 | hthalmol        
09C97B00 | 4040D79985A282A8A3859989819561E2 |   Presbyterian/S
09C97B10 | A34BD3A49285F240F0F6F040C7819494 | t.Luke2 060 Gamm
09C97B20 | 8140E385A2A385994040404040404040 | a Tester        
09C97B30 | D585A7A340A396408689998597938183 | Next to fireplac
09C97B40 | 8540404040404040404040404040F9F7 | e             97
09C97B50 | F460F8F0F0F9F6F4D699819340A2A499 | 4-800964Oral sur
09C97B60 | 878540404040404040404040C7969684 | ge          Good
09C97B70 | 40E28194819989A38195404040404040 |  Samaritan      
09C97B80 | F140F0F6F140C4994B40E58599A38599 | 1 061 Dr. Verter
09C97B90 | 40404040404040404040D585A7A340A3 |           Next t
09C97BA0 | 96408689998597938183854040404040 | o fireplace     
09C97BB0 | 4040404040404040F2F9F760F4F9F7F8 |         297-4978
09C97BC0 | F9F5D985A2A3969981A389A540404040 | 95Restorativ    
09C97BD0 | 404040404040E685A2A340C8899393A2 |       West Hills
09C97BE0 | 40C896A29789A3819340F140F0F6F240 |  Hospital 1 062 
09C97BF0 | C199A340404040404040404040404040 | Art             
09C97C00 | 40404040D585A7A340A3964086899985 |     Next to fire
09C97C10 | 97938183854040404040404040404040 | place           
09C97C20 | 4040F5F9F460F0F5F6F5F1F0D7818584 |   594-056510Paed
09C97C30 | 8981A399898340404040404040404040 | iatric          
09C97C40 | D396A240C781A396A240E2A499878983 | Los Gatos Surgic
09C97C50 | 81934040F140F0F6F440D1968540C381 | al  1 064 Joe Ca
09C97C60 | 95818289A2404040404040404040D585 | nabis         Ne
09C97C70 | A7A340A3964086899985979381838540 | xt to fireplace 
09C97C80 | 404040404040404040404040F2F460F3 |             24-3
09C97C90 | F3F7F7F6F0F5D699A38896849695A389 | 377605Orthodonti
09C97CA0 | 40404040404040404040D396A240D996 |           Los Ro
09C97CB0 | 829385A240D98587899695819340F140 | bles Regional 1 
09C97CC0 | F0F9F540E896A2928540C29381839240 | 095 Yoske Black 
09C97CD0 | 4040404040404040D585A7A340A39640 |         Next to 
09C97CE0 | 86899985979381838540404040404040 | fireplace       
09C97CF0 | 404040404040F9F260F6F9F3F9F6F1F6 |       92-6939616
09C97D00 | D585A49996A2A4998785404040404040 | Neurosurge      
09C97D10 | 40404040D396A240D996829385A240D9 |     Los Robles R
09C97D20 | 8587899695819340F140F1F0F040     | egional 1 100   
 
&lt;IMSDB DP&gt; &lt;&lt;&lt; SEND_RECEIVE DOCTOR   stream=1, status='  ', readahead=9, PCB=0,
 flags=1
&lt;IMSDB DP&gt; &gt;&gt;&gt; CLOSE_STREAM    DOCTOR, stream=1
&lt;IMSDB DP&gt; &lt;&lt;&lt; CLOSE_STREAM    0
nvRETURN (PROD.AC10131.NAV(DRVIUNWN) 804): -1210
(Last message occurred 3 times)
Disabled FilePool Cleanup(DB=___sys, FilePool Size=0)
 
Disabled FilePool Cleanup(DB=IMS, FilePool Size=0)
 
&lt;IMSDB DP&gt; &gt;&gt;&gt; DISCONNECT
&lt;IMSDB DP&gt; &lt;&lt;&lt; DISCONNECT
o: 393 0 fclose &gt;&gt;&gt; stream=997C3F4
o: 424 0 fclose &gt;&gt;&gt; stream=997C024
o: 424 0 fclose &gt;&gt;&gt; stream=9991834
o: 393 0 fclose &gt;&gt;&gt; stream=997D3AC
o: 424 0 fclose &gt;&gt;&gt; stream=997CFDC
FilePool Shutdown(DB=___SYS, FilePool Size=0)
 
Closing log file at MON DEC  4 17:57:49 2006
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment257">
<tr>
<td class="cellalignment266">
<table class="cellalignment262">
<tr>
<td class="cellalignment261"><a href="inst_tgw_ims.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment261"><a href="part_adabas.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment268">
<table class="cellalignment260">
<tr>
<td class="cellalignment261"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment261"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment261"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment261"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment261"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment261"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
