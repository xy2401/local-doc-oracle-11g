<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Access to IMS Data</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737" />
<meta name="dcterms.created" content="2013-08-16T0:23:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for IMS, VSAM, and Adabas Installation and Configuration Guide" />
<meta name="dcterms.identifier" content="E12077-04" />
<meta name="dcterms.isVersionOf" content="IVACW" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="part_ims.htm" title="Previous" type="text/html" />
<link rel="Next" href="inst_tgw_ims.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12077.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/27</span> <!-- End Header -->
<div id="IVACW245" class="chapter"><a id="CHDEEAIB"></a>
<h1 class="chapter"><span class="secnum">5</span> Configuring Access to IMS Data</h1>
<p>This chapter <a id="sthref181"></a><a id="sthref182"></a>explains how to configure access to IMS data by using Oracle Studio for IMS, VSAM, and Adabas Gateways. It contains the following sections:</p>
<ul>
<li>
<p><a href="#BABBEGCD">Setting Up Access to a Computer Running Oracle Connect for IMS, VSAM, and Adabas Gateways</a></p>
</li>
<li>
<p><a href="#BABBIIGH">Setting Up an IMS Data Source</a></p>
</li>
<li>
<p><a href="#CHDFIJBJ">Setting Up the IMS/DB Data Source Metadata</a></p>
</li>
</ul>
<a id="BABBEGCD"></a>
<div id="IVACW246" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Setting Up Access to a Computer Running Oracle Connect for IMS, VSAM, and Adabas Gateways<a id="sthref183"></a><a id="sthref184"></a><a id="sthref185"></a></h2>
<p>To be able to access IMS data, you must have a working connection to Oracle Connect for IMS, VSAM, and Adabas Gateways, which is installed on the IBM z/OS computer where your IMS files are located. You establish this connection by using Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
<p>Whenever needed, you can also use Oracle Studio for IMS, VSAM, and Adabas Gateways to configure Oracle Connect for IMS, VSAM, and Adabas Gateways.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following task assumes that you have permission to access the IBM z/OS platform and that the Oracle Connect for IMS, VSAM, and Adabas Gateways daemon is running on this computer. Check with the system administrator to ensure these requirements are fulfilled.</div>
<p>Perform the following steps to set up access to a computer that runs Oracle Connect for IMS, VSAM, and Adabas Gateways.</p>
<ol>
<li>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Programs</span>, point to <span class="bold">Oracle</span>, and select <span class="bold">Studio</span>. Oracle Studio for IMS, VSAM, and Adabas Gateways opens.</p>
</li>
<li>
<p>In the Design perspective's <span class="bold">Configuration</span> view, right-click the <span class="bold">Machines</span> folder and select <span class="bold">Add Machines</span>.</p>
<p>The Add machine screen opens, as shown in <a href="#BEIDDEDI">Figure 5-1</a>.</p>
<div id="IVACW247" class="figure">
<p class="titleinfigure"><a id="BEIDDEDI"></a>Figure 5-1 Add Machine Screen.</p>
<img width="438" height="438" src="img/addmach.gif" alt="The Add Machine screen." /><br />
<a id="sthref186" href="img_text/addmach.htm">Description of "Figure 5-1 Add Machine Screen."</a><br />
<br /></div>
<!-- class="figure" -->
<p>Enter the following information in each field:</p>
<ul>
<li>
<p><span class="bold">Host name/IP address</span>: Enter the name of the computer on the network or click <span class="bold">Browse</span>, to browse all the systems running a daemon listener on the specified port currently accessible over the network.</p>
</li>
<li>
<p><span class="bold">Port</span>: Enter the port number where the daemon is running. The default port is 2551.</p>
</li>
<li>
<p><span class="bold">Display name</span>: Enter an alias used to identify the system when different from the host name (optional).</p>
</li>
<li>
<p><span class="bold">User name</span>: Enter the system administrator's user name.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You indicate the system administrator when the system is installed or by using the NAV_UTIL utility ADD_ADMIN operation. For details, see <a class="olink OCZOS" href="../e12075/toc.htm"><span class="italic">Oracle Connect for IMS, VSAM, and Adabas Gateways Installation and Configuration Guide for IBM z/OS</span></a>.</div>
</li>
<li>
<p><span class="bold">Password</span>: Enter the system administrator's password. This is the password for the user entered in the <span class="bold">User name</span> field. If no password is necessary to access this system, do not enter anything.</p>
</li>
<li>
<p><span class="bold">Connect via NAT with fixed IP address</span>: Select this if the system uses the NAT (Network Address Translation) firewall protocol, with a fixed configuration, mapping each external IP to one internal IP, regardless of the port specified.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
<p>The computer is displayed in the Configuration view, in the Machine folder. You can edit the system's login information, or configure bindings, daemons, and users for each system.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABBIIGH"></a>
<div id="IVACW248" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Setting Up an IMS Data Source<a id="sthref187"></a><a id="sthref188"></a><a id="sthref189"></a></h2>
<p>Oracle Connect for IMS, VSAM, and Adabas Gateways supports SQL data access to IMS/DB data in the following three IMS/DB environments:</p>
<ul>
<li>
<p>IMS-DLI: Batch access. The dedicated Oracle Connect for IMS, VSAM, and Adabas Gateways server, running as an IMS batch process, issues DLI commands to retrieve IMS/DB data. This data source can be used when the accessed database is not currently opened under CICS or IMS/TM.</p>
<p>The IMS-DLI data source does not support transaction processing.</p>
</li>
<li>
<p>IMS-DBCTL: This data source is suited to users employing CICS as their primary application platform for accessing IMS/DB data. All Oracle Connect for IMS, VSAM, and Adabas Gateways servers communicate with an Oracle Connect for IMS, VSAM, and Adabas Gateways-supplied CICS program. This program accepts requests for scheduling PSBs and retrieving data through DBCTL services.</p>
</li>
<li>
<p>IMS-DBDC: This data source is suited to users employing IMS/TM as their primary application platform for accessing IMS/DB data. All Oracle Connect for IMS, VSAM, and Adabas Gateways servers communicate with an Oracle Connect for IMS, VSAM, and Adabas Gateways-supplied IMS/TM program. This program accepts requests from Oracle Connect for IMS, VSAM, and Adabas Gateways servers and performs the DLI requests on their behalf.</p>
<p>The IMS-DBDC data source does not support transaction processing.</p>
</li>
</ul>
<p>IMS/DB data sources support IMS/DB hierarchical structures, provided there exists a unique sequence field for all the segments within the hierarchy.</p>
<p>IMS/DB data sources do not support secondary indexes.</p>
<p>This section describes how to set up an IMS data source using Oracle Studio for IMS, VSAM, and Adabas Gateways. Each IMS/DB data source has its own considerations. Therefore, perform the procedure relevant for the data source you use, as follows:</p>
<ul>
<li>
<p><a href="#BABDGIDB">Defining the IMS-DLI Data Source</a></p>
</li>
<li>
<p><a href="#BABDHJHI">Defining the IMS/DB DBCTL Data Source</a></p>
</li>
<li>
<p><a href="#BABJEIHD">Defining the IMS/DB DBDC Data Source</a></p>
</li>
</ul>
<p>After you defined the data source, proceed to the following task:</p>
<p><a href="#CHDFIJBJ">Setting Up the IMS/DB Data Source Metadata</a></p>
<a id="BABDGIDB"></a>
<div id="IVACW249" class="sect2">
<h3 class="sect2">Defining the IMS-DLI Data Source<a id="sthref190"></a><a id="sthref191"></a><a id="sthref192"></a></h3>
<p>The process of defining an IMS/DB DLI data source consists of the following tasks:</p>
<ul>
<li>
<p><a href="#BABFAAAJ">Setting Up the Daemon Workspace</a></p>
</li>
<li>
<p><a href="#BABJFFAC">Defining the IMS-DLI Data Source Connection</a></p>
</li>
<li>
<p><a href="#BABBAHBH">Configuring the IMS/DB DLI Data Source Properties</a></p>
</li>
</ul>
<a id="BABFAAAJ"></a>
<div id="IVACW250" class="sect3">
<h4 class="sect3">Setting Up the <a id="sthref193"></a><a id="sthref194"></a><a id="sthref195"></a>Daemon Workspace<a id="sthref196"></a><a id="sthref197"></a></h4>
<p>Configure a special daemon workspace to use an NVIMSSRV started task. In this workspace, set the server type to IMS and the startup script to <code>NVIMSSRV.XY</code>.</p>
<p>All other settings are the same settings as those of the Navigator workspace provided with the Oracle Connect for IMS, VSAM, and Adabas Gateways installation.</p>
<p>See <a href="connectconfiguration.htm#BABGIIAG">Adding a Workspace</a> for information on adding a new workspace.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>The suffix for the startup script enables instances of the server process for the workspace. Any suffix can be used, and Oracle Connect for IMS, VSAM, and Adabas Gateways automatically extends the suffix for each instance. You can use different suffixes in different started tasks to distinguish between the running servers.</p>
</li>
<li>
<p>The remote system specification in the binding setting for the IMS-DLI data source on the client must include the workspace name as part of the <code>&lt;remoteMachine&gt;</code> statement.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABJFFAC"></a>
<div id="IVACW251" class="sect3">
<h4 class="sect3">Defining the IMS-DLI Data Source Connection<a id="sthref198"></a><a id="sthref199"></a><a id="sthref200"></a></h4>
<p>The IMS-DLI data source connection is set using the Design Perspective Configuration view in Oracle Studio for IMS, VSAM, and Adabas Gateways. Perform the following steps to define the IMS-DLI data source connection.</p>
<ol>
<li>
<p>In Oracle Studio for IMS, VSAM, and Adabas Gateways, in the Configuration view of the Design perspective, open the binding of the system where the data is located.</p>
</li>
<li>
<p>Right-click <span class="bold">Data Source</span> and select <span class="bold">New Data Source</span>.</p>
<p>The New Data Source screen opens, as shown in <a href="#BABEJEDI">Figure 5-2</a>.</p>
<div id="IVACW252" class="figure">
<p class="titleinfigure"><a id="BABEJEDI"></a>Figure 5-2 New Data Source Screen</p>
<img width="438" height="405" src="img/newdatasource_imsdli.gif" alt="New Data Source screen" /><br />
<a id="sthref201" href="img_text/newdatasource_imsdli.htm">Description of "Figure 5-2 New Data Source Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Specify a name for the data source in the <span class="bold">Name</span> field.</p>
</li>
<li>
<p>Select <span class="bold">IMS-DLI</span> from the <span class="bold">Type</span> list.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Data Source Connect String screen opens.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABBAHBH"></a>
<div id="IVACW253" class="sect3">
<h4 class="sect3">Configuring the IMS/DB DLI <a id="sthref202"></a><a id="sthref203"></a>Data Source<a id="sthref204"></a><a id="sthref205"></a><a id="sthref206"></a> Properties</h4>
<p>After defining the connection, you can set the data source properties.</p>
<p>The following properties can be configured for the IMS/DCB DLI data source on the Properties tab of the Configuration Properties screen:</p>
<p><code>disableExplicitSelect=true|false</code>: When set to <code>true</code>, this parameter disables the <code>explicitSelect ADD</code> attribute; every field is returned by a <code>SELECT * FROM...</code> statement.</p>
<p>Perform the following steps to configure the IMS/DB DLI data source.</p>
<ol>
<li>
<p>Right-click the data source and select <span class="bold">Edit Data Source</span>.</p>
<p>The Configuration Properties screen opens.</p>
</li>
<li>
<p>On the <span class="bold">Properties</span> tab, configure the data source parameters as required.</p>
</li>
<li>
<p>On the <span class="bold">Advanced</span> tab, configure how arrays will be handled by selecting the relevant check boxes in the Virtual View Policy section. The following options are available:</p>
<ul>
<li>
<p><span class="bold">Generate sequential view</span>: Select this option if you want to map a non-relational file to a single table.</p>
</li>
<li>
<p><span class="bold">Generate virtual views</span>: Select this option if you want to have an individual table created for every array in the non-relational file.</p>
</li>
<li>
<p><span class="bold">Include row number column</span>: Select this option if you want to include a column that specifies the row number in the virtual or sequential view.</p>
</li>
<li>
<p><span class="bold">Inherit all parent columns</span>: Select this option if you want the virtual views to include all the columns of the parent record.</p>
</li>
</ul>
</li>
<li>
<p>Save your settings.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABDHJHI"></a>
<div id="IVACW254" class="sect2">
<h3 class="sect2"><a id="sthref207"></a><a id="sthref208"></a><a id="sthref209"></a><a id="sthref210"></a>Defining the IMS/DB DBCTL Data Source <a id="sthref211"></a><a id="sthref212"></a><a id="sthref213"></a></h3>
<p>The process of defining an IMS/DB DBCTL data source consists of the following tasks:</p>
<ul>
<li>
<p><a href="#BABDDDFJ">Define the IMS/DB DBCTL Data Source Connection</a></p>
</li>
<li>
<p><a href="#BGBIJDFI">Configure the IMS/DB DBCTL Data Source Properties</a></p>
</li>
<li>
<p><a href="#BABFGJFH">Accessing IMS/DB Data under CICS</a></p>
</li>
</ul>
<a id="BABDDDFJ"></a>
<div id="IVACW255" class="sect3">
<h4 class="sect3">Define the IMS/DB DBCTL Data Source Connection<a id="sthref214"></a><a id="sthref215"></a><a id="sthref216"></a></h4>
<p>The IMS/DB DBCTL data source connection is set using the Design Perspective Configuration view in Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
<p class="subhead2"><a id="IVACW256"></a>To define the data source connection</p>
<ol>
<li>
<p>In Oracle Studio for IMS, VSAM, and Adabas Gateways, in the Configuration view of the Design perspective, open the binding of the system where the data is located.</p>
</li>
<li>
<p>Right-click <span class="bold">Data Source</span> and select <span class="bold">New Data Source</span>.</p>
<p>The New Data Source screen opens, as shown in <a href="#BABBFCDE">Figure 5-3</a>.</p>
<div id="IVACW257" class="figure">
<p class="titleinfigure"><a id="BABBFCDE"></a>Figure 5-3 New Data Source Screen</p>
<img width="438" height="405" src="img/newdatasource_imsdbctl.gif" alt="New Data Source screen" /><br />
<a id="sthref217" href="img_text/newdatasource_imsdbctl.htm">Description of "Figure 5-3 New Data Source Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Specify a name for the data source in the <span class="bold">Name</span> field.</p>
</li>
<li>
<p>Select <span class="bold">IMS-DBCTL</span> from the <span class="bold">Type</span> list.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Data Source Connect String screen opens.</p>
</li>
<li>
<p>Specify the IMS-DBCTL connect string as follows:</p>
<ul>
<li>
<p><code>PSB Name</code>: Specify the name of the PSB file that contains details of all the IMS/DB databases that you want to access.</p>
</li>
<li>
<p><code>Target System</code>: Specify the VTAM <code>APPLID</code> of the CICS target system. The default value is CICS. This parameter is used when updating VSAM data. You can determine this value by activating the CEMT transaction on the target CICS system. The legend <code>APPLID=target_system</code> appears in the bottom right corner of the screen.</p>
</li>
<li>
<p><code>VTAM NetName</code>: The VTAM netname of the specific connection being used by EXCI (and MRO) to relay the program call to the CICS target system. For example, if you issue the following command to CEMT:</p>
<p><code>CEMT INQ CONN</code></p>
<p>You see on the display screen that the netname is <code>BATCHCLI</code> (this is the default connection supplied by IBM upon the installation of CICS). The default value is <code>ATYCLIEN</code>.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BGBIJDFI"></a>
<div id="IVACW258" class="sect3">
<h4 class="sect3">Configure the IMS/DB DBCTL <a id="sthref218"></a><a id="sthref219"></a>Data Source<a id="sthref220"></a><a id="sthref221"></a><a id="sthref222"></a> Properties</h4>
<p>After defining the connection, you can set the data source properties.</p>
<p>The following properties can be configured for the IMS/DB DBCTL data source in the Properties tab of the Configuration Properties screen:</p>
<ul>
<li>
<p><code>cicsProgname=ATYDBCTL</code>: This parameter specifies the ATYDBCTL program that is supplied with Oracle Connect for IMS, VSAM, and Adabas Gateways to enable updating VSAM data.</p>
</li>
<li>
<p><code>cicsTraceQueue=string</code>: This parameter specifies the name of the queue for output that is defined under CICS when tracing the output of the ATYDBCTL program. When not defined, the default CICS queue is used.</p>
</li>
<li>
<p><code>disableExplicitSelect=true|false</code>: When set to <code>true</code>, this parameter disables the <code>explicitSelect ADD</code> attribute; every field is returned by a <code>SELECT * FROM...</code> statement.</p>
</li>
<li>
<p><code>exciTransid=string</code>: This parameter specifies the CICS TRANSID. This value must be EXCI or a copy of this transaction.</p>
</li>
<li>
<p><code>pbsName=string</code>: The PSB Name in the connect string, this parameter contains details of all the IMS/DB databases that you want to access.</p>
</li>
<li>
<p><code>targetSystemApplid=string</code>: The Target System in the connect string, this parameter specifies the VTAM applied of the CICS target system. The default value is CICS. This parameter is used when updating VSAM data. You can determine this value by activating the CEMT transaction on the target CICS system. The legend <code>APPLID=target_system</code> appears in the bottom right corner of the screen.</p>
</li>
<li>
<p><code>vtamNetname=string</code>: The VTAM NetName in the connect string, this parameter specifies the connection being used by EXCI (and MRO) to relay the program call to the CICS target system. The default value is <code>ATYCLIEN</code>.</p>
</li>
</ul>
<p>Perform the following steps to configure the IMS/DB DBCTL data source.</p>
<ol>
<li>
<p>Right-click the data source and select <span class="bold">Edit Data Source</span>.</p>
</li>
<li>
<p>On the <span class="bold">Properties</span> tab, configure the data source parameters as required.</p>
</li>
<li>
<p>To support rollback, on the <span class="bold">Advanced</span> tab, from the <span class="bold">Transaction type</span> list, select <span class="bold">1PC</span> or <span class="bold">2PC</span>, depending on the data source usage.</p>
<p>If you do not use 2PC, see the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for configuration information.</p>
</li>
<li>
<p>On the <span class="bold">Advanced</span> tab, configure how arrays will be handled by selecting the relevant check boxes in the Virtual View Policy section. The following options are available:</p>
<ul>
<li>
<p><span class="bold">Generate sequential view</span>: Select this option if you want to map a non-relational file to a single table.</p>
</li>
<li>
<p><span class="bold">Generate virtual views</span>: Select this option if you want to have an individual table created for every array in the non-relational file.</p>
</li>
<li>
<p><span class="bold">Include row number column</span>: Select this option if you want to include a column that specifies the row number in the virtual or sequential view.</p>
</li>
<li>
<p><span class="bold">Inherit all parent columns</span>: Select this option if you want the virtual views to include all the columns of the parent record.</p>
</li>
</ul>
</li>
<li>
<p>Save your settings.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABFGJFH"></a>
<div id="IVACW259" class="sect3">
<h4 class="sect3">Accessing IMS/DB Data under CICS<a id="sthref223"></a><a id="sthref224"></a><a id="sthref225"></a></h4>
<p>The IMS/DB DBCTL data source accesses IMS/DB data under CICS.</p>
<p>To access IMS/DB data under CICS, perform the following steps.</p>
<ol>
<li>
<p>Copy the <code>ATYDBCTL</code> member from <code>NAVROOT.LOAD</code> to a <code>CICS DFHRPL</code> library (such as <code>CICS.USER.LOAD</code>) and then define the <code>ATYDBCTL</code> program under CICS using any available group such as the ATY group:</p>
<p><code>CEDA DEF PROG(ATYDBCTL) G(ATY) LANG(C) DA(ANY) DE(ATY IMSDB CICS PROGRAM</code>)</p>
<p><code>NAVROOT</code> is the high-level qualifier where the Oracle Connect for IMS, VSAM, and Adabas Gateways is installed.</p>
</li>
<li>
<p>After assigning the ATYDBCTL program to a group, install it as follows:</p>
<p><code>CEDA IN G(ATY)</code></p>
</li>
<li>
<p>Under CICS, run the CDBC transaction and select the first option (Connection). Provide the startup table suffix and DBCTL ID override value.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJEIHD"></a>
<div id="IVACW260" class="sect2">
<h3 class="sect2"><a id="sthref226"></a><a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a>Defining the IMS/DB DBDC Data Source <a id="sthref230"></a><a id="sthref231"></a><a id="sthref232"></a></h3>
<p>The process of defining an IMS/DB DBDC data source consists of the following tasks:</p>
<ul>
<li>
<p><a href="#BABJHAGA">Define the IMS/DB DBDC Data Source Connection</a></p>
</li>
<li>
<p><a href="#BABBDACD">Configure the IMS/DB DBDC Data Source Properties</a></p>
</li>
<li>
<p><a href="#BABIFACC">Access IMS/DB Data under IMS/TM</a></p>
</li>
</ul>
<a id="BABJHAGA"></a>
<div id="IVACW261" class="sect3">
<h4 class="sect3">Define the IMS/DB DBDC Data Source Connection<a id="sthref233"></a><a id="sthref234"></a><a id="sthref235"></a></h4>
<p>The IMS/DB DBDC data source connection is set using the Design Perspective Configuration view in Oracle Studio for IMS, VSAM, and Adabas Gateways.</p>
<p class="subhead2"><a id="IVACW262"></a>To define the data source connection</p>
<ol>
<li>
<p>In Oracle Studio for IMS, VSAM, and Adabas Gateways, in the Configuration view of the Design perspective, open the binding of the system where the data is located.</p>
</li>
<li>
<p>Right-click <span class="bold">Data Source</span> and select <span class="bold">New Data Source</span>.</p>
<p>The New Data Source screen opens, as shown in <a href="#BABHEJAC">Figure 5-4</a>.</p>
<div id="IVACW263" class="figure">
<p class="titleinfigure"><a id="BABHEJAC"></a>Figure 5-4 New Data Source Screen</p>
<img width="438" height="405" src="img/newdatasource_imsdbdc.gif" alt="New Data Source screen" /><br />
<a id="sthref236" href="img_text/newdatasource_imsdbdc.htm">Description of "Figure 5-4 New Data Source Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Specify a name for the data source in the <span class="bold">Name</span> field.</p>
</li>
<li>
<p>Select <span class="bold">IMS-DBDC</span> from the <span class="bold">Type</span> list.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Data Source Connect String screen opens.</p>
</li>
<li>
<p>Specify the IMS-DBDC connect string as follows:</p>
<ul>
<li>
<p><code>XCF Group</code>: Specify the Cross System Coupling Facility collection of XCF members to which the connection belongs. A group may consist of up to eight characters, and may span between multiple systems.</p>
</li>
<li>
<p><code>XCF server</code>: Specify the Cross System Coupling Facility group member.</p>
</li>
<li>
<p><code>TPipe prefix</code>: Specify the transaction pipe prefix used to associate between the transaction and the transaction pipe it is using. The default value is <code>ATTU</code>.</p>
</li>
<li>
<p><code>User name</code>: Specify the security facility user identification (for example, the RACF user identification).</p>
</li>
<li>
<p><code>Group name</code>: Specify the security facility group identification (for example, the RACF group identification).</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABBDACD"></a>
<div id="IVACW264" class="sect3">
<h4 class="sect3">Configure the IMS/DB DBDC <a id="sthref237"></a><a id="sthref238"></a>Data Source<a id="sthref239"></a><a id="sthref240"></a><a id="sthref241"></a> Properties</h4>
<p>After defining the connection, you can set the data source properties.</p>
<p>The following properties can be configured for the IMS/DCB DBDC data source in the Properties tab of the Configuration Properties screen:</p>
<ul>
<li>
<p><code>disableExplicitSelect=true|false</code>: When set to <code>true</code>, this parameter disables the <code>explicitSelect ADD</code> attribute; every field is returned by a <code>SELECT * FROM...</code> statement.</p>
</li>
<li>
<p><code>imsTransname=string</code>: This parameter specifies the name of the IMS transaction that points to the program that is used to access the PSB used to access the IMS/DB data. The default name of the transaction is <code>ATYIMSTM</code>.</p>
</li>
<li>
<p><code>maxSessions=n</code>: This parameter specifies the maximum number of sessions allowed. The default value is <code>5</code>.</p>
</li>
<li>
<p><code>racfGroupId=string</code>: This parameter specifies the security facility group identification (for example, the RACF group identification).</p>
</li>
<li>
<p><code>racfUserId=string</code>: This parameter specifies the security resource user name.</p>
</li>
<li>
<p><code>tpipePrefix=string</code>: The TPipe prefix in the connect string, this parameter is used to associate between the transaction and the transaction pipe it is using. The default is ATTU.</p>
</li>
<li>
<p><code>xcfClient=string</code>: This parameter specifies the client name for the Cross System Coupling Facility to which the connection belongs.</p>
</li>
<li>
<p><code>xcfGroup=string</code>: The XCF group in the connect string, this parameter specifies the Cross System Coupling Facility collection of XCF members the connection belongs to. A group may consist of up to eight characters, and may span between multiple systems.</p>
</li>
<li>
<p><code>xcflmsMember=string</code>: This parameter specifies the Cross System Coupling Facility group member.</p>
</li>
<li>
<p><code>xcfServer=string</code>: The XCF server in the connect string, this parameter specifies the Cross System Coupling Facility group member.</p>
</li>
<li>
<p><code>userName=string</code>: The user name in the connect string, this parameter specifies the security facility user identification (for example, the RACF user identification).</p>
</li>
</ul>
<p>Perform the following steps to configure the IMS/DB DBDC data source.</p>
<ol>
<li>
<p>Right-click the data source and select <span class="bold">Edit Data Source</span>.</p>
</li>
<li>
<p>On the <span class="bold">Properties</span> tab, configure the data source parameters as required.</p>
</li>
<li>
<p>On the <span class="bold">Advanced</span> tab, from the <span class="bold">Transaction type</span> list, select <span class="bold">0PC</span>.</p>
</li>
<li>
<p>On the <span class="bold">Advanced</span> tab, configure how arrays will be handled by selecting the relevant check boxes in the Virtual View Policy section. The following options are available:</p>
<ul>
<li>
<p><span class="bold">Generate sequential view</span>: Select this option if you want to map a non-relational file to a single table.</p>
</li>
<li>
<p><span class="bold">Generate virtual views</span>: Select this option if you want to have an individual table created for every array in the non-relational file.</p>
</li>
<li>
<p><span class="bold">Include row number column</span>: Select this option if you want to include a column that specifies the row number in the virtual or sequential view.</p>
</li>
<li>
<p><span class="bold">Inherit all parent columns</span>: Select this option if you want the virtual views to include all the columns of the parent record.</p>
</li>
</ul>
</li>
<li>
<p>Save your settings.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABIFACC"></a>
<div id="IVACW265" class="sect3">
<h4 class="sect3">Access IMS/DB Data under IMS/TM<a id="sthref242"></a><a id="sthref243"></a></h4>
<p>The IMS/DB DBCTL data source accesses IMS/DB data under IMS/TM.</p>
<p class="subhead2"><a id="IVACW266"></a>To access IMS/DB data under IMS/TM</p>
<ol>
<li>
<p>Copy the <code>ATYDBDC</code> program from <code>NAVROOT.LOAD</code> to an IMS/TM program library (such as <code>IMS.PGMLIB</code>) with the name of the PSB used to access the IMS/DB data.</p>
</li>
<li>
<p>Define an IMS transaction to point to the program, using statements similar to the following:</p>
<p><code>APPLCTN PSB=ATYDBDC,SCHDTYP=PARALLELTRANSACT CODE=ATYIMSTM,PRTY=(7,10,2),INQUIRY=NO,MODE=SNGL,EDIT=ULC</code></p>
<p>The default transaction name is <code>ATYIMSTM.</code> If you use a different transaction, the transaction name must be less than or equal to eight characters and you must specify this value in the <code>imsTransname</code> data source property in the binding.</p>
</li>
<li>
<p>Set up OTMA, as described in the <a class="olink OCZOS" href="../e12075/toc.htm"><span class="italic">Oracle Connect for IMS, VSAM, and Adabas Gateways Installation and Configuration Guide for IBM z/OS</span></a>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFIJBJ"></a>
<div id="IVACW267" class="sect1">
<h2 class="sect1"><a id="sthref244"></a><a id="sthref245"></a>Setting Up the IMS/DB Data Source Metadata<a id="sthref246"></a><a id="sthref247"></a><a id="sthref248"></a></h2>
<p>The IMS/DB data sources requires Oracle metadata.</p>
<p>Setting up the metadata in Oracle Connect for IMS, VSAM, and Adabas Gateways to enable working with IMS/DB is the same for all the IMS/DB data sources.</p>
<p>The mapping of IMS/DB metadata to Oracle metadata format has the following rules:</p>
<ul>
<li>
<p>Segments are defined as tables within <code>&lt;table&gt;</code> elements.</p>
</li>
<li>
<p>Tables inherit the key fields of their ancestors.</p>
</li>
<li>
<p>Tables have indexes for their full hierarchical paths.</p>
</li>
<li>
<p>Additional information is defined in <code>dbCommand</code> attributes specified within the <code>&lt;table&gt;</code> and <code>&lt;field&gt;</code> elements.</p>
</li>
</ul>
<p>If COBOL copybooks describing the data source records are available, you can import the metadata by running the metadata import in the Oracle Studio for IMS, VSAM, and Adabas Gateways Design Perspective Metadata tab. If the metadata is provided in a number of COBOL copybooks, with different filter settings (such as whether the first 6 columns are ignored or not), import the metadata from copybooks with the same settings and later import the metadata from the other copybooks.</p>
<p>If COBOL copybooks that describe the IMS/DB records do not exist, you must manually define the metadata.</p>
<p>To import the metadata, you need to perform the following tasks:</p>
<ol>
<li>
<p><a href="#BEICCECE">Select the Input Files</a></p>
</li>
<li>
<p><a href="#BABCEIEF">Apply Filters</a></p>
</li>
<li>
<p><a href="#BABDGEHD">Select Tables</a></p>
</li>
<li>
<p><a href="#BABICEAB">Match DBD to COBOL</a></p>
</li>
<li>
<p><a href="#BABDIJBC">Manipulate the Imported Records</a></p>
</li>
<li>
<p><a href="#BABDEJBC">Select the Metadata Model</a></p>
</li>
<li>
<p><a href="#BABCJEID">Import the Metadata</a></p>
</li>
</ol>
<a id="BEICCECE"></a>
<div id="IVACW268" class="sect2">
<h3 class="sect2">Select the Input Files<a id="sthref249"></a><a id="sthref250"></a><a id="sthref251"></a></h3>
<p>This section describes the steps required to select the input files that will be used to generate the metadata. The IMS/DB data source requires three types of files, DBD files, COBOL copybooks, and PSB source files. See <a href="#BEICCECE">Select the Input Files</a> for an explanation of these files.</p>
<p>Perform the following task to enter the input files.</p>
<ol>
<li>
<p>In the Configuration view, right-click the data source and select Edit Metadata.</p>
<p>The Metadata tab is displayed with the data source displayed in the Metadata view.</p>
</li>
<li>
<p>Right-click the <span class="bold">Imports</span> node under the data source and select the <span class="bold">New Import</span> menu option.</p>
</li>
<li>
<p>Enter a name for the import. The name can contain letters, numbers and the underscore character.</p>
</li>
<li>
<p>Select <span class="bold">IMS/DB Import Manager</span> as the import type.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>. The Metadata Import Wizard is displayed.</p>
</li>
<li>
<p>Click <span class="bold">Add</span> in the Import Wizard to add DBD files. The Add Resource screen opens, providing the option of selecting files from the local system or copying the files from another system.</p>
<p><a href="#BEIGIGCB">Figure 5-5</a> shows the Add Resource screen.</p>
<div id="IVACW269" class="figure">
<p class="titleinfigure"><a id="BEIGIGCB"></a>Figure 5-5 Add Resource Screen</p>
<img width="463" height="459" src="img/imsdb_1.gif" alt="Add Resource Screen" /><br />
<a id="sthref252" href="img_text/imsdb_1.htm">Description of "Figure 5-5 Add Resource Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>If the files are located on a UNIX or Windows computer, do the following:</p>
<ul>
<li>
<p>Right-click <span class="bold">My FTP Sites</span> and select <span class="bold">Add</span>.</p>
<p>The Add FTP Site screen opens, as shown in the following figure.</p>
<img width="235" height="232" src="img/vsamcx_3.gif" alt="Add FTP Site screen" /><br /></li>
<li>
<p>Enter the server name where the COBOL copybooks are located and, if not using an anonymous connection, enter a valid username and password to access the computer. The username is then used as the high-level qualifier.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>. After accessing the remote computer, you can change the high-level qualifier by right-clicking the system in the Add Resource screen and selecting <span class="bold">Change Root Directory</span>.</p>
</li>
<li>
<p>Select the files to import and click <span class="bold">Finish</span> to start the file transfer. When complete, the selected files are displayed in the Get Input Files screen.</p>
<p>To remove any of these files, select the required file and click <span class="bold">Remove</span>.</p>
</li>
</ul>
</li>
<li>
<p>Repeat the procedure for COBOL copybooks.</p>
<p>The format of the COBOL copybooks must be the same. For example, you cannot import a COBOL copybook that uses the first six columns together with a COBOL copybook that ignores the first six columns. In this type of case, repeat the import process.</p>
<p>You can import the metadata from one COBOL copybook and later add to this metadata by repeating the import using different COBOL copybooks.</p>
</li>
<li>
<p>Click <span class="bold">Add</span> in the Import wizard to add a PSB source file, if necessary.</p>
<p>The selected files are displayed in the Get Input Files screen, as shown in <a href="#BABGJADB">Figure 5-6</a>.</p>
<div id="IVACW270" class="figure">
<p class="titleinfigure"><a id="BABGJADB"></a>Figure 5-6 Get Input Files Screen</p>
<img width="536" height="472" src="img/imsdb_2.gif" alt="Files selected for import in Get Inputs screen" /><br />
<a id="sthref253" href="img_text/imsdb_2.htm">Description of "Figure 5-6 Get Input Files Screen"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Next</span> to go to the <a href="#BABCEIEF">Apply Filters</a> task.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCEIEF"></a>
<div id="IVACW271" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Apply Filters<a id="sthref254"></a><a id="sthref255"></a><a id="sthref256"></a><a id="sthref257"></a></h3>
<p>This section describes the steps required to apply filters on the COBOL Copybook files used to generate the Metadata. It continues the <a href="#BEICCECE">Select the Input Files</a> task.</p>
<p>Perform the following task to apply filters.</p>
<ol>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Apply Filters screen opens in the editor, as shown in <a href="#BEIFAFFD">Figure 5-7</a>.</p>
<div id="IVACW272" class="figure">
<p class="titleinfigure"><a id="BEIFAFFD"></a>Figure 5-7 Apply Filters Wizard</p>
<img width="536" height="503" src="img/imsdb_3.gif" alt="Apply Filters Wizard" /><br />
<a id="sthref258" href="img_text/imsdb_3.htm">Description of "Figure 5-7 Apply Filters Wizard"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Apply filters to the copybooks, as needed.</p>
<p>The following COBOL filters are available:</p>
<ul>
<li>
<p>COMP_6 switch: The MicroFocus COMP-6 compiler directive. Specify either <span class="bold">COMP-6'1'</span> to treat COMP-6 as a COMP data type or <span class="bold">COMP-6'2'</span> to treat COMP-6 as a COMP-3 data type.</p>
</li>
<li>
<p>Compiler source: The compiler vendor.</p>
</li>
<li>
<p>Storage mode: The MicroFocus Integer Storage Mode. Specify either NOIBMCOMP for byte storage mode or IBMCOMP for word storage mode.</p>
</li>
<li>
<p>Ignore after column 72: Ignore columns 73 to 80 in the COBOL copybooks.</p>
</li>
<li>
<p>Ignore first 6 columns: Ignore the first six columns in the COBOL copybooks.</p>
</li>
<li>
<p>Prefix nested column: Prefix all nested columns with the previous level heading.</p>
</li>
<li>
<p>Replace hyphens (-) in record and field names with underscores (_): A hyphen, which is an invalid character in Oracle metadata, is replaced with an underscore.</p>
</li>
<li>
<p>Case sensitive: Specifies whether to consider case sensitivity or not.</p>
</li>
<li>
<p>Find: Searches for the specified value.</p>
</li>
<li>
<p>Replace with: Replaces the value specified for in the Find field with the value specified here.</p>
</li>
</ul>
<p>The following DBD filters are available:</p>
<ul>
<li>
<p>Ignore after column 72: Ignore columns 73 to 80 in the COBOL copybooks.</p>
</li>
<li>
<p>Ignore first 6 columns: Ignore the first six columns in the COBOL copybooks.</p>
</li>
<li>
<p>Ignore labels: Ignore labels in the DBD files.</p>
</li>
</ul>
<p>The following PSB filters are available:</p>
<ul>
<li>
<p>Ignore after column 72: Ignore columns 73 to 80 in the COBOL copybooks.</p>
</li>
<li>
<p>Ignore first 6 columns: Ignore the first six columns in the COBOL copybooks.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Next</span> to go to the <a href="#BABDGEHD">Select Tables</a> task.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABDGEHD"></a>
<div id="IVACW273" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Select Tables<a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a><a id="sthref262"></a></h3>
<p>This section describes the steps required to select the tables from the COBOL Copybooks.</p>
<p>The following task continues the <a href="#BABCEIEF">Apply Filters</a> task.</p>
<ol>
<li>
<p>From the Select Tables screen, select the tables that you want to access. To select all tables, click <span class="bold">Select All</span>. To clear all the selected tables, click <span class="bold">Unselect All</span>.</p>
<p><a href="#BEIGIGHE">Figure 5-8</a> shows the Select Tables screen.</p>
<div id="IVACW274" class="figure">
<p class="titleinfigure"><a id="BEIGIGHE"></a>Figure 5-8 Select Tables Screen</p>
<img width="526" height="493" src="img/imsdb_4.gif" alt="Select Tables Screen" /><br />
<a id="sthref263" href="img_text/imsdb_4.htm">Description of "Figure 5-8 Select Tables Screen"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The import manager identifies the names of the segments in the DBD files that will be imported as tables.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> to continue to the <a href="#BABICEAB">Match DBD to COBOL</a> task.</p>
<p>The Import Manipulation screen open.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABICEAB"></a>
<div id="IVACW275" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Match DBD to COBOL<a id="sthref264"></a><a id="sthref265"></a><a id="sthref266"></a></h3>
<p>This step lets you match the DBD file to your COBOL copybook. It is a continuation of the <a href="#BABDGEHD">Select Tables</a> task. <a href="#BEICBGEE">Figure 5-9</a> shows the DBD to COBOL task that is displayed in the Editor.</p>
<div id="IVACW276" class="figure">
<p class="titleinfigure"><a id="BEICBGEE"></a>Figure 5-9 Match DBD to COBOL Screen</p>
<img width="536" height="503" src="img/imsdb_5.gif" alt="Matching DBD files to COBOL copybooks" /><br />
<a id="sthref267" href="img_text/imsdb_5.htm">Description of "Figure 5-9 Match DBD to COBOL Screen"</a><br />
<br /></div>
<!-- class="figure" -->
<ol>
<li>
<p>Match each table selected from the DBD file with the COBOL copybook that contains the relevant table structure. Select the files and tables from the lists for each DBD entry.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> to continue to the <a href="#BABDIJBC">Manipulate the Imported Records</a> task.</p>
<p>The Import Manipulation screen opens.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABDIJBC"></a>
<div id="IVACW277" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Manipulate the Imported Records<a id="sthref268"></a><a id="sthref269"></a><a id="sthref270"></a><a id="sthref271"></a><a id="sthref272"></a></h3>
<p>If required, you can now manipulate the imported records. This is an optional task.</p>
<p>This section describes the operations available for manipulating the imported records (tables). It continues the <a href="#BABDGEHD">Select Tables</a> task.</p>
<p>The import manager identifies the names of the records in the DDM Declaration files that will be imported as tables. You can manipulate the general table data in the <a href="#BABDBJDH">Import Manipulation Screen</a>.</p>
<p>Repeat the following step for all table records marked with a validation error. You resolve the issues in the <a href="#BABDBJDH">Import Manipulation Screen</a>.</p>
<ol>
<li>
<p>From the Import Manipulation screen (see <a href="#BABDBJDH">Import Manipulation Screen</a> figure), right-click the table record marked with a validation error, and select the relevant operation. See <a href="#BABDGCBG">Table 5-1, "Field Manipulation Options"</a>, for the available operations.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> to continue to the <a href="#BABDEJBC">Select the Metadata Model</a> task.</p>
</li>
</ol>
<p class="subhead2"><a id="BABDBJDH"></a><a id="IVACW278"></a>Import Manipulation Screen</p>
<p><a href="#BEIBBIIA">Figure 5-10</a> shows the Import Manipulation screen.</p>
<div id="IVACW279" class="figure">
<p class="titleinfigure"><a id="BEIBBIIA"></a>Figure 5-10 Import Manipulation Screen</p>
<img width="536" height="503" src="img/imsdb_6.gif" alt="Import Manipulation Screen" /><br />
<a id="sthref273" href="img_text/imsdb_6.htm">Description of "Figure 5-10 Import Manipulation Screen"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The upper area of the screen lists the DDM Declaration files and their validation status. The metadata source and location are also listed.</p>
<p>The <span class="bold">Validation</span> tab at the lower area of the screen displays information about what needs to be resolved in order to validate the tables and fields generated from the COBOL. The <span class="bold">Log</span> tab displays a log of what has been performed (such as renaming a table or specifying a data location).</p>
<p>The following operations are available in the Import Manipulation screen:</p>
<ul>
<li>
<p>Resolving table names, where tables with the same name are generated from different files during the import.</p>
</li>
<li>
<p>Selecting the physical location for the data.</p>
</li>
<li>
<p>Selecting table attributes.</p>
</li>
<li>
<p>Manipulating the fields generated from the COBOL, as follows:</p>
<ul>
<li>
<p>Merging sequential fields into one (for simple fields).</p>
</li>
<li>
<p>Resolving variants by either marking a selector field or specifying that only one case of the variant is relevant.</p>
</li>
<li>
<p>Adding, deleting, hiding, or renaming fields.</p>
</li>
<li>
<p>Changing a data type.</p>
</li>
<li>
<p>Setting the field size and scale.</p>
</li>
<li>
<p>Changing the order of the fields.</p>
</li>
<li>
<p>Setting a field as nullable.</p>
</li>
<li>
<p>Selecting a counter field for the dimension of an array field. You can select the array counter field from a list of potential fields.</p>
</li>
<li>
<p>Setting column-wise normalization for fields with dimensions (arrays). You can create new fields instead of the array field where the number of generated fields will be determined by the array dimension.</p>
</li>
<li>
<p>Creating arrays and setting the array dimension.</p>
</li>
</ul>
</li>
</ul>
<p><a href="#BABDGCBG">Table 5-1</a> describes the available operations when you right-click a table entry.</p>
<div id="IVACW280" class="tblformal">
<p class="titleintable"><a id="sthref274"></a><a id="BABDGCBG"></a>Table 5-1 Field Manipulation Options</p>
<table class="cellalignment264" title="Field Manipulation Options" summary="This table lists and describes the table manipulation options" dir="ltr">
<thead>
<tr class="cellalignment258">
<th class="cellalignment265" id="r1c1-t5">Option</th>
<th class="cellalignment265" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment258">
<td class="cellalignment266" id="r2c1-t5" headers="r1c1-t5">
<p>Fields Manipulation</p>
</td>
<td class="cellalignment266" headers="r2c1-t5 r1c2-t5">
<p>Customizes the field definitions, using the Field Manipulation screen. You can also access this screen by double-clicking the required table record.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r3c1-t5" headers="r1c1-t5">
<p>Rename</p>
</td>
<td class="cellalignment266" headers="r3c1-t5 r1c2-t5">
<p>Renames a table. This option is used especially when more than one table with the same name is generated from the COBOL.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r4c1-t5" headers="r1c1-t5">
<p>Set data location</p>
</td>
<td class="cellalignment266" headers="r4c1-t5 r1c2-t5">
<p>Sets the physical location of the data file for the table.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r5c1-t5" headers="r1c1-t5">
<p>Set table attributes</p>
</td>
<td class="cellalignment266" headers="r5c1-t5 r1c2-t5">
<p>Sets the table attributes.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r6c1-t5" headers="r1c1-t5">
<p>XSL manipulation</p>
</td>
<td class="cellalignment266" headers="r6c1-t5 r1c2-t5">
<p>Specifies an XSL transformation or JDOM document that is used to transform the table definitions.</p>
</td>
</tr>
<tr class="cellalignment258">
<td class="cellalignment266" id="r7c1-t5" headers="r1c1-t5">
<p>Remove</p>
</td>
<td class="cellalignment266" headers="r7c1-t5 r1c2-t5">
<p>Removes the table record.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>You can manipulate the data in the table fields in the <a href="#BABCDBBI">Field Manipulation Screen</a>. Double-click a line in the Import Manipulation Screen to open the Field Manipulation screen.</p>
<p class="subhead2"><a id="BABCDBBI"></a><a id="IVACW281"></a>Field Manipulation Screen</p>
<p>The Field Manipulation screen lets you make changes to fields in a selected table. You get to the Field Manipulation screen through the <a href="#BABDBJDH">Import Manipulation Screen</a>. <a href="#CHDDCJFI">Figure 5-11</a> shows the Field Manipulation screen.</p>
<div id="IVACW282" class="figure">
<p class="titleinfigure"><a id="CHDDCJFI"></a>Figure 5-11 Field Manipulation Screen</p>
<img width="672" height="474" src="img/import_fldmanipul.gif" alt="Field Manipulation Screen" /><br />
<a id="sthref275" href="img_text/import_fldmanipul.htm">Description of "Figure 5-11 Field Manipulation Screen"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The values displayed in the table on the Field Manipulation screen are calculated by the import process.</p>
<p>You can use the Primary Key Column column to define the primary key of the table and of the virtual views created for the table's arrays. When you select the Primary Key Column check box of array members, these columns form the primary key of the virtual view, together with the selected primary key columns of the parent.</p>
<p>You can carry out all of the available tasks in this screen through the menu or toolbar. You can also right click anywhere in the screen and select any of the options available in the main menus from a shortcut menu.</p>
<p>See <a href="vsamdata_access.htm#BABIACCG">Field Manipulation Screen Commands</a> describes the commands that are available in the Field Manipulation screen. If a toolbar button is available for a task, it is pictured in the table.</p>
</div>
<!-- class="sect2" -->
<a id="BABDEJBC"></a>
<div id="IVACW283" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Select the Metadata Model<a id="sthref276"></a><a id="sthref277"></a><a id="sthref278"></a></h3>
<p>This screen allows you to generate virtual and sequential views for tables containing arrays. In addition, you can configure the properties of the generated views.</p>
<p>This screen continues the <a href="#BABDIJBC">Manipulate the Imported Records</a> procedure.</p>
<p>In the Metadata Model Selection screen, you can select default values that apply to all tables or set specific settings per table. This screen inherits its default settings from the settings that you defined for the virtual view policy when you configure the data source properties (see <a href="#BABBAHBH">Configuring the IMS/DB DLI Data Source Properties</a>, <a href="#BGBIJDFI">Configure the IMS/DB DBCTL Data Source Properties</a>, or <a href="#BABBDACD">Configure the IMS/DB DBDC Data Source Properties</a>).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Selecting the <span class="bold">Default values for all tables</span> check box discards any table-specific settings that you set.</div>
<p>Perform the following steps to select the metadata model.</p>
<ol>
<li>
<p>Select from the following:</p>
<ul>
<li>
<p><span class="bold">Default values for all tables</span>: Select this option if you want to apply the same values to all tables to be imported.</p>
<ul>
<li>
<p><span class="bold">Generate sequential view</span>: Select this option if you want to map a non-relational file to a single table.</p>
</li>
<li>
<p><span class="bold">Generate virtual views</span>: Select this option if you want to have an individual table created for every array in the non-relational file.</p>
</li>
<li>
<p><span class="bold">Virtual views include row number</span>: Select this option if you want to include a column that specifies the row number in the virtual or sequential view.</p>
</li>
<li>
<p><span class="bold">Virtual views inherit all parent columns</span>: Select this option if you want the virtual views to include all the columns of the parent record.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Specific virtual array view settings per table</span>: Select this option if you want to apply different values to the tables to be imported. Then select the relevant check boxes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
After importing a table, you can change these settings on the <span class="bold">Modeling</span> tab of the table editor.</div>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Next</span> to continue to the <a href="#BABCJEID">Import the Metadata</a> task.</p>
</li>
</ol>
<p><a href="#CHDDIADF">Figure 5-12</a> shows the Metadata Model Selection screen.</p>
<div id="IVACW284" class="figure">
<p class="titleinfigure"><a id="CHDDIADF"></a>Figure 5-12 Metadata Model Selection Screen</p>
<img width="708" height="530" src="img/vsam_metamod.gif" alt="The image shows the Metadata Model Selection screen." /><br />
<a id="sthref279" href="img_text/vsam_metamod.htm">Description of "Figure 5-12 Metadata Model Selection Screen"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<a id="BABCJEID"></a>
<div id="IVACW285" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Import the Metadata<a id="sthref280"></a><a id="sthref281"></a><a id="sthref282"></a></h3>
<p>This section describes the steps required to import the metadata to the target computer. It continues the <a href="#BABDEJBC">Select the Metadata Model</a> step.</p>
<p>You can now import the metadata to the computer where the data source is located, or import it later (in case the target computer is not available).</p>
<p>Perform the following steps to transfer the metadata.</p>
<ol>
<li>
<p>Select <span class="bold">Yes</span> to transfer the metadata to the target computer immediately or <span class="bold">No</span> to transfer the metadata later.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
<p><a href="#BABIAFHH">Figure 5-13</a> shows the Import Metadata screen.</p>
<div id="IVACW286" class="figure">
<p class="titleinfigure"><a id="BABIAFHH"></a>Figure 5-13 Import Metadata Screen</p>
<img width="528" height="438" src="img/vsamcx_8.gif" alt="Import Metadata Screen" /><br />
<a id="sthref283" href="img_text/vsamcx_8.htm">Description of "Figure 5-13 Import Metadata Screen"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment257">
<tr>
<td class="cellalignment266">
<table class="cellalignment262">
<tr>
<td class="cellalignment261"><a href="part_ims.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment261"><a href="inst_tgw_ims.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment268">
<table class="cellalignment260">
<tr>
<td class="cellalignment261"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment261"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment261"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment261"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment261"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment261"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
