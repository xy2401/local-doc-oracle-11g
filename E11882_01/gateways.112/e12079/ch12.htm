<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Migration from Existing Gateways</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.1 Build 008" />
<meta name="dcterms.created" content="2010-02-22T15:5:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide" />
<meta name="dcterms.identifier" content="E12079-02" />
<meta name="dcterms.isVersionOf" content="APPCW" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="ch11.htm" title="Previous" type="text/html" />
<link rel="Next" href="apa.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e12079.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/21</span> <!-- End Header --><a id="g36561"></a><a id="APPCW247"></a>
<h1 class="chapter"><span class="secnum">11</span> Migration from Existing Gateways</h1>
<p>Migrating to new instances of the Oracle Database Gateway for APPC from an existing installation is straightforward, provided you follow some guidelines. This chapter provides information to make these new installations as easy as possible. It also provides the parameters you will need if you are using the TCP/IP for IMS Connect communication protocol on your gateway.</p>
<p>This chapter provides information that is specific to this release of the Oracle Database Gateway for APPC for Microsoft Windows. It contains the following sections:</p>
<ul>
<li>
<p><a href="#i33501">Migrating an Existing Gateway Instance to New Release Using SNA Protocol</a></p>
</li>
<li>
<p><a href="#i33738">Migrating from an Existing Gateway Using SNA to TCP/IP</a></p>
</li>
</ul>
<a id="i33501"></a><a id="APPCW248"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">11.1</span> Migrating an Existing Gateway Instance to New Release Using SNA <a id="sthref1035"></a><a id="sthref1036"></a><a id="sthref1037"></a>Protocol</h2>
<p>Follow these steps to migrate an existing gateway to Release 11.2 of the gateway using the SNA communication protocol.</p>
<p>Note that if you are using the gateway's <a id="sthref1038"></a><a id="sthref1039"></a>TCP/IP support for IMS Connect, you will not be migrating an existing release to the current release of the gateway. However, you will need to place valid Heterogeneous Services parameters into your <a id="sthref1040"></a>init<span class="italic">sid</span>.ora file. Proceed to <a href="#i32773">"Parameter Changes: Version 4 to Release 11.2 of the Gateway"</a>.</p>
<a id="APPCW249"></a>
<div class="sect2"><a id="sthref1041"></a>
<h3 class="sect2"><span class="secnum">11.1.1</span> Step&nbsp;1:&nbsp;Install the New Release</h3>
<p>Install the new release of the gateway in a separate directory as outlined in <a href="ch4.htm#g1038189">Chapter 4, "Installing the Gateway"</a>.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do not install the gateway over an existing gateway installation. Doing so will corrupt the existing installation.</div>
</div>
<!-- class="sect2" -->
<a id="APPCW250"></a>
<div class="sect2"><a id="sthref1042"></a>
<h3 class="sect2"><span class="secnum">11.1.2</span> Step&nbsp;2:&nbsp;<a id="sthref1043"></a>Transfer <span class="bold">init<span class="italic">sid</span>.ora</span> Gateway Initialization File Parameters</h3>
<p>Copy the <a id="sthref1044"></a><a id="sthref1045"></a><code>init<span class="italic">sid</span>.ora</code> file from the old gateway instance to the new instance.</p>
<p>Note that if you are migrating from Release 9.0.1 or earlier of the gateway, then <code>PGA_TRACE</code> is not supported, you will need to modify the parameter to <code>TRACE_LEVEL</code>, instead.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are using <code>TRACE_LEVEL</code>, then you must set the path for the <a id="sthref1046"></a><code>LOG_DESTINATION</code> parameter.</div>
</div>
<!-- class="sect2" -->
<a id="i26493"></a><a id="APPCW251"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">11.1.3</span> Backout<a id="sthref1047"></a><a id="sthref1048"></a> Considerations When Migrating to New Releases</h3>
<p>Oracle recommends that you keep the old gateway Oracle home directory and instance configurations intact and operational when you are installing a new release of the gateway and upgrading existing instances, in case there are problems with the upgrade. This will help ensure minimal downtime between changes to different gateway instances.</p>
</div>
<!-- class="sect2" -->
<a id="APPCW252"></a>
<div class="sect2"><a id="sthref1049"></a>
<h3 class="sect2"><span class="secnum">11.1.4</span> <a id="sthref1050"></a>Oracle Net Considerations</h3>
<p>The Oracle Database Gateway for APPC uses the <a id="sthref1051"></a><a id="sthref1052"></a>Heterogeneous Services (HS) facilities of Oracle and Oracle Net. If you are upgrading from a version 4 gateway, then you need to slightly modify the gateway service name entries in the <a id="sthref1053"></a><code>tnsnames.ora</code> file. Add an <code>(HS=)</code> clause to communicate to Oracle Net that the gateway uses HS facilities. For more information, refer to <a href="ch5.htm#i1016582">"Configuring the Oracle Network for the Gateway"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="i32773"></a><a id="APPCW253"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">11.1.5</span> Parameter Changes:<a id="sthref1054"></a><a id="sthref1055"></a><a id="sthref1056"></a> Version 4 to Release 11.2 of the Gateway</h3>
<p>This release of the Oracle Database Gateway for APPC introduces new and changed initialization parameters if you are migrating from version 4 gateway to release 11.2 of the gateway.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This section does not apply to you if you are migrating to release 11.2 from version 8 of the Oracle Database Gateway for APPC.</div>
<p><a id="sthref1057"></a><a id="sthref1058"></a>If you are using the gateway's <a id="sthref1059"></a><a id="sthref1060"></a>TCP/IP support for IMS Connect, then you will not be migrating from version&nbsp;4 to the current release of the gateway. However, you will need to place valid Heterogeneous Services parameters into your <a id="sthref1061"></a><code>init<span class="italic">sid</span>.ora</code> file.</p>
<p>This chapter contains references to the particular HS parameters you need to run the gateway.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Refer to the <a class="olink HETER" href="../../server.112/e11050/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for a complete list and descriptions of all HS parameters used in Oracle products.</div>
<p class="subhead1"><a id="APPCW324"></a>New <a id="sthref1062"></a><a id="sthref1063"></a><a id="sthref1064"></a>Gateway Initialization Parameters</p>
<p>The following parameters are in the gateway initialization file (<a id="sthref1065"></a><a id="sthref1066"></a><code>init<span class="italic">sid</span>.ora</code>):</p>
<ul>
<li>
<p><a id="sthref1067"></a><a id="sthref1068"></a><code>FDS_CLASS</code></p>
</li>
<li>
<p><a id="sthref1069"></a><a id="sthref1070"></a><code>FDS_INSTANCE</code></p>
</li>
<li>
<p><a id="sthref1071"></a><code>HS_FDS_FETCH_ROWS</code></p>
</li>
<li>
<p><a id="sthref1072"></a><code>LOG_DESTINATION</code></p>
</li>
<li>
<p><a id="sthref1073"></a><code>TRACE_LEVEL</code></p>
</li>
<li>
<p><a id="sthref1074"></a><code>PGA_TCP_DB</code> (TCP/IP only)</p>
</li>
<li>
<p><a id="sthref1075"></a><code>PGA_TCP_USER</code> (TCP/IP only)</p>
</li>
<li>
<p><a id="sthref1076"></a><code>PGA_TCP_PASS</code> (TCP/IP only)</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code>HS_</code> parameters are specific to <a id="sthref1077"></a>Oracle Heterogeneous Services. For details on <a id="sthref1078"></a>HS parameters, refer to the <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a>.</div>
</li>
</ul>
<p class="subhead1"><a id="APPCW325"></a>Renamed Gateway Initialization File Parameters</p>
<p>Following is a list of the <a id="sthref1079"></a><a id="sthref1080"></a>gateway initialization file (<a id="sthref1081"></a><a id="sthref1082"></a>init<span class="italic">sid</span>.ora) parameters that have been renamed in this release of the gateway, the parameters' former names are shown in parentheses.</p>
<ul>
<li>
<p><a id="sthref1083"></a><code>HS_COMMIT_STRENGTH_POINT</code> (<code>COMMIT_STRENGTH_POINT</code>)</p>
</li>
<li>
<p><a id="sthref1084"></a><code>HS_DB_DOMAIN</code> ( <code>DB_DOMAIN</code>)</p>
</li>
<li>
<p><a id="sthref1085"></a><code>HS_DB_INTERNAL_NAME</code> (<code>DB_INTERNAL_NAME</code>)</p>
</li>
<li>
<p><a id="sthref1086"></a><code>HS_DB_NAME</code> (<code>DB_NAME</code>)</p>
</li>
<li>
<p><a id="sthref1087"></a><code>HS_DESCRIBE_CACHE_HWM</code> (<code>DESCRIBE_CACHE_HWM</code>)</p>
</li>
<li>
<p><a id="sthref1088"></a><code>HS_LANGUAGE</code> (<code>LANGUAGE</code>)</p>
</li>
<li>
<p><a id="sthref1089"></a><code>HS_NLS_DATE_FORMAT</code> (<code>NLS_DATE_FORMAT</code>)</p>
</li>
<li>
<p><a id="sthref1090"></a><code>HS_NLS_DATE_LANGUAGE</code> (<code>NLS_DATE_LANGUAGE</code>)</p>
</li>
<li>
<p><a id="sthref1091"></a><code>HS_OPEN_CURSORS</code> (<code>OPEN_CURSORS</code>)</p>
</li>
<li>
<p><a id="sthref1092"></a><code>HS_ROWID_CACHE_SIZE</code> (<code>ROWID_CACHE_SIZE</code>)</p>
</li>
</ul>
<p class="subhead1"><a id="APPCW326"></a>Obsolete Parameters</p>
<p>The following <a id="sthref1093"></a>parameters are now <a id="sthref1094"></a><a id="sthref1095"></a>obsolete. Please remove them from your configuration files:</p>
<ul>
<li>
<p><code>MODE</code></p>
</li>
<li>
<p><code>SERVER_PATH</code></p>
</li>
<li>
<p><code>ERROR_LOGGING</code></p>
</li>
<li>
<p><code>ERROR_REPORTING</code></p>
</li>
<li>
<p><code>ERRORTAG</code></p>
</li>
<li>
<p><code>GATEWAY_SID</code></p>
</li>
<li>
<p><code>GROUP_BY_OFF</code></p>
</li>
<li>
<p><code>GTWDEBUG</code></p>
</li>
<li>
<p><code>INCREMENT_CURSORS</code></p>
</li>
<li>
<p><code>INIT_CURSORS</code></p>
</li>
<li>
<p><code>LIST</code></p>
</li>
<li>
<p><code>MAX_LOG_SIZE</code></p>
</li>
<li>
<p><code>OPTIMIZE_FILE_OPEN</code></p>
</li>
<li>
<p><code>ORDER_BY_OFF</code></p>
</li>
<li>
<p><code>RESOLVE_BINDS</code></p>
</li>
<li>
<p><code>RETRY</code></p>
</li>
<li>
<p><code>SET</code></p>
</li>
<li>
<p><code>SNMP_SUPPORT</code></p>
</li>
<li>
<p><code>SQL_TRACE</code></p>
</li>
<li>
<p><code>TRIM_CURSORS</code></p>
</li>
<li>
<p><code>D_OPEN_CURSORS</code></p>
</li>
<li>
<p><code>D_INIT_CURSORS</code></p>
</li>
<li>
<p><code>D_INCREMENT_CURSORS</code></p>
</li>
<li>
<p><code>D_TRIM_CURSORS</code></p>
</li>
<li>
<p><code>PGA_TRACE</code></p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="i29021"></a><a id="APPCW254"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">11.1.6</span> Parameter Changes: Version 8 or Earlier to Gateway Release 11.2</h3>
<p>The following startup shell script parameter must be added to <span class="bold"><a id="sthref1096"></a><a id="sthref1097"></a></span>init<span class="italic">sid</span>.ora if you are migrating from version&nbsp;4 or version&nbsp;8 gateway to the current release of the Oracle Database Gateway for APPC:</p>
<ul>
<li>
<p><a id="sthref1098"></a><a id="sthref1099"></a><a id="sthref1100"></a><code>FDS_CLASS_VERSION</code></p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="APPCW255"></a>
<div class="sect2"><a id="sthref1101"></a>
<h3 class="sect2"><span class="secnum">11.1.7</span> Migrating from Gateway Release 9.0.1 or 9.2.0 to Gateway Release 11.2</h3>
<p>No new parameters were added between release 9.0.1 and this release of the gateway.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i33738"></a><a id="APPCW256"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">11.2</span> Migrating from an Existing Gateway Using <a id="sthref1102"></a><a id="sthref1103"></a>SNA to TCP/IP</h2>
<p>The following sections are for users who have an existing release of the gateway using the SNA protocol but who wish to switch to using TCP/IP support for IMS Connect.</p>
<p>The TCP/IP support for IMS Connect feature in this release of the gateway allows you to continue to use existing TIPs.</p>
<a id="APPCW257"></a>
<div class="sect2"><a id="sthref1104"></a>
<h3 class="sect2"><span class="secnum">11.2.1</span> To Use Existing TIPs with Existing Side Profile Definitions</h3>
<p>Follow these instructions:</p>
<ol>
<li>
<p>Make sure you have used the <a id="sthref1105"></a><code>pg4tcpmap</code> tool to insert valid parameter values into the<a id="sthref1106"></a> <a id="sthref1107"></a><code>PGA_TCP_IMSC</code> table.</p>
<p>Refer to <a href="ch10.htm#g1023426">Chapter 9, "Gateway Configuration Using TCP/IP Communication Protocol"</a> for instructions on loading the <code>PGA_TCP_IMSC</code> table.</p>
</li>
<li>
<p>Make sure that the <code>LANGUAGE</code> parameter in your TIPs is set to <a id="sthref1108"></a><code>american_america_us7ascii</code>.</p>
</li>
<li>
<p>Use PGAU to regenerate the IMS TIPs.</p>
</li>
<li>
<p>Add the following new TCP/IP parameters to the init<span class="italic">sid</span>.ora file:</p>
<ul>
<li>
<p><code>PGA_TCP_DB</code></p>
</li>
<li>
<p><code>PGA_TCP_USER</code></p>
</li>
<li>
<p><code>PGA_TCP_PASS</code></p>
</li>
</ul>
<p>You will find descriptions and information about adding these parameters in <a href="#i32773">Section 11.1.5, "Parameter Changes: Version 4 to Release 11.2 of the Gateway"</a>. You will also find descriptions of the parameters in <a href="apb.htm#g635076">Appendix B, "Gateway Initialization Parameters for TCP/IP Communication Protocol"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your TIPs from a previous version of the gateway were already defined using a side profile name and the <code>NLS_</code><code>LANGUAGE</code> parameter has been set to a value of <a id="sthref1109"></a><code>american_america_us7ascii</code>, then you will not need to recompile these TIPs. You will still need to map your parameter values using the pg4tcpmap tool.</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
TIPS must be recompiled when changing the communication protocol from SNA to TCP/IP.
<p>If you have existing TIPs that were generated previously on a gateway using the SNA protocol and you want to use the new TCP/IP feature, then the TIPs will have to be regenerated by PGAU with mandatory <code>NLS_LANGUAGE</code> and Side Profile Settings. Specify the suitable ASCII character set in the <code>DEFINE TRANSACTION</code> command.</p>
<p>This is due to the fact that the gateway assumes that the suitable user exit in IMS Connect is being used, which would translate between the suitable ASCII and EBCDIC character sets.</p>
</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment182">
<tr>
<td class="cellalignment191">
<table class="cellalignment187">
<tr>
<td class="cellalignment186"><a href="ch11.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment186"><a href="apa.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment193">
<table class="cellalignment185">
<tr>
<td class="cellalignment186"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment186"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment186"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment186"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment186"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment186"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
