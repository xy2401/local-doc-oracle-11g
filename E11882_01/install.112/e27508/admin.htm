<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Administering Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060" />
<meta name="dcterms.created" content="2015-07-23T2:44:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E27508-04" />
<meta name="dcterms.isVersionOf" content="DFSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="creating_database.htm" title="Previous" type="text/html" />
<link rel="Next" href="backup.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e27508.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/24</span> <!-- End Header -->
<div id="DFSIG197" class="chapter"><a id="CACJEAHD"></a>
<h1 class="chapter"><span class="secnum">5</span> Administering Oracle Database</h1>
<p>This chapter describes how <a id="sthref55"></a><a id="sthref56"></a><a id="sthref57"></a><a id="sthref58"></a>to <a id="sthref59"></a>administer Oracle Database 11<span class="italic">g</span> Release 2 for BS2000/OSD.</p>
<p>Common administration tasks are described in the following sections:</p>
<ul>
<li>
<p><a href="#CACFDADA">Using the SQL*Plus Utility</a></p>
</li>
<li>
<p><a href="#CACGEHJD">Startup and Parameter Files</a></p>
</li>
<li>
<p><a href="#CACBGIBH">Remote Startup of a Database Instance</a></p>
</li>
<li>
<p><a href="#CHDEAIHB">Automatic Diagnostic Repository</a></p>
</li>
<li>
<p><a href="#CACJCIIA">Checking the Integrity of the Physical Data Structure</a></p>
</li>
</ul>
<a id="CACFDADA"></a>
<div id="DFSIG198" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.1</span> Using the SQL*Plus Utility</h2>
<p>The following topics are described in this section:</p>
<ul>
<li>
<p><a href="#CACCIDDG">Starting the SQL*Plus Utility in BS2000</a></p>
</li>
<li>
<p><a href="#CACBHGJD">Calling SQL*Plus from a Procedure</a></p>
</li>
<li>
<p><a href="#CHDIDIED">Using SQL*Plus in the POSIX shell</a></p>
</li>
<li>
<p><a href="#CACICDIF">Running System Commands from SQL*Plus</a></p>
</li>
<li>
<p><a href="#CHDBGFAH">Using an Editor in SQL*Plus</a></p>
</li>
<li>
<p><a href="#CACBJHAD">Customizing SQL*Plus Profiles</a></p>
</li>
</ul>
<a id="CACCIDDG"></a>
<div id="DFSIG199" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.1</span> Starting the SQL*Plus Utility<a id="sthref60"></a><a id="sthref61"></a><a id="sthref62"></a> in BS2000</h3>
<p>To start SQL*Plus, enter the following:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.SQLPLUS
</pre>
<p>When you are prompted for parameters, enter <code dir="ltr">/NOLOG</code>:</p>
<pre dir="ltr">
* /NOLOG
</pre>
<p>This prevents SQL*Plus from prompting you for user name and password. Later you can explicitly connect to the database. For example:</p>
<pre dir="ltr">
SQL&gt; CONNECT / AS SYSDBA
</pre>
<p>For more ways to start SQL*Plus, refer to "Running SQL*Plus" in <a class="olink DFSUG137" href="../../server.112/e27507/sqlplus.htm#DFSUG137"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="CACBHGJD"></a>
<div id="DFSIG200" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.2</span> Calling SQL*Plus from a Procedure<a id="sthref63"></a></h3>
<p>Set Task Switch 1 to on (<code dir="ltr">/MODIFY-JOB-SWITCHES ON=1</code>). This forces SQL*Plus to read in data from the procedure, rather than prompt you at the terminal.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIDIED"></a>
<div id="DFSIG511" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.3</span> Using SQL*Plus in the POSIX shell</h3>
<p>Before starting SQL*Plus in the POSIX shell, you must set the environment variable <code dir="ltr">ORACLE_HOME</code> and extend the POSIX variable PATH by the path to the Oracle <code dir="ltr">bin</code> directory <code dir="ltr">$ORACLE_HOME/bin</code>. For example:</p>
<pre dir="ltr">
$ ORACLE_HOME=/u01/app/orac1120/product/dbhome_1
$ export ORACLE_HOME
$ PATH=$ORACLE_HOME/bin:$PATH
$ export PATH
</pre>
<p>Alternatively, you can process the profile <code dir="ltr">oracle_home_path/.profile.oracle</code>, which is created during the installation of the Oracle software under POSIX. This profile sets and expands the most important variables like <code dir="ltr">ORACLE_HOME</code> and <code dir="ltr">PATH</code>. Process the profile as follows:</p>
<pre dir="ltr">
$ . /u01/app/orac1120/product/dbhome_1/.profile.oracle
</pre>
<p>If you want to start SQL*Plus for a specific Oracle instance, then you must also set the variable <code dir="ltr">ORACLE_SID</code>. For starting an Oracle server process, the BS2000 variable <code dir="ltr">BGJPAR</code> is required. This variable is not set by running <code dir="ltr">.profile.oracle</code>.</p>
<p>If you want to start a background job with special job parameters, for example, a job should be assigned to a special <code dir="ltr">JOB-CLASS</code>, then ensure that the variable <code dir="ltr">BGJPAR</code> is set in your environment.</p>
<pre dir="ltr">
$ ORACLE_SID=orcl
$ export ORACLE_SID
$ BGJPAR='START=SOON,CPU-LIMIT=NO,J-C=JCBORA,LOGGING=*NO'
$ export BGJPAR
</pre>
<p>You can start SQL*Plus in the same way as on other UNIX systems with the following command:</p>
<pre dir="ltr">
$ sqlplus /nolog
$ SQL&gt; connect / as sysdba
</pre></div>
<!-- class="sect2" -->
<a id="CACICDIF"></a>
<div id="DFSIG201" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.4</span> Running System Commands from SQL*Plus<a id="sthref64"></a><a id="sthref65"></a></h3>
<p>The SQL*Plus HOST command enables you to enter a BS2000 command, while you are logged on to SQL*Plus.</p>
<p>Keep the following points in mind when using the <code dir="ltr">HOST</code> command:</p>
<ul>
<li>
<p>If you enter the <code dir="ltr">HOST</code> command without any BS2000 command, then it takes you to the command level. To return to SQL*Plus, you must use the <code dir="ltr">RESUME</code> command in BS2000 or the <code dir="ltr">exit</code> command in the POSIX subshell.</p>
</li>
<li>
<p>If you enter the <code dir="ltr">HOST</code> command with a system command in the BS2000 environment, then you can only run BS2000 commands. In the POSIX shell, you can run shell commands and BS2000 commands by using the shell command <code dir="ltr">bs2cmd</code>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDBGFAH"></a>
<div id="DFSIG512" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.5</span> Using an Editor in SQL*Plus</h3>
<p>Start a text editor in SQL*Plus with the <code dir="ltr">EDIT</code> command, if you want to edit an SQL statement.</p>
<p>If you run SQL*Plus in the <span class="italic">native</span> BS2000 environment, then the only editor supported is BS2000 <code dir="ltr">EDT</code>.</p>
<p>If you run SQL*Plus in a POSIX shell, then the default editor depends on the terminal connected with your POSIX session. If the POSIX shell is started on a blockmode terminal, then the default editor in SQL*Plus is set to <code dir="ltr">edtu</code>. If the POSIX shell is started by a remote X-client through <code dir="ltr">rlogin</code> or <code dir="ltr">ssh</code> using a xterm terminal, then the default editor in SQL*Plus is set to <code dir="ltr">vi</code>.</p>
<p>Using SQL*Plus, you can define a preferred text editor with the <code dir="ltr">DEFINE _EDITOR</code> command. In the BS2000 environment, SQL*Plus accepts any editor you specify in the <code dir="ltr">DEFINE _EDITOR</code> command, but the called editor is always the <code dir="ltr">EDT</code>. In the POSIX environment you can define a preferred editor. For example, if you want to define the editor, used by the <code dir="ltr">EDIT</code> command, to be the POSIX editor <code dir="ltr">edtu</code>, then enter the following command in SQL*Plus:</p>
<pre dir="ltr">
DEFINE _EDITOR = edtu
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>The editor in the BS2000 environment is always the <code dir="ltr">EDT</code>.</p>
</li>
<li>
<p>The editor <code dir="ltr">vi</code> does not work on blockmode terminals.</p>
</li>
<li>
<p>The editor <code dir="ltr">edtu</code> does not work on xterm terminals.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACBJHAD"></a>
<div id="DFSIG209" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.6</span> Customizing SQL*Plus Profiles</h3>
<p>The DBA can update the global SQL*Plus profile file, <code dir="ltr">$ORAC1120.SQLPLUS.ADMIN.<a id="sthref66"></a>GLOGIN.SQL</code>, which is run when a user logs in to SQL*Plus. This file is run before the user's local<a id="sthref67"></a> <code dir="ltr">LOGIN.SQL</code> and is provided to enable sites to set up several defaults useful to all users. You can place any SQL and SQL*Plus statement in <code dir="ltr">GLOGIN.SQL</code>.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a class="olink SQPUG" href="../../server.112/e16604/toc.htm"><span class="italic">SQL*Plus User's Guide and Reference</span></a> for more information about customizing SQL*PLUS profiles</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACGEHJD"></a>
<div id="DFSIG202" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Startup and Parameter Files<a id="sthref68"></a></h2>
<p>Oracle uses two parameter files when starting the database:</p>
<ol>
<li>
<p>The <code dir="ltr">ORAENV</code> file, the environment definition file, which contains BS2000-specific information. In the <code dir="ltr">ORAENV</code> file you identify the database to be started, or shut down. You can use this file to set configuration variables, which adapt the Oracle Database to the local operating system and application environment.</p>
</li>
<li>
<p>The initialization file <code dir="ltr">INIT.ORA</code> or the server parameter file <code dir="ltr">SPFILE</code>, which exists in all Oracle Database implementations and contains database-specific parameters.</p>
</li>
</ol>
<p>This section describes the following:</p>
<ul>
<li>
<p><a href="#CHDIBFJD">The Environment Definition File ORAENV</a></p>
</li>
<li>
<p><a href="#CHDEBACC">The Initialization File INIT.ORA</a></p>
</li>
<li>
<p><a href="#CHDJIFCI">The Server Parameter File SPFILE</a></p>
</li>
<li>
<p><a href="#CHDCGJFI">Using the Correct Initialization File</a></p>
</li>
</ul>
<a id="CHDIBFJD"></a>
<div id="DFSIG203" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> The Environment Definition File ORAENV</h3>
<p>The <code dir="ltr">ORAENV</code> file is identified by <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code>, where <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the system identifier. The same <code dir="ltr">ORAENV</code> file must be used by SQL*Plus in BS2000 and by all background jobs. This is ensured by the installation procedures, which create the basic <code dir="ltr">ORAENV</code> file. Refer to <a href="app_oraenv.htm#CCHCBAID">Appendix B, "Oracle Environment Variables,"</a> for details of required and optional <code dir="ltr">ORAENV</code> variables.</p>
<p>If you use SQL*Plus in the POSIX shell, then the requested BS2000 parameters set in the <code dir="ltr">ORAENV</code> file must be specified. You can set the variables in the POSIX environment or use the facility to access the BS2000 <code dir="ltr">ORAENV</code> file.</p>
<p>When specifying the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> in the POSIX <code dir="ltr">ORAENV</code> filename, ensure that the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> in the filename and the <code dir="ltr">ORACLE_</code><code dir="ltr">SID</code> variable use exactly the same case. For example, if you create a POSIX <code dir="ltr">ORAENV</code> file with the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> in the filename in uppercase, then you must set the <code dir="ltr">ORACLE_SID</code> using exactly the same <code dir="ltr"><span class="codeinlineitalic">SID</span></code>.</p>
<pre dir="ltr">
$ echo '$ORADATA.ORCL.P.ORAENV' &gt; $ORACLE_HOME/dbs/oraenvORCL
$ ORACLE_SID=ORCL
$ export ORACLE_SID
$ sqlplus /nolog
$ SQL&gt; connect / as sysdba
</pre>
<p>Refer to "Starting Oracle Utilities in the POSIX environment" in <a class="olink DFSUG368" href="../../server.112/e27507/start.htm#DFSUG368"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a>, for more information about how to set POSIX environment variables.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEBACC"></a>
<div id="DFSIG204" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> The Initialization File INIT.ORA</h3>
<p><a id="sthref69"></a>Startup requires the <code dir="ltr">INIT.ORA</code> parameter file, which contains a list of specifications for the Oracle database. These generic, that is, platform independent parameters, are used to setup the instance and the database. Refer to <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a> for full descriptions of these parameters.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJIFCI"></a>
<div id="DFSIG205" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> The Server Parameter File SPFILE<a id="sthref70"></a><a id="sthref71"></a></h3>
<p>You can choose to maintain initialization parameters in a binary server parameter file. A server parameter file is initially built from a traditional text initialization parameter file using the <code dir="ltr">CREATE SPFILE</code> command. If you enter the following command:</p>
<pre dir="ltr">
CREATE SPFILE FROM PFILE;
</pre>
<p>where neither <code dir="ltr">SPFILE</code> name nor <code dir="ltr">PFILE</code> name is specified, then Oracle looks for a text initialization file <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code> and creates a server parameter file <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.SPFILE.ORA</code>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCGJFI"></a>
<div id="DFSIG206" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.4</span> Using the Correct Initialization File</h3>
<p>A default initialization file, called <code dir="ltr">$ORAC1120.DEMO.DBS.INIT.ORA</code>, is distributed with Oracle Database. During the database creation procedure, this file is copied to the DBA user ID and renamed, <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code>, where <code dir="ltr"><span class="codeinlineitalic">sid</span></code> is the 1 to 4 character system ID you specified at the beginning of the database creation procedure.</p>
<p>Oracle determines the value of <code dir="ltr"><span class="codeinlineitalic">SID</span></code> by retrieving the <code dir="ltr">ORASID</code> environment variable defined in the <code dir="ltr">ORAENV</code> file for the database. When you issue the <code dir="ltr">STARTUP</code> command with no <code dir="ltr">PFILE</code> clause, Oracle locates the initialization parameter file by examining file names in the following order:</p>
<ol>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.SPFILE.ORA</code></p>
</li>
<li>
<p><code dir="ltr">DBS.SPFILE.ORA</code></p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code></p>
</li>
</ol>
<p>If you want to use some other initialization file, then use the argument <code dir="ltr">PFILE</code>. For example, to bring up a previously created database using an initialization file called <code dir="ltr">TEST.INIT.ORA</code>, enter the following:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.SQLPLUS
* /NOLOG
</pre>
<p>At the SQL*Plus prompt, enter:</p>
<pre dir="ltr">
SQL&gt; CONNECT / AS SYSDBA
SQL&gt; STARTUP PFILE=TEST.INIT.ORA
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACBGIBH"></a>
<div id="DFSIG207" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> <a id="sthref72"></a><a id="sthref73"></a>Remote Startup of a Database Instance</h2>
<p>This section describes the preparations for a remote startup using SQL*Plus:</p>
<ol>
<li>
<p>Usually, Oracle Database 11<span class="italic">g</span> Release 2 listener parameter file (<code dir="ltr">LISTENER.ORA</code>) does not contain a static service registration section (<code dir="ltr">SID_LIST</code>) for a database service. In case of a remote startup you must define this section for the desired database. For example:</p>
<pre dir="ltr">
SID_LIST_LISTENER = (SID_LIST =
                     (SID_DESC = 
                      (SID_NAME = ORCL)))
</pre>
<p>The listener must be running on the computer where the instance is to be started. The listener must statically register the instance. If the listener does not run under the same user ID as the instance you want to start, then you must define the admissions to start a job under the user ID of the instance in the listener's <code dir="ltr">ORAENV</code> file or you must use SECOS, Fujitsu's Security Control System for BS2000/OSD. For more information refer to the <a href="netv2.htm#BABGBAGJ">"Configuring the Network"</a> chapter in the Oracle Net Services section of this guide.</p>
</li>
<li>
<p>Create a password file with the Oracle utility <code dir="ltr">ORAPWD</code> under the user ID of the instance you want to administrate. For more information of how to use <code dir="ltr">ORAPWD</code>, refer to <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a>. To run the <code dir="ltr">ORAPWD</code> utility on BS2000, use the following command:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.ORAPWD
*file=password_file password=<span class="italic">my_password entries</span>=10
</pre></li>
<li>
<p>The name of the password file is taken from the parameter <code dir="ltr">SSSIDPWF</code>. So you must add this parameter to the <code dir="ltr">ORAENV</code> file of the instance you want to start:</p>
<pre dir="ltr">
SSSIDPWF = <span class="italic">password_file</span>
</pre></li>
<li>
<p>The parameter <code dir="ltr">REMOTE_LOGIN_PASSWORDFILE</code> must be set to <code dir="ltr">EXCLUSIVE</code> in the initialization file of the instance.</p>
<pre dir="ltr">
REMOTE_LOGIN_PASSWORDFILE = EXCLUSIVE
</pre></li>
<li>
<p>Execute SQL*Plus on the remote computer and connect as user <code dir="ltr">sys</code> to a server of the instance you want to startup. In the following example, which shows the commands for SQL*Plus on a UNIX client, we use the net service name <span class="italic">orcl_on_bs2000</span> to address the remote instance on the BS2000 computer:</p>
<pre dir="ltr">
sqlplus /nolog
SQL&gt; connect sys@<span class="italic">orcl_on_bs2000</span> as sysdba
Enter password:
<span class="italic">password</span>
Connected
SQL&gt; startup
...
</pre></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDEAIHB"></a>
<div id="DFSIG513" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Automatic Diagnostic Repository</h2>
<p>Automatic Diagnostic Repository (ADR) is a file-based hierarchical data store for depositing diagnostic information produced by diagnostic framework clients. The repository contains data describing incidents, traces, dumps, alert logs, health check records, SQL Trace information, and other information essential for problem diagnosis.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
"Managing Diagnostic Data" in <a class="olink ADMIN11007" href="../../server.112/e25494/diag.htm#ADMIN11007"><span class="italic">Oracle Database Administrators Guide</span></a> for more information about Automatic Diagnostic Repository</div>
<p>This section describes the following:</p>
<ul>
<li>
<p><a href="#CHDDFGBJ">Automatic Diagnostic Repository Directories and Files</a></p>
</li>
<li>
<p><a href="#CHDBFGGB">ADR Command Interpreter</a></p>
</li>
</ul>
<a id="CHDDFGBJ"></a>
<div id="DFSIG514" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.4.1</span> Automatic Diagnostic Repository Directories and Files</h3>
<p>Automatic Diagnostic Repository (ADR) is a directory structure that is stored outside of the database. It is therefore available for problem diagnosis when the database is down.</p>
<p>The directories and files of the Automatic Diagnostic Repository are stored in the POSIX file system.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about the directory structure</div>
<p>The ADR root directory is known as ADR base. Its location is set by the <code dir="ltr">DIAGNOSTIC_DEST</code> initialization parameter. For example:</p>
<pre dir="ltr">
<span class="italic">DIAGNOSTIC_DEST=/u01/app/orac1120/oradata/adr</span>
</pre>
<p>If this parameter is omitted or left null, then the database sets <code dir="ltr">DIAGNOSTIC_DEST</code> upon startup as follows:</p>
<ul>
<li>
<p>If environment variable <code dir="ltr">ORACLE_BASE</code> is set, then <code dir="ltr">DIAGNOSTIC_DEST</code> is set to the directory designated by <code dir="ltr">ORACLE_BASE</code>.</p>
</li>
<li>
<p>If environment variable <code dir="ltr">ORACLE_BASE</code> is not set, then <code dir="ltr">DIAGNOSTIC_DEST</code> is set to <code dir="ltr">ORACLE_HOME/log</code>.</p>
</li>
</ul>
<p>Within ADR base, there can be multiple ADR homes, where each ADR home is the <code dir="ltr">root</code> directory for all diagnostic data, such as traces, dumps, the alert log, and so on, for a particular instance of a particular Oracle product or component.</p>
<p>Oracle Net Services also store diagnostic data in the ADR. The location for diagnostic information for Oracle Net Services is set by the parameters <code dir="ltr">ADR_BASE</code> and <code dir="ltr">ADR_BASE_</code><code dir="ltr"><span class="codeinlineitalic">listener_name</span></code>. These are set in the Oracle Net Services parameter files <code dir="ltr">sqlnet.ora</code> and <code dir="ltr">listener.ora</code>.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
"Troubleshooting Oracle Net Services" in <a class="olink NETAG016" href="../../network.112/e41945/trouble.htm#NETAG016"><span class="italic">Oracle Net Services Administrator's Guide</span></a> for more information about diagnostic information for Oracle Net Services</div>
<p>You can read the text files of the Automatic Diagnostic Repository with text editors such as <code dir="ltr">vi</code>, <code dir="ltr">edtu</code>, or with POSIX shell commands such as <code dir="ltr">cat</code>, <code dir="ltr">more</code>.</p>
<p>You can investigate the ADR with the utility ADRCI.</p>
</div>
<!-- class="sect2" -->
<a id="CHDBFGGB"></a>
<div id="DFSIG515" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.4.2</span> ADR Command Interpreter</h3>
<p>ADR Command Interpreter (ADRCI) is a utility that enables you to investigate problems, view health check reports, and package first-failure diagnostic data within a command-line environment. You can then upload the package to Oracle Support. ADRCI also enables you to view the names of the trace files in the ADR, and to view the alert log with XML tags stripped, with and without content filtering.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
"ADRCI: ADR Command Interpreter" in <a class="olink SUTIL700" href="../../server.112/e22490/adrci.htm#SUTIL700"><span class="italic">Oracle Database Utilities</span></a> for more information about ADRCI</div>
<p>Start the command-line utility ADRCI in the POSIX shell. Before starting ADRCI, set the environment variable <code dir="ltr">ORACLE_HOME</code> and extend the environment variable <code dir="ltr">PATH</code> by the path name of the Oracle directory <code dir="ltr">oracle_home_path/bin</code>. Additional environment variables, such as <code dir="ltr">ORACLE_SID</code>, are not required. Refer to "Starting Oracle Utilities in the POSIX environment" in <a class="olink DFSUG368" href="../../server.112/e27507/start.htm#DFSUG368"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a> for more information about Oracle Database utilities.</p>
<p>After setting these environment variables, start ADRCI in the POSIX shell by entering <code dir="ltr">adrci</code> after the POSIX shell command prompt.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
ADRCI cannot be started in the normal BS2000 environment. ADRCI must be started in the POSIX shell.</div>
<p>Display the current ADR base with the ADRCI <code dir="ltr">show base</code> command. The current ADR home can be displayed with the <code dir="ltr">show homes</code> command.</p>
<p>Set ADR base with the <code dir="ltr">set base</code> command. ADR home can be set with the <code dir="ltr">set home</code> command.</p>
<p>The command <code dir="ltr">show alert</code> shows the contents of the alert log in a text editor.</p>
<p>If you use a blockmode terminal, then the default editor for ADRCI on Fujitsu BS2000/OSD is <code dir="ltr">edtu</code>. If you use an xterm terminal after having logged in to POSIX through <code dir="ltr">rlogin</code> or <code dir="ltr">ssh</code>, then the default editor for ADRCI is <code dir="ltr">vi</code>.</p>
<p>You can either select the preferred text editor by setting the environment variable <code dir="ltr">EDITOR</code> before starting ADRCI or specify your preferred text editor within ADRCI with the ADRCI <code dir="ltr">set editor</code> command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The editor <span class="italic">vi</span> does not work on blockmode terminals and the editor <span class="italic">edtu</span> does not work on xterm terminals.</div>
<p>With ADRCI you can invoke Incident Packaging Service (IPS) to create packages for incidents with the commands <code dir="ltr">ips create package</code> and <code dir="ltr">ips generate package</code>. The resulting zip file can be uploaded to Oracle Support.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACJCIIA"></a>
<div id="DFSIG208" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.5</span> Checking the Integrity of the Physical Data Structure</h2>
<p>To check the data-structure integrity of offline databases, use the <code dir="ltr">DBVERIFY</code> command-line utility. To start <code dir="ltr">DBVERIFY</code> enter the following command:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.DBV
</pre>
<p>You can now enter the command, for example:</p>
<pre dir="ltr">
file=ora11.dbs.database1.dbf blocksize=4096 feedback=100
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a class="olink SUTIL" href="../../server.112/e22490/toc.htm"><span class="italic">Oracle Database Utilities</span></a> for more information about the <code dir="ltr">DBVERIFY</code> program</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2612">
<tr>
<td class="cellalignment2621">
<table class="cellalignment2617">
<tr>
<td class="cellalignment2616"><a href="creating_database.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2616"><a href="backup.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2623">
<table class="cellalignment2615">
<tr>
<td class="cellalignment2616"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2616"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2616"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2616"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2616"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2616"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
