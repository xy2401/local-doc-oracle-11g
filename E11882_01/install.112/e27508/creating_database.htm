<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Creating and Upgrading a Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060" />
<meta name="dcterms.created" content="2015-07-23T2:44:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E27508-04" />
<meta name="dcterms.isVersionOf" content="DFSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="install.htm" title="Previous" type="text/html" />
<link rel="Next" href="admin.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e27508.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/24</span> <!-- End Header -->
<div id="DFSIG172" class="chapter"><a id="CACFCEFE"></a>
<h1 class="chapter"><span class="secnum">4</span> Creating and Upgrading a Database</h1>
<p><a id="sthref45"></a><a id="sthref46"></a>This chapter describes how to create a new 11.2 database or upgrade an existing database to release 11.2. It contains the following topics:</p>
<ul>
<li>
<p><a href="#CACJAEGD">Creating a Database</a></p>
</li>
<li>
<p><a href="#CACDJDDI">Upgrading a Database</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Creating a Java enabled database is not part of this chapter. For more information about creating a Java enabled database, refer to <a href="java.htm#CHDBIBIF">Chapter 12, "Java in the Database."</a></div>
<a id="CACJAEGD"></a>
<div id="DFSIG173" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.1</span> Creating a Database</h2>
<p>You can create a database either automatically or manually. Oracle recommends that you use the automatic creation procedure outlined in <a href="#CACDBHEG">"Creating a Database Automatically"</a>. Instructions on how to create a database manually are given in <a href="#CACDBEJB">"Creating a Database Manually"</a>.</p>
<p>This section describes the following:</p>
<ul>
<li>
<p><a href="#CACIGBEE">Pre-Creation Activities</a></p>
</li>
<li>
<p><a href="#CACDBHEG">Creating a Database Automatically</a></p>
</li>
<li>
<p><a href="#CACDBEJB">Creating a Database Manually</a></p>
</li>
</ul>
<a id="CACIGBEE"></a>
<div id="DFSIG174" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.1.1</span> Pre-Creation Activities</h3>
<p>Before creating a database, you first need to carry out the following pre-creation activities:</p>
<ol>
<li>
<p>Install Oracle Database 11<span class="italic">g</span> Release 2 under the installation user ID. For details on how to do this, refer to <a href="install.htm#BABHCBCC">Chapter 3, " Oracle Database Installation and Deinstallation."</a></p>
</li>
<li>
<p>The BS2000 System Administrator must create a DBA user ID with the attributes as described in <a href="database_arch.htm#CHDFHABB">Section 2.8.2, "DBA User ID."</a></p>
<p>The account number used for running the Oracle instance must have the following attributes:</p>
<pre dir="ltr">
NO_CPU-LIMIT=YES
START-IMMEDIATE=YES
MAX-ALLOWED-CATEGORY=TP
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Address Space Limit must be at least 512 MB.</div>
</li>
<li>
<p>Oracle recommends that the BS2000 System Administrator should define a separate job class for the background and server tasks. This job class should have the following characteristics:</p>
<pre dir="ltr">
TP-ALLOWED=YES
NO-CPU-LIMIT=YES
JOB-TYPE=BATCH
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CACDBHEG"></a>
<div id="DFSIG175" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.1.2</span> Creating a Database Automatically</h3>
<p>Complete the following steps to create a database automatically:</p>
<ol>
<li>
<p>Log in using the DBA user ID.</p>
</li>
<li>
<p>To start the automatic creation procedure, <code dir="ltr">INSTALL.P.SUPER</code>, enter the following command:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.SUPER
</pre>
<p>When running <code dir="ltr">INSTALL.P.SUPER</code> procedure, you can specify the value of the following keyword parameters (the default values are used if you choose not to modify the values):</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="This table lists the values of the keyword parameters when invoking INSTALL.P.SUPER" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t4">Parameter</th>
<th class="cellalignment2620" id="r1c2-t4">Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t4" headers="r1c1-t4">BATCH</td>
<td class="cellalignment2621" headers="r2c1-t4 r1c2-t4">Enter <span class="bold">YES</span> to run the procedure in batch mode. The default is set to <code dir="ltr">YES</code>, so by default the procedure is run in batch mode.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t4" headers="r1c1-t4">CPULIMIT</td>
<td class="cellalignment2621" headers="r3c1-t4 r1c2-t4">Sets the time limit for batch jobs. The default is NO.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r4c1-t4" headers="r1c1-t4">PLSQL</td>
<td class="cellalignment2621" headers="r4c1-t4 r1c2-t4">Enter <span class="bold">NO</span> to suppress automatic installation of the basic PL/SQL package. The default is <code dir="ltr">YES</code>.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r5c1-t4" headers="r1c1-t4">VIEWS</td>
<td class="cellalignment2621" headers="r5c1-t4 r1c2-t4">Enter <span class="bold">NO</span> to suppress automatic installation of the basic views (catalog, import/export, and so on). The default is <code dir="ltr">YES</code>.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Answer the prompts for the following information (if you enter nothing, the default shown on the screen are used):</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table lists the parameter and their corresponding values" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t5">Parameter</th>
<th class="cellalignment2620" id="r1c2-t5">Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t5" headers="r1c1-t5">DBASID</td>
<td class="cellalignment2621" headers="r2c1-t5 r1c2-t5">Enter the 1 - 4 character system ID of the database you are installing. This is a mandatory parameter.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t5" headers="r1c1-t5">JOBCLASS</td>
<td class="cellalignment2621" headers="r3c1-t5 r1c2-t5">Enter the jobclass to be used for Oracle Database 11<span class="italic">g</span> Release 2 background jobs. This is mandatory.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r4c1-t5" headers="r1c1-t5">UPDATE</td>
<td class="cellalignment2621" headers="r4c1-t5 r1c2-t5">Enter <span class="bold">YES</span> if you have existing files for this <code dir="ltr"><span class="codeinlineitalic">SID</span></code> and you want to update them.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r5c1-t5" headers="r1c1-t5">SYSPW</td>
<td class="cellalignment2621" headers="r5c1-t5 r1c2-t5">Enter the desired password for the Oracle Database user <code dir="ltr">SYS</code>.
<p><span class="bold">Note</span>: By default the <code dir="ltr">SYS</code> user has the password <code dir="ltr">CHANGE_ON_INSTALL</code>. For security reasons, Oracle recommends that you change this password immediately after installation.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r6c1-t5" headers="r1c1-t5">SYSTEMPW</td>
<td class="cellalignment2621" headers="r6c1-t5 r1c2-t5">Enter the desired password for the Oracle Database user <code dir="ltr">SYSTEM</code>.
<p><span class="bold">Note</span>: By default the <code dir="ltr">SYSTEM</code> user has the password <code dir="ltr">MANAGER</code>. For security reasons, Oracle recommends that you change this password immediately after installation.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r7c1-t5" headers="r1c1-t5">JAVA</td>
<td class="cellalignment2621" headers="r7c1-t5 r1c2-t5">Enter NO if you do not need a Java enabled database (thus saving memory, CPU and disk space resources). For more information refer to <a href="java.htm#CHDBIBIF">Chapter 12, "Java in the Database."</a></td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r8c1-t5" headers="r1c1-t5">DBSIZE</td>
<td class="cellalignment2621" headers="r8c1-t5 r1c2-t5">Enter the size of the system tablespace files in bytes, kilobytes or megabytes. The value you enter can have one of the following forms:
<ul>
<li>
<p>44M for 44 megabytes</p>
</li>
<li>
<p>44000K for 44000 kilobytes</p>
</li>
<li>
<p>10000000 for 10000000 bytes</p>
</li>
</ul>
<p>The default is 250M.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r9c1-t5" headers="r1c1-t5">AUXSIZE</td>
<td class="cellalignment2621" headers="r9c1-t5 r1c2-t5">Enter the size of the sysaux tablespace file(s) in bytes, kilobytes, or megabytes. The value you enter can have one of the following forms:
<ul>
<li>
<p>44M for 44megabytes</p>
</li>
<li>
<p>44000K for 44000 kilobytes</p>
</li>
<li>
<p>10000000 for 10000000 bytes</p>
</li>
</ul>
<p>The default is 200M.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r10c1-t5" headers="r1c1-t5">LOGSIZE</td>
<td class="cellalignment2621" headers="r10c1-t5 r1c2-t5">Enter the size of the log files in bytes, kilobytes, or megabytes. The value you enter can have one of the following forms:
<ul>
<li>
<p>1M for 1 megabytes</p>
</li>
<li>
<p>1000K for 1000 kilobytes</p>
</li>
<li>
<p>100000 for 100000 bytes</p>
</li>
</ul>
<p>The default is 20000K.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r11c1-t5" headers="r1c1-t5">UNDOSIZE</td>
<td class="cellalignment2621" headers="r11c1-t5 r1c2-t5">Enter the size of the undo tablespace file in bytes, kilobytes, or megabytes. The value you enter can have one of the following forms:
<ul>
<li>
<p>44M for 44 megabytes</p>
</li>
<li>
<p>44000K for 44000 kilobytes</p>
</li>
<li>
<p>10000000 for 10000000 bytes</p>
</li>
</ul>
<p>The default is 100M.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r12c1-t5" headers="r1c1-t5">LOCAL</td>
<td class="cellalignment2621" headers="r12c1-t5 r1c2-t5">Enter <span class="bold">NO</span> if you do not require a locally managed system tablespace. The default is <code dir="ltr">YES</code>. If you choose a locally managed system tablespace, then Oracle automatically creates a default temporary tablespace.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r13c1-t5" headers="r1c1-t5">DEFTS</td>
<td class="cellalignment2621" headers="r13c1-t5 r1c2-t5">Enter <span class="bold">NO</span> if you do not want to create a default permanent tablespace. The default is <code dir="ltr">YES</code>.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r14c1-t5" headers="r1c1-t5">TEMPTS</td>
<td class="cellalignment2621" headers="r14c1-t5 r1c2-t5">This prompt only appears if you do not want a locally managed system tablespace. Enter <span class="bold">NO</span> if you do not want a default temporary tablespace. The default is <code dir="ltr">YES</code>.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r15c1-t5" headers="r1c1-t5">CHARSET</td>
<td class="cellalignment2621" headers="r15c1-t5 r1c2-t5">Enter the character set with which you want the database to be created (the default is <code dir="ltr">WE8BS2000</code>).
<p>For more information refer to the chapter about Globalization Support in <a class="olink DFSUG" href="../../server.112/e27507/toc.htm"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a>.</p>
</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r16c1-t5" headers="r1c1-t5">NCHARSET</td>
<td class="cellalignment2621" headers="r16c1-t5 r1c2-t5">Enter the national character set used to store data in columns specifically defined as <code dir="ltr">NCHAR</code>, <code dir="ltr">NCLOB</code>, or <code dir="ltr">NVARCHAR2</code>. Valid values are <code dir="ltr">AL16UTF16</code> and <code dir="ltr">UTF8</code>. The default is <code dir="ltr">AL16UTF16</code>.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></li>
</ol>
<p>Unless specified otherwise<code dir="ltr">, $ORAC1120.INSTALL.P.SUPER</code> generates and enter a batch job which:</p>
<ul>
<li>
<p>Calls <code dir="ltr">INSTALL.P.DBA</code></p>
</li>
<li>
<p>Creates the system and sysaux tablespace</p>
</li>
<li>
<p>Creates the default permanent tablespace, temporary tablespace, and undo tablespace</p>
</li>
<li>
<p>Creates the log files</p>
</li>
<li>
<p>Initializes the database</p>
</li>
<li>
<p>Runs <code dir="ltr">CATALOG.SQL</code></p>
</li>
<li>
<p>Runs <code dir="ltr">CATPROC.SQL</code></p>
</li>
<li>
<p>Installs the SQL Help tables</p>
</li>
<li>
<p>Installs the DEMO tables</p>
</li>
<li>
<p>Changes the system passwords if necessary</p>
</li>
<li>
<p>Calls the verification procedure</p>
</li>
</ul>
<p>When <code dir="ltr">$ORAC1120.INSTALL.P.SUPER</code> has completed, you should have an initialized, ready-to-use database, and a running Oracle Database system. The results of the job are listed in the file, <code dir="ltr">L.</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.INSSUP.SYSOUT</code>, where <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the system ID of the database you have just installed.</p>
</div>
<!-- class="sect2" -->
<a id="CACDBEJB"></a>
<div id="DFSIG176" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.1.3</span> Creating a Database Manually</h3>
<p>Oracle recommends that you use the automatic creation procedure outlined in <a href="#CACDBHEG">"Creating a Database Automatically"</a>. The following manual creation procedure performs the same steps as the automatic creation procedure. However, because you enter the individual steps manually, you can perform the installation at your own pace, and determine which of the optional of the following steps you want to perform and which you want to expand, omit, or save for another time.</p>
<ul>
<li>
<p><a href="#CHDBGHJE">Copying the DBA Procedures</a></p>
</li>
<li>
<p><a href="#CHDEEBCG">Creating the Database</a></p>
</li>
<li>
<p><a href="#CHDDHDHI">Installing Data Dictionary Views</a></p>
</li>
<li>
<p><a href="#CHDHFDAF">Installing Online Help Messages</a></p>
</li>
<li>
<p><a href="#CHDHFJFJ">Installing Demo Tables</a></p>
</li>
<li>
<p><a href="#CHDEDDDH">Installing Sample Schemas</a></p>
</li>
<li>
<p><a href="#CHDCIEGB">Verifying Database Creation</a></p>
</li>
<li>
<p><a href="#CHDCCFED">Installing Oracle Text</a></p>
</li>
<li>
<p><a href="#CHDDHGJG">Installing Java</a></p>
</li>
</ul>
<a id="CHDBGHJE"></a>
<div id="DFSIG177" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.1</span> Copying the DBA Procedures</h4>
<p>Copy the DBA files from <code dir="ltr">$ORAC1120</code> as shown below:</p>
<ol>
<li>
<p>Log in using the DBA user ID.</p>
</li>
<li>
<p>Call Oracle Database install procedure. This procedure copies the DBA files from <code dir="ltr">$ORAC1120</code> to the DBA user ID. When the procedure begins you are prompted to supply a 1 to 4 character Oracle system ID for the database you are installing.</p>
<p>To install the DBA files, enter the following command:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.DBA
</pre>
<p>This procedure prompts you for the following information:</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table lists the parameter and its corresponding values" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t6">Parameter</th>
<th class="cellalignment2620" id="r1c2-t6">Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t6" headers="r1c1-t6">DBASID</td>
<td class="cellalignment2621" headers="r2c1-t6 r1c2-t6">Enter the 1 - 4 character system ID of the database you are installing.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t6" headers="r1c1-t6">JOBCLASS</td>
<td class="cellalignment2621" headers="r3c1-t6 r1c2-t6">Enter the BS2000 jobclass to be used for background and server tasks.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>You can also modify the following keyword parameters when invoking this procedure:</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table lists the parameter and its corresponding values" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t7">Parameter</th>
<th class="cellalignment2620" id="r1c2-t7">Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t7" headers="r1c1-t7">LOG</td>
<td class="cellalignment2621" headers="r2c1-t7 r1c2-t7">Enter <span class="bold">WRITE-TEXT</span> (the BS2000 command name) if you want to have install actions listed.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t7" headers="r1c1-t7">UPDATE</td>
<td class="cellalignment2621" headers="r3c1-t7 r1c2-t7">Enter <span class="bold">YES/NO</span> to indicate whether existing files are to be updated. The default is NO.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>The <code dir="ltr">$ORAC1120.INSTALL.P.DBA</code> procedure copies the following files into the DBA user ID account:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code>: Oracle Database environment definition file</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code>: Oracle Database initialization file</p>
</li>
</ul>
<p>where <code dir="ltr"><span class="codeinlineitalic">sid</span></code> is the system ID for the database being installed.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDEEBCG"></a>
<div id="DFSIG178" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.2</span> Creating the Database</h4>
<p>After installing the DBA procedures, you must create the database. This section describes the procedure for creating the database, and for allocating the database file and the log files.</p>
<div id="DFSIG179" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref47"></a>
<h5 class="sect4"><span class="secnum">4.1.3.2.1</span> Pre-Allocating the Files</h5>
<p>You can place the database file and the log files on the default volume set for the <code dir="ltr">DBA</code> account, another Public Volume Set (PVS), or a specific private volume.</p>
<p>To create a database file or a log file on a private disk, you must first allocate the file using the BS2000 <code dir="ltr">/FILE</code> command as shown:</p>
<pre dir="ltr">
/FILE <span class="codeinlineitalic">sid</span>.DBS.DATABASE1.DBF,SPACE=<span class="codeinlineitalic">filesize</span> -
/[,DEVICE=<span class="codeinlineitalic">device</span>,VOLUME=<span class="codeinlineitalic">volser</span>]
/FILE <span class="codeinlineitalic">sid</span>.DBS.SYSAUX.DBF,SPACE=<span class="codeinlineitalic">filesize</span> -
//[,DEVICE=<span class="codeinlineitalic">device</span>,VOLUME=<span class="codeinlineitalic">volser</span>]
/FILE <span class="codeinlineitalic">sid</span>.DBS.LOG1.DBF,SPACE=<span class="codeinlineitalic">filesize</span> -
/[,DEVICE=<span class="codeinlineitalic">device</span>, VOLUME=<span class="codeinlineitalic">volser</span>]
/FILE <span class="codeinlineitalic">sid</span>.DBS.LOG2.DBF,SPACE=<span class="codeinlineitalic">filesize</span> -
/[,DEVICE=<span class="codeinlineitalic">device</span>, VOLUME=<span class="codeinlineitalic">volser</span>]
</pre>
<p>where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code> identifies the database that you are installing.</p>
<p><code dir="ltr"><span class="codeinlineitalic">filesize</span></code> is the size of the file in PAM blocks. The file size specified in the <code dir="ltr">/FILE</code> command must match the size specified to SQL*Plus in the <code dir="ltr">CREATE DATABASE</code> statement when creating the database, plus 1 extra Oracle Database block used as an extra header. The size of this block is 1 to 16 PAM pages depending on the Oracle Database block size given in the <code dir="ltr">init.ora</code> parameter <code dir="ltr">DB_BLOCK_SIZE</code>, refer to <a href="app_init.htm#CHDGDIHE">Appendix C, "Initialization Parameters and the Parameter File."</a></p>
<p>For example, if you want to create a 2 MB database file, then you must specify 1024 plus 1 PAM pages extra Oracle Database block as the value of file size in the <code dir="ltr">FILE</code> command.</p>
<p><code dir="ltr"><span class="codeinlineitalic">device</span></code> specifies the device to be used to store the file.</p>
<p><code dir="ltr"><span class="codeinlineitalic">volser</span></code> specifies the volume to be used to store the file.</p>
<p>The names used in the preceding examples are the default database and log file names. If you want to use other names, then remember to use these names in the SQL <code dir="ltr">CREATE DATABASE</code> statement, when creating the database.</p>
</div>
<!-- class="sect4" -->
<div id="DFSIG180" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref48"></a>
<h5 class="sect4"><span class="secnum">4.1.3.2.2</span> Modifying the Initialization File</h5>
<p><a id="sthref49"></a><a id="sthref50"></a>Determine what changes, if any, you want to make to parameters in the distributed initialization file, <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code> (where <code dir="ltr"><span class="codeinlineitalic">sid</span></code> is the system ID for the database). The SGA parameters may need to be adjusted to reflect memory limitations and the maximum number of users who can access the Oracle Database system at one time. Make the modifications using a BS2000 editor.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to <a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a> for an explanation of initialization parameters</div>
</div>
<!-- class="sect4" -->
<div id="DFSIG181" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref51"></a>
<h5 class="sect4"><span class="secnum">4.1.3.2.3</span> Modifying the ORAENV File</h5>
<p><a id="sthref52"></a>Modify the environment definition file, <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code>, according to the specific requirements. Remember that a number of variables are evaluated during startup only. If you modify the <code dir="ltr">ORAENV</code> file later on, then you may have to wait for the next startup for the changes to become effective.</p>
<p>The character set in the <code dir="ltr">ORAENV</code> variable <code dir="ltr">NLS_LANG</code>, however, must not be changed when you run some delivered SQL scripts.</p>
</div>
<!-- class="sect4" -->
<div id="DFSIG182" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref53"></a>
<h5 class="sect4"><span class="secnum">4.1.3.2.4</span> Using SQL*Plus to Create the Database</h5>
<p>Remember that you must call the applicable <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code> procedure before calling SQL*Plus. To execute SQL*Plus, enter the following command:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.SQLPLUS
* /NOLOG
SQL&gt; CONNECT / AS SYSDBA
SQL&gt; STARTUP NOMOUNT [PFILE=<span class="italic">filename</span>]
</pre>
<p><code dir="ltr">/NOLOG</code> omits being prompted for user name/password. <code dir="ltr">CONNECT</code> gives you a connection to an idle instance. The last statement starts the Oracle Database instance. If you want to use your own copy of the initialization file (<code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.DBS.INIT.ORA</code>), then use the <code dir="ltr">PFILE=</code><code dir="ltr"><span class="codeinlineitalic">filename</span></code> option, as illustrated in the previous command.</p>
<pre dir="ltr">
SQL&gt; CREATE DATABASE...;
</pre>
<p>This statement creates database and log files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you get an error before the first <code dir="ltr">SQL&gt;</code> prompt, then it may be caused by either a missing <code dir="ltr">ORAENV</code> file (or <code dir="ltr">ORASID</code> not set in the <code dir="ltr">ORAENV</code>), or sometimes by an address space conflict. For example, the address range you assigned to the kernel memory pool (<code dir="ltr">KNL_BASE</code>) could be occupied by a subsystem.</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CHDDHDHI"></a>
<div id="DFSIG183" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.3</span> Installing Data<a id="sthref54"></a> Dictionary Views</h4>
<p>Run the scripts necessary to build data dictionary views, synonyms, and PL/SQL packages. Run the following commands:</p>
<pre dir="ltr">
SQL&gt; SPOOL <span class="italic">filename</span>
SQL&gt; SET TERMOUT OFF
SQL&gt; @$ORAC1120.RDBMS.ADMIN.CATALOG.SQL
SQL&gt; @$ORAC1120.RDBMS.ADMIN.CATPROC.SQL
</pre></div>
<!-- class="sect3" -->
<a id="CHDHFDAF"></a>
<div id="DFSIG185" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.4</span> Installing Online Help Messages</h4>
<p>To install the online Help facility, enter the following command:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.HELP,(<span class="codeinlineitalic">sid</span> [,SYSTEMPW=systempw])
</pre></div>
<!-- class="sect3" -->
<a id="CHDHFJFJ"></a>
<div id="DFSIG186" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.5</span> Installing Demo Tables</h4>
<p>To install demo tables, enter the following:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.DEMO,(<span class="codeinlineitalic">sid</span> [,SYSTEMPW=systempw])
</pre></div>
<!-- class="sect3" -->
<a id="CHDEDDDH"></a>
<div id="DFSIG411" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.6</span> Installing Sample Schemas</h4>
<p>To install Sample Schemas, enter the following:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.SAMPLES,(<span class="codeinlineitalic">sid</span> -
/[,SYSTEMPW=systempw] [,SYSPW=syspw])
</pre>
<p>The procedure <code dir="ltr">INSTALL.P.SAMPLES</code> installs the sample schemas human resources (HR), order entry (OE), info exchange (IX), and sales history (SH) with the default passwords. Product media (PM) is not supported.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
By default, the password for the <code dir="ltr">SYSTEM</code> user is <code dir="ltr">MANAGER</code> and the password for the <code dir="ltr">SYS</code> user is <code dir="ltr">CHANGE_ON_INSTALL</code>. For security reasons, Oracle recommends that you change these passwords and the sample schema passwords immediately after installation.</div>
</div>
<!-- class="sect3" -->
<a id="CHDCIEGB"></a>
<div id="DFSIG187" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.7</span> Verifying Database Creation</h4>
<p>To verify if the demonstration database was correctly created, enter the following:</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.VERIFY,(<span class="codeinlineitalic">sid</span> [,SYSTEMPW=systempw])
</pre>
<p>If the demonstration database was correctly created, then you see messages like the following displayed on the screen:</p>
<pre dir="ltr">
*SCOTT'S TABLE EMP IS INSTALLED
</pre></div>
<!-- class="sect3" -->
<a id="CHDCCFED"></a>
<div id="DFSIG188" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.8</span> Installing Oracle Text</h4>
<p>Installing Oracle Text is summarized in the <a href="initmedia.htm#BABCGEJC">"Oracle Text"</a> chapter of this book.</p>
</div>
<!-- class="sect3" -->
<a id="CHDDHGJG"></a>
<div id="DFSIG189" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.1.3.9</span> Installing Java</h4>
<p>Installing Java is summarized in the <a href="java.htm#CHDBIBIF">"Java in the Database"</a> chapter of this book.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACDJDDI"></a>
<div id="DFSIG412" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.2</span> Upgrading a Database</h2>
<p>This section contains information about upgrading your Oracle database from previous releases:</p>
<ul>
<li>
<p><a href="#CHDDIHEC">Upgrading from Oracle Database Release 9<span class="italic">i</span></a></p>
</li>
<li>
<p><a href="#CHDIGDEE">Upgrading from Oracle Database Release 10<span class="italic">g</span></a></p>
</li>
<li>
<p><a href="#CHDBIFHD">Postupgrade Activities</a></p>
</li>
</ul>
<a id="CHDDIHEC"></a>
<div id="DFSIG413" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.1</span> Upgrading from Oracle Database Release 9<span class="italic">i</span></h3>
<p>For upgrading from Oracle Database Release 9<span class="italic">i</span>, refer to "Upgrading to the New Release of Oracle Database" in <a class="olink UPGRD003" href="../../server.112/e23633/upgrade.htm#UPGRD003"><span class="italic">Oracle Database Upgrade Guide</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIGDEE"></a>
<div id="DFSIG414" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.2</span> Upgrading from Oracle Database Release 10<span class="italic">g</span></h3>
<p>This section explains the BS2000 specific steps of the upgrade path. We assume the reader to be familiar with Oracle Database 11<span class="italic">g</span> Release 2 upgrade documentation about upgrade preparation, space and backup requirements, release differences, and so on. Refer to <a class="olink UPGRD" href="../../server.112/e23633/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a> for further information regarding database upgrades. Oracle recommends reading the appropriate section in the generic documentation, especially when you are using <code dir="ltr">TIMESTAMP WITH TIME ZONE</code> data type.</p>
<p>We further assume your Oracle Database 10<span class="italic">g</span> is set up and the Oracle Database 11<span class="italic">g</span> Release 2 software is properly installed as explained in <a href="install.htm#BABHCBCC">Chapter 3, " Oracle Database Installation and Deinstallation."</a> Thereafter, complete the following steps:</p>
<ol>
<li>
<p>Run the Pre-Upgrade Information Tool <code dir="ltr">utlu112i.sql</code> from Oracle Database 11<span class="italic">g</span> installation id with SQL*Plus in your Oracle Database 10<span class="italic">g</span> environment to analyze required parameters as follows (assuming the database is running):</p>
<pre dir="ltr">
/START-PROGRAM $ORACL1020.sqlplus
* /nolog
SQL&gt; connect / as sysdba
SQL&gt; SPOOL info.log
SQL&gt; @$ORAC1120.rdbms.admin.utlu112i.sql;
SQL&gt; SPOOL off
</pre></li>
<li>
<p>Check the sections in the spool file for Logfiles, Tablespaces, and Rollback Segments, and if necessary, change the attributes of your database accordingly.</p>
</li>
<li>
<p>Shutdown the database and exit SQL*Plus</p>
<pre dir="ltr">
SQL&gt; SHUTDOWN IMMEDIATE
SQL&gt; exit 
</pre></li>
<li>
<p>Enter the following command to create an Oracle Database 11<span class="italic">g</span> Release 2 <code dir="ltr">init.ora</code> and an Oracle Database 11<span class="italic">g</span> Release 2 <code dir="ltr">ORAENV</code> file and save the original files under the suffix <code dir="ltr">.OLD</code>.</p>
<pre dir="ltr">
/CALL-PROCEDURE $ORAC1120.INSTALL.P.DBA, (<span class="codeinlineitalic">sid</span>, jobclass, UPDATE=YES) 
</pre></li>
<li>
<p>Modify the newly created files according to your special requirements (for instance <code dir="ltr">PROCESSES</code>, <code dir="ltr">DB_CACHE_SIZE</code>, and so on) and set the parameters in the <code dir="ltr">INIT.ORA</code> file as recommended in the spool file. Ensure that the <code dir="ltr">COMPATIBLE</code> initialization parameter is properly set for Oracle Database 10<span class="italic">g</span> Release 2 (10.2 or higher).</p>
</li>
<li>
<p>Set the Oracle environment variables using the <code dir="ltr">ORAENV</code> file:</p>
<p><code dir="ltr">/CALL-PROCEDURE</code> <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.p.oraenv</code></p>
<p>To avoid being prompted for many overflow acknowledgements on your screen, enter the following BS2000 command:</p>
<pre dir="ltr">
/MODIFY-TERMINAL-OPTIONS OVERFLOW-CONTROL=*NO-CONTROL 
</pre></li>
<li>
<p>Start the instance in upgrade mode:</p>
<pre dir="ltr">
/START-PROGRAM $ORAC1120.sqlplus
* /nolog
SQL&gt; connect / as sysdba
SQL&gt; STARTUP UPGRADE
</pre></li>
<li>
<p>Start the upgrade script:</p>
<pre dir="ltr">
SQL&gt; SPOOL upgrade.log;
SQL&gt; @$ORAC1120.rdbms.admin.catupgrd.sql;
SQL&gt; SPOOL off
</pre></li>
<li>
<p>Shut down and restart the instance to re-initialize the system parameters for normal operation:</p>
<pre dir="ltr">
SQL&gt; SHUTDOWN IMMEDIATE
SQL&gt; STARTUP
</pre></li>
<li>
<p>Run the postupgrade script <code dir="ltr">utlu112s.sql</code> to display the results of the upgrade and run <code dir="ltr">catuppst.sql</code> to finish the upgrade. Finally run <code dir="ltr">utlrp.sql</code> to recompile any remaining stored PL/SQL and Java code and verify that all expected packages and classes are valid:</p>
<pre dir="ltr">
SQL&gt; SPOOL postupgrade.log;
SQL&gt; @$ORAC1120.rdbms.admin.UTLU112S.SQL;
SQL&gt; SPOOL off
SQL&gt; @$ORA1120.RDBMS.ADMIN.CATUPPST.SQL
SQL&gt; @$ORAC1120.rdbms.admin.utlrp.sql;
SQL&gt; SELECT count(*) FROM dba_objects WHERE status='INVALID';
SQL&gt; SELECT distinct object_name FROM dba_objects WHERE status='INVALID';
</pre>
<p>Now you should have an upgraded Oracle Database 11<span class="italic">g</span> Release 2 database. For troubleshooting, refer to "Upgrading to the New Release of Oracle Database" in <a class="olink UPGRD" href="../../server.112/e23633/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDBIFHD"></a>
<div id="DFSIG415" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.3</span> Postupgrade Activities</h3>
<p>This section describes the tasks you must complete after upgrading your database to Oracle Database 11<span class="italic">g</span> Release 2.</p>
<p class="subhead2"><a id="DFSIG416"></a>Re-compilation of C and COBOL Programmatic Interface Programs</p>
<p>All C and COBOL programs developed before release 11.2 must be precompiled using the new version of the precompilers and recompiled.</p>
<p class="subhead2"><a id="DFSIG417"></a>Re-Linking Programmatic Interface Programs</p>
<p>All user-written precompiler or Oracle Call Interface applications must be re-linked using the new Oracle Database libraries.</p>
<p class="subhead2"><a id="DFSIG418"></a>Rebuilding Oracle Database (openUTM) Applications</p>
<p>openUTM applications must be rebuilt. Refer to the chapters on openUTM in this manual and in <a class="olink DFSUG" href="../../server.112/e27507/toc.htm"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a> for more information.</p>
<p class="subhead2"><a id="DFSIG419"></a>Updating ORAENV Files</p>
<p>Your <code dir="ltr">ORAUID</code> environment variable must reference the correct Oracle Database installation user ID. Check your <code dir="ltr">ORAENV</code> file and adjust the variables if required.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2612">
<tr>
<td class="cellalignment2621">
<table class="cellalignment2617">
<tr>
<td class="cellalignment2616"><a href="install.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2616"><a href="admin.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2623">
<table class="cellalignment2615">
<tr>
<td class="cellalignment2616"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2616"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2616"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2616"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2616"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2616"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
