<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Architecture and Implementation</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060" />
<meta name="dcterms.created" content="2015-07-23T2:44:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E27508-04" />
<meta name="dcterms.isVersionOf" content="DFSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="relnotes.htm" title="Previous" type="text/html" />
<link rel="Next" href="install.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e27508.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/24</span> <!-- End Header -->
<div id="DFSIG339" class="chapter"><a id="CEGBCDCD"></a>
<h1 class="chapter"><span class="secnum">2</span> Architecture and Implementation</h1>
<p>This chapter describes the Oracle Database system architecture for Fujitsu BS2000<a id="sthref16"></a><a id="sthref17"></a>/OSD. It includes the following topics:</p>
<ul>
<li>
<p><a href="#CHDDAGID">Operating System Environment</a></p>
</li>
<li>
<p><a href="#CEGFEFAE">Basic Structures</a></p>
</li>
<li>
<p><a href="#CEGDJABG">Two-Task Mode</a></p>
</li>
<li>
<p><a href="#CEGFFEDB">Address Space Planning</a></p>
</li>
<li>
<p><a href="#CEGJIDCB">Oracle Database Environment Definition File</a></p>
</li>
<li>
<p><a href="#CEGCFDIH">The ORALOAD Library</a></p>
</li>
<li>
<p><a href="#CEGBDICB">The ORAMESG library</a></p>
</li>
<li>
<p><a href="#CEGHCEFJ">User ID Requirements</a></p>
</li>
</ul>
<a id="CHDDAGID"></a>
<div id="DFSIG469" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.1</span> Operating System Environment</h2>
<p>Oracle Database 11<span class="italic">g</span> Release 2 runs on the BS2000/OSD operating system.</p>
<p>Oracle Database uses both the <span class="italic">native</span> BS2000 and POSIX interfaces. This section includes the following:</p>
<ul>
<li>
<p><a href="#CHDGJCBA">File Systems</a></p>
</li>
<li>
<p><a href="#CHDHCFFD">POSIX Shell</a></p>
</li>
<li>
<p><a href="#CHDDIGAF">Processes</a></p>
</li>
</ul>
<a id="CHDGJCBA"></a>
<div id="DFSIG470" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.1</span> File Systems</h3>
<p>Oracle Database 11<span class="italic">g</span> Release 2 operates on two file systems, namely, BS2000 Data Management System (DMS) and the POSIX file system.</p>
<p>The POSIX file system is hierarchically structured and consists of directories and files.</p>
<p>As in earlier releases, most of the database files for Oracle Database 11<span class="italic">g</span> reside in the BS2000 DMS. For example, data files, control files, online and archive redo log files.</p>
<p><span class="bold">Automatic Diagnostic Repository</span> (ADR), the new feature, requires a hierarchical file system to create a file-based repository for database diagnostic data. So, the directories and files of ADR reside in the POSIX file system.</p>
<p>Therefore, Oracle Database 11<span class="italic">g</span> Release 2 for BS2000/OSD requires the POSIX file system. While in Oracle Database 10<span class="italic">g</span> the use of the POSIX file system was optional, it is mandatory in Oracle Database 11<span class="italic">g</span> Release 2.</p>
<p>During the installation of the Oracle Database software executables, libraries and other files are installed both in the BS2000 DMS and in the POSIX file system.</p>
<p>You must provide access to the POSIX file system. Refer to <a href="install.htm#BABHCBCC">Chapter 3, " Oracle Database Installation and Deinstallation"</a> for information about access to the POSIX file system.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHCFFD"></a>
<div id="DFSIG471" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.2</span> POSIX Shell</h3>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 2, you can start a subset of Oracle Database utilities not only in the BS2000 environment by using SDF commands, but also in the POSIX shell by using shell commands.</p>
<p>The diagnostic data in ADR can be viewed with the command line utility <code dir="ltr">ADRCI</code>. Start this utility in the POSIX shell.</p>
<p>Set the environment variable <code dir="ltr">ORACLE_HOME</code>, before starting utilities in the POSIX shell.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDIGAF"></a>
<div id="DFSIG472" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.3</span> Processes</h3>
<p>All processes of an Oracle Database instance, for example, dedicated server processes and background processes, run as BS2000 tasks.</p>
<p>If you start a client utility, such as SQL*Plus, in the BS2000 environment by using SDF commands, then the corresponding program is executed in the BS2000 login task.</p>
<p>If you start a client utility in the POSIX shell, then a new POSIX process is created.</p>
<p>Client processes running in the POSIX shell connect to an instance, such as clients in the BS2000 environment. The server process always starts in the BS2000 environment. For more information about processes in the BS2000 environment, refer to <a href="netv2.htm#CHDDIHHI">Chapter 9, " Oracle Net Services."</a></p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGFEFAE"></a>
<div id="DFSIG140" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Basic Structures</h2>
<p>The concepts of tasks (that is, processes in Oracle terminology) and memory structures (areas) are not BS2000 specific.</p>
<p>Refer to <a class="olink CNCPT007" href="../../server.112/e40540/memory.htm#CNCPT007">Memory Architecture</a> and <a class="olink CNCPT008" href="../../server.112/e40540/process.htm#CNCPT008">Process Architecture</a> in <a class="olink CNCPT" href="../../server.112/e40540/toc.htm">Oracle Database Concepts</a> for more information.</p>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#CHDDIBCF">Database Files and Online Redo Log Files</a></p>
</li>
<li>
<p><a href="#CHDGFHEE">Other Oracle Database Files</a></p>
</li>
<li>
<p><a href="#CHDDDBDB">Oracle Managed Files</a></p>
</li>
<li>
<p><a href="#CEGCBDEE">Bigfile Tablespaces</a></p>
</li>
</ul>
<a id="CHDDIBCF"></a>
<div id="DFSIG141" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.1</span> Database Files and <a id="sthref18"></a>Online Redo Log Files<a id="sthref19"></a></h3>
<p><a id="sthref20"></a><a id="sthref21"></a><a id="sthref22"></a>One or more database files contain the data dictionary, the user data, and indexes.</p>
<p>Oracle Database requires a minimum of two online redo log files that need not be the same size. On BS2000/OSD, the recommended minimum is 10000 PAM blocks for each file. The size of an online redo log file is set in BS2000 blocks and not Oracle Database blocks.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Both the BS2000/OSD operating system and Oracle Database perform input and output efficiently in units called blocks. A block is the basic unit of data storage. An Oracle Database block can be in one of the following formats:
<ul>
<li>
<p>2K, 4K, 6K, 8K, 16K, 32K when using BS2000 2K pubset format</p>
</li>
<li>
<p>4K, 8K, 16K, 32K when using BS2000 4K pubset format</p>
</li>
</ul>
<p>Oracle Database and online redo log files are BS2000 PAM files, and Oracle Database uses UPAM to access them.</p>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDGFHEE"></a>
<div id="DFSIG142" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.2</span> Other Oracle Database Files</h3>
<p>The following are the additional Oracle Database files:</p>
<ul>
<li>
<p><a href="#CHDCDGDA">Initialization File</a></p>
</li>
<li>
<p><a href="#CHDFBBGD">Server Parameter File</a></p>
</li>
<li>
<p><a href="#CHDJCFHD">ORAENV File</a></p>
</li>
<li>
<p><a href="#CHDHECIJ">Control Files</a></p>
</li>
<li>
<p><a href="#CHDCAICI">Message Files</a></p>
</li>
</ul>
<a id="CHDCDGDA"></a>
<div id="DFSIG143" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.1</span> Initialization File</h4>
<p><a id="sthref23"></a>The initialization file, <code dir="ltr">INIT.ORA</code>, contains a set of parameters that are read when an instance is started.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a> and <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the initialization file</div>
</div>
<!-- class="sect3" -->
<a id="CHDFBBGD"></a>
<div id="DFSIG144" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.2</span> Server Parameter File</h4>
<p>The server parameter file (<a id="sthref24"></a><code dir="ltr">SPFILE</code>) is a binary server-side initialization file, which cannot be edited using a text editor. It is initially built from a traditional text initialization file using the <code dir="ltr">CREATE SPFILE</code> statement.</p>
</div>
<!-- class="sect3" -->
<a id="CHDJCFHD"></a>
<div id="DFSIG145" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.3</span> ORAENV File</h4>
<p><a id="sthref25"></a>Oracle Database utilities and products running in the native BS2000 environment use the Oracle Database environment definition file, <code dir="ltr">ORAENV</code>. This file contains the Oracle Database environment variables, which are used to describe the operating environment for each Oracle Database task. The database administrator uses the <code dir="ltr">ORAENV</code> file to define BS2000-specific parameters necessary for database configuration.</p>
</div>
<!-- class="sect3" -->
<a id="CHDHECIJ"></a>
<div id="DFSIG146" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.4</span> Control Files</h4>
<p>These files record the physical structure of a database and are specified in the initialization file.</p>
</div>
<!-- class="sect3" -->
<a id="CHDCAICI"></a>
<div id="DFSIG147" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.5</span> Message Files</h4>
<p>Message texts are stored in table modules, which are dynamically loaded<a id="sthref26"></a> from the <code dir="ltr">ORAMESG</code> library at execution time.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDDBDB"></a>
<div id="DFSIG148" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.3</span> Oracle Managed Files</h3>
<p>The following is a list of the <code dir="ltr">INIT.ORA</code> parameters for Oracle Managed Files (OMF):</p>
<ul>
<li>
<p><code dir="ltr">DB_CREATE_FILE_DEST</code> for data files, temp files, and block change tracking files.</p>
</li>
<li>
<p><code dir="ltr">DB_CREATE_ONLINE_LOG_DEST_n</code> for redo log files and control files.</p>
</li>
<li>
<p><code dir="ltr">DB_RECOVERY_FILE_DEST</code> for backups, archive log files, and flashback log files.</p>
</li>
</ul>
<p>On BS2000, these parameters are used as a prefix for file names.</p>
<p>Oracle tablespace names can be up to 30 characters long. To associate an OMF created file name with its tablespace, you must use tablespace names that are distinct in the first eight characters. Oracle allows underscores(_) in tablespace names, and any underscores(_) that are present are changed to hyphens(-) for use in the generated file name.</p>
<p>File names for Oracle Managed Files have the following format on BS2000:</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="This table lists the file types and the corresponding formats for the Oracle-Managed Files" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t4">File type</th>
<th class="cellalignment2620" id="r1c2-t4">Format</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t4" headers="r1c1-t4">control files</td>
<td class="cellalignment2621" headers="r2c1-t4 r1c2-t4">destOMC.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t4" headers="r1c1-t4">log files</td>
<td class="cellalignment2621" headers="r3c1-t4 r1c2-t4">destOMLlll.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r4c1-t4" headers="r1c1-t4">permanent tablespace files, data file copies</td>
<td class="cellalignment2621" headers="r4c1-t4 r1c2-t4">destOMD.tsn.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r5c1-t4" headers="r1c1-t4">temporary tablespace files</td>
<td class="cellalignment2621" headers="r5c1-t4 r1c2-t4">destOMT.tsn.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r6c1-t4" headers="r1c1-t4">archive log files</td>
<td class="cellalignment2621" headers="r6c1-t4 r1c2-t4">destOMA.Tnnn.Snnnnnn.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r7c1-t4" headers="r1c1-t4">data file or archivelog backup piece</td>
<td class="cellalignment2621" headers="r7c1-t4 r1c2-t4">destOMB.Lnnn.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r8c1-t4" headers="r1c1-t4">rman autobackup piece</td>
<td class="cellalignment2621" headers="r8c1-t4 r1c2-t4">destOMX.xnnnnnnn.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r9c1-t4" headers="r1c1-t4">block change tracking files</td>
<td class="cellalignment2621" headers="r9c1-t4 r1c2-t4">destOMR.tttttttt</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r10c1-t4" headers="r1c1-t4">flashback log files</td>
<td class="cellalignment2621" headers="r10c1-t4 r1c2-t4">destOMF.tttttttt</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>where:</p>
<ul>
<li>
<p><span class="italic">dest</span> is the destination string (_DEST) in the OMF parameter</p>
</li>
<li>
<p><span class="italic">tttttttt</span> is the encoded timestamp (which looks like a random mix of letters and numerals)</p>
</li>
<li>
<p><span class="italic">lll</span> is a three-digit log-group number</p>
</li>
<li>
<p><span class="italic">tsn</span> is up to eight characters for the tablespace name</p>
</li>
<li>
<p><span class="italic">Tnnn</span> is the letter "T" followed by a three-digit thread number</p>
</li>
<li>
<p><span class="italic">Snnnnnn</span> is the letter "S" followed by a six-digit sequence number</p>
</li>
<li>
<p><span class="italic">Lnnn</span> is the letter "L" followed by a three-digit incremental level</p>
</li>
<li>
<p><span class="italic">x</span> is the letter <span class="italic">P</span>, if the database has an <code dir="ltr">SPFILE</code>, or the letter <span class="italic">T</span> if the database does not have an <code dir="ltr">SPFILE</code></p>
</li>
<li>
<p><span class="italic">nnnnnnn</span> is a seven-byte timestamp</p>
</li>
</ul>
<p>Given the 54 character limit on BS2000 file names, the preceding file name formats impose a limit of 39 characters on <code dir="ltr">DB_CREATE_ONLINE_LOG_DEST_n</code> and <code dir="ltr">DB_CREATE_FILE_DEST</code>, 29 characters on <code dir="ltr">DB_RECOVERY_FILE_DEST</code>. This file name character limit includes the <code dir="ltr">catid</code> and <code dir="ltr">userid</code> that may occupy up to 16 characters.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to "Using Oracle Managed Files" in <a class="olink ADMIN003" href="../../server.112/e25494/omf.htm#ADMIN003"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about file name formats</div>
</div>
<!-- class="sect2" -->
<a id="CEGCBDEE"></a>
<div id="DFSIG257" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.4</span> Bigfile Tablespaces</h3>
<p><a id="sthref27"></a>Oracle Database 11<span class="italic">g</span> Release 2 on BS2000/OSD supports bigfile tablespaces. The single data file of a bigfile tablespace must reside on a BS2000 pubset with the following attributes</p>
<pre dir="ltr">
LARGE_VOLUMES=*ALLOWED and LARGE_FILES=*ALLOWED
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to "Files and Volumes Larger than 32 GB" for more information about handling large objects on BS2000/OSD at
<pre dir="ltr">
<a href="http://manuals.ts.fujitsu.com/file/9118/dv32.pdf">http://manuals.ts.fujitsu.com/file/9118/dv32.pdf</a><a href=""></a>
</pre></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGDJABG"></a>
<div id="DFSIG149" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.3</span> Two-Task Mode</h2>
<p>In two-task mode, a user task connects to a server task, which runs Oracle Database code on behalf of the user task. The user task does not have access to the SGA. Communication between a user task and a server task is through Oracle Net Services.</p>
</div>
<!-- class="sect1" -->
<a id="CEGFFEDB"></a>
<div id="DFSIG150" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.4</span> <a id="sthref28"></a>Address Space Planning</h2>
<p>Oracle Database uses a number of data and code areas, which must be at the same virtual addresses in all server and background tasks. Typically, the default values provided with Oracle Database are sufficient. Address space planning (explicit placement of Oracle Database data areas) may be required in some special situations, when you encounter address space conflicts. For example, dynamic subsystems may occupy the default address ranges, which may require you to relocate Oracle Database areas.</p>
<a id="CEGIDCFD"></a>
<div id="DFSIG151" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.4.1</span> Oracle Database Data Area Placement</h3>
<p>The following <code dir="ltr">ORAENV</code> variables control explicit placement of Oracle Database data areas:</p>
<ul>
<li>
<p>COM_BASE</p>
</li>
<li>
<p>KNL_BASE</p>
</li>
<li>
<p>PGA_BASE</p>
</li>
<li>
<p>SGA_BASE</p>
</li>
</ul>
<p>The order of the areas in the address space is not significant. The <code dir="ltr"><span class="codeinlineitalic">xxx</span></code><code dir="ltr">_BASE</code> variable is evaluated only during STARTUP processing.</p>
<p>After the database is started, users attaching to it do not need to specify the values in the <code dir="ltr">ORAENV</code> files, as they are automatically supplied with the common values during connection. This means that the settings in the user's <code dir="ltr">ORAENV</code> file are ignored. <a href="#BABBBIDA">Figure 2-1</a> gives an example of the placement of data areas.</p>
<div id="DFSIG409" class="figure">
<p class="titleinfigure"><a id="BABBBIDA"></a>Figure 2-1 Placement of Data Areas in Background, Server and User Tasks</p>
<img width="581" height="291" src="img/fig2-1.gif" alt="This figure is an example of the placement of data areas" /><br /></div>
<!-- class="figure" -->
<p>The <code dir="ltr"><span class="codeinlineitalic">xxx</span></code><code dir="ltr">_BASE</code> values must be compatible with the BS2000/OSD value SYSBASE (defined by BS2000/OSD generation and delimiting the user's address space).</p>
<p>Starting with Oracle Database 10<span class="italic">g</span>, user programs use a separate shared code pool for common services such as Core, Globalization Support, and Net Services. The <a id="sthref29"></a>name of this pool is <code dir="ltr">Client Common Pool</code> and its placement can be controlled by the <code dir="ltr">ORAENV</code> parameter <code dir="ltr">CLN_BASE</code>.</p>
<p>In general, Oracle administrators should be aware of conflicts between Oracle pool placements and other pool placements in the system.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGJIDCB"></a>
<div id="DFSIG152" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.5</span> <a id="sthref30"></a><a id="sthref31"></a>Oracle Database Environment Definition File</h2>
<p><a id="sthref32"></a>This section describes the <code dir="ltr">ORAENV</code> file, how it is used, and how you use the environment variables to specify the default database.</p>
<p>The <code dir="ltr">ORAENV</code> text file has the format of a BS2000 command procedure that runs the <code dir="ltr">/SET-FILE-LINK ORAENV</code> command for itself. Each line contains an Oracle Database environment variable and its assigned value. When reading this file, the Oracle Database ignores all lines, which have a slash (/) or an asterisk (*) in column 1.</p>
<p>This section describes the following:</p>
<ul>
<li>
<p><a href="#CHDBFAHA">Generating ORAENV</a></p>
</li>
<li>
<p><a href="#CHDBHJEE">Oracle Environment Variables</a></p>
</li>
<li>
<p><a href="#CHDFHEGI">Running ORAENV</a></p>
</li>
<li>
<p><a href="#CHDGBDBH">POSIX Environment and ORAENV File</a></p>
</li>
</ul>
<a id="CHDBFAHA"></a>
<div id="DFSIG153" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5.1</span> Generating ORAENV</h3>
<p>The <code dir="ltr">INSTALL.P.DBA</code> procedure automatically creates a copy of the <code dir="ltr">ORAENV</code> file. This file provides a default configuration for an Oracle Database. You can edit this file to adapt it to your needs. Users can also generate an <code dir="ltr">ORAENV</code> file specific to their own environment. This is described in the chapter "Getting Started" in <a class="olink DFSUG101" href="../../server.112/e27507/start.htm#DFSUG101"><span class="italic">Oracle Database User's Guide for Fujitsu BS2000/OSD</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDBHJEE"></a>
<div id="DFSIG154" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5.2</span> Oracle Environment Variables<a id="sthref33"></a><a id="sthref34"></a></h3>
<p><a href="app_oraenv.htm#CCHCBAID">Appendix B, "Oracle Environment Variables"</a> contains a list of Oracle environment variables that the database administrator can use. Most users only need to set a few of these variables. Any DBA-specific variables that are placed in a user's <code dir="ltr">ORAENV</code> file are ignored.</p>
</div>
<!-- class="sect2" -->
<a id="CHDFHEGI"></a>
<div id="DFSIG155" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5.3</span> Running ORAENV</h3>
<p>T<a id="sthref35"></a>o set environment variables, simply run a <code dir="ltr">CALL-PROCEDURE</code> command on the <code dir="ltr">ORAENV</code> file containing the environment variables for the database you want to use. The name of the <code dir="ltr">ORAENV</code> file is <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code> (where <code dir="ltr"><span class="codeinlineitalic">sid</span></code> is the database <a id="sthref36"></a>system identifier). For example, to set the environment variables for database DEMO using the example <code dir="ltr">ORAENV</code> file, run the following command:</p>
<pre dir="ltr">
/CALL-PROCEDURE DEMO.P.ORAENV
</pre>
<p>You can also generate an <code dir="ltr">ORAENV</code> file and run the <code dir="ltr">/SET-FILE-LINK</code> command before calling any Oracle Database program:</p>
<pre dir="ltr">
/SET-FILE-LINK ORAENV, <span class="codeinlineitalic">filename</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">filename</span></code> is the name of a file having the same format as <code dir="ltr">DEMO.P.ORAENV</code> and which defines at least the <code dir="ltr">ORASID</code> environment variable.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>The database administrator must not modify the <code dir="ltr">ORAENV</code> file while the Oracle Database is running.</p>
</li>
<li>
<p>Users may modify their <code dir="ltr">ORAENV</code> file at any time.</p>
</li>
</ul>
</div>
<p>You can run several Oracle Databases simultaneously on your BS2000 system; even within the same Database Administrator account. A unique system identifier provides a globally unique name for the database so that a user can select a particular database by setting the <code dir="ltr">ORASID</code> environment variable. The user does this by activating the <code dir="ltr">ORAENV</code> file <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.P.ORAENV</code>.</p>
<p>Whenever an Oracle Database product, for example, SQL*Plus, is started, it checks if the link name <code dir="ltr">ORAENV</code> is defined and reads the related file, storing the variable assignments for later use. If link name <code dir="ltr">ORAENV</code> is not set or the related file cannot be read, then the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> remains undefined. Oracle recommends that a link name <code dir="ltr">ORAENV</code> is always defined before calling an Oracle Database program.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGBDBH"></a>
<div id="DFSIG473" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5.4</span> POSIX Environment and ORAENV File</h3>
<p>Every Oracle Database utility and product running in the POSIX shell get the environment variables from the POSIX environment. All Oracle and BS2000-specific variables can be set in the POSIX environment. The Oracle environment variable <code dir="ltr">ORACLE_HOME</code> must be set. To run the utility for a particular database, you must also set the Oracle environment variable <code dir="ltr">ORACLE_SID</code>. The operating system environment variable <code dir="ltr">PATH</code> must be extended by the path to the Oracle binaries <code dir="ltr">$ORACLE_HOME/bin</code>. If you do not set any other Oracle variable in the POSIX environment, then the Oracle utilities use default values.The installation procedure creates a profile in the <code dir="ltr">$ORACLE_HOME</code> directory which can be executed to set and export the most important environment variables like <code dir="ltr">ORACLE_HOME</code>, <code dir="ltr">PATH</code> or <code dir="ltr">LD_LIBRARY_PATH</code>. You can process this profile with the command:</p>
<pre dir="ltr">
$ . <span class="codeinlineitalic">your_oracle_home</span>/.profile.oracle
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle environment variable <code dir="ltr">BGJPAR</code> is not set after running the <code dir="ltr">.profile.oracle.</code> If you do not set this variable, then the default value<code dir="ltr">, BGJPAR=START=IMME,CPU-LIMIT=NO,LOGGING=*NO,</code> is used by Oracle utilities.</div>
<p>You can change the default value of a variable by setting this variable in the POSIX environment. For example:</p>
<pre dir="ltr">
$ NLS_LANG=German_Germany.WE8BS2000
$ export NLS_LANG
</pre>
<p>You can also use the <code dir="ltr">ORAENV</code> file that you created in the BS2000 file system. Create a file with the name <code dir="ltr">oraenv</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code> in the <code dir="ltr">$ORACLE_HOME/dbs</code> directory describing the location and name of the <code dir="ltr">ORAENV</code> file.</p>
<p>Let us assume that you want to use the <code dir="ltr">ORAENV</code> file <code dir="ltr">$ORADATA.ORCL.P.ORAENV</code>. Create an <code dir="ltr">oraenvORCL</code> file in <code dir="ltr">$ORACLE_HOME/dbs</code> that contains the name of the BS2000 <code dir="ltr">ORAENV</code> file as follows:</p>
<pre dir="ltr">
$ ORACLE_HOME=/u01/app/orac1120/db11g
$ export ORACLE_HOME
$ echo '$ORADATA.ORCL.P.ORAENV' &gt; $ORACLE_HOME/dbs/oraenvORCL
</pre>
<p>Set the Oracle environment variable <code dir="ltr">ORACLE_SID</code> and call the utility:</p>
<pre dir="ltr">
$ ORACLE_SID=ORCL
$ export ORACLE_SID
$ $ORACLE_HOME/bin/sqlplus /nolog
</pre>
<p>Oracle utilities running in the POSIX shell handle the variables of the BS2000 <code dir="ltr">ORAENV</code> file as lower-ranking variables. If a variable is set in the POSIX environment and the same variable is defined in the <code dir="ltr">ORAENV</code> file, then the POSIX variable is not overwritten by the <code dir="ltr">ORAENV</code> variable. For example, if the variable <code dir="ltr">NLS_LANG</code> is set to <code dir="ltr">German_Germany.WE8BS2000</code> in the POSIX environment and <code dir="ltr">NLS_LANG</code> is also defined as <code dir="ltr">American_America.WE8BS2000</code> in the BS2000 <code dir="ltr">ORAENV</code> file, then the variable keeps the value <code dir="ltr">German_Germany.WE8BS2000</code> in the program environment of the Oracle utility running in the POSIX shell.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>The variables <code dir="ltr">ORACLE_HOME</code> and <code dir="ltr">ORACLE_</code><code dir="ltr">SID</code> must be set.</p>
</li>
<li>
<p>The <code dir="ltr">ORAENV</code> file in the BS2000 file system must be accessible for the utility.</p>
</li>
<li>
<p>In a POSIX environment, the variables of the BS2000 <code dir="ltr">ORAENV</code> file are handled as subordinated variables.</p>
</li>
<li>
<p>To access a BS2000 <code dir="ltr">ORAENV</code> file, you must create a file <code dir="ltr">oraenv</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code> in the <code dir="ltr">$ORACLE_HOME/dbs</code> directory that contains the fully qualified name of your BS2000 <code dir="ltr">ORAENV</code> file.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">SID</span></code> in the file name <code dir="ltr">oraenv</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code> is case sensitive and must match the <code dir="ltr">SID</code> specified in <code dir="ltr">ORACLE_SID</code>.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGCFDIH"></a>
<div id="DFSIG156" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.6</span> The ORALOAD Library</h2>
<p>The <code dir="ltr">ORALOAD</code> library, which is <code dir="ltr">$ORAC1120.ORALOAD.LIB</code> by default, is required to run any Oracle Database 11<span class="italic">g</span> Release 2 program. The Oracle Database uses this library to load executables and subroutines dynamically when required. The link name <code dir="ltr">ORALOAD</code> must identify the <code dir="ltr">ORALOAD</code> library before calling any Oracle Database program. If the link name is missing, then you get a <code dir="ltr">BLS (BS2000/OSD loader)</code> error message. Usually, this link name is set when the <code dir="ltr">ORAENV</code> procedure is called.</p>
</div>
<!-- class="sect1" -->
<a id="CEGBDICB"></a>
<div id="DFSIG157" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.7</span> The ORAMESG library</h2>
<p>The <code dir="ltr">ORAMESG</code> library, <code dir="ltr">$ORAC1120.ORAMESG.LIB</code> is required for dynamically loading tables, such as message files, by an Oracle task when required. The link name <code dir="ltr">ORAMESG</code> must identify the <code dir="ltr">ORAMESG</code> library before calling any Oracle program. If the link name is missing, then you get a <code dir="ltr">BLS (BS2000/OSD loader)</code> error message. Usually, this link name is set when the <code dir="ltr">ORAENV</code> procedure is called.</p>
</div>
<!-- class="sect1" -->
<a id="CEGHCEFJ"></a>
<div id="DFSIG410" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.8</span> User ID Requirements</h2>
<p>Review the following sections to know about the user ID requirements.</p>
<ul>
<li>
<p><a href="#CHDIJFED">Installation User ID (ORAUID)</a></p>
</li>
<li>
<p><a href="#CHDFHABB">DBA User ID</a></p>
</li>
<li>
<p><a href="#CHDCCBGE">User IDs for Oracle users</a></p>
</li>
</ul>
<a id="CHDIJFED"></a>
<div id="DFSIG159" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.8.1</span> Installation User ID (ORAUID)</h3>
<p><a id="sthref37"></a>During installation, the complete Oracle Database software is installed into this user ID, which should be empty. This installation user ID,<code dir="ltr">ORAUID</code> includes:</p>
<ul>
<li>
<p>Executable programs, such as SQL*Plus, the background, and network programs.</p>
</li>
<li>
<p>Load libraries, in particular, <code dir="ltr">ORALOAD.LIB</code>, from which modules are loaded during program execution. For example, the shared KERNEL module, and the precompiler run-time modules.</p>
</li>
<li>
<p>Message files.</p>
</li>
<li>
<p>Other data files, such as SQL file, for the <code dir="ltr">DEMO</code> tables.</p>
</li>
<li>
<p>The <code dir="ltr">INCLUDE</code> files, application demo files, and system configuration files specifying default precompiler options for precompiler users.</p>
</li>
<li>
<p>Object libraries required to link-edit precompiler applications, such as <code dir="ltr">PRO.LIB</code>.</p>
</li>
<li>
<p>Port-specific installation utilities, such as programs, command procedures, and so on.</p>
</li>
<li>
<p>Default configuration files, such as the default <code dir="ltr">ORAENV</code> file.</p>
</li>
</ul>
<p>A separate <code dir="ltr">ORAUID</code> is required for every Oracle Database release. However, multiple databases using the same version can, and should, refer to the same installation user ID.</p>
<div id="DFSIG160" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref38"></a>
<h4 class="sect3"><span class="secnum">2.8.1.1</span> Authorizations and File Access Rights</h4>
<p>This user ID does not require any special BS2000 privileges:</p>
<ul>
<li>
<p>You must not use the BS2000/OSD System Administrator user ID <code dir="ltr">TSOS</code> as an Oracle Database installation user ID.</p>
</li>
<li>
<p>The <code dir="ltr">ORAUID</code> does not require any specific user attributes or privileges.</p>
</li>
<li>
<p>Only the installation phase requires a BS2000 LOGIN under this user ID.</p>
</li>
<li>
<p>During installation all files are created with the following file attributes:</p>
<pre dir="ltr">
 USER-ACC=ALL-USERS, ACCESS=READ
</pre></li>
<li>
<p>You do not need to define write access for any file after installation.</p>
</li>
<li>
<p>The installation in the POSIX file system requires a unique user number and group number for the installation user ID.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div id="DFSIG161" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref39"></a>
<h4 class="sect3"><span class="secnum">2.8.1.2</span> Default Name</h4>
<p>The default name for the <code dir="ltr">ORAUID</code> is <code dir="ltr">$ORAC1120</code>. If you install Oracle Database 11<span class="italic">g</span> Release 2 under a different installation user ID, then the installation procedure changes the default value to the current installation user ID in all related files.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFHABB"></a>
<div id="DFSIG162" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.8.2</span> DBA User ID</h3>
<p><a id="sthref40"></a>The DBA user ID is a BS2000 user ID that is used as the owner of one or more Oracle databases. All the files for a specific Oracle database are owned by this user ID.</p>
<p>All tasks making up the running database, background tasks, and server tasks started for two-task Oracle Database, are executed under the DBA user ID. These tasks refer to the executable programs and libraries, which are available under the installation user ID, <code dir="ltr">ORAUID</code>. These programs and libraries need not, and should not be copied into the DBA user ID. It is possible to use the installation user ID, <code dir="ltr">ORAUID</code> as a DBA user ID. However, it is recommended that you use separate user IDs.</p>
<p>Multiple databases can be created under the same, or under different DBA user IDs. If installed under different BS2000 user IDs, then the databases are separated and protected from each other, subject to the BS2000 protection mechanisms. In particular, a Database Administrator cannot administer a database running under a different BS2000 user ID (there is no global DBA privilege in Oracle Database for BS2000/OSD).</p>
<div id="DFSIG164" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref41"></a>
<h4 class="sect3"><span class="secnum">2.8.2.1</span> Authorizations and File Access Rights</h4>
<p>The DBA user ID needs specific user attributes and privileges to run an Oracle Database. These privileges include:</p>
<ul>
<li>
<p>The right to start jobs immediately, preferably in a <code dir="ltr">JOBCLASS</code> reserved for Oracle Database background jobs. Failure to do this may cause delays when starting the database and when spawning server tasks.</p>
</li>
<li>
<p>The right to start jobs with no time limit (<code dir="ltr">TIME=NTL</code>). Failure to do this may cause database tasks to terminate.</p>
</li>
<li>
<p>The right to set jobs to TP state. Failure to do this may reduce database performance.</p>
</li>
<li>
<p>The right to set Common Memory Pools as read-only. Failure to do this may reduce shared-code security.</p>
</li>
<li>
<p>The BS2000/OSD System Administrator user ID <code dir="ltr">TSOS</code> should not, under any circumstances, be used as an Oracle Database <code dir="ltr">DBA</code> user ID.</p>
</li>
<li>
<p>File access rights set under the <code dir="ltr">DBA</code> user ID should be:</p>
<pre dir="ltr">
USER-ACC=OWNER-ONLY, ACCESS=WRITE
</pre></li>
<li>
<p>The POSIX user for the DBA user ID must be initialized with a unique user number and group number.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div id="DFSIG165" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref42"></a>
<h4 class="sect3"><span class="secnum">2.8.2.2</span> Default Name</h4>
<p>There is no default name for the DBA user ID.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCCBGE"></a>
<div id="DFSIG166" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.8.3</span> User IDs for Oracle users</h3>
<p><a id="sthref43"></a>An Oracle user accesses and uses the database through Oracle utilities, such as SQL*Plus, and through the precompiler application programs. The user can connect to Oracle Database through Oracle Net Services facilities.</p>
<p>The BS2000 user ID can also be used as Oracle Database connect user ID by the <code dir="ltr">OPS$</code> generic facility.</p>
<div id="DFSIG167" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref44"></a>
<h4 class="sect3"><span class="secnum">2.8.3.1</span> Authorizations and File Access Rights</h4>
<p>These user IDs do not require any special BS2000 privileges:</p>
<ul>
<li>
<p>No file owned by a normal user needs any specific access attributes, as Oracle Database programs access such files locally from within that user ID. For example, <code dir="ltr">LOGIN.SQL</code> data files.</p>
</li>
<li>
<p>No specific user attributes or privileges are needed.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2612">
<tr>
<td class="cellalignment2621">
<table class="cellalignment2617">
<tr>
<td class="cellalignment2616"><a href="relnotes.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2616"><a href="install.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2623">
<table class="cellalignment2615">
<tr>
<td class="cellalignment2616"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2616"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2616"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2616"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2616"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2616"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
