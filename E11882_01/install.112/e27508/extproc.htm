<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>External Procedures</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060" />
<meta name="dcterms.created" content="2015-07-23T2:44:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E27508-04" />
<meta name="dcterms.isVersionOf" content="DFSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="initmedia.htm" title="Previous" type="text/html" />
<link rel="Next" href="java.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e27508.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">14/24</span> <!-- End Header -->
<div id="DFSIG273" class="chapter"><a id="sthref131"></a>
<h1 class="chapter"><span class="secnum">11</span> External Procedures</h1>
<p>This chapter describes how to create an environment on BS2000/OSD, where <a id="sthref132"></a>external procedure calls can operate. It complements the chapter about External Routines in the Fundamentals section of <a class="olink ADFNS" href="../../appdev.112/e41502/toc.htm"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>.</p>
<div id="DFSIG274" class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref133"></a>
<h2 class="sect1"><span class="secnum">11.1</span> <a id="sthref134"></a>Loading External Procedures</h2>
<p>This section complements the corresponding part in <a class="olink ADFNS" href="../../appdev.112/e41502/toc.htm"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>.</p>
<p>Follow these steps to load external procedures:</p>
<ol>
<li>
<p>Set up the environment.</p>
<p>An external procedure does not run in the same process and address space as the caller. Oracle creates separate processes for them to operate in a safe and secure manner. For this purpose Oracle Net Services features are used and it is the responsibility of the user to provide appropriate Oracle Net Services parameter files. In this section, we have documented an example of how it can work. For more information, refer to <a class="olink ADFNS" href="../../appdev.112/e41502/toc.htm"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>, <a class="olink ADDCI" href="../../appdev.112/e10765/toc.htm"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a>, and <span class="italic">Oracle Database Net Services</span> documentation set.</p>
<p>The <code dir="ltr">listener.ora</code> file should have the following entry:</p>
<pre dir="ltr">
(SID_DESC = (SID_NAME = ep_agt1)
            (ENVS = EXTPROC_DLLS=ANY)
            (ORACLE_SID = <span class="italic">sid_of_your_database</span>)
            (PROGRAM = EXTPROC)
)
</pre>
<p>The <code dir="ltr">tnsnames.ora</code> file should have the following entry:</p>
<pre dir="ltr">
extproc_connection_data = (DESCRIPTION =(ADDRESS =(PROTOCOL=ipc)
(KEY = <span class="italic">sid_of_your_database</span>)(CONNECT_DATA =(PRESENTATION=RO)
(SID = ep_agt1)))
</pre>
<p>Then you can start a listener.</p>
</li>
<li>
<p>Identify the 'DLL'.</p>
<p>A DLL in the BS2000 environment is a BS2000 LMS library containing the functions called as external procedures. When <code dir="ltr">EXTPROC</code> is loaded these functions are dynamically bound to the program.</p>
<p>Use the following command to identify your library to Oracle:</p>
<pre dir="ltr">
CREATE LIBRARY my_c_library AS '$myuserid.my-modlib';
</pre>
<p>The external C routine has to be compiled and the generated LLM has to be stored in the LMS library. If you set the <code dir="ltr">MODULE-PROPERTIES</code> option <code dir="ltr">LOWER-CASE-NAMES</code>=<code dir="ltr">*NO</code>, then all lowercase letters in the entry names are converted to uppercase.</p>
<p>Furthermore, if you set the MODULE-PROPERTIES option <code dir="ltr">SPECIAL-CHARACTERS</code>=<code dir="ltr">*CONVERT-TO-DOLLAR</code>, then all underscores (<code dir="ltr">_</code>) in entry names are converted to dollar signs (<code dir="ltr">$</code>), which must be considered when publishing the external procedure.</p>
</li>
<li>
<p>Publishing and running external procedures does not differ from the description in <a class="olink ADFNS" href="../../appdev.112/e41502/toc.htm"><span class="italic">Oracle Database Advanced Application Developer's Guide</span></a>. Result messages about the execution of the external procedure can be found in a file named <code dir="ltr">L</code>.<code dir="ltr"><span class="codeinlineitalic">sid</span></code>.<code dir="ltr">EXTP</code>.<code dir="ltr">S</code><code dir="ltr">YSOUT</code>.<code dir="ltr"><span class="codeinlineitalic">tsn</span></code>.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2612">
<tr>
<td class="cellalignment2621">
<table class="cellalignment2617">
<tr>
<td class="cellalignment2616"><a href="initmedia.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2616"><a href="java.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2623">
<table class="cellalignment2615">
<tr>
<td class="cellalignment2616"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2616"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2616"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2616"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2616"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2616"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
