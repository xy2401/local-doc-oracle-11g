<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Net Services</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060" />
<meta name="dcterms.created" content="2015-07-23T2:44:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Installation and Administration Guide" />
<meta name="dcterms.identifier" content="E27508-04" />
<meta name="dcterms.isVersionOf" content="DFSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="utm.htm" title="Previous" type="text/html" />
<link rel="Next" href="initmedia.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e27508.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/24</span> <!-- End Header -->
<div id="DFSIG247" class="chapter"><a id="CHDDIHHI"></a>
<h1 class="chapter"><span class="secnum">9</span> Oracle Net Services</h1>
<p>This chapter describes Oracle Net Services and it's implementation in the BS2000/OSD environment. It supplements the <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> with BS2000/OSD-specific information about the following topics:</p>
<ul>
<li>
<p><a href="#BABCFHEJ">Introducing Oracle Net Services</a></p>
</li>
<li>
<p><a href="#BABGIBEA">Shared Server Architecture</a></p>
</li>
<li>
<p><a href="#BABJBFDH">Oracle Advanced Security</a></p>
</li>
<li>
<p><a href="#BABGBAGJ">Configuring the Network</a></p>
</li>
<li>
<p><a href="#BABIDBEE">Troubleshooting Oracle Net Services</a></p>
</li>
</ul>
<a id="BABCFHEJ"></a>
<div id="DFSIG249" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">9.1</span> Introducing Oracle Net Services</h2>
<p>Oracle Net Services supports network communication between a client application and a remote or local database running on a variety of operating systems.</p>
<p>Oracle Net Services allows the database servers and the client applications, or servers acting as clients, to run on separate systems, and provides a means for moving data between the nodes on a network. For example, a UNIX or Windows user can run applications that access and manipulate data in a remote Oracle database running on a BS2000 system</p>
<p>Oracle Net Services is also used for Inter Process Communication if clients and database are running on the same system.</p>
<div id="DFSIG251" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref101"></a>
<h3 class="sect2"><span class="secnum">9.1.1</span> IPC Protocol Support</h3>
<p>This section introduces Oracle's Interprocess Communication (IPC) protocol support for inter-process calls. It is used to map the functionality of IPC to Oracle's Net Foundation Layer. The IPC protocol is supported for native BS2000 only. Oracle Utilities and products running in the POSIX shell cannot use the IPC protocol.</p>
<div id="DFSIG252" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref102"></a>
<h4 class="sect3"><span class="secnum">9.1.1.1</span> Overview of IPC</h4>
<p>On BS2000 systems, the IPC protocol is used for local inter-process communication. The Oracle Protocol Support for IPC uses the ISO functionality of the BS2000 sockets.</p>
<p>The client process initiates its IPC connection with the remote process by specifying a <code dir="ltr">KEY</code> that describes the listening process. Once the connection is established, the two communicating processes send and receive data through a continuous byte stream.</p>
</div>
<!-- class="sect3" -->
<div id="DFSIG253" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref103"></a>
<h4 class="sect3"><span class="secnum">9.1.1.2</span> Using the IPC Protocol</h4>
<p>The IPC protocol allows applications to integrate with the Inter Process Communication method on a local host. The following is the syntax for using IPC protocol:</p>
<pre dir="ltr">
(ADDRESS= 
           (PROTOCOL=IPC) 
           (KEY=alphanumeric)
)
</pre>
<p>where</p>
<p><code dir="ltr">PROTOCOL</code> specifies the supported protocol. For IPC, the value is <code dir="ltr">IPC</code>.</p>
<p><code dir="ltr">KEY</code> specifies the listen endpoint. A string of at most 32 characters: [a...z], [A...Z], [0...9], '.', '-', '_', '$'</p>
<p>The following is an example of an IPC ADDRESS that specifies a server on a local host:</p>
<pre dir="ltr">
(ADDRESS= 
           (PROTOCOL=IPC) 
           (KEY=ORCL) 
) 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The IPC protocol is not supported in the POSIX shell. If the IPC protocol is specified by a utility or user application running in the POSIX shell, then Oracle Net Services avoids using the IPC protocol with the following error message:
<pre dir="ltr">
TNS-12557: TNS:protocol adapter not loadable
</pre></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="DFSIG254" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref104"></a>
<h3 class="sect2"><span class="secnum">9.1.2</span> TCP/IP Protocol Support</h3>
<p>This section introduces Oracle's TCP/IP protocol support, which is used to map the functionality within TCP/IP to Oracle's Net Foundation Layer.</p>
<div id="DFSIG255" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref105"></a>
<h4 class="sect3"><span class="secnum">9.1.2.1</span> Overview of TCP/IP</h4>
<p>TCP/IP is a family of related protocols that derives its name from two main components: the Transmission Control Protocol (TCP) and the Internet Protocol (IP). The IP component dispatches information around the network, and the TCP component assures reliable transfer of data from one point to another.</p>
<p>Application software sitting on top of the TCP/IP protocol views the network as a reliable two-way data transmission medium. This medium provides inter-process communication in a connection-oriented manner between pairs of processes in host computers attached to inter-connected computer networks.</p>
<p>The application or client process initiates its TCP/IP connection with the remote host process by specifying an address pair:</p>
<ul>
<li>
<p>A host IP address</p>
</li>
<li>
<p>A TCP port (or entry point) on the host</p>
</li>
</ul>
<p>Once the connection is established, the pair of communicating processes sends and receives data through a continuous byte stream. The TCP/IP protocol is supported in BS2000 and the POSIX shell.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="DFSIG256" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref106"></a>
<h3 class="sect2"><span class="secnum">9.1.3</span> Using the TCP/IP Protocol<a id="sthref107"></a><a id="sthref108"></a></h3>
<p>The TCP/IP protocol support implements a standard interface that is used to resolve the equivalent communication functions between the TCP/IP protocol and Oracle's Net Foundation Layer.</p>
<p>After the TCP/IP protocol is installed for the particular system, you can use the TCP/IP&ndash;specific parameters with the TNS connect descriptors to identify nodes within a TCP/IP-based community.</p>
<p>The specific TCP/IP connection parameters are part of the <code dir="ltr">ADDRESS</code> keyword-value pair. The three TCP/IP&ndash;specific parameters can be entered in any order within the <code dir="ltr">ADDRESS</code> construct. The syntax used by Oracle's TCP/IP protocol support is:</p>
<pre dir="ltr">
(ADDRESS=
            (PROTOCOL=TCP)
    (HOST=hostname) 
    (PORT=port#) 
)
</pre>
<p>where</p>
<p><code dir="ltr">PROTOCOL</code> specifies the supported protocol. For TCP/IP, the value is <code dir="ltr">TCP</code>.</p>
<p><code dir="ltr">HOST</code> specifies the host name or the host's IP address.</p>
<p><code dir="ltr">PORT</code> specifies the TCP/IP port number.</p>
<p>The following is an example of the TCP/IP ADDRESS specifying a client on the <code dir="ltr">sales-server</code> host:</p>
<pre dir="ltr">
(ADDRESS=
            (PROTOCOL=TCP)
    (HOST=sales-server) 
    (PORT=1521) 
)
</pre></div>
<!-- class="sect2" -->
<a id="BABGAICB"></a>
<div id="DFSIG380" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.1.4</span> <a id="sthref109"></a>Bequeath Protocol</h3>
<p>The Bequeath technique enables clients to connect to a database without using the network listener. Oracle's Bequeath protocol internally spawns a server process for each client application. It does the same operation that a remote network listener does for the connection locally.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 10g the BEQ protocol uses the handoff technique which makes this protocol incompatible with the BEQ protocol of prior versions. As a consequence of this enhancement, Oracle Database 11<span class="italic">g</span> applications cannot directly spawn a process of a version before Oracle Database 10<span class="italic">g</span> and connect to it through the BEQ protocol.</div>
<div id="DFSIG258" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref110"></a>
<h4 class="sect3"><span class="secnum">9.1.4.1</span> Overview of the Bequeath Protocol</h4>
<p>The Bequeath protocol</p>
<ul>
<li>
<p>Does not use a network listener (therefore, no listener configuration is required).</p>
</li>
<li>
<p>Automatically spawns a dedicated server</p>
</li>
<li>
<p>Is used for local connections where an Oracle Database client application, such as SQL*Plus, communicates with an Oracle Database instance running on the same computer.</p>
</li>
<li>
<p>Only works in Dedicated Server mode. It cannot be used in Shared Server mode.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If clients are running under a user ID different from the <code dir="ltr">DBA</code> user ID, then Oracle recommends using a net service name to connect through a listener to the destination database.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGIBEA"></a>
<div id="DFSIG259" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">9.2</span> Shared Server Architecture</h2>
<p>The initialization parameters that control the shared server architecture are as follows:</p>
<ul>
<li>
<p><code dir="ltr">LOCAL_LISTENER</code><a id="sthref111"></a><a id="sthref112"></a></p>
</li>
<li>
<p><code dir="ltr">DISPATCHERS<a id="sthref113"></a><a id="sthref114"></a></code></p>
</li>
<li>
<p><code dir="ltr">MAX_DISPATCHERS</code><a id="sthref115"></a><a id="sthref116"></a></p>
</li>
<li>
<p><code dir="ltr">SHARED_SERVERS</code><a id="sthref117"></a><a id="sthref118"></a></p>
</li>
<li>
<p><a id="sthref119"></a><code dir="ltr">MAX_SHARED_SERVER<a id="sthref120"></a>S</code></p>
</li>
<li>
<p><code dir="ltr"><a id="sthref121"></a>SHARED_SERVER_SESSIONS<a id="sthref122"></a></code></p>
</li>
<li>
<p><a id="sthref123"></a><code dir="ltr">CIRCUITS</code><a id="sthref124"></a></p>
</li>
</ul>
<p>For detailed information about the shared server architecture, refer to the <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
<p>The shared server architecture and the dedicated server architecture can work concurrently in an instance. Provide information in the connect descriptor to indicate whether a connecting application should use the shared server or the dedicated server architecture. By default, the listener process uses the shared server architecture and if you want the application to use the dedicated server architecture instead, you must set <code dir="ltr">USE_DEDICATED_SERVER=ON</code> in the <code dir="ltr">SQLNET.ORA</code> file or specify a <code dir="ltr">net_service_name</code> with the parameter <code dir="ltr">SERVER</code> in the used naming method. The <code dir="ltr">SQLNET.ORA</code> parameter <code dir="ltr">USE_DEDICATED_SERVER=ON</code> overwrites the parameter <code dir="ltr">SERVER</code>.</p>
<p>The following example shows how to reference a dedicated server in a shared server configuration by using a specially defined net service name:</p>
<pre dir="ltr">
FINANCE_DED=(DESCRIPTION=
                     (ADDRESS=
                          (PROTOCOL=TCP)
                          (HOST=sales-server)
                          (PORT=1521))
                     (CONNECT_DATA=
                          (SERVICE_NAME=sales.us.acme.com)
                          (SERVER=dedicated)))
</pre>
<p>For more information, refer to the <a class="olink NETRF" href="../../network.112/e10835/toc.htm"><span class="italic">Oracle Database Net Services Reference</span></a>.</p>
<p>To choose between using the shared server and the dedicated server architecture, you must consider the CPU overhead versus resource allocation, such as, tasks, memory, and so on. Use the shared server architecture if many clients work only occasionally with an Oracle database. Use the dedicated server architecture if only a few clients work intensively with an Oracle database. Before you decide, consider using the information in the following shared server dynamic tables:</p>
<ul>
<li>
<p><code dir="ltr">V$DISPATCHER</code></p>
</li>
<li>
<p><code dir="ltr">V$QUEUE</code></p>
</li>
<li>
<p><code dir="ltr">V$SHARED_SERVERS</code></p>
</li>
<li>
<p><code dir="ltr">V$SHARED_SERVER_MONITOR</code></p>
</li>
</ul>
<p>For more information about these tables, refer to the <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABJBFDH"></a>
<div id="DFSIG260" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">9.3</span> Oracle Advanced Security</h2>
<p>With this release the data integrity and the cryptographic services of Oracle Advanced Security are supported. The Secure Sockets Layer (SSL) protocol is also supported. SSL provides authentication, encryption, and data integrity using public key infrastructure (PKI). SSL stores authentication data, such as certificates and private keys, in an Oracle Wallet.</p>
<p>For using either the data integrity, or the cryptographic services, or both, you must specify the appropriate parameters in the <code dir="ltr">SQLNET.ORA</code> file.</p>
<p>Use the following parameters to specify whether a service (example: crypto-checksumming or encryption) should be active:</p>
<pre dir="ltr">
SQLNET.CRYPTO_CHECKSUM_CLIENT
SQLNET.CRYPTO_CHECKSUM_SERVER
SQLNET.ENCRYPTION_CLIENT
SQLNET.ENCRYPTION_SERVER
</pre>
<p>Each of the preceding parameters defaults to <code dir="ltr">REJECTED</code>.</p>
<p>Each of the preceding parameters can have one of the following values:</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table summarizes the values and their corresponding meaning for Oracle Advanced Security" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t5">Value</th>
<th class="cellalignment2620" id="r1c2-t5">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t5" headers="r1c1-t5"><code dir="ltr">ACCEPTED</code></td>
<td class="cellalignment2621" headers="r2c1-t5 r1c2-t5">The service is active if the other side of the connection specifies <code dir="ltr">REQUESTED</code> or <code dir="ltr">REQUIRED</code> and there is a compatible algorithm available on the other side. It is inactive otherwise.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t5" headers="r1c1-t5"><code dir="ltr">REJECTED</code></td>
<td class="cellalignment2621" headers="r3c1-t5 r1c2-t5">The service must not be active, and the connection fails if the other side specifies <code dir="ltr">REQUIRED</code>.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r4c1-t5" headers="r1c1-t5"><code dir="ltr">REQUESTED</code></td>
<td class="cellalignment2621" headers="r4c1-t5 r1c2-t5">The service is active if the other side specifies <code dir="ltr">ACCEPTED</code>, <code dir="ltr">REQUESTED</code>, or <code dir="ltr">REQUIRED</code> and there is a compatible algorithm available on the other side. It is inactive otherwise.</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r5c1-t5" headers="r1c1-t5"><code dir="ltr">REQUIRED</code></td>
<td class="cellalignment2621" headers="r5c1-t5 r1c2-t5">The service must be active, and the connection fails if the other side specifies <code dir="ltr">REJECTED</code> or if there is no compatible algorithm on the other side.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Use the following parameters to control which algorithms are made available for each service on each end of a connection:</p>
<pre dir="ltr">
SQLNET.CRYPTO_CHECKSUM_TYPES_CLIENT
SQLNET.CRYPTO_CHECKSUM_TYPES_SERVER
SQLNET.ENCRYPTION_TYPES_CLIENT
SQLNET.ENCRYPTION_TYPES_SERVER
</pre>
<p>The value of each of these parameters can be either a list of algorithm names in parenthesis separated by commas or a single algorithm name.</p>
<p>The default crypto checksum type is MD5, while the encryption defaults to all the algorithms.</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table lists the default crypto checksum and encryption types and their corresponding values" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t6">Type</th>
<th class="cellalignment2620" id="r1c2-t6">Values</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t6" headers="r1c1-t6">Crypto checksum types</td>
<td class="cellalignment2621" headers="r2c1-t6 r1c2-t6"><code dir="ltr">SHA1</code>, <code dir="ltr">MD5</code></td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t6" headers="r1c1-t6">Encryption types</td>
<td class="cellalignment2621" headers="r3c1-t6 r1c2-t6"><code dir="ltr">AES256</code>, <code dir="ltr">RC4_256</code>, <code dir="ltr">AES192</code>, <code dir="ltr">3DES168</code>, <code dir="ltr">AES128</code>, <code dir="ltr">RC4_128</code>, <code dir="ltr">3DES112</code>, <code dir="ltr">RC4_56</code>, <code dir="ltr">DES</code>, <code dir="ltr">RC4_40</code>, <code dir="ltr">DES40</code></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>Use the parameter <code dir="ltr">SQLNET.CRYPTO_SEED</code> to specify the characters used when generating cryptographic keys. The more random the characters are, the stronger the keys are. The string should be 10-70 random characters. This is required when encryption or checksumming is turned on.</p>
<pre dir="ltr">
SQLNET.CRYPTO_SEED="qwertyuiopasdfghjkl;zxcvbnm,.s1"
</pre>
<p>For more information, refer to <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>, <a class="olink NETRF" href="../../network.112/e10835/toc.htm"><span class="italic">Oracle Database Net Services Reference</span></a>, and <a class="olink ASOAG" href="../../network.112/e40393/toc.htm"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a>.</p>
<p>Example:</p>
<pre dir="ltr">
SQLNET.CRYPTO_CHECKSUM_CLIENT=required
SQLNET.CRYPTO_CHECKSUM_TYPES_CLIENT=(md5)
SQLNET.ENCRYPTION_CLIENT=accepted
SQLNET.ENCRYPTION_TYPES_CLIENT=(aes192,3des168,rc4_128)
SQLNET.CRYPTO_SEED="qwertyuiopasdfghjkl;zxcvbnm,.s1"
</pre></div>
<!-- class="sect1" -->
<a id="BABGBAGJ"></a>
<div id="DFSIG261" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">9.4</span> Configuring the Network</h2>
<p>Although, you can use the Easy Connect Naming Method to connect to the database, it is recommended to configure clients for the use of service names that are easy to remember aliases for database addresses and match the address preconfigured in each system's <code dir="ltr">LISTENER.ORA</code> file. The client uses these addresses to connect to the network listener, which routes the connection request to the required service. During a connection, a client passes the service name to which it wants to connect.</p>
<p><code dir="ltr">LISTENER.ORA</code> file identifies and controls the behavior of the network listener that listens for services on the system. This file includes network listener descriptors and addresses, services the listener is listening for, and various control parameters.</p>
<p>Client configuration is accomplished by creating a list of net service names with addresses of network destinations through the local naming parameter file <code dir="ltr">TNSNAMES.ORA</code> or an LDAP compliant directory server. Clients and database servers (that are clients of other database servers) use the net service name when making a connection.</p>
<ul>
<li>
<p><a href="#CHDFBECF">Using Easy Connect Naming Method</a></p>
</li>
<li>
<p><a href="#CHDDCJAG">Using the Local Naming Method</a></p>
</li>
<li>
<p><a href="#CHDHCHBJ">Using the Directory Naming Method</a></p>
</li>
<li>
<p><a href="#CHDGACHG">Configuration on the Server</a></p>
</li>
<li>
<p><a href="#CHDBJHJE">Configuration on the Client</a></p>
</li>
<li>
<p><a href="#CHDEBBCI">Testing the Configuration on the Client</a></p>
</li>
</ul>
<a id="CHDFBECF"></a>
<div id="DFSIG516" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.1</span> Using Easy Connect Naming Method</h3>
<p>The Easy Connect naming method, can be used to connect to a database without the need to configure service names in the <code dir="ltr">TNSNAMES.ORA</code> configuration file. For using the Easy Connect naming method, ensure that <code dir="ltr">EZCONNECT</code> is listed in the client's configuration file parameter for naming adaptors <code dir="ltr"><span class="codeinlineitalic">names.directory_path</span></code>.</p>
<p>Easy Connect naming is only suitable in small and simple environments. Refer to "Using the Easy Connect Naming Method" in <a class="olink NETAG255" href="../../network.112/e41945/naming.htm#NETAG255">Oracle Database Net Services Administrator's Guide</a> for more information about the Easy Connect naming method.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDCJAG"></a>
<div id="DFSIG262" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.2</span> Using the Local Naming Method</h3>
<p>Local naming refers to the method of resolving a service name to a network address by using information configured on each individual client in a <code dir="ltr">TNSNAMES.ORA</code> configuration file. For using the local naming ensure that <code dir="ltr">TNSNAMES</code> is listed in the client's configuration file parameter for naming adaptors <code dir="ltr"><span class="codeinlineitalic">names.directory_path</span></code>.</p>
<p>Local naming is most appropriate for simple distributed networks with a small number of services that change infrequently.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHCHBJ"></a>
<div id="DFSIG263" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.3</span> Using the Directory Naming Method</h3>
<p>Directory Naming refers to the method of resolving a service name to a network address by using a Directory Server. For using a directory server ensure that <code dir="ltr">LDAP</code> is listed in the client's configuration file parameter for naming adaptors <code dir="ltr"><span class="codeinlineitalic">names.directory_path</span></code> and that the target address of the directory server is configured in the parameter file <code dir="ltr"><a id="sthref125"></a>LDAP.ORA</code>, for example:</p>
<pre dir="ltr">
# LDAP.ORA Network Configuration File: network.admin.ldap.ora
DEFAULT_ADMIN_CONTEXT = ""
DIRECTORY_SERVERS= (oid_server:389:636)
DIRECTORY_SERVER_TYPE = <span class="italic">Your Internet Directory</span>
</pre>
<p>For more information, refer to the <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGACHG"></a>
<div id="DFSIG265" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.4</span> Configuration on the Server</h3>
<p>Follow these steps to configure the Oracle Names Method:</p>
<ol>
<li>
<p>Before starting the listener, you must set up the listener's configuration file <code dir="ltr">LISTENER.ORA</code>. This file includes the addresses of the listeners and various control parameters used by the listener. For more information refer to the <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a></p>
<p>On BS2000 systems you have the chance to define additional job parameters for the Oracle Database tasks particularly a <code dir="ltr">PROCESSING-ADMISSION</code> to start a job under a user ID different from the user ID of the running job. This technique provides the benefits of using only one listener for all Oracle instances on the system. The instances need not run under the same user IDs. If you want to run only one listener on the database computer, then you must specify the following parameters in the listener's environment file <code dir="ltr"><span class="codeinlineitalic">sid</span></code>.<code dir="ltr">P</code>.<code dir="ltr">ORAENV</code>:</p>
<div class="inftblinformal">
<table class="cellalignment2619" title="Conventions Table" summary="The table lists the meaning of various parameters" dir="ltr">
<thead>
<tr class="cellalignment2613">
<th class="cellalignment2620" id="r1c1-t7">Parameter</th>
<th class="cellalignment2620" id="r1c2-t7">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r2c1-t7" headers="r1c1-t7"><code dir="ltr">BGJPAR</code></td>
<td class="cellalignment2621" headers="r2c1-t7 r1c2-t7">parameters for <code dir="ltr">ENTER</code> jobs</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r3c1-t7" headers="r1c1-t7"><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_BGJPAR</code></td>
<td class="cellalignment2621" headers="r3c1-t7 r1c2-t7">parameters for <code dir="ltr">ENTER</code> jobs identified by <code dir="ltr"><span class="codeinlineitalic">SID</span></code></td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r4c1-t7" headers="r1c1-t7"><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_USER</code></td>
<td class="cellalignment2621" headers="r4c1-t7 r1c2-t7">the user ID under which the job should run</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r5c1-t7" headers="r1c1-t7"><code dir="ltr"><span class="codeinlineitalic">user</span></code><code dir="ltr">_ACCOUNT</code></td>
<td class="cellalignment2621" headers="r5c1-t7 r1c2-t7">Account of the target user ID</td>
</tr>
<tr class="cellalignment2613">
<td class="cellalignment2621" id="r6c1-t7" headers="r1c1-t7"><code dir="ltr"><span class="codeinlineitalic">user</span></code><code dir="ltr">_PASSWORD</code></td>
<td class="cellalignment2621" headers="r6c1-t7 r1c2-t7">Password of the target user ID</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>The following example of an <code dir="ltr">ORAENV</code> file configured for a central listener process shows how the parameters work. The listener can share this <code dir="ltr">ORAENV</code> file with an instance, which runs under the same user ID. For a better understanding, we assume that the listener and the instances <code dir="ltr">DEMO</code> and <code dir="ltr">DEM1</code> are running under the user ID <code dir="ltr">ORACDEM1</code> while the instance <code dir="ltr">DEM2</code> is running under the user ID <code dir="ltr">ORACDEM2</code>. We define the following parameters:</p>
<pre dir="ltr">
BGJPAR=J-C=JCBORA,START=IMME,CPU-LIMIT=NO,LOGGING=*NO
DEM1_BGJPAR=J-C=JCBDEM1,START=IMME,CPU-LIMIT=NO
DEM2_USER=ORACDEM2
ORACDEM2_ACCOUNT=O1234
ORACDEM2_PASSWORD=ORACLE
</pre>
<p>The listener always runs the same sequence to look up the parameters <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_BGJPAR</code> and <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_USER</code>. If no value for <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_BGJPAR</code> is found, then the listener uses the value given by the parameter <code dir="ltr">BGJPAR</code>. If a user ID is given by <code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">_USER</code>, then the listener tries to get the processing admission from the parameters <code dir="ltr">user_ACCOUNT</code> and <code dir="ltr">user_PASSWORD</code>. For the given <code dir="ltr">ORAENV</code> we get the following scenarios for the listener:</p>
<ul>
<li>
<p>The listener should start a server for the instance <code dir="ltr">DEMO</code>. Because the parameters <code dir="ltr">DEMO_BGJPAR</code> and <code dir="ltr">DEMO_USER</code> are not defined the listener starts the server for the instance <code dir="ltr">DEMO</code> under the user ID <code dir="ltr">ORACDEM1</code> with the start parameters defined by <code dir="ltr">BGJPAR</code>.</p>
</li>
<li>
<p>If a server for the instance <code dir="ltr">DEM1</code> must be started, then the listener looks for the parameters <code dir="ltr">DEM1_BGJPAR</code> and <code dir="ltr">DEM1_USER</code>. In this case the parameter <code dir="ltr">DEM1_BGJPAR</code> can be evaluated, whereas, the evaluation of <code dir="ltr">DEM1_USER</code> failed because this parameter is not defined. Therefore, the listener adds the start parameters "<code dir="ltr">J-C=JCBDEM1,START=IMME,CPU-LIMIT=NO</code>" to the <code dir="ltr">ENTER-PROCEDURE</code> command and starts the job under the user ID <code dir="ltr">ORACDEM1</code>.</p>
</li>
<li>
<p>Now a server for instance <code dir="ltr">DEM2</code> must be started. The listener looks for the parameters <code dir="ltr">DEM2_BGJPAR</code> and <code dir="ltr">DEM2_USER</code>. The parameter <code dir="ltr">DEM2_BGJPAR</code> is not defined so that the listener uses the start parameters defined by <code dir="ltr">BGJPAR</code>. On the other hand the parameter <code dir="ltr">DEM2_USER</code> can be evaluated successfully and returns the value <code dir="ltr">ORACDEM2</code>. Now the listener tries to get the processing admission by evaluating the parameters <code dir="ltr">ORACDEM2_ACCOUNT</code> and <code dir="ltr">ORACDEM2_PASSWORD</code>. The listener starts the server job under the user ID <code dir="ltr">ORACDEM2</code> with the <code dir="ltr">ENTER-PROCEDURE</code> parameters "<code dir="ltr">J-C=JCBORA, START=IMME,CPU-LIMIT=NO,LOGGING=*NO</code>".</p>
</li>
</ul>
<p>Start the listener using the Listener Control Utility <code dir="ltr">LSNRCTL</code>:</p>
<pre dir="ltr">
/CALL-PROCEDURE <span class="codeinlineitalic">sid</span>.P.ORAENV
/START-PROGRAM $ORAC1120.LSNRCTL
</pre>
<p>When the <code dir="ltr">enter options</code> prompt is displayed, press <span class="bold">ENTER</span> to get to the <code dir="ltr">LSNRCTL</code> prompt. Enter the following command to start the Listener:</p>
<pre dir="ltr">
LSNRCTL&gt; START <span class="italic">listener-name</span>
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDBJHJE"></a>
<div id="DFSIG266" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.5</span> Configuration on the Client</h3>
<p>Configuration of network clients involves adding or editing parameters in the client configuration file <code dir="ltr">SQLNET.ORA</code> and dependent on the used naming method, the configuration file <code dir="ltr">LDAP.OR</code><code dir="ltr">A</code> or <code dir="ltr">TNSNAMES.ORA</code>. For more information about the configuration parameters, refer to <a class="olink NETRF" href="../../network.112/e10835/toc.htm"><span class="italic">Oracle Database Net Services Reference</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEBBCI"></a>
<div id="DFSIG267" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">9.4.6</span> Testing the Configuration on the Client</h3>
<p>After you have verified the network connections, you can verify the connections to the desired Oracle database systems using the <code dir="ltr">TNSPING</code> utility:</p>
<pre dir="ltr">
/CALL-PROCEDURE <span class="codeinlineitalic">sid</span>.P.ORAENV
/START-PROGRAM $ORAC1120.TNSPING
</pre>
<p>When the <code dir="ltr">enter options</code> prompt is displayed, enter the net service name for the database service which you have specified in the naming service. If everything works fine, then a message similar to the following is returned:</p>
<pre dir="ltr">
TNS Ping Utility for BS2000/OSD S series: Version 11.2.0.2.0 -   
Production on 12-JUN-2012 12:07:40
Used parameter files: network.admin.sqlnet.ora
Used TNSNAMES adapter to resolve the alias
Attempting to contact (DESCRIPTION = (ADDRESS_LIST = 
(ADDRESS = (PROTOCOL = TCP)(HOST = sales-server)(PORT = 3055)))
(CONNECT_DATA = (SERVICE_NAME = sales.us.acme.com)))
OK (40 msec)
</pre>
<p>For more information, refer to the <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABIDBEE"></a>
<div id="DFSIG268" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">9.5</span> Troubleshooting Oracle Net Services</h2>
<p>The following is a list of error messages and steps to fix the errors:</p>
<ol>
<li>
<p>Listener could not be started. <code dir="ltr">LSNRCTL</code> returns the following error message:</p>
<pre dir="ltr">
LSNRCTL&gt; start
Starting /BS2/$ORAC1120.tnslsnr: please wait...

TNS-12547: TNS:lost contact
TNS-12560: TNS:protocol adapter error
TNS-00517: Lost contact
BS2000 Error: 145: Connection timed out
LSNRCTL&gt;
</pre>
<ul>
<li>
<p>Ensure that the subsystem <code dir="ltr">POSIX</code> is up and running.</p>
</li>
<li>
<p>Ensure that the <code dir="ltr">BCAM</code> Light Weight Resolver <code dir="ltr">LWRESD</code> is properly configured and running.</p>
</li>
</ul>
</li>
<li>
<p>Listener could not open the log file.</p>
<ul>
<li>
<p>Check if the listener log file, for example, <code dir="ltr">NETWORK.LOG.LISTENER.LOG</code>, is accessible and readable.</p>
</li>
<li>
<p>Verify the listener log file using the BS2000 SDF command <code dir="ltr">REPAIR-DISK-FILES</code>.</p>
</li>
<li>
<p>If you are not able to repair the listener log file, then delete the file.</p>
</li>
</ul>
</li>
<li>
<p>A client reports ORA-12545</p>
<ul>
<li>
<p>Check the naming service if the host name returned by the listener is well known in the TCP/IP network.</p>
</li>
<li>
<p>If you do not want to use the<a id="sthref126"></a> <code dir="ltr">BCAM</code> host name of the computer in the TCP/IP network, then define a sockets-host-name as described in the <code dir="ltr">BCAM</code> documentation and register this name in the name service.</p>
</li>
<li>
<p>Ensure that the <code dir="ltr">BCAM</code> Light Weight Resolver <code dir="ltr">LWRESD</code> is properly configured and running.</p>
</li>
</ul>
</li>
<li>
<p>A client reports ORA-12535</p>
<ul>
<li>
<p>If you use the IPC protocol, then check the Connection Timeout parameter of <code dir="ltr">BCAM</code> (use the <code dir="ltr">BCSHOW</code> command). This parameter should be set to at least 600 seconds.</p>
</li>
</ul>
</li>
<li>
<p>A client reports ORA-03113</p>
<ul>
<li>
<p>Check if the <code dir="ltr">SQLNET.EXPIRE_TIME</code> parameter is set for the server. If the parameter is set, then check the <code dir="ltr">BCAM LETTER-TIMER</code> using the BCSHOW command. If the <code dir="ltr">LETTER-TIME</code> is less than the <code dir="ltr">SQLNET.EXPIRE_TIME</code>, then data which are sent by the server to see if the client is running may not be read during their lifetime, which is limited by the <code dir="ltr">LETTER-TIME</code>. As a result, the client logs a broken pipe in the <code dir="ltr">SQLNET.LOG</code> file:</p>
<pre dir="ltr">
ns main err code: 12547
ns (2)  err code: 12560
nt main err code: 517
nt (2)  err code: 32
nt OS   err code: 0x0040002c 
</pre>
<p>You can solve this problem by setting the <code dir="ltr">LETTER-TIMER</code> to infinite.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2612">
<tr>
<td class="cellalignment2621">
<table class="cellalignment2617">
<tr>
<td class="cellalignment2616"><a href="utm.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2616"><a href="initmedia.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2623">
<table class="cellalignment2615">
<tr>
<td class="cellalignment2616"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2616"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2616"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2616"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2616"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2616"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
