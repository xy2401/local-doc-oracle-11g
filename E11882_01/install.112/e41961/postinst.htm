<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Grid Infrastructure Postinstallation Procedures</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093" />
<meta name="dcterms.created" content="2017-09-10T22:46:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E41961-10" />
<meta name="dcterms.isVersionOf" content="CWLIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="crsunix.htm" title="Previous" type="text/html" />
<link rel="Next" href="rem_orcl.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41961.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/18</span> <!-- End Header -->
<div id="CWLIN326" class="chapter"><a id="BABHHEHG"></a>
<h1 class="chapter"><span class="secnum">5</span> Oracle Grid Infrastructure Postinstallation Procedures</h1>
<p>This chapter describes how to complete the postinstallation tasks after you have installed the Oracle Grid Infrastructure software.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGBHBB">Required Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#BABEJBEA">Recommended Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#BABEHEEH">Using Older Oracle Database Versions with Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABBEJFG">Modifying Oracle Clusterware Binaries After Installation</a></p>
</li>
</ul>
<a id="BABGBHBB"></a>
<div id="CWLIN327" class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Required Postinstallation Tasks</h2>
<div class="infobox-note">
<p class="notep1">Note:</p>
In prior releases, backing up the voting disks using a <code dir="ltr">dd</code> command was a required postinstallation task. With Oracle Clusterware 11<span class="italic">g</span> release 11.2 and later, backing up and restoring a voting disk using the <code dir="ltr">dd</code> command may result in the loss of the voting disk, so this procedure is not supported.</div>
<p>Download and install patch updates. See the My Oracle Support website for required <a id="sthref704"></a><a id="sthref705"></a><a id="sthref706"></a><a id="sthref707"></a><a id="sthref708"></a>patch updates for your <a id="sthref709"></a>installation.</p>
<p>To download required patch updates:</p>
<ol>
<li>
<p>Use a Web browser to view the My Oracle Support website:</p>
<p><code dir="ltr"><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</li>
<li>
<p>Log in to My Oracle Support.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are not a My Oracle Support registered user, then click <span class="bold">Register for My Oracle Support</span> and register.</div>
</li>
<li>
<p>On the main My Oracle Support page, click <span class="bold">Patches &amp; Updates</span>.</p>
</li>
<li>
<p>On the Patches and Updates page, click <span class="bold">Product or Family (Advanced)</span>.</p>
</li>
<li>
<p>In the Product field, select <span class="bold">Oracle Database</span>.</p>
</li>
<li>
<p>In the Release field, select one or more release numbers. For example, Oracle 12.1.0.1.0.</p>
</li>
<li>
<p>Click <span class="bold">Search</span>.</p>
</li>
<li>
<p>Any available patch updates are displayed in the <span class="bold">Patch Search</span> page.</p>
</li>
<li>
<p>Click the patch number to download the patch.</p>
</li>
<li>
<p>Select the patch number and click <span class="bold">Read Me</span>. The README page contains information about the patch set and how to apply the patches to your installation.</p>
</li>
<li>
<p>Return to the Patch Set page, click <span class="bold">Download</span>, and save the file on your system.</p>
</li>
<li>
<p>Use the unzip utility provided with Oracle Database 11<span class="italic">g</span> Release 2 (11.2) to uncompress the Oracle patch updates that you downloaded from My Oracle Support. The unzip utility is located in the <code dir="ltr">$ORACLE_HOME/bin</code> directory.</p>
</li>
<li>
<p>See <a href="procstop.htm#BABEHGJG">Appendix F, "How to Upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2"</a> for information about how to stop database processes in preparation for installing patches.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABEJBEA"></a>
<div id="CWLIN330" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Recommended Postinstallation Tasks</h2>
<p>Oracle recommends that you complete the following tasks as needed after installing Oracle Grid Infrastructure:</p>
<ul>
<li>
<p><a href="#BABEHDFH">Backing Up the root.sh Script</a></p>
</li>
<li>
<p><a href="#BABFBABG">Tuning Semaphore Parameters</a></p>
</li>
<li>
<p><a href="#BABHFGFF">Creating a Fast Recovery Area Disk Group</a></p>
</li>
<li>
<p><a href="#CHDBHADJ">Running Oracle RAC Configuration Audit Tool</a></p>
</li>
</ul>
<a id="BABEHDFH"></a>
<div id="CWLIN331" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> Backing Up the root.sh Script</h3>
<p>Oracle recommends that you <a id="sthref710"></a><a id="sthref711"></a>back up the <code dir="ltr">root.sh</code> script after you complete an installation. If you install other products in the same Oracle home directory, then the installer updates the contents of the existing <code dir="ltr">root.sh</code> script during the installation. If you require information contained in the original <code dir="ltr">root.sh</code> script, then you can recover it from the <code dir="ltr">root.sh</code> file copy.</p>
</div>
<!-- class="sect2" -->
<a id="BABFBABG"></a>
<div id="CWLIN335" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> Tuning Semaphore Parameters</h3>
<p>Refer to the following guidelines only if the default semaphore parameter values are too low to accommodate all Oracle processes:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you refer to the operating system documentation for more information about setting semaphore parameters.</div>
<ol>
<li>
<p>Calculate the minimum total semaphore requirements using the following formula:</p>
<p>2 * sum (process parameters of all database instances on the system) + overhead for background processes + system and other application requirements</p>
</li>
<li>
<p>Set <code dir="ltr">semmns</code> (total semaphores systemwide) to this total.</p>
</li>
<li>
<p>Set <code dir="ltr">semmsl</code> (semaphores for each set) to 250.</p>
</li>
<li>
<p>Set <code dir="ltr">semmni</code> (total semaphores sets) to <code dir="ltr">semmns</code> divided by <code dir="ltr">semmsl</code>, rounded up to the nearest multiple of 1024.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABHFGFF"></a>
<div id="CWLIN336" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Creating a Fast Recovery Area Disk Group</h3>
<p>During installation, by default you can create one disk group. If you plan to add an Oracle Database for a standalone server or an Oracle RAC database, then you should create the Fast Recovery Area for database files.</p>
<div id="CWLIN337" class="sect3"><a id="sthref712"></a>
<h4 class="sect3"><span class="secnum">5.2.3.1</span> About the Fast Recovery Area and the Fast Recovery Area Disk Group</h4>
<p>The Fast Recovery Area is a unified storage location for all Oracle Database files related to recovery. Database administrators can define the DB_RECOVERY_FILE_DEST parameter to the path for the Fast Recovery Area to enable on-disk backups, and rapid recovery of data. Enabling rapid backups for recent data can reduce requests to system administrators to retrieve backup tapes for recovery operations.</p>
<p>When you enable Fast Recovery in the <code dir="ltr">init.ora</code> file, all RMAN backups, archive logs, control file automatic backups, and database copies are written to the Fast Recovery Area. RMAN automatically manages files in the Fast Recovery Area by deleting obsolete backups and archive files no longer required for recovery.</p>
<p>Oracle recommends that you create a Fast Recovery Area disk group. Oracle Clusterware files and Oracle Database files can be placed on the same disk group, and you can also place Fast recovery files in the same disk group. However, Oracle recommends that you create a separate Fast Recovery disk group to reduce storage device contention.</p>
<p>The Fast Recovery Area is enabled by setting DB_RECOVERY_FILE_DEST. The size of the Fast Recovery Area is set with DB_RECOVERY_FILE_DEST_SIZE. As a general rule, the larger the Fast Recovery Area, the more useful it becomes. For ease of use, Oracle recommends that you create a Fast Recovery Area disk group on storage devices that can contain at least three days of recovery information. Ideally, the Fast Recovery Area should be large enough to hold a copy of all of your data files and control files, the online redo logs, and the archived redo log files needed to recover your database using the data file backups kept under your retention policy.</p>
<p>Multiple databases can use the same Fast Recovery Area. For example, assume you have created one Fast Recovery Area disk group on disks with 150 GB of storage, shared by three different databases. You can set the size of the Fast Recovery Area for each database depending on the importance of each database. For example, if database1 is your least important database, database 2 is of greater importance and database 3 is of greatest importance, then you can set different DB_RECOVERY_FILE_DEST_SIZE settings for each database to meet your retention target for each database: 30 GB for database 1, 50 GB for database 2, and 70 GB for database 3.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></div>
</div>
<!-- class="sect3" -->
<div id="CWLIN338" class="sect3"><a id="sthref713"></a>
<h4 class="sect3"><span class="secnum">5.2.3.2</span> Creating the Fast Recovery Area Disk Group</h4>
<p>To create a Fast recovery file disk group:</p>
<ol>
<li>
<p>Navigate to the Grid home bin directory, and start Oracle ASM Configuration Assistant <a id="sthref714"></a>(ASMCA). For example:</p>
<pre dir="ltr">
$ cd /u01/app/11.2.0/grid/bin
$ ./asmca
</pre></li>
<li>
<p>ASMCA opens at the Disk Groups tab. Click <span class="bold">Create</span> to create a new disk group</p>
</li>
<li>
<p>The Create Disk Groups window opens.</p>
<p>In the <span class="bold">Disk Group Name</span> field, enter a descriptive name for the Fast Recovery Area group. For example: FRA.</p>
<p>In the Redundancy section, select the level of redundancy you want to use.</p>
<p>In the <span class="bold">Select Member Disks</span> field, select eligible disks to be added to the Fast Recovery Area, and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>The Diskgroup Creation window opens to inform you when disk group creation is complete. Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Click <span class="bold">Exit</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBHADJ"></a>
<div id="CWLIN2904" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.4</span> Running Oracle RAC Configuration Audit Tool</h3>
<p>Oracle recommends that you run the Oracle RAC Configuration Audit tool (RACcheck) to check your Oracle RAC installation. RACcheck is an Oracle RAC auditing tool that checks various important configuration settings within Oracle Real Application Clusters, Oracle Clusterware, Oracle Automatic Storage Management and the Oracle Grid Infrastructure environment.</p>
<p>Oracle recommends that you download and run the latest version of RACcheck from My Oracle Support. For information about downloading, configuring, and running RACcheck configuration audit tool, refer to My Oracle Support note 1268927.1, which is available at the following URL:</p>
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1268927.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1268927.1</a></code></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD8365" href="../../rac.112/e41960/racchk.htm#RACAD8365"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEHEEH"></a>
<div id="CWLIN339" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Using Older Oracle Database Versions with Grid Infrastructure</h2>
<p>Review the following sections for information about using older Oracle Database releases with 11<span class="italic">g</span> release 2 (11.2) Oracle Grid Infrastructure installations:</p>
<ul>
<li>
<p><a href="#BABDCBHF">General Restrictions for Using Older Oracle Database Versions</a></p>
</li>
<li>
<p><a href="#CIHFHJFJ">Using ASMCA to Administer Disk Groups for Older Database Versions</a></p>
</li>
<li>
<p><a href="#BABGIJDH">Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</a></p>
</li>
<li>
<p><a href="#BABDAFGD">Enabling The Global Services Daemon (GSD) for Oracle Database Release 9.2</a></p>
</li>
<li>
<p><a href="#BABFDGBI">Using the Correct LSNRCTL Commands</a></p>
</li>
</ul>
<a id="BABDCBHF"></a>
<div id="CWLIN340" class="sect2">
<h3 class="sect2"><span class="secnum">5.3.1</span> General Restrictions for Using Older Oracle Database Versions</h3>
<p>You can use Oracle Database release 9.2, release 10.x and release 11.1 with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2).</p>
<p>However, placing Oracle Database homes on Oracle ACFS that are prior to Oracle Database release 11.2 is not supported, because earlier releases are not designed to use Oracle ACFS.</p>
<p>To use Oracle Real Application Clusters release 9.2 with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2), install and run Oracle9<span class="italic">i</span> Cluster Manager for the release 9.2 database. Oracle9<span class="italic">i</span> Cluster Manager can coexist with Oracle Clusterware.</p>
<p>If you upgrade an existing version of Oracle Clusterware and Oracle ASM to Oracle Grid Infrastructure 11<span class="italic">g</span> release 11.2 (which includes Oracle Clusterware and Oracle ASM), and you also plan to upgrade your Oracle RAC database to 11.2, then the required configuration of existing databases is completed automatically when you complete the Oracle RAC upgrade, and this section does not concern you.</p>
<p>However, if you upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> release 11.2, and you have existing Oracle RAC installations you do not plan to upgrade, or if you install older versions of Oracle RAC (9.2, 10.2 or 11.1) on a release 11.2 Oracle Grid Infrastructure cluster, then you must complete additional configuration tasks or apply patches, or both, before the older databases will work correctly with Oracle Grid Infrastructure.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you start an Oracle RAC or Oracle Database installation on an Oracle Clusterware 11<span class="italic">g</span> release 11.2 installation, if you are upgrading from releases 11.1.0.7, 11.1.0.6, and 10.2.0.4, then Oracle recommends that you check for the latest recommended patches for the release you are upgrading from, and install those patches as needed on your existing database installations before upgrading.
<p>For more information on recommended patches, refer to "Oracle Upgrade Companion," which is available through Note 785351.1 on My Oracle Support:</p>
<p><code dir="ltr"><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
<p>You may also refer to Notes 756388.1 and 756671.1 for the current list of recommended patches for each release</p>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHFHJFJ"></a>
<div id="CWLIN2954" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.2</span> Using ASMCA to Administer Disk Groups for Older Database Versions</h3>
<p><a id="sthref715"></a><a id="sthref716"></a><a id="sthref717"></a>Use Oracle ASM Configuration Assistant (ASMCA) to create and modify disk groups when you install older Oracle databases and Oracle RAC databases on Oracle Grid Infrastructure installations. Starting with 11<span class="italic">g</span> release 2, Oracle ASM is installed as part of an Oracle Grid Infrastructure installation, with Oracle Clusterware. You can no longer use Database Configuration Assistant (DBCA) to perform administrative tasks on Oracle ASM.</p>
</div>
<!-- class="sect2" -->
<a id="BABGIJDH"></a>
<div id="CWLIN341" class="sect2">
<h3 class="sect2"><span class="secnum">5.3.3</span> Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</h3>
<p>When Oracle Clusterware 11<span class="italic">g</span> release 11.2 is installed on a cluster with no previous Oracle software version, it configures cluster nodes dynamically, which is compatible with Oracle Database Release 11.2 and later, but Oracle Database 10g and 11.1 require a persistent configuration. This process of association of a node name with a node number is called pinning.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During an upgrade, all cluster member nodes are pinned automatically, and no manual pinning is required for existing databases. This procedure is required only if you install older database versions after installing Oracle Grid Infrastructure release 11.2 software.</div>
<p><a id="sthref718"></a>To pin a node in preparation for installing or using an older Oracle Database version, use <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/bin/crsctl</code> with the following command syntax, where <code dir="ltr"><span class="codeinlineitalic">nodes</span></code> is a space-delimited list of one or more nodes in the cluster whose configuration you want to pin:</p>
<pre dir="ltr">
crsctl pin css -n <span class="italic">nodes</span>
</pre>
<p>For example, to pin nodes <code dir="ltr">node3</code> and <code dir="ltr">node4</code>, log in as <code dir="ltr">root</code> and enter the following command:</p>
<pre dir="ltr">
$ crsctl pin css -n node3 node4
</pre>
<p>To determine if a node is in a pinned or unpinned state, use <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/bin/olsnodes</code> with the following command syntax:</p>
<p>To list all pinned nodes:</p>
<pre dir="ltr">
olsnodes -t -n 
</pre>
<p>For example:</p>
<pre dir="ltr">
# /u01/app/11.2.0/grid/bin/olsnodes -t -n
node1 1       Pinned
node2 2       Pinned
node3 3       Pinned
node4 4       Pinned
</pre>
<p>To list the state of a particular node:</p>
<pre dir="ltr">
olsnodes -t -n node3
</pre>
<p>For example:</p>
<pre dir="ltr">
# /u01/app/11.2.0/grid/bin/olsnodes -t -n node3
node3 3       Pinned
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91595" href="../../rac.112/e41959/crsref.htm#CWADD91595"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about pinning and unpinning nodes</div>
</div>
<!-- class="sect2" -->
<a id="BABDAFGD"></a>
<div id="CWLIN342" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.4</span> Enabling The Global Services Daemon (GSD) for Oracle Database Release 9.2</h3>
<p>By default, the Global Services daemon (GSD) is disabled. If you install Oracle Database 9<span class="italic">i</span> release 2 (9.2) on Oracle Grid Infrastructure for a Cluster 11<span class="italic">g</span> release 2 (11.2), then you must enable the GSD. Use the following commands to enable the GSD before you install Oracle Database release 9.2:</p>
<pre dir="ltr">
srvctl enable nodeapps -g
srvctl start nodeapps
</pre></div>
<!-- class="sect2" -->
<a id="BABFDGBI"></a>
<div id="CWLIN343" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.5</span> Using the Correct LSNRCTL Commands</h3>
<p>To administer 11<span class="italic">g</span> release 2 local and scan listeners using the <code dir="ltr">lsnrctl</code> command, set your <code dir="ltr">$ORACLE_HOME</code> environment variable to the path for the Oracle Grid Infrastructure home (Grid home). Do not attempt to use the <code dir="ltr">lsnrctl</code> commands from Oracle home locations for previous releases, as they cannot be used with the new release.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBEJFG"></a>
<div id="CWLIN344" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Modifying Oracle Clusterware Binaries After Installation</h2>
<p><a id="sthref719"></a><a id="sthref720"></a><a id="sthref721"></a><a id="sthref722"></a><a id="sthref723"></a>After installation, if you need to modify the Oracle Clusterware configuration, then you must unlock the Grid home.</p>
<p>For example, if you want to apply a one-off patch, or if you want to modify an Oracle Exadata configuration to run IPC traffic over RDS on the interconnect instead of using the default UDP, then you must unlock the Grid home.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Before relinking executables, you must shut down all executables that run in the Oracle home directory that you are relinking. In addition, shut down applications linked with Oracle shared libraries.</div>
<p>Unlock the home using the following procedure:</p>
<ol>
<li>
<p>Log in as <code dir="ltr">root</code>, and change directory to the path <span class="italic">Grid_home</span>/crs/install, where <span class="italic">Grid_home</span> is the path to the Grid home, and unlock the Grid home using the command <code dir="ltr">rootcrs.pl -unlock -crshome</code> <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code>, where Grid_home is the path to your Grid infrastructure home. For example, with the Grid home <code dir="ltr">/u01/app/11.2.0/grid</code>, enter the following command:</p>
<pre dir="ltr">
# cd /u01/app/11.2.0/grid/crs/install
# perl rootcrs.pl -unlock -crshome /u01/app/11.2.0/grid
</pre></li>
<li>
<p>Change user to the Oracle Grid Infrastructure software owner, and relink binaries using the command syntax make -f <span class="italic">Grid_home</span>/rdbms/lib/ins_rdbms.mk <span class="italic">target</span>, where <span class="italic">Grid_home</span> is the Grid home, and <span class="italic">target</span> is the binaries that you want to relink. For example, where the grid user is <code dir="ltr">grid</code>, <code dir="ltr">$ORACLE_HOME</code> is set to the Grid home, and where you are updating the interconnect protocol from UDP to IPC, enter the following command:</p>
<pre dir="ltr">
# su grid
$ make -f $ORACLE_HOME/rdbms/lib/ins_rdbms.mk ipc_rds ioracle
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
To relink binaries, you can also change to the grid installation owner and run the command <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/bin/relink</code>.</div>
</li>
<li>
<p>Relock the Grid home and restart the cluster using the following command:</p>
<pre dir="ltr">
# perl rootcrs.pl -patch
</pre></li>
<li>
<p>Repeat steps 1 through 3 on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2495">
<tr>
<td class="cellalignment2502">
<table class="cellalignment2500">
<tr>
<td class="cellalignment2499"><a href="crsunix.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2499"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2504">
<table class="cellalignment2498">
<tr>
<td class="cellalignment2499"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2499"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2499"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2499"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2499"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2499"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
