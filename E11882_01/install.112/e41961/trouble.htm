<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Troubleshooting the Oracle Grid Infrastructure Installation Process</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093" />
<meta name="dcterms.created" content="2017-09-10T22:46:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E41961-10" />
<meta name="dcterms.isVersionOf" content="CWLIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html" />
<link rel="Next" href="app_nonint.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41961.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/18</span> <!-- End Header -->
<div id="CWLIN354" class="appendix"><a id="CIACEGFJ"></a>
<h1 class="appendix"><span class="secnum">A</span> Troubleshooting the Oracle Grid Infrastructure Installation Process</h1>
<p>This appendix provides troubleshooting information for installing Oracle Grid Infrastructure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Database 11<span class="italic">g</span> Oracle RAC documentation set in the Documentation directory:
<ul>
<li>
<p><a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#CIAHHGEB">General Installation Issues</a></p>
</li>
<li>
<p><a href="#CIAJGEAC">Interpreting CVU "Unknown" Output Messages Using Verbose Mode</a></p>
</li>
<li>
<p><a href="#CIAFEFAD">Interpreting CVU Messages About Oracle Grid Infrastructure Setup</a></p>
</li>
<li>
<p><a href="#CIAFFECC">About the Oracle Clusterware Alert Log</a></p>
</li>
<li>
<p><a href="#CIADFEDG">Missing Operating System Packages On Linux</a></p>
</li>
<li>
<p><a href="#CIAJDDHB">Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</a></p>
</li>
<li>
<p><a href="#BABIGBIB">About Using CVU Cluster Healthchecks After Installation</a></p>
</li>
<li>
<p><a href="#CIADFHJJ">Interconnect Configuration Issues</a></p>
</li>
<li>
<p><a href="#BABIADDJ">SCAN VIP and SCAN Listener Issues</a></p>
</li>
<li>
<p><a href="#BABCEEBE">Storage Configuration Issues</a></p>
</li>
<li>
<p><a href="#BABCHCJE">Completing an Installation Before Finishing Running Scripts</a></p>
</li>
</ul>
<a id="CIAHHGEB"></a>
<div id="CWLIN355" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.1</span> General Installation Issues<a id="sthref736"></a></h2>
<p>The following is a list of examples of types of errors that can occur during installation. It contains the following issues:</p>
<ul>
<li>
<p><a href="#CIAIICFE">An error occurred while trying to get the disks</a></p>
</li>
<li>
<p><a href="#CIAJGEED">Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</a></p>
</li>
<li>
<p><a href="#tahiti51693160">CRS-5823:Could not initialize agent framework.</a></p>
</li>
<li>
<p><a href="#CIAICBJC">Failed to connect to server, Connection refused by server, or Can't open display</a></p>
</li>
<li>
<p><a href="#CIAHAFGH">Failed to initialize ocrconfig</a></p>
</li>
<li>
<p><a href="#tahiti50879744">INS-32026 INSTALL_COMMON_HINT_DATABASE_LOCATION_ERROR</a></p>
</li>
<li>
<p><a href="#BABECCGE">MEMORY_TARGET not supported on this system</a></p>
</li>
<li>
<p><a href="#CIAHIBGD">Nodes unavailable for selection from the OUI Node Selection screen</a></p>
</li>
<li>
<p><a href="#CIAHGBGC">Node <span class="italic">nodename</span> is unreachable</a></p>
</li>
<li>
<p><a href="#CIACEGGA">PROT-8: Failed to import data from specified file to the cluster registry</a></p>
</li>
<li>
<p><a href="#tahiti51696606">PRVE-0038 : The SSH LoginGraceTime setting, or fatal: Timeout before authentication</a></p>
</li>
<li>
<p><a href="#tahiti51728700">root.sh or rootupgrade.sh Script Fails on the Second Node Due to Multicast Issues</a></p>
</li>
<li>
<p><a href="#tahiti51318289">Timed out waiting for the CRS stack to start</a></p>
</li>
<li>
<p><a href="#CIACEDHA">YPBINDPROC_DOMAIN: Domain not bound</a></p>
</li>
<li>
<p><a href="#BABBCIGA">Other Installation Issues and Errors</a></p>
</li>
</ul>
<a id="CIACBFEA"></a>
<div class="msgset"><a id="CIAIICFE"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref737"></a>An error occurred while trying to get the disks</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> There is an entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existent Oracle home. The OUI log file should show the following error: "java.io.IOException: /home/oracle/OraHome/bin/kfod: not found"</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Remove the entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existing Oracle home.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51331524"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref738"></a>CRS-5018:(:CLSN00037:) Removed unused HAIP route:</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Typically, this error indicates that something (usually Zero Configuration Networking, <code dir="ltr">zeroconf</code>) has created the indicated route that is conflicting with the HAIP code. The error indicates that the Oracle software has removed the route to ensure appropriate stack functioning.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> The Zero Configuration Networking feature should be disabled when using Oracle Clusterware, as this feature may cause communication issues between cluster member nodes.
<p>To disable Zero Configuration Networking:</p>
<ol>
<li>
<p>Log in as root.</p>
</li>
<li>
<p>Change directory to <code dir="ltr">/etc/sysconfig</code></p>
</li>
<li>
<p>Create a copy of <code dir="ltr">/etc/sysconfig/network</code>. For example:</p>
<pre dir="ltr">
# cp network network_old
</pre></li>
<li>
<p>Use a text editor to open the file <code dir="ltr">/etc/sysconfig/network</code>.</p>
</li>
<li>
<p>Check the file for the value for <code dir="ltr">NOZEROCONF</code> to confirm that it is set to yes. If you do not find this parameter in the file, then append the following entry to the file:</p>
<pre dir="ltr">
NOZEROCONF=yes
</pre>
<p>Save the file after you update this setting.</p>
</li>
<li>
<p>Restart the network services. For example:</p>
<pre dir="ltr">
# service network restart
</pre></li>
<li>
<p>Repeat this process on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAJGEED"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref739"></a>Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Either the DISPLAY variable is not set, or the user running the installation is not authorized to open an X window. This can occur if you run the installation from a remote terminal, or if you use an <code dir="ltr">su</code> command to change from a user that is authorized to open an X window to a user account that is not authorized to open an X window on the display, such as a lower-privileged user opening windows on the <code dir="ltr">root</code> user's console display.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Run the command <code dir="ltr">echo $DISPLAY</code> to ensure that the variable is set to the correct visual or to the correct host. If the display variable is set correctly then either ensure that you are logged in as the user authorized to open an X window, or run the command <code dir="ltr">xhost +</code> to allow any user to open an X window.
<p>If you are logged in locally on the server console as <code dir="ltr">root</code>, and used the su - command to change to the Oracle Grid Infrastructure installation owner, then log out of the server, and log back in as the grid installation owner.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51693160"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref740"></a>CRS-5823:Could not initialize agent framework.</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Installation of Oracle Grid Infrastructure fails when you run <code dir="ltr">root.sh</code>. Oracle Grid Infrastructure fails to start because the local host entry is missing from the hosts file.
<p>The Oracle Grid Infrastructure alert.log file shows the following:</p>
<pre dir="ltr">
[/oracle/app/grid/bin/orarootagent.bin(11392)]CRS-5823:Could not initialize
agent framework. Details at (:CRSAGF00120:) in
/oracle/app/grid/log/node01/agent/crsd/orarootagent_root/orarootagent_root.log
2010-10-04 12:46:25.857
[ohasd(2401)]CRS-2765:Resource 'ora.crsd' has failed on server 'node01'.
</pre>
<p>You can verify this as the cause by checking <code dir="ltr">crsdOUT.log</code> file, and finding the following:</p>
<pre dir="ltr">
Unable to resolve address for localhost:2016
ONS runtime exiting
Fatal error: eONS: eonsapi.c: Aug 6 2009 02:53:02
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Add the local host entry in the hosts file.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAICBJC"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref741"></a>Failed to connect to server, Connection refused by server, or Can't open display</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> These are typical of X Window display errors on Windows or UNIX systems, where <code dir="ltr">xhost</code> is not properly configured, or where you are running as a user account that is different from the account you used with the <code dir="ltr">startx</code> command to start the X server.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> In a local terminal window, log in as the user that started the X Window session, and enter the following command:
<p>$ xhost <span class="italic">fullyqualifiedRemoteHostname</span></p>
<p>For example:</p>
<pre dir="ltr">
$ xhost somehost.example.com
</pre>
<p>Then, enter the following commands, where <code dir="ltr"><span class="codeinlineitalic">workstationname</span></code> is the host name or IP address of your workstation.</p>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ DISPLAY=<span class="italic">workstationname</span>:0.0
$ export DISPLAY
</pre>
<p>To determine whether X Window applications display correctly on the local system, enter the following command:</p>
<pre dir="ltr">
$ xclock
</pre>
<p>The X clock should appear on your monitor. If this fails to work, then use of the <code dir="ltr">xhost</code> command may be restricted.</p>
<p>If you are using a VNC client to access the server, then ensure that you are accessing the visual that is assigned to the user that you are trying to use for the installation. For example, if you used the <code dir="ltr">su</code> command to become the installation owner on another user visual, and the <code dir="ltr">xhost</code> command use is restricted, then you cannot use the <code dir="ltr">xhost</code> command to change the display. If you use the visual assigned to the installation owner, then the correct display will be available, and entering the <code dir="ltr">xclock</code> command will display the X clock.</p>
<p>When the X clock appears, then close the X clock and start the installer again.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHAFGH"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref742"></a>Failed to initialize ocrconfig</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> You have the wrong options configured for NFS in the <code dir="ltr">/etc/fstab</code> file.
<p>You can confirm this by checking <code dir="ltr">ocrconfig.log</code> files located in the path <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/node</code><code dir="ltr"><span class="codeinlineitalic">number</span></code><code dir="ltr">/client</code> and finding the following:</p>
<pre dir="ltr">
/u02/app/crs/clusterregistry, ret -1, errno 75, os err string Value too large
for defined data type
2007-10-30 11:23:52.101: [ OCROSD][3085960896]utopen:6'': OCR location
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> For file systems mounted on NFS, provide the correct mount configuration for NFS mounts in the <code dir="ltr">/etc/fstab</code> file:
<pre dir="ltr">
rw,sync,bg,hard,nointr,tcp,vers=3,timeo=300,rsize=32768,wsize=32768,actimeo=0
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You should not have <code dir="ltr">netdev</code> in the mount instructions, or <code dir="ltr">vers=2</code>. The <code dir="ltr">netdev</code> option is only required for OCFS file systems, and <code dir="ltr">vers=2</code> forces the kernel to mount NFS using the older version 2 protocol.</div>
<p>After correcting the NFS mount information, remount the NFS mount point, and run the <code dir="ltr">root.sh</code> script again. For example, with the mount point <code dir="ltr">/u02</code>:</p>
<pre dir="ltr">
#umount /u02
#mount -a -t nfs
#cd $GRID_HOME
#sh root.sh
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti50879744"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref743"></a>INS-32026 INSTALL_COMMON_HINT_DATABASE_LOCATION_ERROR</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The location selected for the Grid home for a cluster installation is located under an Oracle base directory.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> For Oracle Grid Infrastructure for a Cluster installations, the Grid home must not be placed under one of the Oracle base directories, or under Oracle home directories of Oracle Database installation owners, or in the home directory of an installation owner. During installation, ownership of the path to the Grid home is changed to <code dir="ltr">root</code>. This change causes permission errors for other installations. In addition, the Oracle Clusterware software stack may not come up under an Oracle base path.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="BABECCGE"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref744"></a>MEMORY_TARGET not supported on this system</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> On Linux systems, insufficient <code dir="ltr">/dev/shm</code> size for PGA and SGA.
<p>If you are installing on a Linux system, note that Memory Size (SGA and PGA), which sets the initialization parameter MEMORY_TARGET or MEMORY_MAX_TARGET, cannot be greater than the shared memory file system (<code dir="ltr">/dev/shm</code>) on your operating system.</p>
</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Increase the <code dir="ltr">/dev/shm</code> mountpoint size. For example:
<pre dir="ltr">
# mount -t tmpfs shmfs -o size=4g /dev/shm
</pre>
<p>Also, to make this change persistent across system restarts, add an entry in <code dir="ltr">/etc/fstab</code> similar to the following:</p>
<pre dir="ltr">
shmfs /dev/shm tmpfs size=4g 0
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHIBGD"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref745"></a>Nodes unavailable for selection from the OUI Node Selection screen</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Oracle Grid Infrastructure is either not installed, or the Oracle Grid Infrastructure services are not up and running.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install Oracle Grid Infrastructure, or review the status of your installation. Consider restarting the nodes, as doing so may resolve the problem.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHGBGC"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref746"></a>Node <span class="italic">nodename</span> is unreachable</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Unavailable IP host</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Attempt the following:
<ol>
<li>
<p>Run the shell command <code dir="ltr">ifconfig -a</code>. Compare the output of this command with the contents of the <code dir="ltr">/etc/hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run the shell command <code dir="ltr">nslookup</code> to see if the host is reachable.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIACEGGA"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref747"></a>PROT-8: Failed to import data from specified file to the cluster registry</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Insufficient space in an existing Oracle Cluster Registry device partition, which causes a migration failure while running <code dir="ltr">rootupgrade.sh</code>. To confirm, look for the error "utopen:12:Not enough space in the backing store" in the log file <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/</code><span class="italic">hostname</span><code dir="ltr">/client/ocrconfig_</code><code dir="ltr"><span class="codeinlineitalic">pid</span></code><code dir="ltr">.log</code>, where <code dir="ltr"><span class="codeinlineitalic">pid</span></code> stands for the process id.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Identify a storage device that has 300 MB or more available space. Oracle recommends that you allocate the entire disk to Oracle ASM.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51696606"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref748"></a>PRVE-0038 : The SSH LoginGraceTime setting, or fatal: Timeout before authentication</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> <a id="sthref749"></a><a id="sthref750"></a>PRVE-0038: The SSH LoginGraceTime setting on node "<span class="italic">nodename</span>" may result in users being disconnected before login is completed. This error may because the default timeout value for SSH connections is too low, or if the LoginGraceTime parameter is commented out.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Oracle recommends uncommenting the LoginGraceTime parameter in the OpenSSH configuration file <code dir="ltr">/etc/ssh/sshd_config</code>, and setting it to a value of 0 (unlimited).</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51728700"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref751"></a>root.sh or rootupgrade.sh Script Fails on the Second Node Due to Multicast Issues</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> In the final stages while running <code dir="ltr">root.sh</code> or <code dir="ltr">rootupgrade.sh</code> on the second node, the follow error is reported and the script fails:
<pre dir="ltr">
Failed to start Cluster Synchorinisation Service in clustered mode at /u01/app/crs/11.2.0.2/crs/install/crsconfig_lib.pm line 1016.
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Multicast communication must be enabled on all cluster nodes. To determine if the multicast requirements are met, run the multicast test tool (<code dir="ltr">mcasttest.pl</code>). You might also be required to install patches.
<p>Contact My Oracle Support for more information, and to obtain the multicast test tool and patches.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="prelinux.htm#CEGGIDCG">Section 2.7.4, "Multicast Requirements for Networks Used by Oracle Grid Infrastructure."</a></div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51318289"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref752"></a>Timed out waiting for the CRS stack to start</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If a configuration issue prevents the Oracle Grid Infrastructure software from installing successfully on all nodes, then you may see error messages such as "Timed out waiting for the CRS stack to start," or you may notice that Oracle Clusterware-managed resources were not create on some nodes after you exit the installer. You also may notice that resources have a status other than ONLINE.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Deconfigure the Oracle Grid Infrastructure installation without removing binaries, and review log files to determine the cause of the configuration issue. After you have fixed the configuration issue, rerun the scripts used during installation to configure Oracle Clusterware.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rem_orcl.htm#CBHJAGJC">Section 6.5, "Deconfiguring Oracle Clusterware Without Removing Binaries"</a></div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIACEDHA"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref753"></a>YPBINDPROC_DOMAIN: Domain not bound</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This error can occur during postinstallation testing when the public network interconnect for a node is pulled out, and the VIP does not fail over. Instead, the node hangs, and users are unable to log in to the system. This error occurs when the Oracle home, <code dir="ltr">listener.ora</code>, Oracle log files, or any action scripts are located on an NAS device or NFS mount, and the name service cache daemon <code dir="ltr">nscd</code> has not been activated.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Enter the following command on all nodes in the cluster to start the nscd service:
<pre dir="ltr">
/sbin/service  nscd start
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<a id="BABBCIGA"></a>
<div id="CWLIN2959" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.1</span> Other Installation Issues and Errors</h3>
<p>For additional help in resolving error messages, refer to My Oracle Support. For example, the note with Doc ID 1367631.1 contains some of the most common installation issues for Oracle Grid Infrastructure and Oracle Clusterware.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIAJGEAC"></a>
<div id="CWLIN356" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> Interpreting CVU "Unknown" Output Messages Using Verbose Mode</h2>
<p>If you run Cluster Verification Utility using the <code dir="ltr">-verbose</code> argument, and a Cluster Verification Utility command responds with <code dir="ltr">UNKNOWN</code> for a particular node, then this is because Cluster Verification Utility cannot determine if a check passed or failed. The following is a list of possible causes for an "Unknown" response:</p>
<ul>
<li>
<p>The node is down</p>
</li>
<li>
<p>Common operating system command binaries required by Cluster Verification Utility are missing in the <code dir="ltr">/bin</code> directory in the Oracle Grid Infrastructure home or Oracle home directory</p>
</li>
<li>
<p>The user account starting Cluster Verification Utility does not have privileges to run common operating system commands on the node</p>
</li>
<li>
<p>The node is missing an operating system patch, or a required package</p>
</li>
<li>
<p>The node has exceeded the maximum number of processes or maximum number of open files, or there is a problem with IPC segments, such as shared memory or semaphores</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIAFEFAD"></a>
<div id="CWLIN357" class="sect1">
<h2 class="sect1"><span class="secnum">A.3</span> Interpreting CVU Messages About Oracle Grid Infrastructure Setup</h2>
<p>If the Cluster Verification Utility report indicates that your system fails to meet the requirements for Oracle Grid Infrastructure installation, then use the topics in this section to correct the problem or problems indicated in the report, and run Cluster Verification Utility again.</p>
<ul>
<li>
<p><a href="#CIAJDJHF">User Equivalence Check Failed</a></p>
</li>
<li>
<p><a href="#CIAIJCCB">Node Reachability Check or Node Connectivity Check Failed</a></p>
</li>
<li>
<p><a href="#CIAEAIID">User Existence Check or User-Group Relationship Check Failed</a></p>
</li>
</ul>
<a id="CIAJBAJD"></a>
<div class="msgset"><a id="CIACHDGD"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAJDJHF"></a>User Equivalence Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Failure to establish user equivalency across all nodes. This can be due to not creating the required users, or failing to complete secure shell (SSH) configuration properly.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Cluster Verification Utility provides a list of nodes on which user equivalence failed.
<p>For each node listed as a failure node, review the installation owner user configuration to ensure that the user configuration is properly completed, and that SSH configuration is properly completed. The user that runs the Oracle Clusterware installation must have permissions to create SSH connections.</p>
<p>Oracle recommends that you use the SSH configuration option in OUI to configure SSH. You can use Cluster Verification Utility before installation if you configure SSH manually, or after installation, when SSH has been configured for installation.</p>
<p>For example, to check user equivalency for the user account <code dir="ltr">oracle</code>, use the command <code dir="ltr">su - oracle</code> and <a id="sthref754"></a><a id="sthref755"></a>check <a id="sthref756"></a>user equivalence manually by running the <code dir="ltr">ssh</code> command on the local node with the <code dir="ltr">date</code> command argument using the following syntax:</p>
<pre dir="ltr">
$ ssh <span class="italic">nodename</span> date
</pre>
<p>The output from this command should be the timestamp of the remote node identified by the value that you use for <code dir="ltr">nodename</code>. If you are prompted for a password, then you need to configure SSH. If <code dir="ltr">ssh</code> is in the default location, the <code dir="ltr">/usr/bin</code> directory, then use <code dir="ltr">ssh</code> to configure user equivalence. You can also use <code dir="ltr">rsh</code> to confirm user equivalence.</p>
<p>If you see a message similar to the following when entering the date command with SSH, then this is the probable cause of the user equivalence error:</p>
<pre dir="ltr">
The authenticity of host 'node1 (140.87.152.153)' can't be established.
RSA key fingerprint is 7z:ez:e7:f6:f4:f2:4f:8f:9z:79:85:62:20:90:92:z9.
Are you sure you want to continue connecting (yes/no)?
</pre>
<p>Enter yes, and then run Cluster Verification Utility to determine if the user equivalency error is resolved.</p>
<p>If <code dir="ltr">ssh</code> is in a location other than the default, <code dir="ltr">/usr/bin</code>, then Cluster Verification Utility reports a user equivalence check failure. To avoid this error, navigate to the directory <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cv/admin</code>, open the file <code dir="ltr">cvu_config</code> with a text editor, and add or update the key <code dir="ltr">ORACLE_SRVM_REMOTESHELL</code> to indicate the <code dir="ltr">ssh</code> path location on your system. For example:</p>
<pre dir="ltr">
# Locations for ssh and scp commands
ORACLE_SRVM_REMOTESHELL=/usr/local/bin/ssh
ORACLE_SRVM_REMOTECOPY=/usr/local/bin/scp
</pre>
<p>Note the following rules for modifying the <code dir="ltr">cvu_config</code> file:</p>
<ul>
<li>
<p>Key entries have the syntax <span class="italic">name</span>=<span class="italic">value</span></p>
</li>
<li>
<p>Each key entry and the value assigned to the key defines one property only</p>
</li>
<li>
<p>Lines beginning with the number sign (#) are comment lines, and are ignored</p>
</li>
<li>
<p>Lines that do not follow the syntax <span class="italic">name</span>=<span class="italic">value</span> are ignored</p>
</li>
</ul>
<p>When you have changed the path configuration, run Cluster Verification Utility again. If <code dir="ltr">ssh</code> is in another location than the default, you also must start OUI with additional arguments to specify a different location for the remote shell and remote copy commands. Enter <code dir="ltr">runInstaller -help</code> to obtain information about how to use these arguments.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you or OUI run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands, including any login or other shell scripts they start, you may see errors about invalid arguments or standard input if the scripts generate any output. You should correct the cause of these errors.
<p>To stop the errors, remove all commands from the <code dir="ltr">oracle</code> user's login scripts that generate output when you run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands.</p>
<p>If you see messages about X11 forwarding, then complete the task <a href="prelinux.htm#BABDFDJI">"Setting Display and X11 Forwarding Configuration"</a> to resolve this issue.</p>
<p>If you see errors similar to the following:</p>
<pre dir="ltr">
stty: standard input: Invalid argument
stty: standard input: Invalid argument
</pre>
<p>These errors are produced if hidden files on the system (for example, <code dir="ltr">.bashrc</code> or <code dir="ltr">.cshrc</code>) contain <code dir="ltr">stty</code> commands. If you see these errors, then refer to <a href="prelinux.htm#BABFDGHJ">Chapter 2</a>, <a href="prelinux.htm#BABFACIJ">"Preventing Installation Errors Caused by Terminal Output Commands"</a> to correct the cause of these errors.</p>
</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAGABBB"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAIJCCB"></a>Node Reachability Check or Node Connectivity Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> One or more nodes in the cluster cannot be reached using TCP/IP protocol, through either the public or private interconnects.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the command <code dir="ltr">/bin/ping</code> <code dir="ltr"><span class="codeinlineitalic">address</span></code> to check each node address. When you find an address that cannot be reached, check your list of public and private addresses to make sure that you have them correctly configured. If you use third-party vendor clusterware, then refer to the vendor documentation for assistance. Ensure that the public and private network interfaces have the same interface names on each node of your cluster.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAGFBBJ"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAEAIID"></a>User Existence Check or User-Group Relationship Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The administrative privileges for users and groups required for installation are missing or incorrect.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the <code dir="ltr">id</code> command on each node to confirm that the installation owner user (for example, <code dir="ltr">grid</code> or <code dir="ltr">oracle</code>) is created with the correct group membership. Ensure that you have created the required groups, and create or modify the user account on affected nodes to establish required group membership.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="prelinux.htm#BABBIDCF">"Creating Groups, Users and Paths for Oracle Grid Infrastructure"</a> in <a href="prelinux.htm#BABFDGHJ">Chapter 2</a> for instructions about how to create required groups, and how to configure the installation owner user</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="CIAFFECC"></a>
<div id="CWLIN358" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.4</span> About the Oracle Clusterware Alert Log</h2>
<p>The Oracle Clusterware alert log is the first place to look for serious errors. In the event of an error, it can contain path information to diagnostic logs that can provide specific information about the cause of errors.</p>
<p>After installation, Oracle Clusterware posts alert messages when important events occur. For example, you might see alert messages from the Cluster Ready Services (CRS) daemon process when it starts, if it aborts, if the failover process fails, or if automatic restart of a CRS resource failed.</p>
<p>Oracle Enterprise Manager monitors the Clusterware log file and posts an alert on the Cluster Home page if an error is detected. For example, if a voting disk is not available, a <code dir="ltr">CRS-1604</code> error is raised, and a critical alert is posted on the Cluster Home page. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The location of the Oracle Clusterware log file is <code dir="ltr"><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code><code dir="ltr">/log/</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">/alert</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">.log</code>, where <code dir="ltr"><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code> is the directory in which Oracle Clusterware was installed and <code dir="ltr"><span class="codeinlineitalic">hostname</span></code> is the host name of the local node.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></div>
</div>
<!-- class="sect1" -->
<a id="CIADFEDG"></a>
<div id="CWLIN359" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.5</span> Missing Operating System Packages On Linux<a id="sthref757"></a><a id="sthref758"></a></h2>
<p>You have missing operating system packages on your system if you receive error messages such as the following during Oracle Grid Infrastructure, Oracle RAC, or Oracle Database installation:</p>
<pre dir="ltr">
libstdc++.so.5: cannot open shared object file: No such file or directory
libXp.so.6: cannot open shared object file: No such file or directory
</pre>
<p>Errors such as these should not occur, as missing packages should have been identified during installation. They may indicate that you are using an operating system distribution that has not been certified, or that you are using an older version of the Cluster Verification Utility.</p>
<p>If you have a Linux support network configured, such as the Red Hat network or Oracle Unbreakable Linux support, then use the <code dir="ltr">up2date</code> command to determine the name of the package. For example:</p>
<pre dir="ltr">
# up2date --whatprovides libstdc++.so.5
compat-libstdc++-33.3.2.3-47.3
</pre>
<p>Also, download the most recent version of Cluster Verification Utility to make sure that you have the current required packages list. You can obtain the most recent version at the following URL:</p>
<pre dir="ltr">
<a href="http://www.oracle.com/technetwork/database/options/clustering/downloads/cvu-download-homepage-099973.html">http://www.oracle.com/technetwork/database/options/clustering/downloads/cvu-download-homepage-099973.html</a>
</pre></div>
<!-- class="sect1" -->
<a id="CIAJDDHB"></a>
<div id="CWLIN360" class="sect1">
<h2 class="sect1"><span class="secnum">A.6</span> Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</h2>
<p>If the installer does not display the Node Selection page, then use the following command syntax to check the integrity of the Cluster Manager:</p>
<pre dir="ltr">
cluvfy comp clumgr -n <span class="italic">node_list</span> -verbose
</pre>
<p>In the preceding syntax example, the variable <code dir="ltr"><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref759"></a><a id="sthref760"></a>If you encounter unexplained installation errors during or after a period when cron jobs are run, then your cron job may have deleted temporary files before the installation is finished. Oracle recommends that you complete installation before daily cron jobs are run, or disable daily cron jobs that perform cleanup until after the installation is completed.</div>
</div>
<!-- class="sect1" -->
<a id="BABIGBIB"></a>
<div id="CWLIN2960" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.7</span> About Using CVU Cluster Healthchecks After Installation</h2>
<p>Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2.0.3) and later, you can use the CVU healthcheck command option to check your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</p>
<p>Use the following syntax to run the healthcheck command option:</p>
<p>cluvfy comp healthcheck [-collect {cluster|database}] [-db <span class="italic">db_unique_name</span>] [-bestpractice|-mandatory] [-deviations] [-html] [-save [-savedir <span class="italic">directory_path</span>]</p>
<p>For example:</p>
<pre dir="ltr">
$ cd /home/grid/cvu_home/bin
$ ./cluvfy comp healthcheck -collect cluster -bestpractice -deviations -html
</pre>
<p>The options are:</p>
<ul>
<li>
<p><code dir="ltr">-collect [cluster|database]</code></p>
<p>Use this flag to specify that you want to perform checks for Oracle Clusterware (cluster) or Oracle Database (database). If you do not use the collect flag with the healthcheck option, then cluvfy comp healthcheck performs checks for both Oracle Clusterware and Oracle Database.</p>
</li>
<li>
<p><code dir="ltr">-db</code> <code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code></p>
<p>Use this flag to specify checks on the database unique name that you enter after the <code dir="ltr">db</code> flag.</p>
<p>CVU uses JDBC to connect to the database as the user <code dir="ltr">cvusys</code> to verify various database parameters. For this reason, if you want checks to be performed for the database you specify with the <code dir="ltr">-db</code> flag, then you must first create the <code dir="ltr">cvusys</code> user on that database, and grant that user the CVU-specific role, <code dir="ltr">cvusapp</code>. You must also grant members of the <code dir="ltr">cvusapp</code> role <code dir="ltr">select</code> permissions on system tables.</p>
<p>A SQL script is included in <span class="italic">CVU_home</span><code dir="ltr">/cv/admin/cvusys.sql</code> to facilitate the creation of this user. Use this SQL script to create the cvusys user on all the databases that you want to verify using CVU.</p>
<p>If you use the <code dir="ltr">db</code> flag but do not provide a database unique name, then CVU discovers all the Oracle Databases on the cluster. If you want to perform best practices checks on these databases, then you must create the <code dir="ltr">cvusys</code> user on each database, and grant that user the <code dir="ltr">cvusapp</code> role with the <code dir="ltr">select</code> privileges needed to perform the best practice checks.</p>
</li>
<li>
<p><code dir="ltr">[-bestpractice | -mandatory] [-deviations</code>]</p>
<p>Use the <code dir="ltr">bestpractice</code> flag to specify best practice checks, and the <code dir="ltr">mandatory</code> flag to specify mandatory checks. Add the <code dir="ltr">deviations</code> flag to specify that you want to see only the deviations from either the best practice recommendations or the mandatory requirements. You can specify either the <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code> flag, but not both flags. If you specify neither <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code>, then both best practices and mandatory requirements are displayed.</p>
</li>
<li>
<p><code dir="ltr">-html</code></p>
<p>Use the <code dir="ltr">html</code> flag to generate a detailed report in HTML format.</p>
<p>If you specify the <code dir="ltr">html</code> flag, and a browser CVU recognizes is available on the system, then the browser is started and the report is displayed on the browser when the checks are complete.</p>
<p>If you do not specify the html flag, then the detailed report is generated in a text file.</p>
</li>
<li>
<p><code dir="ltr">-save [-savedir</code> <code dir="ltr"><span class="codeinlineitalic">dir_path</span></code>]</p>
<p>Use the <code dir="ltr">save</code> or <code dir="ltr">-save -savedir</code> flags to save validation reports (<code dir="ltr">cvuchecdkreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.txt</code> and <code dir="ltr">cvucheckreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.htm</code>), where <code dir="ltr"><span class="codeinlineitalic">timestamp</span></code> is the time and date of the validation report.</p>
<p>If you use the <code dir="ltr">save</code> flag by itself, then the reports are saved in the path <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code><code dir="ltr">/cv/report</code>, where <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code> is the location of the CVU binaries.</p>
<p>If you use the flags <code dir="ltr">-save -savedir</code>, and enter a path where you want the CVU reports saved, then the CVU reports are saved in the path you specify.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIADFHJJ"></a>
<div id="CWLIN361" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.8</span> Interconnect Configuration Issues</h2>
<p>If you plan to use multiple network interface cards (NICs) for the interconnect, and you do not configure them during installation or after installation with Redundant Interconnect Usage, then you should use a third party solution to bond the interfaces at the operating system level. Otherwise, the failure of a single NIC will affect the availability of the cluster node.</p>
<p>If you install Oracle Grid Infrastructure and Oracle RAC, then they must use the same NIC or bonded NIC cards for the interconnect.</p>
<p>If you use bonded NIC cards, then they must be on the same subnet.</p>
<p>If you encounter errors, then carry out the following system checks:</p>
<ul>
<li>
<p>Verify with your network providers that they are using correct cables (length, type) and software on their switches. In some cases, to avoid bugs that cause disconnects under loads, or to support additional features such as Jumbo Frames, you may need a firmware upgrade on interconnect switches, or you may need newer NIC driver or firmware at the operating system level. Running without such fixes can cause later instabilities to Oracle RAC databases, even though the initial installation seems to work.</p>
</li>
<li>
<p>Review VLAN configurations, duplex settings, and auto-negotiation in accordance with vendor and Oracle recommendations.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABIADDJ"></a>
<div id="CWLIN2961" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.9</span> SCAN VIP and SCAN Listener Issues</h2>
<p><a id="sthref761"></a><a id="sthref762"></a><a id="sthref763"></a><a id="sthref764"></a><a id="sthref765"></a><a id="sthref766"></a><a id="sthref767"></a>If the final check of your installation reports errors related to the SCAN VIP addresses or listeners, then check the following items to make sure your network is configured correctly:</p>
<ul>
<li>
<p>Check the file <code dir="ltr">/etc/resolv.conf</code>, and verify the contents are the same on each node.</p>
</li>
<li>
<p>Verify that there is a DNS entry for the SCAN, and that it resolves to three valid IP addresses. Use the command <code dir="ltr">nslookup</code> <code dir="ltr"><span class="codeinlineitalic">scan-name</span></code>; this command should return the DNS server name, and the three IP addresses configured for the SCAN.</p>
</li>
<li>
<p>Use the <code dir="ltr">ping</code> command to test the IP addresses assigned to the SCAN; you should receive a response for each IP address.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you do not have a DNS configured for your cluster environment, then you can create an entry for the SCAN in the <code dir="ltr">/etc/hosts</code> file on each node. However, using the <code dir="ltr">/etc/hosts</code> file to resolve the SCAN results in having only one SCAN available for the entire cluster instead of three. Only the first entry for SCAN in the <code dir="ltr">hosts</code> file is used.</div>
</li>
<li>
<p>Ensure the SCAN VIP uses the same netmask that is used by the public interface.</p>
</li>
</ul>
<p>If you need additional assistance troubleshooting errors related to the SCAN, the SCAN VIP or listeners, then refer to My Oracle Support. For example, the note with Doc ID 1373350.1 contains some of the most common issues for SCANs and listeners.</p>
</div>
<!-- class="sect1" -->
<a id="BABCEEBE"></a>
<div id="CWLIN2962" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.10</span> Storage Configuration Issues</h2>
<p>The following is a list of issues involving storage configuration:</p>
<ul>
<li>
<p><a href="#BABCABHH">Recovery from Losing a Node Filesystem or Grid Home</a></p>
</li>
<li>
<p><a href="#BABJIBJE">Oracle ASM Library Driver Issues</a></p>
</li>
</ul>
<a id="BABCABHH"></a>
<div id="CWLIN2963" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.10.1</span> Recovery from Losing a Node Filesystem or Grid Home</h3>
<p>With Oracle Clusterware release 11.2 and later, if you remove a filesystem by mistake, or encounter another storage configuration issue that results in losing the Oracle Local Registry or otherwise corrupting a node, you can recover the node in one of two ways:</p>
<ol>
<li>
<p>Restore the node from an operating system level backup (preferred)</p>
</li>
<li>
<p>Remove the node, and then add the node. With 11.2 and later clusters, profile information for is copied to the node, and the node is restored.</p>
</li>
</ol>
<p>The feature that enables cluster nodes to be removed and added again, so that they can be restored from the remaining nodes in the cluster, is called Grid Plug and Play (GPnP). Grid Plug and Play eliminates per-node configuration data and the need for explicit add and delete nodes steps. This allows a system administrator to take a template system image and run it on a new node with no further configuration. This removes many manual operations, reduces the opportunity for errors, and encourages configurations that can be changed easily. Removal of the per-node configuration makes the nodes easier to replace, because they do not need to contain individually-managed state.</p>
<p>Grid Plug and Play reduces the cost of installing, configuring, and managing database nodes by making their per-node state disposable. It allows nodes to be easily replaced with regenerated state.</p>
<p>Initiate recovery of a node using addnode syntax similar to the following, where <code dir="ltr"><span class="codeinlineitalic">lostnode</span></code> is the node that you are adding back to the cluster:</p>
<p>If you are using Grid Naming Service (GNS):</p>
<pre dir="ltr">
$ ./addNode.sh -silent "CLUSTER_NEW_NODES=<span class="italic">lostnode</span>"
</pre>
<p>If you are not using GNS:</p>
<pre dir="ltr">
$ ./addNode.sh -silent "CLUSTER_NEW_NODES={lostnode}" "CLUSTER_NEW_VIRTUAL_HOSTNAMES={<span class="italic">lostnode</span>-vip}"
</pre>
<p>Note that you require access to root to be able to run the root.sh script on the node you restore, to recreate OCR keys and to perform other configuration tasks. When you see prompts to overwrite your existing information in /usr/local/bin, accept the default (n):</p>
<pre dir="ltr">
The file "dbhome" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
The file "oraenv" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
The file "coraenv" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
</pre></div>
<!-- class="sect2" -->
<a id="BABJIBJE"></a>
<div id="CWLIN2964" class="sect2">
<h3 class="sect2"><span class="secnum">A.10.2</span> Oracle ASM Library Driver Issues</h3>
<p>The following is a list of Oracle ASM driver library error messages, and how to address these errors:</p>
<div class="msgset"><a id="tahiti51319173"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref768"></a><a id="sthref769"></a>Asmtool: Unable to clear device "<span class="italic">devicepath</span>": Input/output error</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This is a write access error that can have several causes</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> If the disk is mounted, then unmount it. For example: <code dir="ltr">umount /dev/sdb1</code>. Make sure that the group and user that owns the device is the Oracle Grid Infrastructure installation owner and the oraInventory group. For example: <code dir="ltr">chown grid:oinstall</code>.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<div class="msgset"><a id="tahiti51319279"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref770"></a><a id="sthref771"></a><a id="sthref772"></a>Unable to open ASMLib; Unable to find candidate disks 'ORCL:*'</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If you have created disks but you cannot discover candidate disks from Oracle Universal Installer, this could be due to a variety of configuration errors that prevent access to Oracle ASM storage.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> As the Oracle Grid Infrastructure installation owner, enter the command <code dir="ltr">/usr/sbin/oracleasm-discover</code>, using the ASM disk path <span class="italic">asm_diskstring</span>. For example:
<pre dir="ltr">
[grid@node1]$ /usr/sbin/oracleasm-discover 'ORCL:*'
</pre>
<p>If you do not have <code dir="ltr">/usr/sbin/oracleasm-discover</code>, then you do not have <code dir="ltr">oracleasmlib</code> installed. If you do have the command, then you should be able to determine if ASMLib is enabled, if disks are created, and if other tasks to create candidate disks are completed.</p>
<p>If you have resolved the issue, then you should see output similar to the following when you enter the command:</p>
<pre dir="ltr">
[grid@node1]$ /usr/sbin/oracleasm-discover 'ORCL:*'
 
Using ASMLib from /opt/oracle/extapi/64/asm/orcl/1/libasm.so
 
[ASM Library - Generic Linux, version 2.0.4 (KABI_V2)]
Discovered disk: ORCL:DISK1 [78140097 blocks (40007729664 bytes), maxio 512]
Discovered disk: ORCL:DISK2 [78140097 blocks (40007729664 bytes), maxio 512]
Discovered disk: ORCL:DISK3 [78140097 blocks (40007729664 bytes), maxio 512]
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABCHCJE"></a>
<div id="CWLIN2965" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.11</span> Completing an Installation Before Finishing Running Scripts</h2>
<p><a id="sthref773"></a><a id="sthref774"></a><a id="sthref775"></a>When the <code dir="ltr">root.sh</code> script completes, you must click <span class="bold">OK</span> in OUI to finish the installation, and to start the configuration assistants. If OUI exits before the <code dir="ltr">root.sh</code> script has been run or has finished running, then the Oracle Grid Infrastructure installation is incomplete.</p>
<p>To complete an interrupted installation, as the <code dir="ltr">grid</code> user, on the node where the installation was started, run the following command:</p>
<p><code dir="ltr">$</code><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cfgtoollogs/configToolAllCommands</code></p>
<p>Run this command on only the first node. Running this command completes the Oracle Grid Infrastructure installation. If the <code dir="ltr">configToolAllCommands</code> file does not exist, then contact My Oracle Support for assistance in creating the file manually.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2495">
<tr>
<td class="cellalignment2502">
<table class="cellalignment2500">
<tr>
<td class="cellalignment2499"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2499"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2504">
<table class="cellalignment2498">
<tr>
<td class="cellalignment2499"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2499"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2499"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2499"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2499"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2499"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
