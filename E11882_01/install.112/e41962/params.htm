<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring the Server Parameter File in Oracle Real Application Clusters Environments</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1088" />
<meta name="dcterms.created" content="2016-11-17T23:3:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Real Application Clusters Installation Guide" />
<meta name="dcterms.identifier" content="E41962-05" />
<meta name="dcterms.isVersionOf" content="RILIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="postinst.htm" title="Previous" type="text/html" />
<link rel="Next" href="srvpool.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41962.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/20</span> <!-- End Header -->
<div id="RILIN007" class="chapter"><a id="CIHFCHGH"></a>
<h1 class="chapter"><span class="secnum">5</span> Configuring the Server Parameter File in Oracle Real Application Clusters Environments</h1>
<p><a id="sthref296"></a><a id="sthref297"></a>This chapter describes server parameter file (SPFILE) placement and configuration in Oracle Real Application Clusters (Oracle RAC) environments. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHCICHD">Parameter Files and Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHIDAHD">Using Server Parameter Files with Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHCJHEB">Parameter File Search Order in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHICJBD">Migrating to the SPFILE in Oracle RAC Environments</a></p>
</li>
<li>
<p><a href="#CIHBAIGB">Server Parameter File Errors in Oracle RAC</a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about parameters, and for a discussion of parallel execution-related parameters in Oracle RAC data warehouse environments</div>
</li>
</ul>
<a id="CIHCICHD"></a>
<div id="RILIN701" class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Parameter Files and Oracle RAC</h2>
<p><a id="sthref298"></a><a id="sthref299"></a>Oracle Database uses parameter settings in parameter files to determine how to control various database resources. You can use two types of files for parameter administration: the server parameter file (<code dir="ltr">SPFILE</code>) or one or more traditional client-side parameter files.</p>
<p>Oracle recommends that you manage parameters using an <code dir="ltr">SPFILE</code>. If you use client-side parameter files, then Oracle does not preserve parameter changes made for self-tuning after shutdown.</p>
</div>
<!-- class="sect1" -->
<a id="CIHIDAHD"></a>
<div id="RILIN702" class="sect1">
<h2 class="sect1"><span class="secnum">5.2</span> Using Server Parameter Files with Oracle RAC</h2>
<p>By default, Oracle Database creates <a id="sthref300"></a>the <code dir="ltr">init</code> parameter file (<code dir="ltr">PFILE</code>) for each node based on one <a id="sthref301"></a><code dir="ltr">SPFILE</code>. You can change parameter settings in the <code dir="ltr">SPFILE</code> file by using only Oracle Enterprise Manager or <code dir="ltr">ALTER SYSTEM SET</code> SQL statements, because the server parameter file is a binary file. Do not try to edit this file manually.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you avoid modifying the values for self-tuning parameters; overriding these settings can adversely affect performance.</div>
<p>If you are upgrading from a previous Oracle Database release, then review the following section about the server parameter file for Oracle RAC.</p>
<div id="RILIN1060" class="sect2"><a id="sthref302"></a>
<h3 class="sect2"><span class="secnum">5.2.1</span> About the Server Parameter File</h3>
<p><a id="sthref303"></a>With Oracle Database 11<span class="italic">g</span> release 2 and later databases, Database Agent automatically maintains the SPFILE based on the value you specify in the srvctl command <code dir="ltr">srvctl add/modify -p</code> <code dir="ltr"><span class="codeinlineitalic">spfile</span></code>, where <code dir="ltr"><span class="codeinlineitalic">spfile</span></code> is the name of the SPFILE. You do not need to create or maintain <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">ORACLE_SID</span></code><code dir="ltr">.ora</code> files.</p>
<p>The <a id="sthref304"></a>default location of the server parameter file (<code dir="ltr">SPFILE)</code> is in the following path:</p>
<pre dir="ltr">
$ORACLE_HOME/dbs/spfile$<span class="italic">ORACLE_SID</span>.ora 
</pre>
<p>The default location of the server parameter file is inappropriate for Oracle RAC databases and Oracle ASM instances if you use <a id="sthref305"></a>storage on a node, because all instances must use the same server parameter file.</p>
<p>Instead, Oracle recommends that you use a <code dir="ltr">PFILE</code> in this directory:</p>
<pre dir="ltr">
$ORACLE_HOME/dbs/init<span class="italic">$ORACLE_SID</span>.ora
</pre>
<p>This path is valid for each instance and it refers to a single, shared initialization parameter file. For example, if you use NFS storage, then on a Linux or UNIX system, the file should contain an entry similar to the following:</p>
<pre dir="ltr">
SPFILE='/nfs/db/oracle_dg/<span class="italic">db</span>spfile'
</pre>
<p>However, if you use a cluster file system, then use the following file location:</p>
<p>On Linux and UNIX-based systems:</p>
<pre dir="ltr">
SPFILE='/<span class="italic">shared_mount</span>/<span class="italic">dbname</span>/spfile<span class="italic">dbname</span>.ora'
</pre>
<p>In this syntax example, the variable <code dir="ltr"><span class="codeinlineitalic">shared_mount</span></code> is the shared mount point, and the variable <code dir="ltr"><span class="codeinlineitalic">dbname</span></code> is the database name.</p>
<p>To use DBCA to create your database, and to use the server parameter file, start DBCA. When the Initialization Parameters page appears, select <span class="bold">Create server parameter file (SPFILE)</span> under the File Locations tab. When you have made this selection, then enter either a shared file system filename, or enter the storage path in the <span class="bold">Server Parameters Filename</span> field.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you use DBCA to create the server parameter file, the default <code dir="ltr">SPFILE</code> file name is <code dir="ltr">$ORACLE_HOME/dbs/init$ORACLE_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.ora</code></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHCJHEB"></a>
<div id="RILIN703" class="sect1">
<h2 class="sect1"><span class="secnum">5.3</span> Parameter File Search Order in Oracle RAC</h2>
<p>Oracle Database searches for your <a id="sthref306"></a>parameter file in the following order:</p>
<ol>
<li>
<p><kbd><code dir="ltr">$ORACLE_HOME/dbs/spfile</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code></kbd></p>
</li>
<li>
<p><kbd><code dir="ltr">$ORACLE_HOME/dbs/spfile.ora</code></kbd></p>
</li>
<li>
<p><kbd><code dir="ltr">$ORACLE_HOME/dbs/init</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code></kbd></p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CIHICJBD"></a>
<div id="RILIN704" class="sect1">
<h2 class="sect1"><span class="secnum">5.4</span> Migrating to the SPFILE in Oracle RAC Environments</h2>
<p><a id="sthref307"></a>Migrate to the <code dir="ltr">SPFile</code> by creating and editing the server parameter file using the procedures described in this section. This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHJDJGE">Server Parameter File Placement in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CIHBHIFE">Procedures for Migrating to the Server Parameter File</a></p>
</li>
</ul>
<a id="CIHJDJGE"></a>
<div id="RILIN1061" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.1</span> Server Parameter File Placement in Oracle RAC</h3>
<p>For single-node cluster-enabled configurations, or if you are using Oracle ASM disk groups or a cluster file system, place the server parameter file in an Oracle ASM disk group or on a file system. Otherwise, place the server parameter file on a shared raw device that is at least 5 MB in size.</p>
</div>
<!-- class="sect2" -->
<a id="CIHBHIFE"></a>
<div id="RILIN1062" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.2</span> Procedures for Migrating to the Server Parameter File</h3>
<p>Migrate to the <code dir="ltr">SPFILE</code> file by completing the following procedures:</p>
<ol>
<li>
<p>Combine the initialization parameter files for all instances into one <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">dbname</span></code><code dir="ltr">.ora</code> file, where <code dir="ltr"><span class="codeinlineitalic">dbname</span></code> is the name of the database, by copying all shared <code dir="ltr">IFILE</code> contents <span class="italic">as is</span>. All parameters defined in your <code dir="ltr">IFILE</code> parameter files are global. Therefore, create them in the format <span class="italic">parameter</span>=<span class="italic">value</span>, without <code dir="ltr">SID</code> prefixes.</p>
</li>
<li>
<p>Copy all instance-specific parameter definitions from <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code> files using the following syntax, where the variable <code dir="ltr"><span class="codeinlineitalic">sid</span></code> is the <code dir="ltr">SID</code> of the instance:</p>
<pre dir="ltr">
<span class="italic">sid</span>.<span class="italic">parameter</span>=<span class="italic">value</span> 
</pre>
<pre dir="ltr">
</pre></li>
<li>
<p>If you are using a cluster file system, then Oracle recommends that you use the following command to define the location of the new SPFILE, where <code dir="ltr"><span class="codeinlineitalic">spfile</span></code> is the name of the SPFILE:</p>
<pre dir="ltr">
srvctl modify database -p <span class="italic">spfile</span>
</pre>
<p>You can also create the server parameter file using the <code dir="ltr">CREATE SPFILE</code> statement as in the following example:</p>
<pre dir="ltr">
CREATE SPFILE='?/dbs/spfile_<span class="italic">dbname</span>.ora'
FROM PFILE='?/dbs/init<span class="italic">dbname</span>.ora'
</pre>
<p>If you use Oracle ASM, then you can use the following syntax to create the server parameter file, where <code dir="ltr"><span class="codeinlineitalic">disk_group_name</span></code> is the disk group name, <code dir="ltr"><span class="codeinlineitalic">db_uniquename</span></code> is the database name, <code dir="ltr"><span class="codeinlineitalic">dbname</span></code> is the database name, and <code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code> is the Oracle home path:</p>
<pre dir="ltr">
CREATE SPFILE='+<span class="italic">disk_group_name</span>/<span class="italic">db_uniquename/</span>spfile<span class="italic">dbname</span>.ora'
FROM PFILE='<span class="italic">Oracle_home</span>/dbs/init<span class="italic">dbname</span>.ora'
</pre>
<p>These statements read your combined <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">dbname</span></code><code dir="ltr">.ora</code> file that you created by merging your IFILEs, and then transfer the settings for the parameters from the merged file into your server parameter file.</p>
</li>
<li>
<p>Oracle recommends that you use the <code dir="ltr">SPFILE</code> by using the <code dir="ltr">PFILE</code> as a pointer to the <code dir="ltr">SPFILE</code>. Do this by running the <code dir="ltr">STARTUP</code> command as in the following example, where the SID variable <code dir="ltr"><span class="codeinlineitalic">sid</span></code> in the file <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code> is the SID that you use in the <code dir="ltr">SPFILE</code> entry from Step 3. For example:</p>
<pre dir="ltr">
STARTUP PFILE=$ORACLE_HOME/dbs/init<span class="italic">sid</span>.ora
</pre>
<p>If you use this <code dir="ltr">STARTUP</code> command syntax, then Oracle Database uses the server parameter file entry specified in the file <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
With Oracle ASM 11<span class="italic">g</span> release 2 and later releases, the <code dir="ltr">SPFILE</code> for the Oracle ASM instance can be stored in Oracle ASM. You can also place an Oracle ASM instance <code dir="ltr">SPFILE</code> on a file system, or you can use a traditional client-side parameter file for each Oracle ASM instance.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about administering an Oracle ASM instance</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHBAIGB"></a>
<div id="RILIN705" class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> Server Parameter File Errors in Oracle RAC</h2>
<p>Oracle Database reports errors that occur during <a id="sthref308"></a>server parameter file creation, or while reading the file during startup. If an error occurs during a parameter update, then Oracle records the error in your <code dir="ltr">ALERT.LOG</code> file, and ignores subsequent parameter updates to the file. If this happens, then do either of the following:</p>
<ul>
<li>
<p>Shut down the instance, recover the server parameter file, and restart the instance.</p>
</li>
<li>
<p>Enable the instance to continue running without regard for subsequent parameter updates.</p>
</li>
</ul>
<p>Oracle Database displays errors for parameter changes that you attempt when you incorrectly use the <code dir="ltr">ALTER SYSTEM SET</code> statement. Oracle Database does this when an error occurs while reading from or writing to the server parameter file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about backing up the <code dir="ltr">SPFILE</code></div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2585">
<tr>
<td class="cellalignment2594">
<table class="cellalignment2590">
<tr>
<td class="cellalignment2589"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2589"><a href="srvpool.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2597">
<table class="cellalignment2588">
<tr>
<td class="cellalignment2589"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2589"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2589"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2589"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2589"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2589"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
