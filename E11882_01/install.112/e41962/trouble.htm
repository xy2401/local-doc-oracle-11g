<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Troubleshooting Oracle Real Application Clusters Installations</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1088" />
<meta name="dcterms.created" content="2016-11-17T23:3:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Real Application Clusters Installation Guide" />
<meta name="dcterms.identifier" content="E41962-05" />
<meta name="dcterms.isVersionOf" content="RILIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html" />
<link rel="Next" href="scripts.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41962.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">14/20</span> <!-- End Header -->
<div id="RILIN1106" class="appendix"><a id="CIACEGFJ"></a>
<h1 class="appendix"><span class="secnum">A</span> Troubleshooting Oracle Real Application Clusters Installations</h1>
<p>This appendix provides troubleshooting information for installing Oracle Real Application Clusters (Oracle RAC). It contains the following sections:</p>
<ul>
<li>
<p><a href="#CIAHDDCG">Troubleshooting Oracle Real Application Clusters Installations</a></p>
</li>
<li>
<p><a href="#BABGHIJC">About Using CVU Cluster Healthchecks After Installation</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Database 11<span class="italic">g</span> release 2 (11.2) Oracle Real Application Clusters documentation set included with the installation media in the Documentation directory:
<ul>
<li>
<p><a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
<a id="CIAHDDCG"></a>
<div id="RILIN1107" class="sect1">
<h2 class="sect1"><span class="secnum">A.1</span> Troubleshooting Oracle Real Application Clusters Installations<a id="sthref420"></a></h2>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACJCBBC">General Installation Issues</a></p>
</li>
<li>
<p><a href="#CIAJGBGE">Oracle RAC Installation Error Messages</a></p>
</li>
<li>
<p><a href="#CIAEHCEA">Performing Cluster Diagnostics During Oracle Clusterware Installations</a></p>
</li>
<li>
<p><a href="#BABFGEEG">Reviewing the Log of an Installation Session</a></p>
</li>
<li>
<p><a href="#BABEFFEI">Configuration Assistant Errors</a></p>
</li>
</ul>
<a id="CACJCBBC"></a>
<div id="RILIN1108" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.1</span> General Installation Issues</h3>
<p>The following is a list of examples of the types of errors that can occur during installation. It contains the following issues:</p>
<ul>
<li>
<p><a href="#CIAJIAAE">An error occurred while trying to get the disks</a></p>
</li>
<li>
<p><a href="#CIACFDDA">Failed to connect to server, Connection refused by server, or Can't open display</a></p>
</li>
<li>
<p><a href="#CIACHJHJ">Nodes unavailable for selection from the OUI Node Selection screen</a></p>
</li>
<li>
<p><a href="#CIAHFCFH">Node <span class="italic">nodename</span> is unreachable</a></p>
</li>
<li>
<p><a href="#CIAHCAIH">PROT-8: Failed to import data from specified file to the cluster registry</a></p>
</li>
<li>
<p><a href="#CIAHDHJG">PRKP-1001: Error starting instance</a></p>
</li>
<li>
<p><a href="#CIAHEGIB">Time stamp is in the future</a></p>
</li>
<li>
<p><a href="#CIABJIFI">YPBINDPROC_DOMAIN: Domain not bound</a></p>
</li>
</ul>
<div class="msgset"><a id="tahiti32526838"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAJIAAE"></a>An error occurred while trying to get the disks<a id="sthref421"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> There is an entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existent Oracle home. The OUI error file should show the following error: "<code dir="ltr">java.io.IOException: /home/oracle/OraHome//bin/kfod: not found</code>"</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Remove the entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existing Oracle home.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti40863970"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIACFDDA"></a>Failed to connect to server, Connection refused by server, or Can't open display<a id="sthref422"></a><a id="sthref423"></a><a id="sthref424"></a><a id="sthref425"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> These are typical of X Window display errors on Windows or UNIX systems, where xhost is not properly configured.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> In a local terminal window, log in as the user that started the X Window session, and enter the following command:
<p><code dir="ltr">$ xhost</code> <code dir="ltr"><span class="codeinlineitalic">fully_qualified_remote_host_name</span></code></p>
<p>For example:</p>
<pre dir="ltr">
$ xhost somehost.example.com
</pre>
<p>Then, enter the following commands, where <code dir="ltr"><span class="codeinlineitalic">workstation_name</span></code> is the host name or IP address of your workstation.</p>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ DISPLAY=<span class="italic">workstation_name</span>:0.0
$ export DISPLAY
</pre>
<p>To determine if X Window applications display correctly on the local system, enter the following command:</p>
<pre dir="ltr">
$ xclock
</pre>
<p>The X clock should appear on your monitor. If this fails, then use of the <code dir="ltr">xhost</code> command may be restricted on the server.</p>
<p>If you are using a VNC client to access the server, then ensure that you are accessing the visual that is assigned to the user that you are trying to use for the installation. For example, if you used the <code dir="ltr">su</code> command to become the installation owner on another user visual, and the <code dir="ltr">xhost</code> command use is restricted, then you cannot use the <code dir="ltr">xhost</code> command to change the display. If you use the visual assigned to the installation owner, then the correct display will be available, and entering the <code dir="ltr">xclock</code> command will display the X clock.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526381"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIACHJHJ"></a>Nodes unavailable for selection from the OUI Node Selection screen<a id="sthref426"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Oracle Clusterware is either not installed, or the Oracle Clusterware services are not up and running.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install Oracle Clusterware, or review the status of your Oracle Clusterware. Consider restarting the nodes, as doing so may resolve the problem.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526471"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHFCFH"></a>Node <span class="italic">nodename</span> is unreachable<a id="sthref427"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Unavailable IP host</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Attempt the following:
<ol>
<li>
<p>Run the command <code dir="ltr">ifconfig -a</code>. Compare the output of this command with the contents of the <code dir="ltr">/etc/hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run the command <code dir="ltr">nslookup</code> to see if the host is reachable.</p>
</li>
<li>
<p>As the <code dir="ltr">oracle</code> user, attempt to connect to the node with <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code>. If you are prompted for a password, then user equivalence is not set up properly. Contact your system administrator, or consult The <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform to complete SSH configuration.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti40865961"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHCAIH"></a>PROT-8: Failed to import data from specified file to the cluster registry<a id="sthref428"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Insufficient space in an existing Oracle Cluster Registry raw device partition, which causes a migration failure while running <code dir="ltr">rootupgrade.sh</code>. To confirm, look for the error "utopen:12:Not enough space in the backing store" in the log file <code dir="ltr">$ORA_CRS_HOME/log/</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">/client/ocrconfig_</code><code dir="ltr"><span class="codeinlineitalic">pid</span></code><code dir="ltr">.log</code>.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Identify a raw device that has 280 MB or more available space. Locate the existing raw device name from <code dir="ltr">/etc/oracle/srvConfig.lo</code>c (AIX, HP-UX, Linux) or <code dir="ltr">/var/opt/oracle/srvConfig.loc</code> (Solaris), and copy the contents of this raw device to the new device using the command <code dir="ltr">dd</code>.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti40866365"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHDHJG"></a>PRKP-1001: Error starting instance<a id="sthref429"></a><a id="sthref430"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Missing ODBC Driver Manager. Associated message is <span class="bold">CRS-0215: Could not start resource</span>.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Clean up installation, download and install the ODBC driver from <code dir="ltr"><a href="http://www.unixodbc.org">http://www.unixodbc.org</a></code>, and restart the installation. This is a requirement for Oracle RAC databases, documented in system requirements in the <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure</span></a> installation guide for your platform.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526054"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHEGIB"></a>Time stamp is in the future<a id="sthref431"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> One or more nodes has a different clock time than the local node. If this is the case, then you may see output similar to the following:
<pre dir="ltr">
time stamp 2005-04-04 14:49:49 is 106 s in the future
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Ensure that all member nodes of the cluster have the same clock time.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526608"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIABJIFI"></a>YPBINDPROC_DOMAIN: Domain not bound<a id="sthref432"></a></span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This error can occur during postinstallation testing when a node public network interconnect is pulled out, and the VIP does not fail over. Instead, the node hangs, and users are unable to log in to the system. This error occurs when the Oracle home, listener.ora, Oracle log files, or any action scripts are located on an NAS device or NFS mount, and the name service cache daemon <code dir="ltr">nscd</code> has not been activated.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Enter the following command on all nodes in the cluster to start the nscd service:
<pre dir="ltr">
/sbin/service  nscd start
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect2" -->
<a id="CIAJGBGE"></a>
<div id="RILIN1109" class="sect2">
<h3 class="sect2"><span class="secnum">A.1.2</span> Oracle RAC Installation Error Messages</h3>
<p>Note that the user performing the Oracle RAC installation must have membership both in the oinstall group and the OSDBA group (typically <code dir="ltr">oinstall</code> and <code dir="ltr">dba</code>). If this is not the case, then the installation will fail.</p>
<p>For additional help in resolving error messages, refer to My Oracle Support. For example, the note with Doc ID 1372375.1 contains some of the most common installation issues for Oracle Real Application Clusters.</p>
</div>
<!-- class="sect2" -->
<a id="CIAEHCEA"></a>
<div id="RILIN1110" class="sect2">
<h3 class="sect2"><span class="secnum">A.1.3</span> Performing Cluster Diagnostics During Oracle Clusterware Installations<a id="sthref433"></a></h3>
<p>If Oracle Universal Installer (OUI) does not display the Node Selection page, then perform <a id="sthref434"></a><a id="sthref435"></a>clusterware diagnostics by running the <code dir="ltr"><a id="sthref436"></a>olsnodes</code> <code dir="ltr">-v</code> command from the binary directory in your Oracle Clusterware home <code dir="ltr"><span class="codeinlineitalic">(Grid_home</span></code><code dir="ltr">/bin</code> on Linux and UNIX-based systems, and analyzing its output. Refer to your clusterware documentation if the detailed output indicates that your clusterware is not running.</p>
<p>In addition, use the following command syntax to check the integrity of the Cluster Manager:</p>
<pre dir="ltr">
cluvfy comp clumgr -n <span class="italic">node_list</span> -verbose
</pre>
<p>In the preceding syntax example, the variable <code dir="ltr"><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas.</p>
</div>
<!-- class="sect2" -->
<a id="BABFGEEG"></a>
<div id="RILIN1111" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.4</span> Reviewing the Log of an Installation Session<a id="sthref437"></a><a id="sthref438"></a><a id="sthref439"></a></h3>
<p>During an installation, Oracle Universal Installer records all of the actions that it performs in a log file. If you encounter problems during the installation, then review the log file for information about possible causes of the problem.</p>
<p>To view the log file, follow these steps:</p>
<ol>
<li>
<p>If necessary, enter the following command to determine the location of the oraInventory directory:</p>
<pre dir="ltr">
$ cat /opt/oracle/oraInst.loc
$ cat /var/opt/oracle/oraInst.loc
</pre></li>
<li>
<p>Enter the following command to determine the name of the log file:</p>
<pre dir="ltr">
$ ls -ltr
</pre>
<p>This command lists the files in the order of creation, with the most recent file shown last. Installer log files have names similar to the following, where <code dir="ltr"><span class="codeinlineitalic">date_time</span></code> indicates the date and time that the installation started:</p>
<pre dir="ltr">
installActions<span class="italic">date_time</span>.log
</pre>
<p>To view the most recent entries in the log file, where information about a problem is most likely to appear, enter a command similar to the following:</p>
<pre dir="ltr">
$ tail -50 installActions2007-07-20_09-53-22AM.log | more
</pre>
<p>This command displays the last 50 lines in the log file, and enables you to page through them.</p>
<p>If the error displayed by Oracle Universal Installer or listed in the log file indicates a relinking problem, then refer to the following file for more information:</p>
<pre dir="ltr">
$ORACLE_HOME/install/make.log
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABEFFEI"></a>
<div id="RILIN1112" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.1.5</span> Configuration Assistant Errors<a id="sthref440"></a><a id="sthref441"></a></h3>
<p>To troubleshoot an installation error that occurs when a configuration assistant is running:</p>
<p>Review the installation log files listed in the section"<a href="#BABFGEEG">"Reviewing the Log of an Installation Session"</a>.</p>
<p>Review the specific configuration assistant log file located in the Oracle RAC installation owner Oracle base directory, in the path <code dir="ltr">$ORACLE_BASE/cfgtoollogs</code>. Try to fix the issue that caused the error.</p>
<p>If you see the "Fatal Error. Reinstall" message, then look for the cause of the problem by reviewing the log files. Refer to the section <a href="#BABDEIBI">"Fatal Errors"</a> for further instructions.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIABFECD">Configuration Assistant Failures</a></p>
</li>
<li>
<p><a href="#BABDEIBI">Fatal Errors</a></p>
</li>
</ul>
<a id="CIABFECD"></a>
<div id="RILIN1113" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">A.1.5.1</span> Configuration Assistant Failures</h4>
<p>Oracle configuration assistant failures are noted at the bottom of the installation screen. The configuration assistant interface displays additional information, if available. The configuration assistant execution status is stored in the following file:</p>
<pre dir="ltr">
oraInventory_location/logs/installActionsdate_time.log
</pre>
<p>More details about errors related to the configuration assistant can be found in the following directory:</p>
<pre dir="ltr">
$ORACLE_BASE/cfgtoollogs
</pre>
<p>The Oracle base directory is the Oracle base for the Oracle RAC installation owner. Completion status codes are listed in the following table:</p>
<pre dir="ltr">
Status Result Code 
Configuration assistant succeeded 0 
Configuration assistant failed 1 
Configuration assistant cancelled -1 
</pre></div>
<!-- class="sect3" -->
<a id="BABDEIBI"></a>
<div id="RILIN1114" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">A.1.5.2</span> Fatal Errors</h4>
<p>If you receive a fatal error while a configuration assistant is running, then you must complete the following tasks:</p>
<ol>
<li>
<p>Deinstall Oracle software.</p>
</li>
<li>
<p>Correct the cause of the fatal error.</p>
</li>
<li>
<p>Reinstall the Oracle software.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGHIJC"></a>
<div id="RILIN1115" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> About Using CVU Cluster Healthchecks After Installation</h2>
<p>Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2.0.3) and later, you can use the CVU healthcheck command option to check your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</p>
<p>Use the following syntax to run the healthcheck command option:</p>
<p>cluvfy comp healthcheck [-collect {cluster|database}] [-db <span class="italic">db_unique_name</span>] [-bestpractice|-mandatory] [-deviations] [-html] [-save [-savedir <span class="italic">directory_path</span>]</p>
<p>For example:</p>
<pre dir="ltr">
$ cd /home/grid/cvu_home/bin
$ ./cluvfy comp healthcheck -collect cluster -bestpractice -deviations -html
</pre>
<p>The options are:</p>
<ul>
<li>
<p><code dir="ltr">-collect [cluster|database]</code></p>
<p>Use this flag to specify that you want to perform checks for Oracle Clusterware (cluster) or Oracle Database (database). If you do not use the collect flag with the healthcheck option, then cluvfy comp healthcheck performs checks for both Oracle Clusterware and Oracle Database.</p>
</li>
<li>
<p><code dir="ltr">-db</code> <code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code></p>
<p>Use this flag to specify checks on the database unique name that you enter after the <code dir="ltr">db</code> flag.</p>
<p>CVU uses JDBC to connect to the database as the user <code dir="ltr">cvusys</code> to verify various database parameters. For this reason, if you want checks to be performed for the database you specify with the <code dir="ltr">-db</code> flag, then you must first create the <code dir="ltr">cvusys</code> user on that database, and grant that user the CVU-specific role, <code dir="ltr">cvusapp</code>. You must also grant members of the <code dir="ltr">cvusapp</code> role <code dir="ltr">select</code> permissions on system tables.A SQL script is included in <span class="italic">CVU_home</span><code dir="ltr">/cv/admin/cvusys.sql</code> to facilitate the creation of this user. Use this SQL script to create the cvusys user on all the databases that you want to verify using CVU.</p>
<p>If you use the <code dir="ltr">db</code> flag but do not provide a database unique name, then CVU discovers all the Oracle Databases on the cluster. If you want to perform best practices checks on these databases, then you must create the <code dir="ltr">cvusys</code> user on each database, and grant that user the <code dir="ltr">cvusapp</code> role with the <code dir="ltr">select</code> privileges needed to perform the best practice checks.</p>
</li>
<li>
<p><code dir="ltr">[-bestpractice | -mandatory] [-deviations</code>]</p>
<p>Use the <code dir="ltr">bestpractice</code> flag to specify best practice checks, and the <code dir="ltr">mandatory</code> flag to specify mandatory checks. Add the <code dir="ltr">deviations</code> flag to specify that you want to see only the deviations from either the best practice recommendations or the mandatory requirements. You can specify either the <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code> flag, but not both flags. If you specify neither <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code>, then both best practices and mandatory requirements are displayed.</p>
</li>
<li>
<p><code dir="ltr">-html</code></p>
<p>Use the <code dir="ltr">html</code> flag to generate a detailed report in HTML format.</p>
<p>If you specify the <code dir="ltr">html</code> flag, and a browser CVU recognizes is available on the system, then the browser is started and the report is displayed on the browser when the checks are complete.</p>
<p>If you do not specify the html flag, then the detailed report is generated in a text file.</p>
</li>
<li>
<p><code dir="ltr">-save [-savedir</code> <code dir="ltr"><span class="codeinlineitalic">dir_path</span></code>]</p>
<p>Use the <code dir="ltr">save</code> or <code dir="ltr">-save -savedir</code> flags to save validation reports (<code dir="ltr">cvuchecdkreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.txt</code> and <code dir="ltr">cvucheckreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.htm</code>), where <code dir="ltr"><span class="codeinlineitalic">timestamp</span></code> is the time and date of the validation report.</p>
<p>If you use the <code dir="ltr">save</code> flag by itself, then the reports are saved in the path <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code><code dir="ltr">/cv/report</code>, where <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code> is the location of the CVU binaries.</p>
<p>If you use the flags <code dir="ltr">-save -savedir</code>, and enter a path where you want the CVU reports saved, then the CVU reports are saved in the path you specify.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2585">
<tr>
<td class="cellalignment2594">
<table class="cellalignment2590">
<tr>
<td class="cellalignment2589"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2589"><a href="scripts.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2597">
<table class="cellalignment2588">
<tr>
<td class="cellalignment2589"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2589"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2589"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2589"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2589"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2589"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
