<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Grid Infrastructure for a Cluster Installation Concepts</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1088" />
<meta name="dcterms.created" content="2016-11-17T21:24:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E47805-03" />
<meta name="dcterms.isVersionOf" content="CWSOL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="app_nonint.htm" title="Previous" type="text/html" />
<link rel="Next" href="manpreins.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e47805.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">14/17</span> <!-- End Header -->
<div id="CWSOL343" class="appendix"><a id="BABDCDGD"></a>
<h1 class="appendix"><span class="secnum">C</span> Oracle Grid Infrastructure for a Cluster Installation Concepts</h1>
<p>This appendix explains the reasons for preinstallation tasks that you are asked to perform, and other installation concepts.</p>
<p>This appendix contains the following sections:</p>
<ul>
<li>
<p><a href="#BABFBBID">Understanding Preinstallation Configuration</a></p>
</li>
<li>
<p><a href="#BABDBIIH">Understanding Storage Configuration</a></p>
</li>
<li>
<p><a href="#CIHGDHHD">Understanding Server Pools</a></p>
</li>
<li>
<p><a href="#BABCBBGB">Understanding Out-of-Place Upgrade</a></p>
</li>
</ul>
<a id="BABFBBID"></a>
<div id="CWSOL344" class="sect1">
<h2 class="sect1"><span class="secnum">C.1</span> Understanding Preinstallation Configuration</h2>
<p>This section reviews concepts about Oracle Grid Infrastructure for a Cluster preinstallation tasks. It contains the following sections:</p>
<ul>
<li>
<p><a href="#BABGDEDE">Understanding Oracle Groups and Users</a></p>
</li>
<li>
<p><a href="#BABHDEAB">Understanding the Oracle Base Directory Path</a></p>
</li>
<li>
<p><a href="#BABHEIBD">Understanding Network Addresses</a></p>
</li>
<li>
<p><a href="#BABHBIFE">Understanding Network Time Requirements</a></p>
</li>
</ul>
<a id="BABGDEDE"></a>
<div id="CWSOL345" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.1</span> Understanding Oracle Groups and Users</h3>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABHDIBC">Understanding the Oracle Inventory Group</a></p>
</li>
<li>
<p><a href="#BABBFGHA">Understanding the Oracle Inventory Directory</a></p>
</li>
</ul>
<a id="BABHDIBC"></a>
<div id="CWSOL346" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">C.1.1.1</span> Understanding the Oracle Inventory Group</h4>
<p><a id="sthref716"></a><a id="sthref717"></a><a id="sthref718"></a><a id="sthref719"></a><a id="sthref720"></a>You must have a group whose members are given access to write to the Oracle Inventory (<code dir="ltr">oraInventory</code>) directory, which is the central inventory record of all Oracle software installations on a server. Members of this group have write privileges to the Oracle central inventory (<code dir="ltr">oraInventory</code>) directory, and are also granted permissions for various Oracle Clusterware resources, OCR keys, directories in the Oracle Clusterware home to which DBAs need write access, and other necessary privileges. By default, this group is called <code dir="ltr">oinstall</code>. The Oracle Inventory group must be the primary group for Oracle software installation owners.</p>
<p>The <code dir="ltr">oraInventory</code> directory contains the following:</p>
<ul>
<li>
<p>A registry of the Oracle home directories (Oracle Grid Infrastructure and Oracle Database) on the system</p>
</li>
<li>
<p>Installation logs and trace files from installations of Oracle software. These files are also copied to the respective Oracle homes for future reference.</p>
</li>
<li>
<p>Other metadata inventory information regarding Oracle installations are stored in the individual Oracle home inventory directories, and are separate from the central inventory.</p>
</li>
</ul>
<p>You can configure one group to be the access control group for the Oracle Inventory, for database administrators (OSDBA), and for all other access control groups used by Oracle software for operating system authentication. However, if you use one group to provide operating system authentication for all system privileges, then this group must be the primary group for all users to whom you want to grant administrative system privileges.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If Oracle software is already installed on the system, then the existing Oracle Inventory group must be the primary group of the operating system user (<code dir="ltr">oracle</code> or <code dir="ltr">grid</code>) that you use to install Oracle Grid Infrastructure. Refer to "Determining If the Oracle Inventory and Oracle Inventory Group Exists" to identify an existing Oracle Inventory group.</div>
</div>
<!-- class="sect3" -->
<a id="BABBFGHA"></a>
<div id="CWSOL347" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">C.1.1.2</span> Understanding the Oracle Inventory Directory</h4>
<p>The Oracle Inventory directory (<code dir="ltr">oraInventory</code>) is the central inventory location for all Oracle software installed on a server.</p>
<p><a id="sthref721"></a>The first time you install Oracle software on a system, you are prompted to provide an oraInventory directory path.</p>
<p><a id="sthref722"></a>When you provide an Oracle base path when prompted during installation, or you have set the environment variable <code dir="ltr">ORACLE_BASE</code> for the user performing the Oracle Grid Infrastructure installation, OUI creates the Oracle Inventory directory in the path <code dir="ltr">ORACLE_BASE/../oraInventory</code>. For example, if <code dir="ltr">ORACLE_BASE</code> is set to <code dir="ltr">/opt/oracle/11</code>, then the Oracle Inventory directory is created in the path <code dir="ltr">/opt/oracle/oraInventory</code>, so that the central inventory for all installations is outside of the Oracle base for this particular Oracle installation user.</p>
<p>If you neither enter a path nor set <code dir="ltr">ORACLE_BASE</code>, then the Oracle Inventory directory is placed in the home directory of the user that is performing the installation. For example:</p>
<pre dir="ltr">
/home/oracle/oraInventory
</pre>
<p><a id="sthref723"></a>As this placement can cause permission errors during subsequent installations with multiple Oracle software owners, Oracle recommends that you do not accept this option, and instead use an OFA-compliant path.</p>
<p>For new installations, Oracle recommends that you either create an Oracle path in compliance with OFA structure, such as <code dir="ltr">/u01/app/oraInventory</code>, that is owned by an Oracle software owner, or you set the Oracle base environment variable to an OFA-compliant value.</p>
<p>If you set an Oracle base variable to a path such as <code dir="ltr">/u01/app/grid</code> or <code dir="ltr">/u01/app/oracle</code>, then the Oracle Inventory is defaulted to the path <code dir="ltr">u01/app/oraInventory</code> using correct permissions to allow all Oracle installation owners to write to this central inventory directory.</p>
<p>By default, the Oracle Inventory directory is not installed under the Oracle base directory for the installation owner. This is because all Oracle software installations share a common Oracle Inventory, so there is only one Oracle Inventory for all users, whereas there is a separate Oracle base for each user.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABHDEAB"></a>
<div id="CWSOL348" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.2</span> Understanding the Oracle Base Directory Path</h3>
<p>This section contains information about preparing an Oracle base directory.<a id="sthref724"></a></p>
<div id="CWSOL349" class="sect3"><a id="sthref725"></a>
<h4 class="sect3"><span class="secnum">C.1.2.1</span> Overview of the Oracle Base directory</h4>
<p>During installation, you are prompted to specify an Oracle base location, which is owned by the user performing the installation. You can choose a location with an existing Oracle home, or choose another directory location that does not have the structure for an Oracle base directory.</p>
<p>Using the Oracle base directory path helps to facilitate the organization of Oracle installations, and helps to ensure that installations of multiple databases maintain an Optimal Flexible Architecture (OFA) configuration.</p>
</div>
<!-- class="sect3" -->
<div id="CWSOL350" class="sect3"><a id="sthref726"></a>
<h4 class="sect3"><span class="secnum">C.1.2.2</span> Understanding Oracle Base and Grid Infrastructure Directories</h4>
<p>Even if you do not use the same software owner to install Grid Infrastructure (Oracle Clusterware and Oracle ASM) and Oracle Database, be aware that running the <code dir="ltr">root.sh</code> script during the Oracle Grid Infrastructure installation changes ownership of the home directory where clusterware binaries are placed to <code dir="ltr">root</code>, and all ancestor directories to the root level (<code dir="ltr">/</code>) are also changed to <code dir="ltr">root</code>. For this reason, the Oracle Grid Infrastructure for a cluster home cannot be in the same location as other Oracle software.</p>
<p>However, Oracle Grid Infrastructure for a standalone database--Oracle Restart--can be in the same location as other Oracle software.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your platform for more information about Oracle Restart</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABHEIBD"></a>
<div id="CWSOL351" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.3</span> Understanding Network Addresses</h3>
<p>During installation, you are asked to identify the planned use for each network interface that OUI detects on your cluster node. Identify each interface as a public or private interface, or as an interface that you do not want Oracle Clusterware to use. Public and virtual IP addresses are configured on public interfaces. Private addresses are configured on private interfaces.</p>
<p>Refer to the following sections for detailed information about each address type:</p>
<ul>
<li>
<p><a href="#CIHDCEIJ">About the Public IP Address</a></p>
</li>
<li>
<p><a href="#CIHBBFEJ">About the Private IP Address</a></p>
</li>
<li>
<p><a href="#CIHHCFAB">About the Virtual IP Address</a></p>
</li>
<li>
<p><a href="#CIHIAEDA">About the Grid Naming Service (GNS) Virtual IP Address</a></p>
</li>
<li>
<p><a href="#CIHIGDID">About the SCAN</a></p>
</li>
</ul>
<a id="CIHDCEIJ"></a>
<div id="CWSOL449" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.1</span> About the Public IP Address</h4>
<p>The public IP address is assigned dynamically using DHCP, or defined statically in a DNS or in a hosts file. It uses the public interface (the interface with access available to clients).</p>
</div>
<!-- class="sect3" -->
<a id="CIHBBFEJ"></a>
<div id="CWSOL450" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.2</span> About the Private IP Address</h4>
<p>Oracle Clusterware uses interfaces marked as private for internode communication. Each cluster node needs to have an interface that you identify during installation as a private interface. Private interfaces need to have addresses configured for the interface itself, but no additional configuration is required. Oracle Clusterware uses interfaces you identify as private for the cluster interconnect. If you identify multiple interfaces during information for the private network, then Oracle Clusterware configures them with Redundant Interconnect Usage. Any interface that you identify as private must be on a subnet that connects to every node of the cluster. Oracle Clusterware uses all the interfaces you identify for use as private interfaces.</p>
<p><a id="sthref727"></a>For the private interconnects, because of Cache Fusion and other traffic between nodes, Oracle strongly recommends using a physically separate, private network. If you configure addresses using a DNS, then you should ensure that the private IP addresses are reachable only by the cluster nodes.</p>
<p>After installation, if you modify interconnects on Oracle RAC with the <code dir="ltr">CLUSTER_INTERCONNECTS</code> initialization parameter, then you must change it to a private IP address, on a subnet that is not used with a public IP address. Oracle does not support changing the interconnect to an interface using a subnet that you have designated as a public subnet.</p>
<p>You should not use a firewall on the network with the private network IP addresses, as this can block interconnect traffic.</p>
</div>
<!-- class="sect3" -->
<a id="CIHHCFAB"></a>
<div id="CWSOL451" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.3</span> About the Virtual IP Address</h4>
<p>The virtual IP (VIP) address is registered in the GNS, or the DNS. Select an address for your VIP that meets the following requirements:</p>
<ul>
<li>
<p>The IP address and host name are currently unused (it can be registered in a DNS, but should not be accessible by a <code dir="ltr">ping</code> command)</p>
</li>
<li>
<p>The VIP is on the same subnet as your public interface</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CIHIAEDA"></a>
<div id="CWSOL452" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.4</span> About the Grid Naming Service (GNS) Virtual IP Address</h4>
<p>The GNS virtual IP address is a static IP address configured in the DNS. The DNS delegates queries to the GNS virtual IP address, and the GNS daemon responds to incoming name resolution requests at that address.</p>
<p>Within the subdomain, the GNS uses multicast Domain Name Service (mDNS), included with Oracle Clusterware, to enable the cluster to map host names and IP addresses dynamically as nodes are added and removed from the cluster, without requiring additional host configuration in the DNS.</p>
<p>To enable GNS, you must have your network administrator provide a set of IP addresses for a subdomain assigned to the cluster (for example, <code dir="ltr">grid.example.com</code>), and delegate DNS requests for that subdomain to the GNS virtual IP address for the cluster, which GNS will serve. The set of IP addresses is provided to the cluster through DHCP, which must be available on the public network for the cluster.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91886" href="../../rac.112/e41959/intro.htm#CWADD91886"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about Grid Naming Service</div>
</div>
<!-- class="sect3" -->
<a id="CIHIGDID"></a>
<div id="CWSOL453" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.5</span> <a id="sthref728"></a><a id="sthref729"></a>About the SCAN</h4>
<p>Oracle Database 11<span class="italic">g</span> release 2 clients connect to the database using SCANs. The SCAN and its associated IP addresses provide a stable name for clients to use for connections, independent of the nodes that make up the cluster. SCAN addresses, virtual IP addresses, and public IP addresses must all be on the same subnet.</p>
<p>The SCAN is a virtual IP name, similar to the names used for virtual IP addresses, such as <code dir="ltr">node1-vip</code>. However, unlike a virtual IP, the SCAN is associated with the entire cluster, rather than an individual node, and associated with multiple IP addresses, not just one address.</p>
<p><a id="sthref730"></a>The SCAN works by being able to resolve to multiple IP addresses in the cluster handling public client connections. When a client submits a request, the SCAN listener listening on a SCAN IP address and the SCAN port is made available to a client. Because all services on the cluster are registered with the SCAN listener, the SCAN listener replies with the address of the local listener on the least-loaded node where the service is currently being offered. Finally, the client establishes connection to the service through the listener on the node where service is offered. All of these actions take place transparently to the client without any explicit configuration required in the client.</p>
<p>During installation listeners are created. They listen on the SCAN IP addresses provided on nodes for the SCAN IP addresses. Oracle Net Services routes application requests to the least loaded instance providing the service. Because the SCAN addresses resolve to the cluster, rather than to a node address in the cluster, nodes can be added to or removed from the cluster without affecting the SCAN address configuration.</p>
<p>The SCAN should be configured so that it is resolvable either by using Grid Naming Service (GNS) within the cluster, or by using Domain Name Service (DNS) resolution. For high availability and scalability, Oracle recommends that you configure the SCAN name so that it resolves to three IP addresses. At a minimum, the SCAN must resolve to at least one address.</p>
<p>If you specify a GNS domain, then the SCAN name defaults to <span class="italic">clustername</span>-scan.<span class="italic">GNS_domain</span>. Otherwise, it defaults to <span class="italic">clustername</span>-scan.<span class="italic">current_domain</span>. For example, if you start Oracle Grid Infrastructure installation from the server <code dir="ltr">node1</code>, the cluster name is <code dir="ltr">mycluster</code>, and the GNS domain is <code dir="ltr">grid.example.com</code>, then the SCAN Name is <code dir="ltr">mycluster-scan.grid.example.com</code>.</p>
<p><a id="sthref731"></a>Clients configured to use IP addresses for Oracle Database releases prior to Oracle Database 11<span class="italic">g</span> release 2 can continue to use their existing connection addresses; using SCANs is not required. When you upgrade to Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2), the SCAN becomes available, and you should use the SCAN for connections to Oracle Database 11<span class="italic">g</span> release 2 or later databases. When an earlier version of Oracle Database is upgraded, it registers with the SCAN listeners, and clients can start using the SCAN to connect to that database. The database registers with the SCAN listener through the remote listener parameter in the init.ora file. The REMOTE_LISTENER parameter must be set to SCAN:PORT. Do not set it to a TNSNAMES alias with a single address with the SCAN as HOST=SCAN.</p>
<p><a id="sthref732"></a><a id="sthref733"></a>The SCAN is optional for most deployments. However, clients using Oracle Database 11<span class="italic">g</span> release 2 and later policy-managed databases using server pools should access the database using the SCAN. This is because policy-managed databases can run on different servers at different times, so connecting to a particular node virtual IP address for a policy-managed database is not possible.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABHBIFE"></a>
<div id="CWSOL357" class="sect2">
<h3 class="sect2"><span class="secnum">C.1.4</span> Understanding Network Time Requirements</h3>
<p>Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2) is automatically configured with Cluster Time Synchronization Service (CTSS). This service provides automatic synchronization of all cluster nodes using the optimal synchronization strategy for the type of cluster you deploy. If you have an existing cluster synchronization service, such as NTP, then it will start in an observer mode. Otherwise, it will start in an active mode to ensure that time is synchronized between cluster nodes. CTSS will not cause compatibility issues.</p>
<p>The CTSS module is installed as a part of Oracle Grid Infrastructure installation. CTSS daemons are started up by the OHAS daemon (<code dir="ltr">ohasd</code>), and do not require a command-line interface.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABDBIIH"></a>
<div id="CWSOL358" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.2</span> Understanding Storage Configuration</h2>
<p><a href="#BABFGCBA">Understanding Oracle Automatic Storage Management Cluster File System</a></p>
<p><a href="#BABCFAEJ">About Migrating Existing Oracle ASM Instances</a></p>
<p><a href="#BABJGDDC">About Converting Standalone Oracle ASM Installations to Clustered Installations</a></p>
<a id="BABFGCBA"></a>
<div id="CWSOL359" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.1</span> Understanding Oracle Automatic Storage Management Cluster File System</h3>
<p><a id="sthref734"></a><a id="sthref735"></a>Oracle Automatic Storage Management has been extended to include a general purpose file system, called Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Oracle ACFS is a new multi-platform, scalable file system, and storage management technology that extends Oracle Automatic Storage Management (Oracle ASM) functionality to support customer files maintained outside of the Oracle Database. Files supported by Oracle ACFS include application binaries and application reports. Other supported files are video, audio, text, images, engineering drawings, and other general-purpose application file data.</p>
</div>
<!-- class="sect2" -->
<a id="BABCFAEJ"></a>
<div id="CWSOL360" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.2</span> About Migrating Existing Oracle ASM Instances</h3>
<p>If you have an Oracle ASM installation from a prior release installed on your server, or in an existing Oracle Clusterware installation, then you can use Oracle Automatic Storage Management Configuration Assistant (ASMCA, located in the path <span class="italic">Grid_home</span>/bin) to upgrade the existing Oracle ASM instance to Oracle ASM 11<span class="italic">g</span> release 2 (11.2), and subsequently configure failure groups, Oracle ASM volumes, and Oracle Automatic Storage Management Cluster File System (Oracle ACFS).</p>
<div class="infoboxnotealso">
<p class="notep1">Note:</p>
You must first shut down all database instances and applications on the node with the existing Oracle ASM instance before upgrading it.</div>
<p>During installation, if you chose to use Oracle ASM and ASMCA detects that there is a prior Oracle ASM version installed in another home, then after installing the Oracle ASM 11<span class="italic">g</span> release 2 (11.2) binaries, you can start ASMCA to upgrade the existing Oracle ASM instance. You can then choose to configure an Oracle ACFS deployment by creating Oracle ASM volumes and using the upgraded Oracle ASM to create the Oracle ACFS.</p>
<p>On an existing Oracle Clusterware or Oracle RAC installation, if the prior version of Oracle ASM instances on all nodes is Oracle ASM 11<span class="italic">g</span> release 1, then you are provided with the option to perform a rolling upgrade of Oracle ASM instances. If the prior version of Oracle ASM instances on an Oracle RAC installation are from an Oracle ASM release prior to Oracle ASM 11<span class="italic">g</span> release 1, then rolling upgrades cannot be performed. Oracle ASM is then upgraded on all nodes to 11<span class="italic">g</span> release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="BABJGDDC"></a>
<div id="CWSOL361" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.3</span> About Converting Standalone Oracle ASM Installations to Clustered Installations</h3>
<p>If you have existing standalone Oracle ASM installations on one or more nodes that are member nodes of the cluster, then OUI proceeds to install Oracle Grid Infrastructure for a cluster.</p>
<p>If you place Oracle Clusterware files (OCR and voting disks) on Oracle ASM, then ASMCA is started at the end of the clusterware installation, and provides prompts for you to migrate and upgrade the Oracle ASM instance on the local node, so that you have an Oracle ASM 11<span class="italic">g</span> release 2 (11.2) installation.</p>
<p>On remote nodes, ASMCA identifies any standalone Oracle ASM instances that are running, and prompts you to shut down those Oracle ASM instances, and any database instances that use them. ASMCA then extends clustered Oracle ASM instances to all nodes in the cluster. However, disk group names on the cluster-enabled Oracle ASM instances must be different from existing standalone disk group names.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Database Storage Administrator's Guide</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHGDHHD"></a>
<div id="CWSOL454" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.3</span> Understanding Server Pools</h2>
<p>The following section provides a short overview of server pools. It contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHFHBDA">Overview of Server Pools and Policy-based Management</a></p>
</li>
<li>
<p><a href="#CIHJHCIG">How Server Pools Work</a></p>
</li>
<li>
<p><a href="#CIHBJGHI">The Free Server Pool</a></p>
</li>
<li>
<p><a href="#CIHHEFBH">The Generic Server Pool</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to configure and administer server pools</div>
<a id="CIHFHBDA"></a>
<div id="CWSOL455" class="sect2">
<h3 class="sect2"><span class="secnum">C.3.1</span> Overview of Server Pools and Policy-based Management</h3>
<p>With Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2) and later, resources managed by Oracle Clusterware are contained in logical groups of servers called server pools. Resources are hosted on a shared infrastructure and are contained within server pools. The resources are restricted with respect to their hardware resource (such as CPU and memory) consumption by policies, behaving as if they were deployed in a single-system environment.</p>
<p>You can choose to manage resources dynamically using server pools to provide policy-based management of resources in the cluster, or you can choose to manage resources using the traditional method of physically assigning resources to run on particular nodes.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
By default, any named user may create a server pool. To restrict the operating system users that have this privilege, Oracle strongly recommends that you add specific users to the CRS Administrators list.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91105" href="../../rac.112/e41959/admin.htm#CWADD91105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about adding users to the CRS Administrator's list.</div>
<p>The Oracle Grid Infrastructure installation owner has permissions to create and configure server pools, using SRVCTL, Oracle Enterprise Manager Database Control, or Oracle Database Configuration Assistant (DBCA).</p>
<p>Policy-based management:</p>
<ul>
<li>
<p>Enables dynamic capacity assignment when needed to provide server capacity in accordance with the priorities you set with policies</p>
</li>
<li>
<p>Enables allocation of resources by importance, so that applications obtain the required minimum resources, whenever possible, and so that lower priority applications do not take resources from more important applications</p>
</li>
<li>
<p>Ensures isolation where necessary, so that you can provide dedicated servers in a cluster for applications and databases</p>
</li>
</ul>
<p>Applications and databases running in server pools do not share resources. Because of this, server pools isolate resources where necessary, but enable dynamic capacity assignments as required. Together with role-separated management, this capability addresses the needs of organizations that have a standardized cluster environments, but allow multiple administrator groups to share the common cluster infrastructure.</p>
</div>
<!-- class="sect2" -->
<a id="CIHJHCIG"></a>
<div id="CWSOL456" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.2</span> How Server Pools Work</h3>
<p>Server pools divide the cluster into groups of servers hosting the same or similar resources. They distribute a uniform workload (a set of Oracle Clusterware resources) over several servers in the cluster. For example, you can restrict Oracle databases to run only in a particular server pool. When you enable role-separated management, you can explicitly grant permission to operating system users to change attributes of certain server pools.</p>
<p>Top-level server pools:</p>
<ul>
<li>
<p>Logically divide the cluster</p>
</li>
<li>
<p>Are always exclusive, meaning that one server can only reside in one particular server pool at a certain point in time</p>
</li>
</ul>
<p>Server pools each have three attributes that they are assigned when they are created:</p>
<ul>
<li>
<p>MIN_SIZE: The minimum number of servers the server pool should contain. If the number of servers in a server pool is below the value of this attribute, then Oracle Clusterware automatically moves servers from elsewhere into the server pool until the number of servers reaches the attribute value, or until there are no free servers available from less important pools.</p>
</li>
<li>
<p>MAX_SIZE: The maximum number of servers the server pool may contain.</p>
</li>
<li>
<p>IMPORTANCE: A number from 0 to 1000 (0 being least important) that ranks a server pool among all other server pools in a cluster.</p>
</li>
</ul>
<p>When Oracle Clusterware is installed, two server pools are created automatically: Generic and Free. All servers in a new installation are assigned to the Free server pool, initially. Servers move from Free to newly defined server pools automatically. When you upgrade Oracle Clusterware, all nodes are assigned to the Generic server pool, to ensure compatibility with database releases before Oracle Database 11<span class="italic">g</span> release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="CIHBJGHI"></a>
<div id="CWSOL457" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.3</span> The Free Server Pool</h3>
<p>The Free server pool contains servers that are not assigned to any other server pools. The attributes of the Free server pool are restricted, as follows:</p>
<ul>
<li>
<p>SERVER_NAMES, MIN_SIZE, and MAX_SIZE cannot be edited by the user</p>
</li>
<li>
<p>IMPORTANCE and ACL can be edited by the user</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91116" href="../../rac.112/e41959/admin.htm#CWADD91116"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CIHHEFBH"></a>
<div id="CWSOL458" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.4</span> The Generic Server Pool</h3>
<p>The Generic server pool stores pre-11<span class="italic">g</span> release 2 (11.2) databases and administrator-managed databases that have fixed configurations. Additionally, the Generic server pool contains servers that match either of the following:</p>
<ul>
<li>
<p>Servers that you specified in the HOSTING_MEMBERS attribute of all resources of the application resource type</p>
</li>
<li>
<p>Servers with names you specified in the SERVER_NAMES attribute of the server pools that list the Generic server pool as a parent server pool</p>
</li>
</ul>
<p>The Generic server pool's attributes are restricted, as follows:</p>
<ul>
<li>
<p>No one can modify configuration attributes of the Generic server pool (all attributes are read-only)</p>
</li>
<li>
<p>When you specify a server name in the HOSTING_MEMBERS attribute, Oracle Clusterware only allows it if the server is:</p>
<ul>
<li>
<p>Online and exists in the Generic server pool</p>
</li>
<li>
<p>Online and exists in the Free server pool, in which case Oracle Clusterware moves the server into the Generic server pool</p>
</li>
<li>
<p>Online and exists in any other server pool and the client is either a CRS Administrator (the user role that controls resource administration for server pools) or is allowed to use the server pool's servers, in which case, the server is moved into the Generic server pool</p>
</li>
<li>
<p>Offline and the client is a CRS Administrator</p>
</li>
</ul>
</li>
<li>
<p>When you register a child server pool with the Generic server pool, Oracle Clusterware only allows it if the server names pass the same requirements as previously specified for the resources.</p>
<p>Servers are initially considered for assignment into the Generic server pool at cluster startup time or when a server is added to the cluster, and only after that to other server pools.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABCBBGB"></a>
<div id="CWSOL362" class="sect1">
<h2 class="sect1"><span class="secnum">C.4</span> Understanding Out-of-Place Upgrade</h2>
<p>With an out-of-place upgrade, the installer installs the newer version in a separate Oracle Clusterware home. Both versions of Oracle Clusterware are on each cluster member node, but only one version is active.</p>
<p>Rolling upgrade avoids downtime and ensure continuous availability while the software is upgraded to a new version.</p>
<p>If you have separate Oracle Clusterware homes on each node, then you can perform an out-of-place upgrade on all nodes, or perform an out-of-place rolling upgrade, so that some nodes are running Oracle Clusterware from the earlier version Oracle Clusterware home, and other nodes are running Oracle Clusterware from the new Oracle Clusterware home.</p>
<p>An in-place upgrade of Oracle Clusterware 11<span class="italic">g</span> release 2 is not supported.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="procstop.htm#BABEHGJG">Appendix E, "How to Upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2"</a> for instructions on completing rolling upgrades</div>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2760">
<tr>
<td class="cellalignment2767">
<table class="cellalignment2765">
<tr>
<td class="cellalignment2764"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2764"><a href="manpreins.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2769">
<table class="cellalignment2763">
<tr>
<td class="cellalignment2764"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2764"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2764"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2764"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2764"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2764"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
