<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Grid Infrastructure for a Cluster Installation Concepts</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090" />
<meta name="dcterms.created" content="2017-01-19T21:44:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E48194-03" />
<meta name="dcterms.isVersionOf" content="CWWIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="app_nonint.htm" title="Previous" type="text/html" />
<link rel="Next" href="upgrade.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48194.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">15/17</span> <!-- End Header -->
<div id="CWWIN431" class="appendix"><a id="BABDCDGD"></a>
<h1 class="appendix"><span class="secnum">C</span> Oracle Grid Infrastructure for a Cluster Installation Concepts</h1>
<p>This appendix explains the reasons for preinstallation tasks that you are asked to perform, and other installation concepts.</p>
<p>This appendix contains the following sections:</p>
<ul>
<li>
<p><a href="#CIHFBABI">Understanding Preinstallation Configuration</a></p>
</li>
<li>
<p><a href="#CIHGJEEG">Understanding Storage Configuration</a></p>
</li>
<li>
<p><a href="#CIHDJBEF">Understanding Server Pools</a></p>
</li>
<li>
<p><a href="#CIHCHJCA">Understanding Out-of-Place Upgrade</a></p>
</li>
</ul>
<a id="CIHFBABI"></a>
<div id="CWWIN432" class="sect1">
<h2 class="sect1"><span class="secnum">C.1</span> Understanding Preinstallation Configuration</h2>
<p><a id="sthref771"></a>This section reviews concepts about Oracle Grid Infrastructure for a cluster preinstallation tasks. It contains the following sections:</p>
<ul>
<li>
<p><a href="#CIHHEFEJ">Understanding the Oracle Inventory Directory</a></p>
</li>
<li>
<p><a href="#CIHJEEDF">Understanding the Oracle Base Directory Path</a></p>
</li>
<li>
<p><a href="#CIHEJGBG">Understanding Network Addresses</a></p>
</li>
<li>
<p><a href="#CIHDEBDH">Understanding Network Time Requirements</a></p>
</li>
</ul>
<a id="CIHHEFEJ"></a>
<div id="CWWIN433" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.1</span> Understanding the Oracle Inventory Directory</h3>
<p>The Oracle Inventory directory is the central inventory location for all Oracle software installed on a server. The <a id="sthref772"></a><a id="sthref773"></a>location of the Oracle Inventory directory is <code dir="ltr">&lt;</code><code dir="ltr"><span class="codeinlineitalic">System_drive</span></code>&gt;<code dir="ltr">:\Program Files\Oracle\Inventory</code>.</p>
<p><a id="sthref774"></a><a id="sthref775"></a>The first time you install Oracle software on a system, the installer checks to see if an Oracle Inventory directory exists. The location of the Oracle Inventory directory is determined by the Windows Registry key <code dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\Oracle\inst_loc</code>. If an Oracle Inventory directory does not exist, then the installer creates one in the default location of <code dir="ltr">C:\Program Files\Oracle\Inventory</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Changing the value for <code dir="ltr">inst_loc</code> in the Windows registry is not supported.</div>
<p>By default, the Oracle Inventory directory is not installed under the Oracle base directory for the installation owner. This is because all Oracle software installations share a common Oracle Inventory, so there is only one Oracle Inventory for all users, whereas there is a separate Oracle Base directory for each user.</p>
</div>
<!-- class="sect2" -->
<a id="CIHJEEDF"></a>
<div id="CWWIN434" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.2</span> Understanding the Oracle Base Directory Path</h3>
<p>During installation, you are prompted to specify an Oracle base location, which is owned by the user performing the installation. You can choose a location with an existing Oracle home, or choose another directory location that does not have the structure for an Oracle base directory. The default location for the Oracle base directory is <code dir="ltr">&lt;</code><code dir="ltr"><span class="codeinlineitalic">SYSTEM_DRIVE</span></code><code dir="ltr">&gt;:\app\</code><code dir="ltr"><span class="codeinlineitalic">user_name</span></code><code dir="ltr">\</code>.</p>
<p>Using the Oracle base directory path helps to facilitate the organization of Oracle installations, parameter, diagnostic, and log files, and helps to ensure that installations of multiple databases maintain an Optimal Flexible Architecture (OFA) configuration.</p>
<p>Multiple Oracle Database installations can use the same Oracle base directory. The Oracle Grid Infrastructure installation uses a different directory path, one outside of Oracle base. If you use different operating system users to perform the Oracle software installations, then each user will have a different default Oracle base location.</p>
</div>
<!-- class="sect2" -->
<a id="CIHEJGBG"></a>
<div id="CWWIN435" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.3</span> Understanding Network Addresses</h3>
<p>During installation, you are asked to identify the planned use for each network interface that Oracle Universal Installer (OUI) detects on your cluster node. Identify each interface as a public or private interface, or as an interface that you do not want Oracle Clusterware to use. Public and virtual internet protocol (VIP) addresses are configured on public interfaces. Private addresses are configured on private interfaces.</p>
<p>Refer to the following sections for detailed information about each address type:</p>
<ul>
<li>
<p><a href="#CIHBHJFJ">About the Public IP Address</a></p>
</li>
<li>
<p><a href="#CIHHFAIB">About the Private IP Address</a></p>
</li>
<li>
<p><a href="#CIHEAFGI">About the Virtual IP Address</a></p>
</li>
<li>
<p><a href="#CIHIJBBC">About the Grid Naming Service Virtual IP Address</a></p>
</li>
<li>
<p><a href="#CIHIEHFF">About the SCAN</a></p>
</li>
</ul>
<a id="CIHBHJFJ"></a>
<div id="CWWIN436" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.1</span> About the Public IP Address</h4>
<p><a id="sthref776"></a><a id="sthref777"></a><a id="sthref778"></a>The public IP address is assigned dynamically using dynamic host configuration protocol (DHCP), or defined statically in a domain name system (DNS) or <code dir="ltr">hosts</code> file. It uses the public interface (the interface with access available to clients).</p>
</div>
<!-- class="sect3" -->
<a id="CIHHFAIB"></a>
<div id="CWWIN437" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.2</span> About the Private IP Address</h4>
<p>Oracle Clusterware uses interfaces marked as private for internode communication. Each cluster node must have an interface that you identify during installation as a private interface. Private interfaces must have addresses configured for the interface itself, but no additional configuration is required. Oracle Clusterware uses the interfaces you identify as private for the cluster interconnect. Any interface that you identify as private must be on a subnet that connects to every node of the cluster. Oracle Clusterware uses all the interfaces you identify for use as private interfaces.</p>
<p><a id="sthref779"></a><a id="sthref780"></a>For the private interconnects, because of Cache Fusion and other traffic between nodes, Oracle strongly recommends using a physically separate, private network. If you configure addresses using a DNS, then you should ensure that the private IP addresses are reachable only by the cluster nodes.</p>
<p><a id="sthref781"></a><a id="sthref782"></a>After installation, if you modify the interconnect for Oracle Real Application Clusters (Oracle RAC) with the <code dir="ltr">CLUSTER_INTERCONNECTS</code> initialization parameter, then you must change the interconnect to a private IP address, on a subnet that is not used with a public IP address, nor marked as a public subnet by <code dir="ltr">oifcfg</code>. Oracle does not support changing the interconnect to an interface using a subnet that you have designated as a public subnet.</p>
<p>You should not use a firewall on the network with the private network IP addresses, because this can block interconnect traffic.</p>
</div>
<!-- class="sect3" -->
<a id="CIHEAFGI"></a>
<div id="CWWIN438" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.3</span> About the Virtual IP Address</h4>
<p>The virtual IP (VIP) address is registered in the grid naming service (GNS), or the DNS. Select an address for your VIP that meets the following requirements:</p>
<ul>
<li>
<p>The IP address and host name are currently unused (it can be registered in a DNS, but should not be accessible by a <code dir="ltr">ping</code> command)</p>
</li>
<li>
<p>The VIP is on the same subnet as your public interface</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CIHIJBBC"></a>
<div id="CWWIN439" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.4</span> About the Grid Naming Service Virtual IP Address</h4>
<p>The GNS VIP address is a static IP address configured in the DNS. The DNS delegates queries to the GNS VIP address, and the GNS daemon responds to incoming name resolution requests at that address.</p>
<p>Within the subdomain, the GNS uses multicast Domain Name Service (mDNS), included with Oracle Clusterware, to enable the cluster to map host names and IP addresses dynamically as nodes are added and removed from the cluster, without requiring additional host configuration in the DNS.</p>
<p>To enable GNS, you must have your network administrator provide a set of IP addresses for a subdomain assigned to the cluster (for example, <code dir="ltr">grid.example.com</code>), and delegate DNS requests for that subdomain to the GNS VIP address for the cluster, which GNS will serve. The set of IP addresses is provided to the cluster through DHCP, which must be available on the public network for the cluster.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91886" href="../../rac.112/e41959/intro.htm#CWADD91886"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about GNS</div>
</div>
<!-- class="sect3" -->
<a id="CIHIEHFF"></a>
<div id="CWWIN440" class="sect3">
<h4 class="sect3"><span class="secnum">C.1.3.5</span> <a id="sthref783"></a><a id="sthref784"></a>About the SCAN</h4>
<p><a id="sthref785"></a><a id="sthref786"></a>Oracle Database 11<span class="italic">g</span> Release 2 clients connect to the database using a single client access name (SCAN). The SCAN and its associated IP addresses provide a stable name for clients to use for connections, independent of the nodes that make up the cluster. SCAN addresses, virtual IP addresses, and public IP addresses must all be on the same subnet.</p>
<p>The SCAN is a VIP name, similar to the names used for VIP addresses, such as <code dir="ltr">node1-vip</code>. However, unlike a VIP, the SCAN is associated with the entire cluster, rather than an individual node, and associated with multiple IP addresses, not just one address.</p>
<p><a id="sthref787"></a>The SCAN resolves to multiple IP addresses reflecting multiple listeners in the cluster that handle public client connections. When a client submits a request, the SCAN listener listening on a SCAN IP address and the SCAN port is made available to a client. Because all services on the cluster are registered with the SCAN listener, the SCAN listener replies with the address of the local listener on the least-loaded node where the service is currently being offered. Finally, the client establishes connection to the service through the listener on the node where service is offered. All of these actions take place transparently to the client without any explicit configuration required in the client.</p>
<p>During installation, listeners are created. These SCAN listeners listen on the SCAN IP addresses. The SCAN listeners are started on nodes determined by Oracle Clusterware. Oracle Net Services routes application requests to the least loaded instance providing the service. Because the SCAN addresses resolve to the cluster, rather than to a node address in the cluster, nodes can be added to or removed from the cluster without affecting the SCAN address configuration.</p>
<p><a id="sthref788"></a>The SCAN should be configured so that it is resolvable either by using GNS within the cluster, or by using DNS. For high availability and scalability, Oracle recommends that you configure the SCAN name so that it resolves to three IP addresses. At a minimum, the SCAN must resolve to at least one address.</p>
<p>If you specify a GNS domain, then the SCAN name defaults to <span class="italic">clustername</span>-scan.<span class="italic">GNS_domain</span>. Otherwise, it defaults to <span class="italic">clustername</span>-scan.<span class="italic">current_domain</span>. For example, if you start Oracle Grid Infrastructure installation from the server <code dir="ltr">node1</code>, the cluster name is <code dir="ltr">mycluster</code>, and the GNS domain is <code dir="ltr">grid.example.com</code>, then the SCAN Name is <code dir="ltr">mycluster-scan.grid.example.com</code>.</p>
<p><a id="sthref789"></a><a id="sthref790"></a>Clients configured to use IP addresses for Oracle Database releases prior to Oracle Database 11<span class="italic">g</span> Release 2 can continue to use their existing connection addresses; using SCANs is not required. When you upgrade to Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2), the SCAN becomes available, and you should use the SCAN for connections to Oracle Database 11<span class="italic">g</span> Release 2 or later databases. When an earlier version of Oracle Database is upgraded, it registers with the SCAN listeners, and clients can start using the SCAN to connect to that database. The database registers with the SCAN listener through the remote listener parameter in the <code dir="ltr">init.ora</code> file. The REMOTE_LISTENER parameter must be set to SCAN:PORT. Do not set it to a TNSNAMES alias with a single address with the SCAN, for example, using HOST= <span class="italic">SCAN_name</span>.</p>
<p><a id="sthref791"></a><a id="sthref792"></a>The SCAN is optional for most deployments. However, clients using Oracle Database 11<span class="italic">g</span> Release 2 and later policy-managed databases using server pools must access the database using the SCAN. This is required because policy-managed databases can run on different servers at different times, so connecting to a particular node by using the virtual IP address for a policy-managed database is not possible.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHDEBDH"></a>
<div id="CWWIN441" class="sect2">
<h3 class="sect2"><span class="secnum">C.1.4</span> Understanding Network Time Requirements</h3>
<p><a id="sthref793"></a><a id="sthref794"></a><a id="sthref795"></a>Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2) is automatically configured with Cluster Time Synchronization Service (CTSS). This service provides automatic synchronization of the time settings on all cluster nodes using the optimal synchronization strategy for the type of cluster you deploy. If you have an existing cluster synchronization service, such as network time protocol (NTP) or Windows Time Service, then it will start in an observer mode. Otherwise, it will start in an active mode to ensure that time is synchronized between cluster nodes. CTSS will not cause compatibility issues.</p>
<p><a id="sthref796"></a>The CTSS module is installed as a part of Oracle Grid Infrastructure installation. CTSS daemons are started by the Oracle High Availability Services daemon (<code dir="ltr">ohasd</code>), and do not require a command-line interface.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHGJEEG"></a>
<div id="CWWIN442" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.2</span> Understanding Storage Configuration</h2>
<p>The following sections describe concepts related to Oracle Automatic Storage Management (Oracle ASM) storage:</p>
<ul>
<li>
<p><a href="#CIHCABDG">Understanding Oracle Automatic Storage Management Cluster File System</a></p>
</li>
<li>
<p><a href="#CIHEGEGA">About Migrating Existing Oracle ASM Instances</a></p>
</li>
<li>
<p><a href="#CIHBDHCD">About Converting Standalone Oracle ASM Installations to Clustered Installations</a></p>
</li>
</ul>
<a id="CIHCABDG"></a>
<div id="CWWIN443" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.1</span> Understanding Oracle Automatic Storage Management Cluster File System</h3>
<p><a id="sthref797"></a><a id="sthref798"></a><a id="sthref799"></a>Oracle ASM has been extended to include a general purpose file system, called Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Oracle ACFS is a new multi-platform, scalable file system, and storage management technology that extends Oracle ASM functionality to support customer files maintained outside of the Oracle Database. Files supported by Oracle ACFS include application executable files and application reports. Other supported files are video, audio, text, images, engineering drawings, and other general-purpose application file data.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Oracle ACFS is only supported on Windows Server 2003 x64 and Windows Server 2003 R2 x64 in Oracle ASM 11<span class="italic">g</span> Release 2 (11.2.0.1).</p>
</li>
<li>
<p>Starting with Oracle ASM 11<span class="italic">g</span> Release 2 (11.2.0.2), Oracle ACFS is also supported on Windows Server 2008 x64 and Windows Server 2008 R2 x64.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHEGEGA"></a>
<div id="CWWIN444" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.2</span> About Migrating Existing Oracle ASM Instances</h3>
<p><a id="sthref800"></a>If you have an Oracle ASM installation from a prior release installed on your server, or in an existing Oracle Clusterware installation, then you can use Oracle Automatic Storage Management Configuration Assistant (ASMCA, located in the path <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin</code>) to upgrade the existing Oracle ASM instance to Oracle ASM 11<span class="italic">g</span> Release 2 (11.2), and subsequently configure failure groups, Oracle ASM volumes, and Oracle ACFS.</p>
<div class="infoboxnotealso">
<p class="notep1">Note:</p>
You must first shut down all database instances and applications on the node with the existing Oracle ASM instance before upgrading it.</div>
<p>During installation, if you chose to use Oracle ASM and ASMCA detects that there is a prior Oracle ASM version installed in another Oracle ASM home, then after installing the Oracle ASM 11<span class="italic">g</span> Release 2 (11.2) software, you can start ASMCA to upgrade the existing Oracle ASM instance. You can then configure an Oracle ACFS deployment by creating Oracle ASM volumes and using the upgraded Oracle ASM to create the Oracle ACFS.</p>
<p>On an existing Oracle Clusterware or Oracle RAC installation, if the prior version of Oracle ASM instances on all nodes is Oracle ASM 11<span class="italic">g</span> Release 1, then you are provided with the option to perform a rolling upgrade of Oracle ASM instances. If the prior version of Oracle ASM instances on an Oracle RAC installation are from an Oracle ASM release prior to Oracle ASM 11<span class="italic">g</span> Release 1, then rolling upgrades cannot be performed. Oracle ASM is then upgraded on all nodes to 11<span class="italic">g</span> Release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="CIHBDHCD"></a>
<div id="CWWIN445" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.3</span> About Converting Standalone Oracle ASM Installations to Clustered Installations</h3>
<p>If <a id="sthref801"></a>you have an existing standalone Oracle ASM installation on one or more nodes that are member nodes of the cluster, then OUI proceeds to install Oracle Grid Infrastructure for a cluster. If you place Oracle Clusterware files (OCR and voting disks) on Oracle ASM, then ASMCA is started at the end of the clusterware installation, and provides prompts for you to migrate and upgrade the Oracle ASM instance on the local node, so that you have an Oracle ASM 11<span class="italic">g</span> Release 2 (11.2) installation.</p>
<p>On remote nodes, ASMCA identifies any standalone Oracle ASM instances that are running, and prompts you to shut down those Oracle ASM instances, and any database instances that use them. ASMCA then extends clustered Oracle ASM instances to all nodes in the cluster. However, disk group names on the cluster-enabled Oracle ASM instances must be different from existing standalone disk group names.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHDJBEF"></a>
<div id="CWWIN446" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.3</span> Understanding Server Pools</h2>
<p>The following topics provide a short overview of server pools:</p>
<ul>
<li>
<p><a href="#CIHGBCJB">Overview of Server Pools and Policy-based Management</a></p>
</li>
<li>
<p><a href="#CIHBHEFF">How Server Pools Work</a></p>
</li>
<li>
<p><a href="#CIHIIAEA">The Free Server Pool</a></p>
</li>
<li>
<p><a href="#CIHEFBDA">The Generic Server Pool</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to configure and administer server pools</div>
<a id="CIHGBCJB"></a>
<div id="CWWIN447" class="sect2">
<h3 class="sect2"><span class="secnum">C.3.1</span> Overview of Server Pools and Policy-based Management</h3>
<p>With Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2) and later, resources managed by Oracle Clusterware are contained in logical groups of servers called <span class="bold">server pools</span>. Resources are hosted on a shared infrastructure and are contained within server pools. The resources are restricted with respect to their hardware resource (such as CPU and memory) consumption by policies, behaving as if they were deployed in a single-system environment.</p>
<p>You can choose to manage resources dynamically using server pools to provide policy-based management of resources in the cluster, or you can choose to manage resources using the traditional method of physically assigning resources to run on particular nodes.</p>
<p><a id="sthref802"></a>The Oracle Grid Infrastructure installation owner has privileges to create and configure server pools, using the Server Control utility (SRVCTL), Oracle Enterprise Manager Database Control, or Oracle Database Configuration Assistant (DBCA).</p>
<p>Policy-based management provides the following functionality:</p>
<ul>
<li>
<p>Enables dynamic capacity assignment when needed to provide server capacity in accordance with the priorities you set with policies</p>
</li>
<li>
<p>Enables allocation of resources by importance, so that applications obtain the required minimum resources, whenever possible, and so that lower priority applications do not take resources from more important applications</p>
</li>
<li>
<p>Ensures isolation where necessary, so that you can provide dedicated servers in a cluster for applications and databases</p>
</li>
</ul>
<p>Applications and databases running in server pools do not share resources. Because of this, server pools isolate resources where necessary, but enable dynamic capacity assignments as required. Together with role-separated management, this capability addresses the needs of organizations that have a standardized cluster environment, but allow multiple administrator groups to share the common cluster infrastructure.</p>
</div>
<!-- class="sect2" -->
<a id="CIHBHEFF"></a>
<div id="CWWIN448" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.2</span> How Server Pools Work</h3>
<p>Server pools divide the cluster into groups of servers hosting the same or similar resources. They distribute a uniform workload (a set of Oracle Clusterware resources) over several servers in the cluster. For example, you can restrict Oracle databases to run only in a particular server pool. When you enable role-separated management, you can explicitly grant permission to operating system users to change attributes of certain server pools.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
By default, any named user may create a server pool. To restrict the operating system users that have this privilege, Oracle strongly recommends that you add specific users to the CRS Administrators list. See <a class="olink CWADD91105" href="../../rac.112/e41959/admin.htm#CWADD91105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about adding users to the CRS Administrators list.</div>
<p>Top-level server pools:</p>
<ul>
<li>
<p>Logically divide the cluster</p>
</li>
<li>
<p>Are always exclusive, meaning that one server can only reside in one particular server pool at a certain point in time</p>
</li>
</ul>
<p>Each server pool has three attributes that are assigned when the server pool is created:</p>
<ul>
<li>
<p>MIN_SIZE: The minimum number of servers the server pool can contain. If the number of servers in a server pool is below the value of this attribute, then Oracle Clusterware automatically moves servers from elsewhere into the server pool until the number of servers reaches the attribute value or until there are no free servers available from less important pools.</p>
</li>
<li>
<p>MAX_SIZE: The maximum number of servers the server pool should contain.</p>
</li>
<li>
<p>IMPORTANCE: A number from 0 to 1000 (0 being least important) that ranks a server pool among all other server pools in a cluster.</p>
</li>
</ul>
<p>When Oracle Clusterware is installed, two server pools are created automatically: Generic and Free. All servers in a new installation are assigned to the Free server pool, initially. Servers move from the Free server pool to newly defined server pools automatically. When you upgrade Oracle Clusterware, all nodes are assigned to the Generic server pool, to ensure compatibility with database releases before Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</div>
<!-- class="sect2" -->
<a id="CIHIIAEA"></a>
<div id="CWWIN449" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.3</span> The Free Server Pool</h3>
<p>The Free server pool contains servers that are not assigned to any other server pools. The attributes of the Free server pool are restricted, as follows:</p>
<ul>
<li>
<p>SERVER_NAMES, MIN_SIZE, and MAX_SIZE cannot be edited by the user</p>
</li>
<li>
<p>IMPORTANCE and ACL can be edited by the user</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91116" href="../../rac.112/e41959/admin.htm#CWADD91116"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about how servers are assigned to server pools.</div>
</div>
<!-- class="sect2" -->
<a id="CIHEFBDA"></a>
<div id="CWWIN450" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.3.4</span> The Generic Server Pool</h3>
<p>The Generic server pool stores Oracle Database 11<span class="italic">g</span> Release 1 (11.1) databases and earlier releases, and administrator-managed databases that have fixed configurations. Additionally, the Generic server pool contains servers that match either of the following:</p>
<ul>
<li>
<p>Servers that you specified in the HOSTING_MEMBERS attribute of all resources of the application resource type</p>
</li>
<li>
<p>Servers with names you specified in the SERVER_NAMES attribute of the server pools that list the Generic server pool as a parent server pool</p>
</li>
</ul>
<p>The attributes of the Generic server pool are restricted, as follows:</p>
<ul>
<li>
<p>The configuration attributes of the Generic server pool cannot be modified (all attributes are read-only).</p>
</li>
<li>
<p>When you specify a server name in the HOSTING_MEMBERS attribute, Oracle Clusterware only allows it if the server is:</p>
<ul>
<li>
<p>Online and exists in the Generic server pool</p>
</li>
<li>
<p>Online and exists in the Free server pool, in which case Oracle Clusterware moves the server into the Generic server pool</p>
</li>
<li>
<p>Online and exists in any other server pool and the client is either a CRS Administrator or is allowed to use the server pool's servers, in which case, the server is moved into the Generic server pool</p>
</li>
<li>
<p>Offline and the client is a CRS Administrator</p>
</li>
</ul>
</li>
<li>
<p>When you register a child server pool with the Generic server pool, Oracle Clusterware only allows it if the server names pass the same requirements as previously specified for the resources.</p>
<p>Servers are initially considered for assignment into the Generic server pool at cluster startup time or when a server is added to the cluster, and only after that to other server pools.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHCHJCA"></a>
<div id="CWWIN451" class="sect1">
<h2 class="sect1"><span class="secnum">C.4</span> Understanding Out-of-Place Upgrade</h2>
<p>During an out-of-place upgrade of Oracle Grid Infrastructure, the installer installs the newer version of the software in a separate Grid home. Both versions of Oracle Clusterware are on each cluster member node, but only one version is active.</p>
<p>If you have separate Oracle Clusterware homes on each node, then you can perform an out-of-place upgrade on all nodes, or perform an out-of-place rolling upgrade, so that some nodes are running Oracle Clusterware from the earlier version Oracle Clusterware home, and other nodes are running Oracle Clusterware from the new Oracle Clusterware home. Rolling upgrade avoids downtime and ensure continuous availability while the software is upgraded to a new version.</p>
<p>An in-place upgrade of Oracle Clusterware 11<span class="italic">g</span> Release 2 is not supported.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="upgrade.htm#BABEHGJG">Appendix D, "How to Upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2"</a> for instructions on completing rolling upgrades</div>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2745">
<tr>
<td class="cellalignment2752">
<table class="cellalignment2756">
<tr>
<td class="cellalignment2749"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2749"><a href="upgrade.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2754">
<table class="cellalignment2755">
<tr>
<td class="cellalignment2749"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2749"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2749"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2749"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2749"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2749"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
