<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Installing Oracle Grid Infrastructure for a Cluster</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090" />
<meta name="dcterms.created" content="2017-01-19T21:44:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E48194-03" />
<meta name="dcterms.isVersionOf" content="CWWIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="storage.htm" title="Previous" type="text/html" />
<link rel="Next" href="postinst.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48194.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/17</span> <!-- End Header -->
<div id="CWWIN328" class="chapter"><a id="BEHHDFEF"></a>
<h1 class="chapter"><span class="secnum">4</span> Installing Oracle Grid Infrastructure for a Cluster</h1>
<p><a id="sthref542"></a>This chapter describes the procedures for installing Oracle Grid Infrastructure for a cluster. Oracle Grid Infrastructure consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM). If you plan afterward to install Oracle Database with Oracle Real Application Clusters (Oracle RAC), then this is phase one of a two-phase installation.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABIFGHH">Preparing to Install Oracle Grid Infrastructure with Oracle Universal Installer</a></p>
</li>
<li>
<p><a href="#BABICAHF">Installing Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABDGDBB">Installing Oracle Grid Infrastructure Using a Software-Only Installation</a></p>
</li>
<li>
<p><a href="#BABFAJBF">Confirming Oracle Clusterware Function</a></p>
</li>
<li>
<p><a href="#BABIEDIE">Confirming Oracle ASM Function for Oracle Clusterware Files</a></p>
</li>
<li>
<p><a href="#BABHFIDG">Understanding Offline Processes in Oracle Grid Infrastructure</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The second phase of an Oracle RAC installation, installing Oracle RAC, is described in <a class="olink RIWIN" href="../e48195/toc.htm"><span class="italic">Oracle Real Application Clusters Installation Guide for Microsoft Windows x64 (64-Bit)</span>.</a></div>
<a id="BABIFGHH"></a>
<div id="CWWIN329" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.1</span> Preparing to Install Oracle Grid Infrastructure with Oracle Universal Installer</h2>
<p>Before you install Oracle Grid Infrastructure with Oracle Universal Installer (OUI), use the following checklist to ensure that you have all the information you will need during installation, and to ensure that you have completed all tasks that must be done before starting your installation. Check off each task in the following list as you complete it, and write down the information needed, so that you can provide it during installation.</p>
<ul>
<li>
<p><span class="bold">Verify Cluster Privileges</span></p>
<p>Before running OUI, from the node where you intend to run the Installer, verify that you are logged in using a member of the Administrators group, and that this user is a Local Administrator user on the other nodes in the cluster. To do this, enter the following command for each node that is a part of the cluster, where <code dir="ltr"><span class="codeinlineitalic">nodename</span></code> is the node name:</p>
<pre dir="ltr">
net use \\<span class="italic">nodename</span>\C$
</pre>
<p>Repeat for each node in the cluster.</p>
</li>
<li>
<p><span class="bold">Shut Down Running Oracle Processes</span></p>
<p>You may have to shut down running Oracle processes:</p>
<p><span class="bold">Installing on a node with a standalone database not using Oracle ASM</span>: You do not have to shut down the database while you install Oracle Grid Infrastructure software.</p>
<p><span class="bold">Installing on a node that already has a standalone Oracle Database 11g Release 2 (11.2) installation running on Oracle ASM</span>: Stop the existing Oracle ASM instances. The Oracle ASM instances are restarted during installation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If <a id="sthref543"></a>you receive a warning to stop all Oracle services after starting OUI, then, only if your environment is not running Oracle RAC, run the command, where <code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code> is the existing Oracle Clusterware home (the Oracle home directory out of which the cluster synchronization service (CSS) is running):
<pre dir="ltr">
<span class="italic">Oracle_home</span>\bin\localconfig delete
</pre></div>
<p><span class="bold">Installing on an Oracle RAC database node</span>: This installation requires an upgrade of Oracle Clusterware, because Oracle Clusterware is required to run Oracle RAC. As part of the upgrade, you must shut down the database one node at a time as the rolling upgrade proceeds from node to node.</p>
</li>
<li>
<p><span class="bold">Prepare for Oracle ASM and Oracle Clusterware upgrade if you have existing installations</span><a id="sthref544"></a><a id="sthref545"></a><a id="sthref546"></a><a id="sthref547"></a><a id="sthref548"></a><a id="sthref549"></a></p>
<p>During the installation of Oracle Grid Infrastructure, existing Oracle Clusterware and clustered Oracle ASM installations are upgraded.</p>
<p>When all member nodes of the cluster are running Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2), then the new clusterware becomes the active version.</p>
<p>If you intend to install Oracle RAC, then you must first complete the upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2) on all cluster nodes before you install the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) version of Oracle RAC.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
All Oracle Grid Infrastructure upgrades (upgrades of existing Oracle Clusterware and clustered Oracle ASM installations) are out-of-place upgrades.</div>
</li>
<li>
<p><span class="bold">Obtain LOCAL_SYSTEM administrator access</span></p>
<p><a id="sthref550"></a><a id="sthref551"></a><a id="sthref552"></a><a id="sthref553"></a>Oracle Grid Infrastructure must be installed as a Local Administrator user, one with LOCAL_SYSTEM privileges, or a member of the local Administrators group. If you do not have Administrator access to each node in the cluster, then ask your system administrator to create and configure the user account on each node.</p>
</li>
<li>
<p><span class="bold">Decide if you want to install other languages</span><a id="sthref554"></a><a id="sthref555"></a></p>
<p>During an Advanced installation session, you are asked if you want translation of user interface text into languages other than the default, which is English.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the language set for the operating system is not supported by OUI, then OUI, by default, runs in English.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NLSPG" href="../../server.112/e10729/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a> for detailed information on character sets and language configuration</div>
</li>
<li>
<p><span class="bold"><a id="sthref556"></a><a id="sthref557"></a><a id="sthref558"></a>Determine your cluster name, public node names, single client access name (SCAN), virtual node names, GNS VIP, and planned interface use for each node in the cluster</span></p>
<p>During installation, you are prompted to provide the public and virtual host name, unless you use a third party cluster software. In that case, the public host name information will be filled in. You are also prompted to identify which interfaces are public, private, or interfaces in use for another purpose, such as a network file system.</p>
<p>If you use Grid Naming Service (GNS), then OUI displays the public and virtual host name addresses labeled as "AUTO" because they are configured automatically by GNS.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you configure internet protocol (IP) addresses manually, then avoid changing host names<a id="sthref559"></a><a id="sthref560"></a> after you complete the Oracle Grid Infrastructure installation, including adding or deleting domain qualifications. A node with a new host name is considered a new host, and must be added to the cluster. A node under the old name will appear to be down until it is removed from the cluster.</div>
<p>When you enter the <a id="sthref561"></a>public node name, use the primary host name of each node. In other words, use the name displayed by the <code dir="ltr">hostname</code> command. This node name can be either the permanent or the virtual host name. The node name should contain only single-byte alphanumeric characters (a to z, A to Z, and 0 to 9). Do not use underscores (_) or any other characters in the host name.</p>
<p>In addition:</p>
<ul>
<li>
<p>Provide a <a id="sthref562"></a><a id="sthref563"></a><a id="sthref564"></a><a id="sthref565"></a>cluster name with the following characteristics:</p>
<ul>
<li>
<p>It must be globally unique throughout your host domain.</p>
</li>
<li>
<p>It must be at least one character long and less than 15 characters long.</p>
</li>
<li>
<p>It must consist of the same character set used for host names, in accordance with Internet Engineering Task Force RFC 1123: Hyphens (-), and single-byte alphanumeric characters (a to z, A to Z, and 0 to 9).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Windows operating systems allow underscores to be used in host names. However, because underscored names are not legal host names for a domain name system (DNS), they should be avoided.</div>
</li>
</ul>
</li>
<li>
<p><a id="sthref566"></a>If you are not using GNS, then determine a <a id="sthref567"></a>virtual host name for each node. A virtual host name is a public node name that is used to reroute client requests sent to the node if the node is down. Oracle Database uses virtual IP (VIP) addresses for client-to-database connections, so the VIP address must be publicly accessible. <a id="sthref568"></a>Oracle recommends that you provide a name in the format <span class="italic">hostname</span>-vip. For example: <code dir="ltr">myclstr2-vip</code>.</p>
</li>
<li>
<p><a id="sthref569"></a><a id="sthref570"></a>Provide SCAN addresses for client access to the cluster. These addresses should be configured as round robin addresses on the domain name service (DNS). Oracle recommends that you supply three <a id="sthref571"></a>SCAN addresses.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following is a list of additional information about node IP addresses:
<ul>
<li>
<p>For the local node only, OUI automatically fills in public and VIP fields.</p>
</li>
<li>
<p>Host names and virtual host names are not domain-qualified. If you provide a domain in the host name field during installation, then OUI removes the domain from the name.</p>
</li>
<li>
<p>Interfaces identified as private for private IP addresses should not be accessible as public interfaces. Using public interfaces for Cache Fusion can cause performance problems.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Identify public and <a id="sthref572"></a>private interfaces. OUI configures public interfaces for use by public and virtual IP addresses, and configures private IP addresses on private interfaces.</p>
<p>The private subnet that the private interfaces use must connect all the nodes you intend to have as cluster members.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Obtain proxy realm authentication information if you have a proxy realm on your network</span></p>
<p>During installation, OUI attempts to download updates. You are prompted to provide a proxy realm, and user authentication information to access the Internet through the proxy service. If you have a proxy realm configured, then be prepared to provide this information. If you do not have a proxy realm, then you can leave the proxy authentication fields blank.</p>
</li>
<li>
<p><span class="bold">Identify shared storage for Oracle Clusterware files and prepare storage if necessary</span></p>
<p><a id="sthref573"></a>During installation, you are asked to provide paths for the following Oracle Clusterware files. These files must be shared across all nodes of the cluster, either on Oracle ASM, or on a supported cluster file system:</p>
<ul>
<li>
<p><a id="sthref574"></a>Voting disks are files that Oracle Clusterware uses to verify cluster node membership and status.</p>
</li>
<li>
<p><a id="sthref575"></a>Oracle Cluster Registry files (OCR) contain cluster and database configuration information for Oracle Clusterware.</p>
</li>
</ul>
<p>If you intend to use Oracle Cluster File System for Windows (OCFS for Windows), then you are prompted to indicate which of the available disks you want to format with OCFS for Windows, what format type you want to use, and to what drive letter the formatted OCFS for Windows disk is mounted.</p>
<p><a id="sthref576"></a>If your file system does not have external storage redundancy, then Oracle recommends that you provide two additional locations for the OCR disk and voting disks, for a total of at least three partitions. If the OCR and voting disks are not stored together, then you will need at least six partitions (three for the OCR and three for voting disks). Creating redundant storage locations protects the OCR and voting disk if a failure occurs. To completely protect your cluster, the storage locations given for the copies of the OCR and voting disks should have completely separate paths, controllers, and disks, so that no single point of failure is shared by storage locations.</p>
<p>When you select to store the OCR on Oracle ASM, the default configuration is to create the OCR in one Oracle ASM disk group. If you create the disk group with normal or high redundancy, then the OCR is protected from physical disk failure.</p>
<p>To protect the OCR from logical disk failure, create another Oracle ASM disk group after installation and add the OCR to the second disk group using the <code dir="ltr">ocrconfig</code> command.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="prewin.htm#BABFDGHJ">Chapter 2, "Advanced Installation Oracle Grid Infrastructure for a Cluster Preinstallation Tasks"</a> and <a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information about adding disks to disk groups</p>
</li>
<li>
<p><a href="storage.htm#CDECEBGH">Chapter 3, "Configuring Storage for Oracle Grid Infrastructure and Oracle RAC"</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="bold">Disconnect all non-persistent drives</span></p>
<p>Before starting the Oracle Grid Infrastructure installation on Windows, ensure that you disconnect all nonpersistent drives that are temporarily mounted on all the nodes. Alternatively, to access the shared drive, make the shared drive persistent using the following command:</p>
<pre dir="ltr">
net use * \\servername\sharename /persistent: YES
</pre></li>
<li>
<p><span class="bold">Disable Anti-Virus software</span></p>
<p>Disable any anti-virus software running on cluster nodes before and for the entire duration of the Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 installation. If the system is restarted before the installation is complete, ensure the anti-virus software was not restarted before continuing with the installation. Anti-virus software can be re-enabled when the installation is complete.</p>
</li>
<li>
<p><a id="sthref577"></a><a id="sthref578"></a><span class="bold">Have intelligent platform management interface (IPMI) configuration completed and have IPMI administrator account information</span></p>
<p>If you intend to use IPMI, then ensure baseboard management controller (BMC) interfaces are configured, and have an administration account username and password to provide when prompted during installation.</p>
<p>For nonstandard installations, if you must change the configuration on one or more nodes after installation (for example, if you have different administrator usernames and passwords for BMC interfaces on cluster nodes), then decide if you want to reconfigure the BMC interface, or modify IPMI administrator account information after installation, as described in <a href="postinst.htm#BABHHEHG">Chapter 5, "Oracle Grid Infrastructure Postinstallation Procedures"</a>.</p>
</li>
<li>
<p><span class="bold"><a id="sthref579"></a><a id="sthref580"></a>Ensure that the Oracle home path you select for the Grid home uses only American standard code for information interchange (ASCII) characters</span></p>
<p>The use of non-ASCII characters in any part of the path for an Oracle Grid Infrastructure home (Grid home) or Oracle Database home is not supported. This restriction includes installation owner user names, which are used as a default for some home paths, as well as other directory names you may select for paths.</p>
</li>
<li>
<p><span class="bold"><a id="sthref581"></a>Unset Oracle environment variables</span>. If you have set <code dir="ltr">ORA_CRS_HOME</code> as an environment variable, then unset it before starting an installation or upgrade. You should never configure <code dir="ltr">ORA_CRS_HOME</code> as a user or system environment variable.</p>
<p>If you have had an existing installation on your system, and you are using the same user account to install this installation, then unset the following environment variables: <code dir="ltr">ORA_CRS_HOME</code>; <code dir="ltr">ORACLE_HOME</code>; <code dir="ltr">ORA_NLS10</code>; <code dir="ltr">TNS_ADMIN</code></p>
</li>
<li>
<p><span class="bold">Decide if you want to use the Software Updates option.</span> OUI can install critical patch updates and system requirements updates for supported operating systems, and other significant updates that can help to ensure your installation proceeds smoothly. Oracle recommends that you enable software updates during installation.</p>
<p>If you choose to enable software updates, then during installation you must provide a valid My Oracle Support user name and password, so that OUI can download the latest updates, or you must provide a path to the location of an software updates packages that you have downloaded previously.</p>
<p>If you plan to run the installation in a secured data center, then you can download updates before starting the installation by starting OUI in update download mode on a system that has Internet access. To start OUI to download updates, enter the following command from the base directory of the installation media:</p>
<pre dir="ltr">
<span class="italic">X</span>:\&gt; setup.exe -downloadUpdates
</pre>
<p>Provide the My Oracle Support user name and password, and provide proxy settings if needed. After you download the updates, transfer the update file to a directory on the server where you plan to run the installation.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABICAHF"></a>
<div id="CWWIN330" class="sect1">
<h2 class="sect1"><span class="secnum">4.2</span> Installing Oracle Grid Infrastructure</h2>
<p>This section provides information about how to use <a id="sthref582"></a><a id="sthref583"></a>OUI to install Oracle Grid Infrastructure. It contains the following sections:</p>
<ul>
<li>
<p><a href="#BABHIFAD">Running OUI to Install Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABEIIGD">Performing a Silent Installation of Oracle Grid Infrastructure</a></p>
</li>
</ul>
<a id="BABHIFAD"></a>
<div id="CWWIN331" class="sect2">
<h3 class="sect2"><span class="secnum">4.2.1</span> Running OUI to Install Oracle Grid Infrastructure</h3>
<p>Complete the following steps to install Oracle Grid Infrastructure (Oracle Clusterware and Oracle ASM) on your cluster. You can run OUI from a Virtual Network Computing (VNC) session, or Terminal Services in console mode.</p>
<p>At any time during installation, if you have a question about what you are being asked to do, then click the <span class="bold">Help</span> button on the OUI page.</p>
<ol>
<li>
<p>Log in to Windows using a member of the Administrators group and run the <code dir="ltr">setup.exe</code> command from the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) installation media.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref584"></a><a id="sthref585"></a><a id="sthref586"></a>After Oracle Grid Infrastructure is installed, renaming the software owner user account (for example, <code dir="ltr">oracle</code>) requires the cluster to be reconfigured, which requires downtime.</div>
</li>
<li>
<p>Provide information as prompted by OUI. If you need assistance during installation, then click <span class="bold">Help</span>. <a id="sthref587"></a><a id="sthref588"></a>After the installation interview, you can click <span class="bold">Details</span> to see the log file.</p>
</li>
<li>
<p>After you have specified all the information needed for installation, OUI installs the software then runs <a id="sthref589"></a>Oracle Net Configuration Assistant (NETCA), <a id="sthref590"></a>Oracle Private Interconnect Configuration Assistant, and Cluster Verification Utility (CVU). These programs run without user intervention.</p>
</li>
<li>
<p><a id="sthref591"></a>If you selected to Oracle ASM as the storage option for the OCR and voting disk files, then the Oracle Automatic Storage Management Configuration Assistant (ASMCA) configures Oracle ASM as part of the installation process. If you did not select Oracle ASM as the storage option for the Oracle Clusterware files, then you must start ASMCA manually after installation to configure Oracle ASM.</p>
<p>Start ASMCA using the following command, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the Grid home:</p>
<pre dir="ltr">
<span class="italic">Grid_home</span>\bin\asmca
</pre></li>
</ol>
<p>When you have verified that your Oracle Grid Infrastructure installation has completed successfully, you can either use Oracle Clusterware to maintain high availability for other applications, or you can install Oracle Database software.</p>
<p>If you intend to install Oracle Database 11<span class="italic">g</span> Release 2 (11.2) with Oracle RAC, then see <a class="olink RIWIN" href="../e48195/toc.htm"><span class="italic">Oracle Real Application Clusters Installation Guide for Microsoft Windows x64 (64-Bit)</span></a>. If you intend to use Oracle Grid Infrastructure on a standalone server (an Oracle Restart deployment), then refer to <a class="olink NTDBI" href="../e47798/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD90995" href="../../rac.112/e41959/adddelclusterware.htm#CWADD90995"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for cloning Oracle Grid Infrastructure</p>
</li>
<li>
<p><a class="olink RACAD03202" href="../../rac.112/e41960/clonerac.htm#RACAD03202"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using cloning and node addition procedures for Oracle RAC nodes</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABEIIGD"></a>
<div id="CWWIN332" class="sect2">
<h3 class="sect2"><span class="secnum">4.2.2</span> Performing a Silent Installation of Oracle Grid Infrastructure<a id="sthref592"></a><a id="sthref593"></a></h3>
<p>During installation of Oracle Grid Infrastructure, you are given the option either of providing cluster configuration information manually, or of using a cluster configuration file. A cluster configuration file is a text file that you can create before starting OUI, which provides OUI with information about the cluster name and node names that it requires to configure the cluster. When creating the text file, save the file with the extension .ccf because the installer only accepts a file of type of Oracle Cluster Configuration File (.ccf).</p>
<p>There are two steps involved when installing Oracle Grid Infrastructure using the silent method:</p>
<ul>
<li>
<p><a href="#BABFHDAI">Creating a Cluster Configuration File</a></p>
</li>
<li>
<p><a href="#BABBBJGI">Using a Configuration File to Install Oracle Grid Infrastructure</a></p>
</li>
</ul>
<a id="BABFHDAI"></a>
<div id="CWWIN333" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.2.2.1</span> Creating a Cluster Configuration File</h4>
<p>The cluster configuration file should have the following syntax, where <span class="italic">node</span> is the name of the public host name for a node in the cluster, and <span class="italic">vip</span> is the VIP address for that node:</p>
<pre dir="ltr">
<span class="italic">node</span>     <span class="italic">vip</span>
<span class="italic">node</span>     <span class="italic">vip</span>
...
</pre>
<p>For example, if have three nodes for your cluster, with host names <code dir="ltr">RACnode1</code>, <code dir="ltr">RACnode2</code> and <code dir="ltr">RACnode3</code>, you could create a text file named <code dir="ltr">cluster_config.ccf</code>, with the following contents:</p>
<pre dir="ltr">
RACnode1  RACnode1-vip
RACnode2  RACnode2-vip
RACnode3  RACnode3-vip
</pre>
<p>Oracle suggests that you consider using a cluster configuration file if you intend to perform repeated installations on a test cluster, or if you intend to perform an installation on many nodes.</p>
<p>To create a cluster configuration file, perform the following steps:</p>
<ol>
<li>
<p>On the installation media, and go to the directory <code dir="ltr">/response</code>.</p>
</li>
<li>
<p>Using a text editor, open the response file <code dir="ltr">grid_install.rsp</code>.</p>
</li>
<li>
<p>Follow the directions in the sections relevant to the type of installation you are performing, and supply values appropriate for your environment.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app_nonint.htm#BABFEECI">Appendix B, "Installing and Configuring Oracle Grid Infrastructure Using Response Files"</a> for more information about using configuration files</div>
</div>
<!-- class="sect3" -->
<a id="BABBBJGI"></a>
<div id="CWWIN334" class="sect3">
<h4 class="sect3"><span class="secnum">4.2.2.2</span> Using a Configuration File to Install Oracle Grid Infrastructure</h4>
<p>Complete the following procedure to perform a noninteractive (silent) installation:</p>
<ol>
<li>
<p>Create a cluster configuration file as described in the previous section, <a href="#BABEIIGD">"Performing a Silent Installation of Oracle Grid Infrastructure"</a>.</p>
</li>
<li>
<p>Use the following command syntax to run OUI in silent mode:</p>
<pre dir="ltr">
setup.exe -silent -responseFile <span class="italic">path_to_your_response_file</span>
</pre>
<p>For example:</p>
<pre dir="ltr">
E:\ setup.exe -silent -responseFile C:\users\oracle\installGrid.rsp
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app_nonint.htm#BABFEECI">Appendix B, "Installing and Configuring Oracle Grid Infrastructure Using Response Files"</a> for more information about performing silent installations using configuration files</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABDGDBB"></a>
<div id="CWWIN335" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.3</span> Installing Oracle Grid Infrastructure Using a Software-Only Installation</h2>
<p><a id="sthref594"></a>A software-only installation consists of installing Oracle Grid Infrastructure for a cluster on one node. If you use the Install Grid Infrastructure Software Only option during installation, then the Oracle Grid Infrastructure software is installed on the local node. To complete the installation for your cluster, you must perform the additional steps of configuring Oracle Clusterware and Oracle ASM, creating a clone of the local installation, deploying this clone on other nodes, and then adding the other nodes to the cluster.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref595"></a>Oracle recommends that only advanced users perform the software-only installation, because this installation method provides no validation of the installation and this installation option requires manual postinstallation steps to enable the Oracle Grid Infrastructure software.</div>
<p>If you select a software-only installation, then ensure that the Oracle Grid Infrastructure home path is identical on each cluster member node.</p>
<p>Performing a software-only installation involves the following steps:</p>
<ol>
<li>
<p><a href="#BABEJFCB">Installing Only the Oracle Grid Infrastructure Software</a></p>
</li>
<li>
<p>Configuring the installed software using one of the following methods:</p>
<ul>
<li>
<p><a href="#BABGCICA">Configuring the Software Binaries Using Configuration Wizard Mode of OUI</a></p>
</li>
<li>
<p><a href="#BABHDHAG">Configuring the Software Binaries Using a Response File</a></p>
</li>
</ul>
</li>
</ol>
<a id="BABEJFCB"></a>
<div id="CWWIN336" class="sect2">
<h3 class="sect2"><span class="secnum">4.3.1</span> Installing Only the Oracle Grid Infrastructure Software</h3>
<p>To perform a software-only installation:</p>
<ol>
<li>
<p><a id="sthref596"></a>Log in to Windows using a member of the Administrators group and run the <code dir="ltr">setup.exe</code> command from the Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2) installation media or download directory.</p>
</li>
<li>
<p>Complete a software-only installation of Oracle Grid Infrastructure for a cluster on the first node, or the local node.</p>
</li>
<li>
<p>If you are using Oracle Grid Infrastructure release 11.2.0.1 or 11.2.0.2, then enable the Oracle RAC option for Oracle Grid infrastructure by renaming the <code dir="ltr">orarac11.dll.dbl</code> file located in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin</code> directory to <code dir="ltr">orarac11.dll</code>.</p>
</li>
<li>
<p>V<a id="sthref597"></a><a id="sthref598"></a>erify that all of the cluster nodes meet the installation requirements using the command <code dir="ltr">runcluvfy.bat stage -pre crsinst -n</code> <code dir="ltr"><span class="codeinlineitalic">node_list</span></code>. Ensure that you have completed all storage and server preinstallation requirements.</p>
</li>
<li>
<p>Use OUI as described in steps 1 through 4 to install the Oracle Grid Infrastructure software on every remaining node that you want to include in the cluster, and complete a software-only installation of Oracle Grid Infrastructure on every node</p>
</li>
<li>
<p>If you installed Oracle Grid Infrastructure release 11.2.0.2 or later, then configure the cluster using the full OUI configuration wizard GUI as described in <a href="#BABGCICA">Section 4.3.2, "Configuring the Software Binaries Using Configuration Wizard Mode of OUI."</a></p>
<p>If you installed Oracle Grid Infrastructure release 11.2.0.1, then configure the cluster using a response file as described in <a href="app_nonint.htm#BABFEECI">Appendix B, "Installing and Configuring Oracle Grid Infrastructure Using Response Files."</a></p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABGCICA"></a>
<div id="CWWIN337" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.3.2</span> Configuring the Software Binaries Using Configuration Wizard Mode of OUI</h3>
<p>Starting with Oracle Grid Infrastructure release 11.2.0.2, you can configure the software binaries by starting Oracle Grid Infrastructure configuration wizard in GUI mode.</p>
<ol>
<li>
<p>On one of the nodes, log in as a Local Administrator user, and enter the following command from the <code dir="ltr">crs\config</code> directory of the Grid home:</p>
<pre dir="ltr">
C:\..\crs\config&gt; config.bat
</pre>
<p>The configuration script starts OUI in Configuration Wizard mode. Provide information as needed for configuration. Each page shows the same user interface and performs the same validation checks that OUI normally does. However, instead of running an installation, The configuration wizard mode validates inputs and configures the installation on all cluster nodes.</p>
</li>
<li>
<p>When you complete inputs, OUI shows you the Summary page, listing all inputs you have provided for the cluster. Verify that the summary has the correct information for your cluster, and click <span class="bold">Install</span> to start configuration of the local node.</p>
<p>When configuration of the local node is complete, OUI copies the Oracle Grid Infrastructure configuration file to other cluster member nodes.</p>
</li>
<li>
<p>Run any scripts, if prompted.</p>
</li>
<li>
<p>OUI checks the cluster configuration status, and starts other configuration tools as needed.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABHDHAG"></a>
<div id="CWWIN338" class="sect2">
<h3 class="sect2"><span class="secnum">4.3.3</span> Configuring the Software Binaries Using a Response File</h3>
<p>When you install or copy Oracle Grid Infrastructure software on any node, you can defer configuration for a later time. This section provides the procedure for completing configuration after the software is installed or copied on nodes, using the configuration wizard utility (<code dir="ltr">config.bat</code>), which is available starting with Oracle Grid Infrastructure release 11.2.0.2.</p>
<p>To configure Oracle Grid Infrastructure for a cluster using a response file:</p>
<ol>
<li>
<p>As the Oracle Grid Infrastructure installation owner (<code dir="ltr">grid</code>), start OUI in Oracle Grid Infrastructure configuration wizard mode from the Oracle Grid Infrastructure software-only home using the following syntax, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the Oracle Grid Infrastructure home:</p>
<pre dir="ltr">
<span class="italic">Grid_home</span>\crs\config\config.bat [-debug]
</pre>
<p>The configuration script starts OUI in Configuration Wizard mode. Each page shows the same user interface and performs the same validation checks that OUI normally does. However, instead of running an installation, the configuration wizard mode validates inputs and configures the installation on all cluster nodes.</p>
</li>
<li>
<p>When you complete inputs, OUI shows you the Summary page, listing all inputs you have provided for the cluster. Verify that the summary has the correct information for your cluster, and click <span class="bold">Install</span> to start configuration of the local node.</p>
<p>When configuration of the local node is complete, OUI copies the Oracle Grid Infrastructure configuration file to other cluster member nodes.</p>
</li>
<li>
<p>OUI checks the cluster configuration status, and starts other configuration tools as needed.</p>
</li>
</ol>
<p>To configure and activate a software-only Oracle Grid Infrastructure installation for a standalone server, refer to <a class="olink NTDBI" href="../e47798/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a>.</p>
</div>
<!-- class="sect2" -->
<div id="CWWIN339" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref599"></a>
<h3 class="sect2"><span class="secnum">4.3.4</span> Configuring the Software Binaries in Silent Mode Using a Response File</h3>
<p>This section provides the procedure for completing configuration after the software is installed or copied on nodes, using the configuration wizard utility (<code dir="ltr">config.bat</code>) in silent (non-response) mode. The configuration wizard utility is available starting with Oracle Grid Infrastructure release 11.2.0.2.</p>
<p>To configure Oracle Grid Infrastructure for a cluster in silent mode using a cluster configuration file:</p>
<ol>
<li>
<p>As the Oracle Grid Infrastructure installation owner (<code dir="ltr">grid</code>), start OUI in Oracle Grid Infrastructure configuration wizard mode from the Oracle Grid Infrastructure software-only home using the following syntax, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the Oracle Grid Infrastructure home, and <code dir="ltr"><span class="codeinlineitalic">filename</span></code> is the response file name, as shown in the following example:</p>
<pre dir="ltr">
C:\&gt; cd app\11.2.0\grid\crs\config
C:\&gt; config.bat -responseFile C:\app\11.2.0\grid\response\grid_install.rsp
</pre>
<p>The wizard validates the cluster configuration file and proceeds with the configuration. If any of the inputs in the cluster configuration file are found to be invalid, then the Configuration Wizard displays an error and exits. Run the <code dir="ltr">configToolAllCommands</code> scripts as prompted.</p>
</li>
<li>
<p>When configuration of the local node is complete, OUI copies the Oracle Grid Infrastructure configuration file to other cluster member nodes.</p>
</li>
<li>
<p>OUI checks the cluster configuration status, and starts other configuration tools as needed.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABFAJBF"></a>
<div id="CWWIN340" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.4</span> Confirming Oracle Clusterware Function</h2>
<p><a id="sthref600"></a>After installation, log in as a member of the Administrators group, and run the following command from the <code dir="ltr">bin</code> directory in the Grid home to confirm that your Oracle Clusterware installation is installed and running correctly:</p>
<pre dir="ltr">
crsctl check cluster -all
</pre>
<div id="CWWIN341" class="example">
<p class="titleinexample"><a id="sthref601"></a>Example 4-1 Checking the Status of Oracle Clusterware</p>
<p>To check the status of the Oracle Clusterware components on each node of your cluster, run the following command:</p>
<pre dir="ltr">
C:\..\bin\&gt; crsctl check cluster -all
 
</pre>
<p>The output for this command is similar to the following:</p>
<pre dir="ltr">
*************************************************************************
node1:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
*************************************************************************
node2:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
*************************************************************************
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="BABIEDIE"></a>
<div id="CWWIN342" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.5</span> Confirming Oracle ASM Function for Oracle Clusterware Files</h2>
<p><a id="sthref602"></a><a id="sthref603"></a>If you installed the OCR and voting disk files on Oracle ASM, then run the following command from the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin</code> directory to confirm that your Oracle ASM software is operational:</p>
<pre dir="ltr">
srvctl status asm
</pre>
<p>Oracle ASM is running only if it is needed for Oracle Clusterware files. If you did not configure Oracle Clusterware storage on Oracle ASM during installation, then the Oracle ASM instance should be down.</p>
<div id="CWWIN343" class="example">
<p class="titleinexample"><a id="sthref604"></a>Example 4-2 Checking the Status of Oracle ASM After Installing Oracle Grid Infrastructure</p>
<p>To verify that your Oracle ASM installation is operational, run the following command, replacing <code dir="ltr">C:\app\11.2.0\grid</code> with the location of your Grid home. The text below the command is an example of the output returned by the command.</p>
<pre dir="ltr">
C:\app\11.2.0\grid\BIN&gt; srvctl status asm
ASM is running on node node1
ASM is running on node node2
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
To manage Oracle ASM or Oracle Net Services on Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2) or later installations, use the <code dir="ltr">srvctl</code> binary in the Oracle Grid Infrastructure home for a cluster (Grid home). If you have Oracle RAC or Oracle Database installed, then you cannot use the <code dir="ltr">srvctl</code> program in the database home (Oracle home) to manage Oracle ASM or Oracle Net Services.</div>
</div>
<!-- class="sect1" -->
<a id="BABHFIDG"></a>
<div id="CWWIN344" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.6</span> Understanding Offline Processes in Oracle Grid Infrastructure</h2>
<p>Oracle <a id="sthref605"></a>Grid Infrastructure provides required resources for various Oracle products and components. Some of those products and components are optional, so you can install and enable them after installing Oracle Grid Infrastructure. To simplify postinstallation additions, Oracle Grid Infrastructure preconfigures and registers all required resources for all products available for these products and components, but only activates them when you choose to add them. As a result, some components may be listed as OFFLINE after the installation of Oracle Grid Infrastructure.</p>
<p>Resources listed as TARGET:OFFLINE and STATE:OFFLINE do not need to be monitored. They represent components that are registered, but not enabled, so they do not use any system resources. If an Oracle product or component is installed on the system, and it requires a particular resource to be online, then the software will prompt you to activate the required offline resource.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2745">
<tr>
<td class="cellalignment2752">
<table class="cellalignment2756">
<tr>
<td class="cellalignment2749"><a href="storage.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2749"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2754">
<table class="cellalignment2755">
<tr>
<td class="cellalignment2749"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2749"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2749"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2749"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2749"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2749"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
