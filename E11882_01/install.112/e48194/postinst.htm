<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Grid Infrastructure Postinstallation Procedures</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090" />
<meta name="dcterms.created" content="2017-01-19T21:44:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E48194-03" />
<meta name="dcterms.isVersionOf" content="CWWIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="crswin.htm" title="Previous" type="text/html" />
<link rel="Next" href="rem_orcl.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48194.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/17</span> <!-- End Header -->
<div id="CWWIN003" class="chapter"><a id="BABHHEHG"></a>
<h1 class="chapter"><span class="secnum">5</span> Oracle Grid Infrastructure Postinstallation Procedures</h1>
<p>This chapter describes how to complete the postinstallation tasks after you have installed the Oracle Grid Infrastructure software.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDFFJCE">Required Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#CHDDBHEH">Recommended Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#CHDFIJDD">Using Earlier Oracle Database Versions with Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#CHDBAFHI">Modifying Oracle Clusterware Binaries After Installation</a></p>
</li>
</ul>
<a id="CHDFFJCE"></a>
<div id="CWWIN345" class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Required Postinstallation Tasks</h2>
<p><a id="sthref606"></a>You must perform the following tasks after completing your installation:</p>
<ul>
<li>
<p><a href="#CHDIJCFG">Download and Install Patch Updates</a></p>
</li>
<li>
<p><a href="#CHDJGCEH">Configure Exceptions for the Windows Firewall</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref607"></a><a id="sthref608"></a><a id="sthref609"></a>In prior releases, backing up the voting disks using the <code dir="ltr">ocopy.exe</code> command was a required postinstallation task. With Oracle Clusterware 11<span class="italic">g</span> Release 2 (11.2) and later releases, backing up a voting disk is no longer required.</div>
<a id="CHDIJCFG"></a>
<div id="CWWIN346" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.1</span> Download and Install Patch Updates</h3>
<p>Refer to the My Oracle Support web site for required <a id="sthref610"></a><a id="sthref611"></a><a id="sthref612"></a><a id="sthref613"></a><a id="sthref614"></a>patch updates for your <a id="sthref615"></a>installation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Browsers require an Adobe Flash plug-in, version 9.0.115 or higher to use My Oracle Support. Check your browser for the correct version of Flash plug-in by going to the Adobe Flash checker page, and installing the latest version of Adobe Flash.
<p>If you do not have Flash installed, then download the latest version of the Flash Player from the Adobe web site:</p>
<pre dir="ltr">
<a href="http://www.adobe.com/go/getflashplayer">http://www.adobe.com/go/getflashplayer</a>
</pre></div>
<p><a id="sthref616"></a>On a regular basis Oracle provides patch sets that include generic and port specific fixes encountered by customers since the base product was released. Patch sets increment the 4th digit of the version number e.g. 10.2.0.1.0 to 10.2.0.4.0, these patch sets are fully regression tested in the same way that the base release is (i.e. 10.2.0.1.0). Customers are encouraged to apply these fixes.</p>
<p><a id="sthref617"></a><a id="sthref618"></a><a id="sthref619"></a><a id="sthref620"></a><a id="sthref621"></a><a id="sthref622"></a><a id="sthref623"></a><a id="sthref624"></a><a id="sthref625"></a><a id="sthref626"></a>If a customer encounters a critical problem that requires a fix prior to the next patch set becoming available, they can request that a one off fix is made available on top of the latest patch set. This delivery mechanism is similar to the Microsoft Hot Fixes and is known as an Oracle patch set exception (or interim patch). Unlike Unix platforms these patch set exceptions are delivered in a <span class="bold">patch set exception bundle</span> (cumulative patch bundle), which includes all fixes since the current patch set. For example, bug 12393432 is a patch set exception bundle, Patch 12, for Oracle Database release 11.2.0.1 for Microsoft Windows (x64). You should always apply the latest patch bundle available for your release.</p>
<p>The patch set exception bundles also include the fixes for the CPU (Critical Patch Update), DST (Daylight Saving Time), PSU (Patch Set Update) and Recommended Patch Bundles. It is not required to have previous security patches applied before applying the patch set exception bundle. However, you must be on the stated patch set level for a given product home before applying the patch set exception bundle for that release.</p>
<p>To download required patch updates:</p>
<ol>
<li>
<p>Use a web browser to view the My Oracle Support web site:</p>
<p><code dir="ltr"><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</li>
<li>
<p>Log in to My Oracle Support web site.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are not a My Oracle Support registered user, then click <span class="bold">Register Here</span> to register.</div>
</li>
<li>
<p>On the main My Oracle Support page, click <span class="bold">Patches &amp; Updates</span>.</p>
</li>
<li>
<p>To search for patch sets, perform the following steps:</p>
<ol>
<li>
<p>Click the <span class="bold">Latest Patch sets</span> link on the left side of the page, under the heading Oracle Server/Tools.</p>
<p>The Quick Links page appears in a new browser window or tab.</p>
</li>
<li>
<p>Click <span class="bold">Simple Search</span>.</p>
</li>
<li>
<p>Set the Search By field to <span class="bold">Product or Family</span>. Click the flashlight icon next to the adjacent text field. In the popup window, in the text field next to All Products, type <span class="bold">"%Oracle Database%"</span>, then click <span class="bold">Go</span>.</p>
</li>
<li>
<p>Select <span class="bold">Oracle Database Family</span> from the list, then click <span class="bold">Select</span> to return to the Simple Search window.</p>
</li>
<li>
<p>Choose a value for Patch set release, for example, <span class="bold">Oracle 11.2.0.2.0</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Patch set release is one greater than your current software release. For example, if your current software release is Oracle 10.2.0.3, then the Patch set release would Oracle 10.2.0.4.</div>
</li>
<li>
<p>For the Patch Type, select <span class="bold">Patch set/Minipack</span>.</p>
</li>
<li>
<p>For the Platform or Language, select <span class="bold">Microsoft Windows x64 (64-bit)</span>.</p>
</li>
<li>
<p>Click <span class="bold">Go</span>. Continue with Step <a href="#CIHJBJHB">6</a>.</p>
</li>
</ol>
</li>
<li>
<p>To search for patches, perform the following steps:</p>
<ol>
<li>
<p>On the right side of the page, in the Patch Search section, select <span class="bold">Product or Family (Advanced Search</span>).</p>
</li>
<li>
<p>In the Product or Family Search section, select <span class="bold">Oracle Database</span> for the Product and Oracle 11.2.0.1.0 (Oracle Database) for the Release. If you have applied any of the bundle patches, then used the modified database version, for example 11.2.0.1.3, instead of the base version number (11.2.0.1.0).</p>
</li>
<li>
<p>If a search filter for Platform is visible, select <span class="bold">Microsoft Windows x64 (64-bit)</span> for the Platform. If this search filter is not visible, either add this search filter, or select Platform from the drop-down list for the last search filter line.</p>
</li>
<li>
<p>Click <span class="bold">Search</span>.</p>
<p>A list of all available patches for the specified Oracle Database release on Microsoft Windows x64 platforms is displayed.</p>
</li>
<li>
<p>(Optional) To locate patches specific to Oracle RAC or Oracle Grid Infrastructure, click Edit Search. When returned to the Product or Family Search window, add a filter for Patch Target, and set the value to Real Application Clusters.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Because Oracle RAC is an option of the Oracle Database software, patches that apply to Oracle Database also apply to Oracle RAC databases.</div>
</li>
</ol>
</li>
<li id="CIHJBJHB">
<p>Click the patch number to view the patch description and access the README file for the patch. You can also download the patch from this page.</p>
</li>
<li>
<p>Click <span class="bold">Read Me</span>&nbsp;to view the patch instructions. The README page is opened in a separate browser window or tab. The README file contains information about the patch, a list of bugs fixed by this patch, and how to apply the patch to your installation.</p>
<p>Close the tab or window to return to the previous page.</p>
</li>
<li>
<p>Click <span class="bold">Download</span>, and save the patch file on your system.</p>
</li>
<li>
<p>Use the unzip utility provided with your Oracle software to uncompress the Oracle patch updates that you download from My Oracle Support. The unzip utility is located in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\BIN</code> directory.</p>
</li>
<li>
<p>Refer to <a href="upgrade.htm#BABEHGJG">Appendix D, "How to Upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2"</a> for information about how to stop database processes in preparation for installing patches.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDJGCEH"></a>
<div id="CWWIN125" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.2</span> Configure Exceptions for the Windows Firewall</h3>
<p>If <a id="sthref627"></a>the Windows Firewall feature is enabled on one or more of the nodes in your cluster, then virtually all transmission control protocol (TCP) network ports are blocked to incoming connections. As a result, any Oracle product that listens for incoming connections on a TCP port will not receive any of those connection requests and the clients making those connections will report errors.</p>
<p>You must configure exceptions for the Windows Firewall if your system meets all of the following conditions:</p>
<ul>
<li>
<p>Oracle server-side components are installed on a computer running a supported version of Microsoft Windows. The list of components includes the Oracle Database, Oracle Grid Infrastructure, Oracle Real Application Clusters (Oracle RAC), network listeners, or any web servers or services.</p>
</li>
<li>
<p>The Windows computer in question accepts connections from other computers over the network. If no other computers connect to the Windows computer to access the Oracle software, then no post-installation configuration steps are required and the Oracle software functions as expected.</p>
</li>
<li>
<p>The Windows computer in question is configured to run the Windows Firewall. If the Windows Firewall is not enabled, then no post-installation configuration steps are required.</p>
</li>
</ul>
<p>If all of the above conditions are met, then the Windows Firewall must be configured to allow successful incoming connections to the Oracle software. To enable Oracle software to accept connection requests, Windows Firewall must be configured by either opening up specific static TCP ports in the firewall or by creating exceptions for specific executables so they can receive connection requests on any ports they choose. This firewall configuration can be done by one of the following methods:</p>
<ul>
<li>
<p>Start the Windows Firewall application, select the <span class="bold">Exceptions</span> tab and then click either <span class="bold">Add Program</span> or <span class="bold">Add Port</span> to create exceptions for the Oracle software.</p>
</li>
<li>
<p>From the command prompt, use the <code dir="ltr">netsh firewall add...</code> command.</p>
</li>
<li>
<p>When Windows notifies you that a foreground application is attempting to listen on a port, and gives you the opportunity to create an exception for that executable. If you choose the create the exception in this way, the effect is the same as creating an exception for the executable either through Control Panel or from the command line.</p>
</li>
</ul>
<p><a id="sthref628"></a>The following sections list the Oracle Database 11<span class="italic">g</span> Release 2 executables that listen on TCP ports on Windows, along with a brief description of the executable. It is recommended that these executables (if in use and accepting connections from a remote, client computer) be added to the exceptions list for the Windows Firewall to ensure correct operation. In addition, if multiple Oracle homes are in use, firewall exceptions may have to be created for the same executable, for example, <code dir="ltr">oracle.exe</code>, multiple times, once for each Oracle home from which that executable loads.</p>
<ul>
<li>
<p><a href="#CHDHFICI">Firewall Exceptions for Oracle Database</a></p>
</li>
<li>
<p><a href="#CHDFGFJE">Firewall Exceptions for Oracle Database Examples (or the Companion CD)</a></p>
</li>
<li>
<p><a href="#CHDCIFFG">Firewall Exceptions for Oracle Gateways</a></p>
</li>
<li>
<p><a href="#CHDEAAEG">Firewall Exceptions for Oracle Clusterware and Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDFEFFE">Firewall Exceptions for Oracle RAC Database</a></p>
</li>
<li>
<p><a href="#CHDGDHIG">Firewall Exceptions for Oracle Cluster File System for Windows</a></p>
</li>
<li>
<p><a href="#CHDCIHGG">Firewall Exceptions for Other Oracle Products</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="trouble.htm#BABHEDHB">Section A.12, "Troubleshooting Windows Firewall Exceptions"</a></div>
<a id="CHDHFICI"></a>
<div id="CWWIN347" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.1</span> Firewall Exceptions for Oracle Database</h4>
<p>For basic database operation and connectivity from remote clients, such as SQL*Plus, Oracle Call Interface (OCI), Open Database Connectivity (ODBC), Object Linking and Embedding database (OLE DB) applications, and so on, the following executables must be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin\oracle.exe</code> - Oracle Database executable</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin\tnslsnr.exe</code> - Oracle Listener</p>
</li>
</ul>
<p>If you use remote monitoring capabilities for your database, the following executables must be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin\</code><code dir="ltr">emagent.exe</code> - Oracle Database Control</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\jdk\bin\java.exe</code> - Java Virtual Machine (JVM) for Enterprise Manager Database Control</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDFGFJE"></a>
<div id="CWWIN348" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.2</span> Firewall Exceptions for Oracle Database Examples (or the Companion CD)</h4>
<p>After installing the Oracle Database Companion CD, the following executables must be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\opmn\bin\opmn.exe</code> - Oracle Process Manager</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\jdk\bin\java.exe</code> - JVM</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCIFFG"></a>
<div id="CWWIN349" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.3</span> Firewall Exceptions for Oracle Gateways</h4>
<p>If your Oracle database interacts with non-Oracle software through a gateway, then you must add the gateway executable to the Windows Firewall exception list. <a href="#CHDHEJEJ">Table 5-1</a>table lists the gateway executables used to access non-Oracle software.</p>
<div id="CWWIN350" class="tblformal">
<p class="titleintable"><a id="sthref629"></a><a id="CHDHEJEJ"></a>Table 5-1 Oracle Executables Used to Access Non-Oracle Software</p>
<table class="cellalignment2757" title="Oracle Executables Used to Access Non-Oracle Software" summary="Gateway executables to add to Windows Firewall Exception list" dir="ltr">
<thead>
<tr class="cellalignment2746">
<th class="cellalignment2758" id="r1c1-t8">Executable Name</th>
<th class="cellalignment2758" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">omtsreco.exe</code></p>
</td>
<td class="cellalignment2752" headers="r2c1-t8 r1c2-t8">
<p>Oracle Services for Microsoft Transaction Server</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4sybs.exe</code></p>
</td>
<td class="cellalignment2752" headers="r3c1-t8 r1c2-t8">
<p>Oracle Database Gateway for Sybase</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4tera.exe</code></p>
</td>
<td class="cellalignment2752" headers="r4c1-t8 r1c2-t8">
<p>Oracle Database Gateway for Teradata</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r5c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4msql.exe</code></p>
</td>
<td class="cellalignment2752" headers="r5c1-t8 r1c2-t8">
<p>Oracle Database Gateway for SQL Server</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r6c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4db2.exe</code></p>
</td>
<td class="cellalignment2752" headers="r6c1-t8 r1c2-t8">
<p>Oracle Database Gateway for Distributed Relational Database Architecture (DRDA)</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r7c1-t8" headers="r1c1-t8">
<p><code dir="ltr">pg4arv.exe</code></p>
</td>
<td class="cellalignment2752" headers="r7c1-t8 r1c2-t8">
<p>Oracle Database Gateway for Advanced Program to Program Communication (APPC)</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r8c1-t8" headers="r1c1-t8">
<p><code dir="ltr">pg4t4ic.exe</code></p>
</td>
<td class="cellalignment2752" headers="r8c1-t8 r1c2-t8">
<p>Oracle Database Gateway for APPC</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r9c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4mqs.exe</code></p>
</td>
<td class="cellalignment2752" headers="r9c1-t8 r1c2-t8">
<p>Oracle Database Gateway for WebSphere MQ</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r10c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4mqc.exe</code></p>
</td>
<td class="cellalignment2752" headers="r10c1-t8 r1c2-t8">
<p>Oracle Database Gateway for WebSphere MQ</p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r11c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dg4odbc.exe</code></p>
</td>
<td class="cellalignment2752" headers="r11c1-t8 r1c2-t8">
<p>Oracle Database Gateway for ODBC</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="CHDEAAEG"></a>
<div id="CWWIN351" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.4</span> Firewall Exceptions for Oracle Clusterware and Oracle ASM</h4>
<p>If you installed the Oracle Grid Infrastructure software on the nodes in your cluster, then you can enable the Windows Firewall only <span class="italic">after</span> adding the following executables and ports to the Firewall exception list. The Firewall Exception list must be updated on each node.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\gpnpd.exe</code> - Grid Plug and Play daemon</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\oracle.exe</code> - Oracle Automatic Storage Management (Oracle ASM) executable (if using Oracle ASM for storage)</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\racgvip.exe</code> - Virtual Internet Protocol Configuration Assistant</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\evmd.exe</code> - OracleEVMService</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\crsd.exe</code> - OracleCRService</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\ocssd.exe</code> - OracleCSService</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\octssd.exe</code> - Cluster Time Synchronization Service daemon</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\mDNSResponder.exe</code> - multicast-domain name system (DNS) Responder Daemon</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\gipcd.exe</code> - Grid inter-process communication (IPC) daemon</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\gnsd.exe</code> - Grid Naming Service (GNS) daemon</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\ohasd.exe</code> - OracleOHService</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\TNSLSNR.EXE</code> - single client access name (SCAN) listener and local listener for Oracle RAC database and Oracle ASM</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\opmn\bin\ons.exe</code> - Oracle Notification Service (ONS)</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\jdk\jre\bin\java.exe</code> - JVM</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDFEFFE"></a>
<div id="CWWIN352" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.5</span> Firewall Exceptions for Oracle RAC Database</h4>
<p><a id="sthref630"></a>For the Oracle RAC database, the executables that require exceptions are:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin\oracle.exe</code> - Oracle RAC database instance</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin\emagent.exe</code> - Oracle Enterprise Manager agent</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\jdk\bin\java.exe</code> - For the Oracle Enterprise Manager Database Console</p>
</li>
</ul>
<p>In addition, the following ports should be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p>Microsoft file sharing system management bus (SMB)</p>
<ul>
<li>
<p>User Datagram Protocol (UDP) ports from 135 through 139</p>
</li>
<li>
<p>TCP ports from 135 through 139</p>
</li>
</ul>
</li>
<li>
<p>Direct-hosted SMB traffic without a network basic I/O system (NetBIOS)</p>
<ul>
<li>
<p>port 445 (TCP and UPD)</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDGDHIG"></a>
<div id="CWWIN353" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.6</span> Firewall Exceptions for Oracle Cluster File System for Windows</h4>
<p>If you use Oracle Cluster File System for Windows (OCFS for Windows) to store the Oracle Clusterware files, or Oracle RAC database files, then you must add the following exceptions to the Windows Firewall:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\cfs\Ocfsfindvol.exe</code> - OCFS for Windows Volume Service</p>
</li>
<li>
<p><code dir="ltr">%WINDOWS_HOME%\system32\drivers\Ocfs.sys</code> - System file for OCFS (if using OCFS for Windows for Oracle Clusterware storage)</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCIHGG"></a>
<div id="CWWIN354" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.7</span> Firewall Exceptions for Other Oracle Products</h4>
<p>In addition to all the previously listed exceptions, if you use any of the Oracle software listed in, then you must create an exception for Windows Firewall for the associated executable.</p>
<div id="CWWIN355" class="tblformal">
<p class="titleintable"><a id="sthref631"></a><a id="sthref632"></a>Table 5-2 Other Oracle Software Products Requiring Windows Firewall Exceptions</p>
<table class="cellalignment2757" title="Other Oracle Software Products Requiring Windows Firewall Exceptions" summary="Executable for Various Oracle software products that need an exception" dir="ltr">
<thead>
<tr class="cellalignment2746">
<th class="cellalignment2758" id="r1c1-t9">Oracle Software Product</th>
<th class="cellalignment2758" id="r1c2-t9">Executable Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r2c1-t9" headers="r1c1-t9">
<p>Data Guard Manager</p>
</td>
<td class="cellalignment2752" headers="r2c1-t9 r1c2-t9">
<p><code dir="ltr">dgmgrl.exe</code></p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r3c1-t9" headers="r1c1-t9">
<p>Oracle Internet Directory lightweight directory access protocol (LDAP) Server</p>
</td>
<td class="cellalignment2752" headers="r3c1-t9 r1c2-t9">
<p><code dir="ltr">oidldapd.exe</code></p>
</td>
</tr>
<tr class="cellalignment2746">
<td class="cellalignment2752" id="r4c1-t9" headers="r1c1-t9">
<p>External Procedural Calls</p>
</td>
<td class="cellalignment2752" headers="r4c1-t9 r1c2-t9">
<p><code dir="ltr">extproc.exe</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDBHEH"></a>
<div id="CWWIN356" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Recommended Postinstallation Tasks</h2>
<p><a id="sthref633"></a><a id="sthref634"></a>Oracle recommends that you complete the following tasks as needed after installing Oracle Grid Infrastructure:</p>
<ul>
<li>
<p><a href="#CIHCGJHD">Install Troubleshooting Tool</a></p>
</li>
<li>
<p><a href="#CHDEIGEG">Optimize Memory Usage for Programs</a></p>
</li>
<li>
<p><a href="#CHDGGJGJ">Create a Fast Recovery Area Disk Group</a></p>
</li>
</ul>
<a id="CIHCGJHD"></a>
<div id="CWWIN357" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> Install Troubleshooting Tool</h3>
<p><a id="sthref635"></a><a id="sthref636"></a><a id="sthref637"></a><a id="sthref638"></a>To address troubleshooting issues, Oracle recommends that you install Instantaneous Problem Detection OS Tool (IPD/OS). This utility is available on Oracle Technology Network (OTN) for Oracle Grid Infrastructure 11.2.0.1 installations.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
With the Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2) release, the IPD/OS utility was updated and renamed to Cluster Health Monitor (CHM). CHM is not available for Windows platforms until Oracle Grid Infrastructure release 11.2.0.3, and IPD/OS is not compatible with the first patch set release of Oracle Grid Infrastructure 11g Release 2 (11.2.0.2).</div>
<div id="CWWIN358" class="sect3"><a id="sthref639"></a>
<h4 class="sect3"><span class="secnum">5.2.1.1</span> Installing Instantaneous Problem Detection OS Tool (IPD/OS)</h4>
<p>On Windows systems running Windows Server 2003 with service pack 2 or higher, you can install IPD/OS. IPD/OS supports both x86 and x64 installations.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you already have IPD/OS installed on your cluster, then you will have to remove the current version before installing the new version.</div>
<p>The IPD/OS tool is designed to detect and analyze operating system and cluster resource-related degradation and failures. The tool can provide better explanations for many issues that occur in clusters where Oracle Clusterware and Oracle RAC are running, such as node evictions. It tracks the operating system resource consumption at each node, process, and device level continuously. It collects and analyzes clusterwide data. In real time mode, when thresholds are reached, an alert is shown to the operator. For root cause analysis, historical data can be replayed to understand what was happening at the time of failure.</p>
<p>You can download IPD/OS by clicking the link titled <span class="bold">Cluster Health Monitor - Download</span> at the following URL:</p>
<p><code dir="ltr"><a href="http://www.oracle.com/technetwork/database/clustering/overview/index.html">http://www.oracle.com/technetwork/database/clustering/overview/index.html</a></code></p>
<p><a id="sthref640"></a>To prevent performance problems, you cannot run the graphical user interface (GUI) interface for IPD/OS on the Oracle RAC node. You can install the client on any Linux or Windows client that is not a cluster member node. From this client you can view the data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The README file for IPD/OS for more information about installing the IPD/OS tool and client</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEIGEG"></a>
<div id="CWWIN361" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> Optimize Memory Usage for Programs</h3>
<p>The Windows operating system should be optimized for Memory Usage of &amp;rsquor;Programs' instead of &amp;rsquor;System Caching'. To modify the memory optimization settings, perform the following steps:</p>
<ol>
<li>
<p>From the Start Menu, select <span class="bold">Control Panel</span>, then <span class="bold">System</span>.</p>
</li>
<li>
<p>In the System Properties window, click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>In the Performance section, click <span class="bold">Settings</span>.</p>
</li>
<li>
<p>In the Performance Options window, click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>In the Memory Usage section, make sure Programs is selected.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDGGJGJ"></a>
<div id="CWWIN362" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Create a Fast Recovery Area Disk Group</h3>
<p>During installation of Oracle Grid Infrastructure, if you select Oracle ASM for storage, a single disk group is created to store the Oracle Clusterware files. If you plan to create a single-instance database, an Oracle RAC database, or an Oracle RAC One Node database, then this disk group can also be used to store the data files for the database. However, you should create a separate disk group for the fast recovery area.</p>
<div id="CWWIN363" class="sect3"><a id="sthref641"></a>
<h4 class="sect3"><span class="secnum">5.2.3.1</span> About the Fast Recovery Area and the Fast Recovery Area Disk Group</h4>
<p><a id="sthref642"></a><a id="sthref643"></a>The fast recovery area is a unified storage location for all Oracle Database files related to recovery. Database administrators can define the <code dir="ltr">DB_RECOVERY_FILE_DEST</code> parameter to the path for the Fast Recovery Area to enable on-disk backups, and rapid recovery of data. Enabling rapid backups for recent data can reduce requests to system administrators to retrieve backup tapes for recovery operations.</p>
<p>When you enable the fast recovery area in the database initialization parameter file, all RMAN backups, archive logs, control file automatic backups, and database copies are written to the fast recovery area. RMAN automatically manages files in the fast recovery area by deleting obsolete backups and archive files that are no longer required for recovery.</p>
<p><a id="sthref644"></a>To use a fast recovery area in Oracle RAC, you must place it on an Oracle ASM disk group, a cluster file system, or on a shared directory that is configured through Direct network file system (NFS) for each Oracle RAC instance. In other words, the fast recovery area must be shared among all of the instances of an Oracle RAC database. Oracle Clusterware files and Oracle Database files can be placed on the same disk group as fast recovery area files. However, Oracle recommends that you create a separate fast recovery area disk group to reduce storage device contention.</p>
<p>The fast recovery area is enabled by setting the parameter <code dir="ltr">DB_RECOVERY_FILE_DEST</code> to the same value on all instances. The size of the fast recovery area is set with the parameter <code dir="ltr">DB_RECOVERY_FILE_DEST_SIZE</code>. As a general rule, the larger the fast recovery area, the more useful it becomes. For ease of use, Oracle recommends that you create a fast recovery area disk group on storage devices that can contain at least three days of recovery information. Ideally, the fast recovery area should be large enough to hold a copy of all of your data files and control files, the online redo logs, and the archived redo log files needed to recover your database using the data file backups kept under your retention policy.</p>
<p>Multiple databases can use the same fast recovery area. For example, assume you have created one fast recovery area disk group on disks with 150 gigabyte (GB) of storage, shared by three different databases. You can set the size of the fast recovery area for each database depending on the importance of each database. For example, if <code dir="ltr">database1</code> is your least important database, <code dir="ltr">database2</code> is of greater importance and <code dir="ltr">database3</code> is of greatest importance, then you can set different <code dir="ltr">DB_RECOVERY_FILE_DEST_SIZE</code> settings for each database to meet your retention target for each database: 30 GB for <code dir="ltr">database1</code>, 50 GB for <code dir="ltr">database2</code>, and 70 GB for <code dir="ltr">database3</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></div>
</div>
<!-- class="sect3" -->
<div id="CWWIN364" class="sect3"><a id="sthref645"></a>
<h4 class="sect3"><span class="secnum">5.2.3.2</span> Creating the Fast Recovery Area Disk Group</h4>
<p>To create an Oracle ASM disk group for the fast recovery area:</p>
<ol>
<li>
<p><a id="sthref646"></a><a id="sthref647"></a>Navigate to the bin directory in the Grid home and start Oracle ASM Configuration Assistant (ASMCA). For example:</p>
<pre dir="ltr">
C:\&gt; cd app\11.2.0\grid\bin
C:\&gt; asmca
</pre></li>
<li>
<p>ASMCA opens at the Disk Groups tab. Click <span class="bold">Create</span> to create a new disk group</p>
</li>
<li>
<p>The Create Disk Groups window opens.</p>
<p>In the Disk Group Name field, enter a descriptive name for the fast recovery area disk group, for example, FRA.</p>
<p>In the Redundancy section, select the level of redundancy you want to use.</p>
<p>In the Select Member Disks field, select eligible disks to be added to the fast recovery area, and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>The Diskgroup Creation window opens to inform you when disk group creation is complete. Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Click <span class="bold">Exit</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFIJDD"></a>
<div id="CWWIN365" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Using Earlier Oracle Database Versions with Grid Infrastructure</h2>
<p>Review the following sections for information about using earlier Oracle Database releases with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2) installations:</p>
<ul>
<li>
<p><a href="#CHDHDBED">General Restrictions for Using Earlier Oracle Database Versions</a></p>
</li>
<li>
<p><a href="#CIHDGICC">Using ASMCA to Administer Disk Groups for Earlier Database Versions</a></p>
</li>
<li>
<p><a href="#CHDDGDBC">Using DBCA or Applying Patches for Oracle Database Releases 10.2.x or 11.x</a></p>
</li>
<li>
<p><a href="#CHDHFEEF">Pinning Cluster Nodes for Oracle Database Release 10.2.x or 11.x</a></p>
</li>
<li>
<p><a href="#CHDIDHGF">Using the Correct LSNRCTL Commands</a></p>
</li>
<li>
<p><a href="#CIHHEDJH">Starting and Stopping Oracle Clusterware Resources</a></p>
</li>
</ul>
<a id="CHDHDBED"></a>
<div id="CWWIN366" class="sect2">
<h3 class="sect2"><span class="secnum">5.3.1</span> General Restrictions for Using Earlier Oracle Database Versions</h3>
<p>You can use Oracle Database release 10.2 and release 11.1 with Oracle Clusterware and Oracle ASM release 11.2. If you upgrade an existing version of Oracle Clusterware and Oracle ASM to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (which includes Oracle Clusterware and Oracle ASM), and you also plan to upgrade your Oracle RAC database to Oracle Database 11<span class="italic">g</span> Release 2, then the required configuration of the existing databases is completed automatically when you complete the Oracle RAC upgrade, and this section does not concern you.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Refer to <a class="olink OSTMG10045" href="../../server.112/e18951/asmdiskgrps.htm#OSTMG10045"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for details on configuring disk group compatibility for databases using Oracle Database versions 11.1 or earlier with Oracle Grid Infrastructure 11.2.</div>
<p>However, if you upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2, and you have existing Oracle RAC installations that you do not plan to upgrade, or if you install earlier versions of Oracle RAC (10.2 or 11.1) on a cluster running Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2, then you must complete additional configuration tasks or apply patches, or both, before the earlier database versions will work correctly with Oracle Grid Infrastructure.</p>
<p>Oracle Database homes can be stored on Oracle ACFS only if the database version is Oracle Database 11<span class="italic">g</span> Release 2. Earlier releases of Oracle Database cannot be installed on Oracle ACFS because these releases were not designed to use Oracle ACFS.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before you start an Oracle RAC or Oracle Database install on an Oracle Clusterware release 11.2 installation, if you are upgrading from releases 11.1.0.7, 11.1.0.6, and 10.2.0.4, then Oracle recommends that you check for the latest recommended patches for the release you are upgrading from, and install those patches as needed on your existing database installations before upgrading.
<p>For more information on recommended patches, refer to "Oracle Upgrade Companion," which is available through Note 785351.1 on My Oracle Support:</p>
<p><code dir="ltr"><a href="https://metalink.oracle.com">https://metalink.oracle.com</a></code></p>
<p>You can also refer to the <a class="olink READM" href="../../readmes.112/e41331/toc.htm"><span class="italic">Oracle Database Readme</span></a> and Oracle Support Notes 756388.1 and 756671.1 for the current list of recommended patches for each release.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDIJCFG">Section 5.1.1, "Download and Install Patch Updates"</a></div>
</div>
<!-- class="sect2" -->
<a id="CIHDGICC"></a>
<div id="CWWIN367" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.2</span> Using ASMCA to Administer Disk Groups for Earlier Database Versions</h3>
<p><a id="sthref648"></a><a id="sthref649"></a><a id="sthref650"></a>Use Oracle ASM Configuration Assistant (ASMCA) to create and modify disk groups when you install earlier Oracle Database and Oracle RAC releases on Oracle Grid Infrastructure 11<span class="italic">g</span> installations. Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2, Oracle ASM is installed as part of an Oracle Grid Infrastructure installation, with Oracle Clusterware. You can no longer use Database Configuration Assistant (DBCA) to perform administrative tasks on Oracle ASM.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDGDBC"></a>
<div id="CWWIN368" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.3</span> Using DBCA or Applying Patches for Oracle Database Releases 10.2.x or 11.x</h3>
<p>Before you use DBCA to create an Oracle RAC or Oracle Database 10.2.x or 11.1.x database on an Oracle Clusterware and Oracle ASM release 11.2 installation, you must install patches to the Oracle RAC or Oracle Database home. Refer to the <a class="olink READM" href="../../readmes.112/e41331/toc.htm"><span class="italic">Oracle Database Readme</span></a> for information about specific patches.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDIJCFG">Section 5.1.1, "Download and Install Patch Updates"</a></div>
<p><a id="sthref651"></a><a id="sthref652"></a>If you are using Oracle Database 10<span class="italic">g</span> Release 2 software or Oracle Database 11<span class="italic">g</span> Release 1 software, then before you create a new database or apply any patches to your Oracle home, you must first stop the <code dir="ltr">OracleRemExecService</code> Windows service on all the nodes in your cluster. If you do not stop this process before creating a database or applying patches to your Oracle home, then OPatch or DBCA fails to start the Oracle RAC database instances on the remote nodes. This failure causes the database creation or patching operation to return errors.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHFEEF"></a>
<div id="CWWIN369" class="sect2">
<h3 class="sect2"><span class="secnum">5.3.4</span> Pinning Cluster Nodes for Oracle Database Release 10.2.x or 11.x</h3>
<p><a id="sthref653"></a>When Oracle Clusterware 11<span class="italic">g</span> Release 2 is installed on a cluster with no previous Oracle software version, it configures the cluster nodes dynamically, which is compatible with Oracle Database Release 11.2 and later, but Oracle Database 10g and 11.1 require a persistent configuration. Creating a persistent configuration for a node is called <span class="bold">pinning a node</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During an upgrade, all cluster member nodes are pinned automatically, and no manual pinning is required for existing databases. Pinning nodes is required only if you install earlier Oracle Database releases after installing Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2) software.</div>
<p><a id="sthref654"></a>To pin a node in preparation for installing or using an earlier Oracle Database version, use <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\crsctl</code> with the following format, where <code dir="ltr"><span class="codeinlineitalic">nodes</span></code> is a space-delimited list of one or more nodes in the cluster whose configuration you want to pin:</p>
<pre dir="ltr">
crsctl pin css -n <span class="italic">nodes</span>
</pre>
<p>To determine if a node is in a pinned or unpinned state, use the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin\olsnodes</code> command:</p>
<pre dir="ltr">
olsnodes -t -n 
</pre>
<div id="CWWIN370" class="example">
<p class="titleinexample"><a id="sthref655"></a>Example 5-1 Pinning Nodes in a Cluster Prior to Using an Earlier Oracle Database Release</p>
<p>If you plan to create an Oracle Database 10<span class="italic">g</span> Release 2 on nodes <code dir="ltr">node3</code> and <code dir="ltr">node4</code> of your cluster, then you need to pin those nodes. To pin nodes <code dir="ltr">node3</code> and <code dir="ltr">node4</code>, log in as an Administrator user and enter the following command:</p>
<pre dir="ltr">
C:\..\bin&gt; crsctl pin css -n node3 node4
</pre></div>
<!-- class="example" -->
<div id="CWWIN371" class="example">
<p class="titleinexample"><a id="sthref656"></a>Example 5-2 Listing the Pinned Nodes in Your Cluster</p>
<p><a id="sthref657"></a>To list all pinned nodes in your cluster, use the following command, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path for your Oracle Grid Infrastructure installation:</p>
<pre dir="ltr">
C:\&gt; <span class="italic">Grid_home</span>\bin\olsnodes -t -n
</pre>
<p>This command produces output similar to the following:</p>
<pre dir="ltr">
node1 1       Pinned
node2 2       Pinned
node3 3       Pinned
node4 4       Pinned
</pre></div>
<!-- class="example" -->
<div id="CWWIN372" class="example">
<p class="titleinexample"><a id="sthref658"></a>Example 5-3 Determining if an Individual Node is Pinned</p>
<p>To list the state of a particular node use the <code dir="ltr">-n</code> option with the <code dir="ltr">olsnodes</code> command, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path for your Oracle Grid Infrastructure installation:</p>
<pre dir="ltr">
C:\&gt; <span class="italic">Grid_home</span>\bin\olsnodes -t -n node3
</pre>
<p>This command produces output similar to the following:</p>
<pre dir="ltr">
node3 3       Pinned
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about pinning and unpinning nodes</div>
</div>
<!-- class="sect2" -->
<a id="CHDIDHGF"></a>
<div id="CWWIN373" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.5</span> Using the Correct LSNRCTL Commands</h3>
<p><a id="sthref659"></a><a id="sthref660"></a><a id="sthref661"></a>To administer local and SCAN listeners using the Listener Control utility (LSNRCTL) in Oracle Clusterware and Oracle ASM 11<span class="italic">g</span> Release 2, use the <code dir="ltr">lsnrctl</code> program located in the Grid home. Do not attempt to use the <code dir="ltr">lsnrctl</code> programs from Oracle home locations for previous releases because they cannot be used with the new release.</p>
</div>
<!-- class="sect2" -->
<a id="CIHHEDJH"></a>
<div id="CWWIN374" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.6</span> Starting and Stopping Oracle Clusterware Resources</h3>
<p>Before shutting down Oracle Clusterware 11<span class="italic">g</span> Release 2, if you have an Oracle Database 10<span class="italic">g</span> Release 2 or Oracle Database 11<span class="italic">g</span> Release 1 database registered with Oracle Clusterware, then you must do one of the following:</p>
<ul>
<li>
<p>Stop the Oracle Database 10<span class="italic">g</span> Release 2 or Oracle Database 11<span class="italic">g</span> Release 1 database instances first, then stop the Oracle Clusterware stack</p>
</li>
<li>
<p>Use the <code dir="ltr">crsctl stop crs -f</code> command to shut down the Oracle Clusterware stack and ignore any errors that are raised</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBAFHI"></a>
<div id="CWWIN375" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Modifying Oracle Clusterware Binaries After Installation</h2>
<p><a id="sthref662"></a><a id="sthref663"></a><a id="sthref664"></a><a id="sthref665"></a>After installation, if you must modify the software installed in your Grid home, then you must first stop the Oracle Clusterware stack. For example, to apply a one-off patch or modify any of the dynamic-link libraries (DLLs) used by Oracle Clusterware or Oracle ASM, you must follow these steps to stop and restart Oracle Clusterware.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
To put the changes you make to the Oracle Grid Infrastructure home into effect, you must shut down all executables that run in the Grid home directory and then restart them. In addition, shut down any applications that use Oracle shared libraries or DLL files in the Grid home.</div>
<p>Prepare the Oracle Grid Infrastructure home for modification using the following procedure:</p>
<ol>
<li>
<p>Log in using a member of the Administrators group and go to the directory <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\bin</code>, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path to the Oracle Grid Infrastructure home.</p>
</li>
<li>
<p>Shut down Oracle Clusterware using the following command:</p>
<pre dir="ltr">
C:\..\bin&gt; crsctl stop crs -f
</pre></li>
<li>
<p>After Oracle Clusterware is completely shut down, perform the updates to the software installed in the Grid home.</p>
</li>
<li>
<p>Use the following command to restart Oracle Clusterware:</p>
<pre dir="ltr">
C:\..\bin&gt; crsctl start crs
</pre></li>
<li>
<p>Repeat steps 1 through 4 on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2745">
<tr>
<td class="cellalignment2752">
<table class="cellalignment2756">
<tr>
<td class="cellalignment2749"><a href="crswin.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2749"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2754">
<table class="cellalignment2755">
<tr>
<td class="cellalignment2749"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2749"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2749"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2749"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2749"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2749"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
