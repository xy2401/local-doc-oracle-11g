<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Creating Oracle Real Application Clusters Databases with Oracle Database Configuration Assistant</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1041" />
<meta name="dcterms.created" content="2015-02-05T19:13:53Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Real Application Clusters Installation Guide" />
<meta name="dcterms.identifier" content="E48195-02" />
<meta name="dcterms.isVersionOf" content="RIWIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="racinstl.htm" title="Previous" type="text/html" />
<link rel="Next" href="postinst.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48195.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/22</span> <!-- End Header -->
<div id="RIWIN004" class="chapter"><a id="BGBIJGDA"></a>
<h1 class="chapter"><span class="secnum">3</span> Creating Oracle Real Application Clusters Databases with Oracle Database Configuration Assistant</h1>
<p>This chapter describes how to use Oracle Database Configuration Assistant (DBCA) in standalone mode to create and delete Oracle Real Application Clusters (Oracle RAC) databases.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BGBCIFIJ">Using Oracle Database Configuration Assistant with Oracle RAC</a></p>
</li>
<li>
<p><a href="#BGBEAECA">Optimizing Your Database Environment by Using DBCA</a></p>
</li>
<li>
<p><a href="#BGBBGHFC">Updating the Listener Used By an Earlier Release</a></p>
</li>
<li>
<p><a href="#BGBIBCGH">Verifying Requirements for DBCA</a></p>
</li>
<li>
<p><a href="#BGBBIJJC">Creating an Oracle RAC Database with DBCA</a></p>
</li>
<li>
<p><a href="#BGBFIICA">Deleting an Oracle RAC Database with DBCA</a></p>
</li>
<li>
<p><a href="#BGBCAIJJ">Setting Environment Variables for Enterprise Manager DB Control</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using DBCA to add and delete instances</div>
<a id="BGBCIFIJ"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">3.1</span> Using Oracle Database Configuration Assistant with Oracle RAC</h2>
<p><a id="sthref213"></a><a id="sthref214"></a><a id="sthref215"></a>DBCA has the following primary database functions:</p>
<ul>
<li>
<p>Create and delete databases.</p>
</li>
<li>
<p>Add and delete database instances.</p>
</li>
<li>
<p>Set up network configurations for databases and their instances.</p>
</li>
<li>
<p>Register databases in Oracle Enterprise Manager Grid Control or configure Oracle Enterprise Manager Grid Database Control.</p>
</li>
<li>
<p>Configure database options, such as Oracle Database Vault.</p>
</li>
<li>
<p>Start up databases and their instances.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Cluster Managed Services are no longer managed through DBCA. Instead, use the Cluster Managed Services page in Oracle Enterprise Manager Database Control (accessible from the Cluster Database Availability page). For more information, see <span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span>.</div>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBBIJJC">"Creating an Oracle RAC Database with DBCA"</a> for more information about using DBCA in standalone mode</p>
</li>
<li>
<p><a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> to resolve problems&mdash;for example, with the listener configuration&mdash;and for more information about Lightweight Directory Access Protocol (LDAP)-compliant directory support</p>
</li>
<li>
<p><a class="olink TDPRC" href="../../rac.112/e17264/toc.htm"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> for more information about using Oracle Enterprise Manager</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BGBEAECA"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">3.2</span> Optimizing Your Database Environment by Using DBCA</h2>
<p><a id="sthref216"></a><a id="sthref217"></a>Oracle recommends that you use DBCA to create your Oracle RAC database, because preconfigured databases optimize your environment for features such as the server parameter file (SPFILE) and automatic undo management. If you use Oracle Automatic Storage Management (Oracle ASM) or cluster file system storage, then DBCA also configures automated backup, which uses the Fast Recovery Area.</p>
<p>DBCA enables you to create both policy-managed and administrator-managed databases. With DBCA, you can create site-specific tablespaces as part of database creation. If you have data file requirements that differ from those offered by DBCA templates, then create your database with DBCA and modify the data files later. You can also run user-specified scripts as part of your database creation process.</p>
<p>DBCA also configures your Oracle RAC environment for various Oracle high availability features, such as cluster administration tools. DBCA also starts any database instances required to support your defined configuration.</p>
<p><a id="sthref218"></a><a id="sthref219"></a>You can use DBCA to create a database from templates supplied by Oracle, or from templates that you create. The templates contain settings optimized for a particular type of workload.</p>
<p>Oracle ships templates for the following two workload types:</p>
<ul>
<li>
<p>General purpose or transaction processing</p>
</li>
<li>
<p>Data warehouse</p>
</li>
</ul>
<p>For more complex environments, you can select the <span class="bold">Custom Database</span> option. This option does not use templates and results in a more extensive interview, which means that it takes longer to create your database.</p>
<p>Click <span class="bold">Show Details</span> to see the configuration for each type of database. Select the template suited to the type of workload your database will support. If you are not sure which to choose, then select the default <span class="bold">General Purpose or Transaction Processing</span> template.</p>
</div>
<!-- class="sect1" -->
<a id="BGBBGHFC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.3</span> Updating the Listener Used By an Earlier Release<a id="sthref220"></a><a id="sthref221"></a><a id="sthref222"></a></h2>
<p><a id="sthref223"></a>If your system has an Oracle Database 10<span class="italic">g</span> or 11<span class="italic">g</span> installation, and you install Oracle Database 11<span class="italic">g</span> release 2 (11.2) either to coexist with or to upgrade the Oracle Database 10.1, 10.2, or 11.1 installation, then most installation types automatically migrate the existing Oracle Database listener to the 11<span class="italic">g</span> release 2 (11.2) Oracle home. During migration, the upgrade process configures and starts a default Oracle Net listener using the same TCP/IP port as the existing listener, with the IPC key value.</p>
<p>During the Oracle Clusterware upgrade, the default listener (LISTENER_<span class="italic">NODENAME</span>) is migrated to the Oracle Grid Infrastructure home (Grid home). DBCA always uses the default listener.</p>
<p>The listener migration process stops the listener in the existing Oracle home, and restarts it in the new Oracle home. If the database uses the default listener (LISTENER_<span class="italic">NODENAME</span>), then the listener is migrated automatically to the Oracle Clusterware home by Oracle Net Configuration Assistant (NETCA) as part of the Oracle Clusterware upgrade. If the database uses a nondefault listener, then DBUA migrates the nondefault listener to the Oracle home.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During migration, client applications may not be able to connect to any databases that are registered to the listener that is being migrated.</div>
</div>
<!-- class="sect1" -->
<a id="BGBIBCGH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.4</span> Verifying Requirements for DBCA<a id="sthref224"></a></h2>
<p>To use DBCA to change the database configuration, use Cluster Verification Utility (CVU) to verify that your system is prepared for configuration changes using the following command syntax:</p>
<pre dir="ltr">
<span class="italic">Grid_home</span>\bin\cluvfy stage -pre dbcfg -n <span class="italic">node_list</span> -d <span class="italic">Oracle_home</span> [-verbose]
</pre>
<p>In the preceding example, the variable <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the Grid home, the variable <code dir="ltr"><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas, and the variable <code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code> is the path for the Oracle home directory where OUI creates or modifies the database.</p>
<p>For example, to verify that your system is prepared for an Oracle Database with Oracle RAC installation on a two-node cluster with nodes <code dir="ltr">node1</code> and <code dir="ltr">node2</code>, with the Grid home path <code dir="ltr">C:\app\11.2.0\grid</code>, and with the Oracle home path <code dir="ltr">C:\app\oracle\product\11.2.0\dbhome_1</code>, enter the following command:</p>
<pre dir="ltr">
C:\app\11.2.0\grid\bin&gt; cluvfy stage -pre dbcfg -n node1,node2 \
-d C:\app\oracle\product\11.2.0\dbhome_1
</pre>
<p>You can select the option <code dir="ltr">-verbose</code> to receive progress updates as CVU performs its system checks, and detailed reporting of the test results.</p>
<p>If the CVU summary indicates that the cluster verification fails, then review and correct the relevant system configuration steps, and run the test again.</p>
<p>The command <code dir="ltr">cluvfy stage -pre dbcfg</code> verifies the following:</p>
<ul>
<li>
<p>Node Reachability: All the specified nodes are reachable from the local node.</p>
</li>
<li>
<p>User Equivalence: User equivalence exists on all the specified nodes.</p>
</li>
<li>
<p>Total Memory: Each node specified has at least the minimum required memory configured.</p>
</li>
<li>
<p>Available Memory: Each node specified has at least the minimum amount of available memory.</p>
</li>
<li>
<p>Swap Space: Each node has enough swap space available.</p>
</li>
<li>
<p>Free Disk Space: Each node has sufficient free disk space available in the path for the Oracle home, the Grid home, and the temporary directory.</p>
</li>
<li>
<p>System Architecture: Each node must be a x64 (64-bit) system.</p>
</li>
<li>
<p>Length of the Value of the Environment Variable <code dir="ltr">PATH</code>: The <code dir="ltr">PATH</code> environment variable is set on each node and does not contain more than 1023 characters.</p>
</li>
<li>
<p>Oracle Clusterware Integrity: All the components of Oracle Clusterware are fully operational.</p>
</li>
<li>
<p>Node Application Existence: All the specified nodes have the following node resources registered with Oracle Clusterware and whether the node resources are online:</p>
<ul>
<li>
<p>virtual IP (VIP)</p>
</li>
<li>
<p>Oracle Notification Services (ONS) (not required)</p>
</li>
<li>
<p>Global Services Daemon (GSD) (not required)</p>
</li>
<li>
<p>EONS (not required)</p>
</li>
<li>
<p>NETWORK (not required)</p>
</li>
</ul>
</li>
<li>
<p>Time Zone Consistency: All the specified nodes have the same time zone setting.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BGBBIJJC"></a>
<div id="RIWIN404" class="sect1">
<h2 class="sect1"><span class="secnum">3.5</span> Creating an Oracle RAC Database with DBCA</h2>
<p>To create an Oracle RAC database with DBCA without Oracle ASM or a cluster file system, you must have configured shared storage devices. In addition, you must have run NETCA to configure your Oracle Net <code dir="ltr">listener.ora</code> file.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BGBEBIBG">Configuring Disks for Use With Oracle ASM</a></p>
</li>
<li>
<p><a href="#BGBBGBBG">Starting DBCA</a></p>
</li>
<li>
<p><a href="#BGBGGEAH">Using DBCA to Create an Oracle RAC Database</a></p>
</li>
</ul>
<a id="BGBEBIBG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.5.1</span> Configuring Disks for Use With Oracle ASM</h3>
<p>On Windows-based systems, if you plan to use Oracle ASM storage, then before you use DBCA to create a database, you must first create logical partitions without primary partitions on the disk drives. After creating the logical disk partitions you must delete the drive letters for these partitions on all nodes. Alternatively, you can stamp these partitions with <code dir="ltr">asmtool</code>. See <a class="olink CWWIN" href="../e48194/toc.htm"><span class="italic">Oracle Grid Infrastructure Installation Guide for Microsoft Windows x64 (64-Bit)</span></a> for more information on configuring disk devices for use with Oracle ASM. After you have configured the disks to be used by Oracle ASM, you must create the disk groups that will be used by the database prior to starting DBCA. You can create disk groups by using SQL*Plus, Oracle Enterprise Manager, or Oracle ASM Configuration Assistant (ASMCA).</p>
<p><a id="sthref225"></a><a id="sthref226"></a><a id="sthref227"></a>When using ASMCA to create a disk group, if you do not see the storage devices to add, then click <span class="bold">Change Disk Discovery Path</span> to alter the search path used by ASMCA to find available storage devices, or click <span class="bold">Stamp</span> <span class="bold">Disks</span> to start the <code dir="ltr">asmtoolg</code> GUI tool. You can select storage devices with a status of <code dir="ltr">Candidate</code> (the storage device was never used in an Oracle ASM disk group) or <code dir="ltr">Former</code> (the storage device is no longer in a disk group). To add storage devices that still have Oracle ASM disk headers, but the disk group is no longer in use (a case that can occur if you are selecting storage devices after a terminated installation attempt, you attempted deinstallation without dropping the disk group, or other configuration problems), use the <code dir="ltr">Force</code> command.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink NTDBI" href="../e47798/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a> for more information about <code dir="ltr">asmtoolg</code></p>
</li>
<li>
<p><a class="olink OSTMG10206" href="../../server.112/e18951/asmdiskgrps.htm#OSTMG10206"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about creating disk groups</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BGBBGBBG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.5.2</span> Starting DBCA</h3>
<p>To s<a id="sthref228"></a><a id="sthref229"></a>tart DBCA, connect as the user with Administrator privileges that was used to install the Oracle RAC software (for example, <code dir="ltr">oracle</code>) on one of your nodes in your cluster, and enter the command <code dir="ltr">dbca</code> from the <code dir="ltr"><span class="codeinlineitalic">Oracle_home</span></code><code dir="ltr">\bin</code> directory.</p>
<p>On Windows-based platforms, you can also click <span class="bold">Start</span>, and select <span class="bold">Programs</span>, <span class="bold">Oracle -</span> <span class="bolditalic">Oracle_home name</span>, <span class="bold">Configuration and Migration Tools</span>, and then <span class="bold">Database Configuration Assistant</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To run DBCA, you no longer need to set operating system environment variables <code dir="ltr">%ORACLE_HOME%</code> to the Oracle RAC database home, or <code dir="ltr">%ORACLE_UNQNAME%</code> to the database unique name.</div>
</div>
<!-- class="sect2" -->
<a id="BGBGGEAH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.5.3</span> Using DBCA to Create an Oracle RAC Database</h3>
<p>When you start DBCA, the first page that is displayed is the Welcome page for Oracle RAC, which includes the option to select an Oracle RAC database. DBCA displays this Oracle RAC Welcome page only if the Oracle home from which it is started is installed on a cluster.<a id="sthref230"></a><a id="sthref231"></a> Enter information as prompted by DBCA. Click <span class="bold">Help</span> if you need assistance.</p>
<p>If DBCA does not display the Welcome page for Oracle RAC, then DBCA was unable to detect if the Oracle home is installed on a cluster. In this case, verify that the OUI inventory is correctly located in the directory <code dir="ltr">C:\Program Files\Oracle\Inventory\oraInst.loc</code>, and that the inventory files are not corrupted. Also, perform clusterware diagnostics by using the following CVU command syntax, where <code dir="ltr">C:\app\11.2.0\grid</code> is the location of your Grid home:</p>
<pre dir="ltr">
C:\app\11.2.0\grid\bin\cluvfy stage -post crsinst -n <span class="codeinlineitalic">nodelist</span>
</pre>
<p>For example, if your cluster consists of nodes <code dir="ltr">node1</code> and <code dir="ltr">node2</code>, run the following command:</p>
<pre dir="ltr">
C:\app\11.2.0\grid\bin\cluvfy stage -post crsinst -n node1,node2
</pre>
<p>Note the following important information when using DBCA:</p>
<ul>
<li>
<p>If nodes that are part of your cluster installation do not appear on the Node Selection page, then run the <code dir="ltr">lsinventory</code> command of OPatch to perform inventory diagnostics and run CVU to perform clusterware diagnostics.</p>
</li>
<li>
<p>In Oracle RAC environments, the database name (DB_UNIQUE_NAME) portion is a string of no more than 30 characters that can contain alphanumeric, underscore (_), dollar ($), and pound (#) characters, but must begin with an alphabetic character. No other special characters are permitted in a database name. The DB_NAME parameter for a database is set to the first 8 characters of the database name.</p>
</li>
<li>
<p>The domain portion of the global database name (DB_DOMAIN) can be no more than 128 characters. Domain names using underscores (_) are not allowed. The values for DB_UNIQUE_NAME.DB_DOMAIN in its entirety must be unique within the enterprise.</p>
</li>
<li>
<p><a id="sthref232"></a>A system identifier (SID) is used as an unique identifier for each Oracle instance. The SID prefix, or first 8 characters of the database name, can contain only the characters a-z, A-Z, and 0-9. The SID prefix cannot contain operating system special characters, so if you use special characters in the first 8 characters of the database name, then these special characters are omitted in the SID prefix. There is a single SID prefix for every database. The SID prefix for a database must be unique within the cluster.On some platforms, the SID is case-sensitive.</p>
<p>For an Oracle RAC database, each instance has a unique identifier, <code dir="ltr">ORACLE_SID</code>, which consists of the SID prefix and an instance number. The <code dir="ltr">ORACLE_SID</code> for Oracle RAC database instances is generated differently, depending on how you choose to manage the database. If you select a policy-managed database, then Oracle generates the SID in the format <code dir="ltr"><span class="codeinlineitalic">name</span></code>_<code dir="ltr"><span class="codeinlineitalic">#</span></code>, where <code dir="ltr"><span class="codeinlineitalic">name</span></code> is the first eight alphanumeric characters of DB_UNIQUE_NAME, and <code dir="ltr"><span class="codeinlineitalic">#</span></code> is the instance number. If you select an admin-managed database, then DBCA generates the SID for the instance names in advance, and the SID is in the format <code dir="ltr"><span class="codeinlineitalic">name</span></code><code dir="ltr"><span class="codeinlineitalic">#</span></code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
It is common practice to set the SID to be equal to the database name. For more information, see the discussion of the <code dir="ltr">DB_NAME</code> initialization parameter in <a class="olink REFRN10041" href="../../server.112/e40402/initparams064.htm#REFRN10041"><span class="italic">Oracle Database Reference</span></a>.</div>
</li>
<li>
<p>On the Management Options page, you are provided with selections for Oracle Enterprise Manager monitoring and management interfaces.</p>
<p>Enterprise Manager Database Control is always an option. If DBCA discovers Grid Control agents on the cluster, then it also provides you with the option Enterprise Manager with the Grid Control. Choose between Database Control and Grid Control interfaces.</p>
<p>You can enable daily backup operations. For daily backups, you enter the backup time and operating system credentials for the user that performs backup operations.</p>
<p><a id="sthref233"></a><a id="sthref234"></a>You can no longer set up e-mail notification either from DBCA or OUI starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2).</p>
</li>
<li>
<p><span class="bold"><a id="sthref235"></a><a id="sthref236"></a></span>To use a Fast Recovery Area, Oracle recommends that you create at least two separate Oracle ASM disk groups on shared storage: one for the database area and one for the recovery area. Oracle recommends that you place the database area and the recovery area in separate failure groups.</p>
<p><a id="sthref237"></a><a id="sthref238"></a>A failure group is defined by shared hardware, such as a controller shared between two storage devices, or two disks that are on the same spindle. If two storage devices share hardware that could fail, making both storage devices unavailable, then these storage devices are said to be in the same failure group.</p>
<p>If you do not use Oracle ASM, then Oracle recommends that the data files and the Fast Recovery Area are located outside of the Oracle home and in separate locations, as with separate Oracle ASM failure groups, so that a hardware failure does not affect availability.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT" href="../../server.112/e40540/toc.htm"><span class="italic">Oracle Database Concepts</span></a> for more information about using a Fast Recovery Area</p>
</li>
<li>
<p><a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information about failure groups and best practices for high availability and recovery</p>
</li>
</ul>
</div>
</li>
<li>
<p>On the <a id="sthref239"></a>Recovery Configuration page, if you are using Oracle ASM or cluster file system storage, then you can also select the Fast Recovery Area and the size of the recovery area on the Recovery Configuration page. If you are using Oracle ASM, then the Fast Recovery Area defaults to an Oracle ASM disk group. <a id="sthref240"></a>If you are using OCFS for Windows, then the Fast Recovery Area defaults to <code dir="ltr"><span class="codeinlineitalic">Oracle_base</span></code><code dir="ltr">\fast_recovery_area</code>.</p>
</li>
<li>
<p>If you intend to add more nodes to your cluster than you have during the current DBCA session, then click <span class="bold">All Initialization Parameters</span>, and change the parameter <code dir="ltr"><a id="sthref241"></a><a id="sthref242"></a>CLUSTER_DATABASE_INSTANCES</code> to the total number of nodes that you plan to add to the cluster.</p>
<p>In addition, if you click <span class="bold">All Initialization Parameters</span>, note that if your global database name is longer than 8 characters, then the database name value (in the <code dir="ltr"><a id="sthref243"></a><a id="sthref244"></a>DB_NAME</code> parameter) is truncated to the first 8 characters, and the <code dir="ltr"><a id="sthref245"></a><a id="sthref246"></a>DB_UNIQUE_NAME</code> parameter value is set to the global name.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about initialization parameters</div>
</li>
<li>
<p>When you are prompted to create the Database Vault user accounts, do not use the names of Database Vault roles, such as DV_OWNER and DVACCTMGR. See <a class="olink DVADM70328" href="../../server.112/e23090/db_objects.htm#DVADM70328"><span class="italic">Oracle Database Vault Administrator's Guide</span></a> for a full list of roles.</p>
</li>
</ul>
<p>After you respond to DBCA prompts, review the Summary dialog information and then click <span class="bold">OK</span>. DBCA does the following:</p>
<ul>
<li>
<p>Starts the Oracle services if you are on a Windows-based platform</p>
</li>
<li>
<p>Configures the network for the cluster database</p>
</li>
<li>
<p>Migrates Oracle Database listeners from a previous release and related files to the Oracle Database 11<span class="italic">g</span> Oracle home</p>
</li>
<li>
<p>Creates an Oracle RAC database and its instances</p>
</li>
<li>
<p>Creates the Oracle RAC data dictionary views</p>
</li>
<li>
<p>Configures Oracle Enterprise Manager Database Control or Grid Control</p>
</li>
<li>
<p>Starts the listeners and database instances, and then starts the high availability services</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Caution:</p>
<a id="sthref247"></a>After you have created the database, if you decide to install additional Oracle Database products in the database you have created, then you must stop <span class="italic">all</span> processes running in the Oracle home before you attempt to install the additional products. See <a href="procstop.htm#BABEHGJG">Appendix E, "How to Stop Processes in an Existing Oracle Real Application Clusters Database"</a> for additional information.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBFIICA"></a>
<div id="RIWIN405" class="sect1">
<h2 class="sect1"><span class="secnum">3.6</span> Deleting an Oracle RAC Database with DBCA<a id="sthref248"></a><a id="sthref249"></a></h2>
<p><a id="sthref250"></a><a id="sthref251"></a><a id="sthref252"></a>Deleting an Oracle RAC database using DBCA involves first deleting the database, and then removing the database's initialization parameter files, instances, Optimal Flexible Architecture (OFA) structure, and the Oracle network configuration for the database. However, this process does not remove data files if you placed the files on raw devices or on raw partitions.</p>
<p>To <a id="sthref253"></a><a id="sthref254"></a>delete a database using DBCA:</p>
<ol>
<li>
<p>Start DBCA on one of your cluster nodes:</p>
<p>On Windows-based platforms, click <span class="bold">Start</span>, and select <span class="bold">Programs</span>, <span class="bold">Oracle -</span> <span class="bolditalic">Oracle_home name</span>, <span class="bold">Configuration and Migration Tools</span>, and then <span class="bold">Database Configuration Assistant</span>.</p>
<p>The DBCA Welcome page appears.</p>
</li>
<li>
<p>Select <span class="bold">Oracle Real Application Clusters database,</span> then click <span class="bold">Next</span>.</p>
<p>After you click Next, DBCA displays the <a id="sthref255"></a>Operations page.</p>
</li>
<li>
<p>Select <span class="bold">Delete a database</span>, and click <span class="bold">Next</span>.</p>
<p>DBCA displays the <a id="sthref256"></a><a id="sthref257"></a>List of Cluster Databases page.</p>
</li>
<li>
<p>If your user ID and password are not operating-system authenticated, then the List of Cluster Databases page displays the user name and password fields. If these fields appear, then enter a user ID and password for a user account that has SYSDBA privileges.</p>
</li>
<li>
<p>Select the database to delete, and click <span class="bold">Finish</span>.</p>
<p>After you click Finish, DBCA displays a <a id="sthref258"></a><a id="sthref259"></a>dialog box to confirm the database and instances that DBCA is going to delete.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to begin the deletion of the database and its associated files, services, and environment settings, or click <span class="bold">Cancel</span> to stop the operation.</p>
</li>
</ol>
<p>When you click OK, DBCA continues the operation and deletes all the associated instances for this database. DBCA also removes the parameter files and password files.</p>
<p>At this point, you have accomplished the following:</p>
<ul>
<li>
<p>Deleted the selected database from the cluster</p>
</li>
<li>
<p>Deleted the Oracle services for the selected database</p>
</li>
<li>
<p>Deleted high availability services that were assigned to the database</p>
</li>
<li>
<p>Deleted the Oracle Net configuration for the database</p>
</li>
<li>
<p>Deconfigured Database Control for that database</p>
</li>
<li>
<p>Deleted the OFA directory structure for that database from the cluster</p>
</li>
<li>
<p>Deleted the data files if the data files were not on raw devices or raw partitions</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BGBCAIJJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.7</span> Setting Environment Variables for Enterprise Manager DB Control</h2>
<p>In previous releases of Oracle Database, you were required to set the environment variables <code dir="ltr">ORACLE_HOME</code> and <code dir="ltr">ORACLE_SID</code> to start, stop, and check the status of Enterprise Manager. With Oracle Database 11<span class="italic">g</span> release 2 (11.2) and later, you need to set the environment variables <code dir="ltr">ORACLE_HOME</code> and <code dir="ltr">ORACLE_UNQNAME</code> to use Enterprise Manager. For example, on each node, enter commands similar to the following to set these values for the <code dir="ltr">oracle</code> user, where the Oracle home is <code dir="ltr">C:\app\oracle\product\11.2.0.1\dbhome_1</code>, and where the database unique name is <code dir="ltr">sales</code>:</p>
<pre dir="ltr">
C:\&gt; set ORACLE_HOME=C:\app\oracle\product\11.2.0.1\dbhome_1
C:\&gt; set ORACLE_UNQNAME=sales
</pre>
<p>Place these environment variables in the <code dir="ltr">oracle</code> user profile file on each cluster member node to ensure that the environment variable settings are available after system restarts.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2786">
<tr>
<td class="cellalignment2795">
<table class="cellalignment2791">
<tr>
<td class="cellalignment2790"><a href="racinstl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2790"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2798">
<table class="cellalignment2789">
<tr>
<td class="cellalignment2790"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2790"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2790"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2790"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2790"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2790"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
