<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Advanced Installation Oracle Grid Infrastructure for a Cluster Preinstallation Tasks</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1088" />
<meta name="dcterms.created" content="2016-12-15T5:17:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E48294-03" />
<meta name="dcterms.isVersionOf" content="CWAIX" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="typinstl.htm" title="Previous" type="text/html" />
<link rel="Next" href="storage.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48294.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/17</span> <!-- End Header -->
<script  >
<!-- // <![CDATA[
window.name='preaix'
// ]]> -->
</script> <script  >
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=120,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/body><\/html>');
    msg.document.close();
    msg.focus();
}
// ]]>
</script> <noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<div id="CWAIX414" class="chapter"><a id="BABFCFIH"></a>
<h1 class="chapter"><span class="secnum">2</span> Advanced Installation Oracle Grid Infrastructure for a Cluster Preinstallation Tasks</h1>
<p>This chapter describes the system configuration tasks that you must complete before you start Oracle Universal Installer (OUI) to install Oracle Grid Infrastructure for a cluster, and that you may need to complete if you intend to install Oracle Real Application Clusters (Oracle RAC) on the cluster.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGFEICF">Reviewing Upgrade Best Practices</a></p>
</li>
<li>
<p><a href="#CEGBGBGA">Installation Fixup Scripts</a></p>
</li>
<li>
<p><a href="#CEGJJIDC">Logging In to a Remote System as root Using X Terminal</a></p>
</li>
<li>
<p><a href="#CEGGEGHA">Creating Groups, Users and Paths for Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#CEGCAIFE">Checking the Hardware Requirements</a></p>
</li>
<li>
<p><a href="#CEGFGHFE">Checking the Network Requirements</a></p>
</li>
<li>
<p><a href="#CEGIEABJ">Identifying the Software Requirements</a></p>
</li>
<li>
<p><a href="#BABCDDCH">Checking the Software Requirements</a></p>
</li>
<li>
<p><a href="#BABHBBCI">Verifying UDP and TCP Kernel Parameters</a></p>
</li>
<li>
<p><a href="#BABFHCAF">Checking Resource Limits for AIX</a></p>
</li>
<li>
<p><a href="#CEGFFFEE">Tuning AIX System Environment</a></p>
</li>
<li>
<p><a href="#CEGBDEJJ">Network Time Protocol Setting</a></p>
</li>
<li>
<p><a href="#CEGIICGI">Automatic SSH Configuration During Installation</a></p>
</li>
<li>
<p><a href="#CEGDIIDG">Configuring Grid Infrastructure Software Owner User Environments</a></p>
</li>
<li>
<p><a href="#CEGBHECC">Running the rootpre.sh Script</a></p>
</li>
<li>
<p><a href="#BABJBHHE">Adding the Grid Infrastructure Installation Owner to Hagsuser Group</a></p>
</li>
<li>
<p><a href="#CEGIBHAJ">Requirements for Creating an Oracle Grid Infrastructure Home Directory</a></p>
</li>
<li>
<p><a href="#BABGGJIG">Cluster Name Requirements</a></p>
</li>
</ul>
<a id="CEGFEICF"></a>
<div id="CWAIX162" class="sect1">
<h2 class="sect1"><span class="secnum">2.1</span> Reviewing Upgrade Best Practices</h2>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Always create a backup of existing databases before starting any configuration change.</div>
<p><a id="sthref47"></a><a id="sthref48"></a>If you have an existing Oracle installation, then record the version numbers, patches, and other configuration information, and review upgrade procedures for your existing installation. Review Oracle upgrade documentation before proceeding with installation, to decide how you want to proceed.</p>
<p>You can upgrade Oracle ASM 11<span class="italic">g</span> release 1 (11.1) without shutting down an Oracle RAC database by performing a rolling upgrade either of individual nodes, or of a set of nodes in the cluster. However, if you have a standalone database on a cluster that uses Oracle ASM, then you must shut down the standalone database before upgrading. If you are upgrading from Oracle ASM 10<span class="italic">g</span>, then you must shut down the entire Oracle ASM cluster to perform the upgrade.</p>
<p>If you have an existing Oracle Automatic Storage Management (Oracle ASM) installation, then review Oracle upgrade documentation. The location of the Oracle ASM home changes in this release, and you may want to consider other configuration changes to simplify or customize storage administration. If you have an existing Oracle ASM home from a previous release, then it should be owned by the same user that you plan to use to upgrade Oracle Clusterware.</p>
<p>During rolling upgrades of the operating system, Oracle supports using different operating system binaries when both versions of the operating system are certified with the Oracle Database release you are using.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Using mixed operating system versions is only supported for the duration of an upgrade, over the period of a few hours. Oracle Clusterware does not support nodes that have processors with different instruction set architectures (ISAs) in the same cluster. Each node must be binary compatible with the other nodes in the cluster. For example, you cannot have one node using an Intel 64 processor and another node using an IA-64 (Itanium) processor in the same cluster. You could have one node using an Intel 64 processor and another node using an AMD64 processor in the same cluster because the processors use the same x86-64 ISA and run the same binary version of Oracle software.
<p>Your cluster can have nodes with CPUs of different speeds or sizes, but Oracle recommends that you use nodes with the same hardware configuration.</p>
</div>
<p>To find the most recent software updates, and to find best practices recommendations about preupgrade, postupgrade, compatibility, and interoperability, refer to "Oracle Upgrade Companion." "Oracle Upgrade Companion" is available through Note 785351.1 on My Oracle Support:</p>
<p><code ><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</div>
<!-- class="sect1" -->
<a id="CEGBGBGA"></a>
<div id="CWAIX163" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Installation <a id="sthref49"></a><a id="sthref50"></a>Fixup Scripts</h2>
<p>With Oracle Clusterware 11<span class="italic">g</span> release 2, Oracle Universal Installer (OUI) detects when the minimum requirements for an installation are not met, and creates shell scripts, called fixup scripts, to finish incomplete system configuration steps. If OUI detects an incomplete task, then it generates fixup scripts (<code dir="ltr">runfixup.sh</code>). You can run the fixup script after you click the <span class="bold">Fix and Check Again</span> Button.</p>
<p>You also can have CVU generate fixup scripts before installation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about using the <code dir="ltr">cluvfy</code> command</div>
<p>The Fixup script does the following:</p>
<ul>
<li>
<p>If necessary sets kernel parameters to values required for successful installation, including:</p>
<ul>
<li>
<p>Shared memory parameters.</p>
</li>
<li>
<p>Open file descriptor and UDP send/receive parameters.</p>
</li>
</ul>
</li>
<li>
<p>Sets permissions on the Oracle Inventory (central inventory) directory.</p>
</li>
<li>
<p>Reconfigures primary and secondary group memberships for the installation owner, if necessary, for the Oracle Inventory directory and the operating system privileges groups.</p>
</li>
<li>
<p>Sets shell limits if necessary to required values.</p>
</li>
</ul>
<p>If you have SSH configured between cluster member nodes for the user account that you will use for installation, then you can check your cluster configuration before installation and generate a fixup script to make operating system changes before starting the installation.</p>
<p>To do this, log in as the user account that will perform the installation, navigate to the staging area where the runcluvfy command is located, and use the following command syntax, where <span class="italic">node</span> is a comma-delimited list of nodes you want to make cluster members:</p>
<p>$ ./runcluvfy.sh stage -pre crsinst -n <span class="italic">node</span> -fixup -verbose</p>
<p>For example, if you intend to configure a two-node cluster with nodes node1 and node2, enter the following command:</p>
<pre dir="ltr">
$ ./runcluvfy.sh stage -pre crsinst -n node1,node2 -fixup -verbose
</pre></div>
<!-- class="sect1" -->
<a id="CEGJJIDC"></a>
<div id="CWAIX164" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.3</span> Logging In to a Remote System as root Using X Terminal<a id="sthref51"></a><a id="sthref52"></a><a id="sthref53"></a><a id="sthref54"></a><a id="sthref55"></a></h2>
<p>Before you install the Oracle software, you must complete several tasks as the <code dir="ltr">root</code> user on the system where you install Oracle software. To complete tasks as the <code dir="ltr">root</code> user on a remote server, you need to enable remote display as root.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you log in as another user (for example, <code dir="ltr">oracle</code>), then you need to repeat this procedure for that user as well.</div>
<p>To enable remote display, complete one of the following procedures:</p>
<ul>
<li>
<p>If you are installing the software from an X Window System workstation or X terminal, then:</p>
<ol>
<li>
<p>Start a local terminal session, for example, an X terminal (<code dir="ltr">xterm</code>).</p>
</li>
<li>
<p>If you are not installing the software on the local system, then enter a command using the following syntax to enable remote hosts to display X applications on the local X server:</p>
<pre dir="ltr">
$ xhost + <span class="italic">remote_host</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">remote_host</span></code> is the fully qualified remote hostname. For example:</p>
<pre dir="ltr">
$ xhost + somehost.example.com
somehost.example.com being added to the access control list
</pre></li>
<li>
<p>If you are not installing the software on the local system, then use the <code dir="ltr">ssh</code>, command to connect to the system where you want to install the software:</p>
<pre dir="ltr">
$ ssh <span class="italic">remote_host</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">remote_host</span></code> is the fully qualified remote hostname. For example:</p>
<pre dir="ltr">
$ ssh somehost.example.com
</pre></li>
<li>
<p>If you are not logged in as the <code dir="ltr">root</code> user, then enter the following command to switch the user to <code dir="ltr">root</code>:<a id="sthref56"></a><a id="sthref57"></a><a id="sthref58"></a><a id="sthref59"></a><a id="sthref60"></a><a id="sthref61"></a></p>
<pre dir="ltr">
$ su - root
password:
#
</pre></li>
</ol>
</li>
<li>
<p>If you are installing the software from a PC or other system with X server software installed, then:<a id="sthref62"></a><a id="sthref63"></a><a id="sthref64"></a><a id="sthref65"></a><a id="sthref66"></a><a id="sthref67"></a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If necessary, refer to your X server documentation for more information about completing this procedure. Depending on the X server software that you are using, you may need to complete the tasks in a different order.</div>
<ol>
<li>
<p>Start the X server software.</p>
</li>
<li>
<p>Configure the security settings of the X server software to permit remote hosts to display X applications on the local system.</p>
</li>
<li>
<p>Connect to the remote system where you want to install the software and start a terminal session on that system, for example, an X terminal (<code dir="ltr">xterm</code>).</p>
</li>
<li>
<p>If you are not logged in as the <code dir="ltr">root</code> user on the remote system, then enter the following command to switch user to <code dir="ltr">root</code>:</p>
<pre dir="ltr">
$ su - root
password:
#
</pre></li>
</ol>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CEGGEGHA"></a>
<div id="CWAIX165" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.4</span> Creating Groups, Users and Paths for Oracle Grid Infrastructure</h2>
<p>Log in as <code dir="ltr">root</code>, and use the following instructions to locate or create groups and users required for installation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Ensure that all group and user numbers are identical on all cluster member nodes.</div>
<ul>
<li>
<p><a href="#BABDGHAB">Determining If the Oracle Inventory and Oracle Inventory Group Exists</a></p>
</li>
<li>
<p><a href="#BABCHCAC">Creating the Oracle Inventory Group If an Oracle Inventory Does Not Exist</a></p>
</li>
<li>
<p><a href="#BABJJEFF">Creating the Oracle Grid Infrastructure User</a></p>
</li>
<li>
<p><a href="#BABGJFFA">Creating the Oracle Base Directory Path</a></p>
</li>
<li>
<p><a href="#BABJEHAA">Creating Job Role Separation Operating System Privileges Groups and Users</a></p>
</li>
<li>
<p><a href="#BABCGBDD">Example of Creating Standard Groups, Users, and Paths</a></p>
</li>
<li>
<p><a href="#BABGBGGI">Example of Creating Role-allocated Groups, Users, and Paths</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
During an Oracle Grid Infrastructure installation, both Oracle Clusterware and Oracle Automatic Storage Management are installed. You no longer can have separate Oracle Clusterware installation owners and Oracle Automatic Storage Management installation owners.</div>
<a id="BABDGHAB"></a>
<div id="CWAIX166" class="sect2">
<h3 class="sect2"><span class="secnum">2.4.1</span> <a id="sthref68"></a><a id="sthref69"></a><a id="sthref70"></a><a id="sthref71"></a>Determining If the Oracle Inventory and Oracle Inventory Group Exists</h3>
<p>When you install Oracle software on the system for the first time, OUI creates the <code dir="ltr">oraInst.loc</code> file. This file identifies the name of the Oracle Inventory group (by default, <code dir="ltr">oinstall</code>), and the path of the Oracle Central Inventory directory. An <a id="sthref72"></a><a id="sthref73"></a><a id="sthref74"></a><code dir="ltr">oraInst.loc</code> file has contents similar to the following:</p>
<pre dir="ltr">
inventory_loc=<span class="italic">central_inventory_location</span>
inst_group=<span class="italic">group</span>
</pre>
<p><a id="sthref75"></a>In the preceding example, <code dir="ltr"><span class="codeinlineitalic">central_inventory_location</span></code> is the location of the Oracle central inventory, and <code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the group that has permissions to write to the central inventory (the OINSTALL group privilege).</p>
<p>If you have an existing Oracle central inventory, then ensure that you use the same Oracle Inventory for all Oracle software installations, and ensure that all Oracle software users you intend to use for installation have permissions to write to this directory.</p>
<p>To determine if you have an Oracle central inventory directory (<code dir="ltr">oraInventory</code>) on your system:</p>
<p>Enter the following command:<a id="sthref76"></a><a id="sthref77"></a><a id="sthref78"></a><a id="sthref79"></a></p>
<pre dir="ltr">
# more /etc/oraInst.loc
</pre>
<p>If the <code dir="ltr">oraInst.loc</code> file exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">
inventory_loc=/u01/app/oracle/oraInventory
inst_group=oinstall
</pre>
<p>In the previous output example:</p>
<ul>
<li>
<p>The <code dir="ltr">inventory_loc</code> group shows the location of the Oracle Inventory</p>
</li>
<li>
<p>The <code dir="ltr">inst_group</code> parameter shows the name of the Oracle Inventory group (in this example, <code dir="ltr">oinstall</code>).</p>
</li>
</ul>
<p>Use the command <code dir="ltr">grep</code> <code dir="ltr"><span class="codeinlineitalic">groupname</span></code> <code dir="ltr">/etc/group</code> to confirm that the group specified as the Oracle Inventory group still exists on the system. For example:</p>
<pre dir="ltr">
$ grep oinstall /etc/group
oinstall:x:1000:grid,oracle
</pre></div>
<!-- class="sect2" -->
<a id="BABCHCAC"></a>
<div id="CWAIX167" class="sect2">
<h3 class="sect2"><span class="secnum">2.4.2</span> Creating the Oracle Inventory Group If an Oracle Inventory Does Not Exist<a id="sthref80"></a><a id="sthref81"></a></h3>
<p>If the <code dir="ltr">oraInst.loc</code> file does not exist, then create the Oracle Inventory group by entering a command similar to the following:</p>
<pre dir="ltr">
# mkgroup id=1000 adms='root' oinstall
</pre>
<p><a id="sthref82"></a>The preceding command creates the oraInventory group <code dir="ltr">oinstall</code>, with the group ID number 1000. Members of the oraInventory group are granted privileges to write to the Oracle central inventory (<code dir="ltr">oraInventory</code>).</p>
<p>By default, if an oraInventory group does not exist, then the installer lists the primary group of the installation owner for the Oracle Grid Infrastructure for a Cluster software as the oraInventory group. Ensure that this group is available as a primary group for all planned Oracle software installation owners.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref83"></a>Group and user IDs must be identical on all nodes in the cluster. Check to make sure that the group and user IDs you want to use are available on each cluster member node, and confirm that the primary group for each grid infrastructure for a cluster installation owner has the same name and group ID.</div>
</div>
<!-- class="sect2" -->
<a id="BABJJEFF"></a>
<div id="CWAIX168" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.4.3</span> Creating the Oracle Grid Infrastructure User<a id="sthref84"></a><a id="sthref85"></a><a id="sthref86"></a><a id="sthref87"></a></h3>
<p>You must create a software owner for Oracle Grid Infrastructure in the following circumstances:</p>
<ul>
<li>
<p>If an Oracle software owner user does not exist; for example, if this is the first installation of Oracle software on the system</p>
</li>
<li>
<p>If an Oracle software owner user exists, but you want to use a different operating system user, with different group membership, to separate grid infrastructure administrative privileges from Oracle Database administrative privileges.</p>
<p>In Oracle documentation, a user created to own only Oracle Grid Infrastructure software installations is called the <code dir="ltr">grid</code> user. A user created to own either all Oracle installations, or only Oracle database installations, is called the <code dir="ltr">oracle</code> user.</p>
</li>
</ul>
<div id="CWAIX169" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref88"></a>
<h4 class="sect3"><span class="secnum">2.4.3.1</span> Understanding Restrictions for Oracle Software Installation Owners</h4>
<p>If you intend to use <a id="sthref89"></a><a id="sthref90"></a>multiple Oracle software owners for different Oracle Database homes, then Oracle recommends that you create a separate software owner for Oracle Grid Infrastructure software (Oracle Clusterware and Oracle ASM), and use that owner to run the Oracle Grid Infrastructure installation.</p>
<p><a id="sthref91"></a>If you plan to install Oracle Database or Oracle RAC, then Oracle recommends that you create separate users for the Oracle Grid Infrastructure and the Oracle Database installations. If you use one installation owner, then when you want to perform administration tasks, you must change the value for $ORACLE_HOME to the instance you want to administer (ASM, in the Oracle Grid Infrastructure home, or the database in the Oracle home), using command syntax such as the following example, where <code dir="ltr">/u01/app/11.2.0/grid</code> is the Oracle Grid Infrastructure home:</p>
<p><code dir="ltr">$ ORACLE_HOME=/u01/app/11.2.0/grid; export ORACLE_HOME</code></p>
<p><a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a><a id="sthref95"></a><a id="sthref96"></a><a id="sthref97"></a>If you try to administer an instance using <code dir="ltr">sqlplus</code>, <code dir="ltr">lsnrctl</code>, or <code dir="ltr">asmcmd</code> commands while $ORACLE_HOME is set to a different binary path, then you will encounter errors. When starting srvctl from a database home, $ORACLE_HOME should be set. or <code dir="ltr">srvctl</code> fails. But if you are using <code dir="ltr">srvctl</code> in the Oracle Grid Infrastructure home, then $ORACLE_HOME is ignored, and the oracle home path does not affect <code dir="ltr">srvctl</code> commands. You always have to change $ORACLE_HOME to the instance that you want to administer.</p>
<p>To create separate Oracle software owners to create separate users and separate operating system privileges groups for different Oracle software installations, note that each of these users must have the Oracle central inventory group (oraInventory group) as their primary group. Members of this group have write privileges to the Oracle central inventory (<code dir="ltr">oraInventory</code>) directory, and are also granted permissions for various Oracle Clusterware resources, OCR keys, directories in the Oracle Clusterware home to which DBAs need write access, and other necessary privileges. In Oracle documentation, this group is represented as <code dir="ltr">oinstall</code> in code examples.</p>
<p>Each Oracle software owner must be a member of the same central inventory group. Oracle recommends that you do not have more than one central inventory for Oracle installations. If an Oracle software owner has a different central inventory group, then you may corrupt the central inventory.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
<a id="sthref98"></a><a id="sthref99"></a><a id="sthref100"></a>For grid infrastructure for a cluster installations, the Grid home must not be placed under one of the Oracle base directories, or under Oracle home directories of Oracle Database installation owners, or in the home directory of an installation owner. During installation, ownership of the path to the Grid home is changed to <code dir="ltr">root</code>. This change causes permission errors for other installations.</div>
</div>
<!-- class="sect3" -->
<div id="CWAIX170" class="sect3"><a id="sthref101"></a>
<h4 class="sect3"><span class="secnum">2.4.3.2</span> Determining if an Oracle Software Owner User Exists<a id="sthref102"></a><a id="sthref103"></a><a id="sthref104"></a><a id="sthref105"></a></h4>
<p>To determine whether an Oracle software owner user named <code dir="ltr">oracle</code> or <code dir="ltr">grid</code> exists, enter a command similar to the following (in this case, to determine if <code dir="ltr">oracle</code> exists):</p>
<pre dir="ltr">
# id oracle
</pre>
<p>If the user exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">
uid=501(oracle) gid=501(oinstall) groups=502(dba),503(oper)
</pre>
<p>Determine whether you want to use the existing user, or create another user. The user and group ID numbers must be the same on each node you intend to make a cluster member node.</p>
<p>To use the existing user, ensure that the user's primary group is the Oracle Inventory group (<code dir="ltr">oinstall</code>). If this user account will be used for Oracle Database installations, then ensure that the Oracle account is also a member of the group you plan to designate as the OSDBA for ASM group (the group whose members are permitted to write to Oracle ASM storage).</p>
</div>
<!-- class="sect3" -->
<div id="CWAIX171" class="sect3"><a id="sthref106"></a>
<h4 class="sect3"><span class="secnum">2.4.3.3</span> Creating or Modifying an Oracle Software Owner User<a id="sthref107"></a> for Oracle Grid Infrastructure</h4>
<p>If the Oracle software owner (<code dir="ltr">oracle</code>, <code dir="ltr">grid</code>) user does not exist, or if you require a new Oracle software owner user, then create it. If you want to use an existing user account, then modify it to ensure that the user ID and group IDs are the same on each cluster member node. The following procedures use <code dir="ltr">grid</code> as the name of the Oracle software owner, and <code dir="ltr">dba</code> as the OSASM group. To create separate system privilege groups to separate administration privileges, complete group creation before you create the user, as described in <a href="#BABJEHAA">Section 2.4.5, "Creating Job Role Separation Operating System Privileges Groups and Users."</a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If necessary, contact your system administrator before using or modifying an existing user.
<p><a id="sthref108"></a><a id="sthref109"></a>Oracle recommends that you do not use the UID and GID defaults on each node, as group and user IDs likely will be different on each node. Instead, provide common assigned group and user IDs, and confirm that they are unused on any node before you create or modify groups and users.</p>
</div>
<div id="CWAIX172" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref110"></a>
<h5 class="sect4"><span class="secnum">2.4.3.3.1</span> Creating a New User</h5>
<p>use the following procedure to create a new user:</p>
<ol>
<li>
<p>Enter the following command:<a id="sthref111"></a><a id="sthref112"></a></p>
<pre dir="ltr">
# smit security
</pre></li>
<li>
<p>On the <span class="bold">Security &amp; Users</span> menu, select <span class="bold">Users</span>.</p>
</li>
<li>
<p>On the <span class="bold">Users</span> menu, select <span class="bold">Add a User</span>.</p>
</li>
<li>
<p>Choose the appropriate menu items to create the Oracle Grid Infrastructure software installation owner (<code dir="ltr">grid</code>). In the <span class="bold">Primary GROUP</span> field, specify the Oracle Inventory group. Make a note of the information you provide in the entry fields, so that you can provide the same value on other nodes.</p>
</li>
<li>
<p>Press Enter, then Esc+0 (Exit) to exit.</p>
</li>
<li>
<p>Set the password of the Oracle Grid Infrastructure software installation owner (<code dir="ltr">grid</code>). For example:<a id="sthref113"></a><a id="sthref114"></a></p>
<pre dir="ltr">
# passwd grid
</pre></li>
<li>
<p>Ensure that the Oracle Grid Infrastructure software installation owner (<code dir="ltr">grid</code>) has the capabilities CAP_NUMA_ATTACH, CAP_BYPASS_RAC_VMM, and CAP_PROPAGATE.</p>
<p>To check existing capabilities, enter the following command as <code dir="ltr">root</code>:</p>
<pre dir="ltr">
# /usr/bin/lsuser -a capabilities grid
 
</pre>
<p>To add capabilities, enter a command similar to the following:</p>
<pre dir="ltr">
# /usr/bin/chuser 
capabilities=CAP_NUMA_ATTACH,CAP_BYPASS_RAC_VMM,CAP_PROPAGATE grid 
</pre></li>
<li>
<p>Repeat this procedure on all of the other nodes in the cluster.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<div id="CWAIX173" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref115"></a>
<h5 class="sect4"><span class="secnum">2.4.3.3.2</span> Modifying an Existing User</h5>
<p>use the following procedure to modify an existing user:</p>
<ol>
<li>
<p>Enter the following command:</p>
<pre dir="ltr">
# smit security
</pre></li>
<li>
<p>Choose the appropriate menu items to modify the grid installation owner user.</p>
</li>
<li>
<p>In the <span class="bold">Primary GROUP</span> field, specify the Oracle Inventory group, for example <code dir="ltr">oinstall</code>.</p>
</li>
<li>
<p>Press Enter, then Esc+0 (Exit) to exit.</p>
</li>
<li>
<p>Repeat this procedure on all of the other nodes in the cluster.</p>
</li>
</ol>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABGJFFA"></a>
<div id="CWAIX174" class="sect2">
<h3 class="sect2"><span class="secnum">2.4.4</span> Creating the Oracle Base Directory Path</h3>
<p>The Oracle base directory for the grid installation owner is the location where diagnostic and administrative logs, and other logs associated with Oracle ASM and Oracle Clusterware are stored.</p>
<p>If you have created a path for the Oracle Clusterware home that is compliant with Oracle Optimal Flexible Architecture (OFA) guidelines for Oracle software paths then you do not need to create an Oracle base directory. When OUI finds an OFA-compliant path, it creates the Oracle base directory in that path.</p>
<p>For OUI to recognize the path as an Oracle software path, it must be in the form u[<span class="italic">00-99</span>]/app, and it must be writable by any member of the oraInventory (<code dir="ltr">oinstall</code>) group. The OFA path for the Oracle base is <code dir="ltr">/u01/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the software installation owner.</p>
<p>Oracle recommends that you create an Oracle Grid Infrastructure Grid home and Oracle base homes manually, particularly if you have separate Oracle Grid Infrastructure for a cluster and Oracle Database software owners, so that you can separate log files.</p>
<p>For example:</p>
<pre dir="ltr">
# mkdir -p  /u01/app/11.2.0/grid
# mkdir -p /u01/app/grid
# mkdir -p /u01/app/oracle
# chown grid:oinstall /u01/app/11.2.0/grid
# chown grid:oinstall /u01/app/grid
# chown oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/
# chown -R grid:oinstall /u01
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Placing Oracle Grid Infrastructure for a cluster binaries on a cluster file system is not supported.</div>
</div>
<!-- class="sect2" -->
<a id="BABJEHAA"></a>
<div id="CWAIX175" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.4.5</span> Creating Job Role Separation Operating System Privileges Groups and Users<a id="sthref116"></a></h3>
<p>A job role separation privileges configuration of Oracle ASM is a configuration with groups and users that divide administrative access privileges to the Oracle ASM installation from other administrative privileges users and groups associated with other Oracle installations. Administrative privileges access is granted by membership in separate operating system groups, and installation privileges are granted by using different installation owners for each Oracle installation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This configuration is optional, to restrict user access to Oracle software by responsibility areas for different administrator users.</div>
<p>If you prefer, you can allocate operating system user privileges so that you can use one administrative user and one group for operating system authentication for all system privileges on the storage and database tiers.</p>
<p>For example, you can designate the <code dir="ltr">oracle</code> user to be the installation owner for all Oracle software, and designate <code dir="ltr">oinstall</code> to be the group whose members are granted all system privileges for Oracle Clusterware, Oracle Automatic Storage Management, and all Oracle Databases on the servers, and all privileges as installation owners. This group must also be the Oracle Inventory group.</p>
<p>Oracle recommends that you use at least two groups: A system privileges group whose members are granted administrative system privileges, and an installation owner group (the oraInventory group) to provide separate installation privileges the <code dir="ltr">OINSTALL</code> privilege. To simplify using the defaults for Oracle tools such as Cluster Verification Utility, if you do choose to use a single operating system group to grant all system privileges and the right to write to the oraInventory, then that group name should be <code dir="ltr">oinstall</code>.</p>
<ul>
<li>
<p><a href="#CEGHGIJE">Overview of Creating Job Role Separation Groups and Users</a></p>
</li>
<li>
<p><a href="#CEGJCEIJ">Creating Database Groups and Users with Job Role Separation</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref117"></a><a id="sthref118"></a><a id="sthref119"></a>To use a directory service, such as Network Information Services (NIS), refer to your operating system documentation for further information.</div>
<a id="CEGHGIJE"></a>
<div id="CWAIX176" class="sect3">
<h4 class="sect3"><span class="secnum">2.4.5.1</span> Overview of Creating Job Role Separation Groups and Users</h4>
<p>This section provides an overview of how to create users and groups to use job role separation. Log in as <code dir="ltr">root</code> to create these groups and users.</p>
<ul>
<li>
<p><a href="#CEGFDHAE">Users for Oracle Installations with Job Role Separation</a></p>
</li>
<li>
<p><a href="#CEGJHIIH">Database Groups for Job Role Separation Installations</a></p>
</li>
<li>
<p><a href="#CEGGFCEE">Oracle ASM Groups for Job Role Separation Installations</a></p>
</li>
</ul>
<a id="CEGFDHAE"></a>
<div id="CWAIX177" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.1.1</span> Users for Oracle Installations with Job Role Separation</h5>
<p>Oracle recommends that you create the following operating system groups and users for all installations where you create separate software installation owners:</p>
<p><span class="bold">One software owner to own each Oracle software product</span> (typically, <code dir="ltr">oracle</code>, for the database software owner user, and <code dir="ltr">grid</code> for Oracle Grid Infrastructure.<a id="sthref120"></a><a id="sthref121"></a><a id="sthref122"></a><a id="sthref123"></a><a id="sthref124"></a><a id="sthref125"></a><a id="sthref126"></a><a id="sthref127"></a><a id="sthref128"></a><a id="sthref129"></a><a id="sthref130"></a></p>
<p>You must create at least one software owner the first time you install Oracle software on the system. This user owns the Oracle binaries of the Oracle Grid Infrastructure software, and you can also make this user the owner of the Oracle Database or Oracle RAC binaries.</p>
<p>Oracle software owners must have the Oracle Inventory group as their primary group, so that each Oracle software installation owner can write to the central inventory (<code dir="ltr">oraInventory</code>), and so that OCR and Oracle Clusterware resource permissions are set correctly. The database software owner must also have the OSDBA group and (if you create it) the OSOPER group as secondary groups. In Oracle documentation, when Oracle software owner users are referred to, they are called <code dir="ltr">oracle</code> users.</p>
<p>Oracle recommends that you create separate software owner users to own each Oracle software installation. Oracle particularly recommends that you do this if you intend to install multiple databases on the system.</p>
<p>In Oracle documentation, a user created to own the Oracle Grid Infrastructure binaries is called the <code dir="ltr">grid</code> user. This user owns both the Oracle Clusterware and Oracle Automatic Storage Management binaries.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../../rac.112/e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> and <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the OSDBA, OSASM and OSOPER groups and the <code dir="ltr">SYSDBA</code>, <code dir="ltr">SYSASM</code> and <code dir="ltr">SYSOPER</code> privileges</div>
</div>
<!-- class="sect4" -->
<a id="CEGJHIIH"></a>
<div id="CWAIX178" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.1.2</span> Database Groups for Job Role Separation Installations</h5>
<p>The following operating system groups and user are required if you are installing Oracle Database:</p>
<ul>
<li>
<p>The OSDBA group (typically, <code dir="ltr">dba</code>)<a id="sthref131"></a><a id="sthref132"></a><a id="sthref133"></a><a id="sthref134"></a><a id="sthref135"></a></p>
<p>You must create this group the first time you install Oracle Database software on the system. This group identifies operating system user accounts that have database administrative privileges (the <code dir="ltr">SYSDBA</code> privilege). If you do not create separate OSDBA, OSOPER and OSASM groups for the Oracle ASM instance, then operating system user accounts that have the <code dir="ltr">SYSOPER</code> and <code dir="ltr">SYSASM</code> privileges must be members of this group. The name used for this group in Oracle code examples is <code dir="ltr">dba</code>. <a id="sthref136"></a><a id="sthref137"></a>If you do not designate a separate group as the OSASM group, then the OSDBA group you define is also by default the OSASM group.</p>
<p>To specify a group name other than the default <code dir="ltr">dba</code> group, then you must choose the Advanced installation type to install the software or start Oracle Universal Installer (OUI) as a user that is not a member of this group. In this case, OUI prompts you to specify the name of this group.<a id="sthref138"></a></p>
<p>Members of the OSDBA group formerly were granted <code dir="ltr">SYSASM</code> privileges on Oracle ASM instances, including mounting and dismounting disk groups. This privileges grant is removed with Oracle Grid Infrastructure 11<span class="italic">g</span> release 2, if different operating system groups are designated as the OSDBA and OSASM groups. If the same group is used for both OSDBA and OSASM, then the privilege is retained.</p>
</li>
<li>
<p>The OSOPER group for Oracle Database (typically, <code dir="ltr">oper</code>)<a id="sthref139"></a><a id="sthref140"></a><a id="sthref141"></a><a id="sthref142"></a><a id="sthref143"></a></p>
<p>This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of database administrative privileges (the <code dir="ltr">SYSOPER</code> privilege). By default, members of the OSDBA group also have all privileges granted by the <code dir="ltr">SYSOPER</code> privilege.</p>
<p>To use the OSOPER group to create a database administrator group with fewer privileges than the default <code dir="ltr">dba</code> group, then you must choose the Advanced installation type to install the software or start OUI as a user that is not a member of the <code dir="ltr">dba</code> group. In this case, OUI prompts you to specify the name of this group. The usual name chosen for this group is <code dir="ltr">oper</code>.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<a id="CEGGFCEE"></a>
<div id="CWAIX179" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.1.3</span> <a id="sthref144"></a><a id="sthref145"></a><a id="sthref146"></a>Oracle ASM Groups for Job Role Separation Installations</h5>
<p><code dir="ltr">SYSASM</code> is a new system privilege that enables the separation of the Oracle ASM storage administration privilege from SYSDBA. With Oracle Automatic Storage Management 11<span class="italic">g</span> Release 2 (11.2), members of the database OSDBA group are not granted <code dir="ltr">SYSASM</code> privileges, unless the operating system group designated as the OSASM group is the same group designated as the OSDBA group.</p>
<p>Select separate operating system groups as the operating system authentication groups for privileges on Oracle ASM. Before you start OUI, create the following groups and users for Oracle ASM</p>
<ul>
<li>
<p><a id="sthref147"></a><a id="sthref148"></a><a id="sthref149"></a><a id="sthref150"></a>The Oracle Automatic Storage Management Group (typically <code dir="ltr">asmadmin</code>)</p>
<p>This is a required group. Create this group as a separate group if you want to have separate administration privilege groups for Oracle ASM and Oracle Database administrators. In Oracle documentation, the operating system group whose members are granted privileges is called the OSASM group, and in code examples, where there is a group specifically created to grant this privilege, it is referred to as <code dir="ltr">asmadmin</code>.</p>
<p>If you have multiple databases on your system, and use multiple OSDBA groups so that you can provide separate SYSDBA privileges for each database, then you should create a separate OSASM group, and use a separate user from the database users to own the Oracle Grid Infrastructure installation (Oracle Clusterware and Oracle ASM). Oracle ASM can support multiple databases.<a id="sthref151"></a><a id="sthref152"></a><a id="sthref153"></a><a id="sthref154"></a><a id="sthref155"></a><a id="sthref156"></a></p>
<p>Members of the OSASM group can use SQL to connect to an Oracle ASM instance as <code dir="ltr">SYSASM</code> using operating system authentication. The <code dir="ltr">SYSASM</code> privileges permit mounting and dismounting disk groups, and other storage administration tasks. <code dir="ltr">SYSASM</code> privileges provide no access privileges on an RDBMS instance.</p>
</li>
<li>
<p>The Oracle ASM Database Administrator group (OSDBA for ASM, typically <code dir="ltr">asmdba</code>)<a id="sthref157"></a><a id="sthref158"></a><a id="sthref159"></a></p>
<p>Members of the Oracle ASM Database Administrator group (OSDBA for ASM) are granted read and write access to files managed by Oracle ASM. The Oracle Grid Infrastructure installation owner and all Oracle Database software owners must be a member of this group, and all users with OSDBA membership on databases that have access to the files managed by Oracle ASM must be members of the OSDBA group for ASM.</p>
</li>
<li>
<p><a id="sthref160"></a>Members of the Oracle ASM Operator Group (OSOPER for ASM, typically <code dir="ltr">asmoper</code>)</p>
<p>This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of Oracle ASM instance administrative privileges (the SYSOPER for ASM privilege), including starting up and stopping the Oracle ASM instance. By default, members of the OSASM group also have all privileges granted by the SYSOPER for ASM privilege.</p>
<p>To use the Oracle ASM Operator group to create an ASM administrator group with fewer privileges than the default <code dir="ltr">asmadmin</code> group, then you must choose the Advanced installation type to install the software, In this case, OUI prompts you to specify the name of this group. In code examples, this group is <code dir="ltr">asmoper</code>.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CEGJCEIJ"></a>
<div id="CWAIX180" class="sect3">
<h4 class="sect3"><span class="secnum">2.4.5.2</span> Creating Database Groups and Users with Job Role Separation</h4>
<p>The following sections describe how to create the required operating system user and groups:.</p>
<ul>
<li>
<p><a href="#CEGDHIJB">Creating the OSDBA Group to Prepare for Database Installations</a></p>
</li>
<li>
<p><a href="#CEGBCJFD">Creating an OSOPER Group for Database Installations</a></p>
</li>
<li>
<p><a href="#CEGGAJDG">Creating the OSASM Group</a></p>
</li>
<li>
<p><a href="#CEGECJGA">Creating the OSOPER for ASM Group</a></p>
</li>
<li>
<p><a href="#CEGGEDCB">Creating the OSDBA for ASM Group for Database Access to Oracle ASM</a></p>
</li>
<li>
<p><a href="#CEGEBBDJ">When to Create the Oracle Software Owner User</a></p>
</li>
<li>
<p><a href="#CEGGBAGI">Determining if an Oracle Software Owner User Exists</a></p>
</li>
<li>
<p><a href="#CEGCDBDG">Creating an Oracle Software Owner User</a></p>
</li>
<li>
<p><a href="#CEGJBAAJ">Modifying an Existing Oracle Software Owner User</a></p>
</li>
<li>
<p><a href="#CEGFJEAF">Creating Identical Database Users and Groups on Other Cluster Nodes</a></p>
</li>
</ul>
<a id="CEGDHIJB"></a>
<div id="CWAIX181" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.1</span> Creating the OSDBA Group to Prepare for Database Installations<a id="sthref161"></a><a id="sthref162"></a></h5>
<p>If you intend to install Oracle Database to use with the Oracle Grid Infrastructure installation, then you must create an OSDBA group in the following circumstances:</p>
<ul>
<li>
<p>An OSDBA group does not exist; for example, if this is the first installation of Oracle Database software on the system</p>
</li>
<li>
<p>An OSDBA group exists, but you want to give a different group of operating system users database administrative privileges for a new Oracle Database installation</p>
</li>
</ul>
<p>If the OSDBA group does not exist, or if you require a new OSDBA group, then create it either by using <code dir="ltr">smit</code> or by using shell command lines. Use the group name <code dir="ltr">dba</code> unless a group with that name already exists. For example:</p>
<pre dir="ltr">
# mkgroup -'A' id='1031' adms='root' dba
</pre></div>
<!-- class="sect4" -->
<a id="CEGBCJFD"></a>
<div id="CWAIX182" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.2</span> Creating an OSOPER Group for Database Installations<a id="sthref163"></a></h5>
<p>Create an OSOPER group only if you want to identify a group of operating system users with a limited set of database administrative privileges (SYSOPER operator privileges). For most installations, it is sufficient to create only the OSDBA group. To use an OSOPER group, then you must create it in the following circumstances:</p>
<ul>
<li>
<p>If an OSOPER group does not exist; for example, if this is the first installation of Oracle Database software on the system</p>
</li>
<li>
<p>If an OSOPER group exists, but you want to give a different group of operating system users database operator privileges in a new Oracle installation</p>
</li>
</ul>
<p>If you require a new OSOPER group, then create it either by using <code dir="ltr">smit</code> or by using shell command lines. Use the group name <code dir="ltr">oper</code> unless a group with that name already exists.</p>
<pre dir="ltr">
# mkgroup -'A' id='1032' adms='root' oper1
</pre></div>
<!-- class="sect4" -->
<a id="CEGGAJDG"></a>
<div id="CWAIX183" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.3</span> Creating the OSASM Group<a id="sthref164"></a><a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a></h5>
<p>If the OSASM group does not exist or if you require a new OSASM group, then create it either by using <code dir="ltr">smit</code> or by using shell command lines. Use the group name <code dir="ltr">asmadmin</code> unless a group with that name already exists:</p>
<pre dir="ltr">
# mkgroup -'A' id='1020' adms='root' asmadmin
</pre></div>
<!-- class="sect4" -->
<a id="CEGECJGA"></a>
<div id="CWAIX184" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.4</span> <a id="sthref168"></a>Creating the OSOPER for ASM Group</h5>
<p>Create an OSOPER for ASM group if you want to identify a group of operating system users, such as database administrators, whom you want to grant a limited set of Oracle ASM storage tier administrative privileges, including the ability to start up and shut down the Oracle ASM storage. For most installations, it is sufficient to create only the OSASM group, and provide that group as the OSOPER for ASM group during the installation interview.</p>
<p>If you require a new OSOPER for ASM group, then create it either by using <code dir="ltr">smit</code> or by using shell command lines. Use the group name <code dir="ltr">asmoper</code> unless a group with that name already exists:</p>
<pre dir="ltr">
# mkgroup -'A' id='1022' adms='root' asmoper
</pre></div>
<!-- class="sect4" -->
<a id="CEGGEDCB"></a>
<div id="CWAIX185" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.5</span> Creating the OSDBA for ASM Group for Database Access to Oracle ASM<a id="sthref169"></a><a id="sthref170"></a><a id="sthref171"></a></h5>
<p>You must create an OSDBA for ASM group to provide access to the Oracle ASM instance. This is necessary if OSASM and OSDBA are different groups.</p>
<p>If the OSDBA for ASM group does not exist or if you require a new OSDBA for ASM group, then create it either by using <code dir="ltr">smit</code> or by using shell command lines. Use the group name <code dir="ltr">asmdba</code> unless a group with that name already exists. For example:</p>
<pre dir="ltr">
# mkgroup -'A' id='1021' adms='root' asmdba
</pre></div>
<!-- class="sect4" -->
<a id="CEGEBBDJ"></a>
<div id="CWAIX186" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.6</span> When to Create the Oracle Software Owner User<a id="sthref172"></a><a id="sthref173"></a><a id="sthref174"></a><a id="sthref175"></a></h5>
<p>You must create an Oracle software owner user in the following circumstances:</p>
<ul>
<li>
<p>If an Oracle software owner user exists, but you want to use a different operating system user, with different group membership, to give database administrative privileges to those groups in a new Oracle Database installation</p>
</li>
<li>
<p>If you have created an Oracle software owner for Oracle Grid Infrastructure, such as <code dir="ltr">grid</code>, and you want to create a separate Oracle software owner for Oracle Database software, such as <code dir="ltr">oracle</code>.</p>
</li>
</ul>
<a id="CEGGBAGI"></a>
<div id="CWAIX187" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.7</span> Determining if an Oracle Software Owner User Exists<a id="sthref176"></a><a id="sthref177"></a><a id="sthref178"></a><a id="sthref179"></a></h5>
<p>To determine whether an Oracle software owner user named <code dir="ltr">oracle</code> or <code dir="ltr">grid</code> exists, enter a command similar to the following (in this case, to determine if <code dir="ltr">oracle</code> exists):</p>
<pre dir="ltr">
# id oracle
</pre>
<p>If the user exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">
uid=501(oracle) gid=501(oinstall) groups=502(dba),503(oper)
</pre>
<p>Determine whether you want to use the existing user, or create another user. To use the existing user, ensure that the user's primary group is the Oracle Inventory group and that it is a member of the appropriate OSDBA and OSOPER groups. Refer to one of the following sections for more information:</p>
<ul>
<li>
<p>To modify an existing user, refer to <a href="#CEGJBAAJ">Section 2.4.5.2.9, "Modifying an Existing Oracle Software Owner User"</a>.</p>
</li>
<li>
<p>To create a user, refer to the following section.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If necessary, contact your system administrator before using or modifying an existing user.
<p><a id="sthref180"></a><a id="sthref181"></a>Oracle recommends that you do not use the UID and GID defaults on each node, as group and user IDs likely will be different on each node. Instead, provide common assigned group and user IDs, and confirm that they are unused on any node before you create or modify groups and users.</p>
</div>
</div>
<!-- class="sect4" -->
<a id="CEGCDBDG"></a>
<div id="CWAIX188" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.8</span> Creating an Oracle Software Owner User<a id="sthref182"></a></h5>
<p>If the Oracle software owner user does not exist, or if you require a new Oracle software owner user, then create it as follows. Use the user name <code dir="ltr">oracle</code> unless a user with that name already exists.</p>
<ol>
<li>
<p>To create an <code dir="ltr">oracle</code> user, use <code dir="ltr">smit</code> or enter a command similar to the following:<a id="sthref183"></a><a id="sthref184"></a></p>
<pre dir="ltr">
# mkuser id='1101' pgrp='oinstall' groups='dba,asmdba' home='/home/oracle' oracle
</pre></li>
<li>
<p>Set the password of the <code dir="ltr">oracle</code> user:</p>
<pre dir="ltr">
# passwd oracle
</pre></li>
</ol>
</div>
<!-- class="sect4" -->
<a id="CEGJBAAJ"></a>
<div id="CWAIX189" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.9</span> Modifying an Existing Oracle Software Owner User</h5>
<p>If the <code dir="ltr">oracle</code> user exists, but its primary group is not <code dir="ltr">oinstall</code>, or it is not a member of the appropriate OSDBA or OSDBA for ASM groups, then update it using <code dir="ltr">smit</code>:</p>
<ol>
<li>
<p>Start SMIT by entering <code dir="ltr">smit</code> at the shell prompt.</p>
</li>
<li>
<p>From the Main Menu, make the following selections:</p>
<ul>
<li>
<p>Security and Users</p>
</li>
<li>
<p>Groups</p>
</li>
<li>
<p>Change/Show Characteristics of a Group</p>
</li>
</ul>
<p>The utility displays a form in which you can type the name of a specific group.</p>
</li>
<li>
<p>Either fill in the group name or use the F4 key to highlight a group name and press the <span class="bold">Enter</span> key.</p>
<p>The utility displays a form that provides the following fields:</p>
<ul>
<li>
<p>Group NAME, which is the group name for the account.</p>
</li>
<li>
<p>Group ID, which is the Group Identification Number (GID).</p>
</li>
<li>
<p>User list, which is a list of users who are members of the group. Use the F4 key to display a list of available users and the F7 key to mark the users you want to add.</p>
</li>
</ul>
</li>
<li>
<p>Modify these fields as needed and press the Enter key to exit the form.</p>
</li>
</ol>
</div>
<!-- class="sect4" --></div>
<!-- class="sect4" -->
<a id="CEGFJEAF"></a>
<div id="CWAIX190" class="sect4">
<h5 class="sect4"><span class="secnum">2.4.5.2.10</span> Creating Identical Database Users and Groups on Other Cluster Nodes<a id="sthref185"></a><a id="sthref186"></a><a id="sthref187"></a><a id="sthref188"></a><a id="sthref189"></a><a id="sthref190"></a></h5>
<p><a id="sthref191"></a><a id="sthref192"></a><a id="sthref193"></a><a id="sthref194"></a><a id="sthref195"></a><a id="sthref196"></a><a id="sthref197"></a><a id="sthref198"></a><a id="sthref199"></a><a id="sthref200"></a><a id="sthref201"></a><a id="sthref202"></a><a id="sthref203"></a>Oracle software owner users and the Oracle Inventory, OSDBA, and OSOPER groups must exist and be identical on all cluster nodes. To create these identical users and groups, you must identify the user ID and group IDs assigned them on the node where you created them, and then create the user and groups with the same name and ID on the other cluster nodes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must complete the following procedures only if you are using local users and groups. If you are using users and groups defined in a directory service such as NIS, then they are already identical on each cluster node.</div>
<p class="subhead2"><a id="CWAIX191"></a><a id="sthref204"></a><a id="sthref205"></a><a id="sthref206"></a><a id="sthref207"></a><a id="sthref208"></a><a id="sthref209"></a>Identifying Existing User and Group IDs</p>
<p>To determine the user ID (UID) of the <code dir="ltr">grid</code> or <code dir="ltr">oracle</code> users, and the group IDs (GID) of the existing Oracle groups, follow these steps:</p>
<ol>
<li>
<p>Enter a command similar to the following (in this case, to determine a user ID for the <code dir="ltr">oracle</code> user):</p>
<pre dir="ltr">
# id oracle
</pre>
<p>The output from this command is similar to the following:</p>
<pre dir="ltr">
uid=502(oracle) gid=501(oinstall) groups=502(dba),503(oper),506(asmdba)
</pre></li>
<li>
<p>From the output, identify the user ID (<code dir="ltr">uid</code>) for the user and the group identities (<code dir="ltr">gid</code>) for the groups to which it belongs. Ensure that these ID numbers are identical on each node of the cluster. The user's primary group is listed after <code dir="ltr">gid</code>. Secondary groups are listed after <code dir="ltr">groups</code>.</p>
</li>
</ol>
<p class="subhead2"><a id="CWAIX192"></a>Creating Users and Groups on the Other Cluster Nodes<a id="sthref210"></a><a id="sthref211"></a><a id="sthref212"></a><a id="sthref213"></a><a id="sthref214"></a><a id="sthref215"></a><a id="sthref216"></a><a id="sthref217"></a></p>
<p>To create users and groups on the other cluster nodes, repeat the following procedure on each node:</p>
<ol>
<li>
<p>Log in to the next cluster node as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Create groups and users as needed, either by using <code dir="ltr">smit</code> or by entering command lines. To use command line entries, enter commands similar to the following to create the <code dir="ltr">oinstall</code>, <code dir="ltr">asmadmin</code>, and <code dir="ltr">asmdba</code> groups, and if required, the <code dir="ltr">asmoper</code>, <code dir="ltr">dba</code>, and <code dir="ltr">oper</code> groups. Use the <code dir="ltr">id</code> option to specify the correct <code dir="ltr">gid</code> for each group.<a id="sthref218"></a></p>
<pre dir="ltr">
# mkgroup -'A' id='1000' adms='root' oinstall 
# mkgroup -'A' id='1020' adms='root' asmadmin
# mkgroup -'A' id='1021' adms='root' asmdba
# mkgroup -'A' id='1022' adms='root' asmoper
# mkgroup -'A' id='1031' adms='root' dba
# mkgroup -'A' id='1032' adms='root' oper
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the group already exists, then use <code dir="ltr">smit</code> to modify it if necessary. If you cannot use the same group ID for a particular group on this node, then view the <code dir="ltr">/etc/group</code> file on all nodes to identify a group ID that <span class="italic">is</span> available on every node. You must then change the group ID on all nodes to the same group ID.</div>
</li>
<li>
<p>To create the <code dir="ltr">oracle</code> or Oracle Grid Infrastructure (<code dir="ltr">grid</code>) user, use <code dir="ltr">smit</code> or enter a command similar to the following (in this example, to create the <code dir="ltr">oracle</code> user):<a id="sthref219"></a><a id="sthref220"></a></p>
<pre dir="ltr">
# mkuser id='1001' pgrp='oinstall' groups='dba,asmdba' home='/home/oracle' oracle
</pre>
<p>In the preceding command:</p>
<ul>
<li>
<p>The <code dir="ltr">id</code> option specifies the user ID, which must be the user ID that you identified in the previous subsection</p>
</li>
<li>
<p>The <code dir="ltr">pgrp</code> option specifies the primary group, which must be the Oracle Inventory group, for example <code dir="ltr">oinstall</code></p>
</li>
<li>
<p>The <code dir="ltr">groups</code> option specifies the secondary groups, which can include the OSASM, OSDBA, OSDBA for ASM, and OSOPER or OSOPER for ASM groups. For example:</p>
<ul>
<li>
<p>A grid installation owner: OSASM (<code dir="ltr">asmadmin</code>), whose members are granted the SYSASM privilege</p>
</li>
<li>
<p>An Oracle Database installation owner without SYSASM privileges access: OSDBA (<code dir="ltr">dba</code>), OSDBA for ASM (<code dir="ltr">asmdba</code>), OSOPER for ASM (<code dir="ltr">asmoper</code>)</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the user already exists, then use <code dir="ltr">smit</code> to modify it if necessary. If you cannot use the same user ID for the user on every node, then view the <code dir="ltr">/etc/passwd</code> file on all nodes to identify a user ID that <span class="italic">is</span> available on every node. You must then specify that ID for the user on all of the nodes.</div>
</li>
</ul>
</li>
<li>
<p>Set the password of the user. For example:<a id="sthref221"></a><a id="sthref222"></a></p>
<pre dir="ltr">
# passwd oracle
</pre></li>
<li>
<p>Complete user environment configuration tasks for each user as described in <a href="#CEGHGGEH">Section 2.14.1, "Environment Requirements for Oracle Grid Infrastructure Software Owner."</a></p>
</li>
</ol>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABCGBDD"></a>
<div id="CWAIX193" class="sect2">
<h3 class="sect2"><span class="secnum">2.4.6</span> Example of Creating Standard Groups, Users, and Paths</h3>
<p>The following is an example of how to use command lines to create the Oracle Inventory group (<code dir="ltr">oinstall</code>), and a single group (<code dir="ltr">dba</code>) as the OSDBA, OSASM and OSDBA for ASM groups. In addition, it shows how to create the Oracle Grid Infrastructure software owner (<code dir="ltr">grid</code>), and one Oracle Database owner (<code dir="ltr">oracle</code>) with correct group memberships. This example also shows how to configure an Oracle base path compliant with OFA structure with correct permissions:</p>
<pre dir="ltr">
# mkgroup -'A' id='1000' adms='root' oinstall 
# mkgroup -'A' id='1031' adms='root' dba
# mkuser id='1100' pgrp='oinstall' groups='dba' home='/home/grid' grid
# mkuser id='1101' pgrp='oinstall' groups='dba' home='/home/oracle' oracle
# mkdir -p  /u01/app/grid
# chown -R grid:oinstall /u01
# mkdir /u01/app/oracle
# chown oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/
</pre>
<p>After running these commands, you have the following groups and users:</p>
<ul>
<li>
<p>An Oracle central inventory group, or oraInventory group (<code dir="ltr">oinstall</code>). Members who have the central inventory group as their primary group, are granted the OINSTALL permission to write to the <code dir="ltr">oraInventory</code> directory.</p>
</li>
<li>
<p>A single system privileges group that is used as the OSASM, OSDBA, OSDBA for ASM, and OSOPER for ASM group (<code dir="ltr">dba</code>), whose members are granted the SYSASM and SYSDBA privilege to administer Oracle Clusterware, Oracle ASM, and Oracle Database, and are granted SYSASM and OSOPER for ASM access to the Oracle ASM storage.</p>
</li>
<li>
<p>An Oracle grid installation for a cluster owner (<code dir="ltr">grid</code>), with the oraInventory group as its primary group, and with the OSASM group as the secondary group, with its Oracle base directory <code dir="ltr">/u01/app/grid</code>.</p>
</li>
<li>
<p>An Oracle Database owner (<code dir="ltr">oracle</code>) with the oraInventory group as its primary group, and the OSDBA group as its secondary group, with its Oracle base directory <code dir="ltr">/u01/app/oracle</code>.</p>
</li>
<li>
<p><code dir="ltr">/u01/app</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions before installation, and by root after the root.sh script is run during installation. This ownership and permissions enables OUI to create the Oracle Inventory directory, in the path <code dir="ltr">/u01/app/oraInventory</code>.</p>
</li>
<li>
<p><code dir="ltr">/u01</code> owned by <code dir="ltr">grid:oinstall</code> before installation, and by <code dir="ltr">root</code> after the <code dir="ltr">root.sh</code> script is run during installation.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/11.2.0/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions. These permissions are required for installation, and are changed during the installation process.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/grid</code> owned by grid:oinstall with 775 permissions before installation, and 755 permissions after installation.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/oracle</code> owned by <code dir="ltr">oracle:oinstall</code> with 775 permissions.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABGBGGI"></a>
<div id="CWAIX194" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.4.7</span> Example of Creating Role-allocated Groups, Users, and Paths</h3>
<p>The following is an example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment:</p>
<pre dir="ltr">
# mkgroup -'A' id='1000' adms='root' oinstall
# mkgroup -'A' id='1020' adms='root' asmadmin
# mkgroup -'A' id='1021' adms='root' asmdba
# mkgroup -'A' id='1031' adms='root' dba1
# mkgroup -'A' id='1041' adms='root' dba2
# mkgroup -'A' id='1022' adms='root' asmoper
# mkuser id='1100' pgrp='oinstall' groups='asmadmin' home='/home/grid' grid
# mkuser id='1101' pgrp='oinstall' groups='dba1,asmdba' home='/home/oracle' oracle1
# mkuser id='1102' pgrp='oinstall' groups='dba2,asmdba' home='/home/oracle' oracle2
# mkdir -p  /u01/app/11.2.0/grid
# mkdir -p /u01/app/grid
# chown -R grid:oinstall /u01/app/grid
# mkdir -p /u01/app/oracle1
# chown oracle1:oinstall /u01/app/oracle1
# mkdir -p /u01/app/oracle2
# chown oracle2:oinstall /u01/app/oracle2
# chmod -R 775 /u01
</pre>
<p>After running these commands, you have the following groups and users:</p>
<ul>
<li>
<p>An Oracle central inventory group, or oraInventory group (<code dir="ltr">oinstall</code>), whose members that have this group as their primary group are granted permissions to write to the <code dir="ltr">oraInventory</code> directory.</p>
</li>
<li>
<p>A separate OSASM group (<code dir="ltr">asmadmin</code>), whose members are granted the SYSASM privilege to administer Oracle Clusterware and Oracle ASM.</p>
</li>
<li>
<p>A separate OSDBA for ASM group (<code dir="ltr">asmdba</code>), whose members include <code dir="ltr">grid</code>, <code dir="ltr">oracle1</code> and <code dir="ltr">oracle2</code>, and who are granted access to Oracle ASM.</p>
</li>
<li>
<p>A separate OSOPER for ASM group (<code dir="ltr">asmoper</code>), whose members are granted limited Oracle ASM administrator privileges, including the permissions to start and stop the Oracle ASM instance.</p>
</li>
<li>
<p>An Oracle grid installation for a cluster owner (<code dir="ltr">grid</code>), with the oraInventory group as its primary group, and with the OSASM (<code dir="ltr">asmadmin</code>), OSDBA for ASM (asmdba) group as a secondary group.</p>
</li>
<li>
<p>Two separate OSDBA groups for two different databases (<code dir="ltr">dba1</code> and <code dir="ltr">dba2</code>) to establish separate SYSDBA privileges for each database.</p>
</li>
<li>
<p>Two Oracle Database software owners (<code dir="ltr">oracle1</code> and <code dir="ltr">oracle2</code>), to divide ownership of the Oracle database binaries, with the OraInventory group as their primary group, and the OSDBA group for their database (<code dir="ltr">dba1</code> or <code dir="ltr">dba2</code>) and the OSDBA for ASM group (<code dir="ltr">asmdba</code>) as their secondary groups.</p>
</li>
<li>
<p>An OFA-compliant mount point <code dir="ltr">/u01</code> owned by <code dir="ltr">grid:oinstall</code> before installation.</p>
</li>
<li>
<p>An Oracle base for the grid installation owner <code dir="ltr">/u01/app/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions, and changed during the installation process to 755 permissions.</p>
</li>
<li>
<p>An Oracle base <code dir="ltr">/u01/app/oracle</code>1 owned by <code dir="ltr">oracle1:oinstall</code> with 775 permissions.</p>
</li>
<li>
<p>An Oracle base <code dir="ltr">/u01/app/oracle</code> 2 owned by <code dir="ltr">oracle2:oinstall</code> with 775 permissions.</p>
</li>
<li>
<p>A Grid home <code dir="ltr">/u01/app/11.2.0/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 (<code dir="ltr">drwxdrwxr-x</code>) permissions. These permissions are required for installation, and are changed during the installation process to <code dir="ltr">root:oinstall</code> with 755 permissions (<code dir="ltr">drwxr-xr-x</code>).</p>
</li>
<li>
<p><code dir="ltr">/u01/app/oraInventory</code>. This path remains owned by <code dir="ltr">grid:oinstall</code>, to enable other Oracle software owners to write to the central inventory.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGCAIFE"></a>
<div id="CWAIX195" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.5</span> Checking the Hardware Requirements<a id="sthref223"></a><a id="sthref224"></a><a id="sthref225"></a><a id="sthref226"></a><a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a></h2>
<ul>
<li>
<p>Select servers with the same instruction set architecture.</p>
</li>
<li>
<p><a id="sthref230"></a><a id="sthref231"></a>Ensure that the server is started with run level 2 (default or Normal Multi-User mode).</p>
</li>
<li>
<p>Ensure servers run the same operating system level, APARs and filesets. Oracle Grid Infrastructure installations and Oracle Real Application Clusters (Oracle RAC) support servers with different hardware in the same cluster.</p>
</li>
</ul>
<p>Each system must meet the following minimum hardware requirements:</p>
<ul>
<li>
<p>At least 2.5 GB of RAM for Oracle Grid Infrastructure for a Cluster installations, including installations where you plan to install Oracle RAC.</p>
</li>
<li>
<p>At least 1024 x 768 display resolution, so that Oracle Universal Installer (OUI) displays correctly</p>
</li>
<li>
<p>Swap space equivalent to the multiple of the available RAM, as indicated in the following table:</p>
<div class="inftblinformal">
<table class="cellalignment2446" title="Swap Space Size Requirements" summary="Table containing swap space requirements, depending on the amount of RAM on your system." dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t20">Available RAM</th>
<th class="cellalignment2447" id="r1c2-t20">Swap Space Required</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t20" headers="r1c1-t20">Between 2.5 GB and 16 GB</td>
<td class="cellalignment2441" headers="r2c1-t20 r1c2-t20">Equal to the size of RAM</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t20" headers="r1c1-t20">More than 16 GB</td>
<td class="cellalignment2441" headers="r3c1-t20 r1c2-t20">16 GB</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></li>
<li>
<p>1 GB of disk space in the <code dir="ltr">/tmp</code> directory</p>
</li>
<li>
<p><a id="sthref232"></a>13 GB of space for the Oracle Grid Infrastructure for a cluster home (Grid home) This includes Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) files and log files, Oracle ACFS log files, and the Cluster Health Monitor repository.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you intend to install Oracle Databases or an Oracle RAC database on the cluster, be aware that the size of the <code dir="ltr">/dev/shm</code> mount area on each server must be greater than the system global areal (SGA) and the program global area (PGA) of the databases on the servers. Review expected SGA and PGA sizes with database administrators, to ensure that you do not have to increase <code dir="ltr">/dev/shm</code> after databases are installed on the cluster.</div>
</li>
<li>
<p>7.5 GB of disk space for the Oracle Database files (Oracle base)<a id="sthref233"></a></p>
</li>
<li>
<p>2 GB of disk space for a preconfigured database that uses file system storage (optional)</p>
<p>If you choose to configure automated backups, then you require additional disk space, either on a file system or in an Oracle Automatic Storage Management disk group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../../server.112/e18951/toc.htm"><span class="italic">Oracle Database Storage Administrator's Guide</span></a></div>
</li>
<li>
<p>Upto 10 GB of additional space in the Oracle base directory of the Grid Infrastructure owner for diagnostic collections generated by Trace File Analyzer and Collector.</p>
</li>
</ul>
<p>To ensure that each system meets these requirements, follow these steps:</p>
<ol>
<li>
<p>To determine the physical RAM size, enter the following command:</p>
<pre dir="ltr">
# /usr/sbin/lsattr -E -l sys0 -a realmem
</pre>
<p>If the size of the physical RAM installed in the system is less than the required size, then you must install more memory before continuing.</p>
</li>
<li>
<p>To determine the available RAM and swap space, enter the following command:</p>
<pre dir="ltr">
# /usr/sbin/lsps -s
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Oracle recommends that you take multiple values for the available RAM and swap space before finalizing a value. This is because the available RAM and swap space keep changing depending on the user interactions with the computer.</p>
</li>
<li>
<p>Contact your operating system vendor for swap space allocation guidance for your server. The vendor guidelines supersede the swap space requirements listed in this guide.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To determine the size of the configured swap space, enter the following command:</p>
<pre dir="ltr">
# /usr/sbin/lsps -a
</pre>
<p><a id="sthref234"></a><a id="sthref235"></a><a id="sthref236"></a><a id="sthref237"></a><a id="sthref238"></a><a id="sthref239"></a><a id="sthref240"></a>If necessary, refer to your operating system documentation for information about how to configure additional swap space.</p>
</li>
<li>
<p>To determine the amount of disk space available in the <code dir="ltr">/tmp</code> directory, enter the following command:</p>
<pre dir="ltr">
# /usr/bin/df -k /tmp
</pre>
<p><a id="sthref241"></a><a id="sthref242"></a><a id="sthref243"></a>If there is less than 1 GB of disk space available in the <code dir="ltr">/tmp</code> directory, then complete one of the following steps:</p>
<ul>
<li>
<p>Delete unnecessary files from the <code dir="ltr">/tmp</code> directory to make available the disk space required.</p>
</li>
<li>
<p>Set the TEMP and TMPDIR environment variables when setting the <code dir="ltr">oracle</code> user's environment.</p>
</li>
<li>
<p>Extend the file system that contains the <code dir="ltr">/tmp</code> directory. If necessary, contact your system administrator for information about extending file systems.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CEGDIIDG">Section 2.14, "Configuring Grid Infrastructure Software Owner User Environments"</a></div>
</li>
<li>
<p><a id="sthref244"></a>To determine the amount of free disk space on the system, use one of the following commands, depending on where you intend to place Oracle Clusterware files:</p>
<p>GPFS:</p>
<pre dir="ltr">
# /usr/bin/df -k
</pre>
<p>Raw Logical Volumes in Concurrent VG (HACMP)<a id="sthref245"></a>: in the following example, the variable <code dir="ltr"><span class="codeinlineitalic">lv_name</span></code> is the name of the raw logical volume whose space you want to verify:</p>
<pre dir="ltr">
# lslv <span class="italic">lv_name</span>
</pre>
<p>Raw hard disks; in the following example, the variable <code dir="ltr"><span class="codeinlineitalic">rhdisk#</span></code> is the raw hard disk number that you want to verify, and the variable <code dir="ltr"><span class="codeinlineitalic">size_mb</span></code> is the size in megabytes of the partition that you want to verify:</p>
<pre dir="ltr">
# lsattr -El <span class="italic">rhdisk#</span> -a <span class="italic">size_mb</span>
</pre></li>
<li>
<p>To determine if the system is started in 64-bit mode, enter the following command:</p>
<pre dir="ltr">
# bootinfo -K
</pre>
<p>The result of this command should be 64, indicating that the 64-bit kernel is enabled.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CEGFGHFE"></a>
<div id="CWAIX196" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.6</span> Checking the Network Requirements</h2>
<p>Review the following sections to check that you have the networking hardware and internet protocol (IP) addresses required for an Oracle Grid Infrastructure for a cluster installation:</p>
<ul>
<li>
<p><a href="#BABBEHAG">Network Hardware Requirements</a></p>
</li>
<li>
<p><a href="#BABJAACB">IP Address Requirements</a></p>
</li>
<li>
<p><a href="#BABHDBEE">Broadcast Requirements for Networks Used by Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABDJDJJ">Multicast Requirements for Networks Used by Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABHJFFG">DNS Configuration for Domain Delegation to Grid Naming Service</a></p>
</li>
<li>
<p><a href="#BABGFHGJ">Grid Naming Service Configuration Example</a></p>
</li>
<li>
<p><a href="#BABJCFBB">Manual IP Address Configuration Example</a></p>
</li>
<li>
<p><a href="#BABCAIFA">Network Interface Configuration Options</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For the most up-to-date information about supported network protocols and hardware for Oracle RAC installations, refer to the Certification pages on the My Oracle Support Web site at the following URL:
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></div>
<a id="BABBEHAG"></a>
<div id="CWAIX197" class="sect2">
<h3 class="sect2"><span class="secnum">2.6.1</span> Network Hardware Requirements</h3>
<p>The following is a list of requirements for network configuration:</p>
<ul>
<li>
<p>Each node must have at least two network adapters or network interface cards (NICs): one for the public network interface, and one for the private network interface (the interconnect).</p>
<p><a id="sthref246"></a><a id="sthref247"></a>With Redundant Interconnect Usage, you should identify multiple interfaces to use for the cluster private network, without the need of using bonding or other technologies. This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2).</p>
<p>When you define multiple interfaces, Oracle Clusterware creates from one to four highly available IP (HAIP) addresses. Oracle RAC and Oracle ASM instances use these interface addresses to ensure highly available, load-balanced interface communication between nodes. The installer enables Redundant Interconnect Usage to provide a high availability private network.</p>
<p>By default, Oracle Grid Infrastructure software uses all of the HAIP addresses for private network communication, providing load-balancing across the set of interfaces you identify for the private network. If a private interconnect interface fails or become non-communicative, then Oracle Clusterware transparently moves the corresponding HAIP address to one of the remaining functional interfaces.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you define more than four interfaces as private network interfaces, be aware that Oracle Clusterware activates only four of the interfaces at a time. However, if one of the four active interfaces fails, then Oracle Clusterware transitions the HAIP addresses configured to the failed interface to one of the reserve interfaces in the defined set of private interfaces.</div>
<p>When you upgrade a node to Oracle Grid Infrastructure 11g release 2 (11.2.0.2) and later, the upgraded system uses your existing network classifications.</p>
<p>To configure multiple public interfaces, use a third-party technology for your platform to aggregate the multiple public interfaces before you start installation, and then select the single interface name for the combined interfaces as the public interface. Oracle recommends that you do not identify multiple public interface names during Oracle Grid Infrastructure installation. Note that if you configure two network interfaces as public network interfaces in the cluster without using an aggregation technology, the failure of one public interface on a node does not result in automatic VIP failover to the other public interface.</p>
<p>Oracle recommends that you use the Redundant Interconnect Usage feature to make use of multiple interfaces for the private network. However, you can also use third-party technologies to provide redundancy for the private network.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
NIC bonding is not required to use multiple NICs. During installation, you are given the opportunity to specify the planned use for all interfaces detected by the Installer. Oracle Clusterware uses all NICs that you identify as Private for the private interconnect.
<p>Redundant Interconnect Usage requires a complete release 11.2.0.2 or higher stack (Oracle Grid Infrastructure and Oracle Databases). Prior release Oracle Databases cannot use this feature, and must use third-party NIC bonding technologies. If you consolidate different database releases in one cluster, and use databases prior to Oracle Database release 11.2.0.2, then you may require both technologies.</p>
</div>
</li>
<li>
<p>If you install Oracle Clusterware using OUI, then the public interface names associated with the network adapters for each network must be the same on all nodes, and the private interface names associated with the network adaptors should be the same on all nodes. This restriction does not apply if you use cloning, either to create a new cluster, or to add nodes to an existing cluster.</p>
<p>For example: With a two-node cluster, you cannot configure network adapters on <code dir="ltr">node1</code> with <code dir="ltr">eth0</code> as the public interface, but on <code dir="ltr">node2</code> have <code dir="ltr">eth1</code> as the public interface. Public interface names must be the same, so you must configure <code dir="ltr">eth0</code> as public on <span class="italic">both</span> nodes. You should configure the private interfaces on the same network adapters as well. If <code dir="ltr">eth1</code> is the private interface for <code dir="ltr">node1</code>, then <code dir="ltr">eth1</code> should be the private interface for <code dir="ltr">node2</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD03202" href="../../rac.112/e41959/clonecluster.htm#CWADD03202"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to add nodes using cloning</div>
</li>
<li>
<p>For the public network, each network adapter must support TCP/IP.</p>
</li>
<li>
<p>For the private network, the interface must support the user datagram protocol (UDP) using high-speed network adapters and switches that support TCP/IP (minimum requirement 1 Gigabit Ethernet).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
UDP is the default interface protocol for Oracle RAC, and TCP is the interconnect protocol for Oracle Clusterware. You must use a switch for the interconnect. Oracle recommends that you use a dedicated switch.
<p>Oracle does not support token-rings or crossover cables for the interconnect.</p>
</div>
</li>
<li>
<p>Each node's private interface for interconnects must be on the same subnet, and those subnets must connect to every node of the cluster. For example, if the private interfaces have a subnet mask of 255.255.255.0, then your private network is in the range 192.168.0.0--192.168.0.255, and your private addresses must be in the range of 192.168.0.[0-255]. If the private interfaces have a subnet mask of 255.255.0.0, then your private addresses can be in the range of 192.168.[0-255].[0-255].</p>
<p>For clusters using Redundant Interconnect Usage, each private interface should be on a different subnet. However, each cluster member node must have an interface on each private interconnect subnet, and these subnets must connect to every node of the cluster. For example, you can have private networks on subnets 192.168.0 and 10.0.0, but each cluster member node must have an interface connected to the 192.168.0 and 10.0.0 subnets.</p>
</li>
<li>
<p>For the private network, the endpoints of all designated interconnect interfaces must be completely reachable on the network. There should be no node that is not connected to every private network interface. You can test if an interconnect interface is reachable using <code dir="ltr"><a id="sthref248"></a>ping</code>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABJAACB"></a>
<div id="CWAIX198" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.2</span> IP Address Requirements</h3>
<p>Before starting the installation, you must have at least two interfaces configured on each node: One for the private IP address and one for the public IP address.</p>
<p>You can manage IP addresses and name resolution in the cluster in one of the following ways:</p>
<ul>
<li>
<p>Dynamic IP address assignment using Oracle Grid Naming Service (GNS). If you select this option, then network administrators assign static IP address for the physical host name and dynamically allocated IPs for the Oracle Clusterware managed VIP addresses. In this case, IP addresses for the VIPs are assigned by a DHCP and resolved using a multicast domain name server configured as part of Oracle Clusterware within the cluster. If you plan to use GNS, then you must have the following:</p>
<ul>
<li>
<p>A DHCP service running on the public network for the cluster</p>
</li>
<li>
<p>Enough addresses on the DHCP to provide 1 IP address for each node's virtual IP, and 3 IP addresses for the cluster used by the Single Client Access Name (SCAN) for the cluster</p>
</li>
</ul>
</li>
<li>
<p>Static IP address assignment. If you select this option, then network administrators assign a fixed IP address for each physical host name in the cluster and for IPs for the Oracle Clusterware managed VIPs. In addition, domain name server (DNS) based static name resolution is used for each node. Selecting this option requires that you request network administration updates when you modify the cluster.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you use a static host name for all server node public hostnames.
<p>Public IP addresses and virtual IP addresses must be in the same subnet.</p>
<p>Oracle only supports DHCP-assigned networks for the default network, not for any subsequent networks.</p>
</div>
<div id="CWAIX199" class="sect3"><a id="sthref249"></a>
<h4 class="sect3"><span class="secnum">2.6.2.1</span> IP Address Requirements with Grid Naming Service<a id="sthref250"></a></h4>
<p>If you enable Grid Naming Service (GNS), then name resolution requests to the cluster are delegated to the GNS, which is listening on the GNS virtual IP address. You define this address in the DNS domain before installation. The DNS must be configured to delegate resolution requests for cluster names (any names in the subdomain delegated to the cluster) to the GNS. When a request comes to the domain, GNS processes the requests and responds with the appropriate addresses for the name requested.</p>
<p>To use GNS, before installation the DNS administrator must establish DNS Lookup to direct DNS resolution of a subdomain to the cluster. If you enable GNS, then you must have a DHCP service on the public network that allows the cluster to dynamically allocate the virtual IP addresses as required by the cluster.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following restrictions apply to vendor configurations on your system:
<ul>
<li>
<p>If you have vendor clusterware installed, then you cannot choose to use GNS, because the vendor clusterware does not support it.</p>
</li>
<li>
<p>You cannot use GNS with another multicast DNS. If you want to use GNS, then disable any third party mDNS daemons on your system.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="CWAIX200" class="sect3"><a id="sthref251"></a>
<h4 class="sect3"><span class="secnum">2.6.2.2</span> IP Address Requirements for Manual Configuration</h4>
<p>If you do not enable GNS, then the public and virtual IP addresses for each node must be static IP addresses, configured before installation for each node, but not currently in use. Public and virtual IP addresses must be on the same subnet.</p>
<p>Oracle Clusterware manages private IP addresses in the private subnet on interfaces you identify as private during the installation interview.</p>
<p>The cluster must have the following addresses configured:</p>
<ul>
<li>
<p>A public IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation for each node, and resolvable to that node before installation</p>
</li>
<li>
<p>On the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses</p>
</li>
</ul>
</li>
<li>
<p>A virtual IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation for each node, but not currently in use</p>
</li>
<li>
<p>On the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses</p>
</li>
<li>
<p>Conforms with the RFC 952 standard, which allows alphanumeric characters and hyphens ("-"), but does not allow underscores ("_").</p>
</li>
</ul>
</li>
<li>
<p>A Single Client Access Name (SCAN) for the cluster, with the following characteristics:</p>
<ul>
<li>
<p>Three Static IP addresses configured on the domain name server (DNS) before installation so that the three IP addresses are associated with the name provided as the SCAN, and all three addresses are returned in random order by the DNS to the requestor</p>
</li>
<li>
<p>Configured before installation in the DNS to resolve to addresses that are not currently in use</p>
</li>
<li>
<p>Given a name that does not begin with a numeral</p>
</li>
<li>
<p>On the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses</p>
</li>
<li>
<p>Conforms with the RFC 952 standard, which allows alphanumeric characters and hyphens ("-"), but does not allow underscores ("_").</p>
</li>
</ul>
</li>
<li>
<p>A private IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation, but on a separate, private network, with its own subnet, that is not resolvable except by other cluster member nodes</p>
</li>
</ul>
</li>
</ul>
<p><a id="sthref252"></a>The SCAN is a name used to provide service access for clients to the cluster. Because the SCAN is associated with the cluster as a whole, rather than to a particular node, the SCAN makes it possible to add or remove nodes from the cluster without needing to reconfigure clients. It also adds location independence for the databases, so that client configuration does not have to depend on which nodes are running a particular database. Clients can continue to access the cluster in the same way as with previous releases, but Oracle recommends that clients accessing the cluster use the SCAN.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In a Typical installation, the SCAN you provide is also the name of the cluster. In an advanced installation, The SCAN and cluster name are entered in separate fields during installation.
<p>Both the SCAN and the cluster name must be at least one character long and no more than 15 characters in length, must be alphanumeric, cannot begin with a numeral, and may contain hyphens (-).</p>
</div>
<p>You can use the nslookup command to confirm that the DNS is correctly associating the SCAN with the addresses. For example:</p>
<pre dir="ltr">
root@node1]$ nslookup mycluster-scan
Server:         dns.example.com
Address:        192.0.2.001
 
Name:   mycluster-scan.example.com
Address: 192.0.2.201
Name:   mycluster-scan.example.com
Address: 192.0.2.202
Name:   mycluster-scan.example.com
Address: 192.0.2.203
</pre>
<p>After installation, when a client sends a request to the cluster, the Oracle Clusterware SCAN listeners redirect client requests to servers in the cluster.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle strongly recommends that you do not configure SCAN VIP addresses in the hosts file. Use DNS resolution for SCAN VIPs. If you use the hosts file to resolve SCANs, then you will only be able to resolve to one IP address and you will have only one SCAN address.
<p>Configuring SCANs in a DNS or a hosts file is the only supported configuration. Configuring SCANs in a Network Information Service (NIS) is not supported.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="concepts.htm#CIHCGIGH">Appendix C, "Understanding Network Addresses"</a> for more information about network addresses</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABHDBEE"></a>
<div id="CWAIX415" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.3</span> Broadcast Requirements for Networks Used by Oracle Grid Infrastructure</h3>
<p>Broadcast communications (ARP and UDP) must work properly across all the public and private interfaces configured for use by Oracle Grid Infrastructure release 2 patchset 1 (11.2.0.2) and later releases.</p>
<p>The broadcast must work across any configured VLANs as used by the public or private interfaces.</p>
</div>
<!-- class="sect2" -->
<a id="BABDJDJJ"></a>
<div id="CWAIX416" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.4</span> Multicast Requirements for Networks Used by Oracle Grid Infrastructure</h3>
<p>With Oracle Grid Infrastructure release 2 (11.2), on each cluster member node, the Oracle mDNS daemon uses multicasting on all interfaces to communicate with other nodes in the cluster.</p>
<p>With Oracle Grid Infrastructure release 2 patchset 1 (11.2.0.2) and later releases, multicasting is required on the private interconnect. For this reason, at a minimum, you must enable multicasting for the cluster:</p>
<ul>
<li>
<p>Across the broadcast domain as defined for the private interconnect</p>
</li>
<li>
<p>On the IP address subnet ranges 224.0.0.0/24 and 230.0.1.0/24</p>
</li>
</ul>
<p>You do not need to enable multicast communications across routers.</p>
</div>
<!-- class="sect2" -->
<a id="BABHJFFG"></a>
<div id="CWAIX201" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.5</span> DNS Configuration for Domain Delegation to Grid Naming Service</h3>
<p>If you plan to use GNS, then before Oracle Grid Infrastructure installation, you must configure your domain name server (DNS) to send to GNS name resolution requests for the subdomain GNS serves, which are the cluster member nodes. The following is an overview of what needs to be done for domain delegation. Your actual procedure may be different from this example.</p>
<p>Configure the DNS to send GNS name resolution requests using delegation:</p>
<ol>
<li>
<p>In the DNS, create an entry for the GNS virtual IP address, where the address uses the form gns-server.CLUSTERNAME.DOMAINNAME. For example, where the cluster name is <code dir="ltr">mycluster</code>, and the domain name is <code dir="ltr">example.com</code>, and the IP address is 192.0.2.1, create an entry similar to the following:</p>
<pre dir="ltr">
mycluster-gns.example.com  A  192.0.2.1
</pre>
<p>The address you provide must be routable.</p>
</li>
<li>
<p>Set up forwarding of the GNS subdomain to the GNS virtual IP address, so that GNS resolves addresses to the GNS subdomain. To do this, create a BIND configuration entry similar to the following for the delegated domain, where <code dir="ltr">cluster01.example.com</code> is the subdomain you want to delegate:</p>
<pre dir="ltr">
 cluster01.example.com  NS  mycluster-gns.example.com
</pre></li>
<li>
<p>When using GNS, you must configure <code dir="ltr">resolve.conf</code> on the nodes in the cluster (or the file on your system that provides resolution information) to contain name server entries that are resolvable to corporate DNS servers. The total timeout period configured&mdash;a combination of options attempts (retries) and options timeout (exponential backoff)&mdash;should be less than 30 seconds. For example, where xxx.xxx.xxx.42 and xxx.xxx.xxx.15 are valid name server addresses in your network, provide an entry similar to the following in <code dir="ltr">/etc/resolv.conf</code>:</p>
<pre dir="ltr">
options attempts: 2
options timeout: 1

search cluster01.example.com example.com
nameserver xxx.xxx.xxx.42
nameserver xxx.xxx.xxx.15
</pre>
<p><code dir="ltr">/etc/nsswitch.conf</code> controls name service lookup order. In some system configurations, the Network Information System (NIS) can cause problems with Oracle SCAN address resolution. Oracle recommends that you place the <code dir="ltr">nis</code> entry at the end of the search list. For example:</p>
<pre dir="ltr">
/etc/nsswitch.conf
     hosts:    files   dns   nis
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Be aware that use of NIS is a frequent source of problems when doing cable pull tests, as host name and username resolution can fail.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABGFHGJ"></a>
<div id="CWAIX202" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.6</span> Grid Naming Service Configuration Example</h3>
<p>If you use GNS, then you need to specify a static IP address for the GNS VIP address, and delegate a subdomain to be delegated to that static GNS IP address.</p>
<p>As nodes are added to the cluster, your organization's DHCP server can provide addresses for these nodes dynamically. These addresses are then registered automatically in GNS, and GNS provides resolution within the subdomain to cluster node addresses registered with GNS.</p>
<p>Because allocation and configuration of addresses is performed automatically with GNS, no further configuration is required. Oracle Clusterware provides dynamic network configuration as nodes are added to or removed from the cluster. The following example is provided only for information.</p>
<p>With a two node cluster where you have defined the GNS VIP, after installation you might have a configuration similar to the following for a two-node cluster, where the cluster name is <code dir="ltr">mycluster</code>, the GNS parent domain is <code dir="ltr">example.com</code>, the subdomain is <code dir="ltr">grid.example.com</code>, 192.0.2 in the IP addresses represent the cluster public IP address network, and 192.168.0 represents the private IP address subnet:</p>
<div id="CWAIX417" class="tblformal">
<p class="titleintable"><a id="sthref253"></a><a id="sthref254"></a>Table 2-1 Grid Naming Service Example Network</p>
<table class="cellalignment2448" title="Grid Naming Service Example Network " summary="This table shows an example of automatic configuration by Grid Naming Service (GNS) of network names and IP Addresses for the public, private, virtual IP, SCAN addresses, and GNS VIP address." dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t36">Identity</th>
<th class="cellalignment2447" id="r1c2-t36">Home Node</th>
<th class="cellalignment2447" id="r1c3-t36">Host Node</th>
<th class="cellalignment2447" id="r1c4-t36">Given Name</th>
<th class="cellalignment2447" id="r1c5-t36">Type</th>
<th class="cellalignment2447" id="r1c6-t36">Address</th>
<th class="cellalignment2447" id="r1c7-t36">Address Assigned By</th>
<th class="cellalignment2447" id="r1c8-t36">Resolved By</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t36" headers="r1c1-t36">
<p>GNS VIP</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c2-t36">
<p>None</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c4-t36">
<p><code dir="ltr">mycluster-gns</code>.example.com</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c5-t36">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c6-t36">
<p>192.0.2.1</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c7-t36">
<p>Fixed by net administrator</p>
</td>
<td class="cellalignment2441" headers="r2c1-t36 r1c8-t36">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t36" headers="r1c1-t36">
<p>Node 1 Public</p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c2-t36">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c3-t36">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c4-t36">
<p><code dir="ltr">node1</code><a id="BABEEIBA" href="#BABEEIBA" onclick='footdisplay(1,"Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.")'><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c5-t36">
<p>Public</p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c6-t36">
<p>192.0.2.101</p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c7-t36">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r3c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t36" headers="r1c1-t36">
<p>Node 1 VIP</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c2-t36">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c4-t36">
<p><code dir="ltr">node1-vip</code></p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c5-t36">
<p>Virtual</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c6-t36">
<p>192.0.2.104</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c7-t36">
<p>DHCP</p>
</td>
<td class="cellalignment2441" headers="r4c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t36" headers="r1c1-t36">
<p>Node 1 Private</p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c2-t36">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c3-t36">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c4-t36">
<p><code dir="ltr">node1-priv</code></p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c5-t36">
<p>Private</p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c6-t36">
<p>192.168.0.1</p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c7-t36">
<p>Fixed or DHCP</p>
</td>
<td class="cellalignment2441" headers="r5c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t36" headers="r1c1-t36">
<p>Node 2 Public</p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c2-t36">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c3-t36">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c4-t36">
<p><code dir="ltr">node2</code><a id="sthref255" href="#sthref255" onclick='footdisplay(1,"Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.")'><sup class="footnotenumber">Footref&nbsp;1</sup></a></p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c5-t36">
<p>Public</p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c6-t36">
<p>192.0.2.102</p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c7-t36">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r6c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t36" headers="r1c1-t36">
<p>Node 2 VIP</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c2-t36">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c4-t36">
<p><code dir="ltr">node2-vip</code></p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c5-t36">
<p>Virtual</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c6-t36">
<p>192.0.2.105</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c7-t36">
<p>DHCP</p>
</td>
<td class="cellalignment2441" headers="r7c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r8c1-t36" headers="r1c1-t36">
<p>Node 2 Private</p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c2-t36">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c3-t36">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c4-t36">
<p><code dir="ltr">node2-priv</code></p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c5-t36">
<p>Private</p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c6-t36">
<p>192.168.0.2</p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c7-t36">
<p>Fixed or DHCP</p>
</td>
<td class="cellalignment2441" headers="r8c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r9c1-t36" headers="r1c1-t36">
<p>SCAN VIP 1</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c2-t36">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c4-t36">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c5-t36">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c6-t36">
<p>192.0.2.201</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c7-t36">
<p>DHCP</p>
</td>
<td class="cellalignment2441" headers="r9c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r10c1-t36" headers="r1c1-t36">
<p>SCAN VIP 2</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c2-t36">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c4-t36">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c5-t36">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c6-t36">
<p>192.0.2.202</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c7-t36">
<p>DHCP</p>
</td>
<td class="cellalignment2441" headers="r10c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r11c1-t36" headers="r1c1-t36">
<p>SCAN VIP 3</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c2-t36">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c3-t36">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c4-t36">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c5-t36">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c6-t36">
<p>192.0.2.203</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c7-t36">
<p>DHCP</p>
</td>
<td class="cellalignment2441" headers="r11c1-t36 r1c8-t36">
<p>GNS</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.</p>
</div>
<!-- class="sect2" -->
<a id="BABJCFBB"></a>
<div id="CWAIX204" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.7</span> Manual IP Address Configuration Example</h3>
<p>If you choose not to use GNS, then before installation you must configure public, virtual, and private IP addresses. Also, check that the default gateway can be accessed by a <code dir="ltr">ping</code> command. To find the default gateway, use the <code dir="ltr">route</code> command, as described in your operating system's help utility.</p>
<p>For example, with a two node cluster where each node has one public and one private interface, and you have defined a SCAN domain address to resolve on your DNS to one of three IP addresses, you might have the configuration shown in the following table for your network interfaces:</p>
<div id="CWAIX205" class="tblformal">
<p class="titleintable"><a id="sthref256"></a><a id="sthref257"></a>Table 2-2 Manual Network Configuration Example</p>
<table class="cellalignment2448" title="Manual Network Configuration Example" summary="This table shows a manual configuration example of network names and IP Addresses for the public, private, virtual IP, and SCAN addresses." dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t37">Identity</th>
<th class="cellalignment2447" id="r1c2-t37">Home Node</th>
<th class="cellalignment2447" id="r1c3-t37">Host Node</th>
<th class="cellalignment2447" id="r1c4-t37">Given Name</th>
<th class="cellalignment2447" id="r1c5-t37">Type</th>
<th class="cellalignment2447" id="r1c6-t37">Address</th>
<th class="cellalignment2447" id="r1c7-t37">Address Assigned By</th>
<th class="cellalignment2447" id="r1c8-t37">Resolved By</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t37" headers="r1c1-t37">
<p>Node 1 Public</p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c2-t37">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c3-t37">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c4-t37">
<p><code dir="ltr">node1</code><a id="CEGIHIBH" href="#CEGIHIBH" onclick='footdisplay(1,"Node hostnames may resolve to multiple addresses.")'><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c5-t37">
<p>Public</p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c6-t37">
<p>192.0.2.101</p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r2c1-t37 r1c8-t37">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t37" headers="r1c1-t37">
<p>Node 1 VIP</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c2-t37">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c3-t37">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c4-t37">
<p><code dir="ltr">node1-vip</code></p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c5-t37">
<p>Virtual</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c6-t37">
<p>192.0.2.104</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r3c1-t37 r1c8-t37">
<p>DNS and hosts file</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t37" headers="r1c1-t37">
<p>Node 1 Private</p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c2-t37">
<p>Node 1</p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c3-t37">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c4-t37">
<p><code dir="ltr">node1-priv</code></p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c5-t37">
<p>Private</p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c6-t37">
<p>192.168.0.1</p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r4c1-t37 r1c8-t37">
<p>DNS and hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t37" headers="r1c1-t37">
<p>Node 2 Public</p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c2-t37">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c3-t37">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c4-t37">
<p><code dir="ltr">node2</code><a id="sthref258" href="#sthref258" onclick='footdisplay(1,"Node hostnames may resolve to multiple addresses.")'><sup class="footnotenumber">Footref&nbsp;1</sup></a></p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c5-t37">
<p>Public</p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c6-t37">
<p>192.0.2.102</p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r5c1-t37 r1c8-t37">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t37" headers="r1c1-t37">
<p>Node 2 VIP</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c2-t37">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c3-t37">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c4-t37">
<p><code dir="ltr">node2-vip</code></p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c5-t37">
<p>Virtual</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c6-t37">
<p>192.0.2.105</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r6c1-t37 r1c8-t37">
<p>DNS and hosts file</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t37" headers="r1c1-t37">
<p>Node 2 Private</p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c2-t37">
<p>Node 2</p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c3-t37">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c4-t37">
<p><code dir="ltr">node2-priv</code></p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c5-t37">
<p>Private</p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c6-t37">
<p>192.168.0.2</p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r7c1-t37 r1c8-t37">
<p>DNS and hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r8c1-t37" headers="r1c1-t37">
<p>SCAN VIP 1</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c2-t37">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c3-t37">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c4-t37">
<p>mycluster-scan</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c5-t37">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c6-t37">
<p>192.0.2.201</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r8c1-t37 r1c8-t37">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r9c1-t37" headers="r1c1-t37">
<p>SCAN VIP 2</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c2-t37">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c3-t37">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c4-t37">
<p>mycluster-scan</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c5-t37">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c6-t37">
<p>192.0.2.202</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r9c1-t37 r1c8-t37">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r10c1-t37" headers="r1c1-t37">
<p>SCAN VIP 3</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c2-t37">
<p>none</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c3-t37">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c4-t37">
<p>mycluster-scan</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c5-t37">
<p>virtual</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c6-t37">
<p>192.0.2.203</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c7-t37">
<p>Fixed</p>
</td>
<td class="cellalignment2441" headers="r10c1-t37 r1c8-t37">
<p>DNS</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>Node hostnames may resolve to multiple addresses.</p>
<p>You do not need to provide a private name for the interconnect. If you want name resolution for the interconnect, then you can configure private IP names in the hosts file or the DNS. However, Oracle Clusterware assigns interconnect addresses on the interface defined during installation as the private interface (<code dir="ltr">en1</code>, for example), and to the subnet used for the private subnet.</p>
<p>The addresses to which the SCAN resolves are assigned by Oracle Clusterware, so they are not fixed to a particular node. To enable VIP failover, the configuration shown in the preceding table defines the SCAN addresses and the public and VIP addresses of both nodes on the same subnet, 192.0.2.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
All host names must conform to the RFC 952 standard, which permits alphanumeric characters. Host names using underscores ("_") are not allowed.</div>
</div>
<!-- class="sect2" -->
<a id="BABCAIFA"></a>
<div id="CWAIX206" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.6.8</span> Network Interface Configuration Options</h3>
<p>The precise configuration you choose for your network depends on the size and use of the cluster you want to configure, and the level of availability you require.</p>
<p>If certified Network-attached Storage (NAS) is used for Oracle RAC and this storage is connected through Ethernet-based networks, then you must have a third network interface for NAS I/O. Failing to provide three separate interfaces in this case can cause performance and stability problems under load.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGIEABJ"></a>
<div id="CWAIX208" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.7</span> Identifying the Software Requirements<a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a><a id="sthref262"></a></h2>
<p>Depending on the products that you intend to install, verify that the following operating system software is installed on the system. To check these requirements refer to <a href="#BABCDDCH">Chapter 2, "Checking the Software Requirements."</a></p>
<p>Requirements listed here are current as of the initial release date. To obtain the most current information about kernel requirements, refer to the online version on the Oracle Technology Network (OTN) at the following URL:</p>
<pre dir="ltr">
<a href="http://www.oracle.com/technetwork/indexes/documentation/index.html">http://www.oracle.com/technetwork/indexes/documentation/index.html</a>
</pre>
<p>OUI performs checks your system to verify that it meets the listed operating system package requirements. To ensure that these checks complete successfully, verify the requirements before you start OUI.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref263"></a><a id="sthref264"></a>Oracle does not support running different operating system versions on cluster members, unless an operating system is being upgraded. You cannot run different operating system version binaries on members of the same cluster, even if each operating system is supported.</div>
<div id="CWAIX209" class="tblformal">
<p class="titleintable"><a id="sthref265"></a><a id="sthref266"></a>Table 2-3 AIX Operating System Kernel Requirements</p>
<table class="cellalignment2448" title="AIX Operating System Kernel Requirements" summary="This table lists the software requirements for AIX-based systems" dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t40">Item</th>
<th class="cellalignment2447" id="r1c2-t40">Requirement</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t40" headers="r1c1-t40">
<p>Operating systems</p>
</td>
<td class="cellalignment2441" headers="r2c1-t40 r1c2-t40">
<p>AIX 7.2 TL 0 SP 1 ("7200-00-01") or later, 64-bit kernel</p>
<p>AIX 7.1 TL 0 SP1 (" 7100-00-01") 64-bit kernel</p>
<p>AIX 6.1 TL 02 SP1 ("6100-02-01"), 64-bit kernel</p>
<p>AIX 5L V5.3 TL 09 SP1 ("5300-09-01"), 64 bit kernel or later</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t40" headers="r1c1-t40">
<p>AIX 7.2 operating system filesets</p>
</td>
<td class="cellalignment2441" headers="r3c1-t40 r1c2-t40">
<p>The following operating system filesets are required:</p>
<pre dir="ltr">
bos.adt.base
bos.adt.lib
bos.adt.libm
bos.perf.libperfstat
bos.perf.perfstat
bos.perf.proctools
xlC.aix61.rte.13.1.2.0 or later
xlC.rte.13.1.2.0 or later
</pre>
<p>You must have the IBM XL C/C++ runtime filesets for installation, but you do not require the C/C++ compilers. You do not require a license for the XL C/C++ runtime filesets.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t40" headers="r1c1-t40">
<p>AIX 7.1 operating system filesets</p>
</td>
<td class="cellalignment2441" headers="r4c1-t40 r1c2-t40">
<p>The following operating system filesets are required:</p>
<pre dir="ltr">
bos.adt.base
bos.adt.lib
bos.adt.libm
bos.perf.libperfstat
bos.perf.perfstat
bos.perf.proctools
xlC.rte.11.1.0.2 or later
</pre>
<p>You must have the IBM XL C/C++ runtime filesets for installation, but you do not require the C/C++ compilers. You do not require a license for the XL C/C++ runtime filesets.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t40" headers="r1c1-t40">
<p>AIX 6.1 operating system filesets</p>
</td>
<td class="cellalignment2441" headers="r5c1-t40 r1c2-t40">
<p>The following operating system filesets are required:</p>
<pre dir="ltr">
bos.adt.base
bos.adt.lib
bos.adt.libm
bos.perf.libperfstat 6.1.2.1 or later
bos.perf.perfstat
bos.perf.proctools
rsct.basic.rte
rsct.compat.clients.rte
xlC.aix61.rte.10.1.0.0 or later
xlC.rte:10.1.0.0 or later
</pre>
<p>You must have the IBM XL C/C++ runtime filesets for installation, but you do not require the C/C++ compilers. You do not require a license for the XL C/C++ runtime filesets.</p>
<p>Version: IBM XL C/C++ Enterprise Edition for AIX, V9.0 September 2008 PTF</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t40" headers="r1c1-t40">
<p>AIX 5L operating system filesets</p>
</td>
<td class="cellalignment2441" headers="r6c1-t40 r1c2-t40">
<p>The following operating system filesets are required:</p>
<pre dir="ltr">
bos.adt.base
bos.adt.lib
bos.adt.libm
bos.perf.libperfstat
bos.perf.perfstat
bos.perf.proctools
rsct.basic.rte
rsct.compat.clients.rte
xlC.aix50.rte:10.1.0.0 (or later)
</pre>
<p>You must have the IBM XL C/C++ runtime filesets for installation, but you do not require the C/C++ compilers. You do not require a license for the XL C/C++ runtime filesets. Version: IBM XL C/C++ Enterprise Edition for AIX, V9.0 September 2008 PTF</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t40" headers="r1c1-t40">
<p>Obtaining C/C++ Compilers</p>
</td>
<td class="cellalignment2441" headers="r7c1-t40 r1c2-t40">
<p>For AIX7.1, check My Oracle Support Certifications for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre>
<p>The minimum supported compiler for Oracle Grid Infrastructure is V. 9.0. You can download this software from the following website:</p>
<p><code dir="ltr"><a href="http://www-1.ibm.com/support/docview.wss?uid=swg24019055">http://www-1.ibm.com/support/docview.wss?uid=swg24019055</a></code></p>
<p><span class="bold">Note:</span> Even if you do not install the IBM XL C/C++ compiler, you require the compiler for AIX Runtime Environment Component. The runtime environment file sets can be downloaded with no license requirements. The minimum recommended runtime environment for AIX 5.3 and AIX 6.1 is available at the following URL:</p>
<p><span class="bold">For AIX 5.3 and AIX 6.1:</span></p>
<p>IBM XL C/C++ for AIX, V10.1 Runtime Environment</p>
<p><code dir="ltr"><a href="http://www-01.ibm.com/support/docview.wss?rs=2239&amp;uid=swg24019829">http://www-01.ibm.com/support/docview.wss?rs=2239&amp;uid=swg24019829</a></code></p>
<p><span class="bold">For AIX 7.1:</span></p>
<p>September 2010 Runtime for XL C/C++ for AIX, V11.1</p>
<p><code dir="ltr"><a href="http://www-01.ibm.com/support/docview.wss?uid=swg24028034">http://www-01.ibm.com/support/docview.wss?uid=swg24028034</a></code></p>
<p><span class="bold">For AIX 7.2:</span></p>
<p>November 2015 Runtime for XL C/C++ for AIX, V13.1</p>
<p><code dir="ltr"><a href="http://www-01.ibm.com/support/docview.wss?uid=swg24041340">http://www-01.ibm.com/support/docview.wss?uid=swg24041340</a></code></p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r8c1-t40" headers="r1c1-t40">
<p>Oracle RAC and HACMP</p>
</td>
<td class="cellalignment2441" headers="r8c1-t40 r1c2-t40">
<p><span class="bold">High Availability Cluster Multi-Processing (HACMP) 5.4.1</span></p>
<p><span class="bold">Note:</span> HACMP is required only if you want to use raw logical volumes for Oracle Clusterware or database file storage. However, it is supported for all installations. You cannot use raw devices for OCR or voting disk files.</p>
<p>If you want to use HACMP or GPFS, then check My Oracle Support Certification for current requirements. Certifications are available at the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre>
<p>If you do not want to use HACMP, then you must not have HACMP installed on your system. If you have previously installed HACMP, then you must remove the following:</p>
<ul>
<li>
<p>HACMP filesets (<code dir="ltr">cluster.es.*</code>)</p>
</li>
<li>
<p><code dir="ltr">rsct.hacmp.rte</code></p>
</li>
<li>
<p><code dir="ltr">rsct.compat.basic.hacmp.rte</code></p>
</li>
<li>
<p><code dir="ltr">rsct.compat.clients.hacmp.rte</code></p>
</li>
</ul>
<p>If you want to use HACMP, then review patch sets to ensure that you have required patches. Changes in the fileset packaging of HACMP 5.4, including 5.4.1, require updates to the Oracle <code dir="ltr">rootpre.sh</code> script. Download and install patch 6718715 before installing Oracle Clusterware.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r9c1-t40" headers="r1c1-t40">
<p>Oracle RAC and GPFS</p>
</td>
<td class="cellalignment2441" headers="r9c1-t40 r1c2-t40">
<p><span class="bold">General Parallel File System (GPFS):</span></p>
<p>AIX 7.1:</p>
<pre dir="ltr">
GPFS 3.3.0.11
</pre>
<p>AIX 6.1:</p>
<pre dir="ltr">
gpfs.base 3.2.1.8 or later. 
</pre>
<p>AIX 5L:</p>
<pre dir="ltr">
gpfs.base 3.2.1.8 or later
</pre>
<p><span class="bold">Note:</span> GPFS is not required. Install GPFS only if you want to use a cluster file system in addition to Oracle Clusterware.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r10c1-t40" headers="r1c1-t40">
<p>SSH</p>
</td>
<td class="cellalignment2441" headers="r10c1-t40 r1c2-t40">
<p>Oracle Clusterware requires SSH. The required SSH software is the default SSH shipped with your operating system.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r11c1-t40" headers="r1c1-t40">
<p>ADA</p>
</td>
<td class="cellalignment2441" headers="r11c1-t40 r1c2-t40">
<p>OC Systems PowerAda 5.5</p>
<p>For AIX7.1, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r12c1-t40" headers="r1c1-t40">
<p>JDK</p>
</td>
<td class="cellalignment2441" headers="r12c1-t40 r1c2-t40">
<p>Use one of the following Java versions:</p>
<p>Java 6 64-bit 6.0.0.50 IZ30726 (SR2)</p>
<p>Java 5 64-bit 5.0.0.250 IZ55274 (SR10)</p>
<p>For AIX7.1, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r13c1-t40" headers="r1c1-t40">
<p>Pro*FORTRAN</p>
</td>
<td class="cellalignment2441" headers="r13c1-t40 r1c2-t40">
<p>IBM XL Fortran v. 11.1 April 2008 PTF for AIX</p>
<p>For AIX7.1, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r14c1-t40" headers="r1c1-t40">
<p>Pro*C/C++,<br />
Oracle Call Interface,<br />
Oracle C++ Call Interface,<br />
Oracle XML Developer's Kit (XDK), GNU Compiler Collection (GCC)</p>
</td>
<td class="cellalignment2441" headers="r14c1-t40 r1c2-t40">
<p>Note: If you do not install the C/C++ compilers, then you require the C/C++ runtime filesets for installation as described in the "Operating system filesets" row in this table.</p>
<ul>
<li>
<p>IBM XL C/C++ Enterprise Edition for AIX, V9.0 April 2008 PTF:<a id="sthref267"></a><a id="sthref268"></a><a id="sthref269"></a></p>
<p>You can download the PTF from the following link:</p>
<p><code dir="ltr"><a href="http://www-1.ibm.com/support/docview.wss?uid=swg24015075">http://www-1.ibm.com/support/docview.wss?uid=swg24015075</a></code></p>
<p>Download the C++ runtime environment file sets, with no license requirement, from the following Web site:</p>
<p><code dir="ltr"><a href="http://www-1.ibm.com/support/docview.wss?uid=swg24015077">http://www-1.ibm.com/support/docview.wss?uid=swg24015077</a></code></p>
</li>
<li>
<p>gcc 3.4.5</p>
</li>
</ul>
<p>For AIX7.1, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r15c1-t40" headers="r1c1-t40">
<p>Pro*COBOL</p>
</td>
<td class="cellalignment2441" headers="r15c1-t40 r1c2-t40">
<ul>
<li>
<p>IBM COBOL for AIX Version 4.1 (September 2010 PTF)</p>
</li>
<li>
<p>IBM COBOL for AIX version 3.1</p>
</li>
<li>
<p>Micro Focus Server Express 5.1</p>
</li>
</ul>
<p>For AIX7.1 and AIX 7.2, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r16c1-t40" headers="r1c1-t40">
<p>Oracle Messaging Gateway</p>
</td>
<td class="cellalignment2441" headers="r16c1-t40 r1c2-t40">
<p>IBM WebSphere MQ for AIX V6.0.2.3, client and server:<a id="sthref270"></a><a id="sthref271"></a><a id="sthref272"></a></p>
<pre dir="ltr">
mqm.Client.Bnd
mqm.Server.Bnd
</pre>
<p>For AIX7.1, check My Oracle Support Certification for current requirements. Certifications are available on the following URL:</p>
<pre dir="ltr">
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>Verify that the following patches are installed on the system. The procedure following the table describes how to check these requirements</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>There may be more recent versions of the patches listed installed on your system. If a listed patch is not installed, then determine if you have a more recent patch installed that includes the listed patch before you install the patch version listed.</li>
<li>
<p>AIX APAR numbers are tied to AIX versions and technology levels. Download and install the APAR that matches your AIX versions and Technology Levels from the IBM fix central website at the following URL:</p>
<p><code dir="ltr"><a href="http://www-933.ibm.com/support/fixcentral/">http://www-933.ibm.com/support/fixcentral/</a></code></p>
</li>
</ul>
</div>
<div id="CWAIX210" class="tblformal">
<p class="titleintable"><a id="sthref273"></a><a id="sthref274"></a>Table 2-4 AIX APAR and Other Operating System Fixes</p>
<table class="cellalignment2448" title="AIX APAR and Other Operating System Fixes" summary="This table lists the patches required on AIX." dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t42">Installation Type or Product</th>
<th class="cellalignment2447" id="r1c2-t42">Requirement</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t42" headers="r1c1-t42">
<p>AIX 7.2 installations</p>
</td>
<td class="cellalignment2441" headers="r2c1-t42 r1c2-t42">
<p>If you are using the minimum operating system TL level for AIX 7.2 listed above, then install the following Authorized Problem Analysis Reports (APARs) for AIX 7.2 TL 0 SP1:</p>
<p>IV79639 - after live update ifix state may be left as Q; rebooth required</p>
<p>IV79848 - mirrorvg/syncvg on minimal and migration install fails</p>
<p>IV80412 - system crash application sets signal mask</p>
<p><span class="bold">Note:</span> Install IV80412m1a as it includes the required fix for IV79441 - possible system crash using procfs to read 32bit process map fil</p>
<p>If you are using a later TL level than the minimum level listed for this release, then contact IBM to determine if the required APARs listed here are included in the TL level that you have on your system. If they are included, then you do not need to install them. If they are not included, then you must install the equivalent APAR for the appropriate TL level.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t42" headers="r1c1-t42">
<p>AIX 7.1 installations</p>
</td>
<td class="cellalignment2441" headers="r3c1-t42 r1c2-t42">
<p>If you are using the minimum operating system TL level for AIX 7.1 listed above, then install the following Authorized Problem Analysis Reports (APARs) for AIX 7.1 TL 0 SP1:</p>
<pre dir="ltr">
IZ87216
IZ87564
IZ89165
IZ97035
</pre>
<p>If you are using a later TL level than the minimum level listed for this release, then contact IBM to determine if the required APARs listed here are included in the TL level that you have on your system. If they are included, then you do not need to install them. If they are not included, then you must install the equivalent APAR for the appropriate TL level.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t42" headers="r1c1-t42">
<p>AIX 6.1 installations</p>
</td>
<td class="cellalignment2441" headers="r4c1-t42 r1c2-t42">
<p>If you are using a later TL level than the minimum level listed for this release, then contact IBM to determine if the required APARs listed here are included in the TL level that you have on your system. If they are included, then you do not need to install them. If they are not included, then you must install the equivalent APAR for the appropriate TL level.</p>
<p>If you are using the minimum operating system TL level for AIX 6.1 listed above, then install the following Authorized Problem Analysis Reports (APARs) for AIX 6.1 TL 02 SP1:</p>
<pre dir="ltr">
IZ41855
IZ51456
IZ52319
IZ97457
IZ89165
</pre>
<p>These 6.1 fixes are already present in the following TL levels:</p>
<ul>
<li>
<p>AIX 6.1 TL 02 SP-04 and later</p>
</li>
<li>
<p>AIX 6.1 TL 03 SP-02 and later</p>
</li>
<li>
<p>AIX 6.1 TL 04</p>
</li>
</ul>
<p>If you are using a later TL level than the minimum level listed for this release, apply the following additional operating system patch for defect:</p>
<p><code dir="ltr">BIND64 CORES WITH -BLAZY OPTION</code></p>
<p>Download the appropriate patch for your operating system TL level using the following APAR numbers:</p>
<ul>
<li>
<p>AIX 6.1 TL 03 - use AIX APAR IZ89304</p>
</li>
<li>
<p>AIX 6.1 TL 04 - use AIX APAR IZ89302</p>
</li>
<li>
<p>AIX 6.1 TL 05 - use AIX APAR IZ89300</p>
</li>
<li>
<p>AIX 6.1 TL 06 SP4 - use AIX APAR IZ88711</p>
</li>
<li>
<p>AIX 6.1 TL 06 SP5 - use AIX APAR IZ89514</p>
</li>
<li>
<p>AIX 6.1 TL 07 - use AIX APAR IZ88880</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t42" headers="r1c1-t42">
<p>AIX 5L installations</p>
</td>
<td class="cellalignment2441" headers="r5c1-t42 r1c2-t42">
<p>If you are using a later TL level than the minimum level listed for this release, then check with IBM to determine if the required APARs listed here are included in the TL level that you have on your system. If they are included, then you do not need to install them. If they are not included, then you must install the equivalent APAR for the appropriate TL level.</p>
<p>If you are using the minimum operating system TL level for AIX 5L listed above, then install the following Authorized Problem Analysis Reports (APARs) for AIX 5L V5.3 TL 09 SP1:</p>
<pre dir="ltr">
IZ42940
IZ49516
IZ52331
</pre>
<p>These fixes are already present in the following TL levels:</p>
<ul>
<li>
<p>AIX 5.3 TL 09 SP-05 and later</p>
</li>
<li>
<p>AIX 5.3 TL 10 SP-02 and later</p>
</li>
<li>
<p>AIX 5.3 TL 11</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t42" headers="r1c1-t42">
<p>Oracle JDBC/OCI Drivers</p>
<p>AIX 5L v5.3</p>
</td>
<td class="cellalignment2441" headers="r6c1-t42 r1c2-t42">
<p><span class="bold">Note:</span> These APARs are required only if you are using the associated JDK version.</p>
<p>APAR required for JDK 1.4.2 (64-bit):</p>
<ul>
<li>
<p>IY63533: JDK 1.4.2 64-bit SR1 caix64142-20040917</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t42" headers="r1c1-t42">
<p>Oracle ODBC Drivers</p>
</td>
<td class="cellalignment2441" headers="r7c1-t42 r1c2-t42">
<p>You do not require ODBC drivers for Oracle Clusterware or Oracle Database.</p>
<p>To use ODBC with Oracle Database, you must also install gcc 3.4.5 or later.</p>
<p>Oracle ODBC driver on AIX is certified with ODBC Driver Manager 2.2.12. You can download and install the Driver Manager from the following link:</p>
<p><code dir="ltr"><a href="http://www.unixodbc.org">http://www.unixodbc.org</a></code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect1" -->
<a id="BABCDDCH"></a>
<div id="CWAIX211" class="sect1">
<h2 class="sect1"><span class="secnum">2.8</span> Checking the Software Requirements</h2>
<p>To ensure that the system meets these requirements:<a id="sthref275"></a></p>
<ol>
<li>
<p>To determine the version of AIX installed, enter the following command:<a id="sthref276"></a><a id="sthref277"></a><a id="sthref278"></a><a id="sthref279"></a><a id="sthref280"></a><a id="sthref281"></a></p>
<pre dir="ltr">
# oslevel -r
</pre>
<p>If the operating system version is lower than AIX 5.3, then upgrade your operating system to at least this maintenance level. AIX 5L version 5.3 maintenance packages are available from the following web site:</p>
<p><code dir="ltr"><a href="http://www-933.ibm.com/support/fixcentral/">http://www-933.ibm.com/support/fixcentral/</a></code></p>
</li>
<li>
<p>To determine whether the required filesets are installed and committed, enter a command similar to the following:<a id="sthref282"></a><a id="sthref283"></a><a id="sthref284"></a></p>
<pre dir="ltr">
# lslpp -l bos.adt.base bos.adt.lib bos.adt.libm bos.perf.libperfstat \
bos.perf.perfstat bos.perf.proctools rsct.basic.rte rsct.compat.clients.rte \
xlC.aix61.rte
</pre>
<p>If a fileset is not installed and committed, then install it. Refer to your operating system or software documentation for information about installing filesets.</p>
</li>
</ol>
<p>To ensure that the system meets these requirements:<a id="sthref285"></a><a id="sthref286"></a></p>
<ol>
<li>
<p>To determine if required APARs are installed, enter a command similar to the following:</p>
<pre dir="ltr">
# instfix -i -k "IZ41855 IZ51456 IZ52319"
</pre>
<p>If an APAR is not installed, then download it from the following web site and install it:<a id="sthref287"></a><a id="sthref288"></a><a id="sthref289"></a></p>
<pre dir="ltr">
<a href="http://www-933.ibm.com/support/fixcentral/">http://www-933.ibm.com/support/fixcentral/</a>
</pre></li>
<li>
<p>To determine whether a PTF is installed, enter a command similar to the following:<a id="sthref290"></a><a id="sthref291"></a><a id="sthref292"></a></p>
<pre dir="ltr">
# lslpp -l -B U489726 U485561 ...
</pre>
<p>If a PTF is not installed, then download it from the following web site and install it:<a id="sthref293"></a><a id="sthref294"></a></p>
<pre dir="ltr">
<a href="http://www-933.ibm.com/support/fixcentral/">http://www-933.ibm.com/support/fixcentral/</a>
</pre></li>
<li>
<p>If you require a CSD for WebSphere MQ, then refer to the following web site for download and installation information: <a id="sthref295"></a><a id="sthref296"></a></p>
<pre dir="ltr">
<a href="http://www-01.ibm.com/software/">http://www-01.ibm.com/software/</a>
</pre></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABHBBCI"></a>
<div id="CWAIX418" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.9</span> Verifying UDP and TCP Kernel Parameters</h2>
<p>Use NDD to ensure that the AIX kernel TCP/IP ephemeral port range is broad enough to provide enough ephemeral ports for the anticipated server workload. Ensure that the lower range is set to at least 9000 or higher, to avoid Well Known ports, and to avoid ports in the Registered Ports range commonly used by Oracle and other server ports. Set the port range high enough to avoid reserved ports for any applications you may intend to use. If the lower value of the range you have is greater than 9000, and the range is large enough for your anticipated workload, then you can ignore OUI warnings regarding the ephemeral port range.</p>
<p>For example:</p>
<pre dir="ltr">
# /usr/sbin/no -a | fgrep ephemeral
       tcp_ephemeral_low = 32768
       tcp_ephemeral_high = 65535
       udp_ephemeral_low = 32768
       udp_ephemeral_high = 65535
</pre>
<p>In the preceding example, the TCP and UDP ephemeral ports are set to the default range (32768-65536).</p>
<p>If you expect your workload to require a high number of ephemeral ports, then update the UDP and TCP ephemeral port range to a broader range. For example:</p>
<pre dir="ltr">
# /usr/sbin/no -p -o tcp_ephemeral_low=9000 -o tcp_ephemeral_high=65500
# /usr/sbin/no -p -o udp_ephemeral_low=9000 -o udp_ephemeral_high=65500
</pre></div>
<!-- class="sect1" -->
<a id="BABFHCAF"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.10</span> Checking Resource Limits for AIX</h2>
<p>On AIX platforms, the <code dir="ltr">/etc/security/login.cfg</code> file controls and limits resources for users on the system. On login, control and limit resources should be set for users on the system so that authentication is carried out through the <code dir="ltr">pam.conf</code> file, to prevent denial of service attacks.</p>
<p>By default, resource limits are set to <code dir="ltr">std_auth</code> for AIX operating systems. Edit the file <code dir="ltr">/etc/security/login.cfg</code> file to change <code dir="ltr">auth_type</code> under the <code dir="ltr">usw</code> stanza from <code dir="ltr">std_auth</code> to <code dir="ltr">pam_auth</code>.</p>
<p>To ensure that these resource limits are honored, confirm that the line <code dir="ltr">login session required /usr/lib/security/pam_aix</code> is set in <code dir="ltr">/etc/pam.conf</code>. For example:</p>
<pre dir="ltr">
dtsession auth  required        /usr/lib/security/pam_aix
dtlogin session required        /usr/lib/security/pam_aix
ftp     session required        /usr/lib/security/pam_aix
imap    session required        /usr/lib/security/pam_aix
login   session required        /usr/lib/security/pam_aix
rexec   session required        /usr/lib/security/pam_aix
rlogin  session required        /usr/lib/security/pam_aix
rsh     session required        /usr/lib/security/pam_aix
snapp   session required        /usr/lib/security/pam_aix
su      session required        /usr/lib/security/pam_aix
swrole  session required        /usr/lib/security/pam_aix
telnet  session required        /usr/lib/security/pam_aix
xdm     session required        /usr/lib/security/pam_aix
OTHER   session required        /usr/lib/security/pam_prohibit
websm_rlogin    session    required     /usr/lib/security/pam_aix
websm_su        session    required     /usr/lib/security/pam_aix
wbem       session       required    /usr/lib/security/pam_aix
</pre></div>
<!-- class="sect1" -->
<a id="CEGFFFEE"></a>
<div id="CWAIX212" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.11</span> Tuning AIX System Environment</h2>
<p>Perform the following system tuning and configuration all cluster nodes.</p>
<ul>
<li>
<p><a href="#BABHBAJJ">Checking Asynchronous Input Output Processes</a></p>
</li>
<li>
<p><a href="#CEGIDCJB">Tuning Virtual Memory Manager (VMM)</a></p>
</li>
<li>
<p><a href="#CEGHEDAI">Increasing System Block Size Allocation</a></p>
</li>
<li>
<p><a href="#BABFBDAH">Configuring SSH LoginGraceTime Parameter for AIX</a></p>
</li>
<li>
<p><a href="#CEGDFFJG">Configuring Shell Limits</a></p>
</li>
<li>
<p><a href="#CEGCHEDB">Configuring User Process Parameters</a></p>
</li>
<li>
<p><a href="#CEGHCDFF">Configuring Network Tuning Parameters</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The parameter and shell limit values shown in this section are recommended values only. For production database systems, Oracle recommends that you tune these values to optimize the performance of the system. See your operating system documentation for more information about tuning kernel parameters.</div>
<a id="BABHBAJJ"></a>
<div id="CWAIX213" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.11.1</span> Checking Asynchronous Input Output Processes</h3>
<p>On AIX 5, run the <code dir="ltr">rootpre.sh</code> script to enable the Asynchronous Input Output (AIO) device drivers. On AIX 6, the AIO device drivers are enabled by default. For both AIX 5 and AIX 6, increase the number of <code dir="ltr">aioserver</code> processes from the default value. The recommended value for <code dir="ltr">aio_maxreqs</code> is 64k (65536). Confirm this value for both AIX 5 and AIX 6.</p>
<p>Confirm the <code dir="ltr">aio_maxreqs</code> value using the procedure for your release:</p>
<p><span class="bold">AIX 6.1 and 7.1</span>:</p>
<pre dir="ltr">
# ioo -o aio_maxreqs
aio_maxreqs = 65536
</pre>
<p><span class="bold">AIX 5.3</span>:</p>
<pre dir="ltr">
# lsattr -El aio0 -a maxreqs
maxreqs 65536 Maximum number of REQUESTS True
</pre>
<p>When performing an asynchronous I/O to a file system, note that each asynchronous I/O operation is tied to an asynchronous I/O server. Thus, the number of asynchronous I/O servers limits the number of concurrent asynchronous I/O operations in the system.</p>
<p>The initial number of servers that are started during a system restart is determined by the <code dir="ltr">minservers</code> parameter. As concurrent asynchronous I/O operations occur, additional asynchronous I/O servers are started, up to a maximum of the value set in the <code dir="ltr">maxservers</code> parameter.</p>
<p>On AIX 5.3, if you are using Oracle Database with data files on a file system, then increase the default values for <code dir="ltr">minservers</code> and <code dir="ltr">maxservers</code>, as the default values for these parameters are too small. Increase the <code dir="ltr">minservers</code> and <code dir="ltr">maxservers</code> values based on I/O kprocs for each processor.</p>
<p>In general, to set the number of asynchronous I/O servers, complete the following procedure:</p>
<ol>
<li>
<p>Adjust the initial value of maxservers to 10 times the number of disks divided by the number of CPUs that are to be used concurrently but no more than 80.</p>
</li>
<li>
<p>Monitor the performance effects on the system during periods of high I/O activity. If all AIO server processes are started, then increase the maxservers value. Also, continue to monitor the system performance during peak I/O activity to determine if there was a benefit from the additional AIO servers. Too many asynchronous I/O servers increase memory and processor overload of additional processes, but this disadvantage is small. See your operating system vendor documentation for information about tuning AIO parameters.</p>
</li>
</ol>
<p>To monitor the number of AIO server processes that have started, enter the following command:</p>
<pre dir="ltr">
# ps -ek|grep -v grep|grep &ndash;v posix_aioserver|grep -c aioserver
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with AIX 6.1, <code dir="ltr">minservers</code> and <code dir="ltr">maxservers</code> are replaced by the <code dir="ltr">aio_minservers</code> and <code dir="ltr">aio_maxservers</code> parameters respectively.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CEGBHECC">Section 2.15, "Running the rootpre.sh Script."</a></div>
</div>
<!-- class="sect2" -->
<a id="CEGIDCJB"></a>
<div id="CWAIX214" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.11.2</span> Tuning Virtual Memory Manager (VMM)</h3>
<p>Oracle recommends that you use the <code dir="ltr">vmo</code> command to tune virtual memory using the following values<a id="sthref297"></a><a id="sthref298"></a>:</p>
<div id="CWAIX215" class="tblformal">
<p class="titleintable"><a id="sthref299"></a><a id="sthref300"></a>Table 2-5 Recommended Values for Virtual Memory Manager</p>
<table class="cellalignment2448" title="Recommended Values for Virtual Memory Manager" summary="Virtual Memory Manager recommended values" dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t46">Parameter</th>
<th class="cellalignment2447" id="r1c2-t46">Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t46" headers="r1c1-t46">
<p>minperm%</p>
</td>
<td class="cellalignment2441" headers="r2c1-t46 r1c2-t46">
<p>3 (AIX 5.3 default is 20)</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t46" headers="r1c1-t46">
<p>maxperm%</p>
</td>
<td class="cellalignment2441" headers="r3c1-t46 r1c2-t46">
<p>90 (AIX 5.3 default is 80)</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t46" headers="r1c1-t46">
<p>maxclient% = 90</p>
</td>
<td class="cellalignment2441" headers="r4c1-t46 r1c2-t46">
<p>90 (AIX 5.3 default is 80)</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t46" headers="r1c1-t46">
<p>lru_file_repage</p>
</td>
<td class="cellalignment2441" headers="r5c1-t46 r1c2-t46">
<p>0 (AIX 5.3 default is 1)</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t46" headers="r1c1-t46">
<p>strict_maxclient</p>
</td>
<td class="cellalignment2441" headers="r6c1-t46 r1c2-t46">
<p>1 (AIX 5.3 default is 1)</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t46" headers="r1c1-t46">
<p>strict_maxperm</p>
</td>
<td class="cellalignment2441" headers="r7c1-t46 r1c2-t46">
<p>0 (AIX 5.3 default is 0)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p>For example:</p>
<pre dir="ltr">
vmo -p -o minperm%=3
vmo -p -o maxperm%=90
vmo -p -o maxclient%=90
vmo -p -o lru_file_repage=0
vmo -p -o strict_maxclient=1
vmo -p -o strict_maxperm=0
</pre>
<p>You must restart the system for these changes to take effect.</p>
</div>
<!-- class="sect2" -->
<a id="CEGHEDAI"></a>
<div id="CWAIX216" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.11.3</span> Increasing System Block Size Allocation</h3>
<p>Oracle recommends that you increase the space allocated for ARG/ENV list to 128. The size is specified by number of 4K blocks.</p>
<p>For example:</p>
<pre dir="ltr">
/usr/sbin/chdev -l sys0 -a ncargs='128'
</pre></div>
<!-- class="sect2" -->
<a id="BABFBDAH"></a>
<div id="CWAIX419" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.11.4</span> Configuring SSH LoginGraceTime Parameter for AIX</h3>
<p>On AIX systems, the OpenSSH parameter LoginGraceTime by default is commented out, and the default behavior of OpenSSH on AIX can sometimes result in timeout errors. To avoid these errors, complete the following procedure:</p>
<ol>
<li>
<p>Log in as root.</p>
</li>
<li>
<p>Using a text editor, open the OpenSSH configuration file <code dir="ltr">/etc/ssh/sshd_config</code>.</p>
</li>
<li>
<p>Locate the comment line <code dir="ltr">#LoginGraceTime 2m</code>.</p>
</li>
<li>
<p>Uncomment the line, and change the value to <code dir="ltr">0</code> (unlimited). For example:</p>
<pre dir="ltr">
LoginGraceTime 0
</pre></li>
<li>
<p>Save <code dir="ltr">/etc/ssh/sshd_config</code>.</p>
</li>
<li>
<p>Restart SSH.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGDFFJG"></a>
<div id="CWAIX217" class="sect2">
<h3 class="sect2"><span class="secnum">2.11.5</span> Configuring Shell Limits</h3>
<p>Set shell limits for the Oracle Grid Infrastructure installation owner and for root. Verify that unlimited is set for both accounts either by using the smit utility or by editing the <code dir="ltr">/etc/security/limits</code> file. The <code dir="ltr">root</code> user requires these settings because the crs daemon (<code dir="ltr">crsd</code>) runs as root.</p>
<div class="inftblinformal">
<table class="cellalignment2446" title="Recommended Shell Limits on Linux" summary="This table shows recommended shell limits on Linux" dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t47">Shell Limit</th>
<th class="cellalignment2447" id="r1c2-t47">Item in limits.conf</th>
<th class="cellalignment2447" id="r1c3-t47">Hard Limit</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t47" headers="r1c1-t47">Maximum number of open file descriptors</td>
<td class="cellalignment2441" headers="r2c1-t47 r1c2-t47"><a id="sthref301"></a><code dir="ltr">nofile</code></td>
<td class="cellalignment2441" headers="r2c1-t47 r1c3-t47">-1 (unlimited)</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t47" headers="r1c1-t47">Maximum number of processes available to a single user</td>
<td class="cellalignment2441" headers="r3c1-t47 r1c2-t47"><a id="sthref302"></a><code dir="ltr">nproc<br /></code></td>
<td class="cellalignment2441" headers="r3c1-t47 r1c3-t47">-1 (unlimited)</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t47" headers="r1c1-t47">Maximum size of the stack segment of the process</td>
<td class="cellalignment2441" headers="r4c1-t47 r1c2-t47"><code dir="ltr">stack</code></td>
<td class="cellalignment2441" headers="r4c1-t47 r1c3-t47">-1 (unlimited)</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>To increase the shell limits:<a id="sthref303"></a><a id="sthref304"></a></p>
<ol>
<li>
<p>Add the following lines to the <code dir="ltr">/etc/security/limits</code> file:<a id="sthref305"></a><a id="sthref306"></a><a id="sthref307"></a></p>
<pre dir="ltr">
default:
        fsize = -1
        core = 2097151
        cpu = -1
        data = -1
        rss = -1
        stack = -1
        nofiles = -1
</pre></li>
<li>
<p>Enter the following command to list the current setting for the maximum number of process allowed by the Oracle software user:</p>
<pre dir="ltr">
/usr/sbin/lsattr -E -l sys0 -a maxuproc
</pre>
<p>If necessary, change the <code dir="ltr">maxuproc</code> setting using the following command:</p>
<pre dir="ltr">
/usr/sbin/chdev -l sys0 -a maxuproc=16384
</pre></li>
<li>
<p>Repeat this procedure on all other nodes in the cluster.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Use shell programs supported by your operating system vendor. If you use a shell program that is not supported by your operating system, then you can encounter errors during installation.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGCHEDB"></a>
<div id="CWAIX218" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.11.6</span> Configuring User Process Parameters</h3>
<p>Verify that the maximum number of processes allowed for each user is set to 2048 or greater:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For production systems, this value should be at least 128 plus the sum of the <code dir="ltr">PROCESSES</code> and <code dir="ltr">PARALLEL_MAX_SERVERS</code> initialization parameters for each database running on the system.</div>
<ol>
<li>
<p>Enter the following command:</p>
<pre dir="ltr">
# smit chgsys
</pre></li>
<li>
<p>Verify that the value shown for <span class="bold">Maximum number of PROCESSES allowed for each user</span> is greater than or equal to 2048.</p>
<p>If necessary, edit the existing value.</p>
</li>
<li>
<p>When you have finished making changes, press Enter, then Esc+0 (Exit) to exit.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGHCDFF"></a>
<div id="CWAIX219" class="sect2">
<h3 class="sect2"><span class="secnum">2.11.7</span> Configuring Network Tuning Parameters</h3>
<p>Verify that the network tuning parameters shown in the following table are set to the values shown or higher values. The procedure following the table describes how to verify and set the values.</p>
<div class="inftblhruleinformal">
<table class="cellalignment2446" title="Recommended Shell Limits on AIX" summary="Recommended Shell Limits on AIX" dir="ltr">
<thead>
<tr class="cellalignment2435">
<th class="cellalignment2447" id="r1c1-t50">Network Tuning Parameter</th>
<th class="cellalignment2447" id="r1c2-t50">Recommended Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r2c1-t50" headers="r1c1-t50">ipqmaxlen</td>
<td class="cellalignment2441" headers="r2c1-t50 r1c2-t50">512</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r3c1-t50" headers="r1c1-t50">rfc1323</td>
<td class="cellalignment2441" headers="r3c1-t50 r1c2-t50">1</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r4c1-t50" headers="r1c1-t50">sb_max</td>
<td class="cellalignment2441" headers="r4c1-t50 r1c2-t50">4194304</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r5c1-t50" headers="r1c1-t50">tcp_recvspace</td>
<td class="cellalignment2441" headers="r5c1-t50 r1c2-t50">65536</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r6c1-t50" headers="r1c1-t50">tcp_sendspace</td>
<td class="cellalignment2441" headers="r6c1-t50 r1c2-t50">65536</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r7c1-t50" headers="r1c1-t50">udp_recvspace</td>
<td class="cellalignment2441" headers="r7c1-t50 r1c2-t50">655360
<p><span class="bold">Note:</span> The recommended value of this parameter is 10 times the value of the udp_sendspace parameter. The value must be less than the value of the sb_max parameter.</p>
</td>
</tr>
<tr class="cellalignment2435">
<td class="cellalignment2441" id="r8c1-t50" headers="r1c1-t50">udp_sendspace</td>
<td class="cellalignment2441" headers="r8c1-t50 r1c2-t50">65536
<p><span class="bold">Note:</span> This value is suitable for a default database installation. For production databases, the minimum value for this parameter is 4 KB plus the value of the database <code dir="ltr">DB_BLOCK_SIZE</code> initialization parameter multiplied by the value of the <code dir="ltr">DB_MULTIBLOCK_READ_COUNT</code> initialization parameter:</p>
<p>(<code dir="ltr">DB_BLOCK_SIZE</code> * <code dir="ltr">DB_FILE_MULTIBLOCK_READ_COUNT</code>) + 4 KB</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" -->
<p>To view the current value specified for these parameters, and to change them if necessary:</p>
<ol>
<li>
<p>To check the current values of the network tuning parameters, enter commands similar to the following:</p>
<pre dir="ltr">
# no -a | more
</pre></li>
<li>
<p>If you must change the value of any parameter, then enter the following command to determine whether the system is running in compatibility mode:</p>
<pre dir="ltr">
# lsattr -E -l sys0 -a pre520tune
</pre>
<p>If the system is running in compatibility mode, then the output is similar to the following, showing that the value of the pre520tune attribute is enabled:</p>
<pre dir="ltr">
pre520tune enable Pre-520 tuning compatibility mode True
</pre></li>
<li>
<p>If the system is running in compatibility mode, then follow these steps to change the parameter values:</p>
<ol>
<li>
<p>Enter commands similar to the following to change the value of each parameter:</p>
<pre dir="ltr">
# no -o <span class="italic">parameter_name</span>=<span class="italic">value</span>
</pre>
<p>For example:</p>
<pre dir="ltr">
# no -o udp_recvspace=655360
</pre></li>
<li>
<p>Add entries similar to the following to the <code dir="ltr">/etc/rc.net</code> file for each parameter that you changed in the previous step:</p>
<pre dir="ltr">
if [ -f /usr/sbin/no ] ; then
   /usr/sbin/no -o udp_sendspace=65536
   /usr/sbin/no -o udp_recvspace=655360
   /usr/sbin/no -o tcp_sendspace=65536
   /usr/sbin/no -o tcp_recvspace=65536
   /usr/sbin/no -o rfc1323=1
   /usr/sbin/no -o sb_max=4194304
   /usr/sbin/no -o ipqmaxlen=512
fi
</pre>
<p>By adding these lines to the <code dir="ltr">/etc/rc.net</code> file, the values persist when the system restarts.</p>
<p>You can also set RFC1323 value without restarting the system:</p>
<pre dir="ltr">
chdev -l en5 -a rfc1323=1
</pre></li>
</ol>
</li>
<li>
<p>If the system is not running in compatibility mode, then enter commands similar to the following to change the parameter values:</p>
<ul>
<li>
<p><code dir="ltr">ipqmaxlen</code> parameter:</p>
<pre dir="ltr">
/usr/sbin/no -r -o ipqmaxlen=512
</pre></li>
<li>
<p>Other parameter:</p>
<pre dir="ltr">
/usr/sbin/no -p -o <span class="italic">parameter</span>=<span class="italic">value</span>
</pre></li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you modify the <code dir="ltr">ipqmaxlen</code> parameter, then you must restart the system.</div>
<p>These commands modify the <code dir="ltr">/etc/tunables/nextboot</code> file, causing the attribute values to persist when the system restarts.</p>
</li>
<li>
<p>If you need to change parameters, and you do not restart your system, then use the <code dir="ltr">ifconfig</code> command to check each network parameter after you change the no global setting.</p>
<p>For example:</p>
<pre dir="ltr">
# ifconfig en0
en0:
flags=1e080863,2c0&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,6
4BIT,CHECKSUM_OFFLOAD(ACTIVE),LARGESEND,CHAIN,MONITOR&gt;
        inet 192.0.2.1 netmask 0xfffff800 broadcast 192.0.2.0
        inet 192.0.2.2 netmask 0xfffff800 broadcast 192.0.2.0
        inet 192.0.2.3 netmask 0xfffff800 broadcast 192.0.2.0
        inet 192.0.2.4 netmask 0xfffff800 broadcast 192.0.2.0
         tcp_sendspace 131072 tcp_recvspace 65536 rfc1323 0 
</pre>
<p>For the ISNO parameter tcp_sendspace, use the following command to set it:</p>
<pre dir="ltr">
# ifconfig en0 tcp_sendspace 65536
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The IBM documentation for more information about tuning AIX parameters for your system.</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGBDEJJ"></a>
<div id="CWAIX220" class="sect1">
<h2 class="sect1"><span class="secnum">2.12</span> Network Time Protocol Setting</h2>
<p>Oracle Clusterware requires the same time zone setting on all cluster nodes. During installation, the installation process picks up the time zone setting of the Grid installation owner on the node where OUI runs, and uses that on all nodes as the default TZ setting for all processes managed by Oracle Clusterware. This default is used for databases, Oracle ASM, and any other managed processes.</p>
<p>You have two options for time synchronization: an operating system configured network time protocol (NTP), or Oracle Cluster Time Synchronization Service. Oracle Cluster Time Synchronization Service is designed for organizations whose cluster servers are unable to access NTP services. If you use NTP, then the Oracle Cluster Time Synchronization daemon (ctssd) starts up in observer mode. If you do not have NTP daemons, then <code dir="ltr">ctssd</code> starts up in active mode and synchronizes time among cluster members without contacting an external time server.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before starting the installation of Oracle Grid Infrastructure, Oracle recommends that you ensure the clocks on all nodes are set to the same time.</div>
<p><a id="sthref308"></a><a id="sthref309"></a>If you have NTP daemons on your server but you cannot configure them to synchronize time with a time server, and you want to use Cluster Time Synchronization Service to provide synchronization service in the cluster, then deactivate and deinstall the NTP.</p>
<p>To disable the NTP service, run the following command as the <code dir="ltr">root</code> user</p>
<pre dir="ltr">
# stopsrc -s xntpd
</pre>
<p>When the installer finds that the NTP protocol is not active, the Cluster Time Synchronization Service is installed in active mode and synchronizes the time across the nodes. If NTP is found configured, then the Cluster Time Synchronization Service is started in observer mode, and no active time synchronization is performed by Oracle Clusterware within the cluster.</p>
<p>To confirm that <code dir="ltr">ctssd</code> is active after installation, enter the following command as the Grid installation owner:</p>
<pre dir="ltr">
$ crsctl stat resource ora.ctssd -t -init
</pre>
<p><a id="sthref310"></a><a id="sthref311"></a>If you are using NTP, and you prefer to continue using it instead of Cluster Time Synchronization Service, then you need to modify the NTP initialization file to enable slewing, which prevents time from being adjusted backward. Restart the network time protocol daemon after you complete this task.</p>
<p>To do this on AIX, configure the XNTP daemon to start at each system restart by editing the file <code dir="ltr">/etc/rc.tcpip</code>:</p>
<ol>
<li>
<p>Open the <code dir="ltr">/etc/rc.tcpip file</code>, and locate the following line:</p>
<pre dir="ltr">
start /usr/sbin/xntpd "$src_running"
</pre></li>
<li>
<p>Change the line to the following:</p>
<pre dir="ltr">
start /usr/sbin/xntpd "$src_running" "-x"
</pre></li>
<li>
<p>Save the file.</p>
</li>
</ol>
<p>To enable XNTP after it has been disabled, enter the following command on each cluster member node:</p>
<pre dir="ltr">
# startsrc -s xntpd -a "-x"
</pre></div>
<!-- class="sect1" -->
<a id="CEGIICGI"></a>
<div id="CWAIX228" class="sect1">
<h2 class="sect1"><span class="secnum">2.13</span> Automatic SSH Configuration During Installation</h2>
<p><a id="sthref312"></a><a id="sthref313"></a><a id="sthref314"></a>To install Oracle software, Secure Shell (SSH) connectivity should be set up between all cluster member nodes. OUI uses the <code dir="ltr">ssh</code> and <code dir="ltr">scp</code> commands during installation to run remote commands on and copy files to the other cluster nodes. You must configure SSH so that these commands do not prompt for a password.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
SSH is used by Oracle configuration assistants for configuration operations from local to remote nodes. It is also used by Oracle Enterprise Manager.</div>
<p>You can configure SSH from the Oracle Universal Installer (OUI) interface during installation for the user account running the installation. The automatic configuration creates passwordless SSH connectivity between all cluster member nodes. Oracle recommends that you use the automatic procedure if possible.</p>
<p><a id="sthref315"></a>To enable the script to run, you must remove <code dir="ltr">stty</code> commands from the profiles of any Oracle software installation owners, and remove other security measures that are triggered during a login, and that generate messages to the terminal. These messages, mail checks, and other displays prevent Oracle software installation owners from using the SSH configuration script that is built into the Oracle Universal Installer. If they are not disabled, then SSH must be configured manually before an installation can be run.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CEGBBFAB">Section 2.14.5, "Preventing Installation Errors Caused by Terminal Output Commands"</a> for information about how to remove stty commands in user profiles</div>
<p>By default, OUI searches for SSH public keys in the directory <code dir="ltr">/usr/local/etc/</code>, and ssh-keygen binaries in <code dir="ltr">/usr/local/bin</code>. However, on AIX, SSH public keys typically are located in the path <code dir="ltr">/etc/ssh, and</code> ssh-keygen binaries are located in the path <code dir="ltr">/usr/bin</code>. To ensure that OUI can set up SSH, use the following command to create soft links:</p>
<pre dir="ltr">
# ln -s /etc/ssh /usr/local/etc
# ln -s /usr/bin /usr/local/bin
</pre>
<p>In rare cases, Oracle Clusterware installation may fail during the "AttachHome" operation when the remote node closes the SSH connection. To avoid this problem, set the following parameter in the SSH daemon configuration file /etc/ssh/sshd_config on all cluster nodes to set the timeout wait to unlimited:</p>
<pre dir="ltr">
LoginGraceTime 0
</pre></div>
<!-- class="sect1" -->
<a id="CEGDIIDG"></a>
<div id="CWAIX229" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.14</span> Configuring Grid Infrastructure Software Owner User Environments<a id="sthref316"></a><a id="sthref317"></a><a id="sthref318"></a></h2>
<p>You run the installer software with the Oracle Grid Infrastructure installation owner user account (<code dir="ltr">oracle</code> or <code dir="ltr">grid</code>). However, before you start the installer, you must configure the environment of the installation owner user account. Also, create other required Oracle software owners, if needed.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGHGGEH">Environment Requirements for Oracle Grid Infrastructure Software Owner</a></p>
</li>
<li>
<p><a href="#CEGCDHAC">Environment Requirements for Oracle Database and Oracle ASM Owners</a></p>
</li>
<li>
<p><a href="#CEGDCDJF">Setting Display and X11 Forwarding Configuration</a></p>
</li>
<li>
<p><a href="#CEGBBFAB">Preventing Installation Errors Caused by Terminal Output Commands</a></p>
</li>
</ul>
<a id="CEGHGGEH"></a>
<div id="CWAIX230" class="sect2">
<h3 class="sect2"><span class="secnum">2.14.1</span> Environment Requirements for Oracle Grid Infrastructure Software Owner</h3>
<p>You must make the following changes to configure the Oracle Grid Infrastructure software owner environment:</p>
<ul>
<li>
<p>Set the installation software owner user (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>) default file mode creation mask (umask) to 022 in the shell startup file<a id="sthref319"></a><a id="sthref320"></a><a id="sthref321"></a><a id="sthref322"></a><a id="sthref323"></a><a id="sthref324"></a>. Setting the mask to 022 ensures that the user performing the software installation creates files with 644 permissions.</p>
</li>
<li>
<p>Set ulimit settings for file descriptors and processes for the installation software owner (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>)</p>
</li>
<li>
<p>Set the software owner's environment variable DISPLAY environment variables in preparation for the Oracle Grid Infrastructure installation</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CEGCDHAC"></a>
<div id="CWAIX231" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.14.2</span> Environment Requirements for Oracle Database and Oracle ASM Owners</h3>
<p>If you intend to install Oracle Database or Oracle ASM, then complete the following additional tasks. If you plan to install other software using the role-based privileges method, then complete the following tasks for the Oracle Database software owner (<code dir="ltr">oracle</code>) and Oracle ASM software owner (<code dir="ltr">asm</code>).</p>
<ul>
<li>
<p>Create an Oracle Base path. The Optimal Flexible Architecture path for the Oracle Base is <code dir="ltr">/u01/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the user account that you want to own the Oracle Database software. For example: <code dir="ltr">/u01/app/oracle</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not create the Oracle Clusterware home under Oracle base. Creating an Oracle Clusterware installation in an Oracle base directory path will cause succeeding Oracle installations to fail.</div>
</li>
<li>
<p>Set the installation software owner user (<code dir="ltr">asm</code>, <code dir="ltr">oracle</code>) default file mode creation mask (umask) to 022 in the shell startup file<a id="sthref325"></a><a id="sthref326"></a><a id="sthref327"></a><a id="sthref328"></a><a id="sthref329"></a><a id="sthref330"></a>. Setting the mask to 022 ensures that the user performing the software installation creates files with 644 permissions.</p>
</li>
<li>
<p>Set the software owners' environment variable DISPLAY environment variables in preparation for the Oracle ASM or Oracle Database installation</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="CWAIX232" class="sect2"><a id="sthref331"></a>
<h3 class="sect2"><span class="secnum">2.14.3</span> Procedure for Configuring Oracle Software Owner Environments</h3>
<p>To set the Oracle software owners' environments, follow these steps, for each software owner (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>):</p>
<ol>
<li>
<p>Start a new terminal session; for example, start an X terminal (<code dir="ltr">xterm</code>).</p>
</li>
<li>
<p>Enter the following command to ensure that X Window applications can display on this system:</p>
<pre dir="ltr">
$ xhost + <span class="italic">hostname</span>
</pre>
<p>The <span class="italic">hostname</span> is the name of the local host.</p>
</li>
<li>
<p>If you are not already logged in to the system where you want to install the software, then log in to that system as the software owner user.</p>
</li>
<li>
<p>If you are not logged in as the user, then switch to the software owner user you are configuring. For example, with the <code dir="ltr">grid</code> user:</p>
<pre dir="ltr">
$ su - grid
</pre></li>
<li>
<p>To determine the default shell for the user, enter the following command:<a id="sthref332"></a><a id="sthref333"></a><a id="sthref334"></a><a id="sthref335"></a><a id="sthref336"></a></p>
<pre dir="ltr">
$ echo $SHELL
</pre></li>
<li>
<p>Open the user's shell startup file in any text editor:<a id="sthref337"></a><a id="sthref338"></a><a id="sthref339"></a><a id="sthref340"></a><a id="sthref341"></a><a id="sthref342"></a><a id="sthref343"></a><a id="sthref344"></a><a id="sthref345"></a><a id="sthref346"></a><a id="sthref347"></a><a id="sthref348"></a></p>
<ul>
<li>
<p>Bourne shell (<code dir="ltr">sh</code>) or Korn shell (<code dir="ltr">ksh</code>):</p>
<pre dir="ltr">
% vi .profile
</pre></li>
<li>
<p>C shell (<code dir="ltr">csh</code> or <code dir="ltr">tcsh</code>):</p>
<pre dir="ltr">
% vi .login
</pre></li>
</ul>
</li>
<li>
<p>Enter or edit the following line, specifying a value of 022 for the default file mode creation mask:</p>
<pre dir="ltr">
umask 022
</pre></li>
<li>
<p>If the <code dir="ltr">ORACLE_SID</code>, <code dir="ltr">ORACLE_HOME</code>, or <code dir="ltr">ORACLE_BASE</code> environment variable is set in the file, then remove the appropriate lines from the file.<a id="sthref349"></a><a id="sthref350"></a><a id="sthref351"></a><a id="sthref352"></a><a id="sthref353"></a></p>
</li>
<li>
<p>Save the file, and exit from the text editor.</p>
</li>
<li>
<p>To run the shell startup script, enter one of the following commands:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ . ./.profile
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">
% source ./.login
</pre></li>
</ul>
</li>
<li>
<p>If you are not installing the software on the local system, then enter a command similar to the following to direct X applications to display on the local system:<a id="sthref354"></a><a id="sthref355"></a></p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ DISPLAY=<span class="codeinlineitalic">local_host</span>:0.0 ; export DISPLAY
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">
% setenv DISPLAY <span class="codeinlineitalic">local_host</span>:0.0
</pre></li>
</ul>
<p>In this example, <code dir="ltr"><span class="codeinlineitalic">local_host</span></code> is the host name or IP address of the system that you want to use to display OUI (your workstation or PC).</p>
</li>
<li>
<p>If you determined that the <code dir="ltr">/tmp</code> directory has less than 1 GB MB of free disk space, then identify a file system with at least 1 GB of free space and set the <code dir="ltr">TEMP</code> and <code dir="ltr">TMPDIR</code> environment variables to specify a temporary directory on this file system:<a id="sthref356"></a><a id="sthref357"></a><a id="sthref358"></a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use a shared file system as the location of the temporary file directory (typically <code dir="ltr">/tmp</code>) for Oracle RAC installation. If you place <code dir="ltr">/tmp</code> on a shared file system, then the installation fails.</div>
<ol>
<li>
<p>Use the <code dir="ltr">df -k</code> command to identify a suitable file system with sufficient free space.<a id="sthref359"></a></p>
</li>
<li>
<p>If necessary, enter commands similar to the following to create a temporary directory on the file system that you identified, and set the appropriate permissions on the directory:</p>
<pre dir="ltr">
$ su - root
# mkdir /<span class="italic">mount_point</span>/tmp
# chmod 775 /<span class="italic">mount_point</span>/tmp
# exit
</pre></li>
<li>
<p>Enter commands similar to the following to set the TEMP and TMPDIR environment variables:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ TEMP=/<span class="italic">mount_point</span>/tmp
$ TMPDIR=/<span class="italic">mount_point</span>/tmp
$ export TEMP TMPDIR
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">
% setenv TEMP /<span class="italic">mount_point</span>/tmp
% setenv TMPDIR /<span class="italic">mount_point</span>/tmp
</pre></li>
</ul>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGDCDJF"></a>
<div id="CWAIX233" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.14.4</span> Setting Display and <a id="sthref360"></a><a id="sthref361"></a><a id="sthref362"></a>X11 Forwarding Configuration</h3>
<p><a id="sthref363"></a>If you are on a remote terminal, and the local node has only one visual (which is typical), then use the following syntax to set the DISPLAY environment variable:</p>
<p>Bourne, Korn, and Bash shells</p>
<pre dir="ltr">
$ export DISPLAY=<span class="italic">hostname</span>:0
</pre>
<p>C shell:</p>
<pre dir="ltr">
$ setenv DISPLAY <span class="italic">hostname</span>:0
</pre>
<p>For example, if you are using the Bash shell, and if your host name is <code dir="ltr">node1</code>, then enter the following command:</p>
<pre dir="ltr">
$ export DISPLAY=node1:0
</pre>
<p><a id="sthref364"></a>To ensure that X11 forwarding will not cause the installation to fail, create a user-level SSH client configuration file for the Oracle software owner user, as follows:</p>
<ol>
<li>
<p>Using any text editor, edit or create the software installation owner's <code dir="ltr">~/.ssh/config</code> file.</p>
</li>
<li>
<p>Make sure that the ForwardX11 attribute is set to <code dir="ltr">no</code>. For example:</p>
<pre dir="ltr">
Host *
      ForwardX11 no
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGBBFAB"></a>
<div id="CWAIX234" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.14.5</span> Preventing Installation Errors Caused by Terminal Output Commands</h3>
<p><a id="sthref365"></a><a id="sthref366"></a>During an Oracle Grid Infrastructure installation, OUI uses SSH to run commands and copy files to the other nodes. During the installation, hidden files on the system (for example, <code dir="ltr">.bashrc</code> or <code dir="ltr">.cshrc</code>) will cause makefile and other installation errors if they contain <code dir="ltr">stty</code> commands.</p>
<p><a id="sthref367"></a><a id="sthref368"></a><a id="sthref369"></a><a id="sthref370"></a>To avoid this problem, you must modify these files in each Oracle installation owner user home directory to suppress all output on <code dir="ltr">STDOUT</code> or <code dir="ltr">STDERR</code> (for example, <code dir="ltr">stty</code>, <code dir="ltr">xtitle</code>, and other such commands) as in the following examples:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
if [ -t 0 ]; then
   stty intr ^C
fi
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">
test -t 0
if ($status == 0) then
   stty intr ^C
endif
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
When SSH is not available, the Installer uses the rsh and rcp commands instead of ssh and scp.
<p>If there are hidden files that contain <code dir="ltr">stty</code> commands that are loaded by the remote shell, then OUI indicates an error and stops the installation.</p>
</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGBHECC"></a>
<div id="CWAIX235" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.15</span> Running the rootpre.sh Script</h2>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not run the <code dir="ltr">rootpre.sh</code> script if you have a later release of the Oracle Database software already installed on this system.</div>
<p>Run the <code dir="ltr">rootpre.sh</code> script:</p>
<ol>
<li>
<p>Switch user to root:</p>
<pre dir="ltr">
$ su - root
</pre></li>
<li>
<p>Complete one of the following steps, depending on the location of the installation</p>
<p>If the installation files are on disc, enter a command similar to the following, where <code dir="ltr"><span class="codeinlineitalic">directory_path</span></code> is the disc mount point directory or the path of the database directory on the DVD:</p>
<pre dir="ltr">
# /<span class="italic">directory_path</span>/rootpre.sh
</pre>
<p>If the installation files are on the hard disk, change directory to the Disk1 directory and enter the following command:</p>
<pre dir="ltr">
# ./rootpre.sh
</pre></li>
<li>
<p>Exit from the root account:</p>
<pre dir="ltr">
# exit
</pre></li>
<li>
<p>Repeat steps 1 through 3 on all nodes of the cluster.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not run the <code dir="ltr">rootpre.sh</code> script if you have a later release of Oracle Database software already installed on this system.</div>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABJBHHE"></a>
<div id="CWAIX420" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.16</span> Adding the Grid Infrastructure Installation Owner to Hagsuser Group</h2>
<p><a id="sthref371"></a><a id="sthref372"></a>If you have HACMP installed on your system, then the <code dir="ltr">rootpre.sh</code> command creates the <code dir="ltr">hagsuser</code> group. You must make the grid infrastructure installation owner (<code dir="ltr">grid</code>) a member of that group.</p>
<p>Enter commands similar to the following to add the Oracle Grid Infrastructure owner (<code dir="ltr">grid</code>) to <code dir="ltr">haguser</code></p>
<pre dir="ltr">
# /usr/bin/chgrpmem -m + grid hagsuser
</pre>
<p>After you add the Oracle Grid Infrastructure installation owner to the <code dir="ltr">hagsuser</code> group, stop and restart HACMP before trying to use it with Oracle Grid Infrastructure.</p>
</div>
<!-- class="sect1" -->
<a id="CEGIBHAJ"></a>
<div id="CWAIX236" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.17</span> Requirements for Creating an Oracle Grid Infrastructure Home Directory</h2>
<p>During installation, you are prompted to provide a path to a home directory to store Oracle Clusterware binaries. Ensure that the directory path you provide meets the following requirements:</p>
<ul>
<li>
<p>It should be created in a path outside existing Oracle homes, including Oracle Clusterware homes.</p>
</li>
<li>
<p>It should not be located in a user home directory.</p>
</li>
<li>
<p>It should be created either as a subdirectory in a path where all files can be owned by <code dir="ltr">root</code>, or in a unique path.</p>
</li>
<li>
<p>If you create the path before installation, then it should be owned by the installation owner of Oracle Grid Infrastructure (typically <code dir="ltr">oracle</code> for a single installation owner for all Oracle software, or <code dir="ltr">grid</code> for role-based Oracle installation owners), and set to 775 permissions.</p>
</li>
</ul>
<p>Oracle recommends that you install Oracle Grid Infrastructure on local homes, rather than using a shared home on shared storage.</p>
<p>For installations with Oracle Grid Infrastructure only, Oracle recommends that you create a path compliant with Oracle Optimal Flexible Architecture (OFA) guidelines, so that Oracle Universal Installer (OUI) can select that directory during installation. For OUI to recognize the path as an Oracle software path, it must be in the form u0[<span class="italic">1-9</span>]/app.</p>
<p>When OUI finds an OFA-compliant path, it creates the Oracle Grid Infrastructure and Oracle Inventory (<code dir="ltr">oraInventory</code>) directories for you.</p>
<p>To create an Oracle Grid Infrastructure path manually, ensure that it is in a separate path, not under an existing Oracle base path. For example:</p>
<pre dir="ltr">
# mkdir -p  /u01/app/11.2.0/grid
# chown grid:oinstall /u01/app/11.2.0/grid
# chmod -R 775 /u01/app/11.2.0/grid
</pre>
<p><a id="sthref373"></a>With this path, if the installation owner is named grid, then by default OUI creates the following path for the Grid home:</p>
<pre dir="ltr">
/u01/app/11.2.0/grid
</pre>
<p>Create an Oracle base path for database installations, owned by the Oracle Database installation owner account. The OFA path for an Oracle base is <code dir="ltr">/u01/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the Oracle software installation owner account. For example, use the following commands to create an Oracle base for the database installation owner account <code dir="ltr">oracle</code>:</p>
<pre dir="ltr">
# mkdir -p  /u01/app/oracle
# chown -R oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/app/oracle
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref374"></a><a id="sthref375"></a>If you choose to create an Oracle Grid Infrastructure home manually, then do not create the Oracle Grid Infrastructure home for a cluster under either the grid installation owner Oracle base or the Oracle Database installation owner Oracle base. Creating an Oracle Clusterware installation in an Oracle base directory will cause succeeding Oracle installations to fail.
<p>Oracle Grid Infrastructure homes can be placed in a local home on servers, even if your existing Oracle Clusterware home from a prior release is in a shared location.</p>
<p>Homes for Oracle Grid Infrastructure for a standalone server (Oracle Restart) can be under Oracle base. Refer to <a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your platform for more information about Oracle Restart.</p>
</div>
</div>
<!-- class="sect1" -->
<a id="BABGGJIG"></a>
<div id="CWAIX421" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.18</span> Cluster Name Requirements</h2>
<p>The cluster name must be at least one character long and no more than 15 characters in length, must be alphanumeric, cannot begin with a numeral, and may contain hyphens (-).</p>
<p>In a Typical installation, the SCAN you provide is also the name of the cluster, so the SCAN name must meet the requirements for a cluster name. In an Advanced installation, The SCAN and cluster name are entered in separate fields during installation, so cluster name requirements do not apply to the SCAN name.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2434">
<tr>
<td class="cellalignment2441">
<table class="cellalignment2439">
<tr>
<td class="cellalignment2438"><a href="typinstl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2438"><a href="storage.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2443">
<table class="cellalignment2437">
<tr>
<td class="cellalignment2438"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2438"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2438"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2438"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2438"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2438"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
