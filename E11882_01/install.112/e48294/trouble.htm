<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Troubleshooting the Oracle Grid Infrastructure Installation Process</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1088" />
<meta name="dcterms.created" content="2016-12-15T5:17:15Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide" />
<meta name="dcterms.identifier" content="E48294-03" />
<meta name="dcterms.isVersionOf" content="CWAIX" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html" />
<link rel="Next" href="app_nonint.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e48294.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/17</span> <!-- End Header -->
<div id="CWAIX321" class="appendix"><a id="sthref693"></a>
<h1 class="appendix"><span class="secnum">A</span> Troubleshooting the Oracle Grid Infrastructure Installation Process</h1>
<p>This appendix provides troubleshooting information for installing Oracle Grid Infrastructure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Database 11<span class="italic">g</span> Oracle RAC documentation set included with the installation media in the Documentation directory:
<ul>
<li>
<p><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></p>
</li>
<li>
<p><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></p>
</li>
</ul>
</div>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#CACJCBBC">General Installation Issues</a></p>
</li>
<li>
<p><a href="#BABHHBGD">Interpreting CVU "Unknown" Output Messages Using Verbose Mode</a></p>
</li>
<li>
<p><a href="#BABGAGHF">Interpreting CVU Messages About Oracle Grid Infrastructure Setup</a></p>
</li>
<li>
<p><a href="#BABHAIBB">About the Oracle Grid Infrastructure Alert Log</a></p>
</li>
<li>
<p><a href="#BABJJFDG">Troubleshooting Issues on AIX</a></p>
</li>
<li>
<p><a href="#CIAEHCEA">Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</a></p>
</li>
<li>
<p><a href="#BABHHDGJ">About Using CVU Cluster Healthchecks After Installation</a></p>
</li>
<li>
<p><a href="#BABIIBGI">Interconnect Configuration Issues</a></p>
</li>
<li>
<p><a href="#BABDGGEJ">SCAN VIP and SCAN Listener Issues</a></p>
</li>
<li>
<p><a href="#BABICIBG">Storage Configuration Issues</a></p>
</li>
</ul>
<a id="CACJCBBC"></a>
<div id="CWAIX323" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.1</span> General Installation Issues</h2>
<p>The following is a list of examples of types of errors that can occur during installation. It contains the following issues:</p>
<ul>
<li>
<p><a href="#CIAJIAAE">An error occurred while trying to get the disks</a></p>
</li>
<li>
<p><a href="#BABEEDAC">Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</a></p>
</li>
<li>
<p><a href="#BABFCIIC">CRS-5823:Could not initialize agent framework.</a></p>
</li>
<li>
<p><a href="#CIACFDDA">Failed to connect to server, Connection refused by server, or Can't open display</a></p>
</li>
<li>
<p><a href="#CIACHJHJ">Nodes unavailable for selection from the OUI Node Selection screen</a></p>
</li>
<li>
<p><a href="#CIAHFCFH">Node <span class="italic">nodename</span> is unreachable</a></p>
</li>
<li>
<p><a href="#CIAHCAIH">PROT-8: Failed to import data from specified file to the cluster registry</a></p>
</li>
<li>
<p><a href="#BABIIBHJ">PRVE-0038 : The SSH LoginGraceTime setting</a></p>
</li>
<li>
<p><a href="#CIAHEGIB">Time stamp is in the future</a></p>
</li>
<li>
<p><a href="#BABIGEBE">Timed out waiting for the CRS stack to start</a></p>
</li>
</ul>
<div class="msgset"><a id="tahiti32526838"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAJIAAE"></a>An error occurred while trying to get the disks</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> There is an entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existent Oracle home. The OUI log file should show the following error: "java.io.IOException: /home/oracle/OraHome//bin/kfod: not found"</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Remove the entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existing Oracle home.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti50285332"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABEEDAC"></a>Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Either the DISPLAY variable is not set, or the user running the installation is not authorized to open an X window. This can occur if you run the installation from a remote terminal, or if you use an <code dir="ltr">su</code> command to change from a user that is authorized to open an X window to a user account that is not authorized to open an X window on the display, such as a lower-privileged user opening windows on the <code dir="ltr">root</code> user's console display.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Run the command <code dir="ltr">echo $DISPLAY</code> to ensure that the variable is set to the correct visual or to the correct host. If the display variable is set correctly then either ensure that you are logged in as the user authorized to open an X window, or run the command <code dir="ltr">xhost +</code> to allow any user to open an X window.
<p>If you are logged in locally on the server console as <code dir="ltr">root</code>, and used the su - command to change to the Oracle Grid Infrastructure installation owner, then log out of the server, and log back in as the grid installation owner.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51693160"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABFCIIC"></a>CRS-5823:Could not initialize agent framework.</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Installation of Oracle Grid Infrastructure fails when you run <code dir="ltr">root.sh</code>. Oracle Grid Infrastructure fails to start because the local host entry is missing from the hosts file.
<p>The Oracle Grid Infrastructure alert.log file shows the following:</p>
<pre dir="ltr">
[/oracle/app/grid/bin/orarootagent.bin(11392)]CRS-5823:Could not initialize
agent framework. Details at (:CRSAGF00120:) in
/oracle/app/grid/log/node01/agent/crsd/orarootagent_root/orarootagent_root.log
2010-10-04 12:46:25.857
[ohasd(2401)]CRS-2765:Resource 'ora.crsd' has failed on server 'node01'.
</pre>
<p>You can verify this as the cause by checking <code dir="ltr">crsdOUT.log</code> file, and finding the following:</p>
<pre dir="ltr">
Unable to resolve address for localhost:2016
ONS runtime exiting
Fatal error: eONS: eonsapi.c: Aug 6 2009 02:53:02
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Add the localhost entry in the hosts file.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti40863970"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIACFDDA"></a>Failed to connect to server, Connection refused by server, or Can't open display</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> These are typical of X Window display errors on Windows or UNIX systems, where xhost is not properly configured, or where you are running as a user account that is different from the account you used with the startx command to start the X server.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> In a local terminal window, log in as the user that started the X Window session, and enter the following command:
<p>$ xhost <span class="italic">fully_qualified_remote_host_name</span></p>
<p>For example:</p>
<pre dir="ltr">
$ xhost somehost.example.com
</pre>
<p>Then, enter the following commands, where <code dir="ltr"><span class="codeinlineitalic">workstation_name</span></code> is the host name or IP address of your workstation.</p>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">
$ DISPLAY=<span class="italic">workstation_name</span>:0.0
$ export DISPLAY
</pre>
<p>To determine whether X Window applications display correctly on the local system, enter the following command:</p>
<pre dir="ltr">
$ xclock
</pre>
<p>The X clock should appear on your monitor.If the X clock appears, then close the X clock and start Oracle Universal Installer again.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526381"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIACHJHJ"></a>Nodes unavailable for selection from the OUI Node Selection screen</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Oracle Grid Infrastructure is either not installed, or the Oracle Grid Infrastructure services are not up and running.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install Oracle Grid Infrastructure, or review the status of your Oracle Grid Infrastructure installation. Consider restarting the nodes, as doing so may resolve the problem.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526471"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHFCFH"></a>Node <span class="italic">nodename</span> is unreachable</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Unavailable IP host</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Attempt the following:
<ol>
<li>
<p>Run the shell command <code dir="ltr">ifconfig -a</code>. Compare the output of this command with the contents of the <code dir="ltr">/etc/hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run the shell command <code dir="ltr">nslookup</code> to see if the host is reachable.</p>
</li>
<li>
<p>As the <code dir="ltr">oracle</code> user, attempt to connect to the node with <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code>. If you are prompted for a password, then user equivalence is not set up properly.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti40865961"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHCAIH"></a>PROT-8: Failed to import data from specified file to the cluster registry</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Insufficient space in an existing Oracle Cluster Registry device partition, which causes a migration failure while running <code dir="ltr">rootupgrade.sh</code>. To confirm, look for the error "utopen:12:Not enough space in the backing store" in the log file <span class="italic">Grid_home</span> <code dir="ltr">/log/</code><span class="italic">hostname</span><code dir="ltr">/client/ocrconfig_</code><code dir="ltr"><span class="codeinlineitalic">pid</span></code><code dir="ltr">.log</code>.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Identify a storage device that has 280 MB or more available space. Locate the existing raw device name from <code dir="ltr">/var/opt/oracle/srvConfig.loc</code>, and copy the contents of this raw device to the new device using the command <code dir="ltr">dd</code>.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51695150"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABIIBHJ"></a>PRVE-0038 : The SSH LoginGraceTime setting</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> PRVE-0038: The SSH LoginGraceTime setting on node "<span class="italic">nodename</span>" may result in users being disconnected before login is completed. This error occurs because the default timeout value for SSH connections on AIX is too low, if the LoginGraceTime parameter is commented out.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Oracle recommends uncommenting the LoginGraceTime parameter in the OpenSSH configuration file <code dir="ltr">/etc/ssh/sshd_config</code>, and setting it to a value of <code dir="ltr">0</code> (unlimited).</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32526054"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="CIAHEGIB"></a>Time stamp is in the future</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> One or more nodes has a different clock time than the local node. If this is the case, then you may see output similar to the following:
<pre dir="ltr">
time stamp 2005-04-04 14:49:49 is 106 s in the future
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Ensure that all member nodes of the cluster have the same clock time.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51318289"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABIGEBE"></a>Timed out waiting for the CRS stack to start</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If a configuration issue prevents the Oracle Grid Infrastructure software from installing successfully on all nodes, then you may see error messages such as "Timed out waiting for the CRS stack to start," or you may notice that Oracle Grid Infrastructure-managed resources were not create on some nodes after you exit the installer. You also may notice that resources have a status other than ONLINE.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Deconfigure the Oracle Grid Infrastructure installation without removing binaries, and review log files to determine the cause of the configuration issue. After you have fixed the configuration issue, rerun the scripts used during installation to configure Oracle Grid Infrastructure.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rem_orcl.htm#CBHFHBIJ">Section 6.5, "Deconfiguring Oracle Clusterware Without Removing Binaries"</a></div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="BABHHBGD"></a>
<div id="CWAIX451" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> Interpreting CVU "Unknown" Output Messages Using Verbose Mode</h2>
<p>If you run Cluster Verification Utility using the <code dir="ltr">-verbose</code> argument, and a Cluster Verification Utility command responds with <code dir="ltr">UNKNOWN</code> for a particular node, then this is because Cluster Verification Utility cannot determine if a check passed or failed. The following is a list of possible causes for an "Unknown" response:</p>
<ul>
<li>
<p>The node is down</p>
</li>
<li>
<p>Common operating system command binaries required by Cluster Verification Utility are missing in the <code dir="ltr">/bin</code> directory in the Oracle Grid Infrastructure home or Oracle home directory</p>
</li>
<li>
<p>The user account starting Cluster Verification Utility does not have privileges to run common operating system commands on the node</p>
</li>
<li>
<p>The node is missing an operating system patch, or a required package</p>
</li>
<li>
<p>The node has exceeded the maximum number of processes or maximum number of open files, or there is a problem with IPC segments, such as shared memory or semaphores</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABGAGHF"></a>
<div id="CWAIX452" class="sect1">
<h2 class="sect1"><span class="secnum">A.3</span> Interpreting CVU Messages About Oracle Grid Infrastructure Setup</h2>
<p>If the Cluster Verification Utility report indicates that your system fails to meet the requirements for Oracle Grid Infrastructure installation, then use the topics in this section to correct the problem or problems indicated in the report, and run Cluster Verification Utility again.</p>
<ul>
<li>
<p><a href="#BABCCACD">User Equivalence Check Failed</a></p>
</li>
<li>
<p><a href="#BABBBFBD">Node Reachability Check or Node Connectivity Check Failed</a></p>
</li>
<li>
<p><a href="#BABCEBDI">User Existence Check or User-Group Relationship Check Failed</a></p>
</li>
</ul>
<div class="msgset"><a id="tahiti32552150"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABCCACD"></a>User Equivalence Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Failure to establish user equivalency across all nodes. This can be due to not creating the required users, or failing to complete secure shell (SSH) configuration properly.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Cluster Verification Utility provides a list of nodes on which user equivalence failed.
<p>For each node listed as a failure node, review the installation owner user configuration to ensure that the user configuration is properly completed, and that SSH configuration is properly completed. The user that runs the Oracle Grid Infrastructure installation must have permissions to create SSH connections.</p>
<p>Oracle recommends that you use the SSH configuration option in OUI to configure SSH. You can use Cluster Verification Utility before installation if you configure SSH manually, or after installation, when SSH has been configured for installation.</p>
<p>For example, to check user equivalency for the user account <code dir="ltr">oracle</code>, use the command <code dir="ltr">su - oracle</code> and <a id="sthref694"></a><a id="sthref695"></a>check <a id="sthref696"></a>user equivalence manually by running the <code dir="ltr">ssh</code> command on the local node with the <code dir="ltr">date</code> command argument using the following syntax:</p>
<pre dir="ltr">
$ ssh <span class="italic">nodename</span> date
</pre>
<p>The output from this command should be the timestamp of the remote node identified by the value that you use for <code dir="ltr">nodename</code>. If you are prompted for a password, then you need to configure SSH. If <code dir="ltr">ssh</code> is in the default location, the <code dir="ltr">/usr/bin</code> directory, then use <code dir="ltr">ssh</code> to configure user equivalence. You can also use <code dir="ltr">rsh</code> to confirm user equivalence.</p>
<p>If you see a message similar to the following when entering the date command with SSH, then this is the probable cause of the user equivalence error:</p>
<pre dir="ltr">
The authenticity of host 'node1 (140.87.152.153)' can't be established.
RSA key fingerprint is 7z:ez:e7:f6:f4:f2:4f:8f:9z:79:85:62:20:90:92:z9.
Are you sure you want to continue connecting (yes/no)?
</pre>
<p>Enter yes, and then run Cluster Verification Utility to determine if the user equivalency error is resolved.</p>
<p>If <code dir="ltr">ssh</code> is in a location other than the default, <code dir="ltr">/usr/bin</code>, then Cluster Verification Utility reports a user equivalence check failure. To avoid this error, navigate to the directory <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cv/admin</code>, open the file <code dir="ltr">cvu_config</code> with a text editor, and add or update the key <code dir="ltr">ORACLE_SRVM_REMOTESHELL</code> to indicate the <code dir="ltr">ssh</code> path location on your system. For example:</p>
<pre dir="ltr">
# Locations for ssh and scp commands
ORACLE_SRVM_REMOTESHELL=/usr/local/bin/ssh
ORACLE_SRVM_REMOTECOPY=/usr/local/bin/scp
</pre>
<p>Note the following rules for modifying the <code dir="ltr">cvu_config</code> file:</p>
<ul>
<li>
<p>Key entries have the syntax <span class="italic">name</span>=<span class="italic">value</span></p>
</li>
<li>
<p>Each key entry and the value assigned to the key defines one property only</p>
</li>
<li>
<p>Lines beginning with the number sign (#) are comment lines, and are ignored</p>
</li>
<li>
<p>Lines that do not follow the syntax <span class="italic">name</span>=<span class="italic">value</span> are ignored</p>
</li>
</ul>
<p>When you have changed the path configuration, run Cluster Verification Utility again. If <code dir="ltr">ssh</code> is in another location than the default, you also need to start OUI with additional arguments to specify a different location for the remote shell and remote copy commands. Enter <code dir="ltr">runInstaller -help</code> to obtain information about how to use these arguments.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you or OUI run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands, including any login or other shell scripts they start, you may see errors about invalid arguments or standard input if the scripts generate any output. You should correct the cause of these errors.
<p>To stop the errors, remove all commands from the <code dir="ltr">oracle</code> user's login scripts that generate output when you run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands.</p>
<p>If you see messages about X11 forwarding, then complete the task <a href="preaix.htm#CEGDCDJF">Section 2.14.4, "Setting Display and X11 Forwarding Configuration"</a> to resolve this issue.</p>
<p>If you see errors similar to the following:</p>
<pre dir="ltr">
stty: standard input: Invalid argument
stty: standard input: Invalid argument
</pre>
<p>These errors are produced if hidden files on the system (for example, <code dir="ltr">.bashrc</code> or <code dir="ltr">.cshrc</code>) contain <code dir="ltr">stty</code> commands. If you see these errors, then refer to <a href="preaix.htm#CEGBBFAB">Section 2.14.5, "Preventing Installation Errors Caused by Terminal Output Commands"</a> to correct the cause of these errors.</p>
</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32555350"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABBBFBD"></a>Node Reachability Check or Node Connectivity Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> One or more nodes in the cluster cannot be reached using TCP/IP protocol, through either the public or private interconnects.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the command <code dir="ltr">/bin/ping</code> <code dir="ltr"><span class="codeinlineitalic">address</span></code> to check each node address. When you find an address that cannot be reached, check your list of public and private addresses to make sure that you have them correctly configured. If you use third-party vendor clusterware, then refer to the vendor documentation for assistance. Ensure that the public and private network interfaces have the same interface names on each node of your cluster.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti32555580"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="BABCEBDI"></a>User Existence Check or User-Group Relationship Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The administrative privileges for users and groups required for installation are missing or incorrect.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the <code dir="ltr">id</code> command on each node to confirm that the installation owner user (for example, <code dir="ltr">grid</code> or <code dir="ltr">oracle</code>) is created with the correct group membership. Ensure that you have created the required groups, and create or modify the user account on affected nodes to establish required group membership.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="preaix.htm#CEGGEGHA">Section 2.4, "Creating Groups, Users and Paths for Oracle Grid Infrastructure"</a> for instructions about how to create required groups, and how to configure the installation owner user</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="BABHAIBB"></a>
<div id="CWAIX453" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.4</span> About the Oracle Grid Infrastructure Alert Log</h2>
<p>The Oracle Grid Infrastructure alert log is the first place to look for serious errors. In the event of an error, it can contain path information to diagnostic logs that can provide specific information about the cause of errors.</p>
<p>After installation, Oracle Grid Infrastructure posts alert messages when important events occur. For example, you might see alert messages from the Cluster Ready Services (CRS) daemon process when it starts, if it aborts, if the failover process fails, or if automatic restart of a CRS resource failed.</p>
<p>Oracle Enterprise Manager monitors the Clusterware log file and posts an alert on the Cluster Home page if an error is detected. For example, if a voting disk is not available, a <code dir="ltr">CRS-1604</code> error is raised, and a critical alert is posted on the Cluster Home page. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The location of the Oracle Grid Infrastructure log file is <code dir="ltr"><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code><code dir="ltr">/log/</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">/alert</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">.log</code>, where <code dir="ltr"><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code> is the directory in which Oracle Grid Infrastructure was installed and <code dir="ltr"><span class="codeinlineitalic">hostname</span></code> is the host name of the local node.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></div>
</div>
<!-- class="sect1" -->
<a id="BABJJFDG"></a>
<div id="CWAIX454" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.5</span> Troubleshooting Issues on AIX</h2>
<p>The following issues can occur on IBM AIX release 6.1:</p>
<div class="msgset"><a id="tahiti51319372"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref697"></a>Oracle Universal Installer error <a id="sthref698"></a>INS-13001, "Environment does not meet minimum requirements" and CLUVFY Reports "<a id="sthref699"></a>Reference data is not available for verifying prerequisites on this operating system distribution"</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The Verified OS is on supported level:
<pre dir="ltr">
/bin/oslevel
6.1.4.0
 
/bin/oslevel -s
6100-04-01-0944
</pre>
<p>This issue is caused by AIX incorrectly reporting the operating system level. In this example, the value returned by <code dir="ltr">/bin/oslevel</code> should be <code dir="ltr">6.1.0.0</code>.</p>
</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install AIX patch IZ64508 to fix the oslevel bug.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="CIAEHCEA"></a>
<div id="CWAIX324" class="sect1">
<h2 class="sect1"><span class="secnum">A.6</span> Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</h2>
<p>If Oracle Universal Installer (OUI) does not display the Node Selection page, then perform <a id="sthref700"></a><a id="sthref701"></a>clusterware diagnostics by running the <code dir="ltr"><a id="sthref702"></a>olsnodes</code> <code dir="ltr">-v</code> command from the binary directory in your Oracle Grid Infrastructure home <code dir="ltr"><span class="codeinlineitalic">(Grid_home</span></code><code dir="ltr">/bin</code> on Linux and UNIX-based systems, and <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">\BIN</code> on Windows-based systems) and analyzing its output. Refer to your clusterware documentation if the detailed output indicates that your clusterware is not running.</p>
<p>In addition, use the following command syntax to check the integrity of the Cluster Manager:</p>
<pre dir="ltr">
cluvfy comp clumgr -n <span class="italic">node_list</span> -verbose
</pre>
<p>In the preceding syntax example, the variable <code dir="ltr"><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas.</p>
</div>
<!-- class="sect1" -->
<a id="BABHHDGJ"></a>
<div id="CWAIX455" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.7</span> About Using CVU Cluster Healthchecks After Installation</h2>
<p>Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2.0.3) and later, you can use the CVU healthcheck command option to check your Oracle Grid Infrastructure and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</p>
<p>Use the following syntax to run the healthcheck command option:</p>
<p>cluvfy comp healthcheck [-collect {cluster|database}] [-db <span class="italic">db_unique_name</span>] [-bestpractice|-mandatory] [-deviations] [-html] [-save [-savedir <span class="italic">directory_path</span>]</p>
<p>For example:</p>
<pre dir="ltr">
$ cd /home/grid/cvu_home/bin
$ ./cluvfy comp healthcheck -collect cluster -bestpractice -deviations -html
</pre>
<p>The options are:</p>
<ul>
<li>
<p><code dir="ltr">-collect [cluster|database]</code></p>
<p>Use this flag to specify that you want to perform checks for Oracle Grid Infrastructure (cluster) or Oracle Database (database). If you do not use the collect flag with the healthcheck option, then cluvfy comp healthcheck performs checks for both Oracle Grid Infrastructure and Oracle Database.</p>
</li>
<li>
<p><code dir="ltr">-db</code> <code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code></p>
<p>Use this flag to specify checks on the database unique name that you enter after the <code dir="ltr">db</code> flag.</p>
<p>CVU uses JDBC to connect to the database as the user <code dir="ltr">cvusys</code> to verify various database parameters. For this reason, if you want checks to be performed for the database you specify with the <code dir="ltr">-db</code> flag, then you must first create the <code dir="ltr">cvusys</code> user on that database, and grant that user the CVU-specific role, <code dir="ltr">cvusapp</code>. You must also grant members of the <code dir="ltr">cvusapp</code> role <code dir="ltr">select</code> permissions on system tables.</p>
<p>A SQL script is included in <span class="italic">CVU_home</span><code dir="ltr">/cv/admin/cvusys.sql</code> to facilitate the creation of this user. Use this SQL script to create the cvusys user on all the databases that you want to verify using CVU.</p>
<p>If you use the <code dir="ltr">db</code> flag but do not provide a database unique name, then CVU discovers all the Oracle Databases on the cluster. If you want to perform best practices checks on these databases, then you must create the <code dir="ltr">cvusys</code> user on each database, and grant that user the <code dir="ltr">cvusapp</code> role with the <code dir="ltr">select</code> privileges needed to perform the best practice checks.</p>
</li>
<li>
<p><code dir="ltr">[-bestpractice | -mandatory] [-deviations</code>]</p>
<p>Use the <code dir="ltr">bestpractice</code> flag to specify best practice checks, and the <code dir="ltr">mandatory</code> flag to specify mandatory checks. Add the <code dir="ltr">deviations</code> flag to specify that you want to see only the deviations from either the best practice recommendations or the mandatory requirements. You can specify either the <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code> flag, but not both flags. If you specify neither <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code>, then both best practices and mandatory requirements are displayed.</p>
</li>
<li>
<p><code dir="ltr">-html</code></p>
<p>Use the <code dir="ltr">html</code> flag to generate a detailed report in HTML format.</p>
<p>If you specify the <code dir="ltr">html</code> flag, and a browser CVU recognizes is available on the system, then the browser is started and the report is displayed on the browser when the checks are complete.</p>
<p>If you do not specify the html flag, then the detailed report is generated in a text file.</p>
</li>
<li>
<p><code dir="ltr">-save [-savedir</code> <code dir="ltr"><span class="codeinlineitalic">dir_path</span></code>]</p>
<p>Use the <code dir="ltr">save</code> or <code dir="ltr">-save -savedir</code> flags to save validation reports (<code dir="ltr">cvuchecdkreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.txt</code> and <code dir="ltr">cvucheckreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.htm</code>), where <code dir="ltr"><span class="codeinlineitalic">timestamp</span></code> is the time and date of the validation report.</p>
<p>If you use the <code dir="ltr">save</code> flag by itself, then the reports are saved in the path <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code><code dir="ltr">/cv/report</code>, where <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code> is the location of the CVU binaries.</p>
<p>If you use the flags <code dir="ltr">-save -savedir</code>, and enter a path where you want the CVU reports saved, then the CVU reports are saved in the path you specify.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABIIBGI"></a>
<div id="CWAIX456" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.8</span> Interconnect Configuration Issues</h2>
<p>If you plan to use multiple network interface cards (NICs) for the interconnect, and you do not configure them during installation or after installation with Redundant Interconnect Usage, then you should use a third party solution to aggregate the interfaces at the operating system level. Otherwise, the failure of a single NIC will affect the availability of the cluster node.</p>
<p>If you use aggregated NIC cards, and use the Oracle Clusterware Redundant Interconnect Usage feature, then they should be on different subnets. If you use a third-party vendor method of aggregation, then follow the directions for that vendor's product.</p>
<p>If you encounter errors, then carry out the following system checks:</p>
<ul>
<li>
<p>Verify with your network providers that they are using correct cables (length, type) and software on their switches. In some cases, to avoid bugs that cause disconnects under loads, or to support additional features such as Jumbo Frames, you may need a firmware upgrade on interconnect switches, or you may need newer NIC driver or firmware at the operating system level. Running without such fixes can cause later instabilities to Oracle RAC databases, even though the initial installation seems to work.</p>
</li>
<li>
<p>Review VLAN configurations, duplex settings, and auto-negotiation in accordance with vendor and Oracle recommendations.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABDGGEJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.9</span> SCAN VIP and SCAN Listener Issues</h2>
<p><a id="sthref703"></a><a id="sthref704"></a><a id="sthref705"></a><a id="sthref706"></a><a id="sthref707"></a><a id="sthref708"></a><a id="sthref709"></a>If your installation reports errors related to the SCAN VIP addresses or listeners, then check the following items to make sure your network is configured correctly:</p>
<ul>
<li>
<p>Check the file <code dir="ltr">/etc/resolv.conf</code> - verify the contents are the same on each node</p>
</li>
<li>
<p>Verify that there is a DNS entry for the SCAN, and that it resolves to three valid IP addresses. Use the command <code dir="ltr">nslookup</code> <code dir="ltr"><span class="codeinlineitalic">scan-name</span></code>; this command should return the DNS server name and the three IP addresses configured for the SCAN.</p>
</li>
<li>
<p>Use the <code dir="ltr">ping</code> command to test the IP addresses assigned to the SCAN; you should receive a response for each IP address.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you do not have a DNS configured for your cluster environment, then you can create an entry for the SCAN in the <code dir="ltr">/etc/hosts</code> file on each node. However, using the <code dir="ltr">/etc/hosts</code> file to resolve the SCAN results in having only one SCAN available for the entire cluster instead of three. Only the first entry for SCAN in the <code dir="ltr">hosts</code> file is used.</div>
</li>
<li>
<p>Ensure the SCAN VIP uses the same netmask that is used by the public interface.</p>
</li>
</ul>
<p>If you need additional assistance troubleshooting errors related to the SCAN, SCAN VIP or listeners, then refer to My Oracle Support. For example, the note with Doc ID 1373350.1 contains some of the most common issues for the SCAN VIPs and listeners.</p>
</div>
<!-- class="sect1" -->
<a id="BABICIBG"></a>
<div id="CWAIX457" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.10</span> Storage Configuration Issues</h2>
<p>The following is a list of issues involving storage configuration:</p>
<ul>
<li>
<p><a href="#BABHCIJA">Recovery from Losing a Node Filesystem or Grid Home</a></p>
</li>
</ul>
<a id="BABHCIJA"></a>
<div id="CWAIX458" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.10.1</span> Recovery from Losing a Node Filesystem or Grid Home</h3>
<p>With Oracle Grid Infrastructure release 11.2 and later, if you remove a filesystem by mistake, or encounter another storage configuration issue that results in losing the Oracle Local Registry or otherwise corrupting a node, you can recover the node in one of two ways:</p>
<ol>
<li>
<p>Restore the node from an operating system level backup (preferred)</p>
</li>
<li>
<p>Remove the node, and then add the node. With 11.2 and later clusters, profile information for is copied to the node, and the node is restored.</p>
</li>
</ol>
<p>The feature that enables cluster nodes to be removed and added again, so that they can be restored from the remaining nodes in the cluster, is called Grid Plug and Play (GPnP). Grid Plug and Play eliminates per-node configuration data and the need for explicit add and delete nodes steps. This allows a system administrator to take a template system image and run it on a new node with no further configuration. This removes many manual operations, reduces the opportunity for errors, and encourages configurations that can be changed easily. Removal of the per-node configuration makes the nodes easier to replace, because they do not need to contain individually-managed state.</p>
<p>Grid Plug and Play reduces the cost of installing, configuring, and managing database nodes by making their per-node state disposable. It allows nodes to be easily replaced with regenerated state.</p>
<p>Initiate recovery of a node using addnode syntax similar to the following, where <code dir="ltr"><span class="codeinlineitalic">lostnode</span></code> is the node that you are adding back to the cluster:</p>
<p>If you are using Grid Naming Service (GNS):</p>
<pre dir="ltr">
$ ./addNode.sh -silent "CLUSTER_NEW_NODES=<span class="italic">lostnode</span>"
</pre>
<p>If you are not using GNS:</p>
<pre dir="ltr">
$ ./addNode.sh -silent "CLUSTER_NEW_NODES={lostnode}" "CLUSTER_NEW_VIRTUAL_HOSTNAMES={<span class="italic">lostnode</span>-vip}"
</pre>
<p>Note that you require access to root to be able to run the root.sh script on the node you restore, to recreate OCR keys and to perform other configuration tasks. When you see prompts to overwrite your existing information in /usr/local/bin, accept the default (n):</p>
<pre dir="ltr">
The file "dbhome" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
The file "oraenv" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
The file "coraenv" already exists in /usr/local/bin. Overwrite it? (y/n) [n]:
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2434">
<tr>
<td class="cellalignment2441">
<table class="cellalignment2439">
<tr>
<td class="cellalignment2438"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2438"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2443">
<table class="cellalignment2437">
<tr>
<td class="cellalignment2438"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2438"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2438"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2438"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2438"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2438"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
