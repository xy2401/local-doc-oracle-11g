<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Upgrading from Oracle9i to Oracle Database 11g Release 2 (11.2)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 735" />
<meta name="dcterms.created" content="2013-06-24T8:0:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Enterprise User Security Administrator's Guide" />
<meta name="dcterms.identifier" content="E10744-04" />
<meta name="dcterms.isVersionOf" content="DBIMI" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2000, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="appc.htm" title="Previous" type="text/html" />
<link rel="Next" href="glossary.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10744.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/15</span> <!-- End Header -->
<div id="DBIMI357" class="appendix"><a id="sthref307"></a>
<h1 class="appendix"><span class="secnum">D</span> Upgrading from Oracle9i to Oracle Database 11<span class="italic">g</span> Release 2 (11.2)</h1>
<p>This appendix discusses upgrading Oracle9<span class="italic">i</span> Database (9.2.0.8) to Oracle Database 11<span class="italic">g</span> Release 2 (11.2) with respect to Enterprise User Security. It includes the following sections:</p>
<ul>
<li>
<p><a href="#HCDDDAJB">Upgrading Oracle Internet Directory from Release 9.2 to Release 9.0.4</a></p>
</li>
<li>
<p><a href="#HCDFJFAC">Upgrading Oracle Database from Release 9.2.0.8 to Release 11.2</a></p>
</li>
<li>
<p><a href="#CHDHBDGC">Upgrading Oracle Database from Release 10<span class="italic">g</span> (10.1) and Higher to Oracle Database 11<span class="italic">g</span> Release 2 (11.2)</a></p>
</li>
</ul>
<a id="HCDDDAJB"></a>
<div id="DBIMI358" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.1</span> <a id="sthref308"></a>Upgrading Oracle Internet Directory from Release 9.2 to Release 9.0.4</h2>
<p>Oracle9<span class="italic">i</span> Database Release 2 can work with Oracle Internet Directory Release 9.2 or Release 9.0.4. Oracle Database 11<span class="italic">g</span> Release 2 (11.2) requires Oracle Internet Directory 9.0.4 or later. In case you are using Oracle Internet Directory Release 9.2, you need to upgrade it to Release 9.0.4.</p>
<p>The following list discusses upgrading Oracle Internet Directory Release 9.2 to Oracle Internet Directory Release 9.0.4:</p>
<ol>
<li>
<p>Use Oracle Internet Directory Configuration Assistant to upgrade Oracle Internet Directory. This is required if you want to register Oracle Database 11<span class="italic">g</span> Release 2 (11.2) instances in the directory.</p>
</li>
<li>
<p>Upgrade Oracle Contexts used for Enterprise User Security to Identity Management Realms, if they are not root contexts. Use the Oracle Internet Directory Configuration Assistant command-line utility as follows:</p>
<pre>
oidca mode=CTXTOIMR
</pre>
<p>This step is required if you want to register an Oracle Database 11<span class="italic">g</span> Release 2 (11.2) instance in a realm.</p>
<p>You cannot use the root Oracle Context for Oracle Database 11<span class="italic">g</span> Release 2 (11.2) databases because it is not an Identity Management Realm.</p>
</li>
<li>
<p>Use Oracle Internet Directory tools, such as <code>ldapmodify</code> and <code>bulkmodify</code>, to add the <code>orcluserV2</code> <code>objectclass</code> to existing user entries. This <code>objectclass</code> is required for users to change their database passwords, and for kerberos authentication to the database.</p>
</li>
<li>
<p>In a realm that contains both Oracle9<span class="italic">i</span> Database and Oracle Database 11<span class="italic">g</span> Release 2 (11.2), use a DAS-based tool in Oracle Internet Directory Release 9.0.4 to create and manage users. You can use either Oracle Internet Directory Self-Service Console or Enterprise Security Manager Console. Do not use Enterprise Security Manager or Enterprise Login Assistant from Oracle9<span class="italic">i</span> installations.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="HCDFJFAC"></a>
<div id="DBIMI359" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.2</span> Upgrading Oracle Database from Release 9.2.0.8 to Release 11.2</h2>
<p>For each Oracle9<span class="italic">i</span> Database (9.2.0.8) instance that you upgrade to Oracle Database 11<span class="italic">g</span> Release 2 (11.2), perform the following steps:</p>
<ol>
<li>
<p>Use Oracle Wallet Manager to disable automatic login for the database wallet.</p>
</li>
<li>
<p>Copy the database distinguished name (DN) from the initialization parameter <code>rdbms_server_dn</code> to a file in a secure location.</p>
</li>
<li>
<p>Upgrade the database to Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</li>
<li id="HCDDGJGI">
<p>Depending on where your database <code>admin</code> directory is stored, move the database wallet either to <code>$ORACLE_BASE/admin/</code><code><span class="codeinlineitalic">olddbuniquename</span></code><code>/wallet</code> or <code>$ORACLE_HOME/admin/</code><code><span class="codeinlineitalic">olddbuniquename</span></code><code>/wallet</code>. Note that <code>$ORACLE_HOME</code> is for the new Oracle Database 11<span class="italic">g</span> Release 2 (11.2). You may have to create the <code>wallet</code> directory.</p>
</li>
<li>
<p>Copy the old <code>$ORACLE_HOME/network/admin/ldap.ora</code> file to the new <code>$ORACLE_HOME/ldap/admin/ldap.ora</code> file. Alternatively, you can use Oracle Net Configuration Assistant to create a new <code>ldap.ora</code> file.</p>
</li>
<li>
<p>Use the command-line utility, <code>mkstore</code>, to put the database DN (from the file in the previously created secure directory location) into the wallet by using the following syntax:</p>
<pre>
mkstore -wrl <span class="italic">database_wallet_location</span> -createEntry 
ORACLE.SECURITY.DN <span class="italic">database_DN</span>
</pre>
<p>You will be prompted for the wallet password.</p>
<p>If you make a mistake in the <code>mkstore</code> command, then you can use the <code>-modifyEntry</code> option to correct it.</p>
</li>
<li>
<p>Use Database Configuration Assistant to generate the database-to-directory password in the database wallet. Choose the Modify Database option.</p>
</li>
<li>
<p>Use Oracle Wallet Manager to re-enable automatic login for the database wallet.</p>
</li>
<li>
<p>Use Oracle Net Manager to set the new wallet location in the <code>sqlnet.ora</code> file to the directory specified in step <a href="#HCDDGJGI">4</a>.</p>
</li>
</ol>
<p>The default for the nickname attribute, such as CN, remains unchanged. The upgrade process does not change the default nickname attribute setting. After upgrading from Oracle Internet Directory Release 9.2 to Release 9.0.4, if you are unable to log in to Oracle Database 11<span class="italic">g</span> Release 2 (11.2), then you must use the DAS-based Oracle Internet Directory Self-Service Console to reset your password.</p>
</div>
<!-- class="sect1" -->
<a id="CHDHBDGC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.3</span> Upgrading Oracle Database from Release 10<span class="italic">g</span> (10.1) and Higher to Oracle Database 11<span class="italic">g</span> Release 2 (11.2)</h2>
<p>For each Oracle Database 10<span class="italic">g</span> Release 1 (10.2) and higher instance that you upgrade to Oracle Database 11<span class="italic">g</span> Release 2 (11.2), perform the following steps:</p>
<ol>
<li>
<p>Upgrade the database to Oracle Database 11<span class="italic">g</span> Release 2 (11.2).</p>
</li>
<li>
<p>Depending on where your database <code>admin</code> directory is stored, move the database wallet either to <code>$ORACLE_BASE/admin/</code><code><span class="codeinlineitalic">olddbuniquename</span></code><code>/wallet</code> or <code>$ORACLE_HOME/admin/</code><code><span class="codeinlineitalic">olddbuniquename</span></code><code>/wallet</code>. Note that <code>$ORACLE_HOME</code> is for the new Oracle Database 11<span class="italic">g</span> Release 2 (11.2). You may have to create the <code>wallet</code> directory.</p>
</li>
<li>
<p>Copy the old <code>$ORACLE_HOME/network/admin/ldap.ora</code> file to the new <code>$ORACLE_HOME/ldap/admin/ldap.ora</code> file. Alternatively, you can use Oracle Net Configuration Assistant to create a new <code>ldap.ora</code> file.</p>
</li>
<li>
<p>Use Oracle Wallet Manager to re-enable automatic login for the database wallet.</p>
</li>
<li>
<p>Use Oracle Net Manager to set the new wallet location in the <code>sqlnet.ora</code> file to the directory specified in step 2.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2198">
<tr>
<td class="cellalignment2205">
<table class="cellalignment2203">
<tr>
<td class="cellalignment2202"><a href="appc.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2202"><a href="glossary.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2000, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2207">
<table class="cellalignment2201">
<tr>
<td class="cellalignment2202"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2202"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2202"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2202"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2202"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2202"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
