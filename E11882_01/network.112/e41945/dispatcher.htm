<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Dispatchers</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="dcterms.created" content="2015-06-05T6:3:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Net Services Administrator's Guide" />
<meta name="dcterms.identifier" content="E41945-03" />
<meta name="dcterms.isVersionOf" content="NETAG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="cman.htm" title="Previous" type="text/html" />
<link rel="Next" href="profile.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41945.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">20/28</span> <!-- End Header -->
<div id="NETAG012" class="chapter"><a id="g458957"></a> <a id="i453786"></a>
<h1 class="chapter"><span class="secnum">11</span> Configuring Dispatchers</h1>
<p>The <a href="glossary.htm#BGBEAGCH"><span class="xrefglossterm">shared server</span></a> architecture enables a database server to allow many user processes to share very few server processes, so the number of users that can be supported is increased. With the shared server architecture, many user processes connect to a <a href="glossary.htm#BGBHHIEG"><span class="xrefglossterm">dispatcher</span></a>. The dispatcher directs multiple incoming network session requests to a common queue. An idle shared server process from a shared pool of server processes picks up a request from the queue. This means a small pool of server processes can serve a large number of clients. Dispatchers reduce server processes. This is useful when a system is overloaded or has limited memory.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i448073">Configuring Dispatchers</a></p>
</li>
<li>
<p><a href="#i449168">Grouping Services by Dispatcher</a></p>
</li>
<li>
<p><a href="#i453117">Enabling Connection Pooling</a></p>
</li>
<li>
<p><a href="#BABBHHDA">Enabling Session Multiplexing</a></p>
</li>
<li>
<p><a href="#i456170">Configuring Clients for Environments Using Both Shared Server and Dedicated Server</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11166" href="../../server.112/e25494/manproc.htm#ADMIN11166"><span class="italic">Oracle Database Administrator's Guide</span></a> for additional information about shared server configuration</div>
<a id="i448073"></a>
<div id="NETAG323" class="sect1">
<h2 class="sect1">Configuring Dispatchers<a id="sthref705"></a><a id="sthref706"></a><a id="sthref707"></a><a id="sthref708"></a></h2>
<p>Shared memory resources for dispatchers, virtual circuits, and shared servers are preconfigured to allow the enabling of shared servers at run time. Database administrators can start dispatchers and shared servers with the SQL <code dir="ltr">ALTER SYSTEM</code> statement without having to restart the instance. A dispatcher is started automatically on the TCP/IP protocol when shared server mode is turned on and the dispatchers parameter has not been set. The default configuration for the dispatcher is equivalent to the following <a id="sthref709"></a><a id="sthref710"></a><code dir="ltr">DISPATCHERS</code> parameter setting in the database initialization parameter file.</p>
<pre dir="ltr">
dispatchers="(PROTOCOL=tcp)"
</pre>
<p>In configurations in which client load is causing a strain on memory and other system resources, database administrators can alleviate load issues by starting shared server resources.</p>
<p>Use the following views to check configurations and monitor dispatchers:</p>
<ul>
<li>
<p><code dir="ltr">V$QUEUE</code>: This view contains information about the shared server message queues. This view is only available to the <code dir="ltr">SYS</code> user, and users who have <code dir="ltr">SELECT ANY TABLE</code> system privilege, such as <code dir="ltr">SYSTEM</code>.</p>
</li>
<li>
<p><code dir="ltr">V$DISPATCHER</code>: This view provides information about the dispatcher processes, including name, network address, status, various usage statistics, and index number.</p>
</li>
<li>
<p><code dir="ltr">V$DISPATCHER_CONFIG</code>: This view provides configuration information about the dispatchers.</p>
</li>
<li>
<p><code dir="ltr">V$DISPATCHER_RATE</code>: This view provides rate statistics for the dispatcher processes.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF021" href="../../server.112/e41573/build_db.htm#PFGRF021"><span class="italic">Oracle Database Performance Tuning Guide</span></a> and <a class="olink REFRN003" href="../../server.112/e40402/dynviews_part.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for additional information these views</div>
<p>Configure the <code dir="ltr">DISPATCHERS</code> parameter if either of the following conditions apply:</p>
<ul>
<li>
<p>You need to configure a protocol other than TCP/IP</p>
</li>
<li>
<p>You want to configure one or more of the optional dispatcher attributes, such as multiplexing.</p>
</li>
</ul>
<p>You can specify the following attributes for the <code dir="ltr">DISPATCHERS</code> parameter. The <code dir="ltr">PROTOCOL</code> attribute is required, and the others are optional. The <code dir="ltr">ADDRESS</code> attribute is used when you need to set a specify port number, such as when using a firewall.</p>
<ul>
<li>
<p><code dir="ltr">ADDRESS</code></p>
</li>
<li>
<p><code dir="ltr">CONNECTIONS</code><a id="sthref711"></a><a id="sthref712"></a></p>
</li>
<li>
<p><code dir="ltr">DESCRIPTION</code></p>
</li>
<li>
<p><code dir="ltr">DISPATCHERS</code> <a id="sthref713"></a><a id="sthref714"></a></p>
</li>
<li>
<p><code dir="ltr">LISTENER</code> <a id="sthref715"></a><a id="sthref716"></a><a id="sthref717"></a></p>
</li>
<li>
<p><code dir="ltr">MULTIPLEX</code> <a id="sthref718"></a><a id="sthref719"></a></p>
</li>
<li>
<p><code dir="ltr">POOL<a id="sthref720"></a><a id="sthref721"></a></code></p>
</li>
<li>
<p><code dir="ltr">PROTOCOL</code></p>
</li>
<li>
<p><code dir="ltr">SERVICE</code></p>
</li>
<li>
<p><code dir="ltr">SESSIONS</code> <a id="sthref722"></a><a id="sthref723"></a></p>
</li>
<li>
<p><code dir="ltr">TICKS<a id="sthref724"></a><a id="sthref725"></a></code></p>
</li>
</ul>
<p>You alter dispatchers configurations with the SQL statement <code dir="ltr">ALTER SYSTEM</code>, or with <a id="sthref726"></a><a href="glossary.htm#BGBGGDHD"><span class="xrefglossterm">Database Configuration Assistant</span></a>. After setting this parameter, you do not need to restart the instance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11166" href="../../server.112/e25494/manproc.htm#ADMIN11166"><span class="italic">Oracle Database Administrator's Guide</span></a> for additional information about shared server configuration</p>
</li>
<li>
<p><a class="olink REFRN10049" href="../../server.112/e40402/initparams080.htm#REFRN10049"><span class="italic">Oracle Database Reference</span></a> for additional information about configuring the <code dir="ltr">DISPATCHERS</code> parameter and supported attributes</p>
</li>
<li>
<p><a class="olink SQLRF009" href="../../server.112/e41084/statements_2.htm#SQLRF009"><span class="italic">Oracle Database SQL Reference</span></a> for additional information about the <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i449168"></a>
<div id="NETAG326" class="sect1">
<h2 class="sect1">Grouping Services by Dispatcher<a id="sthref727"></a><a id="sthref728"></a><a id="sthref729"></a></h2>
<p>An Oracle database can be represented by multiple service names. A pool of dispatchers can be allocated exclusively for clients requesting a particular service. This way, the mission critical requests may be given more resources and in effect increase their priority.</p>
<p>For example, the following initialization parameter file sample shows two dispatchers. The first dispatcher services requests for clients requesting <code dir="ltr">sales.us.example.com.</code> The other dispatcher services requests only for clients requesting <code dir="ltr">adminsales.us.example.com</code>.</p>
<pre dir="ltr">
SERVICE_NAMES=sales.us.example.com
INSTANCE_NAME=sales
DISPATCHERS="(PROTOCOL=tcp)" 
DISPATCHERS="(PROTOCOL=tcp)(SERVICE=adminsales.us.example.com)" 
</pre></div>
<!-- class="sect1" -->
<a id="i453117"></a>
<div id="NETAG324" class="sect1">
<h2 class="sect1">Enabling Connection Pooling <a id="sthref730"></a><a id="sthref731"></a><a id="sthref732"></a><a id="sthref733"></a></h2>
<p>Connection pooling is a resource utilization feature that enables you to reduce the number of physical network connections to a dispatcher. This is achieved by sharing or pooling a set of connections among the client processes.</p>
<p>To configure connection pooling, set the <a id="sthref734"></a><code dir="ltr">DISPATCHERS</code> parameter in the initialization parameter file with the <code dir="ltr">POOL</code> attribute and the following optional attributes:</p>
<ul>
<li>
<p><code dir="ltr">CONNECTIONS</code><a id="sthref735"></a><a id="sthref736"></a></p>
</li>
<li>
<p><code dir="ltr">SESSIONS</code> <a id="sthref737"></a><a id="sthref738"></a></p>
</li>
<li>
<p><code dir="ltr">TICKS<a id="sthref739"></a><a id="sthref740"></a></code></p>
</li>
</ul>
<p>Consider a system that can support 200 connections for each dispatcher process and has the following:</p>
<ul>
<li>
<p>2500 users concurrently connected through TCP/IP</p>
</li>
<li>
<p>1000 sessions concurrently connected through TCP/IP with SSL</p>
</li>
</ul>
<p>To determine the number of dispatchers, use the following formula:</p>
<pre dir="ltr">
CEIL ( maximum concurrent sessions / connections for each dispatcher )
</pre>
<p>In this case, the <code dir="ltr">DISPATCHERS</code> attribute for TCP/IP should be set to a minimum of thirteen dispatchers and TCP/IP with SSL should be set to five dispatchers:</p>
<pre dir="ltr">
DISPATCHERS="(PROTOCOL=tcp)(DISPATCHERS=13)"
DISPATCHERS="(PROTOCOL=tcps)(DISPATCHERS=5)"
</pre>
<p>The number of dispatchers can be reduced by implementing connection pooling. Connection pooling allows each dispatcher to handle more sessions. For example, suppose that clients are idle most of the time and one dispatcher can route requests and responses for 2500 TCP/IP sessions, or 1000 TCP/IP with SSL sessions. The following configuration reduces the number of dispatchers required for each protocol and allows the dispatchers to be more fully utilized:</p>
<pre dir="ltr">
DISPATCHERS="(PROTOCOL=tcp)(DISPATCHERS=2)(POOL=on)(TICK=1) (CONNECTIONS=200)(SESSIONS=2500)" 
 
DISPATCHERS="(PROTOCOL=tcps)(DISPATCHERS=1)(POOL=on)(TICK=1) 
(CONNECTIONS=200)(SESSIONS=1000)"
 
</pre>
<p>In the preceding example, the <code dir="ltr">DISPATCHERS</code> attribute does not have to be specified for the TCP/IP with SSL sessions because the default for <code dir="ltr">DISPATCHERS</code> is 1. The default for <code dir="ltr">CONNECTIONS</code> is the maximum number of connections for each process, which is operating system dependent.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="intro.htm#BHCBJIJA">"Connection Pooling"</a></div>
</div>
<!-- class="sect1" -->
<a id="BABBHHDA"></a>
<div id="NETAG325" class="sect1">
<h2 class="sect1">Enabling Session Multiplexing</h2>
<p>Session multiplexing, available with Oracle Connection Manager, enables multiple client sessions to funnel through a single protocol connection. For example, several user processes can connect to one dispatcher by way of a single connection from Oracle Connection Manager.</p>
<p>Oracle Connection Manager allows communication by users to the dispatcher by way of a shared connection. At any one time, users might need the connection, while other user processes linked to the dispatcher by way of the connection manager process are idle. Session multiplexing is beneficial because it maximizes use of the dispatcher process connections.</p>
<p>Session multiplexing is also useful for database link connections between dispatchers. The limit on the number of sessions for each dispatcher is operating system specific.</p>
<p>To enable session multiplexing, set the attribute <code dir="ltr">MULTIPLEX</code> in the <code dir="ltr">DISPATCHERS</code> parameter to <code dir="ltr">on</code> or an equivalent value.</p>
<pre dir="ltr">
DISPATCHERS="(PROTOCOL=tcp)(MULTIPLEX=on)"
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="cman.htm#i489422">"Enabling Session Multiplexing"</a> for configuration details and <a href="#i453117">"Enabling Connection Pooling"</a></div>
</div>
<!-- class="sect1" -->
<a id="i456170"></a>
<div id="NETAG327" class="sect1">
<h2 class="sect1">Configuring Clients for Environments Using Both Shared Server and Dedicated Server<a id="sthref741"></a></h2>
<p>If a <a id="sthref742"></a>shared server is configured on the server side, and a client connection request arrives when no dispatchers are registered, then the request is processed by a dedicated server process. If you want a particular client always to use a dispatcher, then configure <code dir="ltr">(</code><code dir="ltr">SERVER</code><code dir="ltr">=shared)</code> in the <code dir="ltr">CONNECT_DATA</code> section of the connect descriptor. For example:</p>
<pre dir="ltr">
sales= 
(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)
     <span class="bold">(SERVER=shared)</span>))
</pre>
<p>When the <code dir="ltr">(SERVER=shared)</code> attribute is configured and a dispatcher is not available, then the client connection request is rejected, and a message is sent to the client.</p>
<p>If the database is configured for a shared server and a particular client requires a <a id="sthref743"></a>dedicated server, then you can configure the client to use a dedicated server in one of the following ways:</p>
<ul>
<li>
<p>You can configure a net service name with a connect descriptor that contains <code dir="ltr">(</code><code dir="ltr">SERVER</code><code dir="ltr">=dedicated)</code> in the <code dir="ltr">CONNECT_DATA</code> section. For example:</p>
<pre dir="ltr">
sales= 
(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)
     <span class="bold">(SERVER=dedicated)</span>))
</pre></li>
<li>
<p>You can configure the client profile file, <code dir="ltr">sqlnet.ora</code>, with <code dir="ltr">USE_DEDICATED_SERVER=on</code>. This adds <code dir="ltr">(SERVER=dedicated)</code> to the <code dir="ltr">CONNECT_DATA</code> section of the connect descriptor the client uses.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If <code dir="ltr">USE_DEDICATED_SERVER</code> is set to <code dir="ltr">ON</code>, then existing <code dir="ltr">(SERVER=</code><code dir="ltr"><span class="codeinlineitalic">value</span></code><code dir="ltr">)</code> entries in connect descriptors are overwritten with <code dir="ltr">(SERVER=dedicated)</code>.</div>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="advcfg.htm#i463916">"Configuring Advanced Connect Data Parameters"</a> to set the <code dir="ltr">SERVER</code> parameter</p>
</li>
<li>
<p><a href="profile.htm#i483159">"Routing Connection Requests to a Process"</a> to set the <code dir="ltr">USE_DEDICATED_SERVER</code> parameter</p>
</li>
<li>
<p><a class="olink LNOCI090" href="../../appdev.112/e10646/oci09adv.htm#LNOCI090"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> and <a class="olink ADMIN12349" href="../../server.112/e25494/manproc.htm#ADMIN12349"><span class="italic">Oracle Database Administrator's Guide</span></a> for additional information about enabling and configuring database resident connection pooling</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2213">
<tr>
<td class="cellalignment2222">
<table class="cellalignment2218">
<tr>
<td class="cellalignment2217"><a href="cman.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2217"><a href="profile.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2224">
<table class="cellalignment2216">
<tr>
<td class="cellalignment2217"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2217"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2217"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2217"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2217"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2217"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
