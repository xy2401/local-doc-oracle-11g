<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Optimizing Performance</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="dcterms.created" content="2015-06-05T6:3:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Net Services Administrator's Guide" />
<meta name="dcterms.identifier" content="E41945-03" />
<meta name="dcterms.isVersionOf" content="NETAG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="advcfg.htm" title="Previous" type="text/html" />
<link rel="Next" href="part3.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41945.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/28</span> <!-- End Header -->
<div id="NETAG014" class="chapter"><a id="g1013791"></a> <a id="i1008158"></a>
<h1 class="chapter"><span class="secnum">14</span> Optimizing Performance</h1>
<p>This chapter describes how to optimize connection performance. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i1006332">Configuring Session Data Unit</a></p>
</li>
<li>
<p><a href="#BBACHGED">Determining Bandwidth-delay Product</a></p>
</li>
<li>
<p><a href="#i1007572">Configuring I/O Buffer Space</a></p>
</li>
<li>
<p><a href="#i1008413">Configuring SDP Support for InfiniBand Connections</a></p>
</li>
<li>
<p><a href="#i1006364">Limiting Resource Consumption by Unauthorized Users</a></p>
</li>
</ul>
<a id="i1006332"></a>
<div id="NETAG0141" class="sect1">
<h2 class="sect1">Configuring Session Data Unit</h2>
<p>Under typical database configuration, Oracle Net encapsulates data into buffers the size of the <a href="glossary.htm#BGBBHCJF"><span class="xrefglossterm">session data unit (SDU)</span></a> before sending the data across the network. Oracle Net sends each buffer when it is filled, flushed, or when an application tries to read data. Adjusting <a id="sthref1006"></a>the size of the SDU buffers relative to the amount of data provided to Oracle Net to send at any one time can improve performance, network utilization, and memory consumption. When large amounts of data are being transmitted, increasing the SDU size can improve performance and network throughput.</p>
<p>The amount of data provided to Oracle Net to send at any one time is referred to as the message size. Oracle Net assumes by default that the message size will normally vary between 0 and 8192 bytes, and infrequently, be larger than 8192 bytes. If this assumption is true, then most of the time, the data is sent using one SDU buffer.</p>
<p>The SDU size can range from 512 bytes to 65535 bytes. The default SDU for the client and a dedicated server is 8192 bytes. The default SDU for a shared server is 65535 bytes.</p>
<p>The actual SDU size used is negotiated between the client and the server at connect time and is the smaller of the client and server values. Configuring an SDU size different from the default requires configuring the SDU on both the client and server computers, unless you are using shared servers. For shared servers, only the client value must be changed because the shared server defaults to the maximum value.</p>
<p>You should consider changing the SDU size when the predominant message size is smaller or larger than 8192. The SDU size should be 70 bytes larger than the predominant message size. If the predominant message size plus 70 bytes exceeds the maximum SDU, then the SDU should be set such that the message size is divided into the smallest number of equal parts where each part is 70 bytes less than the SDU size. To change the default, change the <code dir="ltr">DEFAULT_SDU_SIZE</code> parameter in the <code dir="ltr">sqlnet.ora</code> file.</p>
<p>For example, if the majority of the messages sent and received by the application are smaller than 8KB, taking into account the 70 bytes for overhead, then setting the SDU to 8KB will likely produce good results. If sufficient memory is available, then using the maximum value for the SDU minimizes the number of system calls and overhead for Oracle Net Services.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 11<span class="italic">g</span>, Oracle Net Services optimized bulk data transfer for components, such as Oracle SecureFiles LOBs and Oracle Data Guard redo transport services. The SDU size limit, as specified in the network parameter files, does not apply to these bulk data transfers.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro.htm#i453017">"Session Data Unit Size for Data Transfer Optimization"</a></p>
</li>
<li>
<p><a href="trouble.htm#i462875">"Statistics Example"</a></p>
</li>
</ul>
</div>
<div id="NETAG1476" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1007"></a>
<h3 class="sect2">Setting the SDU Size for the Database</h3>
<p>To set the SDU size for the database server, configure the following files:</p>
<ul>
<li>
<p><code dir="ltr">sqlnet.ora</code></p>
<p>Configure the <code dir="ltr">DEFAULT_SDU_SIZE</code> parameter in the <code dir="ltr">sqlnet.ora</code> file, as follows:</p>
<pre dir="ltr">
DEFAULT_SDU_SIZE=8192
</pre></li>
<li>
<p>Initialization parameter file</p>
<p>If using shared server processes, then set the SDU size in the <code dir="ltr">DISPATCHERS</code> parameter in the initialization parameter file, as follows:</p>
<pre dir="ltr">
DISPATCHERS="(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp))<span class="bold">(SDU=8192)</span>)"
</pre></li>
<li>
<p><code dir="ltr">listener.ora</code></p>
<p>If you have configured the listener with a list of targets in the <code dir="ltr">listener.ora</code> file, then the value for SDU in the <code dir="ltr">SID_LIST</code> element overrides the current setting in the <code dir="ltr">sqlnet.ora</code> file when using dedicated server processes.</p>
<pre dir="ltr">
<a id="sthref1008"></a><a id="sthref1009"></a>SID_LIST_<span class="codeinlineitalic">listener_name</span>=
  (SID_LIST= 
    (SID_DESC=
     <span class="bold">(SDU=8192)</span>
     (SID_NAME=sales)))
</pre>
<p>The smaller value of the SDU size and the value configured for the client take precedence.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="NETAG1475" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1010"></a>
<h3 class="sect2">Setting the SDU Size for the Client</h3>
<p>To set the SDU size for the client, configure the following files:</p>
<ul>
<li>
<p><code dir="ltr">sqlnet.ora</code></p>
<p>For global configuration on the client side, configure the <code dir="ltr">DEFAULT_SDU_SIZE</code> parameter in the <code dir="ltr">sqlnet.ora</code> file, as follows:</p>
<pre dir="ltr">
DEFAULT_SDU_SIZE=8192
</pre></li>
<li>
<p><code dir="ltr">tnsnames.ora</code></p>
<p>For a particular connect descriptor, you can specify the <code dir="ltr">SDU</code> parameter in the <code dir="ltr">DESCRIPTION</code> parameter.</p>
<pre dir="ltr">
sales.us.example.com=
(DESCRIPTION= 
    (<span class="codeinlinebold">SDU=11280)</span> 
      (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
    (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com))
) 
</pre></li>
</ul>
<pre dir="ltr">
</pre>
<p>The SDU size applies to all Oracle Net protocols for the particular connect descriptor.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BBACHGED"></a>
<div id="NETAG1477" class="sect1">
<h2 class="sect1">Determining Bandwidth-delay Product</h2>
<p>Bandwidth-delay product is the product of network bandwidth and the round trip time of data going over the network. A simple way to determine the round trip time, is to use a command such as <code dir="ltr">ping</code> from one host to another and use the response times returned by <code dir="ltr">ping</code>.</p>
<p>For example, if a network has a bandwidth of 100 Mbps and a round trip time of 5ms, then the send and receive buffers should be at least (100*10^6) * (5/10^3) bits or approximately 62.5 Kilobytes.</p>
<p>The following equation shows the relationships between the units and factors involved:</p>
<pre dir="ltr">
100,000,000 bits   1 byte   5 seconds
---------------- x ------ x --------- = 62,500 bytes
 1 second          8 bits     1000
</pre>
<p>Setting the <code dir="ltr">SEND_BUF_SIZE</code> and <code dir="ltr">RECV_BUF_SIZE</code> to at least the bandwidth-delay product insures that when large amounts of data are being sent that the network bandwidth will be optimally utilized.</p>
<p>Based on the preceding equation, the bandwidth-delay product of this network link is approximately 64KB. If the largest message used to transfer redo data between a primary database and a standby database is 1MB, then the value for the <code dir="ltr">SEND_BUF_SIZE</code> and <code dir="ltr">RECV_BUF_SIZE</code> parameters could be 1MB. However, if the average message is less, then a setting of 64KB should be sufficient to optimize use of the available bandwidth.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For information about determining messages sizes, refer to <a href="trouble.htm#i462875">"Statistics Example"</a></div>
<p>For most network protocols, ensure that the <code dir="ltr">RECV_BUF_SIZE</code> parameter at one end of the network connection, typically at the client, equals the value of the <code dir="ltr">SEND_BUF_SIZE</code> parameter at the other end, typically at the server.</p>
</div>
<!-- class="sect1" -->
<a id="i1007572"></a>
<div id="NETAG0142" class="sect1">
<h2 class="sect1">Configuring I/O Buffer Space</h2>
<p>Reliable network protocols, such as TCP/IP, buffer data into send and receive buffers while sending and receiving to or from lower and upper layer protocols. The sizes of these buffers affect network performance by influencing flow control decisions.</p>
<p>The <code dir="ltr">RECV_BUF_SIZE</code> and <code dir="ltr">SEND_BUF_SIZE</code> parameters specify sizes of socket buffers associated with an Oracle Net connection. To ensure the continuous flow of data and better utilization of network bandwidth, specify the I/O buffer space limit for receive and send operations of sessions with the <code dir="ltr">RECV_BUF_SIZE</code> and <code dir="ltr">SEND_BUF_SIZE</code> parameters. The <code dir="ltr">RECV_BUF_SIZE</code> and <code dir="ltr">SEND_BUF_SIZE</code> parameter values do not have to match, but should be set according to your environment.</p>
<p>For best performance, the size of the send and receive buffers should be set large enough to hold all the data that may be sent concurrently on the network connection. For a simple database connection, this typically maps to the <code dir="ltr">OCI_PREFETCH_MEMORY</code> size.</p>
<p>Use these parameters with caution as they affect network and system performance. The default values for these parameters are operating system-specific.</p>
<p>These parameters are supported for TCP, TCP/IP with SSL, and SDPs. Additional protocols may support these parameters on certain operating systems. The recommended values for these parameters are specified in the installation guide. Refer to operating system-specific documentation of Oracle Net for additional information.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>The actual value of the <code dir="ltr">SEND_BUF_SIZE</code> and <code dir="ltr">RECV_BUF_SIZE</code> parameters may be less than the value specified because of limitations in the host operating system or due to memory constraints.</p>
</li>
<li>
<p>It is important to consider the total number of concurrent connections that your system must support and the available memory resources. The total amount of memory consumed by these connections depends on the number of concurrent connections and the size of their respective buffers.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink LNOCI16357" href="../../appdev.112/e10646/oci04sql.htm#LNOCI16357"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for additional information about the <code dir="ltr">OCI_PREFETCH_MEMORY</code> parameter</div>
<div id="NETAG1478" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1011"></a>
<h3 class="sect2">Configuring I/O Buffer Space on the Client</h3>
<p>To configure the client, set the buffer space size in the following locations in the specified file:</p>
<ul>
<li>
<p>Setting only the <code dir="ltr">RECV_BUF_SIZE</code> parameter is typically adequate. If the client is sending large requests, then also set the <code dir="ltr">SEND_BUF_SIZE</code> parameter. These parameters are set in the client's <code dir="ltr">sqlnet.ora</code> file.</p>
</li>
<li>
<p>For a particular connect descriptor, you can override the current settings in the client <code dir="ltr">sqlnet.ora</code> file. You can specify the buffer space parameters for a particular protocol address or description in the <code dir="ltr">tnsnames.ora</code> file similar to the following:</p>
<pre dir="ltr">
sales.us.example.com=
 (DESCRIPTION= 
   (ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-server)(PORT=1521)
<span class="bold">        (SEND_BUF_SIZE=11784)</span>
<span class="bold">        (RECV_BUF_SIZE=11784)</span>)
     (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-server)(PORT=1521)
        <span class="bold">(SEND_BUF_SIZE=11784)</span>
        <span class="bold">(RECV_BUF_SIZE=11784)</span>)
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
hr.us.example.com=
 (DESCRIPTION= 
<span class="bold">   (SEND_BUF_SIZE=8192)</span>
<span class="bold">   (RECV_BUF_SIZE=8192)</span>
     (ADDRESS=(PROTOCOL=tcp)(HOST=hr1-server)(PORT=1521))
   (CONNECT_DATA=
     (SERVICE_NAME=hr.us.example.com)))
</pre></li>
</ul>
</div>
<!-- class="sect2" -->
<div id="NETAG1479" class="sect2"><a id="sthref1012"></a>
<h3 class="sect2">Configuring I/O Buffer Size on the Server</h3>
<p>Because the database server writes data to clients, setting the <code dir="ltr">SEND_BUF_SIZE</code> parameter on the server-side is typically adequate. If the database server is receiving large requests, then also set the <code dir="ltr">RECV_BUF_SIZE</code> parameter.To configure the database server, set the buffer space size in the <code dir="ltr">listener.ora</code> and <code dir="ltr">sqlnet.ora</code> files.</p>
<p>In the <code dir="ltr">listener.ora</code> file, specify the buffer space parameters for a particular protocol address or for a description. The following is an example of the settings:</p>
<pre dir="ltr">
LISTENER=
(DESCRIPTION=
(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521)
<span class="codeinlinebold">(SEND_BUF_SIZE=11784)</span>
<span class="codeinlinebold">(RECV_BUF_SIZE=11784)</span>)
(ADDRESS=(PROTOCOL=ipc)(KEY=extproc)
<span class="codeinlinebold">(SEND_BUF_SIZE=11784)</span>
<span class="codeinlinebold">(RECV_BUF_SIZE=11784)))</span>
LISTENER2=
(DESCRIPTION=
<span class="codeinlinebold">(SEND_BUF_SIZE=8192)</span>
<span class="codeinlinebold">(RECV_BUF_SIZE=16384)</span>
(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521)))
</pre>
<p>The following is an example of the settings in the <code dir="ltr">sqlnet.ora</code> file:</p>
<pre dir="ltr">
RECV_BUF_SIZE=65536
SEND_BUF_SIZE=65536
</pre>
<div id="NETAG1480" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1013"></a>
<h4 class="sect3">Setting the Buffer Size Parameter for Shared Server Processes</h4>
<p>If using shared server processes, then you can override the current settings obtained from the server <code dir="ltr">sqlnet.ora</code> file by setting the buffer space parameters in the <code dir="ltr">DISPATCHERS</code> initialization parameter as follows:</p>
<pre dir="ltr">
DISPATCHERS="(ADDRESS=(PROTOCOL=tcp)(SEND_BUF_SIZE=65536))"
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1008413"></a>
<div id="NETAG0143" class="sect1">
<h2 class="sect1">Configuring SDP Support for InfiniBand Connections</h2>
<p><a id="sthref1014"></a><a id="sthref1015"></a><a id="sthref1016"></a>Oracle Net Services provides support for the Sockets Direct Protocol (<a href="glossary.htm#BGBIJCIH"><span class="xrefglossterm">SDP</span></a>) for InfiniBand high-speed networks.</p>
<p>SDP is a standard communication protocol for clustered server environments. SDP is an interface between a network interface card and the application. By using SDP, applications place most of the messaging burden upon the network interface card, freeing the CPU for other tasks. As a result, SDP decreases network <a href="glossary.htm#BGBGHGAJ"><span class="xrefglossterm">latency</span></a> and CPU utilization.</p>
<p>SDP is designed specifically for System Area Networks (SANs). A SAN is characterized by short-distance, high-performance communications between multiple server systems, such as Oracle Application Server or any other third-party middle-tier client and database servers clustered on one switch.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Check with your individual vendor for their version compatibility with Oracle Database 11<span class="italic">g</span>.
<p>Visit the Oracle Technology Network for additional information about SDP support at</p>
<p><code dir="ltr"><a href="http://www.oracle.com/technetwork/">http://www.oracle.com/technetwork</a></code></p>
</div>
<p>The following sections describe how to set up Oracle Net support of SDP for middle tier and database server communication. It contains the following topics:</p>
<ul>
<li>
<p><a href="#BBABGABE">Prerequisites for Using SDP</a></p>
</li>
<li>
<p><a href="#BBABBCHG">Configuring SDP on the Server</a></p>
</li>
<li>
<p><a href="#BBABCDFB">Configuring SDP on the Client</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="intro.htm#CHDFDBAA">"Understanding Performance"</a> for an overview of supported deployments</div>
<a id="BBABGABE"></a>
<div id="NETAG1481" class="sect2"><a id="i1006240"></a>
<h3 class="sect2">Prerequisites for Using SDP</h3>
<p>Prior to configuring support for SDP, install the required hardware, and set up InfiniBand hardware and software compatible with OpenFabrics Enterprise Distribution (OFED) 1.4 from a designated vendor on both the application Web server and database server.</p>
<p>During installation of the InfiniBand software, identify the constant that defines SDP or the address family for the system. This can be obtained from the operating system or OFED documentation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Vendor documentation for installation information.</div>
</div>
<!-- class="sect2" -->
<a id="BBABBCHG"></a>
<div id="NETAG1482" class="sect2"><a id="i1009757"></a>
<h3 class="sect2">Configuring SDP on the Server<a id="sthref1017"></a><a id="sthref1018"></a></h3>
<p>To configure the database server, configure an SDP address in the <code dir="ltr">listener.ora</code> file on the database server.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the SDP or address protocol family constant is not 27, the default value for Oracle Net Services, then define the constant in the <code dir="ltr">SDP.PF_INET_SDP</code> parameter in the <code dir="ltr">sqlnet.ora</code> file.</div>
<p>The following example shows an SDP endpoint that uses port number 1521 on the computer <code dir="ltr">sales-server</code>.</p>
<pre dir="ltr">
<span class="bold">LISTENER</span>=
  (DESCRIPTION=
    (ADDRESS_LIST=
      <span class="bold">(ADDRESS=(PROTOCOL=sdp)(HOST=sales-server)(PORT=1521))</span>
      (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
      (ADDRESS=(PROTOCOL=ipc)(KEY=extproc))))
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="advcfg.htm#i457717">"Creating a List of Listener Protocol Addresses"</a></div>
</div>
<!-- class="sect2" -->
<a id="BBABCDFB"></a>
<div id="NETAG1483" class="sect2"><a id="i1009766"></a>
<h3 class="sect2">Configuring SDP on the Client<a id="sthref1019"></a><a id="sthref1020"></a></h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the SDP or address protocol family constant is not 27, the default value for Oracle Net Services, then define the constant in the <code dir="ltr">SDP.PF_INET_SDP</code> parameter in the <code dir="ltr">sqlnet.ora</code> file.</div>
<p>The following procedure describes how to configure the Oracle Application Server servers or third-party middle-tier client:</p>
<ol>
<li>
<p>If configuring third-party middle-tier client, then upgrade the clients to use Oracle Database 11<span class="italic">g</span> Client software, as follows:</p>
<ol>
<li>
<p>Run Oracle Universal Installer.</p>
</li>
<li>
<p>Select <span class="bold">Oracle Database 11<span class="italic">g</span> Client</span> from the Available Products page.</p>
</li>
</ol>
</li>
<li>
<p>For both Oracle Application Server servers and third-party middle-tier client, create a net service name to connect to the database server:</p>
<ul>
<li>
<p>For Oracle Application Server servers, specify a net service name that uses the same TCP/IP protocol address configured in the <code dir="ltr">tnsnames.ora</code> file. For example:</p>
<pre dir="ltr">
sales=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)))
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
</pre></li>
<li>
<p>For third-party middle-tier clients, specify a net service name that uses the same SDP address configured in the <code dir="ltr">tnsnames.ora</code> file.</p>
<p>For example:</p>
<pre dir="ltr">
sales=
 (DESCRIPTION=
   (ADDRESS=(PROTOCOL=sdp)(HOST=sales-server)))
   (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)))
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="naming.htm#g533937">Chapter 8, "Configuring Naming Methods"</a> for additional information about creating connect descriptors</div>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006364"></a>
<div id="NETAG0144" class="sect1">
<h2 class="sect1">Limiting Resource Consumption by Unauthorized <a id="sthref1021"></a><a id="sthref1022"></a>Users<a id="sthref1023"></a><a id="sthref1024"></a><a id="sthref1025"></a></h2>
<p><a id="sthref1026"></a><a id="sthref1027"></a><a id="sthref1028"></a><a id="sthref1029"></a>Unauthorized access to the listener or database server can result in <a id="sthref1030"></a>denial-of-service attacks, whereby an unauthorized client attempts to block authorized users' ability to access and use the system when needed. Malicious clients may attempt to flood the listener or database server with connect requests that have the sole purpose of consuming resources, such as connections, processes, or threads. To mitigate these types of attacks, configure limits that constrain the time in which resources can be held prior to authentication. Client attempts to exceed the configured limits result in connection terminations and an audit trail containing the IP address of the client being logged.</p>
<p>To limit the resource consumption by unauthorized users and enable the audit trail, set time-limit values for the parameters described in <a href="#g1011291">Table 14-1</a>.</p>
<div id="NETAG1202" class="tblruleformalwide">
<p class="titleintable"><a id="sthref1031"></a><a id="g1011291"></a>Table 14-1 Connect-Timeout Parameters</p>
<table class="cellalignment2220" title="Connect-Timeout Parameters" summary="Connect Timeout Parameters" dir="ltr">
<thead>
<tr class="cellalignment2214">
<th class="cellalignment2221" id="r1c1-t14">Parameter</th>
<th class="cellalignment2221" id="r1c2-t14">File</th>
<th class="cellalignment2221" id="r1c3-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2214">
<td class="cellalignment2222" id="r2c1-t14" headers="r1c1-t14">
<p>INBOUND_CONNECT_TIMEOUT_<span class="italic">listener_name<a id="sthref1032"></a><a id="sthref1033"></a></span></p>
</td>
<td class="cellalignment2222" headers="r2c1-t14 r1c2-t14">
<p>listener.ora</p>
</td>
<td class="cellalignment2222" headers="r2c1-t14 r1c3-t14">
<p>The time, in seconds, for the client to complete its connect request to the listener after the network connection had been established.</p>
<p>If the listener does not receive the client request in the time specified, then it terminates the connection. In addition, the listener logs the IP address of the client and an <a id="sthref1034"></a><a id="sthref1035"></a><a href="trouble.htm#CEGGFEFC">ORA-12525: TNS:listener has not received client's request in time allowed</a> error message to the <code dir="ltr">listener.log</code> file.</p>
</td>
</tr>
<tr class="cellalignment2214">
<td class="cellalignment2222" id="r3c1-t14" headers="r1c1-t14">
<p>SQLNET.INBOUND_CONNECT_TIMEOUT<a id="sthref1036"></a><a id="sthref1037"></a></p>
</td>
<td class="cellalignment2222" headers="r3c1-t14 r1c2-t14">
<p>sqlnet.ora on the database server</p>
</td>
<td class="cellalignment2222" headers="r3c1-t14 r1c3-t14">
<p>The time, in seconds, for a client to connect with the database server and provide the necessary authentication information.</p>
<p>If the client fails to establish a connection and complete authentication in the time specified, then the database server terminates the connection. In addition, the database server logs the IP address of the client and an <a id="sthref1038"></a><a id="sthref1039"></a><a href="trouble.htm#CEGEDBIE">ORA-12170: TNS:Connect timeout occurred</a> error message to the <code dir="ltr">sqlnet.log</code> file. The client receives either an <a id="sthref1040"></a><a id="sthref1041"></a><code dir="ltr">ORA-12547: TNS:lost contact</code> or an <a id="sthref1042"></a><a id="sthref1043"></a>ORA-12637: Packet receive failed error message.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformalwide" -->
<p>When specifying values for these parameters, consider the following recommendations:</p>
<ul>
<li>
<p>Set both parameters to an initial low value.</p>
</li>
<li>
<p>Set the value of the <code dir="ltr">INBOUND_CONNECT_TIMEOUT_</code><code dir="ltr"><span class="codeinlineitalic">listener_name</span></code> parameter to a lower value than the <code dir="ltr">SQLNET.INBOUND_CONNECT_TIMEOUT</code> parameter.</p>
</li>
</ul>
<p>For example, you can set <code dir="ltr">INBOUND_CONNECT_TIMEOUT_</code><code dir="ltr"><span class="codeinlineitalic">listener_name</span></code> to 10 seconds and <code dir="ltr">SQLNET.INBOUND_CONNECT_TIMEOUT</code> parameter to 50 seconds. If clients are unable to complete connections within the specified time due to system or network delays that are normal for the particular environment, then increment the time as needed.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="trouble.htm#i440403">"Resolving the Most Common Error Messages for Oracle Net Services"</a> for a description of error message workarounds</p>
</li>
<li>
<p><a href="trouble.htm#i448512">"Analyzing Listener Log Files"</a> for additional information about entries in the <code dir="ltr">listener.log</code> file</p>
</li>
<li>
<p><a href="profile.htm#i483215">"Configuring Advanced Profile Information"</a> for information about configuring these parameters</p>
</li>
<li>
<p><a href="trouble.htm#i440403">"Resolving the Most Common Error Messages for Oracle Net Services"</a> for a description of error message workarounds</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2213">
<tr>
<td class="cellalignment2222">
<table class="cellalignment2218">
<tr>
<td class="cellalignment2217"><a href="advcfg.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2217"><a href="part3.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2224">
<table class="cellalignment2216">
<tr>
<td class="cellalignment2217"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2217"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2217"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2217"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2217"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2217"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
