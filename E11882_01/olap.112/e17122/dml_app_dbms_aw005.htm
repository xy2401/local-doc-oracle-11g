<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>ADVISE_DIMENSIONALITY Procedure</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:22:0Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_app_dbms_aw004.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_app_dbms_aw006.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">562/593</span> <!-- End Header --><a id="CHDFEGGC"></a>
<hr />
<div id="OLADM968" class="refsect1">
<h1 class="refsect1">ADVISE_DIMENSIONALITY Procedure</h1>
<p>The <a id="sthref5498"></a><a id="sthref5499"></a><code>ADVISE_DIMENSIONALITY</code> procedure evaluates the information provided by the <code>ADVISE_SPARSITY</code> procedure and generates the OLAP DML commands for defining a composite and a variable in the analytic workspace.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot execute this procedure from within the OLAP Worksheet. You must execute if in a SQL tool such as SQL*Plus.</div>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="dml_app_dbms_aw.htm#BABGGHHI">"Using the Sparsity Advisor"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5500"></a>Syntax</p>
<pre>
ADVISE_DIMENSIONALITY ( 
          output     OUT    CLOB,
          cubename   IN     VARCHAR2,
          sparsename IN     VARCHAR2 DEFAULT NULL,
          dtype      IN     VARCHAR2 DEFAULT 'NUMBER',
          advtable   IN     VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5501"></a>Parameters</p>
<div id="OLADM2988" class="tblformal">
<p class="titleintable"><a id="sthref5502"></a><a id="sthref5503"></a>Table B-5 ADVISE_DIMENSIONALITY Procedure Parameters</p>
<table class="cellalignment3098" title="ADVISE_DIMENSIONALITY Procedure Parameters" summary="Parameter descriptions for DBMS_AW.ADVISE_DIMENSIONALITY procedure" dir="ltr">
<thead>
<tr class="cellalignment3089">
<th class="cellalignment3099" id="r1c1-t18">Parameter</th>
<th class="cellalignment3099" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r2c1-t18" headers="r1c1-t18">
<p><code>output</code></p>
</td>
<td class="cellalignment3095" headers="r2c1-t18 r1c2-t18">
<p>The name of an object (such as a PL/SQL variable) in which the recommendations of the procedure is stored.</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r3c1-t18" headers="r1c1-t18">
<p><code>cubename</code></p>
</td>
<td class="cellalignment3095" headers="r3c1-t18 r1c2-t18">
<p>The same <span class="italic">cubename</span> value provided in the call to <code>ADVISE_SPARSITY</code>.</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r4c1-t18" headers="r1c1-t18">
<p><code>sparsename</code></p>
</td>
<td class="cellalignment3095" headers="r4c1-t18 r1c2-t18">
<p>An object name for the sample composite. The default value is <code><span class="codeinlineitalic">cubename</span></code><code>.cp</code>.</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r5c1-t18" headers="r1c1-t18">
<p><code>dtype</code></p>
</td>
<td class="cellalignment3095" headers="r5c1-t18 r1c2-t18">
<p>The OLAP DML data type of the sample variable.</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r6c1-t18" headers="r1c1-t18">
<p><code>advtable</code></p>
</td>
<td class="cellalignment3095" headers="r6c1-t18 r1c2-t18">
<p>The name of the table created by the <code>SPARSITY_ADVICE_TABLE</code> procedure in which the results of the analysis are stored.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5504"></a>Example</p>
<p>The following PL/SQL program fragment defines a variable named <code>DEFS</code> to store the recommended definitions.</p>
<pre>
DECLARE
     defs CLOB;
BEGIN
-- Calls to ADD_DIMENSION_SOURCE and ADVISE_SPARSITY omitted here
          .
          .
          .
dbms_aw.advise_dimensionality(defs, 'units_cube_measure_stored', 
     'units_cube_composite', 'DECIMAL');
dbms_output.put_line('Definitions:  ');
dbms_aw.printlog(defs);
END;
/
</pre>
<p>The program uses the <code>DBMS_OUTPUT.PUT_LINE</code> and <code>DBMS_AW.PRINTLOG</code> procedures to display the recommended object definitions.</p>
<pre>
Definitions:
DEFINE units_cube.cp COMPOSITE &lt;product customer time&gt;
DEFINE units_cube NUMBER VARIABLE &lt;channel units_cube.cp&lt;product customer time&gt;&gt;
</pre>
<p>In contrast to the Global schema, which is small and dense, the Sales cube in the Sales History sample schema is large and very sparse, and the Sparsity Advisor recommends 11 partitions. The following excerpt shows some additional OLAP DML definitions for defining a partition template and moving the <code>TIME</code> dimension members to the various partitions.</p>
<pre>
Definitions:
DEFINE sales_cube_composite_p1 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p2 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p3 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p4 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p5 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p6 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p7 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p8 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p9 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p10 COMPOSITE COMPRESSED &lt;time channel product promotion customer&gt;
DEFINE sales_cube_composite_p11 COMPOSITE &lt;channel product promotion customer&gt;
DEFINE sales_cube_pt PARTITION TEMPLATE &lt;time channel product promotion customer&gt; -
  PARTITION BY LIST (time) -
   (PARTITION p1 VALUES () &lt;sales_cube_composite_p1&lt;&gt;&gt; -
    PARTITION p2 VALUES () &lt;sales_cube_composite_p2&lt;&gt;&gt; -
    PARTITION p3 VALUES () &lt;sales_cube_composite_p3&lt;&gt;&gt; -
    PARTITION p4 VALUES () &lt;sales_cube_composite_p4&lt;&gt;&gt; -
    PARTITION p5 VALUES () &lt;sales_cube_composite_p5&lt;&gt;&gt; -
    PARTITION p6 VALUES () &lt;sales_cube_composite_p6&lt;&gt;&gt; -
    PARTITION p7 VALUES () &lt;sales_cube_composite_p7&lt;&gt;&gt; -
    PARTITION p8 VALUES () &lt;sales_cube_composite_p8&lt;&gt;&gt; -
    PARTITION p9 VALUES () &lt;sales_cube_composite_p9&lt;&gt;&gt; -
    PARTITION p10 VALUES () &lt;sales_cube_composite_p10&lt;&gt;&gt; -
    PARTITION p11 VALUES () &lt;time sales_cube_composite_p11&lt;&gt;&gt;)
MAINTAIN sales_cube_pt MOVE TO PARTITION p1 -
   '06-JAN-98', '07-JAN-98', '14-JAN-98', '21-JAN-98', -
   '24-JAN-98', '28-JAN-98', '06-FEB-98', '07-FEB-98', -
   '08-FEB-98', '16-FEB-98', '21-FEB-98', '08-MAR-98', -
   '20-MAR-98', '03-JAN-98', '26-JAN-98', '27-JAN-98'
MAINTAIN sales_cube_pt MOVE TO PARTITION p1 -
   '31-JAN-98', '11-FEB-98', '12-FEB-98', '13-FEB-98', -
   '15-FEB-98', '17-FEB-98', '14-MAR-98', '18-MAR-98', -
   '26-MAR-98', '30-MAR-98', '05-JAN-98', '08-JAN-98', -
   '10-JAN-98', '16-JAN-98', '23-JAN-98', '01-FEB-98'
MAINTAIN sales_cube_pt MOVE TO PARTITION p1 -
   '14-FEB-98', '28-FEB-98', '05-MAR-98', '07-MAR-98', -
   '15-MAR-98', '19-MAR-98', '17-JAN-98', '18-JAN-98', -
   '22-JAN-98', '25-JAN-98', '03-FEB-98', '10-FEB-98', -
   '19-FEB-98', '22-FEB-98', '23-FEB-98', '26-FEB-98'
          .
          .
          .
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_app_dbms_aw004.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_app_dbms_aw006.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
