<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>ADD_DIMENSION_MEMBER</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:35Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_commands_1003.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_commands_1005.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">420/593</span> <!-- End Header --><a id="BGEBHJGE"></a>
<hr />
<div id="OLADM2094" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">ADD_DIMENSION_MEMBER</h1>
<p>The ADD_DIMENSION_MEMBER <a id="sthref3543"></a>program adds a member to an OLAP cube dimension. An OLAP cube dimension (sometimes also called an "OLAP logical dimension") is an OLAP dimension that is defined as a first-class data object in the Oracle data dictionary.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="dml_basics.htm#BABDDIBI">"Cube-Aware OLAP DML Statements"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3544"></a>Syntax</p>
<p class="synopsis">CALL ADD_DIMENSION_MEMBER(<span class="italic">member_id</span>, <span class="italic">logical_dim</span>, <span class="italic">hier_list</span>, l<span class="italic">evel_name</span>, -</p>
<p class="synopsis"><span class="italic">parent-member_id</span>, [ <span class="italic">auto_compile</span>, [ <span class="italic">merge</span> ]])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3545"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because ADD_DIMENSION_MEMBER is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1019.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">member_id</span></dt>
<dd>
<p>A text expression that is the value of the member that you want to add to the cube dimension.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension being modified.</p>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="#BGECJJGA">"Guidelines for Specifying Values for the Names of Logical OLAP Objects"</a></div>
</dd>
<dt><span class="italic">hier_list</span></dt>
<dd>
<p>A multi-line text expression consisting of the Oracle data dictionary names of all of the hierarchies that you want the dimension member added to. Specify one hierarchy name per line.</p>
<p>When you want the member to be added to all of the cube dimension hierarchies, specify <code>NA</code>.</p>
</dd>
<dt><span class="italic">level_name</span></dt>
<dd>
<p>For level hierarchies, a text value that specifies the hierarchy level at which the program will add the member to the cube dimension. For level hierarchies, the value you specify for <span class="italic">level_name</span> must be:</p>
<ul>
<li>
<p>Compatible with the value you specify for <span class="italic">parent_member_id</span></p>
</li>
<li>
<p>At the same hierarchy level as the existing cube dimension member because a cube dimension member cannot be in two different levels across hierarchies.</p>
</li>
</ul>
<p>When the member participates in a value hierarchy (that is, when there are no levels), specify <code>NA</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="#BGEDFFDG">"Invalid Level Names in Cube-Aware OLAP DML Statements"</a></div>
</dd>
<dt><span class="italic">parent_member_id</span></dt>
<dd>
<p>A text expression that specifies the value of the member which is the parent of the member that you want to add to the cube dimension. When you want to add the member as the top member of a hierarchy, specify <code>NA</code>.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want related analytic workspace objects (for example, he parent relation) to be updated immediately. The default value is <code>TRUE</code> in which case all of the changes to the analytic workspace that are needed to add the cube dimension member happen now. Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect as described in <a href="#BGEJCHAE">"Explicitly Compiling a Cube Dimension"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Regardless of the value that you specify for this argument, the new member is always immediately added to the dimension -- even when an error is signaled during compilation.</div>
</dd>
<dt><span class="italic">merge</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not the program updates the dimension member if it exists or creates it if it does not. The default value is <code>FALSE</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3546"></a>Usage Notes</p>
<p class="subhead2"><a id="BGEJCHAE"></a><a id="OLADM2095"></a>Explicitly Compiling a Cube Dimension</p>
<p>When you specify <code>FALSE</code> for <span class="italic">auto_compile</span>, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect. You perform the compilation with a <code>DBMS_CUBE.BUILD</code> package call. You can make this call within Analytic Workspace Manager by issuing the following statement where <span class="italic">cube_dimension_name</span> is the fully-qualified name of the cube dimension as defined in the Oracle data dictionary.</p>
<pre>
SQL PROCEDURE DBMS_CUBE.BUILD('<span class="italic">cube_dimension_name</span> USING (COMPILE)');
</pre>
<p>By default, issuing the above statement performs an UPDATE and COMMIT to the database. To prevent an UPDATE and COMMIT from occurring, add NO COMMIT to the statement as shown below.</p>
<pre>
SQL PROCEDURE DBMS_CUBE.BUILD'NO COMMIT <span class="italic">cube_dimension_name</span> USING (COMPILE)');
</pre>
<p class="subhead2"><a id="BGECJJGA"></a><a id="OLADM2096"></a>Guidelines for Specifying Values for the Names of Logical OLAP Objects</p>
<p>In an OLAP DML statement the text expression that you specify for an OLAP logical object (that is, a first-class OLAP object that is defined in the Oracle data dictionary such as a cube or cube dimension) must resolve to a value with the following form where <span class="italic">LOGICAL_OBJECT_NAME</span> is the Oracle data dictionary name of the OLAP object:</p>
<p class="synopsis">[<span class="italic">SCHEMA_NAME</span>.] <span class="italic">LOGICAL_OBJECT_NAME</span></p>
<p>For example, valid expressions for referencing the XADEMO cube dimension in the XADEMO schema include:</p>
<pre>
'product'
'xademo.product'
'PRODUCT'
'XADEMO.product'
'\"XADEMO\".\"PRODUCT\"'
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
OLAP DML cube-aware programs interpret a text value that you specify for an OLAP logical object as upper case text unless you enclose the value in double quotes.</div>
<p class="subhead2"><a id="OLADM2097"></a>Transaction Scope of Cube-Aware OLAP DML Statements</p>
<p>Unless otherwise noted, the scope of a cube-aware OLAP DML statement, just like other OLAP DML statement, is a single session. To persist any changes, you must have attached the analytic workspace in Read/Write mode before you issue the statement and issue OLAP DML UPDATE and COMMIT statements after you execute the statement. If the analytic workspace is attached Read Only or if you do not issue UPDATE and COMMIT statements, then the changes exist only in the session while the analytic workspace is attached.</p>
<p class="subhead2"><a id="BGEDFFDG"></a><a id="OLADM2098"></a>Invalid Level Names in Cube-Aware OLAP DML Statements</p>
<p>If you specify an invalid value for <span class="italic">level_name</span> or <span class="italic">parent_member_id</span>, a compile-time error is thrown. Also, an error will occur if you specify a hierarchy level for the member that is different from the level it participates in another hierarchy. In this case, a call error is thrown if <span class="italic">auto_compile</span> is <code>FALSE</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref3547"></a>Examples</p>
<div id="OLADM2099" class="example">
<p class="titleinexample"><a id="BGEIGAJJ"></a>Example 9-5 Adding Members to an OLAP Cube Dimension</p>
<p>This example adds members to an OLAP cube dimension named <code>my_time</code>.</p>
<ol>
<li>
<p>Execute the following PL/SQL statement to report on the values and hierarchy of the <code>my_time</code> cube dimension before any changes are made.</p>
<pre>
select dim_key||'  '||level_name||'  '||parent
         from my_time_lvl_hier_view
         order by dim_key asc;

DIM_KEY||''||LEVEL_NAME||''||PARENT
-------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
 
9 rows selected.
</pre></li>
<li>
<p>Execute the following PL/SQL statement to execute the user-written OLAP DML program named <code>ADD_LQ_2</code>.</p>
<pre>
exec dbms_aw.execute('call my_util_aw!add_l1_2');
</pre>
<p>The definition of the user-written OLAP DML program named <code>ADD_LQ_2</code> is shown below. Note that it calls the <code>ADD_DIMENSION_MEMBER</code> program provided with the OLAP DML to add new members to the <code>my_time</code> cube dimension.</p>
<pre>
DEFINE ADD_L1_2 PROGRAM
PROGRAM
  VARIABLE _aw_dim       text
  VARIABLE _aw_sales     text
  VARIABLE _members      text
  VARIABLE _member       text
  VARIABLE _i            integer

  _aw_dim = OBJORG(DIM 'my_time')
  _aw_sales = OBJORG(MEASURE 'my_cube' 'sales')

  " Adds L1_2, L2_3, L3_6  CALL ADD_DIMENSION_MEMBER('L1_2', 'my_time', NA, 'L1', NA, NO)
  CALL ADD_DIMENSION_MEMBER('L2_3', 'my_time', NA, 'L2', 'L1_2', NO)
  CALL ADD_DIMENSION_MEMBER('L3_6', 'my_time', NA, 'L3', 'L2_3', NO)

  " Set my_time attribute (to meaningless values) so dimension can compile
  LIMIT &amp;_aw_dim TO 'L1_2', 'L2_3', 'L3_6'
  _members = VALUES(&amp;_aw_dim)
  _i = 1
  WHILE _i LE NUMLINES(_members)
  DO
    _member = EXTLINES(_members, _i, 1)
    _i = _i + 1
    CALL UPDATE_ATTRIBUTE_VALUE(_member, 'my_time', 'start_date', -
                                to_date('01/01/08', 'MM/DD/YY'), NO)
    CALL UPDATE_ATTRIBUTE_VALUE(_member, 'my_time', 'timespan', 1, NO)
  DOEND

  &amp;_aw_sales(&amp;_aw_dim 'L3_6') = 3

  UPDATE
  COMMIT
END
</pre></li>
<li>
<p>Issue the following PL/SQL statement to compile the <code>my_time</code> cube dimension.</p>
<pre>
 exec dbms_cube.build('MY_TIME USING (COMPILE)');
</pre></li>
<li>
<p>Report the values and hierarchy of the <code>my_time</code> cube dimension after compilation</p>
<pre>
select dim_key||'  '||level_name||'  '||parent
    from my_time_lvl_hier_view
    order by dim_key asc;

DIM_KEY||''||LEVEL_NAME||''||PARENT
-------------------------------------------------------------------------------
L1_0  L1
L1_1  L1
L1_2  L1
L2_1  L2  L1_1
L2_2  L2  L1_1
L2_3  L2  L1_2
L3_1  L3  L2_1
L3_2  L3  L2_1
L3_3  L3  L2_2
L3_4  L3  L2_2
L3_5  L3  L2_2
L3_6  L3  L2_3

12 rows selected.
</pre></li>
<li>
<p>Execute the following PL/SQL statement to solve <code>my_cube</code> with the new hierarchy.</p>
<pre>
exec dbms_cube.build(script =&gt; 'MY_CUBE USING (SOLVE)', add_dimensions =&gt; false);
</pre></li>
<li>
<p>Issue the following PL/SQL statement to report on the values of the <code>sales</code> and <code>moving_sales</code> measure in my-cube. Note that the new <code>my_time</code> cube dimension values are shown.</p>
<pre>
select my_time||'  '||lpad(sales, 2)||'  '||lpad(moving_sales, 2)
from my_cube_view
order by my_time asc;

MY_TIME||''||LPAD(SALES,2)||''||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  27
L1_1  14  38
L1_2   3   3
L2_1   2   5
L2_2  12  14
L2_3   3   3
L3_1   1   4
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   3
 
12 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_commands_1003.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_commands_1005.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
