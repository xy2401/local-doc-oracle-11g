<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>FOR</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:46Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_commands_1051.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_commands_1053.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">468/593</span> <!-- End Header --><a id="i79526"></a>
<hr />
<div id="OLADM821" class="refsect1">
<h1 class="refsect1">FOR</h1>
<p>Within an OLAP DML program, t<a id="sthref4343"></a><a id="sthref4344"></a><a id="sthref4345"></a><a id="sthref4346"></a><a id="sthref4347"></a><a id="sthref4348"></a><a id="sthref4349"></a>he FOR command specifies one or more dimensions whose status controls the repetition of one or more statements. These statements, along with the FOR statement itself, are often called a FOR loop.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4350"></a>Syntax</p>
<p class="synopsis">FOR&nbsp;<span class="italic">dimension</span>...</p>
<p class="synopsis">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="italic">statement</span></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4351"></a>Parameters</p>
<dl>
<dt><span class="italic">dimension</span></dt>
<dd>
<p>One or more dimensions whose current status controls the repetition of one or more statements. The statements are repeated for each combination of the values of the specified dimensions in the current status. When two or more dimensions are specified, the first one varies the slowest. You can specify a composite instead of a dimension.</p>
</dd>
<dt><span class="italic">statement</span></dt>
<dd>
<p>The statement to be repeated. To repeat two or more statements, enclose them between DO and DOEND.</p>
<pre>
     DO
       <span class="italic">statement1</span>
          ...
       <span class="italic">statementN</span>
     DOEND
</pre>
<p>When you are repeating only one statement after FOR, you can omit DO and DOEND.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4352"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2416"></a>FOR Dimension</p>
<p>A FOR statement loops over the values in status of the specified dimension. After the last dimension value, dimension status is restored to what it was before the loop, and execution of the program resumes with the next statement.</p>
<p class="subhead2"><a id="OLADM2417"></a>Status Inside a Loop</p>
<p>The TEMPSTAT command limits the dimension you are looping over inside a FOR loop or inside a loop that is automatically generated by a REPORT statement.</p>
<p class="subhead2"><a id="OLADM2418"></a>No Sorting</p>
<p>Because current status defines and controls a FOR loop, you cannot sort the FOR dimension within the loop.</p>
<p class="subhead2"><a id="OLADM2419"></a>Assignment Statements and Other Looping Statements</p>
<p>An OLAP DML assignment statement (SET), and some other OLAP DML statements automatically loop over dimension status and do so more efficiently than a FOR loop. Be careful not to cause extra looping by putting an assignment statement or one of these statements in a FOR loop.</p>
<p class="subhead2"><a id="OLADM2420"></a>Branching</p>
<p>You can use BREAK, CONTINUE, and GOTO statements to branch within, or out of, a FOR loop, thereby altering the sequence of statement execution.</p>
<p class="subhead2"><a id="OLADM2421"></a>Nested FOR Statements</p>
<p>FOR statements can be nested within a FOR loop to any depth when matching DO and DOEND statements are supplied where appropriate.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4353"></a>Examples</p>
<div id="OLADM2422" class="example">
<p class="titleinexample"><a id="sthref4354"></a>Example 9-136 Using FOR in a DO Loop to Repeat ROW Commands</p>
<p>In a report program, you want to show the unit sales of tents for each of three months. Use the following FOR statement with a DO/DOEND sequence to repeat ROW commands and BLANK commands for each value of the <code>month</code> dimension.</p>
<pre>
LIMIT product TO tents
LIMIT month TO 'Jan96' TO 'Mar96'
ROW district
ROW UNDER '-' VALONLY name.product
BLANK
FOR month
    DO
      ROW INDENT 5 month WIDTH 6 UNITS
      BLANK
    DOEND
</pre>
<p>The program lines produce the following report.</p>
<pre>
BOSTON
3-Person Tents
--------------
 
     Jan96              307
     Feb96              209
     Mar96              277
</pre></div>
<!-- class="example" -->
<div id="OLADM2423" class="example">
<p class="titleinexample"><a id="CHDIHIFI"></a><a id="i1012386"></a>Example 9-137 Using a FOR Statement for Looping Over Values</p>
<p><a id="sthref4355"></a><a id="sthref4356"></a>The FOR command executes the commands in the loop for each value in the current status of the dimension. You must limit the dimension to the desired values before executing a FOR statement. For example, you can produce a series of output lines that show the price for each product.</p>
<pre>
LIMIT month TO FIRST 1
LIMIT product TO ALL
FOR product
SHOW JOINCHARS('Price for ' product ': $' price)
</pre>
<p>Each output line has the following format.</p>
<pre>
Price for TENTS: $165.50
</pre>
<p><a id="sthref4357"></a><a id="sthref4358"></a>When your data is multidimensional, you can specify multiple dimensions in a FOR statement to control the order of processing. For example, you can use the following statement to control the order in which dimension values of the <code>units</code> data are processed.</p>
<pre>
FOR month district product
   units = ...
</pre>
<p>When this assignment statement is executed, the <code>month</code> dimension varies the slowest, the <code>district</code> dimension varies the next slowest, and the <code>product</code> dimension varies the fastest. Thus, a loop is performed over all products for the first district before doing the next district, and over all districts for the first month before doing the next month.</p>
<p>Within the FOR loop, each specified dimension is temporarily limited to a single value while it executes the statements in the loop. You can therefore work with specific combinations of dimension values within the loop.</p>
</div>
<!-- class="example" -->
<div id="OLADM2424" class="example">
<p class="titleinexample"><a id="CHDEHBCB"></a><a id="i1012387"></a>Example 9-138 Using DO/DOEND in a FOR Loop</p>
<p><a id="sthref4359"></a><a id="sthref4360"></a><a id="sthref4361"></a>When actual figures for unit sales are stored in a variable called <code>units</code> and projected figures for unit sales are stored in a variable called <code>units.plan</code>, then the code in your loop can compare these figures for the same combination of dimension values.</p>
<pre>
LIMIT month TO FIRST 1
LIMIT product TO ALL
LIMIT district TO ALL
FOR district product
   DO
     IF (units.plan - units)/units.plan GT .1
     THEN SHOW JOINCHARS(-
       'Unit sales for ' product ' in ' -
       district ' are not within 10% of plan.')
   DOEND
</pre>
<p>These lines of code are processed in the following manner.</p>
<ol>
<li>
<p>The data is limited to a specific month.</p>
</li>
<li>
<p>All the districts and products are placed in status, and the FOR loop is entered.</p>
</li>
<li>
<p>In the FOR loop, the actual figure is tested against the planned figure. When the unit sales figure for <code>Tents</code> in <code>Boston</code> is more than 10 percent below the planned figure, then the following message is sent to the current outfile.</p>
<pre>
Unit sales for TENTS in BOSTON are not within 10% of plan.
</pre></li>
<li>
<p>After processing all the products, the FOR loop is complete for the first district.</p>
</li>
<li>
<p>The loop is executed for the second district, and so on.</p>
<p>Note that while the FOR loop executes, each dimension that is specified in a FOR statement is limited temporarily to a single value. When you specify <code>district</code> in the FOR loop, but not <code>product</code>, then all the values of <code>product</code> are in status while the FOR loop executes. The IF...THEN...ELSE command then tests data for only the first value of the <code>product</code> dimension.</p>
</li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_commands_1051.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_commands_1053.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
