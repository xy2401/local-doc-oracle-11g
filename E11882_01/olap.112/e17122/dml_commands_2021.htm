<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>MONITOR</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:53Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_commands_2020.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_commands_2022.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">495/593</span> <!-- End Header --><a id="g1037071"></a>
<hr />
<div id="OLADM873" class="refsect1">
<h1 class="refsect1">MONITOR</h1>
<p><a id="sthref4711"></a><a id="sthref4712"></a><a id="sthref4713"></a><a id="sthref4714"></a><a id="sthref4715"></a><a id="sthref4716"></a><a id="sthref4717"></a><a id="sthref4718"></a>The MONITOR command records data on the performance cost of each line in a specified program. To get meaningful information from MONITOR, your session must be the only one running in Oracle OLAP. Furthermore, the accuracy of the results of MONITOR decreases as more processes are started on the host computer.</p>
<p>You first use a MONITOR statement to specify a program for monitoring; then you run the program and use MONITOR again to obtain the results. When the program executes a given line repeatedly, MONITOR records the cumulative cost of all the executions on the single line of its monitor list that is devoted to that program line.</p>
<p>A line of code is considered to have a high performance cost when it takes a long time to execute. Use a TRACKPRG statement to identify programs that have relatively high costs and then use MONITOR to identify the time-consuming lines within those programs. When you want, you can use both TRACKPRG and MONITOR simultaneously.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4719"></a>Syntax</p>
<p class="synopsis">MONITOR ON [<span class="italic">programs</span>] | OFF | INIT | FILE [[APPEND] <span class="italic">file-name</span>] | RESET</p>
<p>where <span class="syntaxinlineitalic">programs</span> is one of the following:</p>
<dl>
<dd><span class="syntaxinline">ALL [</span><span class="syntaxinlineitalic">awlist</span><span class="syntaxinline">]</span></dd>
<dd><span class="syntaxinlineitalic">program-name</span></dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4720"></a>Parameters</p>
<dl>
<dt>ON</dt>
<dd>
<p>Starts looking for the specified programs to be run so that Oracle OLAP can gather line-by-line timing data in a monitor list. (It continues the current monitoring process without interruption when monitoring is already on, or resumes with a gap when monitoring was off.)</p>
<p>When you do not specify a value for <span class="italic">programs</span>, the default is the program or programs specified in the last executed <code>MONITOR</code> <code>ON</code> statement. When there was no such statement in your current session, no data is collected and no error is produced.</p>
</dd>
<dt>ALL</dt>
<dd>
<p>Specifies that all of the programs in one or more analytic workspaces are monitored.</p>
</dd>
<dt><span class="italic">awlist</span></dt>
<dd>
<p>The name of one or more analytic workspaces (optionally separated by commas) whose programs you want monitored. When you omit this argument, Oracle OLAP monitors all of the programs in all of the attached analytic workspaces</p>
</dd>
<dt><span class="italic">program-name</span></dt>
<dd>
<p>The name of a specific program that you want monitored.</p>
</dd>
<dt>OFF</dt>
<dd>
<p>Stops monitoring programs and freezes any timing data currently in the monitor list which allows you send the list to the current outfile or to a text file either immediately, or later in your session.</p>
</dd>
<dt>RESET</dt>
<dd>
<p>(Useful only when monitoring is on.) Retains information about the programs that ares currently specified for monitoring and the Oracle OLAP memory that is allocated for the current monitor list, but discards any timing data currently in the list. In addition, RESET causes MONITOR to again begin waiting for you to run the same programs. When you do, MONITOR automatically gathers new timing data into a new monitor list for the same programs in the same memory allocation as before.</p>
</dd>
<dt>INIT</dt>
<dd>
<p>(Useful only when monitoring is on.) Initializes the monitoring environment. Initialization consists of discarding the program names and the timing data associated with the current monitor list, and releasing the Oracle OLAP memory previously used for that list so it can be used for other purposes or for collecting new data in a new monitor list.</p>
</dd>
<dt>FILE</dt>
<dd>
<p>Specifies that the timing data that is currently in the monitor list is sent to a file.</p>
</dd>
<dt>APPEND</dt>
<dd>
<p>Specifies that the timing data is appended to an existing file. When you omit this argument, the new output replaces the current contents of the file.</p>
</dd>
<dt><span class="italic">file-name</span></dt>
<dd>
<p>A text expression that is the name of the file to receive the output. Unless the file is in the current directory, you must include the name of the directory object in the name of the file. When <span class="italic">file-name</span> is specified, the data is sent to the named text file. FILE has no effect on the monitor list, so you can send the same list repeatedly to different destinations. When <span class="italic">file-name</span> is omitted, Oracle OLAP sends the timing data that is currently in the monitor list to the current outfile.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Directory objects are defined in the database, and they control access to directories and file in those directories. You can use a CDA statement to identify and specify a current directory object. Contact your Oracle DBA for access rights to a directory object where your database user name can read and write files.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4721"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM2608"></a>Monitor List</p>
<p>Each entry (that is, line) in the monitor list focuses on the execution of a single program line, regardless of how many times it is executed. Each entry is divided into the following four sections:</p>
<ul>
<li>
<p>Cumulative total time of all executions in milliseconds rounded to the nearest 10 millisecond, in columns 1 through 11</p>
</li>
<li>
<p>Number of times executed, in columns 12 through 18</p>
</li>
<li>
<p>Line number, in columns 19 through 23</p>
</li>
<li>
<p>Text of the line, in column 24 and subsequent columns</p>
</li>
</ul>
<p>Here is a sample of MONITOR output with column numbers included for reference.</p>
<pre>
12345678901234567890123456789012345678901234567890
 
60              1    1 push name 
30              1    2 trap on GETOUT noprint 
51              1    3 limit name to obj(type) eq 'DIMENSION'
0               1    4 for name 
0               0    5    do 
450             6    6    limit &amp;name to ALL ifnone BYPASS 
0               0    7 BYPASS: 
0               0    8    doend 
0               0    9 GETOUT: 
0               1   10 pop name 
</pre>
<p>The following is the full description of the program used for the preceding output. Note that in the output, the line with the LIMIT command is truncated because it is too long to fit.</p>
<pre>
DEFINE allstat PROGRAM
LD Program to set the status of all dimensions in the analytic workspace to ALL
PROGRAM
PUSH NAME
TRAP ON getout NOPRINT
LIMIT NAME TO OBJ(TYPE) EQ 'Dimension' IFNONE getout
FOR NAME
   DO
   LIMIT &amp;NAME TO ALL IFNONE bypass
bypass:
   DOEND
getout:
POP NAME
END
</pre>
<p class="subhead2"><a id="OLADM2609"></a>Attaching, Detaching, and Reattaching Analytic Workspaces</p>
<p>When Oracle OLAP executes a program in an analytic workspace that has been attached, detached, a new block of data is collected.</p>
<p class="subhead2"><a id="OLADM2610"></a>Truncated Statement Lines</p>
<p>When a program line is too long, the MONITOR output truncates it. Continuation lines do not appear in the output.</p>
<p class="subhead2"><a id="OLADM2611"></a>Producing a Report</p>
<p>When you want to produce an Oracle OLAP report from the timing data in the MONITOR file, you can write a program that uses a FILEREAD statement to read the data into an Oracle OLAP variable, and then use Oracle OLAP reporting capabilities to produce a report. You can use the <code>TRACKREPORT</code> program as a model. However, keep in mind that the <code>TRACKREPORT</code> program was written to produce a report on TRACKPRG output, not MONITOR output.</p>
<p class="subhead2"><a id="OLADM2612"></a>Bracketing Lines</p>
<p>When you just want to time a particular line or group of lines in a program, you can insert <code>MONITOR</code> <code>ON</code> and <code>MONITOR</code> <code>OFF</code> statements in the program to bracket just the line or lines in which you are interested.</p>
<p class="subhead2"><a id="OLADM2613"></a>Using MONITOR for a Nested Programs</p>
<p>When you do not want to run a nested program by itself, you can specify its name in a <code>MONITOR</code> <code>ON</code> statement and then run the program that calls it. MONITOR gathers timing data only for the specified (nested) program. When the specified program is called more than once, for each program line, MONITOR accumulates the total seconds taken by all the times the line was run and provide the number of times it was run.</p>
<p>When you just want to time a particular execution of a nested program that is called more than once, you can insert <code>MONITOR</code> <code>ON</code> and <code>MONITOR</code> <code>OFF</code> statements in the calling program to bracket the single call in which you are interested.</p>
<p class="subhead2"><a id="OLADM2614"></a>Using MONITOR with Very Small Programs</p>
<p>You might not be able to reproduce the results exactly for very small programs. When the CPU interrupts processing to do other tasks, that time is a greater percentage of the total execution time.</p>
<p class="subhead2"><a id="OLADM2615"></a>Unit of Measure for MONITOR</p>
<p>The MONITOR and TRACKPRG commands use milliseconds as the unit for recording execution time. The execution time does not include time spent on I/O and time spent waiting for the next statement.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4722"></a>Examples</p>
<div id="OLADM2616" class="example">
<p class="titleinexample"><a id="sthref4723"></a>Example 10-66 Collecting Timing Data Using MONITOR</p>
<p>In this example, MONITOR is used to collect timing data on the execution of the individual lines of code in <code>prog1</code> and then to send the data to a text file. The <code>MONITOR</code> <code>ON</code> statement is then used to discard the <code>prog1</code> timing data and start collecting data on <code>prog2</code>. After the data for <code>prog2</code> is sent to a second file, <code>MONITOR</code>&nbsp;<code>INIT</code> is used to discard the current monitor list and release the memory used for it.</p>
<pre>
MONITOR ON prog1
prog1
MONITOR FILE prog1.mon
MONITOR ON prog2
prog2
MONITOR OFF
MONITOR FILE prog2.mon
MONITOR INIT
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_commands_2020.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_commands_2022.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
