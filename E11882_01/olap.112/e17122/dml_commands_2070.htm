<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>UPDATE_ATTRIBUTE_VALUE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:59Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_commands_2069.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_commands_2071.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">544/593</span> <!-- End Header --><a id="CCHBIGEG"></a>
<hr />
<div id="OLADM2892" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">UPDATE_ATTRIBUTE_VALUE</h1>
<p>The UPDATE_ATTRIBUTE_VALUE <a id="sthref5298"></a>program modifies the attributes of an OLAP cube dimension member.</p>
<p>This program is especially useful when updating the following kinds of attributes:</p>
<ul>
<li>
<p>For attributes with an underlying relation or indexed dimension, you need only to provide the dimension member and value. The indexed dimension is maintained along with setting the value in the relation.</p>
</li>
<li>
<p>For spread attributes, if you set an attribute value on an attribute spanning all levels, then the values are spread down to lower levels on compile.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use this program to modify a cube dimension if a materialized view exists for that cube dimension or any cube in which it participates.</div>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="dml_basics.htm#BABDDIBI">"Cube-Aware OLAP DML Statements"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5299"></a>Syntax</p>
<p class="synopsis">CALL UPDATE_ATTRIBUTE_MEMBER(<span class="italic">dim_member_id</span>, <span class="italic">attribute_name</span>, <span class="italic">attribute_value</span> -</p>
<p class="synopsis">[, <span class="italic">auto_compile</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5300"></a>Parameters</p>
<dl>
<dt>CALL</dt>
<dd>
<p>Because UPDATE_ATTRIBURE_VALUE is an OLAP DML program with arguments, you invoke it using the OLAP DML <a href="dml_commands_1019.htm#i79175">CALL</a> statement.</p>
</dd>
<dt><span class="italic">dim_member_id</span></dt>
<dd>
<p>A text expression that is the value of the cube dimension member that you want to modify the attributes of.</p>
</dd>
<dt><span class="italic">logical_dim</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the cube dimension of which <span class="italic">dim_member_id</span> is a member.</p>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="dml_commands_1004.htm#BGECJJGA">"Guidelines for Specifying Values for the Names of Logical OLAP Objects"</a></div>
</dd>
<dt><span class="italic">attribute_name</span></dt>
<dd>
<p>A text expression that is the Oracle data dictionary name of the attribute.</p>
</dd>
<dt><span class="italic">attribute_value</span></dt>
<dd>
<p>A text expression that specifies the value of <span class="italic">attribute_name</span>.</p>
</dd>
<dt><span class="italic">auto_compile</span></dt>
<dd>
<p>A Boolean expression that specifies whether or not you want related analytic workspace objects to be updated immediately.</p>
<p>The default value is <code>TRUE</code> in which case all of the changes to the analytic workspace that are needed to update the attribute of the cube dimension member happen now.</p>
<p>Specify FALSE only when, for performance reasons, you want to make a bulk set of changes before issuing a compile. In this case, you need to explicitly compile the cube dimension before the values of the analytic workspace objects take effect as described in <a href="dml_commands_1004.htm#BGEJCHAE">"Explicitly Compiling a Cube Dimension"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Regardless of the value that you specify for this argument, the attribute of the dimension member is always immediately updated -- even when an error is signaled during compilation.</div>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5301"></a>Examples</p>
<div id="OLADM2893" class="example">
<p class="titleinexample"><a id="CCHDFBCB"></a>Example 10-169 Updating the Attributes of an OLAP Cube Dimension</p>
<p>This example uses the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML to update attributes of the <code>my_time</code> cube dimension for the L1-2 and the descendants of L1-2. The calls to the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML are within a user-written OLAP DML program named <code>ADD_L1_2_DATE</code>.</p>
<ol>
<li>
<p>Issue the following PL/SQL statement to execute the user-written OLAP DML program named <code>ADD_L1_2_DATE</code> to set <code>time</code> attribute values for <code>L1_2</code> and its descendants</p>
<pre>
exec dbms_aw.execute('call my_util_aw!add_l1_2_dates');
</pre>
<p>The definition of the user-written <code>ADD_L1_2_DATE</code> OLAP DML program is shown below. Notice the calls to the UPDATE_ATTRIBUTE_VALUE program provided with the OLAP DML.</p>
<pre>
DEFINE ADD_L1_2_DATES PROGRAM
PROGRAM
  VARIABLE _aw_dim       text
  VARIABLE _start_date   text
  VARIABLE _timespan     text

  _aw_dim = OBJORG(DIM 'my_time')
  _start_date = OBJORG(ATTRIBUTE 'my_time' 'start_date')
  _timespan = OBJORG(ATTRIBUTE 'MY_TIME' 'timespan')

  " Updates the time attribute of L1_2, L2_3, L3_6, but does not compile
  CALL UPDATE_ATTRIBUTE_VALUE('L1_2', 'my_time', 'start_date', -
                              &amp;_start_date(&amp;_aw_dim 'L1_1')+365, NO)
  CALL UPDATE_ATTRIBUTE_VALUE('L1_2', 'my_time', 'timespan', -
                              &amp;_timespan(&amp;_aw_dim 'L1_1'), NO)

  CALL UPDATE_ATTRIBUTE_VALUE('L2_3', 'my_time', 'start_date', -
                              &amp;_start_date(&amp;_aw_dim 'L1_2'), NO)
  CALL UPDATE_ATTRIBUTE_VALUE('L2_3', 'my_time', 'timespan', -
                              &amp;_timespan(&amp;_aw_dim 'L2_1'), NO)

  CALL UPDATE_ATTRIBUTE_VALUE('L3_6', 'my_time', 'start_date', -
                              &amp;_start_date(&amp;_aw_dim 'L1_2'), NO)
  CALL UPDATE_ATTRIBUTE_VALUE('L3_6', 'my_time', 'timespan', -
                              &amp;_timespan(&amp;_aw_dim 'L3_1'), NO)
  UPDATE
  COMMIT
END
</pre></li>
<li>
<p>Issue the following SQL statement to see what the attributes of the <code>my_time</code> cube dimension are.</p>
<pre>
select dim_key||'  '||start_date||'  '||lpad(timespan, 3) 
    from my_time_view 
    order by dim_key asc;


DIM_KEY||''||START_DATE||''||LPAD(TIMESPAN,3)
----------------------------------------------------------------------------
L1_0  01-JAN-09  365
L1_1  01-JAN-10  365
L1_2  01-JAN-11  365
L2_1  01-JAN-10   90
L2_2  01-APR-10   61
L2_3  01-JAN-11   90
L3_1  01-JAN-10   31
L3_2  01-FEB-10   28
L3_3  01-MAR-10   31
L3_4  01-APR-10   30
L3_5  01-MAY-10   31
L3_6  01-JAN-11   31

12 rows selected.
</pre></li>
<li>
<p>Issue the following SQL statement to report the values of the <code>sales</code> and <code>moving_sales</code> measures <span class="italic">before</span> the <code>my_time</code> cube dimension is compiled. Note that the calculation for the measures does not consider the new attributes of the <code>my_time</code> cube dimension.</p>
<pre>
select my_time||'  '||lpad(sales, 2)||'  '||lpad(moving_sales, 2)
from my_cube_view
order by my_time asc;

MY_TIME||''||LPAD(SALES,2)||''||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  27
L1_1  14  38
L1_2   3   3
L2_1   2   5
L2_2  12  14
L2_3   3   3
L3_1   1   4
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   3

12 rows selected.
</pre></li>
<li>
<p>Issue the following SQL statement to compile the <code>my_time</code> cube dimension.</p>
<pre>
exec dbms_cube.build('MY_TIME USING (COMPILE)');
</pre></li>
<li>
<p>Issue the following SQL statement to report the values of the <code>sales</code> and <code>moving_sales</code> measures <span class="italic">after</span> the <code>my_time</code> cube dimension is compiled. Note that now the calculation for the measures considers the new attributes of the <code>my_time</code> cube dimension</p>
<pre>
select my_time||'  '||lpad(sales, 2)||'  '||lpad(moving_sales, 2)
       from my_cube_view
       order by my_time asc;

MY_TIME||''||LPAD(SALES,2)||''||LPAD(MOVING_SALES,2)
--------------------------------------------------------------------
L1_0  24  24
L1_1  14  38
L1_2   3  17
L2_1   2   2
L2_2  12  14
L2_3   3  15
L3_1   1   1
L3_2   1   2
L3_3  10  11
L3_4   1  11
L3_5   1   2
L3_6   3   4

12 rows selected.
</pre></li>
</ol>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_commands_2069.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_commands_2071.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
