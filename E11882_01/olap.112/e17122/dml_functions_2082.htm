<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>ROUND</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:30Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_functions_2081.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_functions_2083.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">340/593</span> <!-- End Header --><a id="i79211"></a>
<hr />
<div id="OLADM647" class="refsect1">
<h1 class="refsect1">ROUND</h1>
<p><a id="sthref2911"></a><a id="sthref2912"></a><a id="sthref2913"></a>Depending on the syntax you specify, the ROUND function performs a numeric operation or a date and time operation. Because the syntax for the ROUND function differs for each type of operation, there are two topics for the ROUND function:</p>
<ul>
<li>
<p><a href="#i80730">ROUND (datetime)</a></p>
</li>
<li>
<p><a href="#i81446">ROUND (number)</a></p>
</li>
</ul>
<div id="OLADM648" class="refsect2"><a id="i80730"></a>
<hr />
<h2 class="refsect2">ROUND (datetime)</h2>
<p><a id="sthref2914"></a>The ROUND (datetime) function returns date rounded to the unit specified by the format model <code><span class="codeinlineitalic">fmt</span></code>. The value returned is always of data type <code>DATETIME</code>, even if you specify a different datetime data type for date.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2915"></a>Return Value</p>
<p>DATETIME</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2916"></a>Syntax</p>
<p class="synopsis">ROUND(<span class="italic">datetime_exp</span>, [<span class="italic">format</span> ])</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2917"></a>Parameters</p>
<dl>
<dt><span class="italic">datetime-exp</span></dt>
<dd>
<p>A datetime expression that identifies a date and time number.</p>
</dd>
<dt><span class="italic">format</span></dt>
<dd>
<p>A text expression that specifies a format model shown in the following table. A format model indicates how the date and time number should be rounded.</p>
<p>If you omit this argument, then <code><span class="codeinlineitalic">datetime-exp</span></code> is rounded to the nearest day.</p>
<p><a href="#CJAEFAIA">Table 8-13</a> lists the format models you can use with the <code>ROUND</code> and <code>TRUNC</code> date functions and the units to which they round and truncate dates. The default model, 'DD', returns the date rounded or truncated to the day with a time of midnight.</p>
<div id="OLADM1874" class="tblhruleformal">
<p class="titleintable"><a id="sthref2918"></a><a id="CJAEFAIA"></a>Table 8-13 Datetime Format Templates for the ROUND and TRUNC Date Functions</p>
<table class="cellalignment3100" title="Datetime Format Templates for the ROUND and TRUNC Date Functions " summary="This table is described in the preceding text." dir="ltr">
<thead>
<tr class="cellalignment3089">
<th class="cellalignment3099" id="r1c1-t71">Format Model</th>
<th class="cellalignment3099" id="r1c2-t71">Rounding or Truncating Unit</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r2c1-t71" headers="r1c1-t71">
<pre>
CC
SCC
</pre></td>
<td class="cellalignment3095" headers="r2c1-t71 r1c2-t71">
<p>One greater than the first two digits of a four-digit year</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r3c1-t71" headers="r1c1-t71">
<pre>
SYYYY
YYYY
YEAR
SYEAR
YYY
YY
Y
</pre></td>
<td class="cellalignment3095" headers="r3c1-t71 r1c2-t71">
<p>Year (rounds up on July 1)</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r4c1-t71" headers="r1c1-t71">
<pre>
IYYY
IY
IY
I
</pre></td>
<td class="cellalignment3095" headers="r4c1-t71 r1c2-t71">
<p>ISO Year</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r5c1-t71" headers="r1c1-t71">
<pre>
Q
</pre></td>
<td class="cellalignment3095" headers="r5c1-t71 r1c2-t71">
<p>Quarter (rounds up on the sixteenth day of the second month of the quarter)</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r6c1-t71" headers="r1c1-t71">
<pre>
MONTH
MON
MM
RM
</pre></td>
<td class="cellalignment3095" headers="r6c1-t71 r1c2-t71">
<p>Month (rounds up on the sixteenth day)</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r7c1-t71" headers="r1c1-t71">
<pre>
WW
</pre></td>
<td class="cellalignment3095" headers="r7c1-t71 r1c2-t71">
<p>Same day of the week as the first day of the year</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r8c1-t71" headers="r1c1-t71">
<pre>
IW
</pre></td>
<td class="cellalignment3095" headers="r8c1-t71 r1c2-t71">
<p>Same day of the week as the first day of the ISO year</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r9c1-t71" headers="r1c1-t71">
<pre>
W
</pre></td>
<td class="cellalignment3095" headers="r9c1-t71 r1c2-t71">
<p>Same day of the week as the first day of the month</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r10c1-t71" headers="r1c1-t71">
<pre>
DDD
DD
J
</pre></td>
<td class="cellalignment3095" headers="r10c1-t71 r1c2-t71">
<p>Day</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r11c1-t71" headers="r1c1-t71">
<pre>
DAY
DY
D
</pre></td>
<td class="cellalignment3095" headers="r11c1-t71 r1c2-t71">
<p>Starting day of the week</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r12c1-t71" headers="r1c1-t71">
<pre>
HH
HH12
HH24
</pre></td>
<td class="cellalignment3095" headers="r12c1-t71 r1c2-t71">
<p>Hour</p>
</td>
</tr>
<tr class="cellalignment3089">
<td class="cellalignment3095" id="r13c1-t71" headers="r1c1-t71">
<pre>
MI
</pre></td>
<td class="cellalignment3095" headers="r13c1-t71 r1c2-t71">
<p>Minute</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" --></dd>
</dl>
<p>The starting day of the week used by the format models DAY, DY, and D is specified implicitly by the initialization parameter <code>NLS_TERRITORY</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2919"></a>Examples</p>
<div id="OLADM1875" class="example">
<p class="titleinexample"><a id="sthref2920"></a>Example 8-83 Rounding to the Nearest Year</p>
<p>When the value of the NLS_DATE_FORMAT option is <code>DD-MON-YY</code>, then this statement:</p>
<pre>
SHOW ROUND (TO_DATE('27-OCT-92'),'year')
</pre>
<p>returns this value:</p>
<pre>
01-JAN-93
</pre></div>
<!-- class="example" -->
<div id="OLADM1876" class="example">
<p class="titleinexample"><a id="sthref2921"></a>Example 8-84 Rounding to Different Formats</p>
<p>Assume that you have a variable named <code>mydatetime</code> with the following definition and value defined in your analytic workspace.</p>
<pre>
DEFINE MYDATETIME VARIABLE DATETIME
DATE_FORMAT = 'MON-RRRR-DD-HH24'
mydatetime = CURRENT_TIMESTAMP
SHOW mydatetime
= 'AUG-2006-07-13'
</pre>
<p>As the following SHOW statements illustrate, depending on what date format value you specify, the ROUND function returns different values for the <code>mydatetime</code> variable.</p>
<pre>
SHOW ROUND(mydatetime, 'RRRR')
01-JAN-07
 
SHOW ROUND(mydatetime, 'MON')
01-AUG-06
 
SHOW ROUND(mydatetime, 'DD')
08-AUG-06
 
SHOW ROUND(mydatetime)
= 'AUG-2006-08-00'
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="OLADM649" class="refsect2"><a id="i81446"></a>
<hr />
<h2 class="refsect2">ROUND (number)</h2>
<p><a id="sthref2922"></a>When a number is specified as an argument, the ROUND function returns the number rounded to the nearest multiple of a second number you specify or to the number of decimal places indicated by the second number.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2923"></a>Return Value</p>
<p>DECIMAL (when the round type is MULTIPLE)</p>
<p>NUMBER (when the round type is DECIMAL)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2924"></a>Syntax</p>
<p class="synopsis">ROUND(<span class="italic">number_exp&nbsp;roundvalue</span>)&nbsp;[<span class="underline">MULTIPLE</span>|DECIMAL]</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2925"></a>Parameters</p>
<dl>
<dt><span class="italic">number_exp</span></dt>
<dd>
<p>An expression that identifies the number to round.</p>
</dd>
<dt><span class="italic">roundvalue</span></dt>
<dd>
<p>A value that specifies the basis for rounding.</p>
<p>When the round type is MULTIPLE:</p>
<ul>
<li>
<p><span class="italic">number_exp</span> is rounded to the nearest multiple of <span class="italic">roundvalue</span>.</p>
</li>
<li>
<p><span class="italic">roundvalue</span> can be an <code>INTEGER</code> or decimal number.</p>
</li>
</ul>
<p>&nbsp;</p>
<p>When the round type is DECIMAL:</p>
<ul>
<li>
<p><span class="italic">roundvalue</span> specifies the number of places to the right or left of the decimal point to which <span class="italic">number_exp</span> should be rounded. When <span class="italic">roundvalue</span> is positive, digits to the right of the decimal point are rounded. When it is negative, digits to the left of the decimal point are rounded.</p>
</li>
<li>
<p>When <span class="italic">roundvalue</span> is omitted, <span class="italic">number_exp</span> is rounded to <code>0</code> decimal places.</p>
</li>
<li>
<p><span class="italic">roundvalue</span> must be an <code>INTEGER</code>.</p>
</li>
</ul>
</dd>
<dt>MULTIPLE</dt>
<dd>
<p>(Default) Specifies that rounding is performed by rounding to the nearest multiple of <span class="italic">roundvalue</span>.</p>
</dd>
<dt>DECIMAL</dt>
<dd>
<p>Specifies that rounding is performed by rounding to the number of decimal places indicated by <span class="italic">roundvalue</span>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2926"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM1877"></a>Using ROUND to Compare Expressions</p>
<p>A DECIMAL value might be stored in a slightly different form than shows up at the level of significant digits you are using. This small difference can cause unexpected results when you are comparing two expressions. The problem can occur even when you are comparing INTEGER expressions that involve calculations because many calculations are done only after converting INTEGER values to DECIMAL values. You do not generally see the difference in reports because reports usually show only two or three decimal places.</p>
<p>For example, when you compare two numbers with the EQ or NE operators, you probably want to ignore any difference caused by the least significant digits. When <code>expense</code> was stored as <code>100.00000001</code>, the least significant digit would not be ignored by the simple form of the comparison.</p>
<p>The statement</p>
<pre>
SHOW expense EQ 100.00
</pre>
<p>produces the following result.</p>
<pre>
NO
</pre>
<p>However, you can use ROUND to force EQ or NE to ignore the least significant digits.</p>
<pre>
SHOW ROUND(expense, .01) EQ 100.00
</pre>
<p>This statement produces the following result.</p>
<pre>
YES
</pre>
<p class="subhead2"><a id="OLADM1878"></a>Using ABS to Compare Expressions</p>
<p>When speed of calculation is important in your application, you may want to use the ABS function with LT to compare numbers, instead of using ROUND with EQ or NE.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2927"></a>Examples</p>
<div id="OLADM1879" class="example">
<p class="titleinexample"><a id="sthref2928"></a>Example 8-85 Rounding to Different Multiples</p>
<p>The following statements show the results of rounding the expression <code>2/3</code> to different multiples. The value of the DECIMALS setting is <code>2</code>.</p>
<p>The statement</p>
<pre>
SHOW ROUND(2/3, .01)
</pre>
<p>produces the following result.</p>
<pre>
0.67
</pre>
<p>The statement</p>
<pre>
SHOW ROUND(2/3, .1)
</pre>
<p>produces the following result.</p>
<pre>
0.70
</pre>
<p>The statement</p>
<pre>
SHOW ROUND(2/3, .5)
</pre>
<p>produces the following result.</p>
<pre>
0.50
</pre></div>
<!-- class="example" -->
<div id="OLADM1880" class="example">
<p class="titleinexample"><a id="sthref2929"></a>Example 8-86 Rounding to the Nearest Thousand</p>
<p>The following example shows <code>sales</code> rounded to the nearest thousand.</p>
<pre>
LIMIT month TO FIRST 4
LIMIT district TO FIRST 1
REPORT ROUND(sales 1000)
</pre>
<p>These statements produce the following output.</p>
<pre>
DISTRICT: BOSTON
               -------------ROUND(SALES 1000)-------------
               -------------------MONTH-------------------
PRODUCT          Jan95      Feb95      Mar95      Apr95
-------------- ---------- ---------- ---------- ----------
Tents           32,000.00  33,000.00  43,000.00  58,000.00
Canoes          66,000.00  76,000.00  92,000.00 126,000.00
Racquets        52,000.00  57,000.00  59,000.00  69,000.00
Sportswear      53,000.00  59,000.00  63,000.00  68,000.00
Footwear        91,000.00  87,000.00 100,000.00 108,000.00
</pre></div>
<!-- class="example" -->
<div id="OLADM1881" class="example">
<p class="titleinexample"><a id="sthref2930"></a>Example 8-87 Rounding to the Nearest Multiple of 12</p>
<p>To show <code>units</code> rounded to the nearest multiple of 12, use the following statements.</p>
<pre>
LIMIT month TO FIRST 4
LIMIT district TO FIRST 1
REPORT DECIMAL 0 ROUND(units 12)
</pre>
<p>These statements produce the following output.</p>
<pre>
DISTRICT: BOSTON
               --------------ROUND(UNITS 12)--------------
               -------------------MONTH-------------------
PRODUCT          Jan95      Feb95      Mar95      Apr95
-------------- ---------- ---------- ---------- ----------
Tents                 204        204        264        360
Canoes                348        396        480        660
Racquets              996      1,080      1,116      1,308
Sportswear          1,092      1,212      1,296      1,404
Footwear            2,532      2,400      2,772      2,976
</pre></div>
<!-- class="example" -->
<div id="OLADM1882" class="example">
<p class="titleinexample"><a id="sthref2931"></a>Example 8-88 Rounding to Decimal Places</p>
<p>The following statements show the results of rounding <code>15.193</code> to various decimal places.</p>
<p>The statement</p>
<pre>
ROUND(15.193, 1)
</pre>
<p>produces the following result</p>
<pre>
15.2
</pre>
<p>The statement</p>
<pre>
ROUND(15.193, -1)
</pre>
<p>produces the following result</p>
<pre>
20
 
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_functions_2081.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_functions_2083.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
