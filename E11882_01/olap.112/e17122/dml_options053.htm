<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>MODTOLERANCE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:6Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_options052.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_options054.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">80/593</span> <!-- End Header --><a id="i78641"></a>
<hr />
<div id="OLADM397" class="refsect1">
<h1 class="refsect1">MODTOLERANCE</h1>
<p><a id="sthref822"></a><a id="sthref823"></a>The MODTOLERANCE option is used in testing whether each equation in a simultaneous block of a model has converged. MODTOLERANCE determines how closely the results of an equation must match between successive iterations for the equation to be considered to have converged.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref824"></a>Data Type</p>
<p>INTEGER</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref825"></a>Syntax</p>
<p class="synopsis">MODTOLERANCE&nbsp;=&nbsp;{<span class="italic">n</span>|<span class="underline">3</span>}</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref826"></a>Parameters</p>
<dl>
<dt><span class="italic">n</span></dt>
<dd>
<p>An <code>INTEGER</code> value to use in testing for convergence. As Oracle OLAP calculates each equation in a simultaneous block, it constructs a comparison value that is based on the results of the equation for the current iteration and the previous iteration. When the comparison value passes a tolerance test, the equation is considered to have converged.</p>
<p>The comparison value that is tested is as follows.</p>
<pre>
(<span class="italic">thisResult</span> - <span class="italic">prevResult</span>) / (<span class="italic">prevResult</span>+ MODGAMMA)
</pre>
<p>where <span class="italic">thisResult</span> is the result of this iteration and <span class="italic">prevResult</span> is the result of the previous iteration</p>
<p>In the preceding calculation, MODGAMMA is an INTEGER option that controls the degree to which the comparison value represents the absolute amount of change between iterations versus the proportional change. The default value of MODGAMMA is 1.</p>
<p>In the tolerance test, Oracle OLAP tests whether the comparison value is less than&nbsp;<code>10</code> to the negative power of MODTOLERANCE. The calculation for this test is as follows.</p>
<pre>
<span class="italic">Comparison value</span>  &lt;  10**-MODTOLERANCE
</pre>
<pre>
</pre>
<p>An equivalent way of writing this calculation is as follows.</p>
<pre>
<span class="italic">Comparison value</span>  &lt; (1 / (10**MODTOLERANCE))
</pre>
<pre>
</pre>
<p>For the equation to be considered to have converged, the comparison value must meet the test described earlier. The default value of MODTOLERANCE is <code>3</code>. With this default, the comparison value meets the test when it is less than <code>0.001</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref827"></a>Usage Notes</p>
<p class="subhead2"><a id="OLADM1303"></a>Failure to Converge</p>
<p>When an equation fails to converge after a specified number of iterations, an error occurs. The MODMAXITERS option controls the maximum number of iterations that are attempted. The <a href="dml_options047.htm#i1004528">MODERROR</a> option controls the action that Oracle OLAP takes when an error occurs.</p>
<p class="subhead2"><a id="OLADM1304"></a>Precision of Results</p>
<p>Because MODTOLERANCE controls how closely results of an equation must match between iterations, it therefore controls the precision of the results of the solution. A small value of MODTOLERANCE results in less precision, while a large value provides more precision.</p>
<p class="subhead2"><a id="OLADM1305"></a>Large and Small Values</p>
<p>When a model contains some equations with large values and some equations with very small values, it might be preferable to increase the value of the MODGAMMA option rather than decreasing MODTOLERANCE. By increasing MODGAMMA, you might be able to force equations with small values to converge more quickly while retaining the precision of equations with large values.</p>
<p class="subhead2"><a id="OLADM1306"></a>Faster Convergence During Development</p>
<p>While you are developing a model, you might want to use a small value for MODTOLERANCE. While this gives less precise results, the model equations converges more quickly. After you have debugged the model, you can increase the value of MODTOLERANCE and thereby increase the precision of the final results.</p>
<p class="subhead2"><a id="OLADM1307"></a>Options for Controlling the Solution of Simultaneous Blocks</p>
<p>For a list of all the options that you can use to control the solution of simultaneous blocks, see <a href="dml_options.htm#CHDEDGJG">"Model Options"</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref828"></a>Examples</p>
<div id="OLADM1308" class="example">
<p class="titleinexample"><a id="sthref829"></a>Example 5-61 Using the Default MODTOLERANCE Value</p>
<p>The following statements specify a trace for a model called <code>income.plan</code>, specify that the Gauss-Seidel method should be used for solving simultaneous blocks, limit a dimension, and run the model.</p>
<pre>
MODTRACE = YES
MODSIMULTYPE = 'GAUSS'
LIMIT division TO 'Camping'
income.plan budget
</pre>
<p>These statements produce the following output.</p>
<pre>
(MOD= INCOME.PLAN) BLOCK 1: SIMULTANEOUS 
(MOD= INCOME.PLAN) ITERATION 1: EVALUATION
(MOD= INCOME.PLAN) marketing = .15 * net.income
(MOD= INCOME.PLAN) BUDGET(LINE MARKETING MONTH 'JAN97' ITER 1) = 11887.403671736
  ...
(MOD= INCOME.PLAN) BUDGET(LINE MARKETING MONTH 'JAN97' ITER 6) = 73379.713232251
    ...
(MOD= INCOME.PLAN) BUDGET(LINE MARKETING MONTH 'JAN97' ITER 7) = 73474.784648631
    ...
(MOD= INCOME.PLAN) BUDGET(LINE MARKETING MONTH 'JAN97' ITER 8) = 73446.025848156
(MOD= INCOME.PLAN) END BLOCK 1
</pre>
<p>In the trace, you can see the results that were calculated for the <code>Marketing</code> line item in the final three iterations over a block of simultaneous equations.</p>
<p>MODTOLERANCE is set to its default value of <code>3</code>. Consequently, for an equation to pass the convergence test, its comparison value must be less than <code>0.001</code>. In the seventh iteration, Oracle OLAP calculates the comparison value for <code>Marketing</code> as follows.</p>
<pre>
(73474.784648631100 - 73379.713232251300) / (73379.713232251300 + 1) = 0.0013
</pre>
<p>This comparison value is greater than <code>0.001</code>, so it did not pass the test for convergence.</p>
<p>In the eighth iteration, Oracle OLAP calculated the comparison value as follows.</p>
<pre>
(73446.025848156700 - 73474.784648631100) /(73474.784648631100 + 1) = 0.0004
</pre>
<p>Because this comparison value is less than <code>0.001</code>, it passed the convergence test.</p>
</div>
<!-- class="example" -->
<div id="OLADM1309" class="example">
<p class="titleinexample"><a id="sthref830"></a>Example 5-62 Setting MODTOLERANCE to Speed Up the Convergence of a Model</p>
<p>The following statements change the MODTOLERANCE value and run the <code>income.bud</code> model.</p>
<pre>
MODTOLERANCE = 2
income.plan budget
</pre>
<p>With MODTOLERANCE set to <code>2</code>, any comparison value of less than <code>0.01</code> passes the test for convergence. In this example, the equation for <code>Marketing</code> passes the test in the seventh iteration.</p>
</div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_options052.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_options054.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
