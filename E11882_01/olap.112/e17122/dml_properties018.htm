<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>$VARCACHE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 742" />
<meta name="dcterms.created" content="2013-11-14T21:21:1Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="OLAP DML Reference" />
<meta name="dcterms.identifier" content="E17122-08" />
<meta name="dcterms.isVersionOf" content="OLADM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dml_properties017.htm" title="Previous" type="text/html" />
<link rel="Next" href="dml_options.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17122.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">26/593</span> <!-- End Header --><a id="i1012605"></a>
<hr />
<div id="OLADM340" class="refsect1">
<h1 class="refsect1">$VARCACHE</h1>
<p><a id="ABC1043778"></a>The $VARCACHE property specifies whether Oracle OLAP stores or caches variable data that is the result of the execution of an AGGREGATE function or a $NATRIGGER expression.</p>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
<a href="#i1029245">"How Oracle OLAP Determines Whether to Store or Cache Aggregated Data"</a>, <a href="#i1028822">"How Oracle OLAP Determines Whether to Store or Cache Results of $NATRIGGER"</a>, <a href="dml_options089.htm#i1011029">"What is an Oracle OLAP Session Cache?"</a>, and the description of the NA keyword of the <a href="dml_commands_1006.htm#i1020124">CACHE</a> statement for information on caching NA values calculated by the AGGREGATE function.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref425"></a>Syntax</p>
<p>You add or delete a $VARCACHE property to the most recently defined or considered object (see <a href="dml_commands_1032.htm#i78478">DEFINE</a> and <a href="dml_commands_1025.htm#i79169">CONSIDER</a> commands) using a PROPERTY statement:</p>
<ul>
<li>
<p>To add the property, issue the following statement.</p>
<p class="synopsis">PROPERTY '$VARCACHE'&nbsp;<span class="italic">value</span></p>
</li>
<li>
<p>To delete the property, issue the following statement.</p>
<p class="synopsis">PROPERTY DELETE '$VARCACHE'</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref426"></a>Parameters</p>
<dl>
<dt><span class="italic">value</span></dt>
<dd>
<p>One of the following TEXT expressions that indicate where Oracle OLAP should place variable data that is the result of calculations performed when the AGGREGATE function or $NATRIGGER value executes:</p>
<ul>
<li>
<p><span class="syntaxinlinebold">VARIABLE</span> specifies that Oracle OLAP populates the variable with data that is the result of the execution of the AGGREGATE function or $NATRIGGER property. When you specify this option, the data that is the result of the aggregation is permanently stored in the variable when the analytic workspace is updated and committed.</p>
</li>
<li>
<p><span class="syntaxinlinebold">SESSION</span> specifies that Oracle OLAP caches data that is the result of the execution of the AGGREGATE function or $NATRIGGER property in the session cache (See <a href="dml_options089.htm#i1011029">"What is an Oracle OLAP Session Cache?"</a>). When you specify this option, the data that is the result of the execution of the AGGREGATE function or $NATRIGGER property is ignored during updates and commits and is discarded after the session.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
When SESSCACHE is set to <code>NO</code>, Oracle OLAP does not cache the data even when you specify <code>SESSION</code>. In this case, specifying <code>SESSION</code> is the same as specifying <code>NONE</code>.</div>
</li>
<li>
<p><span class="syntaxinlinebold">NONE</span> specifies that Oracle OLAP calculates new variable data each time the AGGREGATE function or $NATRIGGER value executes; Oracle OLAP does not store or cache the data.</p>
</li>
<li>
<p><span class="syntaxinlinebold">DEFAULT</span> specifies that you do not want Oracle OLAP to use the $VARCACHE property when determining what to do with data that is calculated by the AGGREGATE function. (See <a href="#i1029245">"How Oracle OLAP Determines Whether to Store or Cache Aggregated Data"</a>.)</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="g1064276"></a>Usage Notes</p>
<p class="subhead2"><a id="i1028822"></a><a id="OLADM1134"></a>How Oracle OLAP Determines Whether to Store or Cache Results of $NATRIGGER</p>
<p>When a $NATRIGGER expression executes, what Oracle OLAP does with variable data that results from the execution of the expression is determined based on whether or not the variable that has the $NATRIGGER property also has a $STORETRIGGERVAL property and, if not, if the value of the $NATRIGGER property is an AGGREGATE function.</p>
<p>When a $NATRIGGER expression executes, Oracle OLAP goes through the following process:</p>
<ol>
<li>
<p>Does the variable with the $NATRIGGER property also have a $STORETRIGGERVAL property? If it does, then Oracle OLAP goes to step 1a. If it does not, then Oracle OLAP goes to step 2.</p>
<ol>
<li>
<p>Is the value of the TRIGGERSTOREOK option, <code>YES</code> or <code>NO</code>? If it is YES, then Oracle OLAP goes to step 1b. If it is <code>NO</code>, then Oracle OLAP goes to step 2.</p>
</li>
<li>
<p>Is the value of the $STORETRIGGERVAL property, <code>YES</code> or <code>NO</code>? If it is YES, then Oracle OLAP stores the results of the $NATRIGGER expression and end decision-making process. If it is <code>NO</code>, then Oracle OLAP does <span class="italic">not</span> store the results of the $NATRIGGER expression and end decision-making process.</p>
</li>
</ol>
</li>
<li>
<p>Is the $NATRIGGER expression an AGGREGATE function? If it is, then Oracle OLAP follows the steps described in <a href="#i1029245">"How Oracle OLAP Determines Whether to Store or Cache Aggregated Data"</a> to determine what to do with the result of $NATRIGGER expression execution. If it is not, then Oracle OLAP goes to step 3.</p>
</li>
<li>
<p>Does the variable with the $NATRIGGER property also have a $VARCACHE property? If it does, then Oracle OLAP goes to step 4. If it does not, then Oracle OLAP goes to step 5.</p>
</li>
<li>
<p>Does the $VARCACHE property have a value of <code>DEFAULT</code>? If it does, then go to step&nbsp;5. If it does not, then Oracle OLAP uses the value of the $VARCACHE property (that is, <code>STORE</code>, <code>CACHE</code>, or <code>NONE</code>) to determine what happens to the variable data values that are the result of $NATRIGGER expression execution and end decision-making process.</p>
</li>
<li>
<p>Use the current setting of the VARCACHE option to determine what happens to the variable data values that are the result of $NATRIGGER expression execution and end decision-making process.</p>
</li>
</ol>
<p class="subhead2"><a id="i1029245"></a><a id="OLADM1135"></a>How Oracle OLAP Determines Whether to Store or Cache Aggregated Data</p>
<p>When an AGGREGATE command executes, Oracle OLAP <span class="italic">always</span> stores the results of the calculation directly in the variable in the same way it stores the results of an assignment statement. However, when an AGGREGATE function executes, Oracle OLAP sometimes stores the results of the calculation directly in the variable and sometimes caches it in the session cache. (See <a href="dml_options089.htm#i1011029">"What is an Oracle OLAP Session Cache?"</a> for more information about the session cache.)</p>
<p>To determine where to place the data that is the result of AGGREGATE function execution, Oracle OLAP goes through the following process to determine whether to store or cache aggregated variable data:</p>
<ol>
<li>
<p>Is there a CACHE statement in the specification for the aggmap that is being used by the current AGGREGATE function? If there is, then Oracle OLAP goes to step 2. If there is not, then Oracle OLAP goes to step 3.</p>
</li>
<li>
<p>Is the CACHE statement a CACHE DEFAULT statement? If it is, then Oracle OLAP goes to step 3. If it is not, then Oracle OLAP uses the CACHE statement in the aggregation specification to determine what to do with variable data that is the result of the calculation and ends the decision-making process.</p>
</li>
<li>
<p>Does the variable being aggregated have a $VARCACHE property? If it does, then Oracle OLAP goes to Step 4. If it does not, then Oracle OLAP goes to step 5.</p>
</li>
<li>
<p>Does the $VARCACHE property have a value of DEFAULT? If it does, then Oracle OLAP goes to step 5. If it does not, then Oracle OLAP uses the value of the $VARCACHE property determines what happens to the variable data calculated using the AGGREGATE function, and ends the decision-making process.</p>
</li>
<li>
<p>Use the current setting of the VARCACHE option to determine what happens to the variable data calculated using the AGGREGATE function<a id="sthref427"></a>. End decision-making process.</p>
</li>
</ol>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref428"></a>Examples</p>
<div id="OLADM1136" class="example">
<p class="titleinexample"><a id="sthref429"></a>Example 4-13 Setting the $VARCACHE Property</p>
<p>For a variable named <code>v1</code>, the following statements cause Oracle OLAP to cache the variable data that is the result of the execution of an AGGREGATE function or $NATRIGGER expression.</p>
<pre>
CONSIDER v1
PROPERTY '$SVARCACHE' 'v1'
</pre></div>
<!-- class="example" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3088">
<tr>
<td class="cellalignment3095">
<table class="cellalignment3093">
<tr>
<td class="cellalignment3092"><a href="dml_properties017.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3092"><a href="dml_options.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1994, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3097">
<table class="cellalignment3091">
<tr>
<td class="cellalignment3092"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3092"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3092"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3092"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3092"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3092"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
