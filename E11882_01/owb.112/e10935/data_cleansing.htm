<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Data Cleansing and Correction with Data Rules</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 037" />
<meta name="dcterms.created" content="2011-09-21T18:21:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Warehouse Builder Data Modeling, ETL, and Data Quality Guide" />
<meta name="dcterms.identifier" content="E10935-05" />
<meta name="dcterms.isVersionOf" content="WBETL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2000, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="data_auditors.htm" title="Previous" type="text/html" />
<link rel="Next" href="name_address.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10935.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">27/37</span> <!-- End Header --><a id="BCGHCBDG"></a><a id="WBETL21000"></a>
<h1 class="chapter"><span class="secnum">21</span> Data Cleansing and Correction with Data Rules</h1>
<p>This chapter describes the data cleansing features of Oracle Warehouse Builder and how to use them.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGGDAAG">"Overview of Data Rules in ETL and Automatic Data Correction"</a></p>
</li>
<li>
<p><a href="#BABGAEDB">"Generating Correction Mappings from Data Profiling Results"</a></p>
</li>
<li>
<p><a href="#CEGDBJBI">"Cleansing and Transforming Source Data Based on Data Profiling Results"</a></p>
</li>
</ul>
<a id="CEGGDAAG"></a><a id="WBETL21001"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Data Rules in ETL and Automatic Data Correction</h2>
<p>After you derive data rules from profiling results, you can automate the process of correcting source data based on profiling results. You can create the schema and mapping corrections. The schema correction creates scripts that you can use to create a corrected set of data objects with the same structure as the source objects, but with the derived data rules applied. The mapping correction creates new correction mappings to take your data from the source objects and load them into new objects.</p>
<p>For a given set of data objects (tables, views and so on) and a given set of data rules applied to those objects, Oracle Warehouse Builder can automatically generate the following data correction objects and logic:</p>
<ul>
<li>
<p>Definitions for corrected schema objects, that is, tables that have the same columns as the source tables and the same data rules bound to them, but which have constraints, stricter data types and other structures that enforce the data rules being corrected. Details of how individual data rules are enforced on corrected schema objects are described in <a href="#CEGGEFJJ">Table 21-1, "Data Rules Implementation for Schema Correction"</a></p>
</li>
</ul>
<ul>
<li>
<p>Cleansing ETL mappings for loading a clean version of the source data into the new corrected tables. Compliant rows can be passed through to the clean tables without change. Noncompliant data can be filtered out, reported on, or corrected to be made compliant. Many common data correction algorithms are built into Oracle Warehouse Builder, or you can implement your own cleansing logic. Details of the available correction strategies are described in <a href="#CHDDGHIB">Table 21-2, "Cleansing Strategies for Data Correction"</a></p>
</li>
</ul>
<p>To actually create your corrected data, you must then deploy the corrected schema objects, mappings and relevant data rules to the target location and either run the mappings or schedule them to run as needed. You can then implement further ETL using the cleansed schema objects as a source instead of the original dirty data.</p>
<p>You can also apply data rules in ETL mappings manually. When adding a data object such as a table to a mapping, you can select one or more data rules to be applied to the object. Error tables are created for the object, and you can define separate flows within your mapping for compliant and noncompliant data.</p>
</div>
<!-- class="sect1" -->
<a id="BABGAEDB"></a><a id="WBETL17002"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Generating <a id="sthref1846"></a><a id="sthref1847"></a>Correction Mappings from Data Profiling Results</h2>
<p>When automatically generating corrections for source tables or other objects based on data rules, the objects generated include the following.</p>
<ul>
<li>
<p>Definitions for corrected schema objects, that is, tables that have the same columns as the source tables, but which have constraints, types and other structures that correspond to the data rules being corrected.</p>
</li>
<li>
<p>Cleansing ETL mappings that move compliant source data into the target tables and either filter out noncompliant data or generate corrected, compliant data from the noncompliant data based on algorithms you specify.</p>
</li>
</ul>
<p>To actually create your corrected data, you must then deploy the corrected schema objects, mappings and relevant data rules to the target database and either run the mappings or schedule them to run as needed.</p>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1848"></a>
<h3 class="sect2">Prerequisites for Creating Corrections</h3>
<p>The prerequisites for creating corrections are:</p>
<ul>
<li>
<p>You must have a data profile where you have profiled the source data objects (tables, views and so on) to be corrected.</p>
</li>
<li>
<p>You must have data rules to be used to identify noncompliant data for correction.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDJCAEE"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Steps to Create Correction Objects</h3>
<p>The Data Profile Editor enables you to create mappings that performs schema correction and data cleansing based on your data profiling results.</p>
<p><span class="bold">To create corrections:</span></p>
<ol>
<li>
<p>If the data profile is not open, open it by right-clicking the data profile in the Projects Navigator and selecting <span class="bold">Open</span>.</p>
</li>
<li>
<p>From the Profile menu, select <span class="bold">Create Correction</span>.</p>
<p>The Create Correction Wizard is displayed.</p>
</li>
<li>
<p>On the Welcome page, click <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Select Target Module page, specify the target module that contains the corrections and click <span class="bold">Next</span>.</p>
<p>You can either create a new module or use an existing module.</p>
<ul>
<li>
<p>To store the corrections in an existing target module, choose <span class="bold">Select an existing module</span>. The Available list displays the existing modules in which corrections can be stored. Select the module from this list.</p>
</li>
<li>
<p>To store the corrections in a new target module, select <span class="bold">Create a new target module</span>. The Create Module Wizard guides you through the steps of creating a new target module.</p>
</li>
</ul>
<p>To remove correction objects created because of previous corrections, select <span class="bold">Remove previous correction objects</span>.</p>
</li>
<li>
<p>On the Select Objects page, select the objects for which corrections should be generated by moving them to the Selected list. Click <span class="bold">Next</span>.</p>
<p>The <span class="bold">Filter</span> list enables you to filter the objects that are available for selection. The default selection is All Objects. You can display only particular types of data objects such as tables or views.</p>
</li>
<li>
<p>On the Select Data Rules and Data Types page, select the corrections that must be generated to perform schema correction. Click <span class="bold">Next</span>.</p>
<p>See <a href="#BABJJEIG">"Selecting the Data Rules and Data Types for Corrected Schema Objects"</a> for information about specifying data corrections.</p>
</li>
<li>
<p>(Optional) On the Data Rules Validation page, note the validation errors, if any, and correct them before proceeding.</p>
<p>If correction objects from a previous data correction action exist for the objects selected for correction, this page displays a message. Click <span class="bold">Next</span> to remove previously created correction objects.</p>
</li>
<li>
<p>On the Verify and Accept Corrected Tables page, select the objects to correct and click <span class="bold">Next</span>.</p>
<p>See <a href="#BABIIIAE">"Selecting the Objects to Be Corrected"</a> for more information about how to specify how objects should be corrected.</p>
</li>
<li>
<p>On the Choose Data Correction Actions page, specify the correction actions to be performed to cleanse source data and click <span class="bold">Next</span>.</p>
<p>See <a href="#CHDJGDCG">"Choosing Data Correction and Cleansing Actions"</a> for more details about specifying the actions that perform data correction and cleansing.</p>
</li>
<li>
<p>On the Summary page, click <span class="bold">Finish</span> to create the correction objects.</p>
</li>
</ol>
<p>The correction schema is created and added to the Projects Navigator. The correction objects and mappings are displayed under the module that you specify as the target module on the Select Target Module page of the Create Correction Wizard. The correction object uses the same name as the source object. The name of the correction mapping is the object name prefixed with M_. The correction mapping is used to cleanse source data and load it into the corrected target object.</p>
</div>
<!-- class="sect2" -->
<a id="BABJJEIG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Selecting the Data Rules and Data Types for Corrected Schema Objects</h3>
<p>Use the Data Rules and Data Types page to select the schema corrections that should be generated for the corrected data objects. Based on the data profiling results, Oracle Warehouse Builder populates this page with data type corrections and data rules that you can apply to the data object.</p>
<p>Schema correction consists of correcting data type definitions and defining data rules that should be applied to the corrected objects. The objects selected for correction are displayed on the left side of the page and are organized into a tree by modules. The panel on the right contains two tabs: <a href="#CEGGIAAG">"Data Rules"</a> and <a href="#CEGJCEHA">"Data Types"</a>. Select an object by clicking the object name and then define how schema correction should be performed for this object using the Data Rules and Data Types tabs.</p>
<p><a id="CEGGIAAG"></a><span class="subhead3">Data Rules&nbsp;</span>The Data Rules tab displays the available data rules for the object selected in the object tree. Specify the data rules that should be generated for the corrected object by selecting the check box to the left of the data rule. Oracle Warehouse Builder uses these data rules to create constraints on the tables during the schema generation.</p>
<p>The Bindings section contains details about the table column to which the rule is bound. Click a rule name to display the bindings for that rule.</p>
<p>Oracle Warehouse Builder uses different methods of enforcing data rules on corrected schema objects. The method used depends on the type of data rule that you are implementing.</p>
<p><a href="#CEGGEFJJ">Table 21-1</a> describes the methods used for object schema correction. It also lists the data rule types for which each correction is used.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="sthref1849"></a><a id="CEGGEFJJ"></a>Table 21-1 Data Rules Implementation for Schema Correction</p>
<table class="cellalignment2978" title="Data Rules Implementation for Schema Correction" summary="This table describes the data rule implementation methods and lists the types of data rules for which each method is applicable." dir="ltr">
<thead>
<tr class="cellalignment2969">
<th class="cellalignment2976" id="r1c1-t2">Schema Correction Method</th>
<th class="cellalignment2976" id="r1c2-t2">Description</th>
<th class="cellalignment2976" id="r1c3-t2">Data Rule Types for which Correction Method Can be Used</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r2c1-t2" headers="r1c1-t2">
<p>Create Constraints</p>
</td>
<td class="cellalignment2977" headers="r2c1-t2 r1c2-t2">
<p>Creates a constraint reflecting the data rule on the correction table. If a constraint cannot be created, then a validation message is displayed on the Data Rules Validation page of the Apply Data Rule Wizard.</p>
</td>
<td class="cellalignment2977" headers="r2c1-t2 r1c3-t2">
<p>Custom</p>
<p>Domain List</p>
<p>Domain Pattern List</p>
<p>Domain Range</p>
<p>Common Format</p>
<p>No Nulls</p>
<p>Unique Key</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r3c1-t2" headers="r1c1-t2">
<p>Change the data type</p>
</td>
<td class="cellalignment2977" headers="r3c1-t2 r1c2-t2">
<p>Changes the data type of the column to <code>NUMBER</code> or <code>DATE</code> according to the results of profiling. The data type is changed for data rules of type Is Number and Is Name.</p>
</td>
<td class="cellalignment2977" headers="r3c1-t2 r1c3-t2">
<p>Is Number</p>
<p>Is Date</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r4c1-t2" headers="r1c1-t2">
<p>Create a lookup table</p>
</td>
<td class="cellalignment2977" headers="r4c1-t2 r1c2-t2">
<p>Creates a lookup table and adds the appropriate foreign key or unique key constraints to the corrected table and the lookup table.</p>
</td>
<td class="cellalignment2977" headers="r4c1-t2 r1c3-t2">
<p>Functional Dependency</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r5c1-t2" headers="r1c1-t2">
<p>Name and Address Parse</p>
</td>
<td class="cellalignment2977" headers="r5c1-t2 r1c2-t2">
<p>Adds additional name and address attributes to the correction table. The name and address attributes correspond to a selection of the output values of the Name and Address operator. In the map that is created to cleanse data, a Name and Address operator is used to perform name and address cleansing.</p>
</td>
<td class="cellalignment2977" headers="r5c1-t2 r1c3-t2">
<p>Name and Address</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<p><a id="CEGJCEHA"></a><span class="subhead3">Data Types&nbsp;</span>The Data Types tab displays the columns that are selected for correction. The change could be a modification of the data type, precision, or from fixed-length to variable-length. The Documented Data Type column on this tab displays the existing column definition and the New Data Type column displays the proposed correction to the column definition.</p>
<p>To correct a column definition, select the check box to the left of the column name.</p>
</div>
<!-- class="sect2" -->
<a id="BABIIIAE"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Selecting the Objects to Be Corrected</h3>
<p>Use the Verify and Accept Corrected Tables page to confirm the objects to correct and to provide additional details about how data correction should be performed. This page contains the objects you selected for schema correction on the Data Rules and Data Types page.</p>
<p>Use the following steps to specify how your data objects should be corrected.</p>
<ol>
<li>
<p>In the Verify and Accept Corrected Tables that is Generated section, select <span class="bold">Create</span> to the left of a data object to create this data object in the corrected schema.</p>
<p>The Definition of the Corrected Table section displays the corrections details for the selected data object. The Columns tab displays the details of columns that is created in the corrected data object. The Constraints tab displays details of constraints that is created on the corrected data object. The Data Rules tab displays details of data rules that is created on the corrected data object.</p>
</li>
<li>
<p>On the Columns tab of the Definition of the Corrected Table section:</p>
<ul>
<li>
<p>Select <span class="bold">Create</span> to the left of a column name to create this column in the corrected data object.</p>
</li>
<li>
<p>Deselect <span class="bold">Create</span> to the left of a column name to remove this column from the corrected object.</p>
</li>
<li>
<p>Edit the Data Type, Length, Precision, Seconds Precision, and Scale for a column by clicking the value and entering the new value. However, you cannot modify a column name.</p>
</li>
</ul>
</li>
<li>
<p>On the Constraints tab of the Definition of the Corrected Table section:</p>
<ul>
<li>
<p>Click <span class="bold">Add Constraint</span> to create additional constraints.</p>
</li>
<li>
<p>Select the constraint and click <span class="bold">Delete</span> to remove a constraint from the corrected data object.</p>
</li>
</ul>
</li>
<li>
<p>On the Data Rules tab of the Definition of the Corrected Table section:</p>
<ul>
<li>
<p>Select the check box to the left of a data rule to apply this derived data rule to the corrected data object.</p>
<p>Ensure that the Bindings column contains the column to which the data rule should be applied.</p>
</li>
<li>
<p>Click <span class="bold">Apply Rule</span> to apply a new data rule to the corrected object. The Apply Data Rule Wizard guides you through the process of applying a data rule.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDJGDCG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Choosing Data Correction and Cleansing Actions</h3>
<p>When you decide to automatically generate corrected objects based on data profiling results, you must specify how inconsistent data from the source object should be cleansed before being stored in the corrected object. To do this, you specify a cleansing strategy for each data rule that is applied to the correction object.</p>
<p>The Choose Data Correction Actions page enables you to specify how to correct source data. This page contains two sections: Select a Corrected Table and Choose Data Correction Actions. The Select a Corrected Table section lists the objects that you selected for corrections. This section contains the following columns for each data object that you selected for correction:</p>
<ul>
<li>
<p><span class="bold">Correct:</span> Select this option to enable generation of correction objects for the data object listed in the Table column.</p>
</li>
<li>
<p><span class="bold">Table:</span> Represents the name of the data object for which correction actions are being specified.</p>
</li>
<li>
<p><span class="bold">Load Option:</span> Indicates which records should be loaded by the correction mapping. Select <span class="bold">All Records</span> to indicate that the generated correction mapping should load all records. Select <span class="bold">Corrected Objects</span> to indicate that the generated correction mapping should load only the records being corrected.</p>
</li>
<li>
<p><span class="bold">Audit Option:</span> Select this option to create a data auditor for the table represented by the Table column.</p>
</li>
<li>
<p><span class="bold">Description:</span> Represents a description for the correction mapping that is created.</p>
</li>
</ul>
<p>Select a data object in the Select a Corrected Table section to display the affiliated data rules in the Choose Data Correction Actions section.</p>
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1850"></a>
<h4 class="sect3">Choosing Data Correction Actions</h4>
<p>For each data rule, you must choose a correction action that specifies how data values that violate data rules set for the data object should be handled. Use the list in the Action column to specify the correction action to perform.</p>
<p>The correction actions that you can choose are:</p>
<ul>
<li>
<p><span class="bold">Ignore:</span> The data rule is ignored and, therefore, no values are rejected based on this data rule.</p>
</li>
<li>
<p><span class="bold">Report:</span> The data rule is run only after the data has been loaded for reporting purposes. It is similar to the Ignore option, except that a report containing values that do not adhere to the data rules is created. This action can be used for some rule types only.</p>
</li>
<li>
<p><span class="bold">Cleanse:</span> The values rejected by this data rule are moved to an error table where cleansing strategies are applied. When you select this option, you must specify a cleansing strategy as described in <a href="#CEGBEBDE">"Specifying the Cleansing Strategy"</a>.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CEGBEBDE"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Specifying the Cleansing Strategy</h4>
<p>For each data rule, use the <span class="bold">Cleansing Strategy</span> list to specify how data that violates a set data rule should be cleansed. This option is enabled only if you select <span class="bold">Cleanse</span> in the Action column. The cleansing strategy depends on the type of data rule and the rule configuration. Error tables are used to store the records that do not conform to the data rule.</p>
<p><a href="#CHDDGHIB">Table 21-2</a> describes the cleansing strategies and lists the types of data rules for which each strategy is applicable.</p>
<div class="tblformal">
<p class="titleintable"><a id="sthref1851"></a><a id="CHDDGHIB"></a>Table 21-2 Cleansing Strategies for Data Correction</p>
<table class="cellalignment2975" title="Cleansing Strategies for Data Correction" summary="This table describes cleansing strategies and lists the type of data rules for which the strategies can be used." dir="ltr">
<thead>
<tr class="cellalignment2969">
<th class="cellalignment2976" id="r1c1-t3">Cleansing Strategy</th>
<th class="cellalignment2976" id="r1c2-t3">Description</th>
<th class="cellalignment2976" id="r1c3-t3">Applicable to Data Rule Types</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r2c1-t3" headers="r1c1-t3">
<p>Remove</p>
</td>
<td class="cellalignment2977" headers="r2c1-t3 r1c2-t3">
<p>Does not populate the target table with error records</p>
</td>
<td class="cellalignment2977" headers="r2c1-t3 r1c3-t3">
<p>All</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r3c1-t3" headers="r1c1-t3">
<p>Custom</p>
</td>
<td class="cellalignment2977" headers="r3c1-t3 r1c2-t3">
<p>Creates a function in the target table that contains a header, but no implementation details. You must add the implementation details to this function.</p>
</td>
<td class="cellalignment2977" headers="r3c1-t3 r1c3-t3">
<p>Domain List</p>
<p>Domain Pattern List</p>
<p>Domain Range</p>
<p>Common Format</p>
<p>No Nulls</p>
<p>Name and Address</p>
<p>Custom</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r4c1-t3" headers="r1c1-t3">
<p>Use Existing Function</p>
</td>
<td class="cellalignment2977" headers="r4c1-t3 r1c2-t3">
<p>Select from a list of existing functions to perform the correction</p>
</td>
<td class="cellalignment2977" headers="r4c1-t3 r1c3-t3">
<p>Domain List</p>
<p>Domain Pattern List</p>
<p>Domain Range</p>
<p>Common Format</p>
<p>No Nulls</p>
<p>Name and Address</p>
<p>Custom</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r5c1-t3" headers="r1c1-t3">
<p>Set to Min</p>
</td>
<td class="cellalignment2977" headers="r5c1-t3 r1c2-t3">
<p>Sets the attribute value of the error record to the minimum value defined in the data rule</p>
</td>
<td class="cellalignment2977" headers="r5c1-t3 r1c3-t3">
<p>Domain Range rules that have a minimum value defined</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r6c1-t3" headers="r1c1-t3">
<p>Set to Max</p>
</td>
<td class="cellalignment2977" headers="r6c1-t3 r1c2-t3">
<p>Sets the attribute value of the error record to the maximum value defined in the data rule</p>
</td>
<td class="cellalignment2977" headers="r6c1-t3 r1c3-t3">
<p>Domain Range rules that have a maximum value defined</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r7c1-t3" headers="r1c1-t3">
<p>Similarity</p>
</td>
<td class="cellalignment2977" headers="r7c1-t3 r1c2-t3">
<p>Uses a similarity algorithm based on permitted domain values to find a value that is similar to the error record. If no similar value is found, then the original value is used.</p>
</td>
<td class="cellalignment2977" headers="r7c1-t3 r1c3-t3">
<p>Domain List rules with character data types</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r8c1-t3" headers="r1c1-t3">
<p>Soundex</p>
</td>
<td class="cellalignment2977" headers="r8c1-t3 r1c2-t3">
<p>Uses a soundex algorithm based on permitted domain values to find a value that is similar to the error record. If no soundex value is found, then the original value is used.</p>
</td>
<td class="cellalignment2977" headers="r8c1-t3 r1c3-t3">
<p>Domain List rules with character data types</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r9c1-t3" headers="r1c1-t3">
<p>Merge</p>
</td>
<td class="cellalignment2977" headers="r9c1-t3 r1c2-t3">
<p>Uses the match-merge algorithm to merge duplicate records into a single row</p>
</td>
<td class="cellalignment2977" headers="r9c1-t3 r1c3-t3">
<p>Unique Key</p>
</td>
</tr>
<tr class="cellalignment2969">
<td class="cellalignment2977" id="r10c1-t3" headers="r1c1-t3">
<p>Set to Mode</p>
</td>
<td class="cellalignment2977" headers="r10c1-t3 r1c2-t3">
<p>Uses the mode value to correct the error records if a mode value exists for the functional dependency partition that fails</p>
</td>
<td class="cellalignment2977" headers="r10c1-t3 r1c3-t3">
<p>Functional Dependency</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="data_rules.htm#BABHCCDJ">"Types of Data Rules"</a>.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEFDEA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing<a id="sthref1852"></a> the Correction Tables and Mappings</h3>
<p>You can view the correction tables in the Table Editor to see the data rules and constraints created as part of the design of your table. You can also view the correction mappings as you can view any other ETL mapping.</p>
<p><span class="bold">To view the correction mappings:</span></p>
<ol>
<li>
<p>Double-click the mapping to open the object in the Mapping Editor.</p>
</li>
<li>
<p>After the mapping is open, select <span class="bold">View</span> and then <span class="bold">Auto Layout</span> to view the entire mapping.</p>
<p><a href="#BGBICFII">Figure 21-1</a> displays a correction map generated by the Create Correction Wizard.</p>
<div class="figure">
<p class="titleinfigure"><a id="BGBICFII"></a>Figure 21-1 Generated Correction Mapping</p>
<img width="576" height="220" src="img/dp_cor8_xpt.gif" alt="Description of Figure 21-1 follows" /><br />
<a id="sthref1853" href="img_text/dp_cor8_xpt.htm">Description of "Figure 21-1 Generated Correction Mapping"</a><br />
<br /></div>
<!-- class="figure" --></li>
<li>
<p>Select the submapping ATTR_VALUE_1 and click <span class="bold">Visit Child Graph</span> on the toolbar to view the submapping.</p>
<p><a href="#BGBFIIFF">Figure 21-2</a> displays the submapping that is displayed.</p>
<div class="figure">
<p class="titleinfigure"><a id="BGBFIIFF"></a>Figure 21-2 Correction Submapping</p>
<img width="576" height="298" src="img/dp_cor9_xpt.gif" alt="Description of Figure 21-2 follows" /><br />
<a id="sthref1854" href="img_text/dp_cor9_xpt.htm">Description of "Figure 21-2 Correction Submapping"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The submapping is the element in the mapping that performs the actual correction cleansing that you specified in the Create Correction Wizard. In the middle of this submap is the DOMAINSIMILARITY transformation that was generated as a function by the Create Correction Wizard.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGDBJBI"></a><a id="WBETL21002"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleansing and Transforming Source Data Based on Data Profiling Results</h2>
<p>After you generate correction objects, you must deploy and run the correction objects to perform schema correction and data cleansing. Your data is corrected after you run the correction mappings with the data rules. The relevant data rules also remain bound to the objects in the corrected schema for optional use in data auditors.</p>
<p>Correcting your schema and cleansing data requires the following steps:</p>
<ol>
<li>
<p><a href="#CEGCGJDH">"Deploying Schema Corrections"</a></p>
</li>
<li>
<p><a href="#CHDJBGIJ">"Deploying Correction Mappings"</a></p>
</li>
</ol>
<a id="CEGCGJDH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Deploying Schema Corrections</h3>
<p>When you perform schema correction based on data profiling results, Oracle Warehouse Builder generates the schema correction actions that you specified and generates corrected data objects. The name of the corrected data object is the name of the original source object prefixed with TMP_.</p>
<p>When deploying schema corrections, deploy all corrected data objects, along with any data rules that were defined for the corrected objects as part of the data correction process.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJBGIJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Deploying Correction Mappings</h3>
<p>When you generate correction mappings to cleanse source data based on data profiling results, Oracle Warehouse Builder creates the correction mappings in the workspace. The name of the correction mapping for a particular data object is the name of the data object prefixed with M_. For example, the correction mapping generated to cleanse the <code>DEPT</code> table is called <code>M_DEPT</code>.</p>
<p><span class="bold">To deploy the correction mappings created as part of the data correction process:</span></p>
<ol>
<li>
<p>Grant the <code>SELECT</code> privilege on the source tables to <code>PUBLIC</code>.</p>
<p>For example, your correction mapping contains the table <code>EMPLOYEES</code> from the <code>HR</code> schema. You can successfully deploy this correction mapping only if the <code>SELECT</code> privilege is granted to <code>PUBLIC</code> on the <code>HR.EMPLOYEES</code> table.</p>
</li>
<li>
<p>Deploy the correction tables created because of data profiling.</p>
<p>You can right-click the table in the Projects Navigator and select <span class="bold">Deploy</span>. Or you can use the Control Center to deploy data objects.</p>
</li>
<li>
<p>Deploy the correction mappings generated to cleanse source data.</p>
</li>
<li>
<p>To cleanse source data and load it into the corrected tables, run the correction mapping as you would any other ETL mapping.</p>
<p>To run the mapping, right-click the mapping in the Projects Navigator and select <span class="bold">Start</span>.</p>
</li>
</ol>
<p>You can also schedule this mapping to run like any other mapping or include it in process flows.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2968">
<tr>
<td class="cellalignment2977">
<table class="cellalignment2973">
<tr>
<td class="cellalignment2972"><a href="data_auditors.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2972"><a href="name_address.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2000, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2980">
<table class="cellalignment2971">
<tr>
<td class="cellalignment2972"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2972"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2972"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2972"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2972"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2972"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
