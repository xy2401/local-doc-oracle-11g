<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Adding and Deleting Nodes and Instances</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-11T15:26:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Real Application Clusters Guide" />
<meta name="dcterms.identifier" content="E17264-15" />
<meta name="dcterms.isVersionOf" content="TDPRC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="rac_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="racmon2.htm" title="Previous" type="text/html" />
<link rel="Next" href="softpatch2.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17264.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/16</span> <!-- End Header -->
<div id="TDPRC394" class="chapter"><a id="CHDFBGFJ"></a>
<h1 class="chapter"><span class="secnum">9</span> Adding and Deleting Nodes and Instances</h1>
<p>This <a id="sthref547"></a>chapter describes how to add and remove nodes and instances in Oracle Real Application Clusters (Oracle RAC) environments. You can use these methods when configuring a new Oracle RAC environment, or when resizing an existing Oracle RAC environment.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#CHDCHHJE">Preparing the New Node</a></p>
</li>
<li>
<p><a href="#CHDCACFJ">Verifying the New Node Meets the Prerequisites for Installation</a></p>
</li>
<li>
<p><a href="#CHDBEIBE">Extending the Oracle Grid Infrastructure Home to the New Node</a></p>
</li>
<li>
<p><a href="#CHDBHDGF">Extending the Oracle RAC Home Directory</a></p>
</li>
<li>
<p><a href="#CHDBCABF">Adding the New Node to the Cluster using Enterprise Manager</a></p>
</li>
<li>
<p><a href="#CIHBGHEF">Creating an Instance on the New Node</a></p>
</li>
<li>
<p><a href="#CIHDFCGC">Deleting an Instance From the Cluster Database</a></p>
</li>
<li>
<p><a href="#CHDDDEEI">Removing a Node From the Cluster</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For this chapter, it is very important that you perform each step in the order shown.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
<a id="CHDCHHJE"></a>
<div id="TDPRC395" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Preparing the New Node</h2>
<p>Before a node can be added to the cluster, you must perform the same preinstallation steps on the new node as you did for all the existing nodes in the cluster. This includes the following tasks:</p>
<ul>
<li>
<p>Checking hardware compatibility</p>
</li>
<li>
<p>Configuring the operating system</p>
</li>
<li>
<p>Configuring SSH connectivity between the new node and the other cluster members</p>
</li>
<li>
<p>Configuring access to shared storage</p>
</li>
<li>
<p>Creating groups, users, and directories</p>
</li>
</ul>
<p>Refer to <a href="preparing.htm#CHDGEEDC">Chapter 2, "Preparing Your Cluster"</a> for details on these tasks.</p>
</div>
<!-- class="sect1" -->
<a id="CHDCACFJ"></a>
<div id="TDPRC396" class="sect1">
<h2 class="sect1">Verifying the New Node Meets the Prerequisites for Installation</h2>
<p>When adding a node to an existing cluster, the new node must match the configuration of the other nodes in the cluster. The new nodes must run the same operating system and version of the operating system as the other nodes. The new computer must also use the same chip <a id="sthref548"></a>architecture (32-bit or 64-bit) as the other nodes. However, you can have computers of different speeds and sizes in the same cluster.</p>
<p>After you have configured the new nodes, you should use <code>cluvfy</code> to verify that all the requirements for installation have been met. To verify the new node meets the hardware requirement, run the following command on an existing node (for example, either <code>racnode1</code> or <code>racnode2</code>) from the <code><span class="codeinlineitalic"><span class="italic">Grid_home</span></span></code><code>/bin</code> directory:</p>
<pre>
cluvfy stage -pre crsinst -n racnode3 -verbose
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="preparing.htm#CHDGEEDC">"Preparing Your Cluster"</a></p>
</li>
<li>
<p><a href="preparing.htm#CEGEEEGI">"Configuring the Network"</a></p>
</li>
<li>
<p><a href="install_rac.htm#CBHEDCDF">"About Verifying the Oracle Clusterware Installation"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDBEIBE"></a>
<div id="TDPRC092" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Extending the Oracle Grid Infrastructure Home to the New Node</h2>
<p>Now that the new node has been configured to support Oracle Clusterware, you use Oracle Universal Installer (OUI) to add a Grid home to the node being added to your cluster.</p>
<p>This section assumes that you are adding a node named <code>racnode3</code> and that you have successfully installed Oracle Clusterware on <code>racnode1</code> in a nonshared home, where <code><span class="codeinlineitalic"><span class="italic">Grid_home</span></span></code> represents the successfully installed Oracle Clusterware home.</p>
<p class="subhead2"><a id="TDPRC397"></a>To extend the Oracle Grid Infrastructure for a cluster home to include the new node:</p>
<ol>
<li>
<p>Verify the new node has been properly prepared for an Oracle Clusterware installation by running the following CLUVFY command on the <code>racnode1</code> node:</p>
<pre>
cluvfy stage -pre nodeadd -n racnode3 -verbose
</pre></li>
<li>
<p>As the <code>oracle</code> user (owner of the Oracle Grid Infrastructure for a cluster software installation) on <code>racnode1</code>, go to <code><span class="codeinlineitalic"><span class="italic">Grid_home</span></span></code><code>/oui/bin</code> and run the <code>addNode.sh</code> script in silent mode:</p>
<p>If you are using Grid Naming Service (GNS):</p>
<pre>
./addNode.sh -silent "CLUSTER_NEW_NODES={racnode3}"
</pre>
<p>If you are not using Grid Naming Service (GNS):</p>
<pre>
./addNode.sh -silent "CLUSTER_NEW_NODES={racnode3}" "CLUSTER_NEW_VIRTUAL_
HOSTNAMES={racnode3-vip}"
</pre>
<p>When running this command, the curly braces ( { } ) are not optional and must be included or the command returns an error.</p>
<p>You can alternatively use a response file instead of placing all the arguments in the command line. See <a class="olink CWADD90989" href="../../rac.112/e41959/adddelclusterware.htm#CWADD90989"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information on using response files.</p>
</li>
<li>
<p>When the script finishes, run the <code>root.sh</code> script as the <code>root</code> user on the new node, <code>racnode3</code>, from the Oracle home directory on that node.</p>
</li>
<li>
<p>If you are not using Oracle Grid Naming Service (GNS), then you must add the name and address for <code>racnode3</code> to DNS.</p>
</li>
</ol>
<p><a id="sthref549"></a>You should now have Oracle Clusterware running on the new node. To verify the installation of Oracle Clusterware on the new node, you can run the following command on the newly configured node, <code>racnode3</code>:</p>
<pre>
$ cd /u01/app/11.2.0/grid/bin
$ ./cluvfy stage -post nodeadd -n racnode3 -verbose
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Avoid changing host names after you complete the Oracle Clusterware installation, including adding or deleting domain qualifications. Nodes with changed host names must be deleted from the cluster and added back with the new name.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="install_rac.htm#CBHFABCI">"Completing the Oracle Clusterware Configuration"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDBHDGF"></a>
<div id="TDPRC094" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Extending the Oracle RAC Home Directory</h2>
<p>Now that you have extended the Grid home to the new node, you must extend the Oracle home on <code>racnode1</code> to <code>racnode3</code>. The following steps assume that you have completed the tasks described in the previous sections, <a href="#CHDCHHJE">"Preparing the New Node"</a> and <a href="#CHDBEIBE">"Extending the Oracle Grid Infrastructure Home to the New Node"</a>, and that <code>racnode3</code> is a member node of the cluster to which <code>racnode1</code> belongs.</p>
<p>The procedure for adding an Oracle home to the new node is very similar to the procedure you just completed for extending the Grid home to the new node.</p>
<p class="subhead2"><a id="TDPRC398"></a>To extend the Oracle RAC installation to include the new node:</p>
<ol>
<li>
<p>Ensure that you have successfully installed the Oracle RAC software on at least one node in your cluster environment. To use these procedures as shown, replace <code><span class="italic">Oracle_home</span></code> with the location of your installed Oracle home directory.</p>
</li>
<li>
<p>Go to the <code><span class="italic">Oracle_home</span>/oui/bin</code> directory on <code>racnode1</code> and run the <code>addNode.sh</code> script in silent mode as shown in the following example:</p>
<pre>
$ cd /u01/app/oracle/product/11.2.0/dbhome_1/oui/bin
$ ./addNode.sh -silent "CLUSTER_NEW_NODES={racnode3}"
</pre></li>
<li>
<p>When the script finishes, run the <code>root.sh</code> script as the <code>root</code> user on the new node, <code>racnode3</code>, from the Oracle home directory on that node.</p>
<p>For policy-managed databases with Oracle Managed Files (OMF) enabled, no further actions are needed.</p>
<p>For a policy-managed database, when you add a new node to the cluster, it is placed in the Free pool by default. If you increase the cardinality of the database server pool, then an Oracle RAC instance is added to the new node, <code>racnode3</code>, and it is moved to the database server pool. No further action is necessary.</p>
</li>
<li>
<p>Add shared storage for the undo tablespace and redo log files.</p>
<p>If OMF is not enabled for your database, then you must manually add an undo tablespace and redo logs.</p>
</li>
<li>
<p>If you have an <a id="sthref550"></a>administrator-managed database, then add a new instance on the new node as described in <a href="#CIHBGHEF">"Creating an Instance on the New Node"</a>.</p>
<p>If you followed the installation instructions in this guide, then your cluster database is an administrator-managed database and stores the database files on Oracle Automatic Storage Management (Oracle ASM) with OMF enabled.</p>
</li>
</ol>
<p>After completing these steps, you should have an installed Oracle home on the new node.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="install_rac.htm#BHCGJIFG">"Verifying Your Oracle RAC Database Installation"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDBCABF"></a>
<div id="TDPRC399" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Adding the New Node to the Cluster using Enterprise Manager</h2>
<p>If you followed the steps described in <a href="#CHDBHDGF">"Extending the Oracle RAC Home Directory"</a>, then the cluster node is added to the cluster by the <code>addNode.sh</code> script. After the software is started on the new node, it is detected by Oracle Enterprise Manager. If an Oracle Enterprise Manager agent was not installed on the new node, then an alert is issued for that host, with the message "Incomplete configuration".</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="install_rac.htm#CBHFABCI">"Completing the Oracle Clusterware Configuration"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIHBGHEF"></a>
<div id="TDPRC096" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating an Instance on the New Node</h2>
<p><a id="sthref551"></a>You can add an instance to the cluster using either the Instance Management option of Database Configuration Assistant (DBCA) or using Enterprise Manager. Before using either of these options you must first configure the new node to be a part of the cluster and install the software on the new node as described in the previous sections.</p>
<p>There are two methods of adding an instance to the new node:</p>
<ul>
<li>
<p><a href="#CHDCDIAE">Adding a New Instance for a Policy-Managed Database</a></p>
</li>
<li>
<p><a href="#CHDDCGAJ">Adding a New Instance for an Administrator-Managed Database</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The steps described in this section require a license for the Enterprise Manager Provisioning Management pack. Refer to the <a class="olink DBLIC" href="../../license.112/e47877/toc.htm"><span class="italic">Oracle Database Licensing Information</span></a> for information about the availability of these features on your system.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#BABDCEEC">"About Oracle Real Application Clusters"</a></p>
</li>
<li>
<p><a href="#CHDBEIBE">"Extending the Oracle Grid Infrastructure Home to the New Node"</a></p>
</li>
<li>
<p><a href="#CHDBHDGF">"Extending the Oracle RAC Home Directory"</a></p>
</li>
</ul>
</div>
<a id="CHDCDIAE"></a>
<div id="TDPRC537" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Adding a New Instance for a Policy-Managed Database</h3>
<p>To add an instance to a policy-managed databases, you simply increase the cardinality of the server pool for the database. The database instance and Oracle ASM instance on the new node are created and configured automatically when a node is added to the server pool.</p>
<p class="subhead2"><a id="TDPRC598"></a><a id="sthref552"></a><a id="sthref553"></a>To add an instance to a policy-managed database using Enterprise Manager:</p>
<ol>
<li>
<p>From the Cluster Database Home page, click <span class="gui-object-action">Server</span>.</p>
</li>
<li>
<p>Under the heading Change Database, click <span class="gui-object-action">Add Instance</span>.</p>
<img width="428" height="93" src="img/add_instance1.gif" alt="Description of add_instance1.gif follows" /><br />
<a id="sthref554" href="img_text/add_instance1.htm">Description of the illustration add_instance1.gif</a><br />
<br />
<p>The Add Instance: Cluster Credentials page appears.</p>
</li>
<li>
<p>Enter the credentials of the Oracle Clusterware software owner and the SYSASM user, then click <span class="gui-object-action">Next</span>.</p>
<p>After the credentials have been validated, the Edit Server Pool page appears.</p>
</li>
<li>
<p>Modify the server pool settings then click Submit.</p>
</li>
<li>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
<p>Review the number of instances available for your cluster database.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIHBGHEF">"Creating an Instance on the New Node"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDDCGAJ"></a>
<div id="TDPRC539" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Adding a New Instance for an <a id="sthref555"></a>Administrator-Managed Database</h3>
<p>When adding an instance to an administrator-managed databases, you must specify the name of the database instance and which node it should run on.</p>
<p class="subhead2"><a id="TDPRC599"></a><a id="sthref556"></a><a id="sthref557"></a>To add an instance to an administrator-managed database using Enterprise Manager:</p>
<ol>
<li>
<p>From the Cluster Database Home page, click <span class="gui-object-action">Server</span>.</p>
</li>
<li>
<p>Under the heading Change Database, click <span class="gui-object-action">Add Instance</span>.</p>
<img width="428" height="93" src="img/add_instance1.gif" alt="Description of add_instance1.gif follows" /><br />
<a id="sthref558" href="img_text/add_instance1.htm">Description of the illustration add_instance1.gif</a><br />
<br />
<p>The Add Instance: Cluster Credentials page appears.</p>
</li>
<li>
<p>Enter the credentials of the Oracle Clusterware software owner and for the SYSASM user, then click <span class="gui-object-action">Next</span>.</p>
<p>After the credentials have been validated, the Add Instance: Host page appears.</p>
</li>
<li>
<p>In the <span class="gui-object-action">Name of the database instance to be added</span> field, either use the default instance name, or enter a different name for the database instance, such as <code>racnode3</code>.</p>
</li>
<li>
<p>Select the node on which you want to create the new instance, then <span class="gui-object-action">Next</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure assumes that the Oracle Database software is configured on the selected node and that there is no instance for the cluster database currently running on the selected node.</div>
<img width="681" height="283" src="img/add_instance2.gif" alt="Description of add_instance2.gif follows" /><br />
<a id="sthref559" href="img_text/add_instance2.htm">Description of the illustration add_instance2.gif</a><br />
<br />
<p>After the selected host has been validated, the Add Instance: Review page appears.</p>
</li>
<li>
<p>Review the information, then click <span class="gui-object-action">Submit Job</span> to proceed.</p>
<p>A confirmation page appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">View Job</span> to check on the status of the submitted job.</p>
<p>The Job Run detail page appears.</p>
</li>
<li>
<p>Click your browser's Refresh button until the job shows a status of Succeeded or Failed.</p>
<p>If the job shows a status of Failed, then you can click the name of the step that failed to view the reason for the failure.</p>
</li>
<li>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
<p>The number of instances available in the cluster database is increased by one.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIHBGHEF">"Creating an Instance on the New Node"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHDFCGC"></a>
<div id="TDPRC401" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Deleting an Instance From the Cluster Database</h2>
<p>Sometimes, it might be necessary to remove a database instance from your cluster database. For example, to retire or repurpose a server, you first remove the database instance running on that server.</p>
<p><a id="sthref560"></a>You can delete an instance from the cluster using either the Instance Management option of Database Configuration Assistant (DBCA) or using Enterprise Manager. If you choose to use DBCA to delete an instance, then start the DBCA utility from a node that will remain part of the cluster.</p>
<p>When you delete an instance from a clustered database, there are two methods:</p>
<ul>
<li>
<p><a href="#CHDCHCDI">Deleting an Instance From a Policy-Managed Database</a></p>
</li>
<li>
<p><a href="#CHDCGADH">Deleting an Instance From an Administrator-Managed Database</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The steps described in this section require a license for the Enterprise Manager Provisioning Management pack. Refer to the <a class="olink DBLIC" href="../../license.112/e47877/toc.htm"><span class="italic">Oracle Database Licensing Information</span></a> for information about the availability of these features on your system.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#BABDCEEC">"About Oracle Real Application Clusters"</a></p>
</li>
<li>
<p><a href="#CHDBCABF">"Adding the New Node to the Cluster using Enterprise Manager"</a></p>
</li>
<li>
<p><a class="olink RACAD7358" href="../../rac.112/e41960/adddelunix.htm#RACAD7358"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
<a id="CHDCHCDI"></a>
<div id="TDPRC541" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Deleting an Instance From a Policy-Managed Database</h3>
<p>To delete an instance from a policy-managed databases, you simply decrease the cardinality of the server pool for the database. The database instance and Oracle ASM instance on the deallocated node are removed from the cluster and the node is either reassigned to another server pool or placed in the Free pool.</p>
<p class="subhead2"><a id="TDPRC600"></a><a id="sthref561"></a><a id="sthref562"></a>To delete a policy-managed database instance using Enterprise Manager:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Database Control (Database Control) as a SYSDBA user.</p>
</li>
<li>
<p>From the Cluster Database Home page, click <span class="gui-object-action">Server</span>.</p>
</li>
<li>
<p>On the Server subpage, under the heading Change Database, click <span class="gui-object-action">Delete Instance</span>.</p>
<img width="466" height="102" src="img/delete_instance1.gif" alt="Description of delete_instance1.gif follows" /><br />
<a id="sthref563" href="img_text/delete_instance1.htm">Description of the illustration delete_instance1.gif</a><br />
<br />
<p>The Edit Server Pool page appears.</p>
</li>
<li>
<p>Enter the credentials for the Oracle Database software owner and the SYSASM user, then click <span class="gui-object-action">Next</span>.</p>
<p>The Delete Instance: Database Instance page appears</p>
</li>
<li>
<p>Modify the server pool settings then click Submit.</p>
</li>
<li>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
<p>Review the number of instances available for your cluster database.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIHDFCGC">"Deleting an Instance From the Cluster Database"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDCGADH"></a>
<div id="TDPRC543" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Deleting an Instance From an <a id="sthref564"></a>Administrator-Managed Database</h3>
<p>To remove an instance from an administrator-managed database, you must specify the name of the database instance to delete and which node the instance is running on.</p>
<p class="subhead2"><a id="TDPRC601"></a><a id="sthref565"></a><a id="sthref566"></a>To delete an administrator-managed database instance using Enterprise Manager:</p>
<ol>
<li>
<p>Log in to Oracle Enterprise Manager Database Control (Database Control) as a SYSDBA user.</p>
</li>
<li>
<p>From the Cluster Database Home page, click <span class="gui-object-action">Server</span>.</p>
</li>
<li>
<p>On the Server subpage, under the heading Change Database, click <span class="gui-object-action">Delete Instance</span>.</p>
<img width="466" height="102" src="img/delete_instance1.gif" alt="Description of delete_instance1.gif follows" /><br />
<a id="sthref567" href="img_text/delete_instance1.htm">Description of the illustration delete_instance1.gif</a><br />
<br />
<p>The Delete Instance: Cluster Credentials page appears.</p>
</li>
<li>
<p>Enter the credentials for the Oracle Database software owner and the SYSASM user, then click <span class="gui-object-action">Next</span>.</p>
<p>The Delete Instance: Database Instance page appears</p>
</li>
<li>
<p>Select the instance you want to delete, then click <span class="gui-object-action">Next</span>.</p>
<img width="656" height="195" src="img/delete_instance2.gif" alt="Description of delete_instance2.gif follows" /><br />
<a id="sthref568" href="img_text/delete_instance2.htm">Description of the illustration delete_instance2.gif</a><br />
<br />
<p>After the host information has been validated, the Delete Instance: Review page appears.</p>
</li>
<li>
<p>Review the information, and if correct, click <span class="gui-object-action">Submit Job</span> to continue. Otherwise, click <span class="gui-object-action">Back</span> and correct the information.</p>
<p>A Confirmation page appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">View Job</span> to view the status of the node deletion job.</p>
<p>A Job Run detail page appears.</p>
</li>
<li>
<p>Click your browser's Refresh button until the job shows a status of Succeeded or Failed.</p>
<img width="715" height="471" src="img/delete_instance3.gif" alt="Description of delete_instance3.gif follows" /><br />
<a id="sthref569" href="img_text/delete_instance3.htm">Description of the illustration delete_instance3.gif</a><br />
<br />
<p>If the job shows a status of Failed, then you can click the name of the step that failed to view the reason for the failure.</p>
</li>
<li>
<p>Click the <span class="gui-object-action">Cluster</span> tab to view to the Cluster Home page.</p>
<p>The number of hosts available in the cluster database is reduced by one.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIHDFCGC">"Deleting an Instance From the Cluster Database"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDDEEI"></a>
<div id="TDPRC403" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Removing a Node From the Cluster</h2>
<p>Removing a node from the cluster can be as easy as simply shutting down the server. If the node was not pinned and does not host any Oracle databases using Oracle Database 11<span class="italic">g</span> release 1 or earlier, then the node is automatically removed from the cluster when it is shut down. If the node was pinned or if it hosts a database instance from previous releases, then explicit deletion is needed.</p>
<p>To repurpose this server, you can restart the node with a different profile in place, or you can use other software to put a new software image on the server.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="install_rac.htm#CBHFABCI">"Completing the Oracle Clusterware Configuration"</a></p>
</li>
<li>
<p><a class="olink RACAD0067" href="../../rac.112/e41960/adddelunix.htm#RACAD0067"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding and removing nodes from your cluster database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment392">
<tr>
<td class="cellalignment399">
<table class="cellalignment397">
<tr>
<td class="cellalignment396"><a href="racmon2.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment396"><a href="softpatch2.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment401">
<table class="cellalignment395">
<tr>
<td class="cellalignment396"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment396"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment396"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment396"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment396"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment396"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
