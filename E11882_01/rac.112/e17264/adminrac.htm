<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Administering Database Instances and Cluster Databases</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-11T15:26:27Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Real Application Clusters Guide" />
<meta name="dcterms.identifier" content="E17264-15" />
<meta name="dcterms.isVersionOf" content="TDPRC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="rac_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="install_rac.htm" title="Previous" type="text/html" />
<link rel="Next" href="adminoc.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17264.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/16</span> <!-- End Header -->
<div id="TDPRC189" class="chapter"><a id="CIHFEGJF"></a> <a id="CIHDBCHA"></a>
<h1 class="chapter"><span class="secnum">4</span> Administering Database Instances and Cluster Databases</h1>
<p><a id="sthref205"></a>Web-based Oracle Enterprise Manager Database Control and Grid Control interfaces let you manage Oracle Real Application Clusters (Oracle RAC) databases. The Enterprise Manager console is a central point of control for the Oracle environment. Use the Database Control console to initiate cluster database management tasks. Use the Grid Control console to administer multiple Oracle RAC databases and cluster nodes.</p>
<p>This chapter describes how to administer your Oracle RAC environment. It explains the startup and shutdown tasks for database components and how to administer parameters and parameter files in Oracle RAC. This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#BABGIGJD">About Oracle Real Application Clusters Database Management</a></p>
</li>
<li>
<p><a href="#CIHDJDDG">About Oracle RAC One Node Database Management</a></p>
</li>
<li>
<p><a href="#CBBFDBDB">About Oracle RAC Management Using Enterprise Manager</a></p>
</li>
<li>
<p><a href="#BCEBGHHC">Starting and Stopping Oracle RAC Databases and Database Instances</a></p>
</li>
<li>
<p><a href="#CHDHJBAD">About Oracle Real Application Clusters Initialization Parameters</a></p>
</li>
<li>
<p><a href="#CHDBEEGE">About Administering Storage in Oracle RAC</a></p>
</li>
</ul>
<a id="BABGIGJD"></a>
<div id="TDPRC190" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Oracle Real Application Clusters Database Management</h2>
<p>Oracle Real Application Clusters (Oracle RAC) provides technology that links two or more individual computers so that they function as one system. Oracle RAC enables each computer that is a member of a cluster, or node, to share access to the Oracle database. If one cluster node fails or is taken offline, then the other cluster nodes continue operating and the entire Oracle RAC database remains available. Two or more inexpensive computers can appear to applications as if they were a single, much more powerful and more expensive, computer.</p>
<p>To increase the performance of an Oracle RAC database, you can add cluster nodes. Each additional node can help speed up application processing, support more users or processes, or both. In addition, you can also add cluster nodes to increase the availability and reliability of a two-node Oracle RAC database. The more nodes that your Oracle RAC environment has, the less the impact of the loss of any individual node on the database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are using Oracle Database Standard Edition, then your cluster must adhere to the license restrictions. See <a class="olink DBLIC" href="../../license.112/e47877/toc.htm"><span class="italic">Oracle Database Licensing Information</span></a> for specific details on these restrictions.</div>
<p>An Oracle RAC database requires three components: cluster nodes, shared storage, and Oracle Clusterware. Although you can choose how many nodes your cluster should have and what type of shared storage to use, this guide describes one specific configuration for a two-node cluster. This two-node configuration uses Oracle Automatic Storage Management (Oracle ASM) for storage management and Recovery Manager (RMAN) for the backup and recovery strategy.</p>
<p><a id="sthref206"></a>Most administration tasks are the same for Oracle single-instance and Oracle RAC databases. This guide provides additional instructions for database administration tasks specific to Oracle RAC, and recommendations for managing Oracle RAC databases.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS031" href="../../server.112/e10897/em_manage.htm#ADMQS031"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a href="addnodes.htm#CHDFBGFJ">Chapter 9, " Adding and Deleting Nodes and Instances"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIHDJDDG"></a>
<div id="TDPRC568" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Oracle RAC One Node Database Management</h2>
<div class="infobox-note">
<p class="notep1">Caution:</p>
By default, any named user may create a server pool. To restrict the operating system users that have this privilege, Oracle strongly recommends that you add specific users to the CRS Administrators list. See <a class="olink CWADD91105" href="../../rac.112/e41959/admin.htm#CWADD91105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about adding users to the CRS Administrators list.</div>
<p><a id="sthref207"></a>Oracle RAC One Node databases are administered slightly differently from Oracle RAC or single-instance databases. For administrator-managed Oracle RAC One Node databases, you must monitor the candidate node list and make sure a server is always available for failover if possible. Candidate servers reside in the Generic server pool and the database and its services will fail over to one of those servers. For policy-managed Oracle RAC One Node databases, you must ensure that the server pools are configured such that a server will be available for the database to fail over to in case its current node becomes unavailable. Also, for policy-managed Oracle RAC One Node databases, the destination node for online database relocation must be located in the database's server pool.</p>
<p>Oracle Real Application Clusters One Node (Oracle RAC One Node) is a single instance of an Oracle Real Application Clusters (Oracle RAC) database that runs on one node in a cluster. Instead of stopping and starting instances, you use Oracle RAC One Node online database relocation to relocate the Oracle RAC One Node instance to another server.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD7894" href="../../rac.112/e41960/onenode.htm#RACAD7894"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about managing Oracle RAC One Node databases</div>
</div>
<!-- class="sect1" -->
<a id="CBBFDBDB"></a>
<div id="TDPRC191" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Oracle RAC Management Using Enterprise Manager</h2>
<p>The Web-based Oracle Enterprise Manager Database Control console and the Oracle Enterprise Manager Grid Control console let you manage Oracle RAC and Oracle RAC One Node databases. Enterprise Manager is a central point of control for the Oracle environment that you access by way of a graphical user interface (GUI). You can use Enterprise Manager to create and modify services, and to start and stop the cluster database instances and the cluster database. Use Enterprise Manager Database Control for cluster database management tasks. Use Enterprise Manager Grid Control to administer your entire Oracle RAC environment, not just the Oracle RAC database.</p>
<p>When you log in to Enterprise Manager using a client browser, the Cluster Database Home page appears. The Cluster Database Home page is similar to a single-instance Database Home page. However, on the Cluster Database Home page, Enterprise Manager displays the system state and availability of the entire Oracle RAC environment. This includes a summary about alert messages and job activity, and the status of and links to all the database and Oracle Automatic Storage Management (Oracle ASM) instances. By clicking the Cluster tab on this page you can view the Cluster Home page, to view the status of and alerts for the underlying cluster.</p>
<div class="infobox-note">
<p class="notep1"><a id="sthref208"></a><a id="sthref209"></a><a id="sthref210"></a>Note:</p>
Database Control enables management of all the instances for a single Oracle RAC database. Additionally, Database Control manages all the Oracle ASM instances on the nodes. Only one Oracle ASM instance exists per node, no matter how many Oracle databases use Oracle ASM for storage.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS033" href="../../server.112/e10897/em_manage.htm#ADMQS033"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink RACAD975" href="../../rac.112/e41960/monitor.htm#RACAD975"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about monitoring Oracle RAC performance</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BCEBGHHC"></a>
<div id="TDPRC193" class="sect1"><!-- infolevel="all" infotype="General" --><a id="BGBHIGHB"></a>
<h2 class="sect1">Starting and Stopping Oracle RAC Databases and Database Instances</h2>
<p><a id="sthref211"></a>Typically, you start and shut down the cluster database from the Enterprise Manager Cluster Database Home page. By using this page for cluster database startup and shutdown operations, you ensure that all the instances that belong to the Oracle RAC database are in a consistent state. This enables you to more easily manage an Oracle RAC database.</p>
<p>You can start and stop individual instances in an Oracle RAC database. Starting and stopping one <a id="sthref212"></a><a id="sthref213"></a>instance in an Oracle RAC database does not stop or start the other database instances. To completely stop an Oracle RAC database, you must shut down all of its instances.</p>
<p class="subhead2"><a id="TDPRC194"></a>To start and stop an entire Oracle RAC database, assuming you are using a server parameter file (SPFILE):</p>
<ol>
<li>
<p>Go to the following URL and log in to Enterprise Manager:</p>
<pre>
http://<span class="codeinlineitalic">hostname:portnumber</span>/em
</pre>
<p>For example, <code>http://racnode1.example.com:1158/em</code>.</p>
</li>
<li>
<p>On the Cluster Database Home page, in the General section, click <span class="gui-object-action">Startup</span> if the database is down, or <span class="gui-object-action">Shutdown</span> if the database is started.</p>
<p>The Startup/Shutdown: Specify Credentials page appears.</p>
</li>
<li>
<p>Enter the host credentials for the cluster nodes. The host credentials are the user name and password for a user who is a member of the <code>OSDBA</code> or <code>OSOPER</code> operating system group.</p>
<p>The Startup/Shutdown: Select Operation page appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Select All</span> to select all the instances, or then click <span class="gui-object-action">Shutdown</span> to stop all the database instances or <span class="gui-object-action">Startup</span> to start all the database instances.</p>
<p>The Startup/Shutdown: Confirmation page appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Yes</span>.</p>
</li>
</ol>
<p>To start and stop individual instances, go to the Startup/Shutdown: Select Operation page and select the database instances, then click Startup or Shutdown to perform the desired operation on the selected database instances. You can also start and shut down instances using SQL*Plus or Server Control (SRVCTL).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can start and shut down individual instances from each instance's home page. However, it is easier to perform instance startup and shutdown operations directly from the Startup/Shutdown: Select Operation page.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD801" href="../../rac.112/e41960/admin.htm#RACAD801"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about using command-line interfaces to start and stop Oracle RAC database instances</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDHJBAD"></a>
<div id="TDPRC195" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Oracle Real Application Clusters Initialization Parameters</h2>
<p><a id="sthref214"></a>Managing initialization parameters for an Oracle RAC database is essentially the same as managing them for a single-instance Oracle database. Note the following differences for parameters in Oracle RAC databases:</p>
<ul>
<li>
<p>Parameters that are cluster-specific have the value Cluster Database in the Category column.</p>
</li>
<li>
<p>Parameters that are the same on each instance in the Oracle RAC database are identified in the Instance column with an asterisk (*).</p>
</li>
<li>
<p>Parameters that are set to different values on each instance of an Oracle RAC database are listed by instance name.</p>
</li>
</ul>
<p>The administration of initialization parameters in an Oracle RAC environment is slightly different from single-instance database parameter administration. For example, if you change a parameter setting that is marked by an asterisk, which indicates that the parameter is a clusterwide database initialization parameter, then you change that parameter's setting for all the instances in your Oracle RAC database. If you change an initialization parameter prefixed with an instance name, or an instance-specific initialization parameter, then the change affects only that instance; the change does not affect the parameter's settings on other database instances.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CBBCDFIJ">About Configuring Initialization Parameters for an Oracle RAC Database</a></p>
</li>
<li>
<p><a href="#BABGFHDA">Editing Initialization Parameter Settings for an Oracle RAC Database</a></p>
</li>
<li>
<p><a href="#BCEFICEE">About the Server Parameter File for Oracle Real Application Clusters</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS053" href="../../server.112/e10897/instance.htm#ADMQS053"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink RACAD017" href="../../rac.112/e41960/admin.htm#RACAD017"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about initialization parameters in an Oracle RAC environment</p>
</li>
</ul>
</div>
<a id="CBBCDFIJ"></a>
<div id="TDPRC196" class="sect2">
<h3 class="sect2">About Configuring Initialization Parameters for an Oracle RAC Database</h3>
<p><a id="sthref215"></a><a id="sthref216"></a>A server parameter file (SPFILE) is a type of repository for initialization parameters that is maintained on the server where the Oracle database server runs, or on shared storage for an Oracle RAC database. Initialization parameters stored in a server parameter file are persistent, in that any changes made to the parameters while an instance is running can persist across instance shutdown and startup.</p>
<p>An initialization parameter file is a text file that contains initialization parameter settings. In contrast to the SPFILE, this parameter file is not binary and does not need to be located on the database server. The text-based initialization parameter file can be read by the database, but it is not written to by the database.</p>
<p>By default, Oracle Database sets most parameters to a default value and this value is the same across all instances. However, many initialization parameters can also have different values on different instances as described in <a class="olink REFRN001" href="../../server.112/e40402/initparams_part.htm#REFRN001"><span class="italic">Oracle Database Reference.</span></a> Other parameters <span class="italic">must</span> be either unique or identical across instances, as described in the following sections:</p>
<ul>
<li>
<p><a href="#i21705">Parameters that Must Have Identical Settings on All Instances</a></p>
</li>
<li>
<p><a href="#i21775">Parameters that Must Have Unique Settings on All Instances</a></p>
</li>
<li>
<p><a href="#BABGEHAE">Parameters that Should Have Identical Settings on All Instances</a></p>
</li>
</ul>
<a id="i21705"></a>
<div id="TDPRC197" class="sect3">
<h4 class="sect3">Parameters that Must Have Identical Settings on All Instances</h4>
<p>Certain <a id="sthref217"></a>initialization parameters that are critical at database creation or that affect certain database operations must have the same value for every instance in an Oracle RAC database. Specify these parameter values in the SPFILE, or within the individual PFILEs for each instance. The following list contains the parameters that must be identical on every instance:</p>
<ul>
<li>
<p><a id="sthref218"></a><a id="sthref219"></a><code>CLUSTER_DATABASE</code></p>
</li>
<li>
<p><a id="sthref220"></a><a id="sthref221"></a><code>COMPATIBLE</code></p>
</li>
<li>
<p><a id="sthref222"></a><a id="sthref223"></a><code>CONTROL_FILES</code></p>
</li>
<li>
<p><a id="sthref224"></a><a id="sthref225"></a><code>DB_BLOCK_SIZE</code></p>
</li>
<li>
<p><a id="sthref226"></a><a id="sthref227"></a><code>DB_DOMAIN</code></p>
</li>
<li>
<p><a id="sthref228"></a><a id="sthref229"></a><code>DB_FILES</code></p>
</li>
<li>
<p><a id="sthref230"></a><a id="sthref231"></a><code>DB_NAME</code></p>
</li>
<li>
<p><a id="sthref232"></a><a id="sthref233"></a><code>DB_RECOVERY_FILE_DEST</code></p>
</li>
<li>
<p><a id="sthref234"></a><a id="sthref235"></a><code>DB_RECOVERY_FILE_DEST_SIZE</code></p>
</li>
<li>
<p><a id="sthref236"></a><a id="sthref237"></a><code>DB_UNIQUE_NAME</code></p>
</li>
<li>
<p><a id="sthref238"></a><a id="sthref239"></a><code>DML_LOCKS</code> (only if set to 0)</p>
</li>
<li>
<p><a id="sthref240"></a><a id="sthref241"></a><code>INSTANCE_TYPE</code> (RDBMS or ASM)</p>
</li>
<li>
<p><a id="sthref242"></a><a id="sthref243"></a><code>PARALLEL_EXECUTION_MESSAGE_SIZE</code></p>
</li>
<li>
<p><a id="sthref244"></a><a id="sthref245"></a><code>REMOTE_LOGIN_PASSWORDFILE</code></p>
</li>
<li>
<p><a id="sthref246"></a><a id="sthref247"></a><code>RESULT_CACHE_MAX_SIZE</code> (either enabled or disabled on all instances)</p>
</li>
<li>
<p><a id="sthref248"></a><a id="sthref249"></a><code>UNDO_MANAGEMENT</code></p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="i21775"></a>
<div id="TDPRC198" class="sect3">
<h4 class="sect3">Parameters that Must Have Unique Settings on All Instances</h4>
<p><a id="sthref250"></a>For the following parameters, the parameter must be set on all instances to a value that is unique to that instance:</p>
<ul>
<li>
<p><code><a id="sthref251"></a><a id="sthref252"></a>CLUSTER_INTERCONNECTS</code></p>
</li>
<li>
<p><code><a id="sthref253"></a><a id="sthref254"></a><a id="sthref255"></a><a id="sthref256"></a><a id="sthref257"></a><a id="sthref258"></a>INSTANCE_NUMBER</code></p>
</li>
<li>
<p><code>ROLLBACK_SEGMENTS</code> (if the <code>UNDO_MANAGEMENT</code> initialization parameter is not set to <code>AUTO</code>)</p>
</li>
<li>
<p><code>UNDO_TABLESPACE</code> (if <code>UNDO_MANAGEMENT</code> is set to <code>AUTO</code>)</p>
</li>
</ul>
<p><a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a><a id="sthref262"></a><a id="sthref263"></a>Oracle Database uses the <code>INSTANCE_NUMBER</code> parameter to distinguish among instances at startup. Oracle Database uses the <code>INSTANCE_NAME</code> parameter to assign redo log groups to specific instances. To simplify administration, use the same number for both the <code>INSTANCE_NAME</code> and <code>INSTANCE_NUMBER</code> parameters. With Oracle Database 11.2 using Grid Plug and Play, the instance name parameter is no longer required. If you do not specify the instance name, then instance name defaults to <code><span class="codeinlineitalic">db_unique_name</span></code>_<code><span class="codeinlineitalic">number</span></code>.</p>
</div>
<!-- class="sect3" -->
<a id="BABGEHAE"></a>
<div id="TDPRC199" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Parameters that Should Have Identical Settings on All Instances</h4>
<p><a id="sthref264"></a>Oracle recommends that you set the values for the following parameters to the same value on all instances. Although you can have different settings for these parameters on different instances, setting each parameter to the same value on all instances simplifies administration:</p>
<div class="inftblinformal">
<table class="cellalignment402" summary="parameters that must be identical on all instances" dir="ltr">
<thead>
<tr class="cellalignment393">
<th class="cellalignment403" id="r1c1-t11">Parameter</th>
<th class="cellalignment403" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment393">
<td class="cellalignment399" id="r2c1-t11" headers="r1c1-t11"><code><a id="sthref265"></a><a id="sthref266"></a>ARCHIVE_LAG_TARGET</code></td>
<td class="cellalignment399" headers="r2c1-t11 r1c2-t11">Different values for instances in your Oracle RAC database are likely to increase overhead because of additional automatic synchronization performed by the database processing.
<p>When using Oracle Streams with your Oracle RAC database, the value should be greater than zero.</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r3c1-t11" headers="r1c1-t11"><code><a id="sthref267"></a><a id="sthref268"></a>CONTROL_MANAGEMENT_PACK_ACCESS</code></td>
<td class="cellalignment399" headers="r3c1-t11 r1c2-t11">This parameter controls the use of the Diagnostics and Tuning Packs for Oracle Enterprise Manager Database Control (Database Control). You should set the value for this parameter on all instance to reflect whether you have purchased the Diagnostics and Tuning Manageability Packs for your Oracle RAC database.</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r4c1-t11" headers="r1c1-t11"><code><a id="sthref269"></a><a id="sthref270"></a>DIAGNOSTIC_DEST</code></td>
<td class="cellalignment399" headers="r4c1-t11 r1c2-t11">As of Oracle Database 11<span class="italic">g</span> release 1 (11.1), the diagnostics for each database instance are located in a dedicated directory, which can be specified through the <code>DIAGNOSTIC_DEST</code> initialization parameter. This parameter can be set on each instance. Oracle recommends that each instance in a cluster specify a <code>DIAGNOSTIC_DEST</code> directory location that is located on shared disk and that the same value for <code>DIAGNOSTIC_DEST</code> be specified for each instance.</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r5c1-t11" headers="r1c1-t11"><a id="sthref271"></a><a id="sthref272"></a><a id="sthref273"></a><a id="sthref274"></a><code>LICENSE_MAX_USERS</code></td>
<td class="cellalignment399" headers="r5c1-t11 r1c2-t11">This parameter determines a database-wide limit on the number of user accounts defined in the database and it is useful to have the same value on all instances of your database so you can see the current value no matter which instance you are using. Setting different values may generate additional warning messages during instance startup, or cause commands related to database user account management to fail on some instances.
<p>If you have concurrent usage (session) licensing, then set the <code>LICENSE_MAX_SESSIONS</code> parameter instead. When using <code>LICENSE_MAX_SESSIONS</code>, set the value on each instance so that the sum of all the values is less than or equal to the total number of sessions licensed for the database. Do not set both <code>LICENSE_MAX_SESSIONS</code> and <code>LICENSE_MAX_USERS</code>.</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r6c1-t11" headers="r1c1-t11"><code><a id="sthref275"></a><a id="sthref276"></a>LOG_ARCHIVE_FORMAT</code></td>
<td class="cellalignment399" headers="r6c1-t11 r1c2-t11">If you do not use the same value for all your instances, then you complicate media recovery. The recovering instance expects the required archived redo log file names to have the format defined by its own value of <code>LOG_ARCHIVE_FORMAT</code>, regardless of which instance created the archived redo log files.
<p>Databases that support Oracle Data Guard, either to send or receive archived redo log files, must use the same value of <code>LOG_ARCHIVE_FORMAT</code> for all instances.</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r7c1-t11" headers="r1c1-t11"><code><a id="sthref277"></a><a id="sthref278"></a>REDO_TRANSPORT_USER</code></td>
<td class="cellalignment399" headers="r7c1-t11 r1c2-t11">This parameter specifies the name of the user whose password verifier is used when a remote login password file is used for redo transport authentication. This parameter is used in Oracle Data Guard configurations.</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r8c1-t11" headers="r1c1-t11"><a id="sthref279"></a><a id="sthref280"></a><code>SPFILE</code></td>
<td class="cellalignment399" headers="r8c1-t11 r1c2-t11">The SPFILE resides in the <code>$ORACLE_HOME/dbs</code> directory; however, users can place it any storage accessible to the local host if it is specified in an initialization parameter file.
<p>If this parameter does not identify the same file to all instances, then each instance may act differently and unpredictably in failover, load-balancing, or standard operations. Additionally, a change you make to the SPFILE using an <code>ALTER SYSTEM SET</code> or <code>ALTER SYSTEM RESET</code> command is saved only in the SPFILE used by the instance where you run the command. Your change is not reflected in instances using different SPFILEs.</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r9c1-t11" headers="r1c1-t11"><code><a id="sthref281"></a><a id="sthref282"></a>TRACE_ENABLED</code></td>
<td class="cellalignment399" headers="r9c1-t11 r1c2-t11">When <code>TRACE_ENABLED</code> is set to true, Oracle records information in specific files when errors occur. Oracle Support Services uses this information for debugging the Oracle software. If you enable tracing on one instance, then you should enable it on all instances to ensure that the diagnostic information is recorded in a trace file.</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r10c1-t11" headers="r1c1-t11"><code><a id="sthref283"></a><a id="sthref284"></a>UNDO_RETENTION</code></td>
<td class="cellalignment399" headers="r10c1-t11 r1c2-t11">By setting different values for <code>UNDO_RETENTION</code> in each instance, you are likely to reduce scalability and encounter unpredictable actions following a failover. Therefore, you should carefully consider the potential benefits before you assign different values for this parameter to the instances in your Oracle RAC database.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<div id="TDPRC200" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref285"></a>
<h4 class="sect3">About Modifying the SERVICE_NAMES Parameter for Oracle RAC</h4>
<p><a id="sthref286"></a>The <code><a id="sthref287"></a><a id="sthref288"></a>SERVICE_NAMES</code> initialization parameter specifies one or more names by which clients can connect to the instance. The instance registers its service names with the listener. When a client requests a service, the listener determines which instances offer the requested service and routes the client to the appropriate instance.</p>
<p>In an Oracle RAC database, you should <span class="italic">not</span> modify this parameter directly. Instead, define services for your database and database instances using the Clustered Managed Database Services page in Oracle Enterprise Manager. If you must change a service, then you can use either Enterprise Manager or SRVCTL. When you use either Oracle Enterprise Manager or SRVCTL to create and start the service, the <code>SERVICE_NAMES</code> parameter is updated automatically once the service is active.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="configwlm.htm#CHDJIAJH">"About Oracle Services"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BCEFICEE"></a>
<div id="TDPRC201" class="sect2"><a id="CIHDDAGG"></a>
<h3 class="sect2">About the Server Parameter File for Oracle Real Application Clusters</h3>
<p><a id="sthref289"></a><a id="sthref290"></a>When you create the database, Oracle creates an SPFILE in the file location that you specify. This location can be an Oracle ASM disk group or a file on a cluster file system. In the environment described by this guide, the SPFILE is created on an Oracle ASM disk group.</p>
<p>All instances in the cluster database use the same SPFILE at startup. Oracle RAC uses a traditional parameter file only if an SPFILE does not exist or if you specify <code>PFILE</code> in your <code>STARTUP</code> command. Oracle recommends that you use an SPFILE to simplify administration, maintain parameter setting consistency, and to guarantee parameter setting persistence across database shutdown and startup events. In addition, you can configure RMAN to back up your SPFILE.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS053" href="../../server.112/e10897/instance.htm#ADMQS053"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink RACAD017" href="../../rac.112/e41960/admin.htm#RACAD017"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about using a server parameter file in an Oracle Real Application Clusters environment</p>
</li>
<li>
<p><a class="olink BRADV89519" href="../../backup.112/e10642/rcmbckba.htm#BRADV89519"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about using RMAN to backup the SPFILE</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABGFHDA"></a>
<div id="TDPRC202" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Editing Initialization Parameter Settings for an Oracle RAC Database</h3>
<p>You can use Enterprise Manager to view and edit the initialization parameter settings for your Oracle RAC database.</p>
<p class="subhead2"><a id="TDPRC203"></a>To view or modify the initialization parameters using Enterprise Manager:</p>
<ol>
<li>
<p>On the Cluster Database Home page, while logged in as a SYSDBA user, click <span class="gui-object-action">Server</span>.</p>
<p>The Server page appears.</p>
</li>
<li>
<p>Under the heading Database Configuration, select <span class="gui-object-action">Initialization Parameters</span>.</p>
<p>The Initialization Parameters page appears.</p>
</li>
<li>
<p>Select either the <span class="gui-object-action">Current</span> or <span class="gui-object-action">SPFile</span> subpage to modify the parameter settings.</p>
<p>See either:</p>
<ul>
<li>
<p><a href="#CIHHCHEG">"Modifying the Initialization Parameter for Oracle RAC Using the Current Tab"</a></p>
</li>
<li>
<p><a href="#CIHFIHGB">"Modifying the Initialization Parameter for Oracle RAC Using the SPFile Tab"</a></p>
</li>
</ul>
</li>
</ol>
<a id="CIHHCHEG"></a>
<div id="TDPRC204" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref291"></a>Modifying the Initialization Parameter for Oracle RAC Using the Current Tab</h4>
<p>The Current subpage of the Initialization Parameters page contains a list of configuration parameters for that instance and database. You can set these parameters to particular values to initialize many of the memory and process settings of an Oracle instance. When you modify initialization parameters using the Current tab, the changes are applied only to the running instances, not the SPFILE, unless the "Apply changes in current running instance(s) mode to SPFile" option is selected.</p>
<p>The Instance column shows the instances for which the parameter has the value listed in the table. An asterisk (*) indicates that the parameter has the same value for all remaining instances of the cluster database. For example, if <code>open_cursors = 250</code> for <code>node1</code> and <code>open_cursors = 300</code> for <code>node2</code>, then the Instance column for <code>open_cursors = 250</code> displays an asterisk, but the Instance column for <code>open_cursors = 300</code> contains "node2". This shorthand notation saves space when the cluster databases has many instances.</p>
<img width="792" height="318" src="img/init_params1.gif" alt="Description of init_params1.gif follows" /><br />
<a id="sthref292" href="img_text/init_params1.htm">Description of the illustration init_params1.gif</a><br />
<br />
<p>You can filter the Initialization Parameters page to show only those parameters that meet the criteria of the filter you enter in the Filter by name field. Optionally, you can select <span class="gui-object-action">Show All</span> to display on one page all parameters currently used by the running instance(s).</p>
<p class="subhead2"><a id="TDPRC205"></a>To modify parameter values using the Current tab:</p>
<ol>
<li>
<p>Select a parameter from the Select column and do one of the following:</p>
<ul>
<li>
<p>Click <span class="gui-object-action">Add</span> to add the selected parameter to a different instance.</p>
<p>When the new row appears in the table, choose the instance name to which the new setting applies, and enter the new value for the parameter in the Value field. Optionally, you can put text in the Comment field to indicate why the instance has a different value from the other instances.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Reset</span> to reset the value of the selected parameter. Note that using this option you can reset only those parameters that do not have an asterisk in the Instance column.</p>
<p>When you click Reset, the value of the selected parameter is reset to the value of the remaining instances (that is, the row with the asterisk in the Instance column) and the row that has the local instance name in the Instance field is removed from the table.</p>
</li>
</ul>
<p>For example, select the parameter <code>OPEN_CURSORS</code>, then click <span class="gui-object-action">Add</span>. In the new entry for <code>OPEN_CURSORS</code>, select an <span class="gui-object-action">Instance</span> (for example <code>sales1</code> or <code>RACDB2</code>), change the <span class="gui-object-action">Value</span> field to 300.</p>
</li>
<li>
<p>After you make changes to one or more of the parameters, click <span class="gui-object-action">Apply</span> to accept and implement the changes.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHFIHGB"></a>
<div id="TDPRC206" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref293"></a>Modifying the Initialization Parameter for Oracle RAC Using the SPFile Tab</h4>
<p>You can also add or reset parameters using the SPFile tab. When you modify initialization parameters using the SPFile tab, the changes are applied only to the SPFILE, not the currently running instances, unless the "Apply changes in SPFile mode to the current running instance(s)" option is selected.</p>
<p>Resetting parameters using the SPFile tab is different than resetting the same parameters using the Current tab. You can either reset the parameter value for an instance back to the default value for all instances, or you can delete the default parameter setting (unset the parameter) for all instances.</p>
<ul>
<li>
<p>If you reset a parameter with an asterisk in the Instance column, then the entry is deleted from both the SPFILE and the table in Database Control. Only parameters without an asterisk (or instance-specific parameters) remain.</p>
<img width="662" height="133" src="img/init_params2.gif" alt="Description of init_params2.gif follows" /><br />
<a id="sthref294" href="img_text/init_params2.htm">Description of the illustration init_params2.gif</a><br />
<br /></li>
<li>
<p>If you reset the only entry for a nonasterisk parameter, then it is deleted from both the SPFILE and the table in Database Control, but the parameter is replaced by a <span class="italic">dummy</span> parameter with an empty value field and an asterisk in the Instance column. This enables you to specify a new value for the parameter, add new instance-specific entries for the parameter, and so on.</p>
<img width="508" height="109" src="img/init_params3.gif" alt="Description of init_params3.gif follows" /><br />
<a id="sthref295" href="img_text/init_params3.htm">Description of the illustration init_params3.gif</a><br />
<br /></li>
</ul>
<p>Resetting a parameter that is set for only one instance results in the parameter being unset for all instances.</p>
<p class="subhead2"><a id="TDPRC207"></a>To modify parameter values using the SPFile tab:</p>
<ol>
<li>
<p>Choose a parameter using the <span class="gui-object-action">Select</span> column.</p>
<p>For more information about each parameter, click the information icon in the Help column next to the parameter.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Add</span>, then edit the entry to change the target instance or parameter value. You can optionally add a comment describing the reason for the change.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Apply</span> to apply the changes to the SPFILE, or to the SPFile and the currently running instance if you selected the "Apply changes in SPFile mode to the current running instance(s)" option.</p>
</li>
<li>
<p>On the SPFile subpage of the Initialization Parameters page, select a parameter from the Select column and do one of the following:</p>
<ul>
<li>
<p>Click <span class="gui-object-action">Add</span> to add the selected parameter to a different instance.</p>
<p>When the new row appears in the table, choose the instance name to which the new setting applies, and then enter the new value for the parameter in the Value field. Optionally, you can put text in the Comment field describing the reason for the change.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Reset</span> to reset the value of the selected parameter.</p>
<p>When you click Reset, one of the following actions is performed:</p>
<ul>
<li>
<p>If the entry you selected was for a specific instance, then the value of the selected parameter for that instance is reset to the value of the remaining instances (indicated by an asterisk in the Instance column). The entry that has the local instance name in the Instance field is deleted.</p>
</li>
<li>
<p>If the entry you selected to reset was the default values for all instances (indicated by an asterisk in the Instance column), then the value of the selected parameter is unset for all instances, but any instance-specific parameter entries for the same parameter are not changed.</p>
</li>
<li>
<p>If you reset the only entry for a parameter, regardless of whether the entry applies to all instances or a single instance, then the parameter is unset for all instances in the cluster database.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>After you make changes to one or more of the parameters, click <span class="gui-object-action">Apply</span> to accept and implement the changes.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="TDPRC208" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref296"></a>
<h4 class="sect3">Example: Modifying the OPEN_CURSORS Parameter</h4>
<p>Suppose that the <code>open_cursors</code> parameter has two entries in the SPFILE:</p>
<pre>
*.open_cursors = 200 
RACDB2.open_cursors = 250
</pre>
<img width="610" height="113" src="img/init_params_exmpl1.gif" alt="Description of init_params_exmpl1.gif follows" /><br />
<a id="sthref297" href="img_text/init_params_exmpl1.htm">Description of the illustration init_params_exmpl1.gif</a><br />
<br />
<p>Using the Initialization Parameters page with the SPFile tab selected, if you click <span class="gui-object-action">Reset</span> for <code>*.open_cursors</code>, then Enterprise Manager deletes that entry from both the SPFILE and the displayed list of parameters, leaving only <code>RACDB2.open_cursors = 250</code> displayed.</p>
<img width="608" height="84" src="img/init_params_exmpl2.gif" alt="Description of init_params_exmpl2.gif follows" /><br />
<a id="sthref298" href="img_text/init_params_exmpl2.htm">Description of the illustration init_params_exmpl2.gif</a><br />
<br />
<p>If you click <span class="gui-object-action">Reset</span> for <code>RACDB2.open_cursors</code>, then Enterprise Manager also deletes this parameter entry from both the SPFILE and the displayed list of parameters, but then a new entry, <code>*.open_cursors = &lt;NULL&gt;</code> is added to the displayed list of parameters for the reset parameter.</p>
<img width="547" height="84" src="img/init_params_exmpl3.gif" alt="Description of init_params_exmpl3.gif follows" /><br />
<a id="sthref299" href="img_text/init_params_exmpl3.htm">Description of the illustration init_params_exmpl3.gif</a><br />
<br />
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS053" href="../../server.112/e10897/instance.htm#ADMQS053"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink RACAD017" href="../../rac.112/e41960/admin.htm#RACAD017"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about using a server parameter file in an Oracle Real Application Clusters environment</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBEEGE"></a>
<div id="TDPRC209" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Administering Storage in Oracle RAC</h2>
<p>Most administration tasks for managing storage are the same for Oracle single-instance and Oracle RAC databases. This section provides additional information for using Enterprise Manager to manage some storage structures of an Oracle RAC database.</p>
<p>This section describes the following topics:</p>
<ul>
<li>
<p><a href="#CHDGAIFJ">About Automatic Undo Management in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CHDJCIIJ">Oracle Automatic Storage Management in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CHDIFFFA">Administering Redo Logs in Oracle RAC</a></p>
</li>
</ul>
<a id="CHDGAIFJ"></a>
<div id="TDPRC210" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Automatic Undo Management in Oracle RAC</h3>
<p><a id="sthref300"></a><a id="sthref301"></a><a id="sthref302"></a><a id="sthref303"></a>Oracle RAC automatically manages undo segments within a specific undo tablespace that is assigned to an instance. Only the instance assigned to the undo tablespace can modify the contents of that tablespace. However, each instance can read the undo data blocks created by any instance. Also, when performing transaction recovery, any instance can update any undo tablespace, if that undo tablespace is not currently being used by another instance for undo generation or transaction recovery. You assign undo tablespaces in your Oracle RAC database by specifying a different value for the <code>UNDO_TABLESPACE</code> parameter for each instance in your SPFILE or individual PFILEs. You cannot simultaneously use automatic undo management and manual undo management in an Oracle RAC database. In other words, all instances of an Oracle RAC database must operate in the same undo mode.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS063" href="../../server.112/e10897/storage.htm#ADMQS063"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about managing the undo data for your database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDJCIIJ"></a>
<div id="TDPRC211" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle Automatic Storage Management in Oracle RAC</h3>
<p><a id="sthref304"></a>Oracle Automatic Storage Management (Oracle ASM) automatically optimizes storage to maximize performance by managing the storage configuration across the disks that Oracle ASM manages. Oracle ASM does this by evenly distributing the storage load across all the available storage within your cluster database environment. Oracle ASM partitions your total disk space requirements into uniformly sized units across all the disks in a disk group. Oracle ASM can also automatically mirror data to prevent data loss. Because of these features, Oracle ASM also significantly reduces your administrative overhead.</p>
<p>As in single-instance Oracle databases, using Oracle ASM in Oracle RAC does not require I/O tuning. The following topics describe Oracle ASM and Oracle ASM administration:</p>
<ul>
<li>
<p><a href="#BABDBBAF">About Oracle ASM Components in Oracle RAC</a></p>
</li>
<li>
<p><a href="#BABCJFBG">About Disk Group Configurations for Oracle ASM in Oracle RAC</a></p>
</li>
<li>
<p><a href="#BABFAIHD">About Standalone Oracle ASM Disk Group Management</a></p>
</li>
<li>
<p><a href="#BABGJIJC">About Oracle ASM Instance and Disk Group Management</a></p>
</li>
</ul>
<a id="BABDBBAF"></a>
<div id="TDPRC212" class="sect3"><a id="CHDGBIFG"></a>
<h4 class="sect3">About Oracle ASM Components in Oracle RAC</h4>
<p>When you configure Oracle ASM after installing Oracle Grid Infrastructure for a cluster, one Oracle ASM instance is created on each node in your Oracle RAC environment if one does not exist. Each Oracle ASM instance has either an SPFILE or PFILE type parameter file. For the environment described in this guide, the Oracle ASM instances use SPFILEs.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12078" href="../../server.112/e10897/asm.htm#ADMQS12078"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#BHCEEHFD">"About Oracle Automatic Storage Management"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABCJFBG"></a>
<div id="TDPRC213" class="sect3">
<h4 class="sect3">About Disk Group Configurations for Oracle ASM in Oracle RAC</h4>
<p>When you create a disk group for a cluster, or add new disks to an existing clustered disk group, you must prepare only the underlying physical storage on shared disks. The shared disk requirement is the only substantial difference between using Oracle ASM in an Oracle RAC database compared to using it in a single-instance Oracle database. Oracle ASM automatically rebalances the storage load after you add or delete a disk or disk group.</p>
<p>In a cluster, each Oracle ASM instance manages the metadata updates to the disk groups for the node on which it is running. In addition, each Oracle ASM instance coordinates disk group metadata with other nodes in the cluster. See <a href="intro_tdprc.htm#CHDGIJHA">Figure 1-2, "Oracle Instances and Oracle ASM Storage"</a> for an illustration of the relationship between Oracle RAC instances, Oracle ASM instances, and the shared storage. As in single-instance Oracle databases, you can use Enterprise Manager, Oracle ASM configuration assistant (ASMCA), Oracle ASM command-line utility (ASMCMD), SQL*Plus, and SRVCTL to administer disk groups for Oracle ASM in an Oracle RAC environment.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12079" href="../../server.112/e10897/asm.htm#ADMQS12079"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink OSTMG1390" href="../../server.112/e18951/asmbysql.htm#OSTMG1390"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information about how to use SQL*Plus to administer Oracle ASM instances</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABFAIHD"></a>
<div id="TDPRC214" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About Standalone Oracle ASM Disk Group Management</h4>
<p>You can configure Oracle ASM during installation of Oracle Grid Infrastructure for a cluster. If you choose not to configure Oracle ASM during installation, then you must manually configure Oracle ASM, or perform standalone Oracle ASM disk group management.</p>
<p>To manually configure Oracle ASM, you must first run ASMCA to create the Oracle ASM instances and create at least one diskgroup. Once Oracle ASM is running, then you can use DBCA to create an Oracle RAC database that uses Oracle ASM for storage.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you installed the Oracle Cluster Registry (OCR) and Voting Disks on Oracle ASM as part of your Oracle Grid Infrastructure for a cluster install, then the Oracle ASM instances are created by OUI and you do not have to run ASMCA. You must use ASMCA only if you did not specify Oracle ASM storage for the OCR and Voting disks during installation.</div>
<p>You do not have to create a database to modify Oracle ASM storage properties.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12080" href="../../server.112/e10897/asm.htm#ADMQS12080"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink OSTMG016" href="../../server.112/e18951/asm_util.htm#OSTMG016"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information about how to use the Oracle Automatic Storage Management command-line utility</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABGJIJC"></a>
<div id="TDPRC215" class="sect3">
<h4 class="sect3">About Oracle ASM Instance and Disk Group Management</h4>
<p>You can perform administrative operations on Oracle ASM disk groups using Enterprise Manager such as adding and deleting them. You can also monitor Oracle ASM disk group performance and control disk group availability at the instance level. For example, Enterprise Manager provides some Oracle RAC-specific features for Oracle ASM, such as the following:</p>
<ul>
<li>
<p>When you add a disk group, the disk group definition includes a check box to indicate whether the disk group is automatically mounted to all the cluster database instances.</p>
</li>
<li>
<p>The default Disk Group Performance page displays instance-level performance details when you click a performance characteristic such as <span class="gui-object-action">Write Response Time</span> or <span class="gui-object-action">I/O Throughput</span>.</p>
</li>
<li>
<p>When you mount and dismount Oracle ASM disk groups, you can use a check box to indicate which instances should mount or dismount a particular Oracle ASM Disk Group.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG2000" href="../../server.112/e18951/asm_em.htm#OSTMG2000"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS12081" href="../../server.112/e10897/asm.htm#ADMQS12081"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIFFFA"></a>
<div id="TDPRC216" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Administering Redo Logs in Oracle RAC</h3>
<p>Managing redo log files in Oracle RAC environments is similar to managing redo log files in single-instance Oracle Database environments. This section provides an overview of some of the additional concepts and procedures for configuring redo log files in Oracle RAC environments.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12049" href="../../server.112/e10897/storage.htm#ADMQS12049"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink OSTMG13960" href="../../server.112/e18951/asmbysql.htm#OSTMG13960"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></p>
</li>
</ul>
</div>
<a id="BABCGAAJ"></a>
<div id="TDPRC217" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About Redo Log Groups and Redo Threads in Oracle RAC Databases</h4>
<p>Redo logs contain a record of changes that have been made to data files. In a single-instance Oracle database, redo logs are stored in two or more redo log file groups. Each of these groups contains a redo log file and possibly one or more mirrored copies of that file. In an Oracle RAC database, each instance requires its own set of redo log groups, which is known as a <span class="bold"><a href="rac_glossary.htm#BGBBGCGI"><span class="xrefglossterm">redo thread</span></a></span>. Mirrored copies of the redo log files provide your system with extra protection against data loss that is due to hardware failures or data corruption. If a redo log file is unreadable, then the Oracle Database attempts to access its mirrored copy. The redo log file mirrors should be located on different disk devices from the primary redo log files.</p>
<div id="TDPRC569" class="figure">
<p class="titleinfigure"><a id="sthref305"></a>Figure 4-1 Illustration of Redo Threads for an Oracle RAC Database</p>
<img width="500" height="557" src="img/tdprc005.gif" alt="Description of Figure 4-1 follows" /><br />
<a id="sthref306" href="img_text/tdprc005.htm">Description of "Figure 4-1 Illustration of Redo Threads for an Oracle RAC Database"</a><br />
<br /></div>
<!-- class="figure" -->
<p>Each instance's redo thread must contain at least two redo log groups. Each redo log group should contain at least two members: a redo log and its mirrored copy. If you create your Oracle RAC database using DBCA, then your Oracle RAC database automatically implements a configuration that meets the Oracle recommendations.</p>
<p>You should create redo log groups only if you are using <a id="sthref307"></a><a id="sthref308"></a>administrator-managed databases. For policy-managed databases, if an instance starts due to a change in server pool cardinality, then Oracle Database automatically creates redo log files, enables a redo thread for the instance if there is not a redo thread allocated to that instance, and creates the undo tablespace if there is not an undo tablespace allocated to that instance. The database must be using Oracle Managed Files and Oracle ASM in this situation. See <a class="olink RACAD704" href="../../rac.112/e41960/storage.htm#RACAD704"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information.</p>
<p>In an Oracle RAC database, all the redo log files reside on shared storage. In addition, each instance must have access to the redo log files of all the other instances in the cluster. If your Oracle RAC database uses Oracle ASM, then Oracle ASM manages the shared storage for the redo log files and the access to those files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
DBCA creates redo threads and undo tablespaces up to the maximum instance parameter at the time of creation for better performance.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12049" href="../../server.112/e10897/storage.htm#ADMQS12049"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink OSTMG13960" href="../../server.112/e18951/asmbysql.htm#OSTMG13960"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="TDPRC408" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref309"></a>
<h4 class="sect3">About Accessing Redo Log Files for an Oracle RAC Database</h4>
<p>In an Oracle RAC database, each instance writes and archives the redo log groups in its redo thread in the same manner that single-instance Oracle databases do. However, in recovery mode, the instance performing the recovery can read and process all the redo threads for the database, regardless of which instance generated the redo thread. Being able to read all the redo threads enables a running instance to recover the work completed by one or more failed instances.</p>
<p>In case of instance failure, a surviving instance can read the redo logs of the failed instance. Users can continue to access and update the database without waiting for the failed instance to be restarted. For example, assume that you have an Oracle RAC database with two instances, instance A and instance B. If instance A is down, then instance B can read the redo log files for both instance A and B to ensure a successful recovery.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDIFFFA">"Administering Redo Logs in Oracle RAC"</a></div>
</div>
<!-- class="sect3" -->
<a id="BABGIGAH"></a>
<div id="TDPRC218" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using Enterprise Manager to View and Create Online Redo Log Files</h4>
<p>On the Redo Log Groups page, you can create additional redo log groups and add members to the redo log group. The Thread column identifies the instance, or redo thread, to which a redo log file belongs.</p>
<p class="subhead2"><a id="TDPRC219"></a>To access the redo log file groups using Enterprise Manager:</p>
<ol>
<li>
<p>On the Cluster Database Home Page, select <span class="gui-object-action">Server</span>.</p>
<p>The <span class="bold">Server</span> page appears.</p>
</li>
<li>
<p>In the Storage section, select <span class="gui-object-action">Redo Log Groups</span>.</p>
<p>The Redo Log Groups page appears.</p>
</li>
<li>
<p>On this page you can perform the following tasks:</p>
<ul>
<li>
<p>View the status, number of members, thread, file size, status, and archive statue of each redo log group</p>
</li>
<li>
<p>Create or delete log groups</p>
</li>
<li>
<p>Edit a redo log group to add or remove members</p>
</li>
<li>
<p>Perform other redo log group management tasks, including clearing log files, duplicating a log group, generating sizing advice, and forcing a log switch</p>
</li>
</ul>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD704" href="../../rac.112/e41960/storage.htm#RACAD704"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for additional information about redo threads in an Oracle RAC environment</p>
</li>
<li>
<p><a class="olink OSTMG13960" href="../../server.112/e18951/asmbysql.htm#OSTMG13960"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS12073" href="../../server.112/e10897/storage.htm#ADMQS12073"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about creating online redo log files</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment392">
<tr>
<td class="cellalignment399">
<table class="cellalignment397">
<tr>
<td class="cellalignment396"><a href="install_rac.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment396"><a href="adminoc.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment401">
<table class="cellalignment395">
<tr>
<td class="cellalignment396"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment396"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment396"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment396"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment396"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment396"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
