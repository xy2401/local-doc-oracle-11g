<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Preparing Your Cluster</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-11T15:26:27Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Real Application Clusters Guide" />
<meta name="dcterms.identifier" content="E17264-15" />
<meta name="dcterms.isVersionOf" content="TDPRC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="rac_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="intro_tdprc.htm" title="Previous" type="text/html" />
<link rel="Next" href="install_rac.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17264.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/16</span> <!-- End Header -->
<script  >
<!-- // <![CDATA[
window.name='preparing'
// ]]> -->
</script> <script  >
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=120,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><h1>Footnote ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/body><\/html>');
    msg.document.close();
    msg.focus();
}
// ]]>
</script> <noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<div id="TDPRC120" class="chapter"><a id="CHDGEEDC"></a>
<h1 class="chapter"><span class="secnum">2</span> Preparing Your Cluster</h1>
<p>This chapter contains the information that your system administrator and network administrator need to help you, as the DBA, configure two nodes in your cluster. This chapter assumes a basic understanding of the Linux operating system. In some cases, you may need to refer to details in <a class="olink RILIN" href="../../install.112/e41962/toc.htm"><span class="italic">Oracle Real Application Clusters Installation Guide for Linux and UNIX</span></a>. In addition, you must have <code>root</code> or <code>sudo</code> privileges to perform certain tasks in this chapter (or Administrator privileges on Windows systems).</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#BGBHDFAG">Verifying System Requirements</a></p>
</li>
<li>
<p><a href="#CEGFBACE">Preparing the Server</a></p>
</li>
<li>
<p><a href="#CEGEEEGI">Configuring the Network</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">Preparing the Operating System and Software</a></p>
</li>
<li>
<p><a href="#CEGFBCDG">Configuring Installation Directories and Shared Storage</a></p>
</li>
</ul>
<a id="BGBHDFAG"></a>
<div id="TDPRC121" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Verifying System Requirements</h2>
<p>Before you begin your installation, you should check to ensure that your system meets the requirements for Oracle Real Application Clusters (Oracle RAC). The requirements can be grouped into the following three categories:</p>
<ul>
<li>
<p><a href="#BCGEFACF">Checking Operating System Certifications</a></p>
</li>
<li>
<p><a href="#CHDDBGGG">About Hardware Requirements</a></p>
</li>
<li>
<p><a href="#BGBCFFEB">About Network Hardware Requirements</a></p>
</li>
<li>
<p><a href="#BCGCEBGI">About IP Address Requirements</a></p>
</li>
<li>
<p><a href="#CEGHCIHI">Verifying Operating System and Software Requirements</a></p>
</li>
</ul>
<a id="BCGEFACF"></a>
<div id="TDPRC557" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Checking Operating System Certifications</h3>
<p><a id="sthref54"></a><a id="sthref55"></a><a id="sthref56"></a><a id="sthref57"></a>You must ensure that you have a certified combination of the operating system and the Oracle Database software. Refer to My Oracle Support (formerly Oracle<span class="italic">MetaLink</span>) certification, which is located at the following Web site</p>
<pre>
<a href="https://support.oracle.com">https://support.oracle.com</a>
</pre>
<p>You can find certification information by selecting the <span class="gui-object-action">Certifications</span> tab. You can also search for support notes for instructions on how to locate the Certification information for your platform.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Universal Installer verifies that your server and operating system meet the listed requirements. However, you should check the requirements before you start Oracle Universal Installer to ensure your server and operating system meet the requirement. This helps to avoid delays in the software installation process that you might incur if your hardware or software is not certified.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGHCIHI">"Verifying Operating System and Software Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDDBGGG"></a>
<div id="TDPRC122" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Hardware Requirements</h3>
<p>Each node you make part of your cluster, or Oracle Clusterware and Oracle RAC installation, must satisfy the minimum hardware requirements of the software. These hardware requirements can be categorized as follows:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you install Oracle software, Oracle Universal Installer (OUI) automatically performs hardware prerequisite checks and notifies you if they are not met.</div>
<ul>
<li>
<p>Physical memory (at least 1.5 gigabyte (GB) of RAM)</p>
</li>
<li>
<p>An amount of swap space equal to the amount of RAM</p>
</li>
<li>
<p>Temporary space (at least 1 GB) available in <code>/tmp</code></p>
</li>
<li>
<p>A processor type (CPU) that is certified with the release of the Oracle software being installed</p>
</li>
<li>
<p>A minimum of 1024 x 786 display resolution, so that Oracle Universal Installer (OUI) displays correctly</p>
</li>
<li>
<p>All servers that are used in the cluster must have the same chip <a id="sthref58"></a>architecture, for example, all 32-bit processors or all 64-bit processors</p>
</li>
<li>
<p>Adequate disk space in the software installation locations to store the Oracle software</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Refer to the <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> and the <a class="olink RIGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=RIGEN"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> for your operating system for the actual disk space requirements. The amount of disk space used by the Oracle software can vary, and might be higher than what is listed in this guide.</div>
<p>You need at least 5.5 GB of available disk space for the <span class="italic">Grid home</span> directory, which includes both the binary files for Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) and their associated log files, and at least 4 GB of available disk space for the Oracle Database home directory, or <span class="italic">Oracle home</span> directory.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform</p>
</li>
<li>
<p><a href="#BGBCJHIA">"About Performing Platform-Specific Configuration Tasks"</a></p>
</li>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGFBCDG">"Configuring Installation Directories and Shared Storage"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="TDPRC558" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref59"></a>
<h3 class="sect2">About Shared Storage</h3>
<p><a id="sthref60"></a><a id="sthref61"></a><a id="sthref62"></a><a id="sthref63"></a>An Oracle RAC database is a <span class="italic">shared everything</span> database. All data files, control files, redo log files, and the server parameter file (SPFILE) used by the Oracle RAC database must reside on shared storage that is accessible by all the Oracle RAC database instances. The Oracle RAC installation demonstrated in this guide uses <a id="sthref64"></a>Oracle ASM for the shared storage for Oracle Clusterware and Oracle Database files.</p>
<p>Oracle Clusterware achieves superior scalability and high availability by using the following components:</p>
<ul>
<li>
<p><a id="sthref65"></a><span class="bold">Voting disk</span>&ndash;Manages cluster <a id="sthref66"></a>membership and arbitrates cluster ownership between the nodes in case of network failures. The voting disk is a file that resides on shared storage. For high availability, Oracle recommends that you have multiple voting disks, and that you have an odd number of <a id="sthref67"></a>voting disks. If you define a single voting disk, then use mirroring at the file system level for redundancy.</p>
</li>
<li>
<p><a id="sthref68"></a><span class="bold">Oracle Cluster Registry (OCR)</span>&ndash;Maintains cluster configuration information and configuration information about any cluster database within the cluster. The OCR contains information such as which database instances run on which nodes and which services run on which databases. The OCR also stores information about processes that Oracle Clusterware controls. The OCR resides on shared storage that is accessible by all the nodes in your cluster. Oracle Clusterware can <a id="sthref69"></a>multiplex, or maintain multiple copies of, the OCR and Oracle recommends that you use this feature to ensure high availability.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you choose not to use Oracle ASM for storing your Oracle Clusterware files, then both the voting disks and the OCR must reside on a cluster file system that you configure before you install Oracle Clusterware in the Grid home.</div>
<p>These Oracle Clusterware components require the following disk space on a shared file system:</p>
<ul>
<li>
<p>Three Oracle Clusterware Registry (OCR) files, 300 MB each, or 900 MB total disk space</p>
</li>
<li>
<p>Three voting disk files, 300 MB each, or 900 MB total disk space</p>
</li>
</ul>
<p>If you are not using Oracle ASM for storing Oracle Clusterware files, then for best performance and protection, you should use multiple disks, each using a different disk controller for voting disk file placement. Ensure that each voting disk is configured so that it does not have share any hardware device or have a single point of failure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform</p>
</li>
<li>
<p><a href="#CEGFBCDG">"Configuring Installation Directories and Shared Storage"</a></p>
</li>
<li>
<p><a href="#BGBBBIFJ">"Configuring Shared Storage"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BGBCFFEB"></a>
<div id="TDPRC123" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Network Hardware Requirements</h3>
<p><a id="ABC49907238"></a>Oracle <a id="sthref70"></a><a id="sthref71"></a>Clusterware requires that you connect the nodes in the cluster to a private network by way of a private <a href="rac_glossary.htm#BGBDAJEA"><span class="xrefglossterm">interconnect</span></a>. The private interconnect is a separate network that you configure between cluster nodes. The interconnect serves as the communication path between nodes in the cluster. This interconnect should be a <span class="italic">private</span> interconnect, meaning it is <span class="italic">not</span> accessible to nodes that are not members of the cluster.</p>
<p><a id="sthref72"></a>The interconnect used by Oracle RAC is the same interconnect that Oracle Clusterware uses. Each cluster database instance uses the interconnect for messaging to synchronize the use of shared resources by each instance. Oracle RAC also uses the interconnect to transmit data blocks that are shared between the instances.</p>
<p>When you configure the network for Oracle RAC and Oracle Clusterware, each node in the cluster must meet the following requirements:</p>
<ul>
<li>
<p><a id="sthref73"></a>Each node must have at least two network interface cards (NIC), or <span class="bold">network adapters</span>. One adapter is for the public network interface and the other adapter is for the private network interface (the interconnect). Install additional network adapters on a node if that node meets either of the following conditions:</p>
<ul>
<li>
<p>Does not have at least two network adapters</p>
</li>
<li>
<p>Has two network interface cards but is using network attached storage (NAS). You should have a separate network adapter for NAS.</p>
</li>
<li>
<p>Has two network cards, but you want to use redundant interconnects</p>
<p><a id="sthref74"></a><a id="sthref75"></a><a id="sthref76"></a>In previous releases, to make use of redundant networks for the interconnect, bonding, trunking, teaming, or similar technology was required. Oracle Grid Infrastructure for a cluster and Oracle RAC can now make use of redundant network interconnects, without the use of other network technology, to enhance optimal communication in the cluster. This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2).</p>
<p>Redundant Interconnect Usage enables load-balancing and high availability across multiple (up to 4) private networks (also known as interconnects).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWLIN209" href="../../install.112/e41961/prelinux.htm#CWLIN209"><span class="italic">Oracle Grid Infrastructure Installation Guide for Linux</span></a> for more information about configuring redundant interconnect usage</div>
</li>
</ul>
</li>
<li>
<p><a id="sthref77"></a><a id="sthref78"></a>Public interface names must be the same for all nodes. If the public interface on one node uses the network adapter <code>eth0</code>, then you must configure <code>eth0</code> as the public interface on <span class="italic">all</span> nodes. Network interface names are case-sensitive.</p>
</li>
<li>
<p><a id="sthref79"></a>You should configure the same private interface names for all nodes as well. If <code>eth1</code> is the private interface name for the first node, then <code>eth1</code> should be the private interface name for your second node. Network interface names are case-sensitive.</p>
</li>
<li>
<p>The network adapter for the public interface must support TCP/IP.</p>
</li>
<li>
<p>The network adapter for the private interface must support the user datagram protocol (UDP) using high-speed network adapters and a <a href="rac_glossary.htm#BGBEEJAA"><span class="xrefglossterm">network switch</span></a> that supports TCP/IP (Gigabit Ethernet or better).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You must use a switch for the interconnect. Oracle recommends that you use a dedicated network switch. Token-rings or crossover cables are not supported for the interconnect.</p>
</li>
<li>
<p>Loopback devices are not supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For the private network, the end points of all designated interconnect interfaces must be completely reachable on the network. Every node in the cluster must be able to connect to every private network interface in the cluster.</p>
</li>
<li>
<p>The host name of each node must conform to the RFC 952 standard, which permits alphanumeric characters. Host names using underscores ("_") are not allowed.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGEEEGI">"Configuring the Network"</a></p>
</li>
<li>
<p><a href="#BGBHDFAG">"Verifying System Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BCGCEBGI"></a>
<div id="TDPRC124" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About IP Address Requirements</h3>
<p><a id="sthref80"></a>When performing an advanced installation of the Oracle Grid Infrastructure for a cluster software, you can chose to use <a href="rac_glossary.htm#BGBDHAII"><span class="xrefglossterm">Grid Naming Service (GNS)</span></a> and <a href="rac_glossary.htm#BGBCGAEF"><span class="xrefglossterm">Dynamic Host Configuration Protocol (DHCP)</span></a> for virtual IPs (VIPs). <span class="bold">Grid Naming Service</span> is a new feature in Oracle Database 11g release 2 that uses <a href="rac_glossary.htm#BGBHDFJC"><span class="xrefglossterm">multicast Domain Name Server (mDNS)</span></a> to enable the cluster to assign host names and IP addresses dynamically as nodes are added and removed from the cluster, without requiring additional network address configuration in the domain name server (DNS). For more information about GNS, refer to <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform.</p>
<p>This guide documents how to perform a typical installation, which does not use GNS. You must configure the following addresses manually in your corporate DNS:</p>
<ul>
<li>
<p>A public IP address for each node</p>
</li>
<li>
<p>A virtual IP address for each node</p>
</li>
<li>
<p>Three single client access name (SCAN) addresses for the cluster</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Clusterware uses interfaces marked as private as the cluster interconnects.</div>
<p>During installation a <a href="rac_glossary.htm#BGBCEIEB"><span class="xrefglossterm">SCAN</span></a> for the cluster is configured, which is a domain name that resolves to all the SCAN addresses allocated for the cluster. The IP addresses used for the SCAN addresses must be on the same subnet as the VIP addresses. The SCAN must be unique within your network. The SCAN addresses should not respond to <code>ping</code> commands before installation.</p>
<p><a id="sthref81"></a>During installation of the Oracle Grid Infrastructure for a cluster, a listener is created for each of the SCAN addresses. Clients that access the Oracle RAC database should use the SCAN or SCAN address, not the VIP name or address. If an application uses a SCAN to connect to the cluster database, then the network configuration files on the client computer do not have to be modified when nodes are added to or removed from the cluster. The SCAN and its associated IP addresses provide a stable name for clients to use for connections, independent of the nodes that form the cluster. Clients can connect to the cluster database using the easy connect naming method and the SCAN. <a id="sthref82"></a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGEEEGI">"Configuring the Network"</a></p>
</li>
<li>
<p><a href="#BGBHDFAG">"Verifying System Requirements"</a></p>
</li>
<li>
<p><a class="olink NETAG255" href="../../network.112/e41945/naming.htm#NETAG255"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for information about the easy connect naming method</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CEGHCIHI"></a>
<div id="TDPRC125" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Verifying Operating System and Software Requirements</h3>
<p><a id="sthref83"></a>Refer to the <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> and the <a class="olink RIGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=RIGEN"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> for your platform for information about specific requirements for your environment. These requirements might include:<a id="sthref84"></a></p>
<ul>
<li>
<p>The operating system version</p>
</li>
<li>
<p>The kernel version of the operating system</p>
</li>
<li>
<p>Modifying the values for kernel parameters</p>
</li>
<li>
<p>Installed packages, patches, or patch sets</p>
</li>
<li>
<p>Installed compilers and drivers</p>
</li>
<li>
<p>Web browser type and version</p>
</li>
<li>
<p>Additional application software requirements</p>
</li>
</ul>
<p>If you are currently running an operating system version that is not supported by Oracle Database 11<span class="italic">g</span> release 2 (11.2), then you must first upgrade your operating system before installing Oracle Real Application Clusters 11<span class="italic">g</span>.</p>
<p>If you are using Oracle Linux as your operating system, then you can use the Oracle Validated RPM system configuration script to configure your system.</p>
<p class="subhead2"><a id="TDPRC126"></a>To determine if the operating system requirements for Oracle Linux have been met:</p>
<ol>
<li>
<p>To determine which distribution and version of Linux is installed, run the following command at the operating system prompt as the <code>root</code> user:</p>
<pre>
# cat /proc/version
</pre></li>
<li>
<p>To determine which chip <a id="sthref85"></a><a id="sthref86"></a>architecture each server is using and which version of the software you should install, run the following command at the operating system prompt as the <code>root</code> user:</p>
<pre>
# uname -m
</pre>
<p>This command displays the processor type. For a 64-bit architecture, the output would be "x86_64".</p>
</li>
<li>
<p>To determine if the required errata level is installed, use the following procedure as the <code>root</code> user:</p>
<pre>
# uname -r
2.6.9-55.0.0.0.2.ELsmp
</pre>
<p><a id="sthref87"></a>Like most software, the Linux kernel is updated to fix bugs in the operating system. These kernel updates are referred to as erratum kernels or <span class="italic">errata levels</span>.</p>
<p>The output in the previous example shows that the kernel version is 2.6.9, and the errata level (EL) is 55.0.0.0.2.ELsmp. Review the required errata level for your distribution. If the errata level is below the required minimum errata level, then install the latest kernel update for your operating system. The kernel updates are available from your operating system vendor.</p>
</li>
<li>
<p><a id="sthref88"></a>To ensure there are no operating system issues affecting installation, make sure you have installed all the operating system patch updates and packages that are listed in <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform. If you are using Oracle Linux, then you can determine if the required <span class="italic">packages</span>, or programs that perform specific functions or calculations, are installed by using the following command as the <code>root</code> user:</p>
<pre>
# rpm -q <span class="italic">package_name</span>
</pre>
<p>The variable <code><span class="codeinlineitalic">package_name</span></code> is the name of the package you are verifying, such as <code>setarch</code>. If a package is not installed, then install it from your Linux distribution media or download the required package version from your Linux vendor's Web site.</p>
<p><a id="sthref89"></a><a id="sthref90"></a><a id="sthref91"></a>You can also use either <code>up2date</code> or YUM (Yellow dog Updater Modified) to install packages and their dependencies on some Linux systems. YUM uses repositories to automatically locate and obtain the correct RPM packages for your system.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#BHCCCAAE">"About Installing Oracle RAC on Different Operating Systems"</a></p>
</li>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
<li>
<p><a href="#CBHHJJDG">"About Configuring the Software Owner's Shell Environment"</a></p>
</li>
<li>
<p><a href="#BGBCJHIA">"About Performing Platform-Specific Configuration Tasks"</a></p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> and the <a class="olink RIGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=RIGEN"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> for your platform</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGFBACE"></a>
<div id="TDPRC127" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Preparing the Server<a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a><a id="sthref95"></a><a id="sthref96"></a><a id="sthref97"></a><a id="sthref98"></a></h2>
<p>After you have verified that your system meets the basic requirements for installing Oracle RAC, the next step is to configure the server in preparation for installation.</p>
<p>In this section, you perform the following tasks:</p>
<ul>
<li>
<p><a href="#CEGEAFAC">About Operating System Users and Groups</a></p>
</li>
<li>
<p><a href="#BABGFGBJ">Configuring Secure Shell</a></p>
</li>
<li>
<p><a href="#CBHHJJDG">About Configuring the Software Owner's Shell Environment</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
<li>
<p><a href="#CEGBAJCF">"About Configuring Kernel Parameters"</a></p>
</li>
<li>
<p><a href="#CBHHJJDG">"About Configuring the Software Owner's Shell Environment"</a></p>
</li>
<li>
<p><a href="#BGBCJHIA">"About Performing Platform-Specific Configuration Tasks"</a></p>
</li>
</ul>
</div>
<a id="CEGEAFAC"></a>
<div id="TDPRC128" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Operating System Users and Groups</h3>
<p>Depending on whether this is the first time Oracle software is being installed on this server, you may have to create operating system groups.</p>
<a id="CEGIHFJJ"></a>
<div id="TDPRC129" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Required Operating System Users and Groups</h4>
<p>To install the Oracle Grid Infrastructure for a cluster software and Oracle RAC, you must create the following operating system groups and users:</p>
<ul>
<li>
<p><a id="sthref99"></a><a id="sthref100"></a>The Oracle Inventory group (typically, <code>oinstall</code>) for all installations. The Oracle Inventory group must be the primary group for Oracle software installation owners. Members of the Oracle Inventory group have access to the Oracle Inventory directory. This directory is the central inventory record of all Oracle software installations on a server and the installation logs and trace files from each installation.</p>
</li>
<li>
<p>An Oracle software owner. This is the user account you use when installing the software.</p>
<p><a id="sthref101"></a><a id="sthref102"></a><a id="sthref103"></a><a id="sthref104"></a>If you want to use a single software owner for all installations, then typically the user name is <code>oracle</code>. If you plan to install the Oracle Grid Infrastructure for a cluster and the Oracle RAC software using separate software owners to separate Oracle Grid Infrastructure for a cluster administrative privileges from Oracle Database administrative privileges, then typically you would use <code>grid</code> for the Oracle Grid Infrastructure for a cluster software owner and <code>oracle</code> for the Oracle RAC software owner.</p>
</li>
<li>
<p><a id="sthref105"></a><a id="sthref106"></a>The OSDBA group (typically, <code>dba</code>) for Oracle Database authentication.</p>
<p>The OSDBA group is a system privileges group whose members are granted the SYSDBA privilege to administer Oracle Database and the SYSASM privilege to administer Oracle Clusterware and Oracle ASM. To provide fine-grained control of administrative privileges you can create multiple operating system groups as described in <a href="#CEGBBBBF">"Optional Operating System Users and Groups"</a>.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If installing Oracle RAC on Microsoft Windows, then OUI automatically creates the <code>ORA_DBA</code> group for authenticating SYSDBA access. Also, if you install the Oracle RAC software while logged in to an account with administrative privileges, then you do not have to create a separate user for the installation.</div>
<p>If you use one installation owner for both Oracle Grid Infrastructure for a cluster and Oracle RAC, then when you want to perform administration tasks, you must change the value for <code>ORACLE_HOME</code> environment variable to match the instance you want to administer (Oracle ASM, in the Grid home, or a database instance in the Oracle home). To change the <code>ORACLE_HOME</code> environment variable, use a command syntax similar to the following example, where <code>/u01/app/11.2.0/grid</code> is the Oracle Grid Infrastructure for a cluster home:</p>
<pre>
ORACLE_HOME=/u01/app/11.2.0/grid; export ORACLE_HOME
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You no longer can have separate Oracle Clusterware and Oracle ASM home directories.</div>
<p>If you try to administer an instance using <code>sqlplus</code>, <code>lsnrctl</code>, or <code>asmcmd</code> commands while <code>ORACLE_HOME</code> is set to a different binary path, then you will encounter errors. The Oracle home path does not affect <code>srvctl</code> commands.</p>
</div>
<!-- class="sect3" -->
<div id="TDPRC559" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref107"></a>
<h4 class="sect3">Separate Operating System Users and Groups for Oracle Software Installations</h4>
<p>Instead of using a single operating system user as the owner of every Oracle software installation, you can use multiple users, each owning one or more Oracle software installations. A user created to own only the Oracle Grid Infrastructure for a cluster installation is called the <code>grid</code> user. This user owns both the Oracle Clusterware and Oracle Automatic Storage Management binaries. A user created to own either all Oracle software installations (including Oracle Grid Infrastructure for a cluster), or only Oracle Database software installations, is called the <code>oracle</code> user.</p>
<p>You can also use different users for each Oracle Database software installation. Additionally, you can specify a different OSDBA group for each Oracle Database software installation. By using different operating system groups for authenticating administrative access to each Oracle Database installation, users have <code>SYSDBA</code> privileges for the databases associated with their OSDBA group, rather than for all the databases on the system.</p>
<p>Members of the OSDBA group can also be granted the <code>SYSASM</code> system privilege, which gives them administrative access to Oracle ASM. As described in the next section, you can configure a separate operating system group for Oracle ASM authentication to separate users with <code>SYSASM</code> access to the Oracle ASM instances from users with <code>SYSDBA</code> access to the database instances.</p>
<p>If you want to create separate Oracle software owners so you can use separate users and operating system privilege groups for the different Oracle software installations, then note that each of these users must have the Oracle central inventory group (<code>oinstall</code>) as their primary group. Members of this group have the required write privileges to the Oracle Inventory directory.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle Grid Infrastructure for a cluster software installation can be owned by only one user. You cannot have one user that owns the Oracle Clusterware software installation and a different user that owns the Oracle ASM software installation.</div>
</div>
<!-- class="sect3" -->
<a id="CEGBBBBF"></a>
<div id="TDPRC130" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Optional Operating System Users and Groups</h4>
<p>You can create additional users and groups to divide administrative access privileges to the Oracle Grid Infrastructure for a cluster installation from other administrative users and groups associated with other Oracle installations. Separating administrative access is implemented by specifying membership in different operating system groups, and separating installation privileges is implemented by using different installation owners for each Oracle installation.</p>
<p>The optional users and groups you can create are:</p>
<ul>
<li>
<p><a id="sthref108"></a><a id="sthref109"></a>The Oracle Automatic Storage Management Group, or OSASM group (typically <code>asmadmin</code>). Create this group as a separate group if you want to have separate administration privilege groups for Oracle ASM and Oracle Database administrators. Members of the OSASM group can use SQL to connect to an Oracle ASM instance as <code>SYSASM</code> using operating system authentication. The <code>SYSASM</code> privileges permit mounting and dismounting disk groups, and other storage administration tasks. <code>SYSASM</code> privileges do not provide access privileges to an Oracle Database instance. If you do not create a separate OSASM group, then the OSDBA group (<code>dba)</code> is the OSASM group.</p>
</li>
<li>
<p>The ASM Database Administrator group (OSDBA for ASM group, typically <code>asmdba</code>). Members of the OSDBA group for Oracle ASM are granted read and write access to files managed by Oracle ASM. The Oracle Grid Infrastructure for a cluster installation owner and all Oracle Database software owners (for example, <code>oracle</code>) must be a member of this group, and all users with OSDBA membership for databases that require access to the files managed by Oracle ASM should be members of the OSDBA for ASM group.</p>
</li>
<li>
<p><a id="sthref110"></a><a id="sthref111"></a>The OSOPER for Oracle Database group (typically, <code>oper</code>). Create this group if you want certain operating system users to have a limited set of database administrative privileges (the <code>SYSOPER</code> privilege). Members of the OSDBA group automatically have all privileges granted by the <code>SYSOPER</code> privilege.</p>
</li>
<li>
<p>The OSOPER for Oracle ASM group (typically <code>asmoper</code>). Members of this group are granted access to a subset of the <code>SYSASM</code> privileges, such as starting and stopping the Oracle ASM instance.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BCGFEGIF"></a>
<div id="TDPRC131" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Operating System Users and Groups</h3>
<p>In this guide, a single software owner is used for all installations, named <code>oracle</code>. The <code>oracle</code> user belongs to the <code>oinstall</code> and <code>dba</code> operating system groups.</p>
<p class="subhead2"><a id="TDPRC132"></a>To create one software owner with all operating system-authenticated administration privileges:</p>
<ol>
<li>
<p>Determine the groups that exist on your server by listing the contents of the <code>/etc/group</code> file.</p>
<pre>
cat /etc/group
</pre></li>
<li>
<p>If this is the first time Oracle software has been installed on your server, and the Oracle Inventory group does not exist, then create the Oracle Inventory group (<code>oinstall</code>) with a group ID that is currently not in use on all the nodes in your cluster. Enter a command as the <code>root</code> user that is similar to the following:</p>
<pre>
# /usr/sbin/groupadd -g 1000 oinstall
</pre></li>
<li>
<p>Create an OSDBA (<code>dba</code>) group with a group ID that is currently not in use on all the nodes in your cluster by entering a command as the <code>root</code> user that is similar to the following:</p>
<pre>
# /usr/sbin/groupadd -g 1001 dba
</pre></li>
<li>
<p><a id="sthref112"></a>If the user that owns the Oracle software (<code>oracle</code>) does not exist on your server, then you must create the user. Select a user ID (UID) that is currently not in use on all the nodes in your cluster. To determine which users have been created on your server, list the contents of the <code>/etc/passwd</code> file using the command:</p>
<pre>
cat /etc/passwd
</pre>
<p>The following command shows how to create the <code>oracle</code> user and the user's home directory (<code>/home/oracle</code>) with the default group as <code>oinstall</code> and the secondary group as <code>dba</code>, using a UID of 1100:</p>
<pre>
# useradd -u 1100 &ndash;g oinstall -G dba -d /home/oracle -r oracle
</pre></li>
<li>
<p>Set the password for the <code>oracle</code> account using the following command. Replace <code><span class="codeinlineitalic">password</span></code> with your own password.</p>
<pre>
passwd oracle

Changing password for user oracle.
New UNIX password: <span class="italic">password</span> 
retype new UNIX password: <span class="italic">password</span>
passwd:  all authentication tokens updated successfully.
</pre></li>
<li>
<p>Repeat Step 1 through Step 5 on each node in your cluster.</p>
</li>
<li>
<p>Verify that the attributes of the user <code>oracle</code> are identical on each node of your cluster:</p>
<pre>
id oracle 
</pre>
<p>The command output should be similar to the following:</p>
<pre>
uid=1100(oracle) gid=1000(oinstall) groups=1000(oinstall),1001(dba)
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBCDG">"Configuring Installation Directories and Shared Storage"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#BHCEEHFD">"About Oracle Automatic Storage Management"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABGFGBJ"></a>
<div id="TDPRC133" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Secure Shell</h3>
<p><a id="sthref113"></a>To install Oracle software, Secure Shell (SSH) connectivity must be set up between all cluster member nodes. OUI uses the <code>ssh</code> and <code>scp</code> commands during installation to run remote commands on and copy files to the other cluster nodes. You must configure SSH so that these commands do not prompt for a password. SSH is also used by the configuration assistants, Enterprise Manager, and when adding nodes to the cluster.</p>
<p><a id="sthref114"></a><a id="sthref115"></a>You can configure SSH from the Oracle Universal Installer (OUI) interface during installation for the user account running the installation. The automatic configuration creates passwordless SSH connectivity between all cluster member nodes.</p>
<p>To enable the script to run, you must remove <code>stty</code> commands from the profiles of any Oracle software installation owners, and remove other security measures that are triggered during a login, and that generate messages to the terminal. These messages, mail checks, and other displays prevent Oracle software installation owners from using the SSH configuration script that is built into the Oracle Universal Installer. If they are not disabled, then SSH must be configured manually before an installation can be run.</p>
<p>On Linux systems, to enable Oracle Universal Installer to use the <code>ssh</code> and <code>scp</code> commands without being prompted for a pass phrase, you must have user equivalency in the cluster. <a id="sthref116"></a>User equivalency exists in a cluster when the following conditions exist on <span class="italic">all</span> nodes in the cluster:</p>
<ul>
<li>
<p>A given user has the same user name, user ID (UID), and password.</p>
</li>
<li>
<p>A given user belongs to the same groups.</p>
</li>
<li>
<p>A given group has the same group ID (GID).</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BCGFEGIF">"Configuring Operating System Users and Groups"</a> for information about configuring user equivalency</p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform for more information about manually configuring SSH</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CBHHJJDG"></a>
<div id="TDPRC134" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Configuring the Software Owner's Shell Environment</h3>
<p><a id="sthref117"></a>On Oracle Linux, you run Oracle Universal Installer (OUI) from the <code>oracle</code> account. OUI obtains information from the environment variables configured for the <code>oracle</code> user. Before running OUI, you must make the following changes to the Oracle Grid Infrastructure for a cluster software owner's shell startup file:</p>
<ul>
<li>
<p>Set the default file mode creation mask (<code>umask</code>) of the installation user (<code>oracle</code>) to 022 in the shell startup file. Setting the mask to 022 ensures that the user performing the software installation creates files with 644 permissions.</p>
</li>
<li>
<p>Set <code>ulimit</code> settings for file descriptors (<code>nofile</code>) and processes (<code>nproc</code>) for the installation user (<code>oracle</code>).</p>
</li>
<li>
<p>Set the software owner's environment variable <code>DISPLAY</code> environment variables in preparation for the Oracle Grid Infrastructure for a cluster installation.</p>
</li>
<li>
<p>Remove any lines in the file that set values for <code>ORACLE_SID</code>, <code>ORACLE_HOME</code>, or <code>ORACLE_BASE</code> environment variables.</p>
</li>
</ul>
<p>After you have saved your changes, run the shell startup script to configure the environment.</p>
<p>Also, if the <code>/tmp</code> directory has less than 1 GB of available disk space, but you have identified a different, non-shared file system that has at least 1 GB of available space, then you can set the <code>TEMP</code> and <code>TMPDIR</code> environment variables to specify the alternate temporary directory on this file system.</p>
<p>To review your current environment settings, use the <code>env | more</code> command as the <code>oracle</code> user.</p>
<p>Refer to the <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform for more information on how to configure the Oracle software owner environment before installation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Remove any <code>stty</code> commands from hidden files (such as logon or profile scripts) before you start the installation. On Linux systems, if there are any such files that contain <code>stty</code> commands, then when these files are loaded by the remote shell during installation, OUI indicates an error and stops the installation.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGEAFAC">"About Operating System Users and Groups"</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
<li>
<p><a href="#CEGFBCDG">"Configuring Installation Directories and Shared Storage"</a></p>
</li>
<li>
<p><a href="#CEGCDCAE">"About Setting the Time on All Nodes"</a></p>
</li>
<li>
<p><a href="#BGBCJHIA">"About Performing Platform-Specific Configuration Tasks"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGEEEGI"></a>
<div id="TDPRC135" class="sect1">
<h2 class="sect1">Configuring the Network</h2>
<p>Oracle Database 11<span class="italic">g</span> release 2 (11.2) clients connect to the database using a single client access name (SCAN). The SCAN and its associated IP addresses provide a stable name for clients to use for connections, independent of the nodes that form the cluster. A SCAN works by being able to resolve to multiple IP addresses referencing multiple listeners in the cluster that handle public client connections. These listeners, called SCAN listeners, are created during installation.</p>
<p class="subhead2"><a id="TDPRC136"></a>To configure the network in preparation for installing Oracle Grid Infrastructure for a cluster:</p>
<ol>
<li>
<p>Determine your cluster name. The cluster name should satisfy the following conditions:</p>
<ul>
<li>
<p>The cluster name is globally unique throughout your host domain.</p>
</li>
<li>
<p>The cluster name is at least one character long and less than 15 characters long.</p>
</li>
<li>
<p>The cluster name must consist of the same character set used for host names: single-byte alphanumeric characters (a to z, A to Z, and 0 to 9) and hyphens (-).</p>
</li>
<li>
<p>If you use third-party vendor clusterware, then Oracle recommends that you use the vendor cluster name.</p>
</li>
</ul>
</li>
<li>
<p>Determine the public host name and virtual host name for each node in the cluster.</p>
<ul>
<li>
<p>For the public host name, use the primary host name of each node. In other words, use the name displayed by the <code>hostname</code> command. This host name can be either the permanent or the virtual host name, for example: <code>racnode1</code>.</p>
</li>
<li>
<p>Determine a virtual host name for each node. A virtual host name is a public node name that is used to reroute client requests sent to the node if the node is down. Oracle recommends that you provide a name in the format <code><span class="codeinlineitalic">&lt;public hostname&gt;</span></code><code>-vip</code>, for example: <code>racnode1-vip</code>.</p>
</li>
</ul>
</li>
<li>
<p>Identify the interface names and associated IP addresses for all network adapters by executing the following command on each node:</p>
<pre>
# /sbin/ifconfig
</pre>
<p>From the output, identify the interface name (such as <code>eth0</code>) and IP address for each network adapter you specify as a public network interface.</p>
<p>If your operating system supports a graphic user interface (GUI) for modifying the system configuration, then you can also use the following command to start a GUI that you can use to configure the network adapters and <code>/etc/hosts</code> file:</p>
<pre>
/usr/bin/system-config-network &amp;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you install Oracle Clusterware and Oracle RAC, you are asked to provide the interface name and IP address for each network adapter.</div>
</li>
<li>
<p>On each node in the cluster, assign a public IP address with an associated network name to one network adapter. <a id="sthref118"></a>The public name for each node should be registered with your domain name system (DNS). IP addresses on the subnet you identify as private are assigned as private IP addresses for cluster member nodes. You do not have to configure these addresses manually in the <code>/etc/hosts</code> file.</p>
<p>You can test whether an interconnect interface is reachable using a <code>ping</code> command.</p>
</li>
<li>
<p>On each node in the cluster, configure a third IP address that serves as a virtual IP address. Use an IP address that meets the following requirements:</p>
<ul>
<li>
<p>The virtual IP address and the network name must <span class="italic">not</span> be currently in use.</p>
</li>
<li>
<p>The virtual IP address must be on the <span class="italic">same</span> subnet as your public IP address.</p>
</li>
</ul>
<p>The virtual host name for each node should be registered with your DNS.</p>
</li>
<li>
<p>Define a SCAN that resolves to three IP addresses in your DNS.</p>
</li>
<li>
<p>When you complete the network configuration, the IP address and network interface configuration should be similar to what is shown in <a href="#BCGJBBGE">Table 2-1</a> (your node names and IP addresses might be different):</p>
<div id="TDPRC155" class="tblformal">
<p class="titleintable"><a id="sthref119"></a><a id="BCGJBBGE"></a>Table 2-1 Manual Network Configuration Example</p>
<table class="cellalignment404" title="Manual Network Configuration Example" summary="This table shows a manual configuration example of network names and IP Addresses for the public, private, virtual IP, and SCAN addresses." >
<thead>
<tr class="cellalignment393">
<th class="cellalignment403" id="r1c1-t24">Identity</th>
<th class="cellalignment403" id="r1c2-t24">Home Node</th>
<th class="cellalignment403" id="r1c3-t24">Host Node</th>
<th class="cellalignment403" id="r1c4-t24">Given Name</th>
<th class="cellalignment403" id="r1c5-t24">Type</th>
<th class="cellalignment403" id="r1c6-t24">Address</th>
<th class="cellalignment403" id="r1c7-t24">Address Assigned By</th>
<th class="cellalignment403" id="r1c8-t24">Resolved By</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment393">
<td class="cellalignment399" id="r2c1-t24" headers="r1c1-t24">
<p>Node 1 Public</p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c2-t24">
<p>Node 1</p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c3-t24">
<p><code>racnode1</code></p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c4-t24">
<p><code>racnode1</code><a id="BCGHBFHB" href="#BCGHBFHB" onclick='footdisplay(1,"Node host names may resolve to multiple addresses.")'><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c5-t24">
<p>Public</p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c6-t24">
<p>192.0.2.101</p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r2c1-t24 r1c8-t24">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r3c1-t24" headers="r1c1-t24">
<p>Node 1 VIP</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c2-t24">
<p>Node 1</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c3-t24">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c4-t24">
<p><code>racnode1-vip</code></p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c5-t24">
<p>Virtual</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c6-t24">
<p>192.0.2.104</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r3c1-t24 r1c8-t24">
<p>DNS, hosts file</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r4c1-t24" headers="r1c1-t24">
<p>Node 1 Private</p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c2-t24">
<p>Node 1</p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c3-t24">
<p><code>racnode1</code></p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c4-t24">
<p><code>racnode1-priv</code></p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c5-t24">
<p>Private</p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c6-t24">
<p>192.168.0.1</p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r4c1-t24 r1c8-t24">
<p>DNS, hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r5c1-t24" headers="r1c1-t24">
<p>Node 2 Public</p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c2-t24">
<p>Node 2</p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c3-t24">
<p><code>racnode2</code></p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c4-t24">
<p><code>racnode2</code><a id="sthref120" href="#sthref120" onclick='footdisplay(1,"Node host names may resolve to multiple addresses.")'><sup class="footnotenumber">Footref&nbsp;1</sup></a></p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c5-t24">
<p>Public</p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c6-t24">
<p>192.0.2.102</p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r5c1-t24 r1c8-t24">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r6c1-t24" headers="r1c1-t24">
<p>Node 2 VIP</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c2-t24">
<p>Node 2</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c3-t24">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c4-t24">
<p><code>racnode2-vip</code></p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c5-t24">
<p>Virtual</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c6-t24">
<p>192.0.2.105</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r6c1-t24 r1c8-t24">
<p>DNS, hosts file</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r7c1-t24" headers="r1c1-t24">
<p>Node 2 Private</p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c2-t24">
<p>Node 2</p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c3-t24">
<p><code>racnode2</code></p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c4-t24">
<p><code>racnode2-priv</code></p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c5-t24">
<p>Private</p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c6-t24">
<p>192.168.0.2</p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r7c1-t24 r1c8-t24">
<p>DNS, hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r8c1-t24" headers="r1c1-t24">
<p>SCAN VIP 1</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c2-t24">
<p>none</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c3-t24">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c4-t24">
<p><code>docrac-scan</code></p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c5-t24">
<p>virtual</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c6-t24">
<p>192.0.2.201</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r8c1-t24 r1c8-t24">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r9c1-t24" headers="r1c1-t24">
<p>SCAN VIP 2</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c2-t24">
<p>none</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c3-t24">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c4-t24">
<p><code>docrac-scan</code></p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c5-t24">
<p>virtual</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c6-t24">
<p>192.0.2.202</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r9c1-t24 r1c8-t24">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r10c1-t24" headers="r1c1-t24">
<p>SCAN VIP 3</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c2-t24">
<p>none</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c3-t24">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c4-t24">
<p><code>docrac-scan</code></p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c5-t24">
<p>virtual</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c6-t24">
<p>192.0.2.203</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c7-t24">
<p>Fixed</p>
</td>
<td class="cellalignment399" headers="r10c1-t24 r1c8-t24">
<p>DNS</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>Node host names may resolve to multiple addresses.</p>
<p>Even if you are using a DNS, Oracle recommends that you add lines to the <code>/etc/hosts</code> file on each node, specifying the public IP addresses. Configure the <code>/etc/hosts</code> file so that it is similar to the following example:</p>
<pre>
#eth0 - PUBLIC
192.0.2.100       racnode1.example.com       racnode1
192.0.2.101       racnode2.example.com       racnode2
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Make a note of the addresses you configured in the <code>/etc/hosts</code> file or registered with DNS. When you install Oracle Grid Infrastructure for a cluster and Oracle RAC, you are prompted for the public, virtual IP, and SCAN addresses.
<p>Oracle strongly recommends that you do not configure SCAN VIP addresses in the <code>hosts</code> file. Use DNS resolution for SCAN VIPs.</p>
</div>
<p>The fully qualified SCAN for the cluster defaults to <code><span class="codeinlineitalic">cluster_name</span></code><code>-scan.</code><code><span class="codeinlineitalic">GNS_subdomain_name</span></code>, for example <code>docrac-scan.example.com</code>. The short SCAN for the cluster is <code>docrac-scan</code>. You can use any name for the SCAN, if it is unique within your network and conforms to the RFC 952 standard.</p>
</li>
<li>
<p>If you configured the IP addresses in a DNS server, then, as the <code>root</code> user, change the hosts search order in <code>/etc/nsswitch.conf</code> on all nodes as shown here:</p>
<p>Old:</p>
<pre>
hosts:  files nis dns
</pre>
<p>New:</p>
<pre>
hosts:  dns files nis
</pre></li>
<li>
<p>After modifying the <code>nsswitch.conf</code> file, restart the <code>nscd</code> daemon on each node using the following command:</p>
<pre>
# /sbin/service nscd restart
</pre></li>
</ol>
<p>After you have completed the installation process, configure clients to use the SCAN to access the cluster. Using the previous example, the clients would use <code>docrac-scan</code> to connect to the cluster.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBCFFEB">"About Network Hardware Requirements"</a></p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform</p>
</li>
</ul>
</div>
<a id="CEGIBCAG"></a>
<div id="TDPRC137" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Verifying the Network Configuration</h3>
<p>After you have configured the network, perform verification tests to make sure it is configured properly. If there are problems with the network connection between nodes in the cluster, then the Oracle Clusterware installation fails.</p>
<p class="subhead2"><a id="TDPRC138"></a>To verify the network configuration on a two-node cluster that is running Oracle Linux:</p>
<ol>
<li>
<p>As the <code>root</code> user, verify the configuration of the public and private networks. Verify that the interfaces are configured on the same network (either private or public) on all nodes in your cluster.</p>
<p>In this example, <code>eth0</code> is used for the public network and <code>eth1</code> is used for the private network on each node.</p>
<pre>
# /sbin/ifconfig
 
eth0      Link encap:Ethernet  HWaddr 00:0E:0C:08:67:A9  
          inet addr: 192.0.2.100   Bcast:192.0.2.255   Mask:255.255.240.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:270332689 errors:0 dropped:0 overruns:0 frame:0
          TX packets:112346591 errors:2 dropped:0 overruns:0 carrier:2
          collisions:202 txqueuelen:1000 
          RX bytes:622032739 (593.2 MB)  TX bytes:2846589958 (2714.7 MB)
          Base address:0x2840 Memory:fe7e0000-fe800000 
 
eth1      Link encap:Ethernet  HWaddr 00:04:23:A6:CD:59  
          inet addr: 10.10.10.11   Bcast: 10.10.10.255   Mask:255.255.240.0   
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:21567028 errors:0 dropped:0 overruns:0 frame:0
          TX packets:15259945 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:4091201649 (3901.6 MB)  TX bytes:377502797 (360.0 MB)
          Base address:0x2800 Memory:fe880000-fe8a0000 
</pre></li>
<li>
<p>As the <code>root</code> user, verify the network configuration by using the <code>ping</code> command to test the connection from each node in your cluster to all the other nodes. For example, as the <code>root</code> user, you might run the following commands on each node:</p>
<pre>
# ping -c 3 racnode1.example.com
# ping -c 3 racnode1
 
# ping -c 3 racnode2.example.com
# ping -c 3 racnode2
</pre>
<p>You should not get a response from the nodes using the <code>ping</code> command for the virtual IPs (<code>racnode1-vip</code>, <code>racnode2-vip</code>) or the SCAN IPs until after Oracle Clusterware is installed and running. If the <code>ping</code> commands for the public addresses fail, then resolve the issue before you proceed.</p>
</li>
<li>
<p>Ensure that you can access the default gateway with a <code>ping</code> command. To identify the default gateway, use the <code>route</code> command, as described in the Oracle Linux Help utility.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="racmon2.htm#CACEFDJG">"Checking the Settings for the Interconnect"</a></p>
</li>
<li>
<p><a href="#CEGEEEGI">"Configuring the Network"</a></p>
</li>
<li>
<p><a href="#BGBCFFEB">"About Network Hardware Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGDDDEC"></a>
<div id="TDPRC139" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Preparing the Operating System and Software</h2>
<p>When you install the Oracle software on your server, Oracle Universal Installer expects the operating system to have specific packages and software applications installed.</p>
<p>This section covers the following topics:</p>
<ul>
<li>
<p><a href="#CEGCDCAE">About Setting the Time on All Nodes</a></p>
</li>
<li>
<p><a href="#CEGBAJCF">About Configuring Kernel Parameters</a></p>
</li>
<li>
<p><a href="#BGBCJHIA">About Performing Platform-Specific Configuration Tasks</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGHCIHI">"Verifying Operating System and Software Requirements"</a></p>
</li>
</ul>
</div>
<a id="CEGCDCAE"></a>
<div id="TDPRC140" class="sect2">
<h3 class="sect2">About Setting the Time on All Nodes</h3>
<p><a id="sthref121"></a>Before starting the installation, ensure that the date and time settings on all the cluster nodes are set as closely as possible to the same date and time. A cluster time synchronization mechanism ensures that the internal clocks of all the cluster members are synchronized. For Oracle RAC on Linux, you can use either the Network Time Protocol (NTP) or the Oracle Cluster Time Synchronization Service.</p>
<p><a id="sthref122"></a>NTP is a protocol designed to synchronize the clocks of servers connected by a network. When using NTP, each server on the network runs client software to periodically make timing requests to one or more servers, referred to as reference NTP servers. The information returned by the timing request is used to adjust the server's clock. All the nodes in your cluster should use the same reference NTP server.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use NTP on Linux or UNIX platforms, then you must configure it using the <code>-x</code> flag. See the <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform for details on how to configure NTP.</div>
<p><a id="sthref123"></a>If you do not configure NTP, then Oracle configures and uses the Cluster Time Synchronization Service (CTSS). CTSS can also be used to synchronize the internal clocks of all the members in the cluster. CTSS keeps the member nodes of the cluster synchronized. CTSS designates the first node in the cluster as the master and then synchronizes all other nodes in the cluster to have the same time as the master node. CTSS does not use any external clock for synchronization.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Using NTP or CTSS does not protect your system against human error resulting from a change in the system time for a node.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CEGBAJCF"></a>
<div id="TDPRC141" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Configuring Kernel Parameters<a id="sthref124"></a><a id="sthref125"></a></h3>
<p>OUI checks the current settings for various kernel parameters to ensure they meet the minimum requirements for deploying Oracle RAC. For production database systems, Oracle recommends that you tune the settings to optimize the performance of your particular system.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you find parameter settings or shell limit values on your system that are greater than the values mentioned by OUI, then <span class="italic">do not</span> modify the parameter setting.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BGBCJHIA"></a>
<div id="TDPRC142" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Performing Platform-Specific Configuration Tasks</h3>
<p>You may be required to perform special configuration steps that are specific to the operating system on which you are installing Oracle RAC, or for the components used with your cluster. The following list provides examples of operating-specific installation tasks:</p>
<ul>
<li>
<p>Configure the use of Huge Pages on SUSE Linux, Red Hat Enterprise Linux, or Oracle Linux.</p>
</li>
<li>
<p>Set shell limits for the <code>oracle</code> user on Red Hat Linux or Oracle Linux systems to increase the number of files and processes available to Oracle Clusterware and Oracle RAC.</p>
</li>
<li>
<p>Create X library symbolic links on HP-UX.</p>
</li>
<li>
<p>Configure network tuning parameters on AIX Based Systems.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CEGFBACE">"Preparing the Server"</a></p>
</li>
<li>
<p><a href="#CEGDDDEC">"Preparing the Operating System and Software"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#BHCCCAAE">"About Installing Oracle RAC on Different Operating Systems"</a></p>
</li>
<li>
<p><span class="italic">Oracle Grid Infrastructure Installation Guide</span> for your platform</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGFBCDG"></a>
<div id="TDPRC143" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring Installation Directories and Shared Storage</h2>
<p>Oracle RAC requires access to a shared file system for storing Oracle Clusterware files. You must also determine where the Oracle software and database files will be installed.</p>
<p><a id="sthref126"></a>This section describes the storage configuration tasks that you must complete before you start Oracle Universal Installer. It includes information about the following topics:</p>
<ul>
<li>
<p><a href="#BCGICJFA">Locating the Oracle Inventory Directory</a></p>
</li>
<li>
<p><a href="#BGBGEJGJ">Creating the Oracle Grid Infrastructure for a Cluster Home Directory</a></p>
</li>
<li>
<p><a href="#CHDHCFAC">Creating the Oracle Base Directory</a></p>
</li>
<li>
<p><a href="#BCGHFEDG">About the Oracle Home Directory</a></p>
</li>
<li>
<p><a href="#BGBBBIFJ">Configuring Shared Storage</a></p>
</li>
<li>
<p><a href="#BCGICEDG">Configuring Files on an NAS Device for Use with Oracle ASM</a></p>
</li>
<li>
<p><a href="#BCGDEIFE">Using ASMLib to Mark the Shared Disks as Candidate Disks</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Additional configuration is required to use the Oracle Automatic Storage Management library Driver (ASMLIB) with third party vendor multipath disks.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBHDFAG">"Verifying System Requirements"</a></p>
</li>
<li>
<p><a href="#CEGEAFAC">"About Operating System Users and Groups"</a></p>
</li>
<li>
<p><a href="#CHDDBGGG">"About Hardware Requirements"</a></p>
</li>
<li>
<p>Chapter 3 in <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform</p>
</li>
</ul>
</div>
<a id="BCGICJFA"></a>
<div id="TDPRC144" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Locating the Oracle Inventory Directory</h3>
<p>The Oracle Inventory (<code>oraInventory</code>) directory is the central inventory record of all Oracle software installations on a server. The <code>oraInventory</code> directory contains the following:</p>
<ul>
<li>
<p>A registry of the Oracle home directories (Oracle Grid Infrastructure for a cluster and Oracle Database) on the system</p>
</li>
<li>
<p>Installation logs and trace files from installations of Oracle software. These files are also copied to the respective Oracle homes for future reference</p>
</li>
</ul>
<p>The <code>oraInventory</code> directory is created by OUI during installation.By default, the Oracle Inventory directory is not installed under the Oracle Base directory. This is because all Oracle software installations share a common Oracle Inventory, so there is only one Oracle Inventory for all users, whereas each user that performs a software installation can use a separate Oracle base directory.</p>
<p>If you have an existing Oracle Inventory, then ensure that you use the same Oracle Inventory for all Oracle software installations, and ensure that all Oracle software users you intend to use for installation have permissions to write to this directory.</p>
<p class="subhead2"><a id="TDPRC560"></a>To determine if you have an Oracle central inventory directory (oraInventory) on your system:</p>
<ol>
<li>
<p>Run the following command to check for an existing Oracle Inventory directory:</p>
<pre>
# more /etc/oraInst.loc
</pre></li>
<li>
<p>If the <code>oraInst.loc</code> file exists, then the output from this command is similar to the following:</p>
<pre>
inventory_loc=/u01/app/oraInventory
inst_group=oinstall
</pre>
<p>In the previous output example:</p>
<ul>
<li>
<p>The <code>inventory_loc</code> group shows the location of the Oracle Inventory.</p>
</li>
<li>
<p>The <code>inst_group</code> parameter shows the name of the Oracle Inventory group (in this example, <code>oinstall</code>).</p>
</li>
</ul>
</li>
<li>
<p>If the Oracle Inventory directory does not exist, then the command returns an error message indicating that the file or directory does not exist.</p>
<p>If the Oracle Inventory directory does not exist, then you do not have to create one before installing the Oracle software.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BGBGEJGJ"></a>
<div id="TDPRC145" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating the Oracle Grid Infrastructure for a Cluster Home Directory</h3>
<p>During installation, you are prompted to provide a path to a home directory to store Oracle Grid Infrastructure for a cluster binaries. OUI installs Oracle Clusterware and Oracle ASM into a directory referred to as <a id="sthref127"></a><code><span class="codeinlineitalic">Grid_home</span></code>. Ensure that the directory path you provide meets the following requirements:</p>
<ul>
<li>
<p>It should be created in a path outside existing Oracle homes.</p>
</li>
<li>
<p>It should not be located in a user home directory.</p>
</li>
<li>
<p>It should be created either as a subdirectory in a path where all files can be owned by <code>root</code>, or in a unique path.</p>
</li>
<li>
<p>If you create the path before installation, then it should be owned by the installation owner of Oracle Grid Infrastructure for a cluster (<code>oracle</code> or <code>grid</code>), and set to 775 permissions.</p>
</li>
</ul>
<p><a id="sthref128"></a>Before you start the installation, you must have sufficient disk space on a file system for the Oracle Grid Infrastructure for a cluster directory. The file system that you use for the Grid home directory must have at least 4.5 GB of available disk space.</p>
<p>The path to the Grid home directory must be the same on all nodes. As the <code>root</code> user, you should create a path compliant with Oracle Optimal Flexible Architecture (OFA) guidelines, so that OUI can select that directory during installation.</p>
<p class="subhead2"><a id="TDPRC165"></a>To create the Grid home directory:</p>
<p>To create the Grid home directory as the <code>root</code> user, enter the following commands:</p>
<pre>
# mkdir -p /u01/app/11.2.0/grid
# chown -R oracle:oinstall /u01/app/11.2.0/grid
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Ensure the Grid home directory is not a subdirectory of the Oracle base directory. Installing Oracle Clusterware in an Oracle base directory causes installation errors.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CHDDBGGG">"About Hardware Requirements"</a></p>
</li>
<li>
<p><a href="#BGBBBIFJ">"Configuring Shared Storage"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDHCFAC"></a>
<div id="TDPRC146" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating the Oracle Base Directory</h3>
<p><a id="sthref129"></a><a id="sthref130"></a><a id="sthref131"></a>Oracle Universal Installer (OUI) creates the Oracle base directory for you in the location you specify. This directory is owned by the user performing the installation. The Oracle base directory (<code>ORACLE_BASE</code>) helps to facilitate the organization of Oracle installations, and helps to ensure that installations of multiple databases maintain an Optimal Flexible Architecture (OFA) configuration. OFA guidelines recommend that you use a path similar to the following for the Oracle base directory:</p>
<pre>
/<span class="italic">mount_point</span>/app/<span class="italic">user</span>
</pre>
<p>In the preceding path example, the variable <code><span class="codeinlineitalic">mount_point</span></code> is the mount point directory for the file system where you intend to install the Oracle software and <code><span class="codeinlineitalic">user</span></code> is the Oracle software owner (typically <code>oracle</code>). For OUI to recognize the path as an Oracle software path, it must be in the form <code>u0[1-9]/app</code>, for example, <code>/u01/app</code>.</p>
<p>The path to the Oracle base directory must be the same on all nodes. The permissions on the Oracle base directory should be at least 750.</p>
<p class="subhead2"><a id="TDPRC561"></a>Example: Creating an Oracle Base Directory</p>
<p>Before installing any Oracle software, you must configure an Oracle base directory, which is used to determine the location of the Oracle Inventory directory, also for installing Oracle RAC.</p>
<p>Assume you have determined that the file system mounted as <code>/u01</code> has sufficient room for both the Oracle Grid Infrastructure for a cluster software and the Oracle RAC software. You have decided to make the <code>/u01/app/oracle/</code> directory the Oracle base directory. The <code>oracle</code> user is used to install all the Oracle software.</p>
<p class="subhead2"><a id="TDPRC148"></a>To create the Oracle base directory:</p>
<ol>
<li>
<p>Log in as the <code>root</code> user.</p>
</li>
<li>
<p>Use the <code>mkdir</code> command to create the path to the Oracle base directory.</p>
<pre>
# mkdir -p /u01/app/oracle/
</pre></li>
<li>
<p>Change the ownership of the Oracle base path to the Oracle software owner, <code>oracle</code>.</p>
<pre>
# chown -R oracle:oinstall /u01/app/oracle/
</pre></li>
<li>
<p>Change the permissions on the Oracle base directory to 775.</p>
<pre>
# chmod -R 775 /u01/app/oracle/
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CHDDBGGG">"About Hardware Requirements"</a></p>
</li>
<li>
<p><a href="#BGBBBIFJ">"Configuring Shared Storage"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BCGHFEDG"></a>
<div id="TDPRC149" class="sect2">
<h3 class="sect2">About the Oracle Home Directory</h3>
<p><a id="sthref132"></a><a id="sthref133"></a>The Oracle home directory is the location in which the Oracle RAC software is installed. You can use an Oracle home directory created in the local file system, for example, <code>/u01/app/oracle/product/11.2.0/dbhome_1</code>. The same directory must exist on every node in the cluster. You do not have to create these directories before installation. By default, the installer suggests a subdirectory of the Oracle base directory for the Oracle home.</p>
<p><a id="sthref134"></a>You can also use a shared Oracle home. The location of the shared Oracle home can be on network storage, or a supported cluster file system such as Oracle Automatic Storage Management Cluster File System (Oracle ACFS). For more information about Oracle ACFS, see <a class="olink OSTMG31000" href="../../server.112/e18951/asmfilesystem.htm#OSTMG31000"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a>.</p>
<p>If you use the local file system for the Oracle home directory, and you want to install a different version of Oracle RAC or Oracle Database on the same server, then you must use a separate Oracle home directory for each software installation. Multiple versions of the same product or different products can run from different Oracle homes concurrently. Products installed in one Oracle home do not conflict or interact with products installed in another Oracle home.</p>
<p>Using different Oracle homes for your installed software enables you to perform maintenance operations on the Oracle software in one home without effecting the software in another Oracle home. However, it also increases your software maintenance costs, because each Oracle home must be upgraded or patched separately.</p>
</div>
<!-- class="sect2" -->
<a id="BGBBBIFJ"></a>
<div id="TDPRC150" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Shared Storage</h3>
<p><a id="sthref135"></a>Each node in a cluster requires external shared disks for storing the Oracle Clusterware (Oracle Cluster Registry and voting disk) files, and Oracle Database files. <a id="sthref136"></a>The supported types of shared storage depend upon the platform you are using, for example:</p>
<ul>
<li>
<p><a id="sthref137"></a>Oracle Automatic Storage Management (strongly recommended)</p>
</li>
<li>
<p><a id="sthref138"></a><a id="sthref139"></a>A supported cluster file system, such as OCFS2 for Linux, OCFS for Microsoft Windows, or<a id="sthref140"></a> General Parallel File System (GPFS) on IBM platforms</p>
</li>
<li>
<p><a id="sthref141"></a>Network file system (NFS), which is not supported on Linux on POWER or IBM zSeries Based Linux</p>
</li>
<li>
<p><a id="sthref142"></a>(Upgrades only) Shared disk partitions consisting of block devices or raw devices. Block devices are disk partitions that are not mounted using the Linux file system. Oracle Clusterware and Oracle RAC write to these partitions directly.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use OUI to install Oracle Clusterware files on block or raw devices. You cannot put Oracle Clusterware binaries and files on Oracle Automatic Storage Management Cluster File System (Oracle ACFS).</div>
</li>
</ul>
<p>If you decide to use OCFS2 to store the Oracle Clusterware files, then you must use the proper version of OCFS2 for your operating system version. OCFS2 works with Oracle Linux and Red Hat Linux kernel version 2.6</p>
<p>For all installations, you must choose the storage option to use for Oracle Clusterware files and Oracle Database files. The examples in this guide use Oracle ASM to store the Oracle Clusterware and Oracle Database files. The Oracle Grid Infrastructure for a cluster and Oracle RAC software is installed on disks local to each node, not on a shared file system.</p>
<p>This guide discusses two different methods of configuring the shared disks for use with Oracle ASM:</p>
<ul>
<li>
<p><a href="#BCGICEDG">Configuring Files on an NAS Device for Use with Oracle ASM</a></p>
</li>
<li>
<p><a href="#BCGDEIFE">Using ASMLib to Mark the Shared Disks as Candidate Disks</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For the most up-to-date information about supported storage options for Oracle RAC installations, refer to the Certifications pages on My Oracle Support (formerly Oracle<span class="italic">MetaLink</span>) at:
<p><code><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform if you are using a cluster file system or NFS</p>
</li>
<li>
<p><a href="#CEGFBCDG">"Configuring Installation Directories and Shared Storage"</a></p>
</li>
<li>
<p><a href="#CHDDBGGG">"About Hardware Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BCGICEDG"></a>
<div id="TDPRC151" class="sect2">
<h3 class="sect2">Configuring Files on an NAS Device for Use with Oracle ASM</h3>
<p>To <a id="sthref143"></a>use an NFS file system, it must be on a certified NAS device. <a id="sthref144"></a><a id="sthref145"></a>If you have a certified network attached storage (NAS) device, then you can create zero-padded files in an NFS mounted directory and use those files as disk devices in an Oracle ASM disk group.</p>
<p>To ensure high availability of Oracle Clusterware files on Oracle ASM, you must have at least 2 GB of disk space for Oracle Clusterware files in three separate failure groups, with at least three physical disks. Each disk must have at least 1 GB of capacity to ensure that there is sufficient space to create Oracle Clusterware files.</p>
<p>Use the following guidelines when identifying appropriate disk devices:</p>
<ul>
<li>
<p>All of the devices in an Oracle Automatic Storage Management disk group should be the same size and have the same performance characteristics.</p>
</li>
<li>
<p>A disk group should not contain multiple partitions on a single physical disk device.</p>
</li>
<li>
<p>Using logical volumes as a device in an Oracle Automatic Storage Management disk group is not supported with Oracle RAC.</p>
</li>
<li>
<p>The user account with which you perform the installation (<code>oracle</code>) must have write permissions to create the files in the path that you specify.</p>
</li>
</ul>
<p class="subhead2"><a id="TDPRC152"></a>To configure NAS device files for creating disk groups:</p>
<ol>
<li>
<p>Add and configure access to the disks to the NAS device. Make sure each cluster node has been granted access to all the disks that are used by Oracle Grid Infrastructure for a cluster software and Oracle Database software.</p>
<p>Refer to your NAS device documentation for more information about completing this step.</p>
</li>
<li>
<p>On a cluster node, log in as the <code>root</code> user (or use <code>sudo</code> for the following steps).</p>
</li>
<li>
<p>Configure access to the disks on the NAS devices. The process for completing this step can vary depending on the type of disks and the type of NAS service.</p>
<p>One example of the configuration process is shown here. The first step is to create a mount point directory on the local system:</p>
<pre>
# mkdir -p /mnt/oracleasm
</pre></li>
<li>
<p>To ensure that the NFS file system is mounted when the system restarts, add an entry for the file system in the mount file <code>/etc/fstab</code>.</p>
<p>For more information about editing the mount file for the operating system, refer to the Linux man pages. For more information about recommended mount options, refer to <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform.</p>
</li>
<li>
<p>Enter a command similar to the following to mount the NFS file system on the local system, where <code><span class="codeinlineitalic">host</span></code> is the host name or IP address of the file server, and <code><span class="codeinlineitalic">pathname</span></code> is the location of the storage within NFS (for example, <code>/public</code>):</p>
<pre>
# mount &lt;host&gt;:&lt;pathname&gt; /mnt/oracleasm
</pre></li>
<li>
<p>Choose a name for the disk group to create, for example, <code>nfsdg</code>.</p>
</li>
<li>
<p>Create a directory for the files on the NFS file system, using the disk group name as the directory name, for example:</p>
<pre>
# mkdir /mnt/oracleasm/nfsdg
</pre></li>
<li>
<p>Use commands similar to the following to create the required number of zero-padded files in this directory:</p>
<pre>
# dd if=/dev/zero of=/mnt/oracleasm/nfsdg/disk1 bs=1024k count=1000
</pre>
<p>This example creates a 1 GB file named <code>disk1</code> on the NFS file system. You must create one, two, or three files respectively to create an external, normal, or high redundancy disk group.</p>
</li>
<li>
<p>Enter the following commands to change the owner, group, and permissions on the directory and files that you created:</p>
<pre>
# chown -R oracle:dba /mnt/oracleasm
# chmod -R 660 /mnt/oracleasm
</pre></li>
<li>
<p>When installing Oracle RAC, if you choose to create an Oracle ASM disk group, then you must change the disk discovery path to specify a regular expression that matches the file names you created, for example, <code>/mnt/oracleasm/nfsdg/*</code>.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBBBIFJ">"Configuring Shared Storage"</a></p>
</li>
<li>
<p><a href="#CHDDBGGG">"About Hardware Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BCGDEIFE"></a>
<div id="TDPRC157" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using ASMLib to Mark the Shared Disks as Candidate Disks</h3>
<p>Another option for configuring shared disks is to use the ASMLib utility. If you configure a shared disk to be mounted automatically when the server restarts, then, unless you have configured special files for device persistence, a disk that appeared as <code>/dev/sdg</code> before the system shutdown can appear as <code>/dev/sdh</code> after the system is restarted.</p>
<p>If you use ASMLib to configure the shared disks, then when you restart the node:</p>
<ul>
<li>
<p>The disk device names do not change</p>
</li>
<li>
<p>The ownership and group membership for these disk devices remains the same</p>
</li>
<li>
<p>You can copy the disk configuration implemented by Oracle ASM to other nodes in the cluster by running a simple command</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you followed the instructions in the section <a href="#BCGICEDG">"Configuring Files on an NAS Device for Use with Oracle ASM"</a> to configure your shared storage, then you do not have to perform the tasks in this section.</div>
<p>The following sections describe how to install and configure ASMLib, and how to use ASMLib to configure your shared disk devices:</p>
<ul>
<li>
<p><a href="#BCGFGAIH">Installing ASMLib</a></p>
</li>
<li>
<p><a href="#BCGICEDF">Configuring ASMLib</a></p>
</li>
<li>
<p><a href="#BCGDFIAA">Using ASMLib to Create Oracle ASM Disks</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
If you choose not to use ASMLib, then see the section <a href="#CEGHHJAC">"Configuring Disk Device Persistence"</a>.</div>
<a id="BCGFGAIH"></a>
<div id="TDPRC523" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Installing ASMLib</h4>
<p><a id="sthref146"></a><a id="sthref147"></a><a id="sthref148"></a><a id="sthref149"></a><a id="sthref150"></a>The ASMLib software is available from the Oracle Technology Network. Select the link for your platform on the ASMLib download page at:</p>
<p><code><a href="http://www.oracle.com/technetwork/topics/linux/asmlib/index-101839.html">http://www.oracle.com/technetwork/topics/linux/asmlib/index-101839.html</a></code></p>
<p>You should see four to six packages for your Linux platform. The <code>oracleasmlib</code> package provides the actual Oracle ASM library. The <code>oracleasm-support</code> package provides the utilities used to get the Oracle ASM driver up and running. Both of these packages must be installed.</p>
<p>The remaining packages provide the kernel driver for the Oracle ASM library. Each package provides the driver for a different kernel. You must install the appropriate package for the kernel you run. Use the <code>uname -r</code> command to determine the version of the kernel on your server. The <code>oracleasm</code> kernel driver package has that version string in its name. For example, if you run Red Hat Enterprise Linux 4 AS, and the kernel you are using is the 2.6.9-55.0.12.ELsmp kernel, then you would choose the <code>oracleasm-2.6.9-55.0.12.ELsmp-2.0.3-1.x86_64.rpm</code> package.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle ASMLib kernel driver (<code>oracleasm</code>) is included with Oracle Linux 5. No driver package needs to be installed when using this kernel. The <code>oracleasm-support</code> and <code>oracleasmlib</code> packages still need to be installed.</div>
<p class="subhead2"><a id="TDPRC562"></a>To install the ASMLib software packages:</p>
<ol>
<li>
<p>Download the ASMLib packages to each node in your cluster.</p>
</li>
<li>
<p>Change to the directory where the package files were downloaded.</p>
</li>
<li>
<p>As the <code>root</code> user, use the <code>rpm</code> command to install the packages. For example:</p>
<pre>
# rpm -Uvh oracleasm-support-2.1.3-1.el4.x86_64.rpm
# rpm -Uvh oracleasmlib-2.0.4-1.el4.x86_64.rpm
# rpm -Uvh oracleasm-2.6.9-55.0.12.ELsmp-2.0.3-1.x86_64.rpm
</pre>
<p>After you have completed these commands, ASMLib is installed on the system.</p>
</li>
<li>
<p>Repeat steps 2 and 3 on each node in your cluster.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BCGDEIFE">"Using ASMLib to Mark the Shared Disks as Candidate Disks"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BCGICEDF"></a>
<div id="TDPRC525" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Configuring ASMLib</h4>
<p><a id="sthref151"></a><a id="sthref152"></a><a id="sthref153"></a>Now that the ASMLib software is installed, a few steps have to be taken by the system administrator to make the Oracle ASM driver available. The Oracle ASM driver must be loaded, and the driver file system must be mounted. This is taken care of by the initialization script, <code>/usr/sbin/oracleasm</code>.</p>
<p class="subhead2"><a id="TDPRC563"></a>To configure the ASMLib software after installation:</p>
<ol>
<li>
<p>As the <code>root</code> user, run the following command:</p>
<pre>
# /usr/sbin/oracleasm configure -I
</pre>
<p>The script prompts you for the default user and group to own the Oracle ASM driver access point. Specify the Oracle Database software owner (<code>oracle</code>) and the OSDBA group (<code>dba</code>).</p>
<p>The script also prompts you to specify whether you want to start the ASMLib driver when the node is started and whether you want to scan for presence of any Oracle Automatic Storage Management disks when the node is started. Answer yes for both of these questions.</p>
</li>
<li>
<p>Repeat step 1 on each node in your cluster.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BCGDEIFE">"Using ASMLib to Mark the Shared Disks as Candidate Disks"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BCGDFIAA"></a>
<div id="TDPRC166" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using ASMLib to Create Oracle ASM Disks</h4>
<p><a id="sthref154"></a><a id="sthref155"></a>Every disk that is used in an Oracle ASM disk group must be accessible on each node. After you make the physical disk available to each node, you can then mark the disk device as an Oracle ASM disk. The <code>/usr/sbin/oracleasm</code> script is used for this task.</p>
<p>If the target disk device supports partitioning, for example, raw devices, then you must first create a single partition that encompasses the entire disk. If the target disk device does not support partitioning, then you do not have to create a partition on the disk.</p>
<p class="subhead2"><a id="TDPRC564"></a>To create Oracle ASM disks using ASMLib:</p>
<ol>
<li>
<p>As the <code>root</code> user, use <code>oracleasm</code> to create Oracle ASM disks using the following syntax:</p>
<pre>
# /usr/sbin/oracleasm createdisk <span class="italic">disk_name</span> <span class="italic">device_partition_name</span>
</pre>
<p>In this command, <code><span class="codeinlineitalic">disk_name</span></code> is the name you choose for the Oracle ASM disk. The name you choose must contain only ASCII capital letters, numbers, or underscores, and the disk name must start with a letter, for example, DISK1 or VOL1, or RAC_FILE1. The name of the disk partition to mark as an Oracle ASM disk is the <code><span class="codeinlineitalic">device_partition_name</span></code>. For example:</p>
<pre>
# /usr/sbin/oracleasm createdisk DISK1 /dev/sdb1
</pre>
<p>If you must unmark a disk that was used in a <code>createdisk</code> command, then you can use the following syntax:</p>
<pre>
# /usr/sbin/oracleasm deletedisk <span class="italic">disk_name</span>
</pre></li>
<li>
<p>Repeat step 1 for each disk that is used by Oracle ASM.</p>
</li>
<li>
<p>After you have created all the Oracle ASM disks for your cluster, use the <code>listdisks</code> command to verify their availability:</p>
<pre>
# /usr/sbin/oracleasm listdisks
DISK1
DISK2
DISK3
</pre></li>
<li>
<p>On all the other nodes in the cluster, use the <code>scandisks</code> command to view the newly created Oracle ASM disks. You do not have to create the Oracle ASM disks on each node, only on one node in the cluster.</p>
<pre>
# /usr/sbin/oracleasm scandisks
Scanning system for ASM disks                              [  OK  ]

</pre></li>
<li>
<p>After scanning for Oracle ASM disks, display the available Oracle ASM disks on each node to verify their availability:</p>
<pre>
# /usr/sbin/oracleasm listdisks
DISK1
DISK2
DISK3
</pre></li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
At this point, you should restart each node on which you are installing the Oracle Grid Infrastructure for a cluster software. After the node has restarted, view the configured shared storage on each node. This helps to ensure that the system configuration is complete and persists across node shutdowns.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BCGDEIFE">"Using ASMLib to Mark the Shared Disks as Candidate Disks"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CEGHHJAC"></a>
<div id="TDPRC170" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Disk Device Persistence</h3>
<p><a id="sthref156"></a><a id="sthref157"></a><a id="sthref158"></a><a id="sthref159"></a><a id="sthref160"></a>By default, the Linux 2.6 kernel device file naming scheme <code>udev</code> dynamically creates device file names when the server is started, and assigns ownership of them to <code>root</code>. If <code>udev</code> applies default settings, then it changes device file names and owners for voting disks or Oracle Cluster Registry partitions, corrupting them when the server is restarted. For example, a voting disk on a device named <code>/dev/sdd</code> owned by the user <code>grid</code> may be on a device named <code>/dev/sdf</code> owned by <code>root</code> after restarting the server.</p>
<p>If you use ASMLib, then you do not have to ensure permissions and device path persistency in <code>udev</code>. If you do not use ASMLib, then you must create a custom rules file for the shared disks mounted on each node. When <code>udev</code> is started, it sequentially carries out rules (configuration directives) defined in rules files. These files are in the path <code>/etc/udev/rules.d/</code>. Rules files are read in lexical order. For example, rules in the file <code>10-wacom.rules</code> are parsed and carried out before rules in the rules file <code>90-ib.rules</code>.</p>
<p>Where rules files describe the same devices, on Asianux, Red Hat, and Oracle Linux, the last file read is the one that is applied. On SUSE 2.6 kernels, the first file read is the one that is applied.</p>
<p>To configure a rules file for disk devices, see the chapter on configuring storage in <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BGBBBIFJ">"Configuring Shared Storage"</a></p>
</li>
<li>
<p><span class="italic">Oracle Grid Infrastructure Installation Guide</span> for your platform</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment392">
<tr>
<td class="cellalignment399">
<table class="cellalignment397">
<tr>
<td class="cellalignment396"><a href="intro_tdprc.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment396"><a href="install_rac.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment401">
<table class="cellalignment395">
<tr>
<td class="cellalignment396"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment396"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment396"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment396"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment396"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment396"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
