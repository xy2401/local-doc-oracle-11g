<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Monitoring Performance and Troubleshooting</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023" />
<meta name="dcterms.created" content="2014-07-11T15:26:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Real Application Clusters Guide" />
<meta name="dcterms.identifier" content="E17264-15" />
<meta name="dcterms.isVersionOf" content="TDPRC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="rac_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="configwlm.htm" title="Previous" type="text/html" />
<link rel="Next" href="addnodes.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e17264.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/16</span> <!-- End Header -->
<div id="TDPRC322" class="chapter"><a id="BABHHGFC"></a>
<h1 class="chapter"><span class="secnum">8</span> Monitoring Performance and Troubleshooting</h1>
<p>Performance <a id="sthref469"></a>tuning for an Oracle Real Application Clusters (Oracle RAC) database is very similar to performance tuning for a single-instance database. Many of the tuning tasks that you perform on single-instance Oracle databases can also improve performance of your Oracle RAC database. This chapter focuses on the performance tuning and monitoring tasks that are unique to Oracle RAC.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">Monitoring Oracle RAC Database and Cluster Performance</a></p>
</li>
<li>
<p><a href="#CACDGHED">Viewing Other Performance Related Charts</a></p>
</li>
<li>
<p><a href="#CFFIHBBH">Viewing the Cluster Database Topology</a></p>
</li>
<li>
<p><a href="#BABHEGHG">Monitoring Oracle Clusterware</a></p>
</li>
<li>
<p><a href="#CJHGGCCA">Troubleshooting Configuration Problems in Oracle RAC Environments</a></p>
</li>
<li>
<p><a href="#BABICHBJ">Monitoring and Tuning Oracle RAC: Oracle By Example Series</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about basic database tuning</p>
</li>
<li>
<p><a class="olink TDPPT002" href="../../server.112/e10822/tdppt_intro.htm#TDPPT002"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about general performance tuning</p>
</li>
<li>
<p><a class="olink RACAD025" href="../../rac.112/e41960/appsupport.htm#RACAD025"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about diagnosing problems for Oracle Real Application Clusters components</p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about diagnosing problems for Oracle Clusterware components</p>
</li>
</ul>
</div>
<a id="CJHEHEFD"></a>
<div id="TDPRC323" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Monitoring Oracle RAC Database and Cluster Performance</h2>
<p><a id="sthref470"></a>Both Oracle Enterprise Manager Database Control and Oracle Enterprise Manager Grid Control are cluster-aware and provide a central console to manage your cluster database.</p>
<p>From the Cluster Database Home page, you can do all of the following:</p>
<ul>
<li>
<p>View the overall system status, such as the number of nodes in the cluster and their current status. This high-level view capability means that you do not have to access each individual database instance for details if you just want to see inclusive, aggregated information.</p>
</li>
<li>
<p>View alert messages aggregated across all the instances with lists for the source of each alert message. An <span class="bold">alert message</span> is an indicator that signifies that a particular metric condition has been encountered. A <span class="bold">metric</span> is a unit of measurement used to report the system's conditions.</p>
</li>
<li>
<p>Review issues that are affecting the entire cluster and those that are affecting individual instances.</p>
</li>
<li>
<p>Monitor cluster cache coherency statistics to help you identify processing trends and optimize performance for your Oracle RAC environment. Cache coherency statistics measure how well the data in caches on multiple instances is synchronized. If the data caches are completely synchronized with each other, then reading a memory location from the cache on any instance returns the most recent data written to that location from any cache on any instance.</p>
</li>
<li>
<p>Determine if any of the services for the cluster database are having availability problems. A service is considered to be a problem service if it is not running on all preferred instances, if its response time thresholds are not met, and so on. Clicking on the link on the Cluster Database Home page opens the Cluster Managed Database services page where the service can be managed.</p>
</li>
<li>
<p>Review any outstanding Clusterware interconnect alerts.</p>
</li>
</ul>
<p>Also note the following points about monitoring Oracle RAC environments:</p>
<ul>
<li>
<p>Performance monitoring features, such as Automatic Workload Repository (AWR) and Statspack, are Oracle RAC-aware.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Instead of using Statspack, Oracle recommends that you use the more sophisticated management and monitoring features of the Oracle Database <span class="italic">11<span class="italic">g</span></span> Diagnostic and Tuning packs, which include AWR</div>
</li>
<li>
<p>You can use global dynamic performance views, or GV$ views, to view statistics across instances. These views are based on the single-instance V$ views.</p>
</li>
</ul>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CJHEJFFD">About Automatic Database Diagnostic Monitor and Oracle RAC Performance</a></p>
</li>
<li>
<p><a href="#CACFEJIG">Viewing ADDM for Oracle RAC Findings</a></p>
</li>
<li>
<p><a href="#CACJFCCE">Using the Cluster Database Performance Page</a></p>
</li>
</ul>
<a id="CJHEJFFD"></a>
<div id="TDPRC324" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Automatic Database Diagnostic Monitor and Oracle RAC Performance</h3>
<p><a id="sthref471"></a>The Automatic Database Diagnostic Monitor (ADDM) is a self-diagnostic engine built into the Oracle Database. ADDM examines and analyzes data captured in the Automatic Workload Repository (AWR) to determine possible performance problems in Oracle Database. ADDM then locates the root causes of the performance problems, provides recommendations for correcting them, and quantifies the expected benefits. ADDM analyzes the AWR data for performance problems at both the database and the instance level.</p>
<p>An ADDM analysis is performed as each AWR snapshot is generated, which is every hour by default. The results are saved in the database and can be viewed by using Enterprise Manager. Any time you have a performance problem, you should first review the results of the ADDM analysis. An ADDM analysis is performed from the top down, first identifying symptoms, then refining the analysis to reach the root causes, and finally providing remedies for the problems.</p>
<p>For the clusterwide analysis, Enterprise Manager reports two types of findings:</p>
<ul>
<li>
<p>Database findings: <a id="sthref472"></a><a id="sthref473"></a><a id="sthref474"></a>An issue that concerns a resource that is shared by all instances in the cluster database, or an issue that affects multiple instances. An example of a database finding is I/O contention on the disk system used for shared storage.</p>
</li>
<li>
<p><a id="sthref475"></a><a id="sthref476"></a>Instance findings: An issue that concerns the hardware or software that is available for only one instance, or an issue that typically affects just a single instance. Examples of instance findings are high CPU load or sub-optimal memory allocation.</p>
</li>
</ul>
<img width="651" height="127" src="img/addm_cluster_findings.gif" alt="Description of addm_cluster_findings.gif follows" /><br />
<a id="sthref477" href="img_text/addm_cluster_findings.htm">Description of the illustration addm_cluster_findings.gif</a><br />
<br />
<p>ADDM reports only the findings that are significant, or findings that take up a significant amount of instance or database time. Instance time is the amount of time spent using a resource due to a performance issue for a single instance and database time is the sum of time spent using a resource due to a performance issue for all instances of the database, excluding any Oracle Automatic Storage Management (Oracle ASM) instances.</p>
<p>An instance finding can be reported as a database finding if it relates to a significant amount of database time. For example, if one instance spends 900 minutes using the CPU, and the sum of all time spent using the CPU for the cluster database is 1040 minutes, then this finding would be reported as a database finding because it takes up a significant amount of database time.</p>
<p>A problem finding can be associated with a list of recommendations for reducing the impact of the performance problem. Each recommendation has a benefit that is an estimate of the portion of database time that can be saved if the recommendation is implemented. A list of recommendations can contain various alternatives for solving the same problem; you do not have to apply the recommendations.</p>
<p><a id="sthref478"></a>Recommendations are composed of actions and rationales. You must apply all the actions of a recommendation to gain the estimated benefit of that recommendation. The rationales explain why the actions were recommended, and provide additional information to implement the suggested recommendation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="configwlm.htm#CACEGBDF">"About Workload Management"</a></p>
</li>
<li>
<p><a class="olink TDPPT007" href="../../server.112/e10822/tdppt_method.htm#TDPPT007"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about configuring and using AWR and ADDM</p>
</li>
<li>
<p><a class="olink PFGRF02602" href="../../server.112/e41573/diag.htm#PFGRF02602"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about Automatic Database Diagnostic Monitor</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACFEJIG"></a>
<div id="TDPRC325" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing ADDM for Oracle RAC Findings</h3>
<p>By default, ADDM runs every hour to analyze snapshots taken by the AWR during that period. If the database finds performance problems, then it displays the results of the analysis under Diagnostic Summary on the Cluster Database Home page. The ADDM Findings link shows how many ADDM findings were found in the most recent ADDM analysis.</p>
<p>ADDM for Oracle RAC can be accessed in Enterprise Manager by the following methods:</p>
<ul>
<li>
<p>On the Cluster Database Home Page, under Diagnostic Summary, click the <span class="gui-object-action">ADDM Findings Link</span>.</p>
</li>
<li>
<p>On the Cluster Database Performance, click the camera icons at the bottom of the Active Sessions Graph.</p>
</li>
<li>
<p>In the Related Links section on the Cluster Database Home page or the Performance, click <span class="gui-object-action">Advisor Central</span>. On the Advisor Central page, select <span class="gui-object-action">ADDM</span>. Choose the option <span class="gui-object-action">Run ADDM to analyze past performance</span> and specify an appropriate time period, then click <span class="gui-object-action">OK</span>.</p>
</li>
</ul>
<p class="subhead2"><a id="TDPRC589"></a>To view ADDM findings from the Cluster Database Home page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, under Diagnostic Summary, if a nonzero number is displayed next to ADDM Findings, then click this link.</p>
<img width="333" height="112" src="img/addm_diag_home.gif" alt="Description of addm_diag_home.gif follows" /><br />
<a id="sthref479" href="img_text/addm_diag_home.htm">Description of the illustration addm_diag_home.gif</a><br />
<br />
<p>You can also view the ADDM findings per instance by viewing the Instances table on the Cluster Database Home page.</p>
<img width="624" height="135" src="img/addm_findings_by_inst.gif" alt="Description of addm_findings_by_inst.gif follows" /><br />
<a id="sthref480" href="img_text/addm_findings_by_inst.htm">Description of the illustration addm_findings_by_inst.gif</a><br />
<br />
<p>When you select the number of ADDM Findings, the Automatic Database Diagnostic Monitor (ADDM) page for the cluster database appears.</p>
</li>
<li>
<p>Review the results of the ADDM run.</p>
<img width="879" height="650" src="img/addm_report_pg1.gif" alt="Description of addm_report_pg1.gif follows" /><br />
<a id="sthref481" href="img_text/addm_report_pg1.htm">Description of the illustration addm_report_pg1.gif</a><br />
<br />
<p>On the Automatic Database Diagnostic Monitor (ADDM) page, the Database Activity chart shows the database activity during the ADDM analysis period. Database activity types are defined in the legend based on its corresponding color in the chart. Each icon below the chart represents a different ADDM task, which in turn corresponds to a pair of individual Oracle Database snapshots saved in the Workload Repository.</p>
<p>In the ADDM Performance Analysis section, the ADDM findings are listed in descending order, from highest impact to least impact. The Informational Findings section lists the areas that do not have a performance impact and are for informational purpose only.</p>
<p>The Affected Instances chart shows how much each instance is impacted by these findings.</p>
</li>
<li>
<p>(Optional) Click the Zoom icons to shorten or lengthen the analysis period displayed on the chart.</p>
</li>
<li>
<p>(Optional) To view the ADDM findings in a report, click <span class="gui-object-action">View Report</span>.</p>
<p>The View Report page appears.</p>
<p>You can click <span class="gui-object-action">Save to File</span> to save the report for later access.</p>
</li>
<li>
<p>On the ADDM page, in the Affected Instances table, click the link for the instance associated with the ADDM finding that has the largest value for Impact.</p>
<p>The Automatic Database Diagnostic Monitor (ADDM) page for that instance appears.</p>
</li>
<li>
<p>In the ADDM Performance Analysis section, select the name of a finding.</p>
<p>The Performance Findings Detail page appears.</p>
</li>
<li>
<p>View the available Recommendations for resolving the performance problem. Run the SQL Tuning Advisor to tune the SQL statements that are causing the performance findings.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT034" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT034"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about tuning a database and instance</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACJFCCE"></a>
<div id="TDPRC327" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using the Cluster Database Performance Page</h3>
<p><a id="sthref482"></a>The Cluster Database Performance page provides a quick glimpse of the performance statistics for a database. Enterprise Manager accumulates data from each instance over specified periods of time, called collection-based data. Enterprise Manager also provides current data from each instance, known as real-time data.</p>
<p>Statistics are rolled up across all the instances in the cluster database. Using the links next to the charts, you can get more specific information and perform any of the following tasks:</p>
<ul>
<li>
<p>Identify the causes of performance issues.</p>
</li>
<li>
<p>Decide whether resources need to be added or redistributed.</p>
</li>
<li>
<p>Tune your SQL plan and schema for better optimization.</p>
</li>
<li>
<p>Resolve performance issues.</p>
</li>
</ul>
<p>The following screenshot shows a partial view of the Cluster Database Performance page. You access this page by clicking the <span class="gui-object-action">Performance</span> tab from the Cluster Database Home page.</p>
<img width="828" height="649" src="img/cldbperf001_11g.gif" alt="Description of cldbperf001_11g.gif follows" /><br />
<a id="sthref483" href="img_text/cldbperf001_11g.htm">Description of the illustration cldbperf001_11g.gif</a><br />
<br />
<p>The charts on the Performance page are described in the following sections:</p>
<ul>
<li>
<p><a href="#BABEICAC">About Global Cache Block Access Latency Chart</a></p>
</li>
<li>
<p><a href="#BABBHCAI">Viewing the Chart for Global Cache Block Access Latency</a></p>
</li>
<li>
<p><a href="#CACDEGBA">Viewing the Chart for Cluster Host Load Average</a></p>
</li>
<li>
<p><a href="#CACBHBAC">Viewing the Chart for Average Active Sessions</a></p>
</li>
<li>
<p><a href="#CACGHBIH">Viewing the Database Throughput Chart</a></p>
</li>
</ul>
<a id="BABEICAC"></a>
<div id="TDPRC590" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About Global Cache Block Access Latency Chart</h4>
<p><a id="sthref484"></a><a id="sthref485"></a>Each cluster database instance has its own buffer cache in its <a id="sthref486"></a>System Global Area (SGA). Using <a id="sthref487"></a>Cache Fusion, Oracle RAC environments logically combine each instance's <a id="sthref488"></a>buffer cache to enable the database instances to process data as if the data resided on a logically combined, single cache.</p>
<p><a id="sthref489"></a>When a process attempts to access a data block, it first tries to locate a copy of the data block in the local buffer cache. If a copy of the data block is not found in the local buffer cache, then a global cache operation is initiated. Before reading a data block from disk, the process attempts to find the data block in the buffer cache of another instance. If the data block is in the buffer cache of another instance, then Cache Fusion transfers a version of the data block to the local buffer cache, rather than having one database instance write the data block to disk and requiring the other instance to reread the data block from disk. For example, after the <code>orcl1</code> instance loads a data block into its buffer cache, the <code>orcl2</code> instance can more quickly acquire the data block from the <code>orcl1</code> instance by using Cache Fusion rather than by reading the data block from disk.</p>
<p><a id="ABC50123923"></a>The Global Cache Block Access Latency chart shows data for two different types of data block requests: current and consistent-read (CR) blocks. When you update data in the database, Oracle Database must locate the most recent version of the data block that contains the data, which is called the <span class="bold">current block</span>. If you perform a query, then only data committed before the query began is visible to the query. Data blocks that were changed after the start of the query are reconstructed from data in the undo segments. The reconstructed data is made available to the query in the form of a <span class="bold">consistent-read block</span>.</p>
<p>The Global Cache Block Access Latency chart on the Cluster Database Performance page shows the <span class="bold">latency</span> for each type of data block request, that is the elapsed time it takes to locate and transfer consistent-read and current blocks between the buffer caches.</p>
<p>If the Global Cache Block Access Latency chart shows high latencies (high elapsed times), then this can be caused by any of the following:</p>
<ul>
<li>
<p>A high number of requests caused by SQL statements that are not tuned.</p>
</li>
<li>
<p>A large number of processes in the queue waiting for the CPU, or scheduling delays.</p>
</li>
<li>
<p>Slow, busy, or faulty interconnects. In these cases, check your network connection for dropped packets, retransmittals, or cyclic redundancy check (CRC) errors.</p>
</li>
</ul>
<p>Concurrent read and write activity on shared data in a cluster is a frequently occurring activity. Depending on the service requirements, this activity does not usually cause performance problems. However, when global cache requests cause a performance problem, optimizing SQL plans and the schema to improve the rate at which data blocks are located in the local buffer cache, and minimizing I/O is a successful strategy for performance tuning. If the latency for consistent-read and current block requests reaches 10 milliseconds, then your first step in resolving the problem should be to go to the Cluster Cache Coherency page for more detailed information.</p>
</div>
<!-- class="sect3" -->
<a id="BABBHCAI"></a>
<div id="TDPRC591" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Viewing the Chart for Global Cache Block Access Latency</h4>
<p>You can click either metric for the Global Cache Block Access Latency chart to view more detailed information about that type of cached block. For example, if you click the metric <span class="bold">Average Current Block Receive Time</span>, then the Average Current Block Receive Time by Instance page appears, displaying a summary chart that depicts the average current block receive time for up to four nodes in the cluster. You can select whether the data is displayed in a summary chart or using tile charts. If you choose Summary chart, then, by default, the instances with the four highest receive times are displayed. If you choose Tile charts, then the data for each node is displayed in its own chart. You can customize which nodes are displayed in either the Summary or Tile chart display.</p>
<p>Also, on the Average Current Block Receive Time By Instance page or the Cluster Cache Coherency page, you can use the slider bar on the Active Session History chart to focus on a five minute window (time period) within the past one hour. Using the slider bar enables you to identify the top sessions, services, modules, actions, or SQL statements that were running during a period of high cache coherency activity.</p>
<p>At the top of the page, you can use the Metric list to change the metric displayed. The choices are:</p>
<ul>
<li>
<p>Average CR Block Receive Time</p>
</li>
<li>
<p>Average Current Block Receive Time</p>
</li>
<li>
<p>GC Current Blocks Received</p>
</li>
<li>
<p>GC CR Blocks Received</p>
</li>
<li>
<p>Physical Reads</p>
</li>
<li>
<p>Global Cache Block Transfers</p>
</li>
</ul>
<p>Each metric displays a monitoring page for that metric. On each metric monitoring page you can view the data for that metric in either a summary chart or using tile charts. You can also view the Maximum, Average, Minimum chart on the metric monitoring page to view the maximum, average, and minimum values for the metric for all active cluster database instances.</p>
<img width="817" height="384" src="img/cldbperf004_r2.gif" alt="Description of cldbperf004_r2.gif follows" /><br />
<a id="sthref490" href="img_text/cldbperf004_r2.htm">Description of the illustration cldbperf004_r2.gif</a><br />
<br /></div>
<!-- class="sect3" -->
<a id="CACDEGBA"></a>
<div id="TDPRC328" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Viewing the Chart for Cluster Host Load Average</h4>
<p><a id="sthref491"></a>The Cluster Host Load Average chart in the Cluster Database Performance page shows potential problems that are outside the database. The chart shows maximum, average, and minimum load values for available nodes in the cluster for the previous hour.</p>
<p>If the load average is higher than the average of the total number of CPUs across all the hosts in the cluster, then too many processes are waiting for CPU resources. SQL statements that are not tuned often cause high CPU usage. Compare the load average values with the values displayed for CPU Used in the Average Active Sessions chart. If the sessions value is low and the load average value is high, then this indicates that something else on the host, other than your database, is consuming the CPU.</p>
<p>You can click any of the load value labels for the Cluster Host Load Average chart to view more detailed information about that load value. For example, if you click the label <span class="bold">Average</span>, then the Hosts: Average Load page appears, displaying charts that depict the average host load for up to four nodes in the cluster.</p>
<p>You can select whether the data is displayed in a summary chart, combining the data for each node in one display, or using tile charts, where the data for each node is displayed in its own chart. You can click <span class="gui-object-action">Customize</span> to change the number of tile charts displayed in each row or the method of ordering the tile charts.</p>
<p>For more information about changing the data displayed on the Hosts: Average Load page, refer to the Enterprise Manager online Help.</p>
</div>
<!-- class="sect3" -->
<a id="CACBHBAC"></a>
<div id="TDPRC330" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Viewing the Chart for Average Active Sessions</h4>
<p><a id="sthref492"></a>The Average Active Sessions chart in the Cluster Database Performance page shows potential problems inside the database. Categories, called wait classes, show how much of the database is using a resource, such as CPU or disk I/O. Comparing CPU time to wait time helps to determine how much of the response time is consumed with useful work rather than waiting for resources that are potentially held by other processes.</p>
<p>The chart displays the workload on the database or instance and identifies performance issues. At the cluster database level, this chart shows the aggregate wait class statistics across all the instances. For a more detailed analysis, you can click the clipboard icon at the bottom of the chart to view the ADDM analysis for the database for that time period.</p>
<p>Compare the peaks on the Average Active Sessions chart with those on the Database Throughput charts. If the Average Active Sessions chart displays a large number of sessions waiting, indicating internal contention, but throughput is high, then the situation may be acceptable. The database is probably also performing efficiently if internal contention is low but throughput is high. However, if internal contention is high and throughput is low, then consider tuning the database.</p>
<p>If you click the wait class legends beside the Average Active Sessions chart, then you can view instance-level information stored in Active Sessions by Instance pages. You can use the Wait Class action list on the Active Sessions by Instance page to view the different wait classes. The Active Sessions by Instance pages show the service times for up to four instances. Using the Customize button you can select the instances that are displayed. You can view the data for the instances separately using tile charts, or you can combine the data into a single summary chart.</p>
<img width="732" height="381" src="img/cpu_used_by_inst.gif" alt="Description of cpu_used_by_inst.gif follows" /><br />
<a id="sthref493" href="img_text/cpu_used_by_inst.htm">Description of the illustration cpu_used_by_inst.gif</a><br />
<br />
<p>If you must diagnose and fix problems that are causing the higher number of wait events in a specific category, then you can select an instance of interest and view the wait events, also the SQL, sessions, services, modules, and actions that are consuming the most database resources.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#CJHGEJGJ">"About Oracle Grid Infrastructure for a Cluster and Oracle RAC"</a></p>
</li>
<li>
<p><a class="olink TDPPT034" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT034"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about tuning a database and instance</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACGHBIH"></a>
<div id="TDPRC331" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Viewing the Database Throughput Chart</h4>
<p>The last chart on the Performance page monitors the usage of various database resources. By clicking the Throughput tab at the top of this chart you can view the Database Throughput chart.</p>
<p><a id="sthref494"></a>The Database Throughput charts summarize any resource contention that appears in the Average Active Sessions chart, and also show how much work the database is performing on behalf of the users or applications. The Per Second view shows the number of transactions compared to the number of logons, and the amount of physical reads compared to the redo size per second. The Per Transaction view shows the amount of physical reads compared to the redo size per transaction. Logons is the number of users that are logged on to the database.</p>
<p>You can also obtain information at the instance level by clicking a legend to the right of the charts to access the Database Throughput by Instance page. This page shows the breakdown of the aggregated Database Throughput chart for up to four instances. Using the Customize button you can select the instances that are displayed. You can view the data for the instances separately using tile charts, or you can combine the data into a single summary chart. You can use this page to view the throughput for a particular instance, which may help you diagnose throughput problems.</p>
<p>You can drill down further on the Database Throughput by Instance page to see the sessions of an instance consuming the greatest resources. Click an instance name legend just under the chart to go to the Top Sessions subpage of the Top Consumers page for that instance.</p>
<img width="717" height="370" src="img/top_sessions_inst.gif" alt="Description of top_sessions_inst.gif follows" /><br />
<a id="sthref495" href="img_text/top_sessions_inst.htm">Description of the illustration top_sessions_inst.gif</a><br />
<br />
<p>For more information about the information on this page, refer to the Enterprise Manager Help system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#CJHGEJGJ">"About Oracle Grid Infrastructure for a Cluster and Oracle RAC"</a></p>
</li>
<li>
<p><a class="olink TDPPT040" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT040"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about tuning a database and instance</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="TDPRC332" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref496"></a>
<h4 class="sect3">Viewing the Services Chart</h4>
<p>The last chart on the Performance page monitors the usage of various database resources. By clicking the Services tab at the top of this chart you can view the Services chart.</p>
<p><a id="sthref497"></a>The Services charts shows the top services being used by the active sessions. Only active services are shown. You can select a service legend to the right of the chart to go to the Service subpage of the Top Consumers page. The Activity subtab is selected by default. On this page you can view real-time data showing the session loads by wait classes for the service.</p>
<img width="784" height="581" src="img/addm_rac_top_service.gif" alt="Description of addm_rac_top_service.gif follows" /><br />
<a id="sthref498" href="img_text/addm_rac_top_service.htm">Description of the illustration addm_rac_top_service.gif</a><br />
<br />
<p>For more information about the information on this page, refer to the Enterprise Manager Help system.</p>
</div>
<!-- class="sect3" -->
<div id="TDPRC333" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref499"></a>
<h4 class="sect3">Viewing the Active Sessions by Instance Chart</h4>
<p>The last chart on the Performance page monitors the usage of various database resources. By clicking the Instances tab at the top of this chart you can view the Active Sessions by Instance chart.</p>
<p><a id="sthref500"></a>The Active Sessions by Instance chart summarize any resource contention that appears in the Average Active Sessions chart. Using this chart you can quickly determine how much of the database work is being performed on each instance.</p>
<img width="779" height="533" src="img/addm_rac6.gif" alt="Description of addm_rac6.gif follows" /><br />
<a id="sthref501" href="img_text/addm_rac6.htm">Description of the illustration addm_rac6.gif</a><br />
<br />
<p>You can also obtain information at the instance level by clicking a legend to the right of the chart to access the Top Sessions page. On the Top Session page you can view real-time data showing the sessions that consume the greatest system resources.</p>
<p>For more information about the information on this page, refer to the Enterprise Manager Help system.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACDGHED"></a>
<div id="TDPRC334" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing Other Performance Related Charts</h2>
<p>In the Additional Monitoring Links and Additional Instance Monitoring Links section of the Cluster Database Performance page, there are links to other charts that are useful in evaluating the performance of your cluster database.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACCEHIC">Accessing the Cluster Cache Coherency Page</a></p>
</li>
<li>
<p><a href="#CACDIGIJ">Accessing the Top Consumers Page</a></p>
</li>
<li>
<p><a href="#CACCIEGH">Accessing the Top Sessions Page</a></p>
</li>
<li>
<p><a href="#BABFFBIB">Accessing the Top Activity Page</a></p>
</li>
<li>
<p><a href="#CACBIIII">Accessing the Instance Activity Page</a></p>
</li>
<li>
<p><a href="#CACBAJJI">Accessing the Top Segments Page</a></p>
</li>
<li>
<p><a href="#CACGIFBH">Accessing the Database Locks Page</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT034" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT034"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about tuning a database and instance</p>
</li>
</ul>
</div>
<a id="CACCEHIC"></a>
<div id="TDPRC335" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Cluster Cache Coherency Page</h3>
<p><a id="sthref502"></a>The Cluster Cache Coherency page contains summary charts for cache coherency metrics for the cluster.</p>
<p><a href="#CACFGIID">Table 8-1</a> describes the Cluster Cache Coherency charts and the actions to perform to access more comprehensive information for problem resolution.</p>
<div id="TDPRC336" class="tblhruleformal">
<p class="titleintable"><a id="sthref503"></a><a id="CACFGIID"></a>Table 8-1 Cluster Cache Coherency Charts</p>
<table class="cellalignment402" title="Cluster Cache Coherency Charts" summary="Listing of charts on the Cache Coherency page" dir="ltr">
<thead>
<tr class="cellalignment393">
<th class="cellalignment403" id="r1c1-t9">Name</th>
<th class="cellalignment403" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment393">
<td class="cellalignment399" id="r2c1-t9" headers="r1c1-t9">
<p>Global Cache Block Access Latency</p>
</td>
<td class="cellalignment399" headers="r2c1-t9 r1c2-t9">
<p>Shows the total elapsed time, or latency, for a block request. Click a legend to the right of the chart to view the average time it takes to receive data blocks for each block type (current or CR) by instance.</p>
<p>On the Average Block Receive Time by Instance page, you can click an instance legend under the chart to go to the Block Transfer for Local Instance page, where you can identify which block classes, such as undo blocks, data blocks, and so on, are subject to intense global cache activity. This page displays the block classes that are being transferred, and which instances are transferring most of the blocks.Cache transfer indicates how many current and CR blocks for each block class were received from remote instances, including how many transfers incurred a delay (busy) or an unexpected longer delay (congested).</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r3c1-t9" headers="r1c1-t9">
<p>Global Cache Block Transfer Rate</p>
</td>
<td class="cellalignment399" headers="r3c1-t9 r1c2-t9">
<p>Shows the total aggregated number of blocks received by all instances in the cluster by way of an interconnect.</p>
<p>Click a legend to the right of the chart to go to the Global Cache Blocks Received by Instance page for that type of block. From there, you can click an instance legend under the chart to go to the Segment Statistics by Instance page, where you can see which segments are causing cache contention.</p>
</td>
</tr>
<tr class="cellalignment393">
<td class="cellalignment399" id="r4c1-t9" headers="r1c1-t9">
<p>Global Cache Block Transfers and Physical Reads</p>
</td>
<td class="cellalignment399" headers="r4c1-t9 r1c2-t9">
<p>Shows the percentage of logical read operations that retrieved data from the buffer cache of other instances by way of Direct Memory Access and from disk. It is essentially a profile of how much work is performed in the local buffer cache, rather than the portion of remote references and physical reads, which both have higher latencies.</p>
<p>Click a legend to the right of the chart to go to the Global Cache Block Transfers vs. Logical Reads by Instance and Physical Reads vs. Logical Reads by Instance pages. From there, you can click an instance legend under the chart to go to the Segment Statistics by Instance page, where you can see which segments are causing cache contention.<a id="sthref504"></a></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p class="subhead2"><a id="TDPRC337"></a>To access the Cluster Cache Coherency page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select Performance.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Cluster Cache Coherency</span> in the Additional Monitoring Links section at the bottom of the page.</p>
</li>
<li>
<p>Alternatively, click either of the legends to the right of the Global Cache Block Access Latency chart.</p>
<p>The Cluster Cache Coherency page appears.</p>
<img width="790" height="473" src="img/cldbperf002_r2.gif" alt="Description of cldbperf002_r2.gif follows" /><br />
<a id="sthref505" href="img_text/cldbperf002_r2.htm">Description of the illustration cldbperf002_r2.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CACDIGIJ"></a>
<div id="TDPRC338" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Top Consumers Page</h3>
<p><a id="sthref506"></a>The Top Consumers page provides access to several tabs that enable you to view real-time or collection-based data for the services, modules, actions, clients, and sessions that are consuming the most system resources.</p>
<p class="subhead2"><a id="TDPRC339"></a>To access the Top Consumers page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select Performance.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Top Consumers</span> in the Additional Monitoring Links section at the bottom of the page.</p>
<p>When accessed this way, the Top Consumers page initially displays the Overview tab by default, which shows aggregated summary data for the highest resource consumers.</p>
<img width="717" height="651" src="img/top_consumers.gif" alt="Description of top_consumers.gif follows" /><br />
<a id="sthref507" href="img_text/top_consumers.htm">Description of the illustration top_consumers.gif</a><br />
<br /></li>
<li>
<p>(Optional) Click the portion of a chart representing the consumer or click the link under the chart for that consumer to view instance-level information about that consumer.</p>
<p>The page that appears shows the running instances that are serving the consumer.</p>
</li>
<li>
<p>(Optional) Expand the names in the Action or Module column to show data for individual instances.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT033" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT033"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACCIEGH"></a>
<div id="TDPRC340" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Top Sessions Page</h3>
<p><a id="sthref508"></a>The Top Sessions page shows a real-time summary list of sessions based on aggregated data. You can see which sessions have consumed the greatest amount of system resources, referred to as the top sessions, and then decide whether you want to stop the sessions.</p>
<p class="subhead2"><a id="TDPRC341"></a>To access the Top Sessions page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select Performance.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Top Consumers</span> in the Additional Monitoring Links section at the bottom of the page.</p>
</li>
<li>
<p>On the Top Consumers page, click the <span class="gui-object-action">Top Sessions</span> subtab.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT036" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT036"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABFFBIB"></a>
<div id="TDPRC342" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Top Activity Page</h3>
<p>The Top Activity page enables you to view the cluster database activity by waits, services and instances. Also, you can see the details for the Top SQL and Top Sessions for a specific five minute interval by moving the slider bar on the Top Activity chart.</p>
<p>In the Top SQL detail section, you can select problematic SQL statements and either schedule the SQL Tuning Advisor for those statements or create a SQL Tuning Set.</p>
<p>By default, the Top Sessions for the selected time period are shown. Using the View action list in this section you can change the display to one of the following:</p>
<ul>
<li>
<p>Top Sessions</p>
</li>
<li>
<p>Top Services</p>
</li>
<li>
<p>Top Modules</p>
</li>
<li>
<p>Top Actions</p>
</li>
<li>
<p>Top Clients</p>
</li>
<li>
<p>Top Files</p>
</li>
<li>
<p>Top Objects</p>
</li>
<li>
<p>Top PL/SQL</p>
</li>
<li>
<p>Top Instances</p>
</li>
</ul>
<p class="subhead2"><a id="TDPRC592"></a>To access the Top Activity page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select <span class="gui-object-action">Performance</span>.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Top Activity</span> in the Additional Monitoring Links section at the bottom of the page.</p>
<p>The Top Activity page appears.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT034" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT034"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about tuning a database and instance</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACBIIII"></a>
<div id="TDPRC344" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Instance Activity Page</h3>
<p><a id="sthref509"></a>The Instance Activity page enables you to view instance activity for several metrics within general metric categories, such as cursors, transactions, sessions, logical I/O, physical I/O, and net I/O. You can view data for each second or transaction.</p>
<p class="subhead2"><a id="TDPRC345"></a>To access the Instance Activity page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select <span class="gui-object-action">Performance</span>.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Instance Activity</span> in the Additional Monitoring Links section at the bottom of the page.</p>
</li>
<li>
<p>(Optional) Click a metric legend under the chart if in Graphic mode, or click a name in the summary table if in Tabular mode to access top sessions statistics for a particular metric.</p>
<img width="709" height="422" src="img/instance_activity.gif" alt="Description of instance_activity.gif follows" /><br />
<a id="sthref510" href="img_text/instance_activity.htm">Description of the illustration instance_activity.gif</a><br />
<br /></li>
<li>
<p>(Optional) Use the <span class="gui-object-action">Switch Database Instance</span> list to change the instance for which the data is displayed in the chart.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink TDPPT040" href="../../server.112/e10822/tdppt_realtime.htm#TDPPT040"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACBAJJI"></a>
<div id="TDPRC346" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Top Segments Page</h3>
<p><a id="sthref511"></a>Collecting and viewing statistics at the segment level is an effective method for identifying frequently accessed tables or indexes in a database. The Top Segments page enables you to gather segment-level statistics to identify performance problems associated with individual segments. <a id="sthref512"></a>This page is particularly useful for Oracle RAC, because it also tracks the number of consistent-read and current blocks received by an object. A high number of current blocks received plus a high number of buffer waits may indicate potential resource contention.</p>
<p class="subhead2"><a id="TDPRC347"></a>To access the Top Segments page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select <span class="gui-object-action">Performance</span>.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Top Segments</span> in the Additional Monitoring Links section at the bottom of the page.</p>
<p>You can view segments for all instances, or use a filter to see segments for a specific instance.</p>
<img width="710" height="309" src="img/top_segments.gif" alt="Description of top_segments.gif follows" /><br />
<a id="sthref513" href="img_text/top_segments.htm">Description of the illustration top_segments.gif</a><br />
<br /></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACGIFBH"></a>
<div id="TDPRC348" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Database Locks Page</h3>
<p><a id="sthref514"></a>Use the Database Locks page to determine if multiple instances are holding locks for the same object. The page shows user locks, all database locks, or locks that are blocking other users or applications. You can use this information to stop a session that is unnecessarily locking an object.</p>
<p class="subhead2"><a id="TDPRC349"></a>To access the Database Locks page:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select <span class="gui-object-action">Performance</span>.</p>
<p>The Performance subpage appears.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Database Locks</span> in the Additional Monitoring Links section at the bottom of the page.</p>
<img width="886" height="328" src="img/database_locks.gif" alt="Description of database_locks.gif follows" /><br />
<a id="sthref515" href="img_text/database_locks.htm">Description of the illustration database_locks.gif</a><br />
<br /></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a class="olink ADMIN11254" href="../../server.112/e25494/monitoring.htm#ADMIN11254"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CFFIHBBH"></a>
<div id="TDPRC350" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing the Cluster Database Topology</h2>
<p><a id="sthref516"></a><a id="sthref517"></a>Using Database Control you can view a graphical representation of your cluster environment. Using the topology view you can quickly see the components that comprise your cluster database environment, such as database instances, listeners, Oracle ASM instances, hosts, and interfaces.</p>
<p>After you click the topology chart to activate the controls, you can mouse over a component to see the status and configuration details for that component. If you select a component in the topology chart, then you can then right-click that component to view a set of menu actions specific for that component.</p>
<p class="subhead2"><a id="TDPRC593"></a>To view the topology for your cluster database environment:</p>
<ol>
<li>
<p>On the Cluster Database Home page, select <span class="gui-object-action">Topology</span>.</p>
<p>The Topology subpage appears.</p>
<img width="776" height="633" src="img/topology_r2.gif" alt="Description of topology_r2.gif follows" /><br />
<a id="sthref518" href="img_text/topology_r2.htm">Description of the illustration topology_r2.gif</a><br />
<br /></li>
<li>
<p>(Optional) Move the mouse cursor over any component in the topology diagram to display information about that component in a popup box.</p>
</li>
<li>
<p>Select any component in the topology diagram to change the information displayed in the Selection Details section.</p>
</li>
<li>
<p>(Optional) Click <span class="gui-object-action">Legend</span> at the bottom of the page, on the left-hand side, to display the Topology Legend page.</p>
<p>This page describes the icons used in Cluster Topology and Cluster Database Topology.</p>
</li>
<li>
<p>(Optional) Right-click the currently selected component to view the menu actions available for that component.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="#BABGEDJH">"Viewing the Cluster Topology Page"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#CJHGEJGJ">"About Oracle Grid Infrastructure for a Cluster and Oracle RAC"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABHEGHG"></a>
<div id="TDPRC352" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Monitoring Oracle Clusterware</h2>
<p>You can use Enterprise Manager to monitor Oracle Clusterware. Some of the monitoring features available with Enterprise Manager include:</p>
<ul>
<li>
<p>Viewing the status of Oracle Clusterware on each node of the cluster</p>
</li>
<li>
<p>Receiving notifications if there are any VIP relocations</p>
</li>
<li>
<p>Monitoring the overall throughput across the private interconnect</p>
</li>
<li>
<p>Receiving notifications if nodeapps go down or come up</p>
</li>
<li>
<p>Viewing alerts if a database instance is using the public interface instead of the VIP</p>
</li>
<li>
<p>Monitoring the Clusterware alert log for OCR or voting disk related issues, node evictions, and other clusterware errors</p>
</li>
</ul>
<p>With Oracle Database 11<span class="italic">g</span> release 2 you can also monitor Oracle Clusterware resources and use cluster component health monitoring for individual components. To monitor resources you click the Administration link from the Cluster home page. To monitor the health of individual cluster components you click the All Metrics link in the Related Links section of the Cluster home page.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABBDDHG">Accessing the Oracle Clusterware Information</a></p>
</li>
<li>
<p><a href="#BABDDGDI">Reviewing the Oracle Clusterware Home Page</a></p>
</li>
<li>
<p><a href="#BABEGDAF">Viewing the Cluster Performance Page</a></p>
</li>
<li>
<p><a href="#BABCGFHG">Viewing the Cluster Targets Page</a></p>
</li>
<li>
<p><a href="#BABJIJJF">Viewing the Cluster Administration Page</a></p>
</li>
<li>
<p><a href="#BABJBHBB">About the Cluster Interconnects Page</a></p>
</li>
<li>
<p><a href="#BABGEDJH">Viewing the Cluster Topology Page</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#CJHGEJGJ">"About Oracle Grid Infrastructure for a Cluster and Oracle RAC"</a></p>
</li>
<li>
<p><a href="install_rac.htm#CBHEDCDF">"About Verifying the Oracle Clusterware Installation"</a></p>
</li>
<li>
<p><a href="#CACJJGFA">"Using CRSCTL to Diagnose Cluster Issues"</a></p>
</li>
</ul>
</div>
<a id="BABBDDHG"></a>
<div id="TDPRC353" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Accessing the Oracle Clusterware Information</h3>
<p><a id="sthref519"></a>From the Cluster Database Home page, there a several ways to access Oracle Clusterware information.</p>
<p class="subhead2"><a id="TDPRC594"></a>To access Oracle Clusterware information:</p>
<ol>
<li>
<p>From the Cluster Database Home page, in the General section, click the link next to <span class="gui-object-action">Cluster</span> to view the Cluster Home page.</p>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
</li>
<li>
<p>Under Diagnostic Summary, click the number next to <span class="gui-object-action">Interconnect Alerts</span> to view the Interconnects subpage for the cluster.</p>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
</li>
<li>
<p>In the High Availability section, click the number next to <span class="gui-object-action">Problem Services</span> to display the Cluster Home page.</p>
<p>Click the <span class="gui-object-action">Database</span> tab to return to the Cluster Database Home page.</p>
</li>
<li>
<p>Select <span class="gui-object-action">Topology</span>. Click a node in the graphical display to activate the controls. Click the <span class="gui-object-action">Interface</span> component. Right-click the Interface component, then choose <span class="gui-object-action">View Details</span> from the menu to display the Interconnects subpage for the cluster.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="#BABGEDJH">"Viewing the Cluster Topology Page"</a></p>
</li>
<li>
<p><a href="#BABJBHBB">"About the Cluster Interconnects Page"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABDDGDI"></a>
<div id="TDPRC355" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Reviewing the Oracle Clusterware Home Page</h3>
<p>The Cluster Home page enables you to monitor the health and workload of your cluster. It provides a central place for general cluster state information and is updated periodically.</p>
<p>The various sections of the Cluster Home page provide information about the cluster environment and status of the hosts, targets, and clusterware components. For example, the Alerts and Diagnostic Summary sections warn you of errors and performance problems that are impacting the operation of your cluster. You can click the provided links to see more detail about the problem areas.</p>
<p class="subhead2"><a id="TDPRC595"></a>To monitor the general state of the cluster:</p>
<ol>
<li>
<p>From the Cluster Database Home page, in the General section, click the link next to <span class="gui-object-action">Cluster</span>.</p>
<p>The Cluster Home page appears.</p>
<img width="847" height="852" src="img/cluster_home_page_r2.gif" alt="Description of cluster_home_page_r2.gif follows" /><br />
<a id="sthref520" href="img_text/cluster_home_page_r2.htm">Description of the illustration cluster_home_page_r2.gif</a><br />
<br /></li>
<li>
<p>(Optional) Click the <span class="gui-object-action">Refresh</span> button to update the information displayed.</p>
<p>The date and time that data was last collected from the cluster is displayed to the left of the Refresh button.</p>
</li>
<li>
<p>Get a quick view of the cluster in the General section, which includes the following information:</p>
<ul>
<li>
<p>Status of the cluster, Up or Down</p>
<p>Click the <span class="gui-object-action">Status</span> link to drill down to cluster availability details.</p>
</li>
<li>
<p>Number of hosts in the cluster</p>
</li>
<li>
<p>Cluster name</p>
</li>
<li>
<p>The status of Oracle Clusterware overall and by host</p>
</li>
<li>
<p>Oracle Clusterware version</p>
</li>
<li>
<p>Oracle Clusterware home directory.</p>
</li>
</ul>
</li>
<li>
<p>In the Configuration section, use the <span class="gui-object-action">View</span> list to select which of the following information is displayed for the available hosts in the cluster:</p>
<ul>
<li>
<p>Operating Systems (including Hosts and OS Patches)</p>
</li>
<li>
<p>Hardware (including hardware configuration and hosts)</p>
</li>
</ul>
<p>Click the links under <span class="gui-object-action">Host</span> or <span class="gui-object-action">OS Patches</span> for detailed information.</p>
</li>
<li>
<p>View the Diagnostic Summary section which contains the number of active Interconnect alerts. Click the number of alerts to view the Interconnects subpage.</p>
</li>
<li>
<p>Investigate the Cluster Databases table to view the cluster databases associated with this cluster, their availability, any alerts or policy violations on those databases, their security compliance score, and the database software version.</p>
</li>
<li>
<p>View the Alerts section, which includes the following items:</p>
<ul>
<li>
<p>Category list</p>
<p>Optionally choose a category from the list to view only alerts in that category</p>
</li>
<li>
<p>Critical</p>
<p>This is the number of metrics that have crossed critical thresholds plus the number of other critical alerts, such as those caused by incidents (critical errors).</p>
</li>
<li>
<p>Warning</p>
<p>This is the number of metrics that have crossed warning thresholds</p>
</li>
<li>
<p>Alerts table</p>
<p>The Alerts table provides information about any alerts that have been issued along with the severity rating of each. Click the alert message in the Message column for more information about the alert.</p>
<p>When an alert is triggered, the name of the metric for which the alert was triggered is displayed in the Name column. The severity icon for the alert (Warning or Critical) is displayed, along with the time the alert was triggered, the value of the alert, and the time the metric's value was last checked.</p>
</li>
</ul>
</li>
<li>
<p>View the date of the Last Security Evaluation and the Compliance score for the cluster in the Security section.</p>
<p>The compliance score is a value between 0 and 100 where 100 is a state of complete compliance to the security policies. The compliance score calculation for each target and policy combination to a great extent is influenced by the severity of the violation and importance of the policy, and to a lesser extent by the percentage of violating rows over the total number of rows tested.</p>
</li>
<li>
<p>Review the status of any jobs submitted to the cluster within the last seven days in the Job Activity section.</p>
</li>
<li>
<p>Determine if there are patches to be applied to Oracle Clusterware by reviewing the Critical Patch Advisories for Oracle Homes section.</p>
<p>To view available patches, you must have first configured your My Oracle Support (formerly Oracle<span class="italic">MetaLink</span>) Credentials as discussed in <a href="install_rac.htm#BABIJDBA">"Verifying My Oracle Support Credentials"</a>.</p>
</li>
<li>
<p>View basic performance statistics for each host in the cluster in the Hosts table at the bottom of the page.</p>
<p>Click any link in this table to view further details about that statistic.</p>
</li>
<li>
<p>Use the subtabs at the top of the page to view detailed information for Performance, Targets, Interconnects, or Topology.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="#BABGEDJH">"Viewing the Cluster Topology Page"</a></p>
</li>
<li>
<p><a href="softpatch2.htm#BABFFEDG">"Obtaining the Patch"</a></p>
</li>
<li>
<p><a href="preparing.htm#CEGHCIHI">"Verifying Operating System and Software Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABEGDAF"></a>
<div id="TDPRC357" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing the Cluster Performance Page</h3>
<p>The Cluster Performance page displays utilization statistics, such as CPU, Memory, and Disk I/O, during the past hour for all hosts of a cluster, which is part of the greater Enterprise Manager environment. With this information, you can determine whether you need to add or redistribute resources.</p>
<img width="749" height="743" src="img/cluster_perf.gif" alt="Description of cluster_perf.gif follows" /><br />
<a id="sthref521" href="img_text/cluster_perf.htm">Description of the illustration cluster_perf.gif</a><br />
<br />
<p>Using the charts on the Cluster Performance page, you can:</p>
<ul>
<li>
<p>View the CPU, Memory, and Disk I/O charts for the cluster across all hosts.</p>
</li>
<li>
<p>View the CPU, Memory, and Disk I/O charts for each host individually by clicking the host name in the legend to the right of the chart.</p>
</li>
</ul>
<p>The Cluster Performance page also contains a Hosts table. The Hosts table displays summary information for the hosts for the cluster, their availability, any alerts on those hosts, CPU and memory utilization percentage, and total I/O per second. You can click a host name in the Hosts table to go to the performance page for that host.</p>
<img width="892" height="113" src="img/cluster_hosts_table_r2.gif" alt="Description of cluster_hosts_table_r2.gif follows" /><br />
<a id="sthref522" href="img_text/cluster_hosts_table_r2.htm">Description of the illustration cluster_hosts_table_r2.gif</a><br />
<br />
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="#CACJFCCE">"Using the Cluster Database Performance Page"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABCGFHG"></a>
<div id="TDPRC358" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing the Cluster Targets Page</h3>
<p>The Cluster Targets page provides a complete list of all targets on the cluster. The table includes the target name, type, host, and location, also the target's availability, warning and critical alerts, and last load time.</p>
<img width="807" height="324" src="img/cluster_targets2_r2.gif" alt="Description of cluster_targets2_r2.gif follows" /><br />
<a id="sthref523" href="img_text/cluster_targets2_r2.htm">Description of the illustration cluster_targets2_r2.gif</a><br />
<br />
<p>Click a target name to go to the home page for that target. Click the links in the table to get more information about that particular item, alert, or metric.</p>
<p>The Hosts table displays the hosts for the cluster, their availability, any alerts on those hosts, CPU and memory utilization percentage, and total I/O per second.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CFFIHBBH">"Viewing the Cluster Database Topology"</a></div>
</div>
<!-- class="sect2" -->
<a id="BABJIJJF"></a>
<div id="TDPRC359" class="sect2">
<h3 class="sect2">Viewing the Cluster Administration Page</h3>
<div class="infobox-note">
<p class="notep1">Caution:</p>
By default, any named user may create a server pool. To restrict the operating system users that have this privilege, Oracle strongly recommends that you add specific users to the CRS Administrators list. See <a class="olink CWADD91105" href="../../rac.112/e41959/admin.htm#CWADD91105"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about adding users to the CRS Administrators list.</div>
<p>On the Cluster Administration page you can manage Oracle Clusterware resources, create and manage server pools. You can also use this page to configure Oracle Database Quality of Service Management. This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2)</p>
<img width="647" height="168" src="img/cluster_admin_r2.gif" alt="Description of cluster_admin_r2.gif follows" /><br />
<a id="sthref524" href="img_text/cluster_admin_r2.htm">Description of the illustration cluster_admin_r2.gif</a><br />
<br />
<p>If you click Manage Resources, then you go to the Resources page where you can start, stop, or relocate the resources that are registered with Oracle Clusterware.</p>
<img width="781" height="336" src="img/cluster_admin_res_r2.gif" alt="Description of cluster_admin_res_r2.gif follows" /><br />
<a id="sthref525" href="img_text/cluster_admin_res_r2.htm">Description of the illustration cluster_admin_res_r2.gif</a><br />
<br />
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CFFIHBBH">"Viewing the Cluster Database Topology"</a></p>
</li>
<li>
<p><a class="olink APQOS" href="../../server.112/e24611/toc.htm"><span class="italic">Oracle Database Quality of Service Management User's Guide</span></a></p>
</li>
<li>
<p><a class="olink CWADD91076" href="../../rac.112/e41959/troubleshoot.htm#CWADD91076"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABJBHBB"></a>
<div id="TDPRC360" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About the Cluster Interconnects Page</h3>
<p>The Cluster Interconnects page is useful for monitoring the interconnect interfaces, determining configuration issues, and identifying transfer rate-related issues, including excess traffic. This page helps determine the load added by individual instances and databases on the interconnect. Sometimes you can immediately identify interconnect delays that are due to applications outside Oracle.</p>
<p>You can use this page to perform the following tasks:</p>
<ul>
<li>
<p>View all interfaces that are configured across the cluster.</p>
</li>
<li>
<p>View statistics for the interfaces, such as absolute transfer rates and errors.</p>
</li>
<li>
<p>Determine the type of interfaces, such as private or public.</p>
</li>
<li>
<p>Determine whether the instance is using a public or private network.</p>
</li>
<li>
<p>Determine which database instance is currently using which interface.</p>
</li>
<li>
<p>Determine how much the instance is contributing to the transfer rate on the interface.</p>
</li>
</ul>
<img width="769" height="640" src="img/cluster_interconnects_r2.gif" alt="Description of cluster_interconnects_r2.gif follows" /><br />
<a id="sthref526" href="img_text/cluster_interconnects_r2.htm">Description of the illustration cluster_interconnects_r2.gif</a><br />
<br />
<p>The Private Interconnect Transfer Rate value shows a global view of the private interconnect traffic, which is the estimated traffic on all the private networks in the cluster. The traffic is calculated as the summary of the input rate of all private interfaces known to the cluster. For example, if the traffic rate is high, then the values in the Total I/O Rate column in the Interfaces by Hosts table for private interfaces are also high. If the values in this column are high, then you should determine the cause of the high network usage. You can click a number to access the Network Interface Total I/O Rate page for historic statistics and metric values.</p>
<p>Using the Interfaces by Hosts table, you can drill down to the following pages:</p>
<ul>
<li>
<p>Host Home</p>
</li>
<li>
<p>Hardware Details</p>
</li>
<li>
<p>Network Interface Total I/O Rate</p>
</li>
<li>
<p>Network Interface Total Error Rate</p>
</li>
</ul>
<p>Using the Interfaces in Use by Cluster Databases table, you can view the Total Transfer Rate. This value shows the network traffic generated by individual instances for the interfaces they are using as interconnects. The values indicate how frequently the instances are communicating with other instances.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BABHEGHG">"Monitoring Oracle Clusterware"</a></p>
</li>
<li>
<p><a href="intro_tdprc.htm#CJHGEJGJ">"About Oracle Grid Infrastructure for a Cluster and Oracle RAC"</a></p>
</li>
<li>
<p><a href="preparing.htm#BGBCFFEB">"About Network Hardware Requirements"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABGEDJH"></a>
<div id="TDPRC361" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing the Cluster Topology Page</h3>
<p>The Oracle Enterprise Manager Topology Viewer enables you to visually see the relationships between target types in your cluster. You can zoom in or out, pan, and see selection details. Individually distinct icons are used to represent system target types, and standardized visual indicators, such as frames around selections, are used across all target types.</p>
<p>The Topology Viewer populates icons based on your system configuration. If a listener is serving an instance, then a line connects the listener icon and the instance icon. If a cluster database is configured to use Oracle ASM, then the relationship between the cluster Oracle ASM and cluster database appears in the topology.</p>
<p>If the Show Configuration Details option is unchecked, then the topology shows the monitoring view of the environment, which includes general information such as alerts and overall status. If you select the Show Configuration Details option, then additional details are shown in the Selection Details page, which are valid for any topology view. For instance, the listener component would also show the computer name and port number.</p>
<p>You can click an icon and then the right mouse button to display a menu of available actions. Several actions go to pages related to the target type where you can perform monitoring or tuning tasks.</p>
<p>Refer to the Enterprise Manager Online Help for more information about the contents of this page.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CFFIHBBH">"Viewing the Cluster Database Topology"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CJHGGCCA"></a>
<div id="TDPRC362" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Troubleshooting Configuration Problems in Oracle RAC Environments</h2>
<p>Problems can occur when attempting to complete the installation or database creation process manually instead of using the Oracle Database management tools. Other problems occur due to the database administrator or system administrator missing important operating system or cluster configuration steps before installation. Both Oracle Clusterware and Oracle Database components have subcomponents that you can troubleshoot. The Cluster Ready Services Control (CRSCTL) command <code>check</code> enables you to determine the status of several Oracle Clusterware components simultaneously.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACJJGFA">Using CRSCTL to Diagnose Cluster Issues</a></p>
</li>
<li>
<p><a href="#CACBIGGC">Using the Cluster Verification Utility to Diagnose Problems</a></p>
</li>
<li>
<p><a href="#CACJJEBJ">Viewing Oracle RAC Database Alerts</a></p>
</li>
<li>
<p><a href="#CACDFBFE">Viewing Oracle RAC Database Alert Log Messages</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#CEGDFGFE">"Tools for Installing, Configuring, and Managing Oracle RAC"</a></p>
</li>
<li>
<p><a href="install_rac.htm#CBHEDCDF">"About Verifying the Oracle Clusterware Installation"</a></p>
</li>
</ul>
</div>
<a id="CACJJGFA"></a>
<div id="TDPRC363" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using CRSCTL to Diagnose Cluster Issues</h3>
<p><a id="sthref527"></a>You can use CRSCTL commands as the <code>root</code> operating system user to diagnose problems with your Oracle Clusterware installation, or to enable dynamic debugging for Oracle Clusterware. This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACECAHH">About the Oracle Clusterware Alert Log</a></p>
</li>
<li>
<p><a href="#CACGAAGB">About the Oracle Clusterware Component Log Files</a></p>
</li>
<li>
<p><a href="#CACJEHBG">Checking the Status of the Oracle Clusterware Installation</a></p>
</li>
<li>
<p><a href="#CACIIIBA">Running the Oracle Clusterware Diagnostics Collection Script</a></p>
</li>
<li>
<p><a href="#CACICBCB">Enabling Debugging of Oracle Clusterware Components</a></p>
</li>
<li>
<p><a href="#CACGFGFH">Enabling Debugging for an Oracle Clusterware Resource</a></p>
</li>
<li>
<p><a href="#CACFCIHA">Enabling and Disabling Oracle Clusterware Daemons</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro_tdprc.htm#CEGDFGFE">"Tools for Installing, Configuring, and Managing Oracle RAC"</a></p>
</li>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a href="#BABHEGHG">"Monitoring Oracle Clusterware"</a></p>
</li>
</ul>
</div>
<a id="CACECAHH"></a>
<div id="TDPRC364" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About the Oracle Clusterware Alert Log</h4>
<p>Oracle Clusterware posts alert messages when important events occur. For example, you might see alert messages from the Cluster Ready Services (CRS) daemon process when it starts, if it aborts, if the failover process fails, or if automatic restart of an Oracle Clusterware resource failed.</p>
<p>Enterprise Manager monitors the Clusterware log file and posts an alert on the Cluster Home page if an error is detected. For example, if a voting disk is not available, then a <code>CRS-1604</code> error is raised, and a critical alert is posted on the Cluster Home page. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The Oracle Clusterware should be the first place to look for serious errors. It often contains references to other diagnostic logs that provide detailed information on a specific component. The location of the Oracle Clusterware log file is <code><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code><code>/log/</code><code><span class="codeinlineitalic">hostname</span></code><code>/alert</code><code><span class="codeinlineitalic">hostname</span></code><code>.log</code>, where <code><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code> is the directory in which Oracle Clusterware was installed and <code><span class="codeinlineitalic">hostname</span></code> is the host name of the local node.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD" href="../e41960/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a href="#BABHEGHG">"Monitoring Oracle Clusterware"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACGAAGB"></a>
<div id="TDPRC365" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About the Oracle Clusterware Component Log Files</h4>
<p>Oracle RAC uses a unified log directory structure to store all the Oracle Clusterware component log files. This consolidated structure simplifies diagnostic information collection and assists during data retrieval and problem analysis.</p>
<p>In each of the following log file locations, <code><span class="codeinlineitalic">hostname</span></code> is the name of the node, for example, <code>racnode2</code> and <span class="italic">CRS_home</span> is the directory in which the Oracle Clusterware software was installed.</p>
<p>The log files for the CRS daemon, <code>crsd</code>, can be found in the following directory:</p>
<pre>
<span class="italic"><span class="italic">CRS_home</span></span>/log/<span class="italic">hostname</span>/crsd/
</pre>
<p>The log files for the CSS daemon, <code>cssd</code>, can be found in the following directory:</p>
<pre>
<span class="italic"><span class="italic">CRS_home</span></span>/log/<span class="italic">hostname</span>/cssd/
</pre>
<p>The log files for the EVM daemon, <code>evmd</code>, can be found in the following directory:</p>
<pre>
<span class="italic">CRS_home</span>/log/<span class="italic">hostname</span>/evmd/
</pre>
<p>The log files for the Oracle Cluster Registry (OCR) can be found in the following directory:</p>
<pre>
<span class="italic">CRS_home</span>/log/<span class="italic">hostname</span>/client/
</pre>
<p>Each program that is part of the Oracle RAC high availability component has a subdirectory assigned exclusively for that program. The name of the subdirectory equals the name of the program.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If any of the Oracle Clusterware components generates a core dump file, then the dump file is located in a subdirectory of the log directory for that component.</div>
</div>
<!-- class="sect3" -->
<a id="CACJEHBG"></a>
<div id="TDPRC366" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Checking the Status of the Oracle Clusterware Installation</h4>
<p><a id="sthref528"></a><a id="sthref529"></a>Use the CRSCTL <code>check</code> command to display the status of an Oracle Clusterware component or daemon.</p>
<p class="subhead2"><a id="TDPRC367"></a>To determine the condition of your clusterware installation:</p>
<ol>
<li>
<p>Log in to the operating system as the <code>root</code> user in a command window.</p>
</li>
<li>
<p>Use CRSCTL to check the status of Oracle Clusterware using the following command:</p>
<pre>
# crsctl check crs
</pre></li>
<li>
<p><a id="sthref530"></a><a id="sthref531"></a><a id="sthref532"></a>Check the status of an individual Oracle Clusterware daemon using the following syntax, where <code><span class="codeinlineitalic">daemon</span></code> is <code>crsd</code>, <code>cssd</code>, or <code>evmd</code>:</p>
<pre>
# crsctl check <span class="italic">daemon</span>
</pre></li>
<li>
<p><a id="sthref533"></a>To list the status of all Oracle Clusterware resources running on any node in the cluster, use the following command:</p>
<pre>
# crsctl status resource -t
</pre>
<p>This command lists the status of all registered Oracle Clusterware resources, which includes the VIPs, listeners, databases, services, and Oracle ASM instances and disk groups.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CACIIIBA"></a>
<div id="TDPRC368" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Running the Oracle Clusterware Diagnostics Collection Script</h4>
<p><a id="sthref534"></a>The Oracle Clusterware Diagnostics Collection script collects diagnostic information for your Oracle Clusterware installation. The diagnostics provide additional information so that Oracle Support Services can resolve problems. It displays the status of the Cluster Synchronization Services (CSS), Event Manager (EVM), and the Cluster Ready Services (CRS) daemons.</p>
<p class="subhead2"><a id="TDPRC369"></a>To run the Oracle Clusterware Diagnostics Collection script:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Run the <code>diagcollection.pl</code> script from the operating system prompt as follows, where <span class="italic">Grid_home</span> is the home directory of your Oracle Grid Infrastructure for a cluster installation:</p>
<pre>
# <span class="italic">Grid_home</span>/bin/diagcollection.pl --collect
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CACICBCB"></a>
<div id="TDPRC370" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Enabling Debugging of Oracle Clusterware Components</h4>
<p>You can enable debugging for the Oracle Cluster daemons, Event Manager (EVM), and their modules by running CRSCTL commands.</p>
<p class="subhead2"><a id="TDPRC371"></a>To enable debugging of Oracle Clusterware components:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Use the following command to obtain the module names for a component, where <code><span class="codeinlineitalic">component_name</span></code> is <code>crs</code>, <code>evm</code>, <code>css</code> or the name of the component for which you want to enable debugging:</p>
<pre>
# crsctl lsmodules <span class="italic">component_name</span>
</pre>
<p>For example, viewing the modules of the <code>css</code> component might return the following results:</p>
<pre>
# crsctl lsmodules css
The following are the CSS modules :: 
CSSD
COMMCRS
COMMNS
</pre></li>
<li>
<p>Use CRSCTL as follows, where <code><span class="codeinlineitalic">component_name</span></code> is the name of the Oracle Clusterware component for which you want to enable debugging, <code><span class="codeinlineitalic">module</span></code> is the name of module, and <code><span class="codeinlineitalic">debugging_level</span></code> is a number from 1 to 5:</p>
<pre>
# crsctl debug log <span class="codeinlineitalic">component</span> <span class="codeinlineitalic">module</span>:<span class="codeinlineitalic">debugging_level</span>
</pre>
<p>For example, to enable the lowest level of tracing for the <code>CSSD</code> module of the <code>css</code> component, you would use the following command:</p>
<pre>
# crsctl debug log css CSSD:1
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CACGFGFH"></a>
<div id="TDPRC372" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Enabling Debugging for an Oracle Clusterware Resource</h4>
<p>You can use CRSCTL commands to enable debugging for resource managed by Oracle Clusterware.</p>
<p class="subhead2"><a id="TDPRC373"></a>To enable debugging of an Oracle Clusterware resource:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Obtain a list of the resources available for debugging by running the following command:</p>
<pre>
# crsctl check crs
</pre></li>
<li>
<p>Run the following command to enable debugging, where <code><span class="codeinlineitalic">resource_name</span></code> is the name of an Oracle Clusterware resource, such as <code>ora.racnode1.vip</code>, and <code><span class="codeinlineitalic">debugging_level</span></code> is a number from 1 to 5:</p>
<pre>
# crsctl debug log res <span class="italic">resource_name</span>:<span class="italic">debugging_level</span>
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CACFCIHA"></a>
<div id="TDPRC374" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Enabling and Disabling Oracle Clusterware Daemons</h4>
<p>When the Oracle Clusterware daemons are enabled, they start automatically when the node is started. To prevent the daemons from starting automatically, you can disable them using <code>crsctl</code> commands.</p>
<p class="subhead2"><a id="TDPRC596"></a>To enable automatic startup for all Oracle Clusterware daemons:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Run the following CRSCTL command:</p>
<pre>
# crsctl enable crs
</pre></li>
</ol>
<p class="subhead2"><a id="TDPRC597"></a>To disable automatic startup for all Oracle Clusterware daemons:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Run the following CRSCTL command:</p>
<pre>
# crsctl disable crs
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD" href="../e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACBIGGC"></a>
<div id="TDPRC377" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using the Cluster Verification Utility to Diagnose Problems</h3>
<p><a id="sthref535"></a>The Cluster Verification Utility (CVU) can assist you in diagnosing a wide variety of configuration problems.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACGEGAJ">Verifying the Existence of Node Applications</a></p>
</li>
<li>
<p><a href="#CACBGABD">Verifying the Integrity of Oracle Clusterware Components</a></p>
</li>
<li>
<p><a href="#CACGDCDI">Verifying the Integrity of the Oracle Cluster Registry</a></p>
</li>
<li>
<p><a href="#CACBFJIH">Verifying the Integrity of Your Entire Cluster</a></p>
</li>
<li>
<p><a href="#CACEFDJG">Checking the Settings for the Interconnect</a></p>
</li>
<li>
<p><a href="#CACDHCEF">Enabling Tracing</a></p>
</li>
</ul>
<a id="CACGEGAJ"></a>
<div id="TDPRC378" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Verifying the Existence of Node Applications</h4>
<p><a id="sthref536"></a>You use the CVU <code>comp nodeapp</code> command to verify the existence of node applications, namely the virtual IP (VIP), Oracle Notification Services (ONS), and Global Service Daemon (GSD), on all the nodes.</p>
<p class="subhead2"><a id="TDPRC379"></a>To verify the existence of node applications:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the user who owns the Oracle Clusterware software installation.</p>
</li>
<li>
<p>Use the <code>comp nodeapp</code> command of CVU, using the following syntax:</p>
<pre>
cluvfy comp nodeapp [ -n <span class="italic">node_list</span>] [-verbose]
</pre>
<p>where <code><span class="codeinlineitalic">node_list</span></code> represents the nodes to check.</p>
</li>
<li>
<p>If the <code>cluvfy</code> command returns the value of <code>UNKNOWN</code> for a particular node, then CVU cannot determine whether a check passed or failed. Determine if the failure was caused by one of the following reasons:</p>
<ul>
<li>
<p>The node is down.</p>
</li>
<li>
<p>Executable files that CVU requires are missing in the <code><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code><code>/bin</code> directory or the <code><span class="italic">Oracle_home</span>/bin</code> directory.</p>
</li>
<li>
<p>The user account that ran CVU does not have permissions to run common operating system executable files on the node.</p>
</li>
<li>
<p>The node is missing an operating system patch or required package.</p>
</li>
<li>
<p>The kernel parameters on that node were not configured correctly and CVU cannot obtain the operating system resources required to perform its checks.</p>
</li>
</ul>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACBGABD"></a>
<div id="TDPRC380" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Verifying the Integrity of Oracle Clusterware Components</h4>
<p>You use the CVU <code>comp crs</code> command to verify the existence of all the Oracle Clusterware components.</p>
<p class="subhead2"><a id="TDPRC381"></a>To verify the integrity of Oracle Clusterware components:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the user who owns the Oracle Clusterware software installation.</p>
</li>
<li>
<p>Use the <code>comp crs</code> command of CVU, using the following syntax:</p>
<pre>
cluvfy comp crs [ -n <span class="italic">node_list</span>] [-verbose]
</pre>
<p>where <code><span class="codeinlineitalic">node_list</span></code> represents the nodes to check.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACGDCDI"></a>
<div id="TDPRC382" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Verifying the Integrity of the Oracle Cluster Registry</h4>
<p>You use the CVU <code>comp ocr</code> command to verify the integrity of the Oracle Clusterware registry.</p>
<p class="subhead2"><a id="TDPRC383"></a>To verify the integrity of the Oracle Clusterware registry:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the user who owns the Oracle Clusterware software installation.</p>
</li>
<li>
<p>Use the <code>comp ocr</code> command of CVU, using the following syntax:</p>
<pre>
cluvfy comp ocr [ -n <span class="italic">node_list</span>] [-verbose]
</pre>
<p>where <code><span class="codeinlineitalic">node_list</span></code> represents the nodes to check.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACBFJIH"></a>
<div id="TDPRC384" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Verifying the Integrity of Your Entire Cluster</h4>
<p>You use the CVU <code>comp clu</code> command to check that all nodes in the cluster have the same view of the cluster configuration.</p>
<p class="subhead2"><a id="TDPRC385"></a>To verify the integrity of your cluster:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the user who owns the Oracle Clusterware software installation.</p>
</li>
<li>
<p>Use the <code>comp clu</code> command of CVU, using the following syntax:</p>
<pre>
cluvfy comp clu [-verbose]
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a href="install_rac.htm#BHCGJIFG">"Verifying Your Oracle RAC Database Installation"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACEFDJG"></a>
<div id="TDPRC386" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Checking the Settings for the Interconnect</h4>
<p><a id="sthref537"></a>Cache Fusion enhances the performance of Oracle RAC by utilizing a high-speed interconnect to send data blocks to another instance's buffer cache. The high-speed interconnect should be a private network with the highest bandwidth to maximize performance.</p>
<p>For network connectivity verification, CVU discovers all the available network interfaces if you do not specify an interface on the CVU command line.</p>
<p class="subhead2"><a id="TDPRC387"></a>To check the settings for the interconnect:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the user who owns the Oracle Clusterware software installation.</p>
</li>
<li>
<p><a id="sthref538"></a>To verify the accessibility of the cluster nodes, specified by <code><span class="codeinlineitalic">node_list</span></code>, from the local node or from any other cluster node, specified by <code><span class="codeinlineitalic">srcnode</span></code>, use the component verification command <code>nodereach</code> as follows:</p>
<pre>
cluvfy comp nodereach -n <span class="italic">node_list</span> [ -srcnode <span class="italic">node</span> ] [-verbose]
</pre></li>
<li>
<p>To verify the connectivity among the nodes, specified by <code><span class="codeinlineitalic">node_list</span></code>, through the available network interfaces from the local node or from any other cluster node, use the <code>comp nodecon</code> command as shown in the following example:</p>
<pre>
cluvfy comp nodecon -n <span class="italic">node_list</span> -verbose
</pre>
<p>When you issue the <code>nodecon</code> command as shown in the previous example, it instructs CVU to perform the following tasks:</p>
<ul>
<li>
<p>Discover all the network interfaces that are available on the specified cluster nodes.</p>
</li>
<li>
<p>Review the corresponding IP addresses and subnets for the interfaces.</p>
</li>
<li>
<p>Obtain the list of interfaces that are suitable for use as VIPs and the list of interfaces to private interconnects.</p>
</li>
<li>
<p>Verify the connectivity among all the nodes through those interfaces.</p>
</li>
</ul>
<p>When you run the <code>nodecon</code> command in verbose mode, it identifies the mappings between the interfaces, IP addresses, and subnets.</p>
</li>
<li>
<p>To verify the connectivity among the nodes through specific network interfaces, use the <code>comp nodecon</code> command with the <code>-i</code> option and specify the interfaces to be checked with the <code><span class="codeinlineitalic">interface_list</span></code> argument:</p>
<pre>
cluvfy comp nodecon -n <span class="italic">node_list</span> -i <span class="italic">interface_list</span> [-verbose]
</pre>
<p>For example, you can verify the connectivity among the nodes <code>racnode1</code>, <code>racnode2</code>, and <code>racnode3</code>, through the specific network interface <code>eth0</code> by running the following command:</p>
<pre>
cluvfy comp nodecon -n racnode1,racnode2,racnode3 -i eth0 -verbose
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a href="preparing.htm#CEGEEEGI">"Configuring the Network"</a></p>
</li>
<li>
<p><a href="preparing.htm#BABGFGBJ">"Configuring Secure Shell"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACDHCEF"></a>
<div id="TDPRC388" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Enabling Tracing</h4>
<p><a id="sthref539"></a>CVU does not generate trace files unless you enable tracing. The CVU trace files are created in the <code><span class="codeinlineitalic"><span class="italic">CRS_home</span></span></code><code>/cv/log</code> directory. Oracle RAC automatically rotates the log files, and the most recently created log file has the name <code>cvutrace.log.0</code>. You should remove unwanted log files or archive them to reclaim disk space, if needed.</p>
<p class="subhead2"><a id="TDPRC389"></a>To enable tracing using CVU:</p>
<ol>
<li>
<p>In a command window, log in to the operating system as the <code>root</code> user.</p>
</li>
<li>
<p>Set the environment variable <code>SRVM_TRACE</code> to <code>true</code>.</p>
<pre>
# set SRVM_TRACE=true; export SRVM_TRACE
</pre></li>
<li>
<p>Run the command to trace.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACJJEBJ"></a>
<div id="TDPRC390" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing Oracle RAC Database Alerts</h3>
<p><a id="sthref540"></a><a id="sthref541"></a><a id="sthref542"></a>Alert messages are displayed in Enterprise Manager. The Alerts table is similar to that shown for single-instance databases, but in a cluster database, it includes columns for the target name and target type. For example, if a user connected to the <code>orcl1</code> instance exceeded their allotted login time, then you would see an alert message with the following values:</p>
<ul>
<li>
<p>Target name: <code>orcl_orcl1</code></p>
</li>
<li>
<p>Target type: Database instance</p>
</li>
<li>
<p>Category: Response</p>
</li>
<li>
<p>Name: User logon time</p>
</li>
<li>
<p>Message: User logon time is 10250 milliseconds</p>
</li>
<li>
<p>Alert triggered: <span class="italic">Date and time when the alert condition occurred</span></p>
</li>
</ul>
<p class="subhead2"><a id="TDPRC391"></a>To view the alert messages for an Oracle RAC database:</p>
<ol>
<li>
<p>On the Cluster Database Home page, scroll down to the section titled Alerts.</p>
<p>The section Related Alerts displays nondatabase alert messages, for example, alert messages for Oracle Net.</p>
</li>
<li>
<p>View the alerts for your database and database instances.</p>
<p>The following screenshot shows an example of the Alerts display for a clustered database named <code>docrac</code>.</p>
<img width="784" height="292" src="img/racalert.gif" alt="Description of racalert.gif follows" /><br />
<a id="sthref543" href="img_text/racalert.htm">Description of the illustration racalert.gif</a><br />
<br /></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CJHEHEFD">"Monitoring Oracle RAC Database and Cluster Performance"</a></p>
</li>
<li>
<p><a href="#CJHGGCCA">"Troubleshooting Configuration Problems in Oracle RAC Environments"</a></p>
</li>
<li>
<p><a class="olink ADMQS1011" href="../../server.112/e10897/montune.htm#ADMQS1011"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p><a class="olink TDPPT045" href="../../server.112/e10822/tdppt_alerts.htm#TDPPT045"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACDFBFE"></a>
<div id="TDPRC392" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing Oracle RAC Database Alert Log Messages</h3>
<p><a id="sthref544"></a><a id="sthref545"></a><a id="sthref546"></a>An alert log is created for each instance in a cluster database.</p>
<p class="subhead2"><a id="TDPRC393"></a>To view the alert log for an Oracle RAC database instance:</p>
<ol>
<li>
<p>On the Cluster Database Home page, scroll down to the Instances section.</p>
</li>
<li>
<p>Click the name of the instance for which you want to view the alert log.</p>
<p>The Cluster Database Instance Home page appears.</p>
</li>
<li>
<p>In the Diagnostic Summary section, click the link next to the heading <span class="gui-object-action">Alert Log</span> to display the alert log entries containing ORA- errors.</p>
<p>The Alert Log Errors page appears.</p>
</li>
<li>
<p>(Optional) Click <span class="gui-object-action">Alert Log Contents</span> in the Related Links section to view all the entries in the alert log.</p>
<p>On the View Alert Log Contents page, click Go to view the most recent entries, or you can enter your own search criteria.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD512" href="../../rac.112/e41960/appsupport.htm#RACAD512"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a href="#BABHEGHG">"Monitoring Oracle Clusterware"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABICHBJ"></a>
<div id="TDPRC529" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Monitoring and Tuning Oracle RAC: Oracle By Example Series</h2>
<p>Oracle By Example (OBE) has a <span class="italic">viewlet</span>, or animated demo, on using ADDM for an Oracle RAC database.</p>
<p>To view the Monitoring and Tuning viewlet using your browser, enter the following URL:</p>
<pre>
<a href="http://www.oracle.com/technetwork/dbadev/index.html">http://www.oracle.com/technetwork/dbadev/index.html</a>
</pre>
<p>From the menu on the lower left side of the screen, select <span class="gui-object-action">Database Learning Library</span>. Perform a search using the following parameters:</p>
<ul>
<li>
<p>Content Type: Demo</p>
</li>
<li>
<p>Functional Category: Grid</p>
</li>
<li>
<p>Product Suite: Oracle Database 11g (ODB11g)</p>
</li>
</ul>
<p>Click a title to start a demonstration, for example "Use Global ADDM Analysis in a RAC Environment".</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment392">
<tr>
<td class="cellalignment399">
<table class="cellalignment397">
<tr>
<td class="cellalignment396"><a href="configwlm.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment396"><a href="addnodes.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment401">
<table class="cellalignment395">
<tr>
<td class="cellalignment396"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment396"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment396"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment396"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment396"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment396"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
