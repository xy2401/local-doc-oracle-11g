<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Cluster Registry Utility Reference</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="dcterms.created" content="2015-06-03T16:55:40Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide" />
<meta name="dcterms.identifier" content="E41959-04" />
<meta name="dcterms.isVersionOf" content="CWADD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="crs_api.htm" title="Previous" type="text/html" />
<link rel="Next" href="troubleshoot.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41959.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">18/21</span> <!-- End Header -->
<div id="CWADD92022" class="appendix"><a id="BABGGCCA"></a>
<h1 class="appendix"><span class="secnum">G</span> Oracle Cluster Registry Utility Reference</h1>
<p>This appendix describes the syntax of the Oracle Cluster Registry (OCR) configuration utility, OCRCONFIG, and troubleshooting OCR, which includes descriptions and usage information for OCRCHECK and OCRDUMP.</p>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#BABEGBEJ">About OCRCONFIG</a></p>
<ul>
<li>
<p><a href="#BEHFCHBI">Overview</a></p>
</li>
<li>
<p><a href="#BEHEJIGJ">Operational Notes</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#BABFHCGA">OCRCONFIG Command Reference</a></p>
</li>
<li>
<p><a href="#BABDIEHC">Troubleshooting Oracle Cluster Registry and Diagnostic Output</a></p>
</li>
</ul>
<div class="refentry"><a id="BABEGBEJ"></a>
<div id="CWADD92023" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">About OCRCONFIG</h2>
<p>This section contains topics which relate to using the OCRCONFIG utility.</p>
<ul>
<li>
<p><a href="#BEHFCHBI">Overview</a></p>
</li>
<li>
<p><a href="#BEHEJIGJ">Operational Notes</a></p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BEHFCHBI"></a>Overview</p>
<p>Use the <code dir="ltr">ocrconfig</code> command to manage OCR. Using this utility you can import, export, add, delete, restore, overwrite, backup, repair, replace, move, upgrade, or downgrade OCR.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BEHEJIGJ"></a>Operational Notes</p>
<p class="subhead2"><a id="CWADD92024"></a>Usage Information</p>
<ul>
<li>
<p>The OCRCONFIG executable is located in the <code dir="ltr">Grid_home/bin</code> directory</p>
</li>
<li>
<p>The <code dir="ltr">ocrconfig</code> <a id="sthref1214"></a>command syntax is as follows:</p>
<pre dir="ltr">
ocrconfig <span class="italic">-option</span>
</pre></li>
</ul>
<p class="subhead2"><a id="CWADD92025"></a>Using Utility Help</p>
<p>To display the help output for the OCRCONFIG utility:</p>
<pre dir="ltr">
ocrconfig -help
</pre>
<p class="subhead2"><a id="CWADD92026"></a>Privileges and Security</p>
<p>To use the OCRCONFIG utility you must be logged into the operating system as a user with administrative privileges.</p>
<p class="subhead2"><a id="CWADD92027"></a>Log Files</p>
<p>The OCRCONFIG utility creates a log file in <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/</code><code dir="ltr"><span class="codeinlineitalic">host_name</span></code><code dir="ltr">/client</code>.</p>
<p>To change<a id="sthref1215"></a> the amount of logging, edit the path in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/srvm/admin/ocrlog.ini</code> file.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABFHCGA"></a>
<div id="CWADD92028" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">OCRCONFIG Command Reference</h2>
<p>This section lists the following OCRCONFIG commands:</p>
<ul>
<li>
<p><code dir="ltr"><a href="#BABDEJEC">ocrconfig -add</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABEGCEJ">ocrconfig -backuploc</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABBBHCG">ocrconfig -delete</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABICCFD">ocrconfig -downgrade</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABFBGBB">ocrconfig -export</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABFCHHI">ocrconfig -import</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABCCDDE">ocrconfig -manualbackup</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABBDCJB">ocrconfig -overwrite</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABIIGEA">ocrconfig -repair</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABCAHDB">ocrconfig -replace</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABIEAIB">ocrconfig -restore</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABIGIGG">ocrconfig -showbackup</a></code></p>
</li>
<li>
<p><code dir="ltr"><a href="#BABBDIAF">ocrconfig -upgrade</a></code></p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABDEJEC"></a>ocrconfig -add</p>
<p>Use the <a id="sthref1216"></a><code dir="ltr">ocrconfig -add</code> command to add an OCR location to a storage device or Oracle Automatic Storage Management (Oracle ASM) disk group. OCR locations that you add must exist, have sufficient permissions, and, in the case of Oracle ASM disk groups, must be mounted before you can add them.</p>
<p class="subhead2"><a id="CWADD92029"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -add <span class="italic">location_name</span>
</pre>
<p class="subhead2"><a id="CWADD92030"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">location_name</span></code> variable can be a device name, a file name, or the name of an Oracle ASM disk group. For example:</p>
<ul>
<li>
<p><code dir="ltr">/dev/raw/raw1</code>: Ensure that the device exists</p>
</li>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code>: You must create an empty (0 byte) OCR location</p>
</li>
<li>
<p><code dir="ltr">d:\oracle\mirror.ocr</code>: You must create an empty (0 byte) OCR location</p>
</li>
<li>
<p><code dir="ltr">+newdg</code>: Ensure that the disk group exists and is mounted</p>
<p>If you specify an Oracle ASM disk group, the name of the disk group must be preceded by a plus sign (<code dir="ltr">+</code>).</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about creating OCR locations and setting correct permissions</p>
</li>
<li>
<p><a class="olink OSTMG137" href="../../server.112/e18951/asmdiskgrps.htm#OSTMG137"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about Oracle ASM disk group management</p>
</li>
</ul>
</div>
</li>
</ul>
<p class="subhead2"><a id="CWADD92031"></a>Example</p>
<p>To add an OCR location to the default location in Oracle ASM, <code dir="ltr">data</code>:</p>
<pre dir="ltr">
# ocrconfig -add +data
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABEGCEJ"></a>ocrconfig -backuploc</p>
<p>Use the <a id="sthref1217"></a><code dir="ltr">ocrconfig -backuploc</code> command to specify an OCR backup directory location.</p>
<p class="subhead2"><a id="CWADD92032"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -backuploc <span class="italic">file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92033"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Use the <code dir="ltr">-local</code> option to specify an OLR backup directory location.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> variable can be a full directory path name that is accessible by all nodes. For example:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cdata/cluster3/</code>: Ensure that the location exists</p>
</li>
<li>
<p><code dir="ltr">d:\cdata\cluster3</code>: Ensure that the location exists</p>
</li>
</ul>
</li>
<li>
<p>The default location for generating OCR backups on Linux or UNIX systems is <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cdata/</code><code dir="ltr"><span class="codeinlineitalic">cluster_name</span></code>, where <code dir="ltr"><span class="codeinlineitalic">cluster_name</span></code> is the name of your cluster. The Windows default location for generating OCR backups uses the same path structure.</p>
</li>
<li>
<p>The default location for generating OLR backups on Linux or UNIX systems is <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cdata/</code><code dir="ltr"><span class="codeinlineitalic">host_name</span></code>, where <code dir="ltr"><span class="codeinlineitalic">host_name</span></code> is the name of the node on which the OLR resides that you want to back up. The Windows default location for generating OLR backups uses the same path structure.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92034"></a>Example</p>
<p>To specify an OCR backup location in a directory:</p>
<pre dir="ltr">
# ocrconfig -backuploc <span class="italic">$Grid_home</span>/cdata/cluster3
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABBBHCG"></a>ocrconfig -delete</p>
<p>Use the <a id="sthref1218"></a><code dir="ltr">ocrconfig -delete</code> command to remove an OCR device or file.</p>
<p class="subhead2"><a id="CWADD92035"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -delete <span class="italic">file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92036"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> variable can be a device name, a file name, or the name of an Oracle ASM disk group. For example:</p>
<ul>
<li>
<p><code dir="ltr">/dev/raw/raw1</code></p>
</li>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code></p>
</li>
<li>
<p><code dir="ltr">d:\oracle\mirror.ocr</code></p>
</li>
<li>
<p><code dir="ltr">+olddg</code></p>
</li>
</ul>
<p>If you specify an Oracle ASM disk group, the name of the disk group must be preceded by a plus sign (<code dir="ltr">+</code>).</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92037"></a>Example</p>
<p>To remove an OCR location:</p>
<pre dir="ltr">
# ocrconfig -delete +olddg
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABICCFD"></a>ocrconfig -downgrade</p>
<p>Use the <a id="sthref1219"></a><code dir="ltr">ocrconfig -downgrade</code> command to downgrade OCR to an earlier specified version.</p>
<p class="subhead2"><a id="CWADD92038"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -downgrade [-version <span class="italic">version_string</span>]
</pre>
<p class="subhead2"><a id="CWADD92039"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92040"></a>Example</p>
<p>To downgrade OCR to an earlier version:</p>
<pre dir="ltr">
# ocrconfig -downgrade -version
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABFBGBB"></a>ocrconfig -export</p>
<p>Use the <a id="sthref1220"></a><code dir="ltr">ocrconfig -export</code> command to export the contents of OCR to a target file.</p>
<p class="subhead2"><a id="CWADD92041"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -export <span class="italic">file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92042"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Use the <code dir="ltr">-local</code> option to export the contents of OLR.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> variable can be a full path name that is accessible by all nodes. For example:</p>
<ul>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code></p>
</li>
<li>
<p><code dir="ltr">d:\oracle\</code></p>
</li>
</ul>
</li>
</ul>
<p class="subhead2"><a id="CWADD92043"></a>Example</p>
<p>To export the contents of OCR to a file:</p>
<pre dir="ltr">
# ocrconfig -export d:\tmp\a
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABFCHHI"></a>ocrconfig -import</p>
<p>Use the <a id="sthref1221"></a><code dir="ltr">ocrconfig -import</code> command to import the contents of a target file into which you exported the contents of OCR back into OCR.</p>
<p class="subhead2"><a id="CWADD92044"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -import <span class="italic">file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92045"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Use the <code dir="ltr">-local</code> option to import the contents of OLR from a file.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> variable must be a full path name that is accessible by all nodes. For example:</p>
<ul>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code></p>
</li>
<li>
<p><code dir="ltr">d:\oracle\</code></p>
</li>
</ul>
</li>
<li>
<p>You must shut down Oracle Clusterware before running this command.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92046"></a>Example</p>
<p>To import the contents a file back into OCR:</p>
<pre dir="ltr">
# ocrconfig -import d:\tmp\a
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABCCDDE"></a>ocrconfig -manualbackup</p>
<p>Use the <a id="sthref1222"></a><code dir="ltr">ocrconfig -manualbackup</code> command to back up OCR on demand in the location you specify with the <code dir="ltr">-backuploc</code> option.</p>
<p class="subhead2"><a id="CWADD92047"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -manualbackup
</pre>
<p class="subhead2"><a id="CWADD92048"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Use the <code dir="ltr">-local</code> option to perform a manual backup of OLR.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92049"></a>Example</p>
<p>To back up OCR:</p>
<pre dir="ltr">
# ocrconfig -manualbackup
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABBDCJB"></a>ocrconfig -overwrite</p>
<p>Use the <a id="sthref1223"></a><code dir="ltr">ocrconfig -overwrite</code> command to overwrite an OCR configuration in the OCR metadata with the current OCR configuration information that is found on the node from which you run this command.</p>
<p class="subhead2"><a id="CWADD92050"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -overwrite
</pre>
<p class="subhead2"><a id="CWADD92051"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92052"></a>Example</p>
<p>To overwrite an OCR configuration:</p>
<pre dir="ltr">
# ocrconfig -overwrite
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABIIGEA"></a>ocrconfig -repair</p>
<p>Use the <a id="sthref1224"></a><code dir="ltr">ocrconfig -repair</code> command to repair an OCR configuration on the node from which you run this command. Use this command to add, delete, or replace an OCR location on a node that may have been stopped while you made changes to the OCR configuration in the cluster. OCR locations that you add must exist, have sufficient permissions, and, in the case of Oracle ASM disk groups, must be mounted before you can add them.</p>
<p class="subhead2"><a id="CWADD92053"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -repair -add <span class="italic">file_name</span> | -delete <span class="italic">file_name</span> | -replace 
<span class="italic">current_file_name</span> -replacement <span class="italic">new_file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92054"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Oracle High Availability Services must be started to successfully complete the repair.</p>
</li>
<li>
<p>The Cluster Ready Services daemon must be stopped before running <code dir="ltr">ocrconfig -repair</code>.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> variable can be a valid OCR and either a device name, an absolute path name of an existing file, or the name of an Oracle ASM disk group. For example:</p>
<ul>
<li>
<p><code dir="ltr">/dev/raw/raw1</code></p>
</li>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code></p>
</li>
<li>
<p><code dir="ltr">d:\oracle\mirror.ocr</code></p>
</li>
<li>
<p><code dir="ltr">+newdg</code></p>
<p>If you specify an Oracle ASM disk group, the name of the disk group must be preceded by a plus sign (<code dir="ltr">+</code>).</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about creating OCRs and setting correct permissions</p>
</li>
<li>
<p><a class="olink OSTMG137" href="../../server.112/e18951/asmdiskgrps.htm#OSTMG137"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about Oracle ASM disk group management</p>
</li>
</ul>
</div>
</li>
<li>
<p>You can only use one option with <code dir="ltr">ocrconfig -repair</code> at a time.</p>
</li>
<li>
<p>Running this command only modifies the local configuration and it and only affects the current node.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92055"></a>Example</p>
<p>To repair an OCR configuration:</p>
<pre dir="ltr">
# ocrconfig -repair -delete +olddg
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABCAHDB"></a>ocrconfig -replace</p>
<p>Use the <a id="sthref1225"></a><code dir="ltr">ocrconfig -replace</code> command to replace an OCR device or file on the node from which you run this command. OCR locations that you add must exist, have sufficient permissions, and, in the case of Oracle ASM disk groups, must be mounted before you can add them.</p>
<p class="subhead2"><a id="CWADD92056"></a>Syntax</p>
<pre dir="ltr">
ocrconfig -replace <span class="italic">current_location_name</span> -replacement <span class="italic">new_location_name</span>
</pre>
<p class="subhead2"><a id="CWADD92057"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>The <code dir="ltr"><span class="codeinlineitalic">new_location_name</span></code> variable can be a device name, a file name, or the name of an Oracle ASM disk group. For example:</p>
<ul>
<li>
<p><code dir="ltr">/dev/raw/raw1</code>: Ensure that the device exists</p>
</li>
<li>
<p><code dir="ltr">/oradbocfs/crs/data.ocr</code>: You must create an empty (0 byte) OCR location</p>
</li>
<li>
<p><code dir="ltr">d:\oracle\mirror.ocr</code>: You must create an empty (0 byte) OCR location</p>
</li>
<li>
<p><code dir="ltr">+newdg</code>: Ensure that the disk group exists and is mounted</p>
<p>If you specify an Oracle ASM disk group, the name of the disk group must be preceded by a plus sign (<code dir="ltr">+</code>).</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about creating OCRs and setting correct permissions</p>
</li>
<li>
<p><a class="olink OSTMG137" href="../../server.112/e18951/asmdiskgrps.htm#OSTMG137"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information about Oracle ASM disk group management</p>
</li>
</ul>
</div>
</li>
<li>
<p>You must have at least two OCR devices to use this command. If you do not have at least two OCR devices, then you must run the <code dir="ltr">ocrconfig -add</code> command to add a new OCR device followed by the <code dir="ltr">ocrconfig -delete</code> command to delete the OCR device you want to replace.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92058"></a>Example</p>
<p>To replace an OCR device or file:</p>
<pre dir="ltr">
# ocrconfig -replace /dev/raw/raw1 -replacement +newdg
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABIEAIB"></a>ocrconfig -restore</p>
<p>Use the <a id="sthref1226"></a><code dir="ltr">ocrconfig -restore</code> command to restore OCR from an automatically created OCR backup file.</p>
<p class="subhead2"><a id="CWADD92059"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -restore <span class="italic">file_name</span>
</pre>
<p class="subhead2"><a id="CWADD92060"></a>Usage Notes</p>
<ul>
<li>
<p>You must run this command as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Before running this command, ensure that the original OCR or OLR files exist. If the original file does not exist, then you must create an empty file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use a file generated by the <code dir="ltr">ocrconfig -export</code> to restore OCR. The file must be a manual or automatic backup.</div>
</li>
<li>
<p>Use the <code dir="ltr">-local</code> option to restore a backup of OLR.</p>
</li>
<li>
<p>Example file names are:</p>
<ul>
<li>
<p><code dir="ltr">/oradbocfs/crs/BACKUP00.ocr</code></p>
</li>
<li>
<p><code dir="ltr">d:\oracle\BACKUP01.ocr</code></p>
</li>
</ul>
</li>
<li>
<p>Ensure that the storage devices that you specify exist and that those devices are valid.</p>
</li>
</ul>
<p class="subhead2"><a id="CWADD92061"></a>Example</p>
<p>To restore OCR from a file:</p>
<pre dir="ltr">
# ocrconfig -restore /oradbocfs/crs/BACKUP00.ocr
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABIGIGG"></a>ocrconfig -showbackup</p>
<p>Use the <a id="sthref1227"></a><code dir="ltr">ocrconfig -showbackup</code> command to display the backup location, timestamp, and the originating node name of the backup files. By default, this command displays information for both automatic and manual backups unless you specify <code dir="ltr">auto</code> or <code dir="ltr">manual</code>.</p>
<p class="subhead2"><a id="CWADD92062"></a>Syntax</p>
<pre dir="ltr">
ocrconfig [-local] -showbackup [auto | manual]
</pre>
<p class="subhead2"><a id="CWADD92063"></a>Usage Notes</p>
<ul>
<li>
<p>Use the <code dir="ltr">-local</code> option to show manual OLR backup information. The <code dir="ltr">-local</code> flag functions only with the <code dir="ltr">manual</code> option.</p>
</li>
<li>
<p>You can optionally specify <code dir="ltr">auto</code> or <code dir="ltr">manual</code> to display information about only automatic backups or only manual backups, respectively:</p>
<ul>
<li>
<p><code dir="ltr">auto</code>: Displays information about automatic backups that Oracle Clusterware created in the past 4 hours, 8 hours, 12 hours, and in the last day and week.</p>
</li>
<li>
<p><code dir="ltr">manual</code>: Displays information about manual backups that you invoke using the <code dir="ltr">ocrconfig -manualbackup</code> command.</p>
</li>
</ul>
</li>
</ul>
<p class="subhead2"><a id="CWADD92064"></a>Example</p>
<p>To display manual backup information for OLR:</p>
<pre dir="ltr">
$ ocrconfig -local -showbackup manual
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="BABBDIAF"></a>ocrconfig -upgrade</p>
<p>Only <code dir="ltr">root</code> scripts use the <a id="sthref1228"></a><code dir="ltr">ocrconfig -upgrade</code> command to upgrade OCR from a previous version.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="BABDIEHC"></a>
<div id="CWADD92068" class="refsect1">
<h2 class="refsect1">Troubleshooting Oracle Cluster Registry and Diagnostic Output</h2>
<p>This section describes various methods for troubleshooting problems with OCR, and obtaining diagnostic information from the utilities used to manage OCR. You can use these utilities to troubleshoot OLR.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABDGBGH">Troubleshooting Oracle Cluster Registry</a></p>
</li>
<li>
<p><a href="#BABJEHAF">Using the OCRCHECK Utility</a></p>
</li>
<li>
<p><a href="#BABIGIDI">Using the OCRDUMP Utility to View Oracle Cluster Registry Content</a></p>
</li>
</ul>
<div id="CWADD92361" class="refsect2"><a id="BABDGBGH"></a>
<h3 class="refsect2">Troubleshooting Oracle Cluster Registry</h3>
<p><a href="#BEHBAJJI">Table G-1</a> describes common OCR problems with corresponding resolution suggestions.</p>
<div id="CWADD92070" class="tblformal">
<p class="titleintable"><a id="sthref1229"></a><a id="BEHBAJJI"></a>Table G-1 <a id="sthref1230"></a><a id="sthref1231"></a>Common Oracle Cluster Registry Problems and Solutions</p>
<table class="cellalignment417" title="Common Oracle Cluster Registry Problems and Solutions" summary="Common OCR problems and solutions" dir="ltr">
<thead>
<tr class="cellalignment408">
<th class="cellalignment415" id="r1c1-t6">Problem</th>
<th class="cellalignment415" id="r1c2-t6">Solution</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment408">
<td class="cellalignment416" id="r2c1-t6" headers="r1c1-t6">
<p>Not currently using OCR mirroring and would like to enable it.</p>
</td>
<td class="cellalignment416" headers="r2c1-t6 r1c2-t6">
<p>Run the <code dir="ltr">ocrconfig</code> command with the <code dir="ltr">-replace</code> option.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r3c1-t6" headers="r1c1-t6">
<p>OCR failed and you must replace it. Error messages in Oracle Enterprise Manager or OCR log file.</p>
</td>
<td class="cellalignment416" headers="r3c1-t6 r1c2-t6">
<p>Run the <code dir="ltr">ocrconfig</code> command with the <code dir="ltr">-replace</code> option.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r4c1-t6" headers="r1c1-t6">
<p>OCR has a misconfiguration.</p>
</td>
<td class="cellalignment416" headers="r4c1-t6 r1c2-t6">
<p>Run the <code dir="ltr">ocrconfig</code> command with the <code dir="ltr">-repair</code> option as described.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r5c1-t6" headers="r1c1-t6">
<p>You are experiencing a severe performance effect from OCR processing or you want to remove OCR for other reasons.</p>
</td>
<td class="cellalignment416" headers="r5c1-t6 r1c2-t6">
<p>Run the <code dir="ltr">ocrconfig</code> command with the <code dir="ltr">-replace</code> option as described.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r6c1-t6" headers="r1c1-t6">
<p>OCR has failed and before you can fix it, the node must be rebooted with only one OCR.</p>
</td>
<td class="cellalignment416" headers="r6c1-t6 r1c2-t6">
<p>Run the <code dir="ltr">ocrconfig</code> with the <code dir="ltr">-repair</code> option to remove the bad OCR location. Oracle Clusterware cannot start if it cannot find all OCRs defined.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="CWADD92362" class="refsect2"><a id="BABJEHAF"></a>
<h3 class="refsect2">Using the OCRCHECK Utility</h3>
<p>The OCRCHECK utility displays the version of the OCR's block format, total space available and used space, OCRID, and the OCR locations that you have configured. OCRCHECK performs a <a id="sthref1232"></a><a id="sthref1233"></a>block-by-block <code dir="ltr">checksum</code> operation for all of the blocks in all of the OCRs that you have configured. It also returns an individual status for each file and a result for the overall OCR integrity check.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can only use OCRCHECK when the Oracle Cluster Ready Services stack is ONLINE on all nodes in the cluster.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="intro.htm#CEGJDAHA">"The Oracle Clusterware Stack"</a> for more information about the Oracle Cluster Ready Services stack</div>
<p>You can run the <code dir="ltr">ocrcheck -help</code> command to display usage information about this utility.</p>
<p>The following example shows a <a id="sthref1234"></a>sample of the OCRCHECK utility output:</p>
<pre dir="ltr">
# ocrcheck

Status of Oracle Cluster Registry is as follows :
        Version                  :          3
        Total space (kbytes)     :     262120
        Used space (kbytes)      :        752
        Available space (kbytes) :     261368
        ID                       : 2098980155
        Device/File Name         : +ocrdg1
                                   Device/File integrity check succeeded
        Device/File Name         : +ocrdg2
                                   Device/File integrity check succeeded
                                   Device/File not configured
                                   Device/File not configured
                                   Device/File not configured
        Cluster registry integrity check succeeded 
        Logical corruption check succeeded
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The logical corruption check is only performed if you run the <code dir="ltr">ocrcheck</code> command as <code dir="ltr">root</code>.</div>
<p>The following two examples show samples of the OCRCHECK utility output. Each example shows only configured OCRs located on an Oracle ASM disk group and on a raw device.</p>
<div id="CWADD92363" class="example">
<p class="titleinexample"><a id="sthref1235"></a>Example G-1 OCR Located on an Oracle ASM Disk Group</p>
<pre dir="ltr">
$ ocrcheck -config

Oracle Cluster Registry configuration is :
        Device/File Name         : +ocrvd11
        Device/File Name         :  +ocrvd2
.
.
.
Status of Oracle Cluster Registry is as follows :
        Version                  :          3
        Total space (kbytes)     :     262120
        Used space (kbytes)      :       2384
        Available space (kbytes) :     259736
        ID                       : 1517109829
        Device/File Name         : +ocrvd11
                                   Device/File integrity check succeeded
        Device/File Name         : +ocrvd2
                                   Device/File integrity check succeeded
                                   Device/File not configured
                                   Device/File not configured
                                   Device/File not configured
        Cluster registry integrity check succeeded 
        Logical corruption check succeeded
</pre></div>
<!-- class="example" -->
<div id="CWADD92364" class="example">
<p class="titleinexample"><a id="sthref1236"></a>Example G-2 OCR Located on a Raw Device</p>
<pre dir="ltr">
$ ocrcheck -config

Oracle Cluster Registry configuration is :
        Device/File Name         : /dev/raw/raw15
        Device/File Name         : /dev/raw/raw17
        Device/File Name         : /dev/raw/raw16
.
.
.
Status of Oracle Cluster Registry is as follows :
        Version                  :          3
        Total space (kbytes)     :     262120
        Used space (kbytes)      :       2884
        Available space (kbytes) :     259236
        ID                       :  157485888
        Device/File Name         : /dev/raw/raw15
                                   Device/File integrity check succeeded
        Device/File Name         : /dev/raw/raw17
                                   Device/File integrity check succeeded
        Device/File Name         : /dev/raw/raw16
                                   Device/File integrity check succeeded
                                   Device/File not configured
                                   Device/File not configured
        Cluster registry integrity check succeeded 
        Logical corruption check succeeded
</pre></div>
<!-- class="example" -->
<pre dir="ltr">
</pre>
<p>Run the <code dir="ltr">ocrcheck -local -config</code> command to obtain OLR information.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use the <code dir="ltr">ocrcheck -local</code> command only when the Oracle Cluster Ready Services stack and Oracle High Availability Services stack are OFFLINE on the local node.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="intro.htm#CEGJDAHA">"The Oracle Clusterware Stack"</a> for more information about the Oracle Cluster Ready Services and the Oracle High Availability Services stacks</div>
<pre dir="ltr">
$ ocrcheck -local -config

Oracle Local Registry configuration is :
        Device/File Name         : <span class="italic">Grid_home</span>/oracle/has_work/data.olr.stact23
</pre>
<p>OCRCHECK<a id="sthref1237"></a> creates a log file in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/</code><code dir="ltr"><span class="codeinlineitalic">host_name</span></code><code dir="ltr">/client</code> directory. To change the log level, edit the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/srvm/admin/<a id="sthref1238"></a><a id="sthref1239"></a>ocrlog.ini</code> file.</p>
</div>
<!-- class="refsect2" -->
<div id="CWADD92365" class="refsect2"><a id="BABIGIDI"></a>
<h3 class="refsect2">Using the OCRDUMP Utility to View Oracle Cluster Registry Content</h3>
<p><a id="sthref1240"></a><a id="sthref1241"></a><a id="sthref1242"></a>This section explains how to use the OCRDUMP utility to view OCR and Oracle Local Registry (OLR) content for troubleshooting. The OCRDUMP utility enables you to view OCR and OLR contents by writing the content to a file or <code dir="ltr">stdout</code> in a readable format.</p>
<p>You can use several options for OCRDUMP. For example, you can limit the output to a key and its descendents. You can also write the contents to an XML file that you can view using a browser. OCRDUMP writes the OCR keys as ASCII strings and values in a data type format. OCRDUMP retrieves header information based on a best effort basis.</p>
<p>OCRDUMP<a id="sthref1243"></a> also creates a log file in <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/</code><code dir="ltr"><span class="codeinlineitalic">host_name</span></code><code dir="ltr">/client</code>. To change<a id="sthref1244"></a><a id="sthref1245"></a> the log level, edit the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/srvm/admin/ocrlog.ini</code> file.</p>
<p>To change the logging component, edit the entry containing the <code dir="ltr">comploglvl=</code> entry. For example, to change the log level of the <code dir="ltr">OCRAPI</code> component to 3 and to change the log level of the <code dir="ltr">OCRRAW</code> component to 5, make the following entry in the <code dir="ltr">ocrlog.ini</code> file:</p>
<pre dir="ltr">
comploglvl="OCRAPI:3;OCRRAW:5"
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Make sure that you have file creation privileges in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> directory before using the OCRDUMP utility.</div>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#BABGGGEG">OCRDUMP Utility Syntax and Options</a></p>
</li>
<li>
<p><a href="#BABFIJAB">OCRDUMP Utility Examples</a></p>
</li>
<li>
<p><a href="#BABFIFCI">Sample OCRDUMP Utility Output</a></p>
</li>
</ul>
<div id="CWADD92073" class="refsect3"><a id="BABGGGEG"></a>
<h4 class="refsect3"><a id="sthref1246"></a><a id="sthref1247"></a>OCRDUMP Utility Syntax and Options</h4>
<p>This section describes the OCRDUMP utility command syntax and usage. Run the <code dir="ltr">ocrdump</code> command with the following syntax where <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> is the name of a target file to which you want Oracle Database to write the Oracle Cluster Registry output and where <code dir="ltr"><span class="codeinlineitalic">key_name</span></code> is the name of a key from which you want Oracle Database to write Oracle Cluster Registry subtree content:</p>
<pre dir="ltr">
$ ocrdump [<span class="italic">file_name</span> | -stdout] [-local] [-backupfile <span class="italic">backup_file_name</span>
[-keyname <span class="italic">key_name</span>] [-xml] [-noheader]
]
</pre>
<p><a href="#BEHIABDA">Table G-2</a> describes the OCRDUMP utility options and option descriptions.</p>
<div id="CWADD92074" class="tblformal">
<p class="titleintable"><a id="sthref1248"></a><a id="BEHIABDA"></a>Table G-2 OCRDUMP Options and Option Descriptions</p>
<table class="cellalignment417" title="OCRDUMP Options and Option Descriptions" summary="srvctl setenv database Options" dir="ltr">
<thead>
<tr class="cellalignment408">
<th class="cellalignment415" id="r1c1-t13">Options</th>
<th class="cellalignment415" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment408">
<td class="cellalignment416" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr"><span class="codeinlineitalic">file_name</span></code></p>
</td>
<td class="cellalignment416" headers="r2c1-t13 r1c2-t13">
<p>The name of a file to which you want OCRDUMP to write output.</p>
<p>By default, OCRDUMP writes output to a predefined output file named <code dir="ltr">OCRDUMPFILE</code>. The <code dir="ltr"><span class="codeinlineitalic">file_name</span></code> option redirects OCRDUMP output to a file that you specify.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-stdout</code></p>
</td>
<td class="cellalignment416" headers="r3c1-t13 r1c2-t13">
<p>Use this option to redirect the OCRDUMP output to the text terminal that initiated the program.</p>
<p>If you do not redirect the output, OCRDUMP writes output to a predefined output file named <code dir="ltr">OCRDUMPFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r4c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-local</code></p>
</td>
<td class="cellalignment416" headers="r4c1-t13 r1c2-t13">
<p>Use this option to dump the contents of OLR.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r5c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-backupfile</code></p>
</td>
<td class="cellalignment416" headers="r5c1-t13 r1c2-t13">
<p>Use this option to view the contents of an OCR backup file. Use the <code dir="ltr">-local</code> option with this option to view the contents of an OLR backup file.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r6c1-t13" headers="r1c1-t13">
<p><code dir="ltr"><span class="codeinlineitalic">backup_file_name</span></code></p>
</td>
<td class="cellalignment416" headers="r6c1-t13 r1c2-t13">
<p>The name of the backup file with the content you want to view. You can query the backups using the <code dir="ltr">ocrconfig -showbackup</code> command.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r7c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-keyname</code> <code dir="ltr"><span class="codeinlineitalic">key_name</span></code></p>
</td>
<td class="cellalignment416" headers="r7c1-t13 r1c2-t13">
<p>The name of an Oracle Cluster Registry key whose subtree is to be dumped.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r8c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-xml</code></p>
</td>
<td class="cellalignment416" headers="r8c1-t13 r1c2-t13">
<p>Use this option to write the output in XML format.</p>
</td>
</tr>
<tr class="cellalignment408">
<td class="cellalignment416" id="r9c1-t13" headers="r1c1-t13">
<p><code dir="ltr">-noheader</code></p>
</td>
<td class="cellalignment416" headers="r9c1-t13 r1c2-t13">
<p>Does not print the time at which you ran the command and when the Oracle Cluster Registry configuration occurred.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="CWADD92075" class="refsect3"><a id="BABFIJAB"></a>
<h4 class="refsect3">OCRDUMP Utility Examples<a id="sthref1249"></a><a id="sthref1250"></a></h4>
<p><a id="sthref1251"></a>The following <code dir="ltr">ocrdump</code> utility examples extract various types of OCR information and write it to various targets:</p>
<pre dir="ltr">
ocrdump
</pre>
<p>Writes OCR content to a file called <code dir="ltr">OCRDUMPFILE</code> in the current directory.</p>
<pre dir="ltr">
ocrdump MYFILE
</pre>
<p>Writes OCR content to a file called <code dir="ltr">MYFILE</code> in the current directory.</p>
<pre dir="ltr">
ocrdump -stdout -keyname SYSTEM
</pre>
<p>Displays OCR content from the subtree of the key <code dir="ltr">SYSTEM</code> in the terminal window.</p>
<pre dir="ltr">
ocrdump -stdout -xml
</pre>
<p>Displays OCR content in the terminal window in XML format.</p>
<pre dir="ltr">
ocrdump -stdout -backupfile <span class="italic">Grid_home</span>/cdata/<span class="italic">cluster_name</span>/<span class="italic">file_name</span>
</pre>
<p><a id="sthref1252"></a>Displays the content of the in the <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cdata/</code><code dir="ltr"><span class="codeinlineitalic">cluster_name</span></code>/<code dir="ltr"><span class="codeinlineitalic">file_name</span></code> directory. You must run this command as <code dir="ltr">root</code> to be able to view all of the keys. Be sure to name the file appropriately so that it can be recognized by anyone as an OCR backup file, such as <code dir="ltr">BACKUPOO.ocr</code>.</p>
</div>
<!-- class="refsect3" -->
<div id="CWADD92076" class="refsect3"><a id="BABFIFCI"></a>
<h4 class="refsect3">Sample OCRDUMP Utility Output<a id="sthref1253"></a></h4>
<p>The following OCRDUMP examples show the <code dir="ltr">KEYNAME</code>, <code dir="ltr">VALUE TYPE</code>, <code dir="ltr">VALUE</code>, permission set (<code dir="ltr">user</code>, <code dir="ltr">group</code>, <code dir="ltr">world</code>) and access rights for two sample runs of the <code dir="ltr">ocrdump</code> command. The following shows the output for the <code dir="ltr">SYSTEM.language</code> key<a id="sthref1254"></a><a id="sthref1255"></a> that has a text value of <code dir="ltr">AMERICAN_AMERICA.WE8ASCII37</code>.</p>
<pre dir="ltr">
[SYSTEM.language]
ORATEXT : AMERICAN_AMERICA.WE8ASCII37
SECURITY : {USER_PERMISSION : PROCR_ALL_ACCESS, GROUP_PERMISSION : PROCR_READ,
OTHER_PERMISSION : PROCR_READ, USER_NAME : user, GROUP_NAME : group}
</pre>
<p>The following shows the output for the <a id="sthref1256"></a><a id="sthref1257"></a><code dir="ltr">SYSTEM.version</code> key that has integer value of <code dir="ltr">3</code>:</p>
<pre dir="ltr">
[SYSTEM.version]
UB4 (10) : 3
SECURITY : {USER_PERMISSION : PROCR_ALL_ACCESS, GROUP_PERMISSION : PROCR_READ,
OTHER_PERMISSION : PROCR_READ, USER_NAME : user, GROUP_NAME : group}
</pre></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment407">
<tr>
<td class="cellalignment416">
<table class="cellalignment412">
<tr>
<td class="cellalignment411"><a href="crs_api.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment411"><a href="troubleshoot.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment419">
<table class="cellalignment410">
<tr>
<td class="cellalignment411"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment411"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment411"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment411"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment411"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment411"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
