<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Monitoring Performance</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1058" />
<meta name="dcterms.created" content="2015-06-24T11:50:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide" />
<meta name="dcterms.identifier" content="E41960-04" />
<meta name="dcterms.isVersionOf" content="RACAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="rac_glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="design.htm" title="Previous" type="text/html" />
<link rel="Next" href="srvctladmin.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41960.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">18/24</span> <!-- End Header -->
<div id="RACAD7395" class="chapter"><a id="CFAGAAGD"></a>
<h1 class="chapter"><span class="secnum">13</span> Monitoring Performance</h1>
<p>This chapter describes how to monitor and tune Oracle Real Application Clusters (Oracle RAC) performance.</p>
<p>This chapter includes the following topics:</p>
<ul>
<li>
<p><a href="#i1006534">Overview of Monitoring and Tuning Oracle RAC Databases</a></p>
</li>
<li>
<p><a href="#i1006547">Verifying the Interconnect Settings for Oracle RAC</a></p>
</li>
<li>
<p><a href="#i1006613">Influencing Interconnect Processing</a></p>
</li>
<li>
<p><a href="#i1006656">Performance Views in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CFACGGHE">Creating Oracle RAC Data Dictionary Views with CATCLUST.SQL</a></p>
</li>
<li>
<p><a href="#CHDGDAFG">Oracle RAC Performance Statistics</a></p>
</li>
<li>
<p><a href="#i1009926">Automatic Workload Repository in Oracle RAC Environments</a></p>
</li>
<li>
<p><a href="#CJHDGAGD">Active Session History Reports for Oracle RAC</a></p>
</li>
<li>
<p><a href="#i1010220">Monitoring Oracle RAC Statistics and Wait Events</a></p>
</li>
</ul>
<a id="i1006534"></a>
<div id="RACAD970" class="sect1">
<h2 class="sect1">Overview of Monitoring and Tuning Oracle RAC Databases</h2>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#CHDJADIF">Monitoring Oracle RAC and Oracle Clusterware</a></p>
</li>
<li>
<p><a href="#CFAGEJJE">Tuning Oracle RAC Databases</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TDPRC323" href="../../rac.112/e17264/racmon2.htm#TDPRC323"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a></p>
</li>
<li>
<p>The Oracle Enterprise Manager Online Help</p>
</li>
<li>
<p><a class="olink ADMQS010" href="../../server.112/e10897/montune.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about basic database tuning</p>
</li>
<li>
<p><a class="olink TDPPT002" href="../../server.112/e10822/tdppt_intro.htm#TDPPT002"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about general performance tuning</p>
</li>
<li>
<p><a class="olink CWADD530" href="../../rac.112/e41959/cvu.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about diagnosing problems for Oracle Clusterware components</p>
</li>
</ul>
</div>
<a id="CHDJADIF"></a>
<div id="RACAD7396" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Monitoring Oracle RAC and Oracle Clusterware<a id="sthref886"></a><a id="sthref887"></a></h3>
<p>Using <a id="sthref888"></a><a id="sthref889"></a>Oracle Enterprise Manager is the preferred method for monitoring Oracle RAC and Oracle Clusterware. Oracle Enterprise Manager is an Oracle Web-based integrated management solution for monitoring and administering your computing environment. From any location where you can access a web browser, you can manage Oracle RAC databases, application servers, host computers, and Web applications, as well as related hardware and software. For example, you can monitor your Oracle RAC database performance from your office, home, or a remote site, as long as you have access to a Web browser.</p>
<p><a id="sthref890"></a>Both Oracle Enterprise Manager Database Control and Oracle Enterprise Manager Grid Control are cluster-aware and provide a central console to manage your cluster database. From the Cluster Database Home page, you can do all of the following:</p>
<ul>
<li>
<p>View the overall system status, such as the number of nodes in the cluster and their current status. This high-level view capability means that you do not have to access each individual database instance for details if you just want to see inclusive, aggregated information.</p>
</li>
<li>
<p>View alert messages aggregated across all the instances with lists for the source of each alert message. An <span class="bold">alert message</span> is an indicator that signifies that a particular metric condition has been encountered. A <span class="bold">metric</span> is a unit of measurement used to report the system's conditions.</p>
</li>
<li>
<p>Review issues that are affecting the entire cluster as well as those that are affecting individual instances.</p>
</li>
<li>
<p>Monitor cluster cache coherency statistics to help you identify processing trends and optimize performance for your Oracle RAC environment. Cache coherency statistics measure how well the data in caches on multiple instances is synchronized. If the data caches are completely synchronized with each other, then reading a memory location from the cache on any instance will return the most recent data written to that location from any cache on any instance.</p>
</li>
</ul>
<p>Oracle Enterprise Manager accumulates data over specified periods of time, called collection-based data. Oracle Enterprise Manager also provides current data, called real-time data.</p>
<p><a class="olink TDPRC323" href="../../rac.112/e17264/racmon2.htm#TDPRC323"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> provides complete information about monitoring performance with Oracle Enterprise Manager, including:</p>
<ul>
<li>
<p>Automatic Database Diagnostic Monitor and Oracle RAC Performance</p>
</li>
<li>
<p><a href="#CFAHIDHA">The Cluster Database Home Page</a></p>
</li>
<li>
<p><a href="#CFAEFFCB">The Interconnects Page</a></p>
</li>
<li>
<p><a href="#CFAFEEEG">The Cluster Performance Page</a></p>
</li>
</ul>
<a id="CFAHIDHA"></a>
<div id="RACAD7397" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">The <a id="sthref891"></a>Cluster Database Home Page</h4>
<p>When you log in to Oracle Enterprise Manager using a client browser, the Cluster Database Home page appears where you can monitor the status of both Oracle Clusterware and the Oracle RAC environments. Monitoring can include such things as:</p>
<ul>
<li>
<p>Notification if there are any VIP relocations</p>
</li>
<li>
<p>Status of the Oracle Clusterware on each node of the cluster using information obtained through the Cluster Verification Utility (<code dir="ltr">cluvfy</code>)</p>
</li>
<li>
<p>Notification if node applications (<code dir="ltr">nodeapps</code>) start or stop</p>
</li>
<li>
<p>Notification of issues in the Oracle Clusterware alert log for OCR, voting disk issues (if any), and <a id="sthref892"></a>node evictions</p>
</li>
</ul>
<p>The Cluster Database Home page is similar to a noncluster Database Home page. However, on the Cluster Database Home page, Oracle Enterprise Manager displays the system state and availability. This includes a summary about alert messages and job activity, as well as links to all the database and Oracle Automatic Storage Management (Oracle ASM) instances. For example, you can track problems with services on the cluster including when a service is not running on all of the preferred instances or when a service response time threshold is not being met.</p>
</div>
<!-- class="sect3" -->
<a id="CFAEFFCB"></a>
<div id="RACAD7398" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">The Interconnects Page</h4>
<p>You can use the <a id="sthref893"></a><a id="sthref894"></a>Oracle Enterprise Manager Interconnects page to monitor the Oracle Clusterware environment. The Interconnects page shows the <a id="sthref895"></a>public and private interfaces on the cluster and the load contributed by database instances on the interconnect, including:</p>
<ul>
<li>
<p>Overall throughput across the private interconnect</p>
</li>
<li>
<p>Notification if a database instance is using public interface due to misconfiguration</p>
</li>
<li>
<p>Throughput and errors (if any) on the interconnect</p>
</li>
<li>
<p>Throughput contributed by individual instances on the interconnect</p>
</li>
</ul>
<p>All of this information is also available as collections that have a historic view. This is useful in conjunction with <a id="sthref896"></a>cluster cache coherency, such as when diagnosing problems related to cluster wait events. You can access the Interconnects page by clicking the Interconnect tab on the Cluster Database home page or clicking the Interconnect Alerts link under Diagnostic Findings on the Oracle RAC database home page.</p>
</div>
<!-- class="sect3" -->
<a id="CFAFEEEG"></a>
<div id="RACAD7399" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">The Cluster Performance Page</h4>
<p>The <a id="sthref897"></a>Oracle Enterprise Manager Cluster Database Performance page provides a quick glimpse of the performance statistics for a database. Statistics are rolled up across all the instances in the cluster database in charts. Using the links next to the charts, you can get more specific information and perform any of the following tasks:</p>
<ul>
<li>
<p>Identify the causes of performance issues.</p>
</li>
<li>
<p>Decide whether resources need to be added or redistributed.</p>
</li>
<li>
<p>Tune your SQL plan and schema for better optimization.</p>
</li>
<li>
<p>Resolve performance issues</p>
</li>
</ul>
<p>The charts on the Cluster Database Performance page include the following:</p>
<ul>
<li>
<p><span class="bold"><a id="sthref898"></a><a id="sthref899"></a><a id="sthref900"></a><a id="sthref901"></a>Chart for Cluster Host Load Average</span>: The Cluster Host Load Average chart in the Cluster Database Performance page shows potential problems that are outside the database. The chart shows maximum, average, and minimum <a id="sthref902"></a>load values for available nodes in the cluster for the previous hour.</p>
</li>
<li>
<p><span class="bold"><a id="sthref903"></a><a id="sthref904"></a><a id="sthref905"></a><a id="sthref906"></a>Chart for Global Cache Block Access Latency</span>: <a id="sthref907"></a>Each cluster database instance has its own buffer cache in its System Global Area (SGA). Using Cache Fusion, Oracle RAC environments logically combine each instance's buffer cache to enable the database instances to process data as if the data resided on a logically combined, single cache.</p>
</li>
<li>
<p><span class="bold"><a id="sthref908"></a><a id="sthref909"></a><a id="sthref910"></a>Chart for Average Active Sessions</span>: The <a id="sthref911"></a>Average Active Sessions chart in the Cluster Database Performance page shows potential problems inside the database. Categories, called wait classes, show how much of the database is using a resource, such as CPU or disk I/O. Comparing CPU time to wait time helps to determine how much of the response time is consumed with useful work rather than waiting for resources that are potentially held by other processes.</p>
</li>
<li>
<p><a id="sthref912"></a><a id="sthref913"></a><a id="sthref914"></a><a id="sthref915"></a><span class="bold">Chart for Database Throughput</span>: The Database Throughput charts summarize any <a id="sthref916"></a>resource contention that appears in the Average Active Sessions chart, and also show how much work the database is performing on behalf of the users or applications. The Per Second view shows the number of transactions compared to the number of logons, and the amount of physical reads compared to the redo size per second. The Per Transaction view shows the amount of physical reads compared to the redo size per transaction. Logons is the number of users that are logged on to the database.</p>
</li>
</ul>
<p>In addition, the <a id="sthref917"></a><a id="sthref918"></a><a id="sthref919"></a><span class="bold">Top Activity</span><a id="sthref920"></a> drill down menu on the Cluster Database Performance page enables you to see the activity by wait events, services, and instances. Plus, you can see the details about SQL/sessions by going to a prior point in time by moving the slider on the chart.</p>
<p>The <span class="bold">Cluster Database Performance</span> page provides a quick glimpse of the performance statistics for an Oracle RAC database. Statistics are rolled up across all of the instances in the cluster database so that users can identify performance issues without going through all the instances. To help triage the performance issues related to services, Oracle Enterprise Manager aggregates the activity data at the following levels:</p>
<ul>
<li>
<p><a id="sthref921"></a><a id="sthref922"></a><a id="sthref923"></a><a id="sthref924"></a>Aggregate by waits</p>
<p>All the activity data is presented in 12 categories: CPU, Scheduler, User I/O, System I/O, Concurrency, Application, Commit, Configuration, Administrative, Network, Cluster and Other. The data presented is rolled up from all of the running instances.</p>
</li>
<li>
<p>Aggregate by services<a id="sthref925"></a><a id="sthref926"></a><a id="sthref927"></a></p>
<p>All the activity data is rolled up for each service. When the activity data is presented in this way, it is easy to identify which service is most active, and needs more analysis.</p>
</li>
<li>
<p>Aggregate by instances<a id="sthref928"></a><a id="sthref929"></a><a id="sthref930"></a><a id="sthref931"></a></p>
<p>As a similar effort, the activity data is rolled up for each instance, if services are not the interested ones.</p>
</li>
</ul>
<p>The aggregates are provided on the pages where the activity data is presented including: Database Performance Page, Top Activity Page, Wait Details Page and Service Details Page.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPRC" href="../e17264/toc.htm"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CFAGEJJE"></a>
<div id="RACAD7400" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Tuning Oracle RAC Databases</h3>
<p>All noncluster tuning practices for Oracle Database apply to Oracle RAC databases. Therefore, implement the noncluster tuning methodologies described in the <a class="olink TDPPT" href="../../server.112/e10822/toc.htm"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> and the <a class="olink PFGRF" href="../../server.112/e41573/toc.htm"><span class="italic">Oracle Database Performance Tuning Guide</span></a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006547"></a>
<div id="RACAD971" class="sect1">
<h2 class="sect1">Verifying the Interconnect Settings for Oracle RAC</h2>
<p>The <a id="sthref932"></a>interconnect and internode <a id="sthref933"></a>communication protocols can affect <a id="sthref934"></a><a id="sthref935"></a><a href="rac_glossary.htm#CHDGIBEI"><span class="xrefglossterm">Cache Fusion</span></a> <a id="sthref936"></a>performance. In addition, the <a id="sthref937"></a><a id="sthref938"></a>interconnect <a id="sthref939"></a>bandwidth, its latency, and the efficiency of the <a id="sthref940"></a>IPC protocol determine the speed with which Cache Fusion processes block transfers.</p>
<p>To <a id="sthref941"></a><a id="sthref942"></a>verify the interconnect settings of the Oracle RAC database instance to which you are connected, query the <a id="sthref943"></a><code dir="ltr">V$CLUSTER_INTERCONNECTS</code> and <a id="sthref944"></a><code dir="ltr">V$CONFIGURED_INTERCONNECTS</code> views. For example:</p>
<div id="RACAD7713" class="example">
<p class="titleinexample"><a id="sthref945"></a>Example 13-1 Verify Interconnect Settings with V$CLUSTER_INTERCONNECTS</p>
<pre dir="ltr">
SQL&gt; SELECT * FROM V$CLUSTER_INTERCONNECTS;

NAME             IP_ADDRESS       IS_PUBLIC SOURCE
---------------  --------------   ---       -------------------------------
eth2             10.137.20.181    NO        Oracle Cluster Repository
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
You can query the <code dir="ltr">GV$CLUSTER_INTERCONNECTS</code> view to display the entries for all of the instances in the cluster.</div>
<div id="RACAD7714" class="example">
<p class="titleinexample"><a id="sthref946"></a>Example 13-2 Verify Interconnect Settings with V$CONFIGURED_INTERCONNECTS</p>
<pre dir="ltr">
SQL&gt; SELECT * FROM V$CONFIGURED_INTERCONNECTS;

NAME             IP_ADDRESS       IS_PUBLIC   SOURCE
---------------  ---------------  ---         -------------------------------
eth2             10.137.20.181    NO          Oracle Cluster Repository
eth0             10.137.8.225     YES         Oracle Cluster Repository
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="i1006613"></a>
<div id="RACAD972" class="sect1">
<h2 class="sect1">Influencing Interconnect Processing</h2>
<p>Once your <a id="sthref947"></a>interconnect is operative, you cannot significantly influence its performance. However, you can influence an interconnect protocol's efficiency by adjusting the interprocess communication <a id="sthref948"></a>(IPC) <a id="sthref949"></a>buffer sizes.</p>
<p>The <a id="sthref950"></a>Oracle Cluster Registry (OCR) stores your system's interconnect information. Use the <a id="sthref951"></a>Oracle Interface Configuration (OIFCFG) command-line utility <code dir="ltr">oifcfg getif</code> command or the <a id="sthref952"></a>OCRDUMP utility to identify the interconnect that you are using. You can then change the interconnect that you are using by running an OIFCFG command.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p>Your vendor-specific interconnect documentation for more information about adjusting IPC buffer sizes</p>
</li>
<li>
<p><a class="olink CWADD" href="../e41959/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about enabling and using the OIFCFG and OCRDUMP utilities</p>
</li>
</ul>
</div>
<p>Although you <span class="italic">rarely</span> need to set the <a id="sthref953"></a><a id="sthref954"></a><code dir="ltr">CLUSTER_INTERCONNECTS</code> parameter, you can use it to assign a <a id="sthref955"></a>private network IP address or NIC as in the following example:</p>
<pre dir="ltr">
CLUSTER_INTERCONNECTS=10.0.0.1
</pre>
<p>If you are using an operating system-specific vendor IPC protocol, then the trace information may not reveal the IP address.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also use OIFCFG command to assign private network or private IP addresses.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10017" href="../../server.112/e40402/initparams030.htm#REFRN10017"><span class="italic">Oracle Database Reference</span></a> for more information about the <code dir="ltr">CLUSTER_INTERCONNECTS</code> parameter</div>
</div>
<!-- class="sect1" -->
<a id="i1006656"></a>
<div id="RACAD718" class="sect1">
<h2 class="sect1">Performance Views in Oracle RAC</h2>
<p>Each instance has a set of instance-specific views<a id="sthref956"></a><a id="sthref957"></a><a id="sthref958"></a>, which are prefixed with <code dir="ltr">V$</code>. You can also query global dynamic performance views<a id="sthref959"></a><a id="sthref960"></a> to retrieve performance information from all of the qualified instances. Global dynamic performance view names are prefixed with <code dir="ltr">GV$</code>.</p>
<p>Querying a <a id="sthref961"></a><code dir="ltr">GV$</code> view retrieves the <a id="sthref962"></a><code dir="ltr">V$</code> view information from all qualified instances. In addition to the <code dir="ltr">V$</code> information, each <code dir="ltr">GV$</code> view contains an extra column named <code dir="ltr">INST_ID</code> of data type <code dir="ltr">NUMBER</code>. The <code dir="ltr">INST_ID</code><a id="sthref963"></a> column displays the instance number from which the associated <code dir="ltr">V$</code> view information was obtained.</p>
<p>You can use the <code dir="ltr">INST_ID</code> column as a filter to retrieve <code dir="ltr">V$</code> information from a subset of available instances. For example, the following query retrieves the information from the <code dir="ltr">V$LOCK</code> view for instances 2 and 5:</p>
<pre dir="ltr">
SQL&gt; SELECT * FROM GV$LOCK WHERE INST_ID = 2 OR INST_ID = 5;
</pre>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a class="olink REFRN" href="../../server.112/e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a> for complete descriptions of <code dir="ltr">GV$</code> views</div>
</div>
<!-- class="sect1" -->
<a id="CFACGGHE"></a>
<div id="RACAD7401" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating Oracle RAC Data Dictionary Views with CATCLUST.SQL</h2>
<p>If you did not create your Oracle RAC database with the <a id="sthref964"></a>Database Configuration Assistant (DBCA), then you must run the <code dir="ltr"><a id="sthref965"></a>CATCLUST.SQL</code> script to create <a id="sthref966"></a>views and tables related to Oracle RAC. <a id="sthref967"></a><a id="sthref968"></a>You must have <code dir="ltr">SYSDBA</code> privileges to run this script.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> installation guides for more information about creating your Oracle RAC database</div>
</div>
<!-- class="sect1" -->
<a id="CHDGDAFG"></a>
<div id="RACAD719" class="sect1">
<h2 class="sect1">Oracle RAC Performance Statistics</h2>
<p><a id="sthref969"></a>Oracle RAC statistics appear as <a id="sthref970"></a>message request counters or as <a id="sthref971"></a>timed statistics. Message request counters include statistics showing the number of certain types of <a id="sthref972"></a><a id="sthref973"></a><a id="sthref974"></a>block mode conversions. Timed statistics reveal the total or average time waited for read and write I/O for particular types of operations.</p>
</div>
<!-- class="sect1" -->
<a id="i1009926"></a>
<div id="RACAD721" class="sect1">
<h2 class="sect1">Automatic Workload Repository in Oracle RAC Environments</h2>
<p>You can use <a id="sthref975"></a><a id="sthref976"></a><a id="sthref977"></a><a href="rac_glossary.htm#CHDEEFED"><span class="xrefglossterm">Automatic Workload Repository (AWR)</span></a> to monitor performance statistics related to Oracle RAC databases. AWR automatically generates snapshots of the performance data once every hour and collects the statistics in the workload repository. In Oracle RAC e<a id="sthref978"></a><a id="sthref979"></a>nvironments, each AWR snapshot captures data from all active instances in the cluster. The data for each snapshot set is captured from the same point in time. AWR stores the snapshot data for all instances in the same table and the data is identified by an instance qualifier. For example, the <code dir="ltr">BUFFER_BUSY_WAIT</code> statistic shows the number of buffer waits on each instance. AWR does not store data that is aggregated from across the entire cluster. In other words, the data is stored for each individual instance.</p>
<p>Using the <a id="sthref980"></a>Automatic Database Diagnostic Monitor (ADDM)<a id="sthref981"></a><a id="sthref982"></a><a id="sthref983"></a><a id="sthref984"></a>, you can analyze the information collected by AWR for possible performance problems with Oracle Database. ADDM presents performance data from a cluster-wide perspective, thus enabling you to analyze performance on a global basis. In an Oracle RAC environment, ADDM can analyze performance using data collected from all instances and present it at different levels of granularity, including:</p>
<ul>
<li>
<p>Analysis for the entire cluster</p>
</li>
<li>
<p>Analysis for a specific database instance</p>
</li>
<li>
<p>Analysis for a subset of database instances</p>
</li>
</ul>
<p>To perform these analyses, you can run the ADDM Advisor in <a id="sthref985"></a>ADDM for Oracle RAC mode to perform an analysis of the entire cluster; in <a id="sthref986"></a>Local ADDM mode to analyze the performance of an individual instance; or in Partial ADDM mode to analyze a subset of instances. Activate ADDM analysis using the advisor framework through <a id="sthref987"></a>Advisor Central in Oracle Enterprise Manager, or through the <a id="sthref988"></a><a id="sthref989"></a><code dir="ltr">DBMS_ADVISOR</code> and <code dir="ltr">DBMS_ADDM</code> PL/SQL packages.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink PFGRF02601" href="../../server.112/e41573/autostat.htm#PFGRF02601"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about AWR and ADDM</p>
</li>
<li>
<p><a class="olink TDPPT" href="../../server.112/e10822/toc.htm"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> for more information about how to access and analyze global and local ADDM data using Oracle Enterprise Manager</p>
</li>
<li>
<p><a class="olink ARPLS" href="../../appdev.112/e40758/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <a class="olink ARPLS350" href="../../appdev.112/e40758/d_advis.htm#ARPLS350"><code dir="ltr">DBMS_ADVISOR</code></a> and <code dir="ltr">DBMS_ADDM</code> packages</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CJHDGAGD"></a>
<div id="RACAD987" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Active Session History Reports for Oracle RAC</h2>
<p>This section describes Active Session History (ASH) reports for Oracle RAC under the following topics:</p>
<ul>
<li>
<p><a href="#CHDGFIIJ">Overview of ASH Reports for Oracle RAC</a></p>
</li>
<li>
<p><a href="#CJHFDEEJ">ASH Report for Oracle RAC: Top Cluster Events</a></p>
</li>
<li>
<p><a href="#CHDGFDBC">ASH Report for Oracle RAC: Top Remote Instance</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF027" href="../../server.112/e41573/autostat.htm#PFGRF027"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about ASH reports</div>
<a id="CHDGFIIJ"></a>
<div id="RACAD7402" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Overview of ASH Reports for Oracle RAC</h3>
<p>ASH <a id="sthref990"></a><a id="sthref991"></a>is an integral part of the Oracle Database self-management framework and is useful for <a id="sthref992"></a>diagnosing performance problems in Oracle RAC environments. ASH report statistics provide details about <a id="sthref993"></a>Oracle Database session activity. Oracle Database records information about <a id="sthref994"></a>active sessions for all active Oracle RAC instances and stores this data in the <a id="sthref995"></a>System Global Area (SGA). Any session that is connected to the database and using CPU is considered an active session. The exception to this is sessions that are waiting for an event that belongs to the <a id="sthref996"></a>idle wait class.</p>
<p>ASH reports present a manageable set of data by capturing only information about active sessions. The amount of the data is directly related to the work being performed, rather than the number of sessions allowed on the system.</p>
<p>ASH statistics that are gathered over a specified duration can be put into ASH reports. Each ASH report is divided into multiple sections to help you identify short-lived performance problems that do not appear in the ADDM analysis. Two ASH report sections that are specific to Oracle RAC are Top Cluster Events and Top Remote Instance as described in the next two sections.</p>
</div>
<!-- class="sect2" -->
<a id="CJHFDEEJ"></a>
<div id="RACAD7403" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref997"></a><a id="sthref998"></a>ASH Report for Oracle RAC: Top Cluster Events</h3>
<p>The ASH report <a id="sthref999"></a>Top Cluster Events section is part of the Top Events report that is specific to Oracle RAC. The Top Cluster Events report lists events that account for the highest percentage of session activity in the cluster wait class event along with the instance number of the affected instances. You can use this information to identify which events and instances caused a high percentage of cluster wait events.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGFDBC"></a>
<div id="RACAD7404" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">ASH Report for Oracle RAC: Top Remote Instance</h3>
<p><a id="sthref1000"></a><a id="sthref1001"></a>The ASH report <a id="sthref1002"></a>Top Remote Instance section is part of the Top Load Profile report that is specific to Oracle RAC. The Top Remote Instance report shows cluster wait events along with the instance numbers of the instances that accounted for the highest percentages of session activity. You can use this information to identify the instance that caused the extended cluster wait period.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1010220"></a>
<div id="RACAD975" class="sect1">
<h2 class="sect1">Monitoring Oracle RAC Statistics and Wait Events</h2>
<p>This section explains <a id="sthref1003"></a>wait events and statistics specific to Oracle RAC and how to interpret them when assessing performance data generated by the <a id="sthref1004"></a>Automatic Workload Repository (AWR), <a id="sthref1005"></a>Statspack, or by ad-hoc queries of the <a id="sthref1006"></a>dynamic performance views.</p>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#CFAFHBIH">Oracle RAC Statistics and Events in AWR and Statspack Reports</a></p>
</li>
<li>
<p><a href="#CFACGBII">Oracle RAC Wait Events</a></p>
</li>
<li>
<p><a href="#CFACGDDD">Monitoring Performance by Analyzing GCS and GES Statistics</a></p>
</li>
<li>
<p><a href="#CFAHEHII">Analyzing Cache Fusion Transfer Impact Using GCS Statistics</a></p>
</li>
<li>
<p><a href="#CFAHDADB">Analyzing Response Times Based on Wait Events</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF" href="../../server.112/e41573/toc.htm"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about wait event analysis and the <code dir="ltr">spdoc.txt</code> file for details about the Statspack utility</div>
<a id="CFAFHBIH"></a>
<div id="RACAD976" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle RAC Statistics and Events in AWR and Statspack Reports</h3>
<p>The statistics snapshots generated by AWR and <a id="sthref1007"></a>Statspack can be evaluated by producing reports displaying summary data such as load and cluster profiles based on regular statistics and <a id="sthref1008"></a>wait events gathered on each instance.</p>
<p>Most of the relevant data is summarized on the Oracle RAC Statistics Page. This information includes:</p>
<ul>
<li>
<p><a id="sthref1009"></a>Global cache load profile</p>
</li>
<li>
<p>Global cache efficiency percentages&mdash;workload characteristics</p>
</li>
<li>
<p><a id="sthref1010"></a>Global cache and Enqueue Service (GES)&mdash;messaging statistics</p>
</li>
</ul>
<p>Additional Oracle RAC sections appear later in the report:</p>
<ul>
<li>
<p>Global enqueue statistics</p>
</li>
<li>
<p><a id="sthref1011"></a>Global CR statistics</p>
</li>
<li>
<p>Global <code dir="ltr">CURRENT</code> served statistics</p>
</li>
<li>
<p>Global cache transfer statistics.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CFACGBII"></a>
<div id="RACAD977" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle RAC Wait Events</h3>
<p>Analyzing and interpreting what causes sessions to wait is an important method to determine where time is spent. In Oracle RAC, the wait time is attributed to an event which reflects the exact outcome of a request. For example, when a session on an instance is looking for a block in the global cache, it does not know whether it will receive the data cached by another instance or whether it will receive a message to read from disk. The wait events for the global cache convey precise information and waiting for global cache blocks or messages is:</p>
<ul>
<li>
<p>Summarized in a broader category called Cluster Wait Class</p>
</li>
<li>
<p>Temporarily represented by a placeholder event which is active while waiting for a block, for example:</p>
<ul>
<li>
<p><code dir="ltr">gc current block request</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block request</code></p>
</li>
</ul>
</li>
<li>
<p>Attributed to precise events when the outcome of the request is known, for example:</p>
<ul>
<li>
<p><code dir="ltr">gc current block 3-way</code></p>
</li>
<li>
<p><code dir="ltr">gc current block busy</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block grant 2-way</code></p>
</li>
</ul>
</li>
</ul>
<p>In summary, the wait events for Oracle RAC convey information valuable for performance analysis. They are used in <a id="sthref1012"></a>Automatic Database Diagnostic Monitor (ADDM) to enable precise diagnostics of the effect of cache fusion.</p>
</div>
<!-- class="sect2" -->
<a id="CFACGDDD"></a>
<div id="RACAD980" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Monitoring Performance by Analyzing GCS and GES Statistics</h3>
<p>In order to determine the amount of work and cost related to inter-instance messaging and contention, examine block transfer rates, remote requests made by each transaction, the number and time waited for global cache events as described under the following headings:</p>
<ul>
<li>
<p><a href="#CHDFDACC">Analyzing the Effect of Cache Fusion in Oracle RAC</a></p>
</li>
<li>
<p><a href="#CHDDHCCF">Analyzing Performance Using GCS and GES Statistics</a></p>
</li>
</ul>
<a id="CHDFDACC"></a>
<div id="RACAD981" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Analyzing the Effect of Cache Fusion in Oracle RAC</h4>
<p>The effect of accessing blocks in the global cache and maintaining coherency is represented by:</p>
<ul>
<li>
<p>The <a id="sthref1013"></a>Global Cache Service (GCS) statistics for <code dir="ltr">current</code> and <code dir="ltr">cr</code> blocks, for example, <code dir="ltr">gc current blocks received</code>, <code dir="ltr">gc cr blocks received</code>, and so on</p>
</li>
<li>
<p>The GCS wait events, for <code dir="ltr">gc current block 3-way</code>, <code dir="ltr">gc cr grant 2-way</code>, and so on.</p>
</li>
</ul>
<p>The response time for cache fusion transfers is determined by the messaging and processing times imposed by the physical interconnect components, the <a id="sthref1014"></a>IPC protocol and the <a id="sthref1015"></a>GCS protocol. It is not affected by disk I/O factors other than occasional log writes. The cache fusion protocol does not require I/O to data files in order to guarantee <a id="sthref1016"></a><a href="rac_glossary.htm#CHDEABAD"><span class="xrefglossterm">cache coherency</span></a> and Oracle RAC inherently does not cause any more I/O to disk than a nonclustered instance.</p>
</div>
<!-- class="sect3" -->
<a id="CHDDHCCF"></a>
<div id="RACAD982" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Analyzing Performance Using GCS and GES Statistics</h4>
<p>This section describes how to monitor GCS performance by identifying data blocks and objects which are frequently used (<span class="italic">hot</span>) by all instances. High concurrency on certain blocks may be identified by GCS wait events and times.</p>
<p>The <code dir="ltr">gc current block busy</code> wait event indicates that the access to cached data blocks was delayed because they were busy either in the remote or the local cache. This could be caused by any of the following:</p>
<ul>
<li>
<p>The blocks were pinned</p>
</li>
<li>
<p>The blocks were held up by sessions</p>
</li>
<li>
<p>The blocks were delayed by a log write on a remote instance</p>
</li>
<li>
<p>A session on the same instance was already accessing a block which was in transition between instances and the current session needed to wait behind it (for example, <code dir="ltr">gc current block busy</code>)</p>
</li>
</ul>
<p>Use the <code dir="ltr">V$SESSION_WAIT</code> view to identify objects and data blocks with contention. The GCS wait events contain the file and block number for a block request in p1 and p2, respectively.</p>
<p>An additional segment statistic, <code dir="ltr">gc buffer busy</code>, has been added to quickly determine the busy objects without having to query the <code dir="ltr">V$SESSION_WAIT</code> view mentioned earlier.</p>
<p>The <a id="sthref1017"></a>AWR infrastructure provides a view of active session history which can also be used to trace recent wait events and their arguments. It is therefore useful for hot block analysis. Most of the reporting facilities used by AWR and Statspack contain the object statistics and cluster wait class category, so that sampling of the views mentioned earlier is largely unnecessary.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends using ADDM and AWR. However, Statspack is available for backward compatibility. Statspack provides reporting only. You must run Statspack at level 7 to collect statistics related to block contention and segment block waits.</div>
<p>It is advisable to run <a id="sthref1018"></a>ADDM on the snapshot data collected by the AWR infrastructure to obtain an overall evaluation of the impact of the global cache. The advisory will also identify the busy objects and SQL highest cluster wait time.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CFAHEHII"></a>
<div id="RACAD985" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Analyzing Cache Fusion Transfer Impact Using GCS Statistics</h3>
<p>This section describes how to monitor GCS performance by identifying objects read and modified frequently and the service times imposed by the remote access. Waiting for blocks to arrive may constitute a significant portion of the response time, in the same way that reading from disk could increase the block access delays, only that <a id="sthref1019"></a>cache fusion transfers in most cases are faster than disk access latencies.</p>
<p>The following wait events indicate that the remotely cached blocks were shipped to the local instance without having been busy, pinned or requiring a log flush:</p>
<ul>
<li>
<p><code dir="ltr">gc current block 2-way</code></p>
</li>
<li>
<p><code dir="ltr">gc current block 3-way</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block 2-way</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block 3-way</code></p>
</li>
</ul>
<p>The object statistics for <code dir="ltr">gc current blocks received</code> and <code dir="ltr">gc cr blocks received</code> enable quick identification of the indexes and tables which are shared by the active instances. As mentioned earlier, creating an ADDM analysis will, in most cases, point you to the SQL statements and database objects that could be impacted by inter-instance contention.</p>
<p>Any increases in the average wait times for the events mentioned in the preceding list could be caused by the following occurrences:</p>
<ul>
<li>
<p>High load: CPU shortages, long run queues, scheduling delays</p>
</li>
<li>
<p>Misconfiguration: using public instead of private interconnect for message and block traffic</p>
</li>
</ul>
<p>If the average wait times are acceptable and no interconnect or load issues can be diagnosed, then the accumulated time waited can usually be attributed to a few SQL statements which need to be tuned to minimize the number of blocks accessed.</p>
<p>The column <code dir="ltr">CLUSTER_WAIT_TIME</code> in <code dir="ltr">V$SQLAREA</code> represents the wait time incurred by individual SQL statements for global cache events and will identify the SQL which may need to be tuned.</p>
</div>
<!-- class="sect2" -->
<a id="CFAHDADB"></a>
<div id="RACAD986" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Analyzing Response Times Based on Wait Events</h3>
<p>Most global cache wait events that show a high total time as reported in the AWR and Statspack reports or in the dynamic performance views are normal and may present themselves as the top database time consumers without actually indicating a problem. This section describes frequent wait events that you should be aware of when interpreting performance data.</p>
<p>If user response times increase and a high proportion of time waited is for global cache, then you should determine the cause. Most reports include a breakdown of events sorted by percentage of the total time.</p>
<p>It is useful to start with an <a id="sthref1020"></a>ADDM report, which analyzes the routinely collected <a id="sthref1021"></a>performance statistics with respect to their impact, and points to the objects and SQL contributing most to the time waited, and then moves on to the more detailed reports produced by AWR and Statspack.</p>
<p>Wait events for Oracle RAC include the following categories:</p>
<ul>
<li>
<p><a href="#CFAIGEDJ">Block-Related Wait Events</a></p>
</li>
<li>
<p><a href="#CFAHFDCA">Message-Related Wait Events</a></p>
</li>
<li>
<p><a href="#CFAGIIGG">Contention-Related Wait Events</a></p>
</li>
<li>
<p><a href="#CFAECEJF">Load-Related Wait Events</a></p>
</li>
</ul>
<a id="CFAIGEDJ"></a>
<div id="RACAD8306" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Block-Related Wait Events</h4>
<p>The main wait events for <a id="sthref1022"></a>block-related waits are:</p>
<ul>
<li>
<p><code dir="ltr">gc current block 2-way</code></p>
</li>
<li>
<p><code dir="ltr">gc current block 3-way</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block 2-way</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block 3-way</code></p>
</li>
</ul>
<p>The block-related wait event statistics indicate that a block was received as either the result of a 2-way or a 3-way message, that is, the block was sent from either the resource master requiring 1 message and 1 transfer, or was forwarded to a third node from which it was sent, requiring 2 messages and 1 block transfer.</p>
</div>
<!-- class="sect3" -->
<a id="CFAHFDCA"></a>
<div id="RACAD8307" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Message-Related Wait Events</h4>
<p>The main wait events for <a id="sthref1023"></a>message-related waits are:</p>
<ul>
<li>
<p><code dir="ltr">gc current grant 2-way</code></p>
</li>
<li>
<p><code dir="ltr">gc cr grant 2-way</code></p>
</li>
</ul>
<p>The message-related wait event statistics indicate that no block was received because it was not cached in any instance. Instead a global grant was given, enabling the requesting instance to read the block from disk or modify it.</p>
<p>If the time consumed by these events is high, then it may be assumed that the frequently used SQL causes a lot of disk I/O (in the event of the <code dir="ltr">cr grant</code>) or that the workload inserts a lot of data and needs to find and format new blocks frequently (in the event of the current grant).</p>
</div>
<!-- class="sect3" -->
<a id="CFAGIIGG"></a>
<div id="RACAD8308" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Contention-Related Wait Events</h4>
<p>The main wait events for <a id="sthref1024"></a>contention-related waits are:</p>
<ul>
<li>
<p><code dir="ltr">gc current block busy</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block busy</code></p>
</li>
<li>
<p><code dir="ltr">gc buffer busy acquire/release</code></p>
</li>
</ul>
<p>The contention-related wait event statistics indicate that a block was received which was pinned by a session on another node, was deferred because a change had not yet been flushed to disk or because of high concurrency, and therefore could not be shipped immediately. A buffer may also be busy locally when a session has already initiated a cache fusion operation and is waiting for its completion when another session on the same node is trying to read or modify the same data. High service times for blocks exchanged in the global cache may exacerbate the contention, which can be caused by frequent concurrent read and write accesses to the same data.</p>
<p>The <code dir="ltr">gc current block busy</code> and <code dir="ltr">gc cr block busy</code> wait events indicate that the local instance that is making the request did not immediately receive a current or consistent read block. The term <span class="italic">busy</span> in these events' names indicates that the sending of the block was delayed on a remote instance. For example, a block cannot be shipped immediately if Oracle Database has not yet written the redo for the block's changes to a log file.</p>
<p>In comparison to <code dir="ltr">block busy</code> wait events, a <code dir="ltr">gc buffer busy</code> event indicates that Oracle Database cannot immediately grant access to data that is stored in the local buffer cache. This is because a global operation on the buffer is pending and the operation has not yet completed. In other words, the buffer is busy and all other processes that are attempting to access the local buffer must wait to complete.</p>
<p>The existence of <code dir="ltr">gc buffer busy</code> events also means that there is block contention that is resulting in multiple requests for access to the local block. Oracle Database must queue these requests. The length of time that Oracle Database needs to process the queue depends on the remaining service time for the block. The service time is affected by the processing time that any network latency adds, the processing time on the remote and local instances, and the length of the wait queue.</p>
<p>The average wait time and the total wait time should be considered when being alerted to performance issues where these particular waits have a high impact. Usually, either interconnect or load issues or SQL execution against a large shared working set can be found to be the root cause.</p>
</div>
<!-- class="sect3" -->
<a id="CFAECEJF"></a>
<div id="RACAD8309" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Load-Related Wait Events</h4>
<p>The main wait events for <a id="sthref1025"></a>load-related waits are:</p>
<ul>
<li>
<p><code dir="ltr">gc current block congested</code></p>
</li>
<li>
<p><code dir="ltr">gc cr block congested</code></p>
</li>
</ul>
<p>The load-related wait events indicate that a delay in processing has occurred in the GCS, which is usually caused by high load, CPU saturation and would have to be solved by additional CPUs, load-balancing, off loading processing to different times or a new cluster node.For the events mentioned, the wait time encompasses the entire round trip from the time a session starts to wait after initiating a block request until the block arrives.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment422">
<tr>
<td class="cellalignment431">
<table class="cellalignment427">
<tr>
<td class="cellalignment426"><a href="design.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment426"><a href="srvctladmin.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment434">
<table class="cellalignment425">
<tr>
<td class="cellalignment426"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment426"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment426"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment426"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment426"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment426"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
