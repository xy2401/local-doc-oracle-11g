<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Fast Connection Failover</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1022" />
<meta name="dcterms.created" content="2014-06-05T10:53:59Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database High Availability Best Practices" />
<meta name="dcterms.identifier" content="E10803-06" />
<meta name="dcterms.isVersionOf" content="HABPT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="config_gg.htm" title="Previous" type="text/html" />
<link rel="Next" href="monitor.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10803.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/21</span> <!-- End Header -->
<div id="HABPT4967" class="chapter"><a id="BDCFJEHD"></a>
<h1 class="chapter"><span class="secnum">11</span> Configuring Fast Connection Failover</h1>
<p><a id="sthref599"></a>The steps described in this chapter assume that the client version and database version are 11.2.0.1 or higher. The 11.2.0.1 release provides for the following features when compared to 11.1.0.7 or below:</p>
<ul>
<li>
<p>Role based services</p>
</li>
<li>
<p>Data Guard broker sending FAN ONS events to JDBC clients</p>
</li>
<li>
<p>Support for SCAN addresses</p>
</li>
</ul>
<p>While previous versions do not have the above features it is possible to achieve similar results with manual configuration. For example:</p>
<ul>
<li>
<p>Create triggers that manage stopping and starting a service based on the database role.</p>
</li>
<li>
<p>Utilize an external ONS publisher to send FAN events after a failover has occurred.</p>
</li>
<li>
<p>Creating Oracle Net aliases that include all hosts with the potential to become a primary.</p>
</li>
</ul>
<p>The steps for configuring versions earlier than 11.2.0.1 are in the MAA white paper "Client Failover Best Practices for Highly Available Oracle Databases: Oracle Database 10g Release 2" at</p>
<p><code><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
<p class="subhead2"><a id="sthref600"></a>Types of Failures</p>
<p>Unplanned failures of an Oracle Database instance fall into the general categories:</p>
<ul>
<li>
<p>A server failure or other fault that causes the crash of an individual Oracle instance in an Oracle RAC database. To maintain availability, application clients connected to the failed instance must quickly be notified of the failure and immediately establish a new connection to the surviving instances of the Oracle RAC database.</p>
</li>
<li>
<p>A complete-site failure that results in both the application and database tiers being unavailable. To maintain availability users must be redirected to a secondary site that hosts a redundant application tier and a synchronized copy of the production database.</p>
</li>
<li>
<p>A partial-site failure where the primary database, a single-instance database, or all nodes in an Oracle RAC database become unavailable but the application tier at the primary site remains intact.</p>
</li>
</ul>
<p>Configure Fast Connection Failover as a best practice to fully benefit from fast instance and database failover and switchover with Oracle RAC and Oracle Data Guard. Fast Connection Failover enables clients, mid-tier applications, or any program that connects directly to a database to failover quickly and seamlessly to an available database service when a database service becomes unavailable.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BDCBEDBE">Configure JDBC and OCI Clients for Failover</a></p>
</li>
<li>
<p><a href="#BDCJGHFE">Configure Oracle RAC Databases for Failover</a></p>
</li>
<li>
<p><a href="#BDCHBEJE">Configure the Oracle Data Guard Environment</a></p>
</li>
<li>
<p><a href="#BDCDJABB">Client Transition During Switchover Operations</a></p>
</li>
<li>
<p><a href="#BDCDJIDC">Preventing Login Storms</a></p>
</li>
<li>
<p><a href="#CACJJCBI">Application support</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<pre>
</pre>
<ul>
<li>The MAA white paper "Client Failover Best Practices for Highly Available Oracle Databases: Oracle Database 11g Release 2" from the MAA Best Practices area for Oracle Database at
<p><code><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</li>
<li>
<p>"Application High Availability with Services and FAN" in <a class="olink ADMIN13180" href="../../server.112/e25494/restart.htm#ADMIN13180"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
</ul>
</div>
<a id="BDCBEDBE"></a>
<div id="HABPT4969" class="sect1">
<h2 class="sect1"><span class="secnum">11.1</span> Configure JDBC and OCI Clients for Failover<a id="sthref601"></a></h2>
<p>The best practices for configuration to enable fast connection failover differs, depending on the type of your client: JDBC or OCI.</p>
<p class="subhead2"><a id="HABPT5298"></a>Fast Connection Failover for JDBC Clients</p>
<p>For JDBC clients, follow these best practices:</p>
<ol>
<li>
<p>Enable Fast Connection Failover for JDBC clients by setting the <code>DataSource</code> property <code>FastConnectionFailoverEnabled</code> to <code>TRUE</code>.</p>
</li>
<li>
<p>Configure JDBC clients to use a connect descriptor that includes an address list that in turn includes the SCAN address for each site and connects to an existing service.</p>
</li>
<li>
<p>The JDBC client must set the <code>oracle.net.ns.SQLnetDef.TCP_CONNTIMEOUT_STR</code> property. This property enables the JDBC client to quickly traverse an <code>ADDRESS_LIST</code> in the event of a failure.</p>
</li>
<li>
<p>Configure a remote Oracle Notification Service (ONS) subscription on the JDBC client so that an ONS daemon is not required on the client.</p>
</li>
<li>
<p>By default the JDBC application randomly picks three hosts from the <code>setONSConfiguration</code> property and creates connections to those three ONS daemons. You must change this default so that connections are made to all ONS daemons. This is done by setting the following property when the JDBC application is invoked to the total number of ONS daemons in the configuration:</p>
<p><code>java - oracle.ons.maxconnections=4</code></p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<pre>
</pre>
<ul>
<li><a class="olink ADMIN13194" href="../../server.112/e25494/restart.htm#ADMIN13194"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about Enabling Fast Connection Failover for JDBC Clients</li>
<li>
<p>"Application High Availability with Services and FAN" in <a class="olink ADMIN13180" href="../../server.112/e25494/restart.htm#ADMIN13180"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
</ul>
</div>
<p class="subhead2"><a id="HABPT5299"></a>Fast Connection Failover for OCI Clients</p>
<p>For OCI clients, follow these best practices:</p>
<ol>
<li>
<p>Enable Fast Application Notification (FAN) for OCI clients by initializing the environment with the <a id="sthref602"></a><code>OCI_EVENTS</code> parameter.</p>
</li>
<li>
<p>Link the OCI client applications with the thread library.</p>
</li>
<li>
<p>Set the <a id="sthref603"></a><code>AQ_HA_NOTIFICATIONS</code> parameter to <code>TRUE</code> and configure the transparent application failover (TAF) attributes for services.</p>
</li>
<li>
<p>Configure an Oracle Net alias that the OCI application uses to connect to the database. The Oracle Net alias should specify both the primary and standby SCAN hostnames. For best performance while creating new connections the Oracle Net alias should have <code><a id="sthref604"></a>LOAD_BALANCE=OFF</code> for the <code>DESCRIPTION_LIST</code> so that <code>DESCRIPTIONs</code> are tried in an ordered list, top to bottom. With this configuration the second <code>DESCRIPTION</code> is only attempted if all connection attempts to the first <code>DESCRIPTION</code> have failed.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN13195" href="../../server.112/e25494/restart.htm#ADMIN13195"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about Enabling Fast Connection Failover for Oracle Call Interface Clients</p>
</li>
<li>
<p><a class="olink LNOCI16679" href="../../appdev.112/e10646/oci09adv.htm#LNOCI16679"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information about Transparent Application Failover in OCI</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BDCJGHFE"></a>
<div id="HABPT4970" class="sect1">
<h2 class="sect1"><span class="secnum">11.2</span> Configure Oracle RAC Databases for Failover</h2>
<p>Oracle Database 11<span class="italic">g</span> provides the infrastructure to make your application data highly available with Oracle Real Application Clusters (Oracle RAC) and with the Oracle Data Guard. At the database tier you must configure fast application failover.</p>
<div id="HABPT5300" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref605"></a>
<h3 class="sect2"><span class="secnum">11.2.1</span> Configure Database Services</h3>
<p>At a high level, automating client failover in an Oracle RAC configuration includes relocating database services to new or surviving instances, notifying clients that a failure has occurred to break the clients out of TCP timeout, and redirecting clients to a surviving instance (Oracle Clusterware sends FAN messages to applications; applications can respond to FAN events and take immediate action). For more information about FAN, see <a href="config_cw.htm#CEGIDECG">Section 6.1.1, "Client Configuration and Migration Concepts"</a>.</p>
<p>For services on an Oracle RAC database, Oracle Enterprise Manager or the SRVCTL utility are the recommended tools to manage services. A service can span one or more instances of an Oracle database and a single instance can support multiple services. The number of instances offering the service is managed by the DBA independent of the application.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="config_cw.htm#CEGIDECG">Section 6.1.1, "Client Configuration and Migration Concepts"</a></p>
</li>
<li>
<p><a href="config_cw.htm#CEGGDIHA">Section 6.2.5, "Connect to Database Using Services and Single Client Access Name (SCAN)"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5301" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref606"></a>
<h3 class="sect2"><span class="secnum">11.2.2</span> Optionally Configure FAN Server Side Callouts</h3>
<p>Server-side callouts provide a simple, yet powerful integration mechanism with the High Availability Framework that is part of Oracle Clusterware. You can use server side callouts to log trouble tickets or page Administrators to alert them of a failure. For Up events, when services and instances are started, new connections can be created so the application can immediately take advantage of the extra resources</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD076" href="../../rac.112/e41960/hafeats.htm#RACAD076"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for an Introduction to Automatic Workload Management.</p>
</li>
<li>
<p>For more information about client failover best practices and details on deploying FAN server side callouts, see the Technical Article, "Automatic Workload Management with Oracle Real Application Clusters 11<span class="italic">g</span> Release 2" on the Oracle Technology Network at</p>
<p><code><a href="http://www.oracle.com/technetwork/database/clustering/overview/index.html">http://www.oracle.com/technetwork/database/clustering/overview/index.html</a></code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BDCHBEJE"></a>
<div id="HABPT5302" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">11.3</span> Configure the Oracle Data Guard Environment</h2>
<p>To configure the Oracle Data Guard environment, do the following:</p>
<ul>
<li>
<p><a href="#BDCJFBDE">Configure Database Services</a></p>
</li>
<li>
<p><a href="#BDCGBIAJ">Use Data Guard Broker</a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The MAA white paper "Client Failover Best Practices for Data Guard 11g Release 2" from the MAA Best Practices area for Oracle Database at
<p><code><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</div>
</li>
</ul>
<a id="BDCJFBDE"></a>
<div id="HABPT5303" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">11.3.1</span> Configure Database Services</h3>
<p>In an Oracle Data Guard configuration you should only run primary application services on the primary database and run standby application services on the standby database. Beginning with Data Guard 11<span class="italic">g</span> Release 2, you can automatically control the startup of database services on primary and standby databases by assigning a database role to each service (roles include: <code>PRIMARY</code>, <code>PHYSICAL_STANDBY</code>, <code>LOGICAL_STANDBY</code>, and <code>SNAPSHOT_STANDBY</code>).</p>
<p>A database service automatically starts upon database startup if the management policy for the service is <code>AUTOMATIC</code> and if a role assigned to that service matches the current role of the database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN12738" href="../../server.112/e25494/restart.htm#ADMIN12738"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about Creating and Deleting Database Services with SRVCTL</p>
</li>
<li>
<p><a class="olink ADMIN12830" href="../../server.112/e25494/start.htm#ADMIN12830"><span class="italic">Oracle Database Administrator's Guide</span></a> for information About Automatic Startup of Database Services</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BDCGBIAJ"></a>
<div id="HABPT5304" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">11.3.2</span> Use Data Guard Broker</h3>
<p>The best practice is to configure Oracle Data Guard to manage the configuration with Oracle Data Guard Broker. Oracle Data Guard Broker is responsible for sending FAN events to client applications to clean up their connections to the down database and reconnect to the new production database. For more information about FAN, see <a href="config_cw.htm#CEGIDECG">Section 6.1.1, "Client Configuration and Migration Concepts"</a>.</p>
<p>Oracle Clusterware must be installed and active on the primary and standby sites for both single instance (using Oracle Restart) and Oracle RAC databases. Oracle Data Guard broker coordinates with Oracle Clusterware to properly fail over role-based services to a new primary database after a Data Guard failover has occurred. For more information, see</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="config_dg.htm#CEGFIBDE">Section 9.3.1, "Use Oracle Data Guard Broker with Oracle Data Guard"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BDCDJABB"></a>
<div id="HABPT5305" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">11.4</span> Client Transition During Switchover Operations</h2>
<p>In Oracle Data Guard, the term switchover describes a planned event where a primary and standby database switch roles, usually to minimize the downtime while performing planned maintenance. The configuration best practices to address unplanned failovers also address most of the requirements for a planned switchover, except for several additional manual steps that apply to logical standby databases (SQL Apply).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
There are no additional considerations for switchovers using Oracle Active Data Guard.</div>
<p>The following steps describe the additional manual switchover steps for Oracle Data Guard 11<span class="italic">g</span> Release 2:</p>
<ol>
<li>
<p>The primary database is converted to a standby database. This disconnects all sessions and brings the database to the mount state. Oracle Data Guard Broker shuts down any read/write services.</p>
</li>
<li>
<p>Client sessions receive a ORA-3113 and begin going through their retry logic (TAF for OCI and application code logic for JDBC).</p>
</li>
<li>
<p>The standby database is converted to a primary database and any existing sessions are disconnected. Oracle Data Guard Broker shuts down read-only services.</p>
</li>
<li>
<p>Read-only connections receive an ORA-3113 and begin going through their retry logic (TAF for OCI and application code logic for JDBC).</p>
</li>
<li>
<p>As the new primary and the new standby are opened, the respective services are started for each role and clients performing retries now see the services available and connect.</p>
</li>
</ol>
<p>For logical standby switchover:</p>
<ol>
<li>
<p>Ensure that the proper reconnection logic has been configured (for more information, see <a href="#BDCBEDBE">Section 11.1, "Configure JDBC and OCI Clients for Failover"</a> and <a href="#BDCJGHFE">Section 11.2, "Configure Oracle RAC Databases for Failover"</a>). For example, configure <code>TAF</code> and <code>RETRY_COUNT</code> for OCI applications and code retry logic for JDBC applications.</p>
</li>
<li>
<p>Stop the services that the primary application uses and the read-only applications enabled on the standby database.</p>
</li>
<li>
<p>Disconnect or shutdown the primary and read-only application sessions.</p>
</li>
<li>
<p>Once the switchover has completed, restart the services used by the primary application and the read-only application.</p>
</li>
<li>
<p>Sessions that were terminated reconnect once the service becomes available as part of the retry mechanism.</p>
</li>
<li>
<p>Restart the application if an application shuts down.</p>
</li>
</ol>
<p>Note that FAN is not needed to transition clients during a switchover operation if the application performs retries. FAN is only needed to break clients out of TCP timeout, a state that should only occur during unplanned outages.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="schedule_outage.htm#BABIGAAB">Section 14.2.1.3, "How to Perform Data Guard Switchover"</a></div>
</div>
<!-- class="sect1" -->
<a id="BDCDJIDC"></a>
<div id="HABPT4972" class="sect1">
<h2 class="sect1"><span class="secnum">11.5</span> Preventing Login Storms<a id="sthref607"></a><a id="sthref608"></a><a id="sthref609"></a></h2>
<p>The process of failing over an application that has a large number of connections may create a login storm. A <span class="italic">login storm</span> is a sudden spike in the number of connections to a database instance, which drains CPU resources. As CPU resources are depleted, application timeouts and application response times are likely to increase.</p>
<p>To control login storms:</p>
<ul>
<li>
<p>Implement the Connection Rate Limiter<a id="sthref610"></a><a id="sthref611"></a></p>
<p>The primary method of controlling login storms is to implement the Connection Rate Limiter feature of the Oracle listener. This feature limits the number of connections that can be processed in seconds. Slowing down the rate of connections ensures that CPU resources remain available and that the system remains responsive.</p>
</li>
<li>
<p>Configure Oracle Database for shared server<a id="sthref612"></a><a id="sthref613"></a><a id="sthref614"></a> operations</p>
<p>In addition to implementing the Connection Rate Limiter, some applications can control login storms by configuring Oracle Database for shared server operations. By using shared server, the number of processes that must be created at failover time are greatly reduced, thereby avoiding a login storm.</p>
</li>
<li>
<p>Adjust the maximum number of connections in the mid tier connection pool</p>
<p>If such a capability is available in your application mid tier, try limiting the number of connections by adjusting the <a id="sthref615"></a><a id="sthref616"></a><a id="sthref617"></a>maximum number of connections in the mid tier connection pool.<a id="sthref618"></a><a id="sthref619"></a><a id="sthref620"></a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00502" href="../../server.112/e25494/manproc.htm#ADMIN00502"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about configuring and controlling shared server operations</p>
</li>
<li>
<p>The "Oracle Net Listener Connection Rate Limiter" white paper for information about the Connection Rate Limiter at</p>
<p><code><a href="http://www.oracle.com/technetwork/database/enterprise-edition/oraclenetservices-connectionratelim-133050.pdf">http://www.oracle.com/technetwork/database/enterprise-edition/oraclenetservices-connectionratelim-133050.pdf</a></code></p>
</li>
<li>
<p>The "Best Practices for Optimizing Availability During Unplanned Outages Using Oracle Clusterware and Oracle Real Application Clusters" white paper for information and examples about <a id="sthref621"></a>listener connection rate throttling from the MAA Best Practices area for Oracle Database at</p>
<p><code><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CACJJCBI"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">11.6</span> Application support</h2>
<p>Currently, PeopleSoft Enterprise and Oracle WebLogic Server have support for FAN events.</p>
<p>PeopleSoft PeopleTools version 8.50.09 and higher supports FAN. This enables PeopleSoft applications to automatically failover database connections to a surviving instance in an Oracle RAC cluster or to a new primary database in an Oracle Data Guard configuration should its database connection be lost. If an Oracle RAC instance fails, a primary database fails, or the Oracle Database is shutdown or restarted, PeopleSoft servers and clients continue running and users are not required to login a second time.</p>
<p>In Oracle WebLogic Server 10.3.4, a single data source implementation has been introduced to support an Oracle RAC cluster. It responds to FAN events to provide Fast Connection Failover (FCF), run-time connection load-balancing (RCLB), and Oracle RAC instance graceful shutdown. XA affinity is supported at the global transaction ID level. The new feature is called WebLogic Active GridLink for Oracle RAC, which is implemented as the GridLink data source within Oracle WebLogic Server.</p>
<p>For applications that do not support FAN events, this includes a number of applications from Oracle (for example, Siebel and Oracle E-Business Suite), all of the steps described in this section should be completed for the fastest client failover possible. Even though FAN events cannot be used in such cases, applications can still be configured for efficient failover by using timeouts and application retries.</p>
<p>For more information see the MAA white paper "Client Failover Best Practices for Highly Available Oracle Databases: Oracle Database 11g Release 2" at</p>
<p><code><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1610">
<tr>
<td class="cellalignment1617">
<table class="cellalignment1615">
<tr>
<td class="cellalignment1614"><a href="config_gg.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1614"><a href="monitor.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1619">
<table class="cellalignment1613">
<tr>
<td class="cellalignment1614"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1614"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1614"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1614"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1614"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1614"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
