<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Automatic Database Performance Monitoring</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 040" />
<meta name="dcterms.created" content="2011-11-21T13:27:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide" />
<meta name="dcterms.identifier" content="E10822-04" />
<meta name="dcterms.isVersionOf" content="TDPPT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="tdppt_parttwo.htm" title="Previous" type="text/html" />
<link rel="Next" href="tdppt_realtime.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10822.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/21</span> <!-- End Header --><a id="CHDEBDAJ"></a><a id="TDPPT020"></a>
<h1 class="chapter"><span class="secnum">3</span> Automatic Database Performance Monitoring</h1>
<p>Automatic Database Diagnostic Monitor (ADDM) automatically detects and reports performance<a id="sthref59"></a> problems with the database. The results are displayed as ADDM findings on the Database Home page in Oracle Enterprise Manager (Enterprise Manager). Reviewing the ADDM findings enables you to quickly identify the performance problems that require your attention.</p>
<p>Each ADDM finding provides a list of recommendations for reducing the impact of the performance problem. You should review ADDM findings and implement the recommendations every day as part of regular database maintenance. Even when the database is operating at an optimal performance level, you should continue to use ADDM to monitor database performance on an ongoing basis.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#CHDJBEGD">Overview of Automatic Database Diagnostic Monitor</a></p>
</li>
<li>
<p><a href="#CHDDFAGH">Configuring Automatic Database Diagnostic Monitor</a></p>
</li>
<li>
<p><a href="#CHDCGBHB">Reviewing the Automatic Database Diagnostic Monitor Analysis</a></p>
</li>
<li>
<p><a href="#CHDFAFIF">Interpretation of Automatic Database Diagnostic Monitor Findings</a></p>
</li>
<li>
<p><a href="#CEGFBDIJ">Implementing Automatic Database Diagnostic Monitor Recommendations</a></p>
</li>
<li>
<p><a href="#BABIHHAC">Viewing Snapshot Statistics</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink PFGRF026" href="../../server.112/e41573/diag.htm#PFGRF026"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about using the <code>DBMS_ADVISOR</code> package to diagnose and tune the database with the Automatic Database Diagnostic Monitor</p>
</li>
</ul>
</div>
<a id="CHDJBEGD"></a><a id="TDPPT021"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Automatic Database Diagnostic Monitor</h2>
<p><a id="sthref60"></a><a id="sthref61"></a>ADDM is self-diagnostic software built into Oracle Database. ADDM examines and analyzes data captured in Automatic Workload Repository (AWR) to determine possible database performance problems. ADDM then locates the root causes of the performance problems, provides recommendations for correcting them, and quantifies the expected benefits. ADDM also identifies areas where no action is necessary.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGEHGE">ADDM Analysis</a></p>
</li>
<li>
<p><a href="#BABBCGJF">ADDM Recommendations</a></p>
</li>
<li>
<p><a href="#BABDICEI">ADDM for Oracle Real Application Clusters</a></p>
</li>
</ul>
<a id="BABGEHGE"></a><a id="TDPPT300"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">ADDM Analysis</h3>
<p>An ADDM analysis<a id="sthref62"></a> is performed after each AWR snapshot (every hour by default), and the results are saved in the database. You can then view the results using Enterprise Manager. Before using another performance tuning method described in this guide, review the results of the ADDM analysis first.</p>
<p>The ADDM analysis is performed from the top down, first identifying symptoms and then refining the analysis to reach the root causes of performance problems. ADDM uses the DB time statistic to identify performance problems. DB time is the cumulative time spent by the database in processing user requests, including both the wait time and CPU time of all user sessions that are not idle.</p>
<p>The goal of database performance tuning is to reduce the DB time of the system for a given workload. By reducing DB time, the database can support more user requests by using the same or fewer resources. ADDM reports system resources that are using a significant portion of DB time as problem areas and sorts them in descending order by the amount of related DB time spent. For more information about the DB time statistic, see <a href="tdppt_method.htm#CIHCACJG">"Time Model Statistics"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABBCGJF"></a><a id="TDPPT301"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">ADDM Recommendations</h3>
<p>In addition to diagnosing performance problems, ADDM recommends possible solutions. When appropriate, ADDM recommends multiple solutions from which you can choose. ADDM<a id="sthref63"></a> recommendations include the following:</p>
<ul>
<li>
<p>Hardware changes</p>
<p>Adding CPUs or changing the I/O subsystem configuration</p>
</li>
<li>
<p>Database configuration</p>
<p>Changing initialization parameter settings</p>
</li>
<li>
<p>Schema changes</p>
<p>Hash partitioning a table or index, or using automatic segment space management (ASSM)</p>
</li>
<li>
<p>Application changes</p>
<p>Using the cache option for sequences or using bind variables</p>
</li>
<li>
<p>Using other advisors</p>
<p>Running SQL Tuning Advisor on high-load SQL statements or running the Segment Advisor on hot objects</p>
</li>
</ul>
<p>ADDM benefits apply beyond production systems. Even on development and test systems, ADDM can provide an early warning of potential performance problems.</p>
<p>Performance tuning is an iterative process. Fixing one problem can cause a bottleneck to shift to another part of the system. Even with the benefit of the ADDM analysis, it can take multiple tuning cycles to reach a desirable level of performance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12072" href="../../server.112/e10897/storage.htm#ADMQS12072"><span class="italic">Oracle Database 2 Day DBA</span></a> for information the Segment Advisor</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABDICEI"></a><a id="TDPPT302"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">ADDM for Oracle Real Application Clusters</h3>
<p><a id="sthref64"></a>In an Oracle Real Application Clusters (Oracle RAC) environment, you can use ADDM to analyze the throughput performance of a database cluster. ADDM for Oracle RAC considers DB time as the sum of database times for all database instances and reports findings that are significant at the cluster level. For example, the DB time of each cluster node may be insignificant when considered individually, but the aggregate DB time may be a significant problem for the cluster as a whole.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TDPRC324" href="../../rac.112/e17264/racmon2.htm#TDPRC324"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> for information about using ADDM for Oracle RAC</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDFAGH"></a><a id="TDPPT022"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring Automatic Database Diagnostic Monitor</h2>
<p><a id="sthref65"></a>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABFAIBB">Setting Initialization Parameters to Enable ADDM</a></p>
</li>
<li>
<p><a href="#BABFIEGI">Setting the DBIO_EXPECTED Parameter</a></p>
</li>
<li>
<p><a href="#CIHHCACG">Managing AWR Snapshots</a></p>
</li>
</ul>
<a id="BABFAIBB"></a><a id="TDPPT023"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Setting Initialization Parameters to Enable ADDM</h3>
<p>Automatic database diagnostic monitoring is enabled by default and is controlled by the <code>CONTROL_MANAGEMENT_PACK_ACCESS</code> and the <code>STATISTICS_LEVEL</code> initialization parameters.</p>
<p>Set <code>CONTROL_MANAGEMENT_PACK_ACCESS</code> to <code>DIAGNOSTIC+TUNING</code> (default) or <code>DIAGNOSTIC</code> to enable automatic database diagnostic monitoring. Setting <code>CONTROL_MANAGEMENT_PACK_ACCESS</code> to <code>NONE</code> disables many Oracle Database features, including ADDM, and is strongly discouraged.</p>
<p>Set <code>STATISTICS_LEVEL</code> <a id="sthref66"></a><a id="sthref67"></a>to <code>TYPICAL</code> (default) or <code>ALL</code> to enable automatic database diagnostic monitoring. Setting <code>STATISTICS_LEVEL</code> to <code>BASIC</code> disables many Oracle Database features, including ADDM, and is strongly discouraged.</p>
<p class="orderedlisttitle">To determine whether ADDM is enabled<a id="sthref69"></a>:&nbsp;</p>
<ol>
<li>
<p>From the Database Home page, click <span class="bold">Server</span>.</p>
<p>The Server subpage appears.</p>
</li>
<li>
<p>In the Database Configuration section, click <span class="bold">Initialization Parameters</span>.</p>
<p>The Initialization Parameters page appears.</p>
</li>
<li>
<p>In the <span class="bold">Name</span> field, enter <code>statistics_level</code> and then click <span class="bold">Go</span>.</p>
<p>The table shows the setting of this initialization parameter.</p>
<img width="866" height="97" src="img/statistics_level.gif" alt="Description of statistics_level.gif follows" /><br />
<a id="sthref70" href="img_text/statistics_level.htm">Description of the illustration statistics_level.gif</a><br />
<br /></li>
<li>
<p>Do one of the following:</p>
<ul>
<li>
<p>If the Value list shows <span class="bold">ALL</span> or <span class="bold">TYPICAL</span>, then do nothing.</p>
</li>
<li>
<p>If the Value list shows <span class="bold">BASIC</span>, then select <span class="bold">ALL</span> or <span class="bold">TYPICAL</span>, and then click <span class="bold">Apply</span>.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Name</span> field, enter <code>control_management_pack_access</code>, and then click <span class="bold">Go</span>.</p>
<p>The table shows the setting of this initialization parameter.</p>
</li>
<li>
<p>Do one of the following:</p>
<ul>
<li>
<p>If the Value column shows <span class="bold">DIAGNOSTIC</span> or <span class="bold">DIAGNOSTIC+TUNING</span>, then do nothing.</p>
</li>
<li>
<p>If the Value column shows <span class="bold">NONE</span>, then select <span class="bold">DIAGNOSTIC</span> or <span class="bold">DIAGNOSTIC+TUNING</span> and click <span class="bold">Apply</span>.</p>
</li>
</ul>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink REFRN10214" href="../../server.112/e40402/initparams254.htm#REFRN10214"><span class="italic">Oracle Database Reference</span></a> for information about the <code>STATISTICS_LEVEL</code> initialization parameter</p>
</li>
<li>
<p><a class="olink REFRN10296" href="../../server.112/e40402/initparams038.htm#REFRN10296"><span class="italic">Oracle Database Reference</span></a> for information about the <code>CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABFIEGI"></a><a id="TDPPT024"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Setting the DBIO_EXPECTED Parameter</h3>
<p>ADDM analysis of I/O performance partially depends on a single argument, <code><a id="sthref71"></a><a id="sthref72"></a>DBIO_EXPECTED</code>, that describes the expected performance of the I/O subsystem. The value of <code>DBIO_EXPECTED</code> is the average time it takes to read a single database block, in microseconds. Oracle Database uses the default value of 10 milliseconds, which is an appropriate value for most hard drives. You can choose a different value based on the characteristics of your hardware.</p>
<p class="orderedlisttitle">To determine the correct setting for the <code><span class="codeinlinebold">DBIO_EXPECTED</span></code> initialization parameter<a id="sthref74"></a>:&nbsp;</p>
<ol>
<li>
<p>Measure the average read time of a single database block for your hardware.</p>
<p>This measurement must be taken for random I/O, which includes seek time if you use standard hard drives. Typical values for hard drives are between 5000 and 20000 microseconds. See <a class="olink PFGRF94384" href="../../server.112/e41573/iodesign.htm#PFGRF94384"><span class="italic">Oracle Database Performance Tuning Guide</span></a> to learn how to assess the I/O capability of the storage subsystem.</p>
</li>
<li>
<p><a id="sthref75"></a><a id="sthref76"></a>Set the value one time for all subsequent ADDM executions.</p>
<p>For example, if the measured value is 8000 microseconds, then execute the following PL/SQL code as the <code>SYS</code> user:</p>
<pre>
EXECUTE DBMS_ADVISOR.SET_DEFAULT_TASK_PARAMETER(
                     'ADDM', 'DBIO_EXPECTED', 8000);
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHHCACG"></a><a id="TDPPT025"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Managing AWR Snapshots</h3>
<p>By default, the <a id="sthref77"></a>Automatic Workload Repository (AWR) generates snapshots of performance data once every hour<a id="sthref78"></a><a id="sthref79"></a>, and retains the statistics in the workload repository for 8 days. You can change the default values for both the snapshot interval and the retention period.</p>
<p>Oracle recommends that you adjust the AWR retention period to at least one month. You can also extend the period to one business cycle so you can compare data across time frames such as the close of the fiscal quarter. You can also create AWR baselines to retain snapshots indefinitely for important time periods.</p>
<p>The data in the snapshot interval is analyzed by ADDM. ADDM compares the differences between snapshots to determine which SQL statements to capture, based on the effect on the system load. The ADDM analysis shows the number of SQL statements that need to be captured over time.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHHBFGG">Creating Snapshots</a></p>
</li>
<li>
<p><a href="#CIHBBHBE">Modifying Snapshot Settings</a></p>
</li>
</ul>
<a id="CIHHBFGG"></a><a id="TDPPT026"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Creating Snapshots</h4>
<p>Manually creating snapshots is usually not necessary because AWR generates snapshots of the performance data once every hour by default. In some cases, however, it may be necessary to manually create snapshots to capture different durations of activity, such as when you want to compare performance data over a shorter period than the snapshot interval.</p>
<p class="orderedlisttitle">To create snapshots<a id="sthref81"></a>:&nbsp;</p>
<ol>
<li>
<p>From the Database Home page, click <span class="bold">Performance</span>.</p>
<p>The Performance page appears.</p>
</li>
<li>
<p>Under Additional Monitoring Links, click <span class="bold">Snapshots</span>.</p>
<p>The Snapshots page appears with a list of the most recent snapshots.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The Confirmation page appears.</p>
</li>
<li>
<p>Click <span class="bold">Yes</span>.</p>
<p>The Processing: Create Snapshot page is displayed while the snapshot is being taken.</p>
<p>After the snapshot is taken, the Snapshots page reappears with a Confirmation message.</p>
<p>In the following example, the ID of the snapshot that was created is 96.</p>
<img width="616" height="140" src="img/snapshots.gif" alt="Description of snapshots.gif follows" /><br />
<a id="sthref82" href="img_text/snapshots.htm">Description of the illustration snapshots.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHBBHBE"></a><a id="TDPPT027"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Modifying Snapshot Settings</h4>
<p>By default, AWR generates snapshots of performance data once every hour. You can modify the default values of both the interval between snapshots and their retention period.</p>
<p class="orderedlisttitle">To modify the snapshot settings<a id="sthref84"></a>:&nbsp;</p>
<ol>
<li>
<p>From the Database Home page, click <span class="bold">Server</span>.</p>
<p>The Server subpage appears.</p>
</li>
<li>
<p>In the Statistics Management section, click <span class="bold">Automatic Workload Repository</span>.</p>
<p>The Automatic Workload Repository page appears.</p>
<img width="335" height="109" src="img/snapshot_settings.gif" alt="Description of snapshot_settings.gif follows" /><br />
<a id="sthref85" href="img_text/snapshot_settings.htm">Description of the illustration snapshot_settings.gif</a><br />
<br />
<p>In this example, snapshot retention is set to 8 days and snapshot interval is set to 60 minutes.</p>
</li>
<li>
<p>Click <span class="bold">Edit</span>.</p>
<p>The Edit Settings page appears.</p>
<img width="378" height="148" src="img/snap_edit_set.gif" alt="Description of snap_edit_set.gif follows" /><br />
<a id="sthref86" href="img_text/snap_edit_set.htm">Description of the illustration snap_edit_set.gif</a><br />
<br /></li>
<li>
<p>For <span class="bold">Snapshot Retention</span>, do one of the following:</p>
<ul>
<li>
<p>Select <span class="bold">Use Time-Based Retention Period (Days)</span>, and in the associated field enter the number of days to retain the snapshots.</p>
</li>
<li>
<p>Select <span class="bold">Retain Forever</span> to retain snapshots indefinitely.</p>
</li>
</ul>
<p>It is recommended that you increase the snapshot retention period to the maximum allowed by the available disk space.</p>
<p>In this example, the snapshot retention period is changed to 30 days.</p>
<img width="379" height="67" src="img/snapshot_retent.gif" alt="Description of snapshot_retent.gif follows" /><br />
<a id="sthref87" href="img_text/snapshot_retent.htm">Description of the illustration snapshot_retent.gif</a><br />
<br /></li>
<li>
<p>For <span class="bold">Snapshot Collection</span>, do one of the following:</p>
<ul>
<li>
<p>Select <span class="bold">System Snapshot Interval</span>, and in the <span class="bold">Interval</span> list, select the desired interval to change the interval between snapshots.</p>
</li>
<li>
<p>Select <span class="bold">Turn off Snapshot Collection</span> to disable snapshot collection.</p>
</li>
</ul>
<p>In this example, the snapshot collection interval is changed to 30 minutes.</p>
<img width="306" height="64" src="img/snapshot_collect.gif" alt="Description of snapshot_collect.gif follows" /><br />
<a id="sthref88" href="img_text/snapshot_collect.htm">Description of the illustration snapshot_collect.gif</a><br />
<br /></li>
<li>
<p>Click the link next to <span class="bold">Collection Level</span>.</p>
<p>The Initialization Parameter page appears.</p>
<p>To change the statistics level, select the desired value in the Value list for the <code>statistics_level</code> parameter. Click <span class="bold">Save to File</span> to set the value in the server parameter file.</p>
<p>In this example, the default value of Typical is used.</p>
<img width="739" height="86" src="img/snapshot_stat_lvl.gif" alt="Description of snapshot_stat_lvl.gif follows" /><br />
<a id="sthref89" href="img_text/snapshot_stat_lvl.htm">Description of the illustration snapshot_stat_lvl.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">OK</span> to apply the changes.</p>
<p>The Automatic Workload Repository page appears and displays the new settings.</p>
<img width="330" height="110" src="img/snapshot_sett_mod.gif" alt="Description of snapshot_sett_mod.gif follows" /><br />
<a id="sthref90" href="img_text/snapshot_sett_mod.htm">Description of the illustration snapshot_sett_mod.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDCGBHB"></a><a id="TDPPT029"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Reviewing the Automatic Database Diagnostic Monitor Analysis</h2>
<p>By default, ADDM runs every hour to analyze snapshots taken by AWR during that period. If the database finds performance problems<a id="sthref91"></a>, then it displays the results of the analysis under Diagnostic Summary on the Database Home page.</p>
<img width="337" height="117" src="img/diagnostic_sum.gif" alt="Description of diagnostic_sum.gif follows" /><br />
<a id="sthref92" href="img_text/diagnostic_sum.htm">Description of the illustration diagnostic_sum.gif</a><br />
<br />
<p>The ADDM Findings link shows how many ADDM findings were found in the most recent ADDM analysis.</p>
<p class="orderedlisttitle">To view ADDM findings<a id="sthref94"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Database Home page, under Diagnostic Summary, click the link next to <span class="bold">ADDM Findings</span>.</p>
<p>The Automatic Database Diagnostic Monitor (ADDM) page appears. The results of the ADDM run are displayed.</p>
<img width="937" height="539" src="img/addm_page.gif" alt="Description of addm_page.gif follows" /><br />
<a id="sthref95" href="img_text/addm_page.htm">Description of the illustration addm_page.gif</a><br />
<br />
<p>On the Automatic Database Diagnostic Monitor (ADDM) page, the Database Activity chart shows the database activity during the ADDM analysis period. Database activity types are defined in the legend based on their corresponding colors in the chart. Each icon below the chart represents a different ADDM task, which in turn corresponds to a pair of snapshots saved in AWR.</p>
<p>In this example, the two largest blocks of activity were 2:30 p.m. to 5:30 p.m. on January 20 and 9 a.m. to 11 a.m. the next day. The thick CPU and thin Wait bars in the hour after 4:30 p.m. indicate that CPU may have been a bottleneck during this period. In other areas of the chart, the Wait bar is thicker than the CPU bar, indicating that wait events had a greater performance impact than CPU.</p>
<p>In the ADDM Performance Analysis section, ADDM findings are listed in descending order, from highest to least impact. The Informational Findings section lists areas that have no performance impact and are for information only.</p>
<img width="661" height="134" src="img/information_findings.gif" alt="Description of information_findings.gif follows" /><br />
<a id="sthref96" href="img_text/information_findings.htm">Description of the illustration information_findings.gif</a><br />
<br /></li>
<li>
<p>Optionally, click the Zoom icons to shorten or lengthen the analysis period displayed on the chart.</p>
</li>
<li>
<p>To view the ADDM findings in a report<a id="sthref97"></a>, click <span class="bold">View Report</span>.</p>
<p>The View Report page appears.</p>
<p>You can click <span class="bold">Save to File</span> to save the report for later access.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDFAFIF"></a><a id="TDPPT030"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Interpretation of Automatic Database Diagnostic Monitor Findings</h2>
<p>The ADDM analysis results are represented as a set of <a id="sthref98"></a>findings. Each ADDM finding belongs to one of three types:</p>
<ul>
<li>
<p>Problem</p>
<p>Findings that describe the root cause of a database performance issue</p>
</li>
<li>
<p>Symptom</p>
<p>Findings that contain information that often leads to one or more problem findings</p>
</li>
<li>
<p>Information</p>
<p>Findings that are used to report areas of the system that do not have a performance impact</p>
</li>
</ul>
<p>Each problem finding is quantified with an estimate of the portion of DB time<a id="sthref99"></a><a id="sthref100"></a><a id="sthref101"></a> that resulted from the performance problem.</p>
<p>When a specific problem has multiple causes, ADDM may report multiple findings. In this case, the impacts of these multiple findings can contain the same portion of DB time. Because performance problems can overlap, summing the impacts of the reported findings can yield a number higher than 100% of DB time. For example, if a system performs many read I/O operations, ADDM may report a SQL statement responsible for 50% of DB time due to I/O activity as one finding, and an undersized buffer cache responsible for 75% of DB time as another finding.</p>
<p>A problem finding can be associated with a list of recommendations<a id="sthref102"></a> for reducing the impact of a performance problem. Each recommendation has a benefit that is an estimate of the portion of DB time that can be saved if the recommendation is implemented. When multiple recommendations are associated with an ADDM finding, the recommendations may contain alternatives for solving the same problem. In this case, the sum of the benefits may be higher than the impact of the finding. You do not need to apply all the recommendations to solve the same problem.</p>
<p>Recommendations are composed of actions<a id="sthref103"></a> and rationales<a id="sthref104"></a>. You must apply all the actions of a recommendation to gain its estimated benefit. The rationales explain why the set of actions was recommended, and provide additional information for implementing them. An ADDM action may present multiple solutions. If this is the case, then choose the easiest solution to implement.</p>
</div>
<!-- class="sect1" -->
<a id="CEGFBDIJ"></a><a id="TDPPT031"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Implementing Automatic Database Diagnostic Monitor Recommendations</h2>
<p>This section describes how to implement ADDM recommendations. ADDM findings are displayed in the Automatic Database Diagnostic Monitor (ADDM) page under ADDM Performance Analysis.</p>
<img width="681" height="119" src="img/perf_analysis.gif" alt="Description of perf_analysis.gif follows" /><br />
<a id="sthref105" href="img_text/perf_analysis.htm">Description of the illustration perf_analysis.gif</a><br />
<br />
<p class="orderedlisttitle">To implement ADDM recommendations<a id="sthref107"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Database Home page, under Diagnostic Summary, click the link next to <span class="bold">ADDM Findings</span>.</p>
<p>The Automatic Database Diagnostic Monitor (ADDM) page appears.</p>
</li>
<li>
<p>In the Database Activity section, click the icon for the ADDM to investigate.</p>
<p>The data in the ADDM Performance Analysis section changes based on the ADDM run that you selected.</p>
</li>
<li>
<p>In the ADDM Performance Analysis section, click the ADDM finding that has the greatest impact.</p>
<p>In this example, the finding with the greatest impact is Top SQL Statements.</p>
<p>The Performance Finding Details page appears.</p>
<p>In the following example, three recommendations are shown. The first is estimated to have a maximum benefit of up to 39.5% of DB time in the analysis period. The second recommendation is estimated to have a maximum benefit of up to 25.6% of DB time, while the third has a maximum of 18.6%.</p>
<img width="746" height="355" src="img/perf_finding_details.gif" alt="Description of perf_finding_details.gif follows" /><br />
<a id="sthref108" href="img_text/perf_finding_details.htm">Description of the illustration perf_finding_details.gif</a><br />
<br /></li>
<li>
<p><a id="BABBCGED"></a>Under Recommendations, click <span class="bold">Show</span> to review the recommendations and required actions for each recommendation.</p>
<p>The Category column displays the category of the recommendation. The Benefit (%) column displays the estimated benefit of implementing the recommendation.</p>
<img width="761" height="396" src="img/addm_rec.gif" alt="Description of addm_rec.gif follows" /><br />
<a id="sthref109" href="img_text/addm_rec.htm">Description of the illustration addm_rec.gif</a><br />
<br /></li>
<li>
<p>If additional information is available about why the set of actions was recommended, then click <span class="bold">Additional Information</span>, or review the content displayed under Additional Information.</p>
<p>For example, the Undersized Buffer Cache finding contains additional information to indicate the recommended value of the <code>DB_CACHE_SIZE</code> initialization parameter.</p>
<img width="649" height="552" src="img/addm_addit_info.gif" alt="Description of addm_addit_info.gif follows" /><br />
<a id="sthref110" href="img_text/addm_addit_info.htm">Description of the illustration addm_addit_info.gif</a><br />
<br /></li>
<li>
<p>To view the history of a finding, click <span class="bold">Finding History</span>.</p>
<p>The Finding History page appears.</p>
<img width="896" height="425" src="img/finding_history.gif" alt="Description of finding_history.gif follows" /><br />
<a id="sthref111" href="img_text/finding_history.htm">Description of the illustration finding_history.gif</a><br />
<br />
<p>The Finding History page shows how often a particular finding has occurred in a selected 3-hour interval. You can use this information to determine whether the finding was a transient or a persistent problem in the system. Based on this information, you can determine whether the actions associated with the finding should be implemented.</p>
<p>The Active Sessions chart shows the impact of the finding and of the other loads on the system. You can change the display as follows:</p>
<ol>
<li>
<p>To move the 3-hour interval, click and drag the shaded box in the Active Sessions chart.</p>
</li>
<li>
<p>To change dates, enter the desired date in the <span class="bold">View</span> field, and then click <span class="bold">Go</span>.</p>
</li>
<li>
<p>To view details about a finding, under Detail for Selected 3 Hour Interval, click the link in the <span class="bold">Finding Details</span> column to display the Performance Finding Details page for the corresponding ADDM finding.</p>
</li>
</ol>
</li>
<li>
<p>Optionally, create a filter to suppress known findings that have been tuned or cannot be tuned further. To create filters for a selected ADDM finding:</p>
<ol>
<li>
<p>Click <span class="bold">Filters</span>.</p>
<p>The Filters for Finding page appears.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The Create Filter for Finding page appears.</p>
</li>
<li>
<p>In the <span class="bold">Name</span> field, enter a name for the ADDM filter.</p>
</li>
<li>
<p>In the <span class="bold">Active Sessions</span> field, specify the filter criteria in terms of the number of active sessions.</p>
<p>The database filters the ADDM finding for future ADDM runs if the number of active sessions for the finding is less than the specified filter criteria.</p>
</li>
<li>
<p>In the <span class="bold">% Active Sessions</span> field, specify the filter criteria in terms of percentage of active sessions.</p>
<p>The database filters the ADDM finding for future ADDM runs if the number of active sessions for the finding is less than the specified filter criteria.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</li>
<li>
<p>Perform the required action of a chosen recommendation.</p>
<p>Depending on the type of action you choose to perform, various options may be available, such as <span class="bold">Implement</span> or <span class="bold">Run Advisor Now</span>. These options enable you to implement the recommendation immediately with a single mouse click.</p>
<p>In the example shown in Step <a href="#BABBCGED">4</a>, the simplest solution is to click <span class="bold">Run Advisor Now</span> to immediately run a SQL Tuning Advisor task on the SQL statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="tdppt_sqltune.htm#CAEBFCFJ">Chapter 10, "Tuning SQL Statements"</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABIHHAC"></a><a id="TDPPT032"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing Snapshot Statistics</h2>
<p>You can view the data contained in snapshots taken by AWR using Enterprise Manager. Typically, it is not necessary to review snapshot data because it primarily contains raw statistics. Instead, rely on ADDM, which analyzes statistics to identify performance problems. Snapshot statistics are intended primarily for advanced users, DBAs accustomed to using Statspack for performance analysis.</p>
<p class="orderedlisttitle">To view snapshot statistics<a id="sthref113"></a>:&nbsp;</p>
<ol>
<li>
<p>From the Database Home page, click <span class="bold">Performance</span>.</p>
<p>The Performance page appears.</p>
</li>
<li>
<p>Under Additional Monitoring Links, click <span class="bold">Snapshots</span>.</p>
<p>The Snapshots page appears with a list of the most recent snapshots.</p>
</li>
<li>
<p>To view the statistics gathered in a snapshot, click the <span class="bold">ID</span> link of the snapshot you want to view.</p>
<p>The Snapshot Details appears, showing the Details subpage.</p>
<img width="651" height="638" src="img/snapshot_det.gif" alt="Description of snapshot_det.gif follows" /><br />
<a id="sthref114" href="img_text/snapshot_det.htm">Description of the illustration snapshot_det.gif</a><br />
<br />
<p>In this example, statistics gathered from the previous snapshot (snapshot 100) to the selected snapshot (snapshot 101) are displayed.</p>
</li>
<li>
<p>To view a Workload Repository report of the statistics, click <span class="bold">Report</span>.</p>
<p>The Workload Repository report appears.</p>
</li>
<li>
<p>Optionally, click <span class="bold">Save to File</span> to save the report for later access.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="tdppt_degrade.htm#BABEIEDD">Chapter 8, "Resolving Performance Degradation Over Time"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1738">
<tr>
<td class="cellalignment1745">
<table class="cellalignment1743">
<tr>
<td class="cellalignment1742"><a href="tdppt_parttwo.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1742"><a href="tdppt_realtime.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1747">
<table class="cellalignment1741">
<tr>
<td class="cellalignment1742"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1742"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1742"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1742"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1742"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1742"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
