<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Optimizing Data Access Paths</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 040" />
<meta name="dcterms.created" content="2011-11-21T13:27:45Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide" />
<meta name="dcterms.identifier" content="E10822-04" />
<meta name="dcterms.isVersionOf" content="TDPPT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="tdppt_sqltune.htm" title="Previous" type="text/html" />
<link rel="Next" href="index.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10822.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">20/21</span> <!-- End Header --><a id="BABGHCAE"></a><a id="TDPPT170"></a>
<h1 class="chapter"><span class="secnum">11</span> Optimizing Data Access Paths</h1>
<p>To achieve optimal performance for data-intensive queries, materialized views and indexes are essential for SQL statements. However, implementing these objects does not come without cost. Creation and maintenance of these objects can be time-consuming. Space requirements can be significant. SQL Access Advisor<a id="sthref428"></a><a id="sthref429"></a><a id="sthref430"></a> enables you to optimize query access paths by recommending materialized views and view logs<a id="sthref431"></a>, indexes, SQL profiles, and partitions<a id="sthref432"></a> for a specific workload.</p>
<p>A <span class="bold">materialized view</span> provides access to table data by storing query results in a separate schema object. Unlike an ordinary view, which does not take up storage space or contain data, a materialized view contains the rows from a query of one or more base tables or views. A <span class="bold">materialized view log</span> is a schema object that records changes to a master table's data, so that a materialized view defined on the master table can be refreshed incrementally. SQL Access Advisor recommends how to optimize materialized views so that they can be rapidly refreshed and make use of the query rewrite feature. To learn more about materialized views, see <a class="olink CNCPT411" href="../../server.112/e40540/schemaob.htm#CNCPT411"><span class="italic">Oracle Database Concepts</span></a>.</p>
<p>SQL Access Advisor also recommends bitmap, function-based, and B-tree indexes. A <span class="bold">bitmap index</span><a id="sthref433"></a> reduces response time for many types of ad hoc queries and can also reduce storage space compared to other indexes. A <span class="bold">function-based index</span><a id="sthref434"></a> derives the indexed value from the table data. For example, to find character data in mixed cases, a function-based index search for values as if they were all in uppercase. <span class="bold">B-tree indexes</span><a id="sthref435"></a> are commonly used to index unique or near-unique keys.</p>
<p>Using SQL Access Advisor involves the following tasks:</p>
<ul>
<li>
<p><a href="#BABHDIFI">Running SQL Access Advisor</a></p>
</li>
<li>
<p><a href="#CHDFDJEH">Reviewing the SQL Access Advisor Recommendations</a></p>
</li>
<li>
<p><a href="#CIHEAGDG">Implementing the SQL Access Advisor Recommendations</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="tdppt_sqlid.htm#BABFHBFJ">Chapter 9, "Identifying High-Load SQL Statements"</a></p>
</li>
<li>
<p><a href="tdppt_sqltune.htm#CAEBFCFJ">Chapter 10, "Tuning SQL Statements"</a> for information about SQL Tuning Advisor</p>
</li>
<li>
<p><a class="olink CNCPT721" href="../../server.112/e40540/indexiot.htm#CNCPT721"><span class="italic">Oracle Database Concepts</span></a> to learn about indexes</p>
</li>
</ul>
</div>
<a id="BABHDIFI"></a><a id="TDPPT171"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Running SQL Access Advisor</h2>
<p>This section describes how to run SQL Access Advisor to make recommendations for a SQL workload.</p>
<p class="orderedlisttitle">To run SQL Access Advisor:&nbsp;</p>
<ol>
<li>
<p><a id="sthref437"></a><a id="sthref438"></a><a id="sthref439"></a><a id="sthref440"></a>Select the initial options, as described in <a href="#CIHICBIH">"Running SQL Access Advisor: Initial Options"</a>.</p>
</li>
<li>
<p>Select the workload source you want to use for the analysis, as described in <a href="#CIHHEEFH">"Running SQL Access Advisor: Workload Source"</a>.</p>
</li>
<li>
<p>Define the filters options, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
<li>
<p>Choose the types of recommendations, as described in <a href="#CIHGEJAJ">"Running SQL Access Advisor: Recommendation Options"</a>.</p>
</li>
<li>
<p>Schedule the SQL Access Advisor task, as described in <a href="#CIHGAEEC">"Running SQL Access Advisor: Schedule"</a>.</p>
</li>
</ol>
<a id="CIHICBIH"></a><a id="TDPPT172"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running SQL Access Advisor: Initial Options</h3>
<p>The first step in running SQL Access Advisor is to select the initial options on the SQL Access Advisor: Initial Options page.</p>
<p class="orderedlisttitle">To select initial options:&nbsp;</p>
<ol>
<li>
<p><a id="sthref442"></a>On the Database Home page, under Related Links, click <span class="bold">Advisor Central</span>.</p>
<p>The Advisor Central page appears.</p>
</li>
<li>
<p>Under Advisors, click <span class="bold">SQL Advisors</span>.</p>
<p>The SQL Advisors page appears.</p>
</li>
<li>
<p>Click <span class="bold">SQL Access Advisor</span>.</p>
<p>The SQL Access Advisor: Initial Options page appears.</p>
</li>
<li>
<p><a id="CIHECGDA"></a>Do one of the following:</p>
<ul>
<li>
<p>Select <span class="bold">Verify use of access structures (indexes, materialized views, partitioning, and so on) only</span> to verify existing structures.</p>
</li>
<li>
<p>Select <span class="bold">Recommend new access structures</span> to use the recommended options defined in the Oracle Enterprise Manager default template.</p>
<p>If you select this option, then you can optionally complete the following steps:</p>
<ul>
<li>
<p>Select <span class="bold">Inherit Options from a previously saved Task or Template</span> to use the options defined in an existing SQL Access Advisor task or another template.</p>
</li>
<li>
<p>In Tasks and Templates, select the task or template that you want to use.</p>
</li>
</ul>
</li>
</ul>
<p>In this example, <span class="bold">Recommend new access structures</span> is selected.</p>
<img width="740" height="447" src="img/sql_access_initial_options.gif" alt="Description of sql_access_initial_options.gif follows" /><br />
<a id="sthref443" href="img_text/sql_access_initial_options.htm">Description of the illustration sql_access_initial_options.gif</a><br />
<br /></li>
<li>
<p>Click <span class="bold">Continue</span>.</p>
<p>The SQL Access Advisor: Workload Source page appears.</p>
</li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHHEEFH">"Running SQL Access Advisor: Workload Source"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHHEEFH"></a><a id="TDPPT173"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running SQL Access Advisor: Workload Source</h3>
<p>After initial options are specified for SQL Access Advisor, select the workload source<a id="sthref444"></a> that you want to use for the analysis, as described in the following sections:</p>
<ul>
<li>
<p><a href="#CIHEDHFB">Using SQL Statements from the Cache</a></p>
</li>
<li>
<p><a href="#CIHCCADF">Using an Existing SQL Tuning Set</a></p>
</li>
<li>
<p><a href="#CIHCJHIH">Using a Hypothetical Workload</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before you can select the workload source for SQL Access Advisor, select the initial options, as described in <a href="#CIHICBIH">"Running SQL Access Advisor: Initial Options"</a>.</div>
<a id="CIHEDHFB"></a><a id="TDPPT174"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using SQL Statements from the Cache</h4>
<p>You can use SQL statements from the cache as the workload source. However, only current and recent SQL statements are stored in the SQL cache, so this workload source may not be representative of the entire workload on your database.</p>
<p class="orderedlisttitle">To use SQL statements from the cache as the workload source:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, select <span class="bold">Current and Recent SQL Activity</span>.</p>
<img width="743" height="153" src="img/sql_access_source_cache.gif" alt="Description of sql_access_source_cache.gif follows" /><br />
<a id="sthref446" href="img_text/sql_access_source_cache.htm">Description of the illustration sql_access_source_cache.gif</a><br />
<br /></li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHCCADF"></a><a id="TDPPT175"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using an Existing SQL Tuning Set</h4>
<p>You can use an existing SQL tuning set as the workload source. This option is useful because SQL tuning sets can be used repeatedly as the workload source for SQL Access Advisor and SQL Tuning Advisor.</p>
<p class="orderedlisttitle">To use a SQL tuning set as the workload source:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, select <span class="bold">Use an existing SQL Tuning Set</span>.</p>
</li>
<li>
<p>Click the <span class="bold">SQL Tuning Set</span> search icon to use an existing SQL tuning set.</p>
<p>The Search and Select: SQL Tuning Set dialog box appears.</p>
</li>
<li>
<p>In the <span class="bold">Schema</span> field, enter the name of the schema containing the SQL tuning set you want to use and then click <span class="bold">Go</span>.</p>
<p>A list of SQL tuning sets contained in the selected schema appears.</p>
</li>
<li>
<p>Select the SQL tuning set to be used for the workload source and click <span class="bold">Select</span>.</p>
<p>The Search and Select: SQL Tuning Set dialog box closes and the selected SQL Tuning Set now appears in the <span class="bold">SQL Tuning Set</span> field.</p>
</li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="tdppt_sqltune.htm#CBBGEAJI">"Managing SQL Tuning Sets"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CIHCJHIH"></a><a id="TDPPT177"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using a Hypothetical Workload</h4>
<p>A <span class="bold">dimension table</span> stores all or part of the values for a logical dimension in a star or snowflake schema. You can create a hypothetical workload from dimension tables containing primary or foreign key constraints. This option is useful if the workload to be analyzed does not exist. In this case, SQL Access Advisor examines the current logical schema design, and provides recommendations based on the defined relationships between tables.</p>
<p class="orderedlisttitle">To use a hypothetical workload as the workload source:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, select <span class="bold">Create a Hypothetical Workload from the Following Schemas and Tables</span>.</p>
</li>
<li>
<p>Leave <span class="bold">Schemas and Tables</span> empty and then click <span class="bold">Add</span> to search for tables.</p>
<p>The Workload Source: Search and Select Schemas and Tables page appears.</p>
</li>
<li>
<p>In the Tables section, enter a schema name in the <span class="bold">Schema</span> field and then click <span class="bold">Search</span>.</p>
<p>A list of tables in the selected schema is displayed.</p>
</li>
<li>
<p>Select the tables to be used in creating the hypothetical workload and then click <span class="bold">Add Tables</span>.</p>
<p>The selected tables now appear in the <span class="bold">Schemas and Tables</span> field.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>The SQL Access Advisor: Workload Source page appears with the selected tables now added.</p>
</li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT411" href="../../server.112/e40540/schemaob.htm#CNCPT411"><span class="italic">Oracle Database Concepts</span></a> for an overview of materialized views</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHEAEJC"></a><a id="TDPPT178"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running SQL Access Advisor: Filter Options</h3>
<p>After the workload source is selected, you can optionally apply filters to reduce the scope of the SQL statements found in the workload. Filters are beneficial for the following reasons:</p>
<ul>
<li>
<p>Using filters directs SQL Access Advisor to make recommendations based on a specific subset of SQL statements from the workload, which may lead to better recommendations.</p>
</li>
<li>
<p>Using filters removes extraneous SQL statements from the workload, which may greatly reduce processing time.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before you can select the filter options for the workload, do the following:
<ul>
<li>
<p>Select initial options, as described in <a href="#CIHICBIH">"Running SQL Access Advisor: Initial Options"</a>.</p>
</li>
<li>
<p>Select the workload source, as described in <a href="#CIHHEEFH">"Running SQL Access Advisor: Workload Source"</a>.</p>
</li>
</ul>
</div>
<p class="orderedlisttitle">To apply filters to the workload source<a id="sthref450"></a>:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, click <span class="bold">Filter Options</span>.</p>
<p>The Filter Options section expands.</p>
</li>
<li>
<p>Select <span class="bold">Filter Workload Based on these Options</span>.</p>
<p>The Filter Options section is enabled.</p>
</li>
<li>
<p>Define the filters you want to apply, as described in the following sections:</p>
<ul>
<li>
<p><a href="#CIHGHGJA">Defining Filters for Resource Consumption</a></p>
</li>
<li>
<p><a href="#CIHIJGFF">Defining Filters for Users</a></p>
</li>
<li>
<p><a href="#CIHEJBBH">Defining Filters for Tables</a></p>
</li>
<li>
<p><a href="#CIHJCJJH">Defining Filters for SQL Text</a></p>
</li>
<li>
<p><a href="#CIHEBIDI">Defining Filters for Modules</a></p>
</li>
<li>
<p><a href="#CIHHIDJJ">Defining Filters for Actions</a></p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Recommendation Options page appears.</p>
</li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHGEJAJ">"Running SQL Access Advisor: Recommendation Options"</a>.</p>
</li>
</ol>
<a id="CIHGHGJA"></a><a id="TDPPT179"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for Resource Consumption</h4>
<p>The resource consumption filter restricts the workload to include only the number of high-load SQL statements that you specify.</p>
<p class="orderedlisttitle">To define a filter for resource consumption:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, under User Resource Consumption, enter the number of high-load SQL statements in the <span class="bold">Number of Statements</span> field.</p>
</li>
<li>
<p>From the Order by list, select one of the methods by which the SQL statements are to be ordered.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHIJGFF"></a><a id="TDPPT180"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for Users</h4>
<p>The users filter restricts the workload to include or exclude SQL statements executed by users that you specify.</p>
<p class="orderedlisttitle">To define a filter for users:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Workload Source page, under Users, select <span class="bold">Include only SQL statements executed by these users</span> or <span class="bold">Exclude all SQL statements executed by these users</span>.</p>
</li>
<li>
<p>To search for available users, click the Users search icon.</p>
<p>The Search and Select: Users dialog box appears.</p>
</li>
<li>
<p>Select the users whose SQL statements you want to include or exclude and then click <span class="bold">Select</span>.</p>
<p>The Search and Select: Users dialog box closes and the selected tables now appear in the <span class="bold">Users</span> field.</p>
<p>In this example, a filter is defined to include only SQL statements executed by the user <code>SH</code>.</p>
<img width="677" height="112" src="img/sql_access_filter_users.gif" alt="Description of sql_access_filter_users.gif follows" /><br />
<a id="sthref453" href="img_text/sql_access_filter_users.htm">Description of the illustration sql_access_filter_users.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHEJBBH"></a><a id="TDPPT181"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for Tables</h4>
<p>The tables filter restricts the workload to include or exclude SQL statements that access a list of tables that you specify. Table filters are not permitted if you selected the <span class="bold">Create a Hypothetical Workload from the Following Schemas and Tables</span> option, as described in <a href="#CIHCJHIH">"Using a Hypothetical Workload"</a>.</p>
<p class="orderedlisttitle">To define a filter for tables:&nbsp;</p>
<ol>
<li>
<p>To include only SQL statements that access a specific list of tables, enter the table names in the <span class="bold">Include only SQL statements that access any of these tables</span> field.</p>
</li>
<li>
<p>To exclude all SQL statements that access a specific list of tables, enter the table names in the <span class="bold">Exclude all SQL statements that access any of these tables</span> field.</p>
</li>
<li>
<p>To search for available tables, click the Tables search icon.</p>
<p>The Search and Select: Schema and Table dialog box appears.</p>
</li>
<li>
<p>Select the tables for which you want to include or exclude SQL statements and click <span class="bold">Select</span>.</p>
<p>The Search and Select: Schema and Table dialog box closes and the selected tables now appear in the corresponding Tables field.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHJCJJH"></a><a id="TDPPT182"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for SQL Text</h4>
<p>The SQL text filter restricts the workload to include or exclude SQL statements that contains SQL text substrings that you specify.</p>
<p class="orderedlisttitle">To define a filter for SQL text:&nbsp;</p>
<ol>
<li>
<p>To include only SQL statements that contains specific SQL text, enter the SQL text to be included in the <span class="bold">Include only SQL statements containing these SQL text substrings</span> field.</p>
</li>
<li>
<p>To exclude all SQL statements that contain specific SQL text, enter the SQL text to be excluded in the <span class="bold">Exclude all SQL statements containing these SQL text substrings</span> field.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHEBIDI"></a><a id="TDPPT183"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for Modules</h4>
<p>The module filter restricts the workload to include or exclude SQL statements that are associated with modules that you specify.</p>
<p class="orderedlisttitle">To define a filter for module ID:&nbsp;</p>
<ol>
<li>
<p>Do one of the following:</p>
<ul>
<li>
<p>To include only SQL statements associated with a specific module ID in the workload, select <span class="bold">Include only SQL statements associated with these modules</span>.</p>
</li>
<li>
<p>To exclude all SQL statements associated to a specific module ID from the workload, select <span class="bold">Exclude all SQL statements associated with these modules</span>.</p>
</li>
</ul>
</li>
<li>
<p>In the Modules field, enter the names of the modules for which associated SQL statements will be included or excluded.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHHIDJJ"></a><a id="TDPPT184"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Defining Filters for Actions</h4>
<p>The actions filter restricts the workload to include or exclude SQL statements that are associated with actions that you specify.</p>
<p class="orderedlisttitle">To define a filter for actions:&nbsp;</p>
<ol>
<li>
<p>Do one of the following:</p>
<ul>
<li>
<p>To include only SQL statements associated with a specific action in the workload, select <span class="bold">Include only SQL statements associated with these actions</span>.</p>
</li>
<li>
<p>To exclude all SQL statements associated with a specific action from the workload, select <span class="bold">Exclude all SQL statements associated with these actions</span>.</p>
</li>
</ul>
</li>
<li>
<p>In the Actions field, enter the actions for which associated SQL statements will be included or excluded.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHGEJAJ"></a><a id="TDPPT185"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running SQL Access Advisor: Recommendation Options</h3>
<p>To improve the underlying data access methods chosen by the optimizer for the workload, SQL Access Advisor provides recommendations for indexes, materialized views, and partitioning. Using these access structures can significantly improve the performance of the workload by reducing the time required to read data from the database. However, you must balance the benefits of using these access structures against the cost to maintain them.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before you can select the recommendation options for SQL Access Advisor, do the following:
<ul>
<li>
<p>Select initial options, as described in <a href="#CIHICBIH">"Running SQL Access Advisor: Initial Options"</a>.</p>
</li>
<li>
<p>Select the workload source, as described in <a href="#CIHHEEFH">"Running SQL Access Advisor: Workload Source"</a>.</p>
</li>
<li>
<p>Define the filter options, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
</ul>
</div>
<p class="orderedlisttitle">To specify recommendation options<a id="sthref459"></a>:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Recommendation Options page, under Access Structures to Recommend, select the type of access structures to be recommended by SQL Access Advisor:</p>
<ul>
<li>
<p>Indexes</p>
</li>
<li>
<p>Materialized Views</p>
</li>
<li>
<p>Partitioning</p>
</li>
</ul>
<p>In this example, all of the preceding access types are selected.</p>
<img width="247" height="85" src="img/sql_access_recommend_types.gif" alt="Description of sql_access_recommend_types.gif follows" /><br />
<a id="sthref460" href="img_text/sql_access_recommend_types.htm">Description of the illustration sql_access_recommend_types.gif</a><br />
<br /></li>
<li>
<p>Under Scope, select the mode in which SQL Access Advisor will run. Do one of the following:</p>
<ul>
<li>
<p>Select <span class="bold">Limited</span>.</p>
<p>In limited mode, SQL Access Advisor focuses on SQL statements with the highest cost in the workload. The analysis is quicker, but the recommendations may be limited.</p>
</li>
<li>
<p>Select <span class="bold">Comprehensive</span>.</p>
<p>In comprehensive mode, SQL Access Advisor analyzes all SQL statements in the workload. The analysis can take much longer, but the recommendations will be exhaustive.</p>
</li>
</ul>
<p>In this example, <span class="bold">Limited Mode</span> is selected.</p>
<img width="609" height="149" src="img/sql_access_advisor_mode.gif" alt="Description of sql_access_advisor_mode.gif follows" /><br />
<a id="sthref461" href="img_text/sql_access_advisor_mode.htm">Description of the illustration sql_access_advisor_mode.gif</a><br />
<br /></li>
<li>
<p>Optionally, click <span class="bold">Advanced Options</span>.</p>
<p>The Advanced Options section expands. This section contains the following subsections:</p>
<ul>
<li>
<p>Workload Categorization</p>
<p>In this section, you can specify the type of workload for which you want a recommendation. The following categories are available:</p>
<ul>
<li>
<p>Workload Volatility</p>
<p>Select <span class="bold">Consider only queries</span> if the workload primarily contains read-only operations, as in data warehouses. Volatility data is useful for online transaction processing (OLTP) systems, where the performance of <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> operations is critical.</p>
</li>
<li>
<p>Workload Scope</p>
<p>Select <span class="bold">Recommend dropping unused access structures</span> if the workload represents all access structure use cases.</p>
</li>
</ul>
</li>
<li>
<p>Space Restrictions</p>
<p>Indexes and materialized views increase performance at the cost of space. Do one of the following:</p>
<ul>
<li>
<p>Select <span class="bold">No, show me all recommendations (unlimited space)</span> to specify no space limits. When SQL Access Advisor is invoked with no space limits, it makes the best possible performance recommendations.</p>
</li>
<li>
<p>Select <span class="bold">Yes, limit additional space to</span> and then enter the space limit in megabytes, gigabytes, or terabytes. When SQL Access Advisor is invoked with a space limit, it produces only recommendations with space requirements that do not exceed the specified limit.</p>
</li>
</ul>
</li>
<li>
<p>Tuning Prioritization</p>
<p>This section enables you to specify how SQL statements will be tuned. Complete the following steps:</p>
<ul>
<li>
<p>From the Prioritize tuning of SQL statements by list, select a method by which SQL statements are to be tuned and then click <span class="bold">Add</span>.</p>
</li>
<li>
<p>Optionally, select <span class="bold">Allow Advisor to consider creation costs when forming recommendations</span> to weigh the cost of creating access structures against the frequency and potential improvement of SQL statement execution time. Otherwise, creation cost will be ignored. You should select this option if you want specific recommendations generated for SQL statements that are executed frequently.</p>
</li>
</ul>
</li>
<li>
<p>Default Storage Locations</p>
<p>Use this section to override the defaults defined for schema and tablespace locations. By default, indexes are in the schema and tablespace of the table they reference. Materialized views are in the schema and tablespace of the first table referenced in the query. Materialized view logs are in the default tablespace of the schema of the table that they reference.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The SQL Access Advisor: Schedule page appears.</p>
</li>
<li>
<p>Proceed to the next step, as described in <a href="#CIHGAEEC">"Running SQL Access Advisor: Schedule"</a>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGAEEC"></a><a id="TDPPT186"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running SQL Access Advisor: Schedule</h3>
<p>Use the SQL Access Advisor Schedule page to set or modify the schedule parameters for the SQL Access Advisor task.</p>
<div class="figure">
<p class="titleinfigure"><a id="CIHIICJH"></a><a id="TDPPT464"></a>Figure 11-1 Scheduling a SQL Access Advisor Task</p>
<img width="605" height="666" src="img/sql_access_schedule.gif" alt="Description of Figure 11-1 follows" /><br />
<a id="sthref462" href="img_text/sql_access_schedule.htm">Description of "Figure 11-1 Scheduling a SQL Access Advisor Task"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before you can schedule a SQL Access Advisor task, do the following:
<ul>
<li>
<p>Select initial options, as described in <a href="#CIHICBIH">"Running SQL Access Advisor: Initial Options"</a>.</p>
</li>
<li>
<p>Select the workload source, as described in <a href="#CIHHEEFH">"Running SQL Access Advisor: Workload Source"</a>.</p>
</li>
<li>
<p>Define the filter options, as described in <a href="#CIHEAEJC">"Running SQL Access Advisor: Filter Options"</a>.</p>
</li>
<li>
<p>Specify the recommendation options, as described in <a href="#CIHGEJAJ">"Running SQL Access Advisor: Recommendation Options"</a>.</p>
</li>
</ul>
</div>
<p class="orderedlisttitle">To schedule a SQL Access Advisor task<a id="sthref464"></a>:&nbsp;</p>
<ol>
<li>
<p>On the SQL Access Advisor: Schedule page, under Advisor Task Information, enter a name in the <span class="bold">Task Name</span> field if you do not want to use the system-generated task name.</p>
<p>In the example shown in <a href="#CIHIICJH">Figure 11-1</a>, <code>SQLACCESS9084523</code> is entered.</p>
</li>
<li>
<p>In the <span class="bold">Task Description</span> field, enter a description of the task.</p>
<p>In the example shown in <a href="#CIHIICJH">Figure 11-1</a>, <code>SQL Access Advisor</code> is entered.</p>
</li>
<li>
<p>From the Journaling Level list, select the level of journaling for the task.</p>
<p>Journaling level controls the amount of information that is logged to the SQL Access Advisor journal during task execution. This information appears on the Details subpage when viewing task results.</p>
<p>In the example shown in <a href="#CIHIICJH">Figure 11-1</a>, <span class="bold">Basic</span> is selected.</p>
</li>
<li>
<p>In the <span class="bold">Task Expiration (Days)</span> field, enter the number of days the task will be retained in the database before it is purged.</p>
<p>In the example shown in <a href="#CIHIICJH">Figure 11-1</a>, <code>30</code> is entered.</p>
</li>
<li>
<p>In the <span class="bold">Total Time Limit (minutes)</span> field, enter the maximum number of minutes that the job is permitted to run.</p>
<p>You must enter a time in this field rather than use the default.</p>
</li>
<li>
<p>Under Scheduling Options, in the Schedule Type list, select a schedule type for the task and a maintenance window in which the task should run. Do one of the following:</p>
<ul>
<li>
<p>Click <span class="bold">Standard</span>.</p>
<p>This schedule type enables you to select a repeating interval and start time for the task. Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>In the Repeat list, select <span class="bold">Do Not Repeat</span> to perform the task only once, or select a unit of time and enter the number of units in the <span class="bold">Interval</span> field.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Use predefined schedule</span>.</p>
<p>This schedule type enables you to select an existing schedule. Do one of the following:</p>
<ul>
<li>
<p>In the <span class="bold">Schedule</span> field, enter the name of the schedule to be used for the task.</p>
</li>
<li>
<p>To search for a schedule, click the search icon.</p>
<p>The Search and Select: Schedule dialog box appears.</p>
<p>Select the desired schedule and click <span class="bold">Select</span>. The selected schedule now appears in the <span class="bold">Schedule</span> field.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Standard using PL/SQL for repeated interval</span>.</p>
<p>This schedule type enables you to select a repeating interval and an execution time period (window) for the task. Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Available to Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>In the Repeat list, select <span class="bold">Do Not Repeat</span> to perform the task only once, or select a unit of time and enter the number of units in the <span class="bold">Interval</span> field.</p>
</li>
<li>
<p>In the <span class="bold">Repeated Interval</span> field, enter a PL/SQL schedule expression, such as <code>SYSDATE+1</code>.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Use predefined window</span>.</p>
<p>This schedule type enables you to select an existing window. Select <span class="bold">Stop on Window Close</span> to stop the job when the window closes. Do one of the following:</p>
<ul>
<li>
<p>In the <span class="bold">Window</span> field, enter the name of the window to be used for the task.</p>
</li>
<li>
<p>To search for a window, click the search icon.</p>
<p>The Search and Select: Window and Window Groups dialog box appears.</p>
<p>Select the desired window and click <span class="bold">Select</span>. The selected window now appears in the <span class="bold">Schedule</span> field.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Event</span>.</p>
<p>Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Event Parameters, enter values in the <span class="bold">Queue Name</span> and <span class="bold">Condition</span> fields.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Calendar</span>.</p>
<p>Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Calendar Expression, enter a calendar expression.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
</ul>
<p>In the example shown in <a href="#CIHIICJH">Figure 11-1</a>, <span class="bold">Standard</span> is selected for schedule type. The task will not repeat and is scheduled to start immediately.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The SQL Access Advisor: Review page appears.</p>
<img width="579" height="277" src="img/sql_access_review.gif" alt="Description of sql_access_review.gif follows" /><br />
<a id="sthref465" href="img_text/sql_access_review.htm">Description of the illustration sql_access_review.gif</a><br />
<br />
<p>Under Options, a list of modified options for the SQL Access Advisor task is shown. To display both modified and unmodified options, click <span class="bold">Show All Options</span>. To view the SQL text for the task, click <span class="bold">Show SQL</span>.</p>
</li>
<li>
<p><a id="CIHGADCA"></a>Click <span class="bold">Submit</span>.</p>
<p>The Advisor Central page appears. A message informs you that the task was created successfully.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFDJEH"></a><a id="TDPPT187"></a>
<div class="sect1">
<h2 class="sect1">Reviewing the SQL Access Advisor Recommendations</h2>
<p>SQL Access Advisor graphically displays the recommendations and provides hyperlinks so that you can quickly see which SQL statements benefit from a recommendation. Each recommendation produced by the SQL Access Advisor is linked to the SQL statement it benefits.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before reviewing the SQL Access Advisor recommendations, run SQL Access Advisor to make the recommendations, as described in <a href="#BABHDIFI">"Running SQL Access Advisor"</a>.</div>
<p class="orderedlisttitle">To review the SQL Access Advisor recommendations<a id="sthref467"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Advisor Central page, select the SQL Access Advisor task for review and click <span class="bold">View</span> <span class="bold">Result</span>.</p>
<img width="672" height="134" src="img/sql_access_adv_results.gif" alt="Description of sql_access_adv_results.gif follows" /><br />
<a id="sthref468" href="img_text/sql_access_adv_results.htm">Description of the illustration sql_access_adv_results.gif</a><br />
<br />
<p>If the task is not displayed, then you may need to refresh the screen. The Results for Task page appears.</p>
</li>
<li>
<p>Review the Summary subpage, which provides an overview of the SQL Access Advisor analysis, as described in <a href="#CIHFEGAH">"Reviewing the SQL Access Advisor Recommendations: Summary"</a>.</p>
</li>
<li>
<p>Review the Recommendations subpage, which enables you to view the recommendations ranked by cost improvement, as described in <a href="#CIHCIEAG">"Reviewing the SQL Access Advisor Recommendations: Recommendations"</a>.</p>
</li>
<li>
<p>Review the SQL statements analyzed in the workload, as described in <a href="#CIHHIABA">"Reviewing the SQL Access Advisor Recommendations: SQL Statements"</a>.</p>
</li>
<li>
<p>Review the details of the workload, task options, and the SQL Access Advisor task, as described in <a href="#CHDFCCJH">"Reviewing the SQL Access Advisor Recommendations: Details"</a>.</p>
</li>
</ol>
<a id="CIHFEGAH"></a><a id="TDPPT188"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Reviewing the SQL Access Advisor Recommendations: Summary</h3>
<p>The Summary subpage displays an overview of the SQL Access Advisor analysis.</p>
<p class="orderedlisttitle">To review the recommendations summary<a id="sthref470"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Results for Tasks page, click <span class="bold">Summary</span>.</p>
<p>The Summary subpage of the Results for Tasks page appears.</p>
<p>In this example, <span class="bold">Limited Mode</span> is selected so that SQL Access Advisor analyzes the highest cost statements rather than all statements.</p>
<img width="627" height="573" src="img/sql_access_results_summary.gif" alt="Description of sql_access_results_summary.gif follows" /><br />
<a id="sthref471" href="img_text/sql_access_results_summary.htm">Description of the illustration sql_access_results_summary.gif</a><br />
<br /></li>
<li>
<p>Under Overall Workload Performance, assess the potential for improvement in implementing the recommendations.</p>
</li>
<li>
<p>Use the Workload I/O Cost chart to compare the original workload I/O cost with the new cost.</p>
<p>In this example, the workload I/O cost will decrease from 107.1 million to 43.1 million by implementing the recommendations.</p>
</li>
<li>
<p>Use the Query Execution Time Improvement chart to compare the improvement in query execution time.</p>
<p>This chart shows the percentage of SQL statements in the workload whose execution time will improve by accepting the recommendations. The SQL statements are grouped by the projected improvement factor along the horizontal axis on the chart (1x to &gt;10x). The percentage of SQL statements that will improve by the projected improvement factor are along the vertical axis (0% to 100%).</p>
<p>In this example, approximately 62 percent of SQL statements in the workload will not improve execution time, but about 25 percent will have the potential for improvement of over 4x or more.</p>
</li>
<li>
<p>Under Recommendations, click <span class="bold">Show Recommendation Action Counts</span>.</p>
<p>In the following example, creating 2 indexes, 4 materialized views, and 4 materialized view logs is recommended.</p>
<img width="460" height="154" src="img/sql_access_results_reccount.gif" alt="Description of sql_access_results_reccount.gif follows" /><br />
<a id="sthref472" href="img_text/sql_access_results_reccount.htm">Description of the illustration sql_access_results_reccount.gif</a><br />
<br /></li>
<li>
<p>Under SQL Statements, click <span class="bold">Show Statement Counts</span> to display the type of SQL statement.</p>
<p>In the following example, 25 <code>SELECT</code> statements are analyzed.</p>
<img width="260" height="173" src="img/sql_access_results_sqlcount.gif" alt="Description of sql_access_results_sqlcount.gif follows" /><br />
<a id="sthref473" href="img_text/sql_access_results_sqlcount.htm">Description of the illustration sql_access_results_sqlcount.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHCIEAG"></a><a id="TDPPT189"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Reviewing the SQL Access Advisor Recommendations: Recommendations</h3>
<p>The Recommendations subpage ranks the SQL Access Advisor recommendations by cost improvement. You can also view details about each recommendation.</p>
<p class="orderedlisttitle">To review recommendation details<a id="sthref475"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Results for Tasks page, click <span class="bold">Recommendations</span>.</p>
<p>The Recommendations subpage appears.</p>
<img width="697" height="621" src="img/sql_access_results_rec.gif" alt="Description of sql_access_results_rec.gif follows" /><br />
<a id="sthref476" href="img_text/sql_access_results_rec.htm">Description of the illustration sql_access_results_rec.gif</a><br />
<br /></li>
<li>
<p>Use the Recommendations by Cost Improvement chart to view recommendations ordered by the cost improvement.</p>
<p>Under Select Recommendations for Implementation, each recommendation is listed with its implementation status, recommendation ID, cost improvement, space consumption, and the number of affected SQL statements for each recommendation. Implementing the top recommendation will have the biggest benefit to the total performance of the workload.</p>
</li>
<li>
<p>To view details for a particular recommendation, select the recommendation and click <span class="bold">Recommendation Details</span>.</p>
<p>The Recommendation Details page appears.</p>
<img width="862" height="527" src="img/sql_access_rec_details.gif" alt="Description of sql_access_rec_details.gif follows" /><br />
<a id="sthref477" href="img_text/sql_access_rec_details.htm">Description of the illustration sql_access_rec_details.gif</a><br />
<br />
<p>The Recommendation Details page displays all actions for the specified recommendation.</p>
<p>Under Actions, you can choose to modify the schema name, tablespace name, and storage clause for each action. To view the SQL text of an action, click the link in the Action column for the specified action.</p>
<p>Under SQL Affected by Recommendation, the SQL text of the SQL statement and cost improvement information are displayed.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>The Recommendations subpage appears.</p>
</li>
<li>
<p>To view the SQL text of a recommendation, select the recommendation and click <span class="bold">Show SQL</span>.</p>
<p>The Show SQL page for the selected recommendation appears.</p>
<img width="598" height="637" src="img/sql_access_show_sql.gif" alt="Description of sql_access_show_sql.gif follows" /><br />
<a id="sthref478" href="img_text/sql_access_show_sql.htm">Description of the illustration sql_access_show_sql.gif</a><br />
<br /></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHHIABA"></a><a id="TDPPT190"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Reviewing the SQL Access Advisor Recommendations: SQL Statements</h3>
<p>The SQL Statements subpage ranks SQL statements in the workload by cost improvement. You can use this page to view details about the SQL statements analyzed in the workload.</p>
<p class="orderedlisttitle">To review SQL statements<a id="sthref480"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Results for Tasks page, click <span class="bold">SQL Statements</span>.</p>
<p>The SQL Statements subpage appears.</p>
<img width="923" height="535" src="img/sql_access_results_sql.gif" alt="Description of sql_access_results_sql.gif follows" /><br />
<a id="sthref481" href="img_text/sql_access_results_sql.htm">Description of the illustration sql_access_results_sql.gif</a><br />
<br /></li>
<li>
<p>Use the SQL Statements by Cost Improvement chart to view SQL statements in the workload ordered by the cost improvement.</p>
<p>Under Select SQL Statements to be Improved, each SQL statement is listed with its statement ID, SQL text, associated recommendation, cost improvement, and execution count.</p>
<p>Implementing the recommendation associated with the top SQL statement will have the biggest benefit to the total performance of the workload. In this example, implementing the recommendation with ID 4 will produce the biggest benefit, a cost improvement of 73.68%, for the SQL statement with ID 1052.</p>
</li>
<li>
<p>To view the SQL text of a recommendation, select the recommendation and click <span class="bold">Show SQL</span>.</p>
<p>The Show SQL page for the selected recommendation appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDFCCJH"></a><a id="TDPPT191"></a>
<div class="sect2">
<h3 class="sect2">Reviewing the SQL Access Advisor Recommendations: Details</h3>
<p>The Details subpage displays a list of all the workload and task options used in the analysis. You can also use this page to view a list of journal entries for the task, based on the journaling level used when the task was created.</p>
<p class="itemizedlisttitle">To review workload and task details<a id="sthref483"></a><a id="sthref484"></a>:&nbsp;</p>
<ul>
<li>
<p>On the Results for Tasks page, click <span class="bold">Details</span>.</p>
<p>The Details subpage appears.</p>
<img width="768" height="773" src="img/sql_access_results_details.gif" alt="Description of sql_access_results_details.gif follows" /><br />
<a id="sthref485" href="img_text/sql_access_results_details.htm">Description of the illustration sql_access_results_details.gif</a><br />
<br />
<p>Under Workload and Task Options, a list of options that were selected when the advisor task was created is displayed.</p>
<p>Under Journal Entries, a list of messages that were logged to the SQL Access Advisor journal while the task was executing is displayed.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHEAGDG"></a><a id="TDPPT192"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Implementing the SQL Access Advisor Recommendations</h2>
<p>A SQL Access Advisor recommendation can range from a simple suggestion to a complex solution that requires partitioning a set of existing base tables and implementing a set of database objects such as indexes, materialized views, and materialized view logs. You can select the recommendations for implementation and schedule when the job should be executed.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
Before implementing the SQL Access Advisor recommendations, review them for cost benefits to determine which ones, if any, should be implemented. For more information, see <a href="#CHDFDJEH">"Reviewing the SQL Access Advisor Recommendations"</a>.</div>
<p class="orderedlisttitle">To implement the SQL Access Advisor recommendations<a id="sthref487"></a>:&nbsp;</p>
<ol>
<li>
<p>On the Results for Tasks page, click <span class="bold">Recommendations</span>.</p>
<p>The Recommendations subpage appears.</p>
</li>
<li>
<p>Under Select Recommendations for Implementation, select the recommendation you want to implement and then click <span class="bold">Schedule Implementation</span>.</p>
<p>In the following example, the recommendation with ID value <code>4</code> is selected.</p>
<img width="699" height="339" src="img/sql_access_schedule_imp.gif" alt="Description of sql_access_schedule_imp.gif follows" /><br />
<a id="sthref488" href="img_text/sql_access_schedule_imp.htm">Description of the illustration sql_access_schedule_imp.gif</a><br />
<br />
<p>The Schedule Implementation page appears.</p>
</li>
<li>
<p>In the <span class="bold">Job Name</span> field, enter a name for the job if you do not want to use the system-generated job name.</p>
</li>
<li>
<p>Determine whether the implementation job should stop if an error is encountered. Do one of the following:</p>
<ul>
<li>
<p>To stop processing if an error occurs, select <span class="bold">Stop on Error</span>.</p>
</li>
<li>
<p>To continue processing even if an error occurs, deselect <span class="bold">Stop on Error</span>.</p>
</li>
</ul>
</li>
<li>
<p>Under Scheduling Options, in the Schedule Type list, select a schedule type for the task and a maintenance window in which the task should run. Do one of the following:</p>
<ul>
<li>
<p>Click <span class="bold">Standard</span>.</p>
<p>This schedule type enables you to select a repeating interval and start time for the task. Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>In the Repeat list, select <span class="bold">Do Not Repeat</span> to perform the task only once, or select a unit of time and enter the number of units in the <span class="bold">Interval</span> field.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Use predefined schedule</span>.</p>
<p>This schedule type enables you to select an existing schedule. Do one of the following:</p>
<ul>
<li>
<p>In the <span class="bold">Schedule</span> field, enter the name of the schedule to be used for the task.</p>
</li>
<li>
<p>To search for a schedule, click the search icon.</p>
<p>The Search and Select: Schedule dialog box appears.</p>
<p>Select the desired schedule and click <span class="bold">Select</span>. The selected schedule now appears in the <span class="bold">Schedule</span> field.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Standard using PL/SQL for repeated interval</span>.</p>
<p>This schedule type enables you to select a repeating interval and an execution window for the task. Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Available to Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>In the Repeat list, select <span class="bold">Do Not Repeat</span> to perform the task only once, or select a unit of time and enter the number of units in the <span class="bold">Interval</span> field.</p>
</li>
<li>
<p>In the <span class="bold">Repeated Interval</span> field, enter a PL/SQL schedule expression, such as <code>SYSDATE+1</code>.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Use predefined window</span>.</p>
<p>This schedule type enables you to select an existing window. Select <span class="bold">Stop on Window Close</span> to stop the job when the window closes. Do one of the following:</p>
<ul>
<li>
<p>In the <span class="bold">Window</span> field, enter the name of the window to be used for the task.</p>
</li>
<li>
<p>To search for a window, click the search icon.</p>
<p>The Search and Select: Window and Window Groups dialog box appears.</p>
<p>Select the desired window and click <span class="bold">Select</span>. The selected window now appears in the <span class="bold">Schedule</span> field.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Event</span>.</p>
<p>Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Event Parameters, enter values in the <span class="bold">Queue Name</span> and <span class="bold">Condition</span> fields.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Calendar</span>.</p>
<p>Complete the following steps:</p>
<ul>
<li>
<p>Enter your time zone code in the <span class="bold">Time Zone</span> field or click the search icon to locate the code for your area.</p>
</li>
<li>
<p>Under Calendar Expression, enter a calendar expression.</p>
</li>
<li>
<p>Under Start, select <span class="bold">Immediately</span> to start the task now, or <span class="bold">Later</span> to schedule the task to start at a time specified using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
<li>
<p>Under Not Available After, select <span class="bold">No End Date</span> to indicate that there is no end date for the execution window, or <span class="bold">Specified End Date</span> to specify an end date using the <span class="bold">Date</span> and <span class="bold">Time</span> fields.</p>
</li>
</ul>
</li>
</ul>
<p>In this example, <span class="bold">Standard</span> is selected for schedule type. The job will not repeat and is scheduled to start immediately.</p>
<img width="624" height="520" src="img/sql_access_schedule_options.gif" alt="Description of sql_access_schedule_options.gif follows" /><br />
<a id="sthref489" href="img_text/sql_access_schedule_options.htm">Description of the illustration sql_access_schedule_options.gif</a><br />
<br /></li>
<li>
<p>Optionally, click <span class="bold">Show SQL</span> to view the SQL text for the job.</p>
</li>
<li>
<p>To submit the job, click <span class="bold">Submit</span>.</p>
</li>
<li>
<p>Do one of the following, depending on whether the job is scheduled to start immediately or later:</p>
<ul>
<li>
<p>If you submitted the job immediately, and if the Results for Task page is shown, then click the link in the <span class="bold">Scheduler Job</span> field to display the View Job page. Go to Step <a href="#CIHBDFBF">10</a>.</p>
</li>
<li>
<p>If the job is scheduled to start at a later time, then proceed to Step <a href="#CHDDBFII">9</a>.</p>
</li>
</ul>
</li>
<li>
<p><a id="CHDDBFII"></a>Complete the following steps:</p>
<ol>
<li>
<p>On the Server page, under Oracle Scheduler, click <span class="bold">Jobs</span>.</p>
<p>The Scheduler Jobs page appears.</p>
</li>
<li>
<p>Select the implementation job and click <span class="bold">View Job Definition</span>.</p>
<p>The View Job page for the selected job appears.</p>
</li>
</ol>
</li>
<li>
<p><a id="CIHBDFBF"></a>On the View Job page, under Operation Detail, check the status of the operation.</p>
<img width="690" height="128" src="img/sql_access_operation_det.gif" alt="Description of sql_access_operation_det.gif follows" /><br />
<a id="sthref490" href="img_text/sql_access_operation_det.htm">Description of the illustration sql_access_operation_det.gif</a><br />
<br /></li>
<li>
<p>Optionally, select the operation and click <span class="bold">View</span>.</p>
<p>The Operation Detail page appears.</p>
<p>This page contains information (such as start date and time, run duration, CPU time used, and session ID) that you can use when troubleshooting.</p>
</li>
<li>
<p>Optionally, from the Database Home page, click <span class="bold">Schema</span>.</p>
<p>The Schema subpage appears.On this page you can verify that the access structure recommended by SQL Access Advisor is created. Depending on the type of access structure that is created, you can display the access structure using the Indexes page, Materialized Views page, or the Materialized View Logs page.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1738">
<tr>
<td class="cellalignment1745">
<table class="cellalignment1743">
<tr>
<td class="cellalignment1742"><a href="tdppt_sqltune.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1742"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1747">
<table class="cellalignment1741">
<tr>
<td class="cellalignment1742"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1742"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1742"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1742"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1742"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1742"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
