<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBMS_XSTREAM_ADM</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 735" />
<meta name="dcterms.created" content="2013-07-02T6:44:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database XStream Guide" />
<meta name="dcterms.identifier" content="E16545-09" />
<meta name="dcterms.isVersionOf" content="XSTRM" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="xstrm_pt_plsql.htm" title="Previous" type="text/html" />
<link rel="Next" href="xstrm_auth.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e16545.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">14/22</span> <!-- End Header -->
<div id="XSTRM70182" class="chapter"><a id="CACJEJGH"></a>
<h1 class="chapter"><span class="secnum">8</span> DBMS_XSTREAM_ADM</h1>
<p><a id="sthref347"></a><a id="sthref348"></a>This <code>DBMS_XSTREAM_ADM</code> package provides interfaces for streaming database changes between an Oracle database and other systems. XStream enables applications to stream out or stream in database changes.</p>
<p>This chapter contains the following topic:</p>
<ul>
<li>
<p><a href="#CACCGEBH">Using DBMS_XSTREAM_ADM</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#CACJHGFB">Summary of DBMS_XSTREAM_ADM Subprograms</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="xstrm_cncpt.htm#BCEBDGFJ">Chapter 2, "XStream Concepts"</a></p>
</li>
<li>
<p><a href="xstrm_pt_oci.htm#CIAFHDJF">Part IV, "XStream OCI API Reference"</a></p>
</li>
<li>
<p><a class="olink STXJV" href="../../appdev.112/e16674/toc.htm"><span class="italic">Oracle Database XStream Java API Reference</span></a></p>
</li>
<li>
<p><a class="olink ARPLS" href="../../appdev.112/e40758/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</li>
</ul>
</div>
<div class="refentry"><a id="CACCGEBH"></a>
<hr />
<div id="XSTRM70183" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_XSTREAM_ADM</h2>
<p>This section contains topics which relate to using the <code>DBMS_XSTREAM_ADM</code> package.</p>
<ul>
<li>
<p><a href="#CACCECHG">Overview</a></p>
</li>
<li>
<p><a href="#CACCADJE">Security Model</a></p>
</li>
<li>
<p><a href="#CACCHJJC">Operational Notes</a></p>
</li>
</ul>
<div id="XSTRM70184" class="refsect2"><a id="CACCECHG"></a>
<hr />
<h3 class="refsect2">Overview</h3>
<p>The package provides interfaces for configuring outbound servers that stream database changes from an Oracle database to other systems. The package also provides interfaces for configuring inbound servers that stream database changes from other systems to an Oracle database. In both cases, the database changes are encapsulated in logical change records (LCRs). Also, the other systems can be Oracle systems or a non-Oracle systems, such as non-Oracle databases or file systems.</p>
<p>XStream outbound servers can stream out LCRs from an Oracle database programmatically using C or Java. After receiving the LCRs, the other system can process them in any customized way. For example, the other system can save the contents of the LCRs to a file, send the LCRs to an Oracle database through an XStream inbound server, or generate SQL statements and execute them on any Oracle or non-Oracle databases.</p>
<p>XStream inbound servers accept LCRs from another system and either apply them to an Oracle database or process them in a customized way using apply handlers.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="xstrm_cncpt.htm#BCEBDGFJ">Chapter 2, "XStream Concepts"</a></div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM70185" class="refsect2"><a id="CACCADJE"></a>
<hr />
<h3 class="refsect2">Security Model<a id="sthref349"></a><a id="sthref350"></a><a id="sthref351"></a></h3>
<p>To ensure that the user who runs the subprograms in this package has the necessary privileges, configure an XStream administrator and connect as the XStream administrator when using this package.</p>
<p>An administrator must be granted the <code>DBA</code> role when the administrator is performing any of the following actions:</p>
<ul>
<li>
<p>Running the <code>ADD_OUTBOUND</code> procedure while connected as a user that is different from the configured connect user for an outbound server</p>
</li>
<li>
<p>Running the <code>ALTER_OUTBOUND</code> procedure to change the capture user for a capture process or the connect user for an outbound server</p>
</li>
<li>
<p>Running the <code>CREATE_OUTBOUND</code> procedure, because this procedure creates a capture process</p>
</li>
<li>
<p>Running the <code>ALTER_INBOUND</code> procedure to change the apply user for an inbound server</p>
</li>
<li>
<p>Running the <code>ADD_INBOUND</code> procedure while connected as a user that is different from the configured apply user for an inbound server</p>
</li>
</ul>
<p>When the administrator does not need to perform the preceding tasks, the <code>DBA</code> role is not required.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="xstrm_config.htm#CEGDFBCE">"Granting Privileges for the XStream Administrator"</a></p>
</li>
<li>
<p><a href="xstrm_cncpt.htm#BCEBGHCJ">"XStream and Security"</a> for more information about XStream and security</p>
</li>
</ul>
</div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM72453" class="refsect2"><a id="CACCHJJC"></a>
<hr />
<h3 class="refsect2">Operational Notes</h3>
<p>Some subprograms in the <code>DBMS_APPLY_ADM</code> package can manage XStream outbound servers, and some subprograms in the <code>DBMS_APPLY_ADM</code> package can manage XStream inbound servers.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS300" href="../../appdev.112/e40758/d_apply.htm#ARPLS300"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details about which subprograms can manage outbound servers and inbound servers</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CACJHGFB"></a>
<hr />
<div id="XSTRM70186" class="refsect1">
<h2 class="refsect1">Summary of DBMS_XSTREAM_ADM Subprograms</h2>
<div id="XSTRM70187" class="tblformal">
<p class="titleintable"><a id="sthref352"></a><a id="sthref353"></a>Table 8-1 DBMS_XSTREAM_ADM Package Subprograms</p>
<table class="cellalignment1353" title="DBMS_XSTREAM_ADM Package Subprograms" summary="This table lists the DBMS_XSTREAMS_ADM subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t6">Subprogram</th>
<th class="cellalignment1352" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t6" headers="r1c1-t6">
<p><a href="#CACCCAJJ">ADD_OUTBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r2c1-t6 r1c2-t6">
<p>Creates an XStream outbound server that dequeues LCRs from the specified queue</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t6" headers="r1c1-t6">
<p><a href="#CACFEEIC">ADD_SUBSET_OUTBOUND_RULES Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r3c1-t6 r1c2-t6">
<p>Adds subset rules to an outbound server configuration</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t6" headers="r1c1-t6">
<p><a href="#CACHIFDH">ALTER_INBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r4c1-t6 r1c2-t6">
<p>Modifies an XStream inbound server</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t6" headers="r1c1-t6">
<p><a href="#CACEFHHB">ALTER_OUTBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r5c1-t6 r1c2-t6">
<p>Modifies an XStream outbound server</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r6c1-t6" headers="r1c1-t6">
<p><a href="#CACEGCGG">CREATE_INBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r6c1-t6 r1c2-t6">
<p>Creates an XStream inbound server and its queue</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r7c1-t6" headers="r1c1-t6">
<p><a href="#CACBHJDD">CREATE_OUTBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r7c1-t6 r1c2-t6">
<p>Creates an XStream outbound server, queue, and capture process to enable XStream client applications to stream out Oracle database changes encapsulated in LCRs</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r8c1-t6" headers="r1c1-t6">
<p><a href="#CACBGICJ">DROP_INBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r8c1-t6 r1c2-t6">
<p>Removes an inbound server configuration</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r9c1-t6" headers="r1c1-t6">
<p><a href="#CACICJHG">DROP_OUTBOUND Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r9c1-t6 r1c2-t6">
<p>Removes an outbound server configuration</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r10c1-t6" headers="r1c1-t6">
<p><a href="#CIAHCHJD">ENABLE_GG_XSTREAM_FOR_STREAMS Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r10c1-t6 r1c2-t6">
<p>Enables XStream performance optimizations for Oracle Streams components</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r11c1-t6" headers="r1c1-t6">
<p><a href="#CIABJEJF">IS_GG_XSTREAM_FOR_STREAMS Function</a></p>
</td>
<td class="cellalignment1348" headers="r11c1-t6 r1c2-t6">
<p>Returns <code>TRUE</code> if XStream performance optimizations are enabled for Oracle Streams components, or returns <code>FALSE</code> if XStream performance optimizations are disabled for Oracle Streams components</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r12c1-t6" headers="r1c1-t6">
<p><a href="#CACHABED">REMOVE_SUBSET_OUTBOUND_RULES Procedure</a></p>
</td>
<td class="cellalignment1348" headers="r12c1-t6 r1c2-t6">
<p>Removes subset rules from an outbound server configuration</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
All subprograms commit unless specified otherwise.</div>
<div id="XSTRM70188" class="refsect2"><a id="CACCCAJJ"></a>
<hr />
<h3 class="refsect2">ADD_OUTBOUND Procedure<a id="sthref354"></a></h3>
<p>This procedure creates an XStream outbound server that dequeues LCRs from the specified queue. The outbound server streams out the LCRs to an XStream client application.</p>
<p>This procedure creates neither a capture process nor a queue. To create an outbound server, a capture process, and a queue with one procedure call, use the <a href="#CACBHJDD">CREATE_OUTBOUND Procedure</a>.</p>
<p>To create the capture process individually, use one of the following packages:</p>
<ul>
<li>
<p><code>DBMS_STREAMS_ADM</code></p>
</li>
<li>
<p><code>DBMS_CAPTURE_ADM</code></p>
</li>
</ul>
<p>To create a queue individually, use the <code>SET_UP_QUEUE</code> procedure in the <code>DBMS_STREAMS_ADM</code> package.</p>
<p>This procedure is overloaded. One <code>table_names</code> parameter is type <code>VARCHAR2</code> and the other <code>table_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. Also, one <code>schema_names</code> parameter is type <code>VARCHAR2</code> and the other <code>schema_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. These parameters enable you to enter the lists of tables and schemas in different ways and are mutually exclusive.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>A client application can create multiple sessions. Each session can attach to only one outbound server, and each outbound server can serve only one session at a time. However, different client application sessions can connect to different outbound servers. See <a href="xstrm_pt_oci.htm#CIAFHDJF">Part IV, "XStream OCI API Reference"</a> and <a class="olink STXJV" href="../../appdev.112/e16674/toc.htm"><span class="italic">Oracle Database XStream Java API Reference</span></a> for information about attaching to an outbound server.</p>
</li>
<li>
<p>This procedure enables the outbound server that it creates.</p>
</li>
<li>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), the <code>capture_name</code>, <code>start_scn</code>, and <code>start_time</code> parameters are included in this procedure.</p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref355"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.ADD_OUTBOUND(
   server_name     IN  VARCHAR2,
   queue_name      IN  VARCHAR2   DEFAULT NULL,
   source_database IN  VARCHAR2   DEFAULT NULL,
   table_names     IN  DBMS_UTILITY.UNCL_ARRAY,
   schema_names    IN  DBMS_UTILITY.UNCL_ARRAY,
   connect_user    IN  VARCHAR2   DEFAULT NULL,
   comment         IN  VARCHAR2   DEFAULT NULL,
   capture_name    IN  VARCHAR2   DEFAULT NULL,
   start_scn       IN  NUMBER     DEFAULT NULL,
   start_time      IN  TIMESTAMP  DEFAULT NULL);

DBMS_XSTREAM_ADM.ADD_OUTBOUND(
   server_name     IN  VARCHAR2,
   queue_name      IN  VARCHAR2   DEFAULT NULL,
   source_database IN  VARCHAR2   DEFAULT NULL,
   table_names     IN  VARCHAR2   DEFAULT NULL,
   schema_names    IN  VARCHAR2   DEFAULT NULL,
   connect_user    IN  VARCHAR2   DEFAULT NULL,
   comment         IN  VARCHAR2   DEFAULT NULL,
   capture_name    IN  VARCHAR2   DEFAULT NULL,
   start_scn       IN  NUMBER     DEFAULT NULL,
   start_time      IN  TIMESTAMP  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref356"></a>Parameters</p>
<div id="XSTRM70189" class="tblformal">
<p class="titleintable"><a id="sthref357"></a><a id="sthref358"></a>Table 8-2 ADD_OUTBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="ADD_OUTBOUND Procedure Parameters" summary="This table describes the parameters of ADD_OUTBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t9">Parameter</th>
<th class="cellalignment1352" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t9" headers="r1c1-t9">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t9 r1c2-t9">
<p>The name of the outbound server being created. A <code>NULL</code> specification is not allowed. Do not specify an owner.</p>
<p>The specified name must not match the name of an existing outbound server, inbound server, apply process, or messaging client.</p>
<p><span class="bold">Note:</span> The <code>server_name</code> setting cannot be altered after the outbound server is created.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t9" headers="r1c1-t9">
<p><code>queue_name</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t9 r1c2-t9">
<p>The name of the local queue from which the outbound server dequeues LCRs, specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">queue_name</span></code>. The current database must contain the queue, and the queue must be <code>ANYDATA</code> type.</p>
<p>For example, to specify a queue named <code>xstream_queue</code> in the <code>xstrmadmin</code> schema, enter <code>xstrmadmin.xstream_queue</code> for this parameter. If the schema is not specified, then the current user is the default.</p>
<p>If <code>NULL</code>, the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t9" headers="r1c1-t9">
<p><code>source_database</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t9 r1c2-t9">
<p>The global name of the source database. The source database is where the changes being captured originated.</p>
<p>If you do not include the domain name, then the procedure appends it to the database name automatically. For example, if you specify <code>DBS1</code> and the domain is <code>EXAMPLE.COM</code>, then the procedure specifies <code>DBS1.EXAMPLE.COM</code> automatically.</p>
<p>If <code>NULL</code>, then this procedure does not add a condition regarding the source database to the generated rules. Otherwise, a condition regarding the source database is added.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t9" headers="r1c1-t9">
<p><code>table_names</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t9 r1c2-t9">
<p>The tables for which data manipulation language (DML) and data definition language (DDL) changes are streamed out to the XStream client application. The tables can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a table. Specify the first table in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p>Each table should be specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">table_name</span></code>. For example, you can specify <code>hr.employees</code>. If the schema is not specified, then the current user is the default.</p>
<p><span class="bold">See Also:</span> <a href="#CACBEBBH">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r6c1-t9" headers="r1c1-t9">
<p><code>schema_names</code></p>
</td>
<td class="cellalignment1348" headers="r6c1-t9 r1c2-t9">
<p>The schemas for which DML and DDL changes are streamed out to the XStream client application. The schemas can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a schema. Specify the first schema in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p><span class="bold">Note:</span> This procedure does not concatenate the <code>schema_names</code> parameter with the <code>table_names</code> parameter. To specify tables, enter fully qualified table names in the <code>table_names</code> parameter (<code><span class="codeinlineitalic">schema_name.table_name</span></code>).</p>
<p><span class="bold">See Also:</span> <a href="#CACBEBBH">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r7c1-t9" headers="r1c1-t9">
<p><code>connect_user</code></p>
</td>
<td class="cellalignment1348" headers="r7c1-t9 r1c2-t9">
<p>The user who can attach to the specified outbound server to retrieve the LCR stream. The client application must attach to the outbound server as the specified connect user. See <a href="#CACBHJDD">"CREATE_OUTBOUND Procedure"</a> for information about the privileges required by a connect user.</p>
<p>If <code>NULL</code>, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r8c1-t9" headers="r1c1-t9">
<p><code>comment</code></p>
</td>
<td class="cellalignment1348" headers="r8c1-t9 r1c2-t9">
<p>An optional comment associated with the outbound server.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r9c1-t9" headers="r1c1-t9">
<p><code>capture_name</code></p>
</td>
<td class="cellalignment1348" headers="r9c1-t9 r1c2-t9">
<p>The name of the capture process configured to capture changes for the outbound server. Do not specify an owner.</p>
<p>If the specified name matches the name of an existing capture process for another outbound server, then the procedure uses the existing capture process and adds the rules for capturing changes to the database to the positive capture process rule set.</p>
<p>If the specified name matches the name of an existing capture process for an apply process, then an error is raised.</p>
<p>If the specified name does not match the name of an existing capture process, then an error is raised.</p>
<p>If <code>NULL</code>, then the outbound server is created without a capture process.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r10c1-t9" headers="r1c1-t9">
<p><code>start_scn</code></p>
</td>
<td class="cellalignment1348" headers="r10c1-t9 r1c2-t9">
<p>A valid system change number (SCN) for the database from which the capture process starts capturing changes.</p>
<p>If the <code>capture_name</code> parameter is <code>NULL</code>, then this parameter is ignored.</p>
<p>If <code>NULL</code> and the <code>capture_name</code> parameter is non-<code>NULL</code>, then the start SCN of the capture process is not changed.</p>
<p>An error is returned if an invalid SCN is specified.</p>
<p>The <code>start_scn</code> and <code>start_time</code> parameters are mutually exclusive.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r11c1-t9" headers="r1c1-t9">
<p><code>start_time</code></p>
</td>
<td class="cellalignment1348" headers="r11c1-t9 r1c2-t9">
<p>A valid time from which the capture process starts capturing changes.</p>
<p>If the <code>capture_name</code> parameter is <code>NULL</code>, then this parameter is ignored.</p>
<p>If <code>NULL</code> and the <code>capture_name</code> parameter is non-<code>NULL</code>, then the start SCN of the capture process is not changed.</p>
<p>The <code>start_scn</code> and <code>start_time</code> parameters are mutually exclusive.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CACBEBBH"></a>Usage Notes</p>
<p>The following list describes the behavior of the outbound server for various combinations of the <code>table_names</code> and <code>schema_names</code> parameters:</p>
<ul>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are <code>NULL</code> or empty, then the outbound server streams all DML and DDL changes to the client application.</p>
<p>This procedure is overloaded. The <code>table_names</code> and <code>schema_names</code> parameters are defaulted to <code>NULL</code>. Do not specify <code>NULL</code> for both <code>table_names</code> and <code>schema_names</code> in the same call; otherwise, error <code>PLS-00307</code> is returned.</p>
</li>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are specified, then the outbound server streams DML and DDL changes for the specified tables and schemas.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is specified and the <code>schema_names</code> parameter is <code>NULL</code> or empty, then the outbound server streams DML and DDL changes for the specified tables.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is <code>NULL</code> or empty and the <code>schema_names</code> parameter is specified, then the outbound server streams DML and DDL changes for the specified schemas.</p>
</li>
</ul>
<p>For the procedure that uses the <code>DBMS_UTILITY.UNCL_ARRAY</code> type for the <code>table_names</code> and <code>schema_names</code> parameters, both parameters must be specified. To specify only tables, the <code>schema_names</code> parameter must be specified and empty. To specify only schemas, the <code>table_names</code> parameter must be specified and empty.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An empty array includes one <code>NULL</code> entry.</div>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM70190" class="refsect2"><a id="CACFEEIC"></a>
<hr />
<h3 class="refsect2">ADD_SUBSET_OUTBOUND_RULES Procedure<a id="sthref359"></a></h3>
<p>This procedure adds subset rules to an outbound server configuration. Subset rules instruct the outbound server to stream out a subset of the changes to the specified tables. Outbound servers can stream out a subset of both rows and columns.</p>
<p>This procedure is overloaded. One <code>column_list</code> parameter is type <code>VARCHAR2</code> and the other <code>column_list</code> parameter is type <code>DBMS_UTILITY.LNAME_ARRAY</code>. These parameters enable you to enter the list of columns in different ways and are mutually exclusive.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure does not add rules to the outbound server's capture process.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref360"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.ADD_SUBSET_OUTBOUND_RULES(
   server_name IN VARCHAR2,
   table_name  IN VARCHAR2,
   condition   IN VARCHAR2  DEFAULT NULL,
   column_list IN DBMS_UTILITY.LNAME_ARRAY,
   keep        IN BOOLEAN   DEFAULT TRUE);

DBMS_XSTREAM_ADM.ADD_SUBSET_OUTBOUND_RULES(
   server_name IN VARCHAR2,
   table_name  IN VARCHAR2,
   condition   IN VARCHAR2  DEFAULT NULL,
   column_list IN VARCHAR2  DEFAULT NULL, 
   keep        IN BOOLEAN   DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref361"></a>Parameters</p>
<div id="XSTRM70191" class="tblformal">
<p class="titleintable"><a id="sthref362"></a><a id="sthref363"></a>Table 8-3 ADD_SUBSET_OUTBOUND_RULES Procedure Parameters</p>
<table class="cellalignment1353" title="ADD_SUBSET_OUTBOUND_RULES Procedure Parameters" summary="This table describes the parameters of ADD_SUBSET_OUTBOUND_RULES subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t12">Parameter</th>
<th class="cellalignment1352" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t12" headers="r1c1-t12">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t12 r1c2-t12">
<p>The name of the outbound server to which rules are being added. Specify an existing outbound server. Do not specify an owner.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t12" headers="r1c1-t12">
<p><code>table_name</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t12 r1c2-t12">
<p>The name of the table specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">object_name</span></code>. For example, you can specify <code>hr.employees</code>. If the schema is not specified, then the current user is the default.</p>
<p>If the outbound server configuration uses a local capture process, then the table must exist at the local source database. If the outbound server configuration uses a downstream capture process, then the table must exist at both the source database and at the downstream capture database.</p>
<p>The specified table cannot have any LOB, <code>LONG</code>, or <code>LONG</code> <code>RAW</code> columns currently or in the future.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t12" headers="r1c1-t12">
<p><code>condition</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t12 r1c2-t12">
<p>The subset condition. Specify this condition similar to the way you specify conditions in a <code>WHERE</code> clause in SQL.</p>
<p>For example, to specify rows in the <code>hr.employees</code> table where the <code>salary</code> is greater than <code>4000</code> and the <code>job_id</code> is <code>SA_MAN</code>, enter the following as the condition:</p>
<p><code>' salary &gt; 4000 and job_id = ''SA_MAN'' '</code></p>
<p>If <code>NULL</code>, then the procedure raises an error.</p>
<p><span class="bold">Note:</span> The quotation marks in the preceding example are all single quotation marks.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t12" headers="r1c1-t12">
<p><code>column_list</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t12 r1c2-t12">
<p>The list of columns either to include in the outbound server configuration or to exclude from the outbound server configuration. Whether the columns are included or excluded depends on the setting for the <code>keep</code> parameter.</p>
<p>The columns can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.LNAME_ARRAY</code>, where each element is the name of a column. Specify the first column in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p>To include or exclude all of the columns in a table, specify each column in the table in the list or array.</p>
<p>If <code>NULL</code>, then the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r6c1-t12" headers="r1c1-t12">
<p><code>keep</code></p>
</td>
<td class="cellalignment1348" headers="r6c1-t12 r1c2-t12">
<p>If <code>TRUE</code>, then the columns specified in the <code>column_list</code> parameter are kept as part of the outbound server configuration. Therefore, changes to these columns that satisfy the condition in the <code>condition</code> parameter are streamed to the outbound server's client application.</p>
<p>If <code>FALSE</code>, then the columns specified in the <code>column_list</code> parameter are excluded from the outbound server configuration. Therefore, changes to these columns are not streamed to the outbound server's client application.</p>
<p><span class="bold">See Also:</span> <a href="#CACBDGGD">"Usage Notes"</a></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CACBDGGD"></a>Usage Notes</p>
<p>When the <code>keep</code> parameter is set to <code>TRUE</code>, this procedure creates a keep columns declarative rule-based transformation for the columns listed in <code>column_list</code>.</p>
<p>When the <code>keep</code> parameter is set to <code>FALSE</code>, this procedure creates a delete column declarative rule-based transformation for each column listed in <code>column_list</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS151" href="../../server.112/e17069/strms_transform.htm#STRMS151"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about declarative rule-based transformations</div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM70192" class="refsect2"><a id="CACHIFDH"></a>
<hr />
<h3 class="refsect2">ALTER_INBOUND Procedure<a id="sthref364"></a></h3>
<p>This procedure modifies an XStream inbound server.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref365"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.ALTER_INBOUND(
   server_name IN VARCHAR2,
   apply_user  IN VARCHAR2  DEFAULT NULL,  
   comment     IN VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref366"></a>Parameters</p>
<div id="XSTRM70193" class="tblformal">
<p class="titleintable"><a id="sthref367"></a><a id="sthref368"></a>Table 8-4 ALTER_INBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="ALTER_INBOUND Procedure Parameters" summary="This table describes the parameters of ALTER_INBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t14">Parameter</th>
<th class="cellalignment1352" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t14" headers="r1c1-t14">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t14 r1c2-t14">
<p>The name of the inbound server being altered. Specify an existing inbound server. Do not specify an owner.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t14" headers="r1c1-t14">
<p><code>apply_user</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t14 r1c2-t14">
<p>The user who applies all DML and DDL changes that satisfy the inbound server rule sets, who runs user-defined apply handlers, and who runs custom rule-based transformations configured for inbound server rules.</p>
<p>The client application must attach to the inbound server as the apply user.</p>
<p>Specify a user to change the apply user. In this case, the user who invokes the <code>ALTER_INBOUND</code> procedure must be granted the <code>DBA</code> role. Only the <code>SYS</code> user can set the <code>apply_user</code> to <code>SYS</code>.</p>
<p>If <code>NULL</code>, then the apply user is not changed.</p>
<p>See <a href="#CACEGCGG">"CREATE_INBOUND Procedure"</a> for information about the required privileges for an apply user.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t14" headers="r1c1-t14">
<p><code>comment</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t14 r1c2-t14">
<p>An optional comment associated with the inbound server.</p>
<p>If non-<code>NULL</code>, then the specified comment replaces the existing comment.</p>
<p>If <code>NULL</code>, then the existing comment is not changed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM70194" class="refsect2"><a id="CACEFHHB"></a>
<hr />
<h3 class="refsect2">ALTER_OUTBOUND Procedure<a id="sthref369"></a></h3>
<p>This procedure modifies an XStream outbound server configuration.</p>
<p>This procedure always alters the specified outbound server. This procedure can also alter the outbound server's capture process when either of the following conditions is met:</p>
<ul>
<li>
<p>The capture process was created by the <code>CREATE_OUTBOUND</code> procedure in this package.</p>
</li>
<li>
<p>The queue used by the capture process was created by the <code>CREATE_OUTBOUND</code> procedure.</p>
</li>
</ul>
<p>To check whether this procedure can alter the outbound server's capture process, query the <code>CAPTURE_NAME</code> column in the <code>DBA_XSTREAM_OUTBOUND</code> view. When the name of the capture process appears in the <code>CAPTURE_NAME</code> column of this view, the <code>ALTER_OUTBOUND</code> procedure can manage the capture process's rules or change the capture user for the capture process. When the <code>CAPTURE_NAME</code> column of this view is <code>NULL</code>, the <code>ALTER_OUTBOUND</code> procedure cannot manage the capture process.</p>
<p>This procedure is overloaded. One <code>table_names</code> parameter is type <code>VARCHAR2</code> and the other <code>table_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. Also, one <code>schema_names</code> parameter is type <code>VARCHAR2</code> and the other <code>schema_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. These parameters enable you to enter the list of tables and schemas in different ways and are mutually exclusive.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), the <code>start_scn</code> and <code>start_time</code> parameters are included in this procedure.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref370"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.ALTER_OUTBOUND(
   server_name    IN VARCHAR2,
   table_names    IN DBMS_UTILITY.UNCL_ARRAY,
   schema_names   IN DBMS_UTILITY.UNCL_ARRAY,
   add            IN BOOLEAN    DEFAULT TRUE,
   capture_user   IN VARCHAR2   DEFAULT NULL,
   connect_user   IN VARCHR2    DEFAULT NULL,
   comment        IN VARCHAR2   DEFAULT NULL,
   inclusion_rule IN BOOLEAN    DEFAULT TRUE,
   start_scn      IN NUMBER     DEFAULT NULL,
   start_time     IN TIMESTAMP  DEFAULT NULL);

DBMS_XSTREAM_ADM.ALTER_OUTBOUND(
   server_name    IN VARCHAR2,
   table_names    IN VARCHAR2   DEFAULT NULL,
   schema_names   IN VARCHAR2   DEFAULT NULL,
   add            IN BOOLEAN    DEFAULT TRUE,
   capture_user   IN VARCHAR2   DEFAULT NULL,
   connect_user   IN VARCHAR2   DEFAULT NULL,
   comment        IN VARCHAR2   DEFAULT NULL,
   inclusion_rule IN BOOLEAN    DEFAULT TRUE,
   start_scn      IN NUMBER     DEFAULT NULL,
   start_time     IN TIMESTAMP  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref371"></a>Parameters</p>
<div id="XSTRM70195" class="tblformal">
<p class="titleintable"><a id="sthref372"></a><a id="sthref373"></a>Table 8-5 ALTER_OUTBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="ALTER_OUTBOUND Procedure Parameters" summary="This table describes the parameters of ALTER_OUTBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t16">Parameter</th>
<th class="cellalignment1352" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t16" headers="r1c1-t16">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t16 r1c2-t16">
<p>The name of the outbound server being altered. Specify an existing outbound server. Do not specify an owner.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t16" headers="r1c1-t16">
<p><code>table_names</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t16 r1c2-t16">
<p>The tables that are either added to or removed from the XStream Out configuration. Whether the tables are added or removed depends on the setting for the <code>add</code> parameter.</p>
<p>The tables can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a table. Specify the first table in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p>Each table should be specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">table_name</span></code>. For example, <code>hr.employees</code>. If the schema is not specified, then the current user is the default.</p>
<p><span class="bold">See Also:</span> <a href="#CIAHDHCE">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t16" headers="r1c1-t16">
<p><code>schema_names</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t16 r1c2-t16">
<p>The schemas that are either added to or removed from the XStream Out configuration. Whether the schemas are added or removed depends on the setting for the <code>add</code> parameter.</p>
<p>The schemas can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a schema. Specify the first schema in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p><span class="bold">Note:</span> This procedure does not concatenate the <code>schema_names</code> parameter with the <code>table_names</code> parameter. To specify tables, enter fully qualified table names in the <code>table_names</code> parameter (<code><span class="codeinlineitalic">schema_name.table_name</span></code>).</p>
<p><span class="bold">See Also:</span> <a href="#CIAHDHCE">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t16" headers="r1c1-t16">
<p><code>add</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t16 r1c2-t16">
<p>If <code>TRUE</code>, then the procedure adds to the XStream Out configuration the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter.</p>
<p>If <code>FALSE</code>, then the procedure removes from the XStream Out configuration the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r6c1-t16" headers="r1c1-t16">
<p><code>capture_user</code></p>
</td>
<td class="cellalignment1348" headers="r6c1-t16 r1c2-t16">
<p>The user in whose security domain a capture process captures changes that satisfy its rule sets and runs custom rule-based transformations configured for capture process rules.</p>
<p>Specify a user to change the capture user. In this case, the user who invokes the <code>ALTER_OUTBOUND</code> procedure must be granted the <code>DBA</code> role. Only the <code>SYS</code> user can set the <code>capture_user</code> to <code>SYS</code>.</p>
<p>If <code>NULL</code>, then the capture user is not changed.</p>
<p>If you change the capture user, then this procedure grants the new capture user enqueue privilege on the queue used by the capture process and configures the user as a secure queue user.</p>
<p>Ensure that the capture user is granted the other required privileges. See <a href="#CACBHJDD">"CREATE_OUTBOUND Procedure"</a> for information about the privileges required by a capture user.</p>
<p>The capture process is stopped and restarted automatically when you change the value of this parameter.</p>
<p><span class="bold">Note:</span> If the capture user for a capture process is dropped using <code>DROP</code> <code>USER&nbsp;.&nbsp;.&nbsp;.&nbsp;</code> <code>CASCADE</code>, then the capture process is also dropped automatically.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r7c1-t16" headers="r1c1-t16">
<p><code>connect_user</code></p>
</td>
<td class="cellalignment1348" headers="r7c1-t16 r1c2-t16">
<p>The user who can attach to the specified outbound server to retrieve the change stream. The XStream client application must attach to the outbound server as the specified connect user.</p>
<p>Specify a user to change the connect user. In this case, the user who invokes the <code>ALTER_OUTBOUND</code> procedure must be granted the <code>DBA</code> role. Only the <code>SYS</code> user can set the <code>connect_user</code> to <code>SYS</code>.</p>
<p>If <code>NULL</code>, then the connect user is not changed.</p>
<p>If you change the connect user, then this procedure grants the new connect user dequeue privileges on the queue used by the outbound server and configures the user as a secure queue user.</p>
<p>Ensure that the connect user is granted the other required privileges. See <a href="#CACBHJDD">"CREATE_OUTBOUND Procedure"</a> for information about the privileges required by a connect user.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r8c1-t16" headers="r1c1-t16">
<p><code>comment</code></p>
</td>
<td class="cellalignment1348" headers="r8c1-t16 r1c2-t16">
<p>An optional comment associated with the outbound server.</p>
<p>If non-<code>NULL</code>, then the specified comment replaces the existing comment.</p>
<p>If <code>NULL</code>, then the existing comment is not changed.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r9c1-t16" headers="r1c1-t16">
<p><code>inclusion_rule</code></p>
</td>
<td class="cellalignment1348" headers="r9c1-t16 r1c2-t16">
<p>If <code>TRUE</code> and the <code>add</code> parameter is set to <code>TRUE</code>, then the procedure adds rules for the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter to the positive rule sets in the XStream Out configuration. When rules for tables and schemas are in positive rule sets, the XStream Out configuration streams DML and DDL changes to the tables and schemas out to the client application.</p>
<p>If <code>TRUE</code> and the <code>add</code> parameter is set to <code>FALSE</code>, then the procedure removes rules for the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter from the positive rule sets in the XStream Out configuration.</p>
<p>If <code>FALSE</code> and the <code>add</code> parameter is set to <code>TRUE</code>, then the procedure adds rules for the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter to the negative rule sets in the XStream Out configuration. When rules for tables and schemas are in negative rule sets, the XStream Out configuration does not stream changes to the tables and schemas out to the client application.</p>
<p>If <code>FALSE</code> and the <code>add</code> parameter is set to <code>FALSE</code>, then the procedure removes rules for the tables specified in the <code>table_names</code> parameter and the schemas specified in the <code>schema_names</code> parameter from the negative rule sets in the XStream Out configuration.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r10c1-t16" headers="r1c1-t16">
<p><code>start_scn</code></p>
</td>
<td class="cellalignment1348" headers="r10c1-t16 r1c2-t16">
<p>A valid SCN for the database from which the capture process starts capturing changes. To be valid, the SCN value must be greater than or equal to the first SCN for the capture process.</p>
<p>If a valid SCN is specified, then the capture process captures changes from the specified SCN when it is restarted.</p>
<p>An error is returned if an invalid SCN is specified.</p>
<p>If <code>NULL</code> and the <code>start_time</code> parameter is <code>NULL</code>, then the start SCN is not changed.</p>
<p>If <code>NULL</code> and the <code>start_time</code> parameter is non-<code>NULL</code>, then the start SCN is changed to match the specified start time.</p>
<p>The <code>start_scn</code> and <code>start_time</code> parameters are mutually exclusive.</p>
<p><span class="bold">Note:</span> If the capture process is enabled, then the <code>ALTER_OUTBOUND</code> procedure automatically stops and restarts the capture process when the <code>start_scn</code> parameter is non-<code>NULL</code>. If the capture process is disabled, then the <code>ALTER_OUTBOUND</code> procedure automatically starts the capture process when the <code>start_scn</code> parameter is non-<code>NULL</code>.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r11c1-t16" headers="r1c1-t16">
<p><code>start_time</code></p>
</td>
<td class="cellalignment1348" headers="r11c1-t16 r1c2-t16">
<p>A valid time from which the capture process starts capturing changes. To be valid, the time must correspond to an SCN value that is greater than or equal to the first SCN for the capture process.</p>
<p>If a valid time is specified, then the capture process captures changes from the specified time when it is restarted.</p>
<p>An error is returned if an invalid time is specified.</p>
<p>If <code>NULL</code> and the <code>start_scn</code> parameter is <code>NULL</code>, then the start time is not changed.</p>
<p>If <code>NULL</code> and the <code>start_scn</code> parameter is non-<code>NULL</code>, then the start time is changed to match the specified start SCN.</p>
<p>The <code>start_scn</code> and <code>start_time</code> parameters are mutually exclusive.</p>
<p><span class="bold">Note:</span> If the capture process is enabled, then the <code>ALTER_OUTBOUND</code> procedure automatically stops and restarts the capture process when the <code>start_time</code> parameter is non-<code>NULL</code>. If the capture process is disabled, then the <code>ALTER_OUTBOUND</code> procedure automatically starts the capture process when the <code>start_time</code> parameter is non-<code>NULL</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CIAHDHCE"></a>Usage Notes</p>
<p>The following list describes the behavior of the outbound server for various combinations of the <code>table_names</code> and <code>schema_names</code> parameters:</p>
<ul>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are <code>NULL</code> or empty, then no rules are changed for the XStream Out configuration.</p>
<p>This procedure is overloaded. The <code>table_names</code> and <code>schema_names</code> parameters are defaulted to <code>NULL</code>. Do not specify <code>NULL</code> for both <code>table_names</code> and <code>schema_names</code> in the same call; otherwise, error <code>PLS-00307</code> is returned.</p>
</li>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are specified, then the rules for the tables and schemas are added to or removed from the XStream Out configuration, depending on the setting of the <code>add</code> parameter.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is specified and the <code>schema_names</code> parameter is <code>NULL</code> or empty, then the rules for the tables are added to or removed from the XStream Out configuration, depending on the setting of the <code>add</code> parameter. The existing rules for schemas are not changed for the XStream Out configuration.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is <code>NULL</code> or empty and the <code>schema_names</code> parameter is specified, then the rules for the schemas are added to or removed from the XStream Out configuration, depending on the setting of the <code>add</code> parameter. The existing rules for tables are not changed for the XStream Out configuration.</p>
</li>
</ul>
<p>For the procedure that uses the <code>DBMS_UTILITY.UNCL_ARRAY</code> type for the <code>table_names</code> and <code>schema_names</code> parameters, both parameters must be specified. To specify only tables, the <code>schema_names</code> parameter must be specified and empty. To specify only schemas, the <code>table_names</code> parameter must be specified and empty.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An empty array includes one <code>NULL</code> entry.</div>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM70196" class="refsect2"><a id="CACEGCGG"></a>
<hr />
<h3 class="refsect2">CREATE_INBOUND Procedure<a id="sthref374"></a></h3>
<p>This procedure creates an XStream inbound server and its queue.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A client application can create multiple sessions. Each session can attach to only one inbound server, and each inbound server can serve only one session at a time. However, different client application sessions can connect to different inbound servers. See <a href="xstrm_pt_oci.htm#CIAFHDJF">Part IV, "XStream OCI API Reference"</a> and <a class="olink STXJV" href="../../appdev.112/e16674/toc.htm"><span class="italic">Oracle Database XStream Java API Reference</span></a> for information about attaching to an inbound server.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref375"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.CREATE_INBOUND(
   server_name IN VARCHAR2,
   queue_name  IN VARCHAR2,
   apply_user  IN VARCHAR2  DEFAULT NULL,  
   comment     IN VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref376"></a>Parameters</p>
<div id="XSTRM70197" class="tblformal">
<p class="titleintable"><a id="sthref377"></a><a id="sthref378"></a>Table 8-6 CREATE_INBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="CREATE_INBOUND Procedure Parameters" summary="This table describes the parameters of CREATE_INBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t19">Parameter</th>
<th class="cellalignment1352" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t19" headers="r1c1-t19">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t19 r1c2-t19">
<p>The name of the inbound server being created. A <code>NULL</code> specification is not allowed. Do not specify an owner.</p>
<p>The specified name must not match the name of an existing outbound server, inbound server, apply process, or messaging client.</p>
<p><span class="bold">Note:</span> The <code>server_name</code> setting cannot be altered after the inbound server is created.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t19" headers="r1c1-t19">
<p><code>queue_name</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t19 r1c2-t19">
<p>The name of the local queue used by the inbound server, specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">queue_name</span></code>.</p>
<p>If the specified queue exists, then it is used. If the specified queue does not exist, then the procedure creates it.</p>
<p>For example, to specify a queue named <code>xstream_queue</code> in the <code>xstrmadmin</code> schema, enter <code>xstrmadmin.xstream_queue</code> for this parameter. If the schema is not specified, then the current user is the default.</p>
<p><span class="bold">Note:</span> An inbound server's queue is used only to store error transactions.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t19" headers="r1c1-t19">
<p><code>apply_user</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t19 r1c2-t19">
<p>The apply user. If <code>NULL</code>, then the current user is the default.</p>
<p>The client application must attach to the inbound server as the apply user.</p>
<p>The apply user is the user in whose security domain an inbound server evaluates whether LCRs satisfy its rule sets, applies DML and DDL changes directly to database objects, runs custom rule-based transformations configured for inbound server rules, and runs apply handlers configured for the inbound server. This user must have the necessary privileges to perform these actions. This procedure grants the apply user dequeue privileges on the queue used by the inbound server and configures the user as a secure queue user.</p>
<p>In addition to the privileges granted by this procedure, you must grant the following privileges to the apply user:</p>
<ul>
<li>
<p>The necessary privileges to perform DML and DDL changes on the apply objects</p>
</li>
<li>
<p><code>EXECUTE</code> privilege on the rule sets used by the inbound server</p>
</li>
<li>
<p><code>EXECUTE</code> privilege on all rule-based transformation functions used in the rule set</p>
</li>
<li>
<p><code>EXECUTE</code> privilege on all apply handler procedures</p>
</li>
</ul>
<p>You can grant these privileges directly to the apply user, or you can grant them through roles.</p>
<p>In addition, the apply user must be granted <code>EXECUTE</code> privilege on all packages, including Oracle supplied packages, that are invoked in subprograms run by the inbound server. These privileges must be granted directly to the apply user. They cannot be granted through roles.</p>
<p><span class="bold">Note:</span> If the apply user for an inbound server is dropped using <code>DROP</code> <code>USER&nbsp;.&nbsp;.&nbsp;.&nbsp;</code> <code>CASCADE</code>, then the inbound server is also dropped automatically.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t19" headers="r1c1-t19">
<p><code>comment</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t19 r1c2-t19">
<p>An optional comment associated with the inbound server.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref379"></a>Usage Notes</p>
<p>By default, an inbound server does not use rules or rule sets. Therefore, an inbound server applies all of the LCRs sent to it by an XStream client application. However, to filter the LCRs sent to an inbound server, you can add rules and rule sets to an inbound server using the <code>DBMS_STREAMS_ADM</code> and <code>DBMS_RULE_ADM</code> packages.</p>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS006" href="../../server.112/e17069/strms_rules.htm#STRMS006"><span class="italic">Oracle Streams Concepts and Administration</span></a></div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM70198" class="refsect2"><a id="CACBHJDD"></a>
<hr />
<h3 class="refsect2">CREATE_OUTBOUND Procedure<a id="sthref380"></a></h3>
<p>This procedure creates an XStream outbound server, queue, and capture process to enable client applications to stream out Oracle database changes.</p>
<p>This procedure is overloaded. One <code>table_names</code> parameter is type <code>VARCHAR2</code> and the other <code>table_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. Also, one <code>schema_names</code> parameter is type <code>VARCHAR2</code> and the other <code>schema_names</code> parameter is type <code>DBMS_UTILITY.UNCL_ARRAY</code>. These parameters enable you to enter the list of tables and schemas in different ways and are mutually exclusive.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>A client application can create multiple sessions. Each session can attach to only one outbound server, and each outbound server can serve only one session at a time. However, different client application sessions can connect to different outbound servers. See <a href="xstrm_oci.htm#CIHIGIFE">"OCIXStreamOutAttach()"</a> and <a class="olink STXJV" href="../../appdev.112/e16674/toc.htm"><span class="italic">Oracle Database XStream Java API Reference</span></a> for information about attaching to an outbound server.</p>
</li>
<li>
<p>If the <code>capture_name</code> parameter is <code>NULL</code>, then this procedure automatically generates a name for the capture process that it creates.</p>
</li>
<li>
<p>This procedure automatically generates a name for the queue that it creates.</p>
</li>
<li>
<p>This procedure enables both the capture process and outbound server that it creates.</p>
</li>
<li>
<p>Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), the <code>capture_name</code> parameter is included in this procedure.</p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref381"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.CREATE_OUTBOUND(
   server_name     IN VARCHAR2,
   source_database IN VARCHAR2  DEFAULT NULL,
   table_names     IN DBMS_UTILITY.UNCL_ARRAY,
   schema_names    IN DBMS_UTILITY.UNCL_ARRAY,
   capture_user    IN VARCHAR2  DEFAULT NULL,
   connect_user    IN VARCHAR2  DEFAULT NULL,
   comment         IN VARCHAR2  DEFAULT NULL,
   capture_name    IN VARCHAR2  DEFAULT NULL);

DBMS_XSTREAM_ADM.CREATE_OUTBOUND(
   server_name     IN VARCHAR2,
   source_database IN VARCHAR2  DEFAULT NULL,
   table_names     IN VARCHAR2  DEFAULT NULL,
   schema_names    IN VARCHAR2  DEFAULT NULL,
   capture_user    IN VARCHAR2  DEFAULT NULL,
   connect_user    IN VARCHAR2  DEFAULT NULL,
   comment         IN VARCHAR2  DEFAULT NULL,
   capture_name    IN VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref382"></a>Parameters</p>
<div id="XSTRM70199" class="tblformal">
<p class="titleintable"><a id="sthref383"></a><a id="sthref384"></a>Table 8-7 CREATE_OUTBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="CREATE_OUTBOUND Procedure Parameters" summary="This table describes the parameters of CREATE_OUTBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t22">Parameter</th>
<th class="cellalignment1352" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t22" headers="r1c1-t22">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t22 r1c2-t22">
<p>The name of the outbound server being created. A <code>NULL</code> specification is not allowed. Do not specify an owner.</p>
<p>The specified name must not match the name of an existing outbound server, inbound server, apply process, or messaging client.</p>
<p><span class="bold">Note:</span> The <code>server_name</code> setting cannot be altered after the outbound server is created.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t22" headers="r1c1-t22">
<p><code>source_database</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t22 r1c2-t22">
<p>The global name of the source database. The source database is where the changes to be captured originated.</p>
<p>If you do not include the domain name, then the procedure appends it to the database name automatically. For example, if you specify <code>DBS1</code> and the domain is <code>EXAMPLE.COM</code>, then the procedure specifies <code>DBS1.EXAMPLE.COM</code> automatically.</p>
<p>If <code>NULL</code>, or if the specified name is the same as the global name of the current database, then local capture is assumed.</p>
<p>If non-<code>NULL</code> and the specified name is different from the global name of the current database, then downstream capture is assumed. In this case, configure the transmission of redo data from the source database to the downstream database before running the <code>CREATE_OUTBOUND</code> procedure. See <a class="olink STREP211" href="../../server.112/e10705/prep_rep.htm#STREP211"><span class="italic">Oracle Streams Replication Administrator's Guide</span></a> for instructions.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t22" headers="r1c1-t22">
<p><code>table_names</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t22 r1c2-t22">
<p>The tables for which DML and DDL changes are streamed out to the XStream client application. The tables can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a table. Specify the first table in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p>Each table should be specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">table_name</span></code>. For example, <code>hr.employees</code>. If the schema is not specified, then the current user is the default.</p>
<p><span class="bold">See Also:</span> <a href="#CACIGGJI">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t22" headers="r1c1-t22">
<p><code>schema_names</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t22 r1c2-t22">
<p>The schemas for which DML and DDL changes are streamed out to the XStream client application. The schemas can be specified in the following ways:</p>
<ul>
<li>
<p>Comma-delimited list of type <code>VARCHAR2</code>.</p>
</li>
<li>
<p>A PL/SQL associative array of type <code>DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a schema. Specify the first schema in position 1. The last position must be <code>NULL</code>.</p>
</li>
</ul>
<p><span class="bold">Note:</span> This procedure does not concatenate the <code>schema_names</code> parameter with the <code>table_names</code> parameter. To specify tables, enter fully qualified table names in the <code>table_names</code> parameter (<code><span class="codeinlineitalic">schema_name.table_name</span></code>).</p>
<p><span class="bold">See Also:</span> <a href="#CACIGGJI">"Usage Notes"</a> for more information about this parameter</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r6c1-t22" headers="r1c1-t22">
<p><code>capture_user</code></p>
</td>
<td class="cellalignment1348" headers="r6c1-t22 r1c2-t22">
<p>The user in whose security domain a capture process captures changes that satisfy its rule sets and runs custom rule-based transformations configured for capture process rules. If <code>NULL</code>, then the current user is the default.</p>
<p>This procedure grants the capture user enqueue privilege on the queue used by the capture process and configures the user as a secure queue user.</p>
<p>In addition, ensure that the capture user has the following privileges:</p>
<ul>
<li>
<p><code>EXECUTE</code> privilege on the rule sets used by the capture process</p>
</li>
<li>
<p><code>EXECUTE</code> privilege on all rule-based transformation functions used in the positive rule set</p>
</li>
</ul>
<p>You can grant these privileges directly to the apply user, or you can grant them through roles.</p>
<p>In addition, the capture user must be granted <code>EXECUTE</code> privilege on all packages, including Oracle supplied packages, that are invoked in rule-based transformations run by the capture process. These privileges must be granted directly to the capture user. They cannot be granted through roles.</p>
<p>Only a user who is granted the <code>DBA</code> role can set a capture user. Only the <code>SYS</code> user can set the <code>capture_user</code> to <code>SYS</code>.</p>
<p>A capture user does not require privileges on a database object to capture changes made to it. The capture process can pass these changes to a custom rule-based transformation function. Therefore, ensure that you consider security implications when you configure a capture process.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r7c1-t22" headers="r1c1-t22">
<p><code>connect_user</code></p>
</td>
<td class="cellalignment1348" headers="r7c1-t22 r1c2-t22">
<p>The user who can attach to the specified outbound server to retrieve the change stream. The client application must attach to the outbound server as the specified connect user.</p>
<p>If <code>NULL</code>, then the current user is the default.</p>
<p>The connect user is the user in whose security domain an outbound server dequeues LCRs that satisfy its rule sets and runs custom rule-based transformations configured for outbound server rules. This user must have the necessary privileges to perform these actions. This procedure grants the connect user dequeue privileges on the queue used by the outbound server and configures the user as a secure queue user.</p>
<p>In addition to the privileges granted by this procedure, grant the following privileges to the connect user:</p>
<ul>
<li>
<p><code>EXECUTE</code> privilege on the rule sets used by the outbound server</p>
</li>
<li>
<p><code>EXECUTE</code> privilege on all rule-based transformation functions used in the rule set</p>
</li>
</ul>
<p>You can grant these privileges directly to the connect user, or you can grant them through roles.</p>
<p>In addition, the connect user must be granted <code>EXECUTE</code> privilege on all packages, including Oracle supplied packages, that are invoked in subprograms run by the outbound server. These privileges must be granted directly to the apply user. They cannot be granted through roles.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r8c1-t22" headers="r1c1-t22">
<p><code>comment</code></p>
</td>
<td class="cellalignment1348" headers="r8c1-t22 r1c2-t22">
<p>An optional comment associated with the outbound server.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r9c1-t22" headers="r1c1-t22">
<p><code>capture_name</code></p>
</td>
<td class="cellalignment1348" headers="r9c1-t22 r1c2-t22">
<p>The name of the capture process configured to capture changes for the outbound server. Do not specify an owner.</p>
<p>The capture process must not exist. If the specified name matches the name of an existing capture process, then an error is raised.</p>
<p>If the name does not match the name of an existing capture process, then the procedure creates a new capture process with the specified name.</p>
<p>If <code>NULL</code>, then the system creates a new capture process with a system-generated name.</p>
<p><span class="bold">Note:</span> The capture process name cannot be altered after the capture process is created.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="CACIGGJI"></a>Usage Notes</p>
<p>The following list describes the behavior of the outbound server for various combinations of the <code>table_names</code> and <code>schema_names</code> parameters:</p>
<ul>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are <code>NULL</code> or empty, then the outbound server streams all DML and DDL changes to the client application.</p>
<p>This procedure is overloaded. The <code>table_names</code> and <code>schema_names</code> parameters are defaulted to <code>NULL</code>. Do not specify <code>NULL</code> for both <code>table_names</code> and <code>schema_names</code> in the same call; otherwise, error <code>PLS-00307</code> is returned.</p>
</li>
<li>
<p>If both the <code>table_names</code> and <code>schema_names</code> parameters are specified, then the outbound server streams DML and DDL changes for the specified tables and schemas.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is specified and the <code>schema_names</code> parameter is <code>NULL</code> or empty, then the outbound server streams DML and DDL changes for the specified tables.</p>
</li>
<li>
<p>If the <code>table_names</code> parameter is <code>NULL</code> or empty and the <code>schema_names</code> parameter is specified, then the outbound server streams DML and DDL changes for the specified schema.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<p>For the procedure that uses the <code>DBMS_UTILITY.UNCL_ARRAY</code> type for the <code>table_names</code> and <code>schema_names</code> parameters, both parameters must be specified. To specify only tables, the <code>schema_names</code> parameter must be specified and empty. To specify only schemas, the <code>table_names</code> parameter must be specified and empty.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An empty array includes one <code>NULL</code> entry.</div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM70200" class="refsect2"><a id="CACBGICJ"></a>
<hr />
<h3 class="refsect2">DROP_INBOUND Procedure<a id="sthref385"></a></h3>
<p>This procedure removes an inbound server configuration.</p>
<p>This procedure always removes the specified inbound server. This procedure also removes the queue for the inbound server if all of the following conditions are met:</p>
<ul>
<li>
<p>One call to the <code>CREATE_INBOUND</code> procedure created the queue.</p>
</li>
<li>
<p>The inbound server is the only subscriber to the queue.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CACEGCGG">"CREATE_INBOUND Procedure"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref386"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.DROP_INBOUND(
   server_name IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref387"></a>Parameters</p>
<div id="XSTRM70201" class="tblformal">
<p class="titleintable"><a id="sthref388"></a><a id="sthref389"></a>Table 8-8 DROP_INBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="DROP_INBOUND Procedure Parameters" summary="This table describes the parameters of DROP_INBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t25">Parameter</th>
<th class="cellalignment1352" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t25" headers="r1c1-t25">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t25 r1c2-t25">
<p>The name of the inbound server being removed. Specify an existing inbound server. Do not specify an owner.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM70202" class="refsect2"><a id="CACICJHG"></a>
<hr />
<h3 class="refsect2">DROP_OUTBOUND Procedure<a id="sthref390"></a></h3>
<p>This procedure removes an outbound server configuration.</p>
<p>This procedure always drops the specified outbound server. This procedure also drops the queue used by the outbound server if both of the following conditions are met:</p>
<ul>
<li>
<p>The queue was created by the <code>CREATE_OUTBOUND</code> procedure in this package.</p>
</li>
<li>
<p>The outbound server is the only subscriber to the queue.</p>
</li>
</ul>
<p>If either one of the preceding conditions is not met, then the <code>DROP_OUTBOUND</code> procedure only drops the outbound server. It does not drop the queue.</p>
<p>This procedure also drops the capture process for the outbound server if both of the following conditions are met:</p>
<ul>
<li>
<p>The procedure can drop the outbound server's queue.</p>
</li>
<li>
<p>The capture process was created by the <code>CREATE_OUTBOUND</code> procedure.</p>
</li>
</ul>
<p>If the procedure can drop the queue but cannot manage the capture process, then it drops the queue without dropping the capture process.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CACCCAJJ">"ADD_OUTBOUND Procedure"</a></p>
</li>
<li>
<p><a href="#CACBHJDD">"CREATE_OUTBOUND Procedure"</a></p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref391"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.DROP_OUTBOUND(
   server_name IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref392"></a>Parameters</p>
<div id="XSTRM70203" class="tblformal">
<p class="titleintable"><a id="sthref393"></a><a id="sthref394"></a>Table 8-9 DROP_OUTBOUND Procedure Parameters</p>
<table class="cellalignment1353" title="DROP_OUTBOUND Procedure Parameters" summary="This table describes the parameters of DROP_OUTBOUND subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t27">Parameter</th>
<th class="cellalignment1352" id="r1c2-t27">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t27" headers="r1c1-t27">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t27 r1c2-t27">
<p>The name of the outbound server being removed. Specify an existing outbound server. Do not specify an owner.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM72566" class="refsect2"><a id="CIAHCHJD"></a>
<hr />
<h3 class="refsect2">ENABLE_GG_XSTREAM_FOR_STREAMS Procedure<a id="sthref395"></a></h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2).</div>
<p>This procedure enables XStream capabilities and performance optimizations for Oracle Streams components.</p>
<p>This procedure is intended for users of Oracle Streams who want to enable XStream capabilities and optimizations. For example, you can enable the optimizations for an Oracle Streams replication configuration that uses capture processes and apply processes to replicate changes between Oracle databases.</p>
<p>These capabilities and optimizations are enabled automatically for XStream components, such as outbound servers, inbound servers, and capture processes that send changes to outbound servers. It is not necessary to run this procedure for XStream components.</p>
<p>When XStream capabilities are enabled, Oracle Streams components can stream ID key LCRs and sequence LCRs. The XStream performance optimizations improve efficiency in various areas, including:</p>
<ul>
<li>
<p>LCR processing</p>
</li>
<li>
<p>Handling large transactions</p>
</li>
<li>
<p>DML execution during apply</p>
</li>
<li>
<p>Dependency computation and scheduling</p>
</li>
<li>
<p>Capture process parallelism</p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref396"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.ENABLE_GG_XSTREAM_FOR_STREAMS(
   enable IN BOOLEAN  TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref397"></a>Parameters</p>
<div id="XSTRM72567" class="tblformal">
<p class="titleintable"><a id="sthref398"></a><a id="sthref399"></a>Table 8-10 ENABLE_GG_XSTREAM_FOR_STREAMS Procedure Parameters</p>
<table class="cellalignment1353" title="ENABLE_GG_XSTREAM_FOR_STREAMS Procedure Parameters" summary="This table describes the parameters of ENABLE_GG_XSTREAM_FOR_STREAMS subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t29">Parameter</th>
<th class="cellalignment1352" id="r1c2-t29">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t29" headers="r1c1-t29">
<p><code>enable</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t29 r1c2-t29">
<p>If <code>TRUE</code>, then enable XStream performance optimizations for Oracle Streams components.</p>
<p>If <code>FALSE</code>, then disable XStream performance optimizations for Oracle Streams components.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref400"></a>Usage Notes</p>
<p>The following usage notes apply to this procedure:</p>
<ul>
<li>
<p>When you run this procedure, all capture processes and apply processes are restarted.</p>
</li>
<li>
<p>After you run this procedure, the <code>PURPOSE</code> column in the following views displays <code>XStream</code> <code>Streams</code>:</p>
<ul>
<li>
<p><code>ALL_APPLY</code></p>
</li>
<li>
<p><code>DBA_APPLY</code></p>
</li>
<li>
<p><code>ALL_CAPTURE</code></p>
</li>
<li>
<p><code>DBA_CAPTURE</code></p>
</li>
</ul>
</li>
<li>
<p>A license for the Oracle GoldenGate product is required to enable XStream performance optimizations for Oracle Streams components.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIABJEJF">"IS_GG_XSTREAM_FOR_STREAMS Function"</a></p>
</li>
<li>
<p><a href="xstrm_intro.htm#CHDHGHEH">"Prerequisites for XStream"</a></p>
</li>
</ul>
</div>
</div>
<!-- class="refsect2" -->
<div id="XSTRM72568" class="refsect2"><a id="CIABJEJF"></a>
<hr />
<h3 class="refsect2">IS_GG_XSTREAM_FOR_STREAMS Function<a id="sthref401"></a></h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2).</div>
<p>This function returns <code>TRUE</code> if XStream performance optimizations are enabled for Oracle Streams components, or this function returns <code>FALSE</code> if XStream performance optimizations are disabled for Oracle Streams components.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CIAHCHJD">"ENABLE_GG_XSTREAM_FOR_STREAMS Procedure"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref402"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.IS_GG_XSTREAM_FOR_STREAMS
RETURN BOOLEAN;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="XSTRM70204" class="refsect2"><a id="CACHABED"></a>
<hr />
<h3 class="refsect2">REMOVE_SUBSET_OUTBOUND_RULES Procedure<a id="sthref403"></a></h3>
<p>This procedure removes subset rules from an outbound server configuration.</p>
<p>The names of the specified insert, update, and delete rules must match those generated by the <code>ADD_SUBSET_OUTBOUND_RULES</code> procedure. To view the rule names for subset rules, run the following query:</p>
<pre>
SELECT RULE_OWNER, SUBSETTING_OPERATION, RULE_NAME 
   FROM DBA_XSTREAM_RULES 
   WHERE SUBSETTING_OPERATION IS NOT NULL;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>This procedure removes the declarative rule-based transformation associated with each rule it removes.</p>
</li>
<li>
<p>This procedure does not remove rules from the outbound server's capture process.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CACFEEIC">"ADD_SUBSET_OUTBOUND_RULES Procedure"</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref404"></a>Syntax</p>
<pre>
DBMS_XSTREAM_ADM.REMOVE_SUBSET_OUTBOUND_RULES(
   server_name      IN VARCHAR2,
   insert_rule_name IN VARCHAR2, 
   update_rule_name IN VARCHAR2, 
   delete_rule_name IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref405"></a>Parameters</p>
<div id="XSTRM70205" class="tblformal">
<p class="titleintable"><a id="sthref406"></a><a id="sthref407"></a>Table 8-11 REMOVE_SUBSET_OUTBOUND_RULES Procedure Parameters</p>
<table class="cellalignment1353" title="REMOVE_SUBSET_OUTBOUND_RULES Procedure Parameters" summary="This table describes the parameters of REMOVE_SUBSET_OUTBOUND_RULES subprogram." dir="ltr">
<thead>
<tr class="cellalignment1342">
<th class="cellalignment1352" id="r1c1-t35">Parameter</th>
<th class="cellalignment1352" id="r1c2-t35">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r2c1-t35" headers="r1c1-t35">
<p><code>server_name</code></p>
</td>
<td class="cellalignment1348" headers="r2c1-t35 r1c2-t35">
<p>The name of the outbound server from which rules are being removed. Specify an existing outbound server. Do not specify an owner.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r3c1-t35" headers="r1c1-t35">
<p><code>insert_rule_name</code></p>
</td>
<td class="cellalignment1348" headers="r3c1-t35 r1c2-t35">
<p>The name of the insert rule being removed, specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">rule_name</span></code>.</p>
<p>For example, to specify a rule in the <code>hr</code> schema named <code>rule1</code>, enter <code>hr.rule1</code>. If the schema is not specified, then the current user is the default.</p>
<p>If <code>NULL</code>, then the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r4c1-t35" headers="r1c1-t35">
<p><code>update_rule_name</code></p>
</td>
<td class="cellalignment1348" headers="r4c1-t35 r1c2-t35">
<p>The name of the update rule being removed, specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">rule_name</span></code>.</p>
<p>If <code>NULL</code>, then the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment1342">
<td class="cellalignment1348" id="r5c1-t35" headers="r1c1-t35">
<p><code>delete_rule_name</code></p>
</td>
<td class="cellalignment1348" headers="r5c1-t35 r1c2-t35">
<p>The name of the delete rule being removed, specified as <code>[</code><code><span class="codeinlineitalic">schema_name</span></code><code>.]</code><code><span class="codeinlineitalic">rule_name</span></code>.</p>
<p>If <code>NULL</code>, then the procedure raises an error.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1341">
<tr>
<td class="cellalignment1348">
<table class="cellalignment1346">
<tr>
<td class="cellalignment1345"><a href="xstrm_pt_plsql.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1345"><a href="xstrm_auth.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2009, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1350">
<table class="cellalignment1344">
<tr>
<td class="cellalignment1345"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1345"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1345"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1345"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1345"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1345"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
