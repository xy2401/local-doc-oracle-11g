<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>ASMCMD File Management Commands</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asm_util002.htm" title="Previous" type="text/html" />
<link rel="Next" href="asm_util004.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">21/40</span> <!-- End Header --><a id="CIHGHEID"></a><a id="OSTMG01643"></a>
<div class="sect1">
<h1 class="sect1">ASMCMD File Management Commands</h1>
<p><a id="sthref912"></a><a id="sthref913"></a>This section describes the ASMCMD file management commands.</p>
<p><a href="#CIHGDAFB">Table 12-16</a> provides a summary of the file management commands.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94449"></a><a id="sthref914"></a><a id="CIHGDAFB"></a>Table 12-16 Summary of ASMCMD file management commands</p>
<table class="cellalignment1546" title="Summary of ASMCMD file management commands" summary="ASMCMD Command Summary" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t21">Command</th>
<th class="cellalignment1547" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t21" headers="r1c1-t21">
<p><a href="#BABFHHBB">cd</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t21 r1c2-t21">
<p>Changes the current directory to the specified directory.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t21" headers="r1c1-t21">
<p><a href="#CHDJEIEA">cp</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t21 r1c2-t21">
<p>Enables you to copy files between disk groups, and between a disk group and the operating system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t21" headers="r1c1-t21">
<p><a href="#BABIDEII">du</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t21 r1c2-t21">
<p>Displays the total disk space occupied by files in the specified Oracle ASM directory and all of its subdirectories, recursively.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t21" headers="r1c1-t21">
<p><a href="#BABECFIF">find</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t21 r1c2-t21">
<p>Lists the paths of all occurrences of the specified name (with wildcards) under the specified directory.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t21" headers="r1c1-t21">
<p><a href="#BABEEEDG">ls</a></p>
</td>
<td class="cellalignment1543" headers="r6c1-t21 r1c2-t21">
<p>Lists the contents of an Oracle ASM directory, the attributes of the specified file, or the names and attributes of all disk groups.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t21" headers="r1c1-t21">
<p><a href="#CIHCHEGG">lsof</a></p>
</td>
<td class="cellalignment1543" headers="r7c1-t21 r1c2-t21">
<p>Lists the open files.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t21" headers="r1c1-t21">
<p><a href="#BABHBEDG">mkalias</a></p>
</td>
<td class="cellalignment1543" headers="r8c1-t21 r1c2-t21">
<p>Creates an alias for system-generated filenames.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t21" headers="r1c1-t21">
<p><a href="#BABGEEDI">mkdir</a></p>
</td>
<td class="cellalignment1543" headers="r9c1-t21 r1c2-t21">
<p>Creates Oracle ASM directories.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t21" headers="r1c1-t21">
<p><a href="#BABJBCGF">pwd</a></p>
</td>
<td class="cellalignment1543" headers="r10c1-t21 r1c2-t21">
<p>Displays the path of the current Oracle ASM directory.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t21" headers="r1c1-t21">
<p><a href="#BABDIIJH">rm</a></p>
</td>
<td class="cellalignment1543" headers="r11c1-t21 r1c2-t21">
<p>Deletes the specified Oracle ASM files or directories.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t21" headers="r1c1-t21">
<p><a href="#BABCIJEB">rmalias</a></p>
</td>
<td class="cellalignment1543" headers="r12c1-t21 r1c2-t21">
<p>Deletes the specified alias, retaining the file that the alias points to.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="BABFHHBB"></a><a id="OSTMG94450"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref915"></a><a id="sthref916"></a>cd</h2>
<p class="subhead2"><a id="OSTMG94451"></a>Purpose</p>
<p>Changes the current directory to the specified directory.</p>
<p class="subhead2"><a id="OSTMG94452"></a>Syntax and Description</p>
<p><code>cd</code> [<code><span class="codeinlineitalic">dir</span></code>]</p>
<p><a href="#CIHIBDHG">Table 12-17</a> lists the options for the <code>cd</code> command.</p>
<div class="tblformal">
<p class="titleintable"><a id="OSTMG94453"></a><a id="sthref917"></a><a id="CIHIBDHG"></a>Table 12-17 Options for the cd command</p>
<table class="cellalignment1548" title="Options for the cd command " summary="cd ASMCMD options" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t22">Option</th>
<th class="cellalignment1547" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t22" headers="r1c1-t22">
<p><code><span class="codeinlineitalic">dir</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t22 r1c2-t22">
<p>Name of the directory.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p><code><span class="codeinlineitalic">dir</span></code> can be specified as either an absolute path or a relative path, including the <code>.</code> and <code>..</code> pseudo-directories. <code><span class="codeinlineitalic">dir</span></code> can contain wildcard characters. See <a href="asm_util001.htm#CIHBFGCF">"Wildcard Characters"</a>.</p>
<p class="subhead2"><a id="OSTMG94454"></a>Examples</p>
<p>The following are examples of the <code>cd</code> command changing into various directories.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94455"></a><a id="sthref918"></a>Example 12-19 Using the ASMCMD cd command</p>
<pre>
ASMCMD [+data/hr] &gt; cd +data/orcl

ASMCMD [+data/orcl] &gt; cd DATAFILE

ASMCMD [+data/orcl/DATAFILE] &gt;cd ..
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CHDJEIEA"></a><a id="OSTMG94456"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref919"></a><a id="sthref920"></a>cp</h2>
<p class="subhead2"><a id="OSTMG94457"></a>Purpose</p>
<p>Enables you to copy files between Oracle ASM disk groups and between a disk group and the operating system.</p>
<p class="subhead2"><a id="OSTMG94458"></a>Syntax and Description</p>
<br />
<code>cp</code> <code><span class="codeinlineitalic">src_file</span></code> [<code><span class="codeinlineitalic">rem_connect_str</span></code><code>:</code>]<code><span class="codeinlineitalic">tgt_file</span></code><br />
<code>cp</code> [<code><span class="codeinlineitalic">rem_connect_str</span></code><code>:</code>]<code><span class="codeinlineitalic">src_file</span></code> <code><span class="codeinlineitalic">tgt_file</span></code><br />
<p><a href="#CIHFIDJF">Table 12-18</a> lists the syntax options for the <code>cp</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94459"></a><a id="sthref921"></a><a id="CIHFIDJF"></a>Table 12-18 Options for the cp command</p>
<table class="cellalignment1546" title="Options for the cp command " summary="cp ASMCMD options" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t23">Option</th>
<th class="cellalignment1547" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t23" headers="r1c1-t23">
<p><code><span class="codeinlineitalic">rem_connect_str</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t23 r1c2-t23">
<p>Specifies the connection string for a remote instance.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t23" headers="r1c1-t23">
<p><code><span class="codeinlineitalic">src_file</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t23 r1c2-t23">
<p>Name of the source file to copy.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t23" headers="r1c1-t23">
<p><code><span class="codeinlineitalic">tgt_file</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t23 r1c2-t23">
<p>A user alias for the created target file name or an alias directory name.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>cp</code> cannot copy files between two remote instances. The local Oracle ASM instance must be either the source or the target of the operation.</p>
<p>You can use the <code>cp</code> command to:</p>
<ul>
<li>
<p>Copy files from a disk group to the operating system</p>
</li>
<li>
<p>Copy files from a disk group to a disk group</p>
</li>
<li>
<p>Copy files from the operating system to a disk group</p>
</li>
</ul>
<p>Some file types cannot be the source or destination of the <code>cp</code> command. These file types include OCR and OCR backup file types. To back up, copy, or move an Oracle ASM SPFILE, use the <code>spbackup</code>, <code>spcopy</code>, or <code>spmove</code> commands.</p>
<p><code><span class="codeinlineitalic">rem_connect_str</span></code> is not required for a local instance copy, which is the default case. For a remote instance copy, you must specify the connect string and Oracle ASM prompts for a password in a non-echoing prompt. The <code><span class="codeinlineitalic">rem_connect_str</span></code> is in the form:</p>
<p><code><span class="codeinlineitalic">user</span></code><code>@</code><code><span class="codeinlineitalic">host</span></code><code>[.</code><code><span class="codeinlineitalic">port_number</span></code><code>].</code><code><span class="codeinlineitalic">SID</span></code></p>
<p><code><span class="codeinlineitalic">user</span></code>, <code><span class="codeinlineitalic">host</span></code>, and <code><span class="codeinlineitalic">SID</span></code> are required in the <code><span class="codeinlineitalic">rem_connect_str</span></code> parameter. The default port number is <code>1521</code>.</p>
<p>The connection privilege (<code>SYSASM</code> or <code>SYSDBA</code>) is determined by the use of the <code>--privilege</code> option when starting ASMCMD. For more information, refer to <a href="asm_util001.htm#CIHEIBJG">"Specifying the Type of Connection"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for more information about connection strings</div>
<p><code><span class="codeinlineitalic">src_file</span></code> must be either a fully qualified file name or an Oracle ASM alias.</p>
<p>The <code>cp</code> command performs a bit-wise copy. There is no data transformation.</p>
<p class="subhead2"><a id="OSTMG94460"></a>Examples</p>
<p>The following are examples of the <code>cp</code> command. The first example shows a copy of a file in the <code>data</code> disk group to a file on the operating system. The second example shows a copy of a file on the operating system to the <code>data</code> disk group. The third example shows how to copy a file in the <code>data</code> disk group to a remote server. If the password is not included in the command line, you are prompted to enter the password.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94461"></a><a id="sthref922"></a>Example 12-20 Using the ASMCMD cp command</p>
<pre>
ASMCMD [+] &gt; cp +data/orcl/datafile/EXAMPLE.265.691577295 /mybackups/example.bak
copying +data/orcl/datafile/EXAMPLE.265.691577295 -&gt; /mybackups/example.bak

ASMCMD [+] &gt;  cp /mybackups/examples.bak  +data/orcl/datafile/myexamples.bak
copying /mybackups/examples.bak -&gt; +data/orcl/datafile/myexamples.bak

ASMCMD [+] &gt; cp +data/orcl/datafile/EXAMPLE.265.691577295 sys@myserver.+ASM:/scratch/backup/myexamples.bak
Enter Password:
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABIDEII"></a><a id="OSTMG94462"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref923"></a><a id="sthref924"></a>du</h2>
<p class="subhead2"><a id="OSTMG94463"></a>Purpose</p>
<p>Displays the total space used for files in the specified directory and in the entire directory tree under the directory.</p>
<p class="subhead2"><a id="OSTMG94464"></a>Syntax and Description</p>
<p><code>du</code> [<code>--suppressheader</code>] <code>[</code><code><span class="codeinlineitalic">dir</span></code><code>]</code></p>
<p><a href="#CIHCAAGC">Table 12-19</a> lists the syntax options for the <code>du</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94465"></a><a id="sthref925"></a><a id="CIHCAAGC"></a>Table 12-19 Options for the du command</p>
<table class="cellalignment1546" title="Options for the du command" summary="This table lists the options for the du command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t25">Option</th>
<th class="cellalignment1547" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t25" headers="r1c1-t25">
<p><code><span class="codeinlineitalic">dir</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t25 r1c2-t25">
<p>Name of the directory.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t25" headers="r1c1-t25">
<p><code>--suppressheader</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t25 r1c2-t25">
<p>Suppresses column headings from the output.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>If you do not specify <code><span class="codeinlineitalic">dir</span></code>, then information about the current directory is displayed. <code><span class="codeinlineitalic">dir</span></code> can contain wildcard characters. See <a href="asm_util001.htm#CIHBFGCF">"Wildcard Characters"</a>.</p>
<p>The following two values are displayed, both in units of megabytes.</p>
<ul>
<li>
<p><code>Used_MB</code> - This value does not include mirroring.</p>
</li>
<li>
<p><code>Mirror_used_MB</code> - This value includes mirroring.</p>
</li>
</ul>
<p>For example, if a normal redundancy disk group contains 100 MB of data and each file in the disk group is 2-way mirrored, then <code>Used_MB</code> is 100 MB and <code>Mirror_used_MB</code> is roughly 200 MB.</p>
<p class="subhead2"><a id="OSTMG94466"></a>Example</p>
<p>The following is an example of the <code>du</code> command. The example shows disk space used in the <code>orcl</code> directory in the <code>data</code> disk group, including all of the directories under the <code>orcl</code> directory.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94467"></a><a id="sthref926"></a>Example 12-21 Using the ASMCMD du command</p>
<pre>
ASMCMD [+] &gt; du data/orcl
Used_MB      Mirror_used_MB
   1756                3519
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABECFIF"></a><a id="OSTMG94468"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref927"></a><a id="sthref928"></a>find</h2>
<p class="subhead2"><a id="OSTMG94469"></a>Purpose</p>
<p>Displays the absolute paths of all occurrences of the specified name pattern (with wildcards) in a specified directory and its subdirectories.</p>
<p class="subhead2"><a id="OSTMG94470"></a>Syntax and Description</p>
<p><code>find</code> <code>[--type</code> <code><span class="codeinlineitalic">type</span></code><code>]</code> <code><span class="codeinlineitalic">dir</span></code> <code><span class="codeinlineitalic">pattern</span></code></p>
<p><a href="#CIHIBIFF">Table 12-20</a> lists the syntax options for the <code>find</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94471"></a><a id="sthref929"></a><a id="CIHIBIFF"></a>Table 12-20 Options for the find command</p>
<table class="cellalignment1546" title="Options for the find command " summary="find ASMCMD options" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t26">Option</th>
<th class="cellalignment1547" id="r1c2-t26">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t26" headers="r1c1-t26">
<p><code>--type</code> <code><span class="codeinlineitalic">type</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t26 r1c2-t26">
<p>Type of target to find.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t26" headers="r1c1-t26">
<p><code><span class="codeinlineitalic">dir</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t26 r1c2-t26">
<p>Directory name where you want to start searching.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t26" headers="r1c1-t26">
<p><code><span class="codeinlineitalic">pattern</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t26 r1c2-t26">
<p>Name of a target or a wildcard pattern.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>This command searches the specified directory and all subdirectories under it in the directory tree for the supplied <code><span class="codeinlineitalic">pattern</span></code>. The value used for <code><span class="codeinlineitalic">pattern</span></code> can be a directory name or a filename, and can include wildcard characters. See <a href="asm_util001.htm#CIHBFGCF">"Wildcard Characters"</a>.</p>
<p>The ASMCMD <code>find</code> command is case insensitive.</p>
<p>In the output of the command, directory names are suffixed with the slash character (/) to distinguish them from filenames.</p>
<p>Use the <code>--type</code> flag to find all the files of a particular type (specified as <code><span class="codeinlineitalic">type</span></code>). For example, you can search for control files by specifying <code><span class="codeinlineitalic">type</span></code> as <code>CONTROLFILE</code>. Valid values for <code><span class="codeinlineitalic">type</span></code> are listed in <a href="asmfiles.htm#g1030822">Table 7-1, "File types supported by Oracle ASM"</a>. These are type values from the <code>type</code> column of the <code>V$ASM_FILE</code> view.</p>
<p class="subhead2"><a id="OSTMG94472"></a>Examples</p>
<p>The following are examples of the <code>find</code> command. The first example searches the <code>data</code> disk group for files that begin with <code>undo</code>. The second example returns the absolute path of all the control files (<code>--type</code> <code>CONTROLFILE</code>) in the <code>+data/orcl</code> directory.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94473"></a><a id="sthref930"></a>Example 12-22 Using the ASMCMD find command</p>
<pre>
ASMCMD [+] &gt; find +data undo*
+data/ORCL/DATAFILE/UNDOTBS1.258.691577151

ASMCMD [+] &gt;  find --type CONTROLFILE +data/orcl *
+data/orcl/CONTROLFILE/Current.260.691577263
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABEEEDG"></a><a id="OSTMG94474"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref931"></a><a id="sthref932"></a>ls</h2>
<p class="subhead2"><a id="OSTMG94475"></a>Purpose</p>
<p>Lists the contents of an Oracle ASM directory, the attributes of the specified file, or the names and attributes of all disk groups.</p>
<p class="subhead2"><a id="OSTMG94476"></a>Syntax and Description</p>
<br />
<code>ls</code> [<code>--suppressheader</code>] [<code>-lsdtLg</code>][<code>--absolutepath</code>][<code>--reverse</code>]<br />
<code>&nbsp;&nbsp;</code> [<code>--permission</code>][<code><span class="codeinlineitalic">pattern</span></code><code>]</code><br />
<br />
<p><a href="#CIHGBHJJ">Table 12-21</a> lists the syntax options for the <code>ls</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94477"></a><a id="sthref933"></a><a id="CIHGBHJJ"></a>Table 12-21 Options for the ls command</p>
<table class="cellalignment1546" title="Options for the ls command" summary="This table lists the flags for the ls command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t27">Option</th>
<th class="cellalignment1547" id="r1c2-t27">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t27" headers="r1c1-t27">
<p>(none)</p>
</td>
<td class="cellalignment1543" headers="r2c1-t27 r1c2-t27">
<p>Displays only filenames and directory names.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t27" headers="r1c1-t27">
<p><code>-l</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t27 r1c2-t27">
<p>Displays extended file information, including striping and redundancy information and whether the file was system-generated (indicated by <code>Y</code> under the <code>SYS</code> column) or user-created (as with an alias, indicated by <code>N</code> under the <code>SYS</code> column). When used in the "<code>ls -l +</code>" command, displays directory information.</p>
<p>Not all possible file attributes or disk group attributes are included. To view the complete set of column values for a file or a disk group, query the <code>V$ASM_FILE</code> and <code>V$ASM_DISKGROUP</code> views.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t27" headers="r1c1-t27">
<p><code>-s</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t27 r1c2-t27">
<p>Displays file space information.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t27" headers="r1c1-t27">
<p><code>-d</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t27 r1c2-t27">
<p>If the value for the <code><span class="codeinlineitalic">pattern</span></code> argument is a directory, then <code>ls</code> displays information about that directory, rather than the directory contents. Typically used with another flag, such as the <code>-l</code> flag.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t27" headers="r1c1-t27">
<p><code>--reverse</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t27 r1c2-t27">
<p>Reverses the sort order of the listing.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t27" headers="r1c1-t27">
<p><code>-t</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t27 r1c2-t27">
<p>Sorts the listing by timestamp (latest first) instead of by name.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t27" headers="r1c1-t27">
<p><code>-L</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t27 r1c2-t27">
<p>If the value for the <code><span class="codeinlineitalic">pattern</span></code> argument is an alias, then ASMCMD displays information about the file that it references. Typically used with another flag, such as the <code>-l</code> flag.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t27" headers="r1c1-t27">
<p><code>--absolutepath</code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t27 r1c2-t27">
<p>For each listed file, displays the absolute path of the alias that references it, if any.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t27" headers="r1c1-t27">
<p><code>-g</code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t27 r1c2-t27">
<p><code>GV$ASM_DISKGROUP.INST_ID</code> is included in the output.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t27" headers="r1c1-t27">
<p><code>--suppressheader</code></p>
</td>
<td class="cellalignment1543" headers="r11c1-t27 r1c2-t27">
<p>Suppresses column headings.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t27" headers="r1c1-t27">
<p><code>--permission</code></p>
</td>
<td class="cellalignment1543" headers="r12c1-t27 r1c2-t27">
<p>Shows the permissions of a file (<code>V$ASM_FILE.permission</code>, <code>V$ASM_FILE.owner</code>, <code>V$ASM_FILE.usergroup</code>, <code>V$ASM_ALIAS.name</code>).</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r13c1-t27" headers="r1c1-t27">
<p><code><span class="codeinlineitalic">pattern</span></code></p>
</td>
<td class="cellalignment1543" headers="r13c1-t27 r1c2-t27">
<p>Name of a file, directory, or a pattern.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>Command options enable you to modify and customize the output of the command. <a href="#CIHGBHJJ">Table 12-21</a> lists the options and their descriptions. For disk group information, this command queries the <code>V$ASM_DISKGROUP_STAT</code> view by default. If you specify all of the options, then the command shows a union of their attributes, with duplicates removed. If you enter <code>ls</code> <code>+</code>, the top level directory structure is displayed.</p>
<p><code><span class="codeinlineitalic">pattern</span></code> can be a file name, directory name, or a pattern including wildcard characters. See <a href="asm_util001.htm#CIHBFGCF">"Wildcard Characters"</a>.</p>
<ul>
<li>
<p>If <code><span class="codeinlineitalic">pattern</span></code> is a directory name, then <code>ls</code> lists the contents of the directory and depending on flag settings, <code>ls</code> also lists information about each directory member. Directories are listed with a trailing slash (/) to distinguish them from files.</p>
</li>
<li>
<p>If the value that you enter for <code><span class="codeinlineitalic">pattern</span></code> is a file name, then <code>ls</code> lists the file and depending on the flag settings, <code>ls</code> also lists information about the file. The file must be located in the current directory if the file name is specified with a relative path.</p>
</li>
</ul>
<p class="subhead2"><a id="OSTMG94478"></a>Examples</p>
<p>The following are examples of the <code>ls</code> command that display various information about directories and the contents of the directories.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94479"></a><a id="sthref934"></a>Example 12-23 Using the ASMCMD ls command</p>
<pre>
ASMCMD [+] &gt; ls +data/orcl/datafile
EXAMPLE.265.691577295
SYSAUX.257.691577149
SYSTEM.256.691577149
UNDOTBS1.258.691577151
USERS.259.691577151

ASMCMD [+] &gt; ls -lt +data/orcl/datafile
Type      Redund  Striped  Time             Sys  Name
DATAFILE  MIRROR  COARSE   JUL 13 08:00:00  Y    EXAMPLE.265.691577295
DATAFILE  MIRROR  COARSE   JUL 13 05:00:00  Y    SYSAUX.257.691577149
DATAFILE  MIRROR  COARSE   JUL 13 02:00:00  Y    USERS.259.691577151
DATAFILE  MIRROR  COARSE   JUL 13 02:00:00  Y    UNDOTBS1.258.691577151
DATAFILE  MIRROR  COARSE   JUL 13 02:00:00  Y    SYSTEM.256.691577149

ASMCMD [+] &gt; ls -l +data/orcl/datafile/sy*
Type      Redund  Striped  Time             Sys  Name
DATAFILE  MIRROR  COARSE   JUL 13 05:00:00  Y    SYSAUX.257.691577149
DATAFILE  MIRROR  COARSE   JUL 13 02:00:00  Y    SYSTEM.256.691577149

ASMCMD [+] &gt; ls -s  +data/orcl/datafile
Block_Size  Blocks      Bytes       Space  Name
      8192   12801  104865792   214958080  EXAMPLE.265.691577295
      8192   88321  723525632  1452277760  SYSAUX.257.691577149
      8192   88321  723525632  1452277760  SYSTEM.256.691577149
      8192    7681   62922752   131072000  UNDOTBS1.258.691577151
      8192     641    5251072    12582912  USERS.259.691577151

ASMCMD [+] &gt; ls --permission  +data/orcl/datafile
User  Group  Permission  Name
              rw-rw-rw-  EXAMPLE.265.691577295
              rw-rw-rw-  SYSAUX.257.691577149
              rw-rw-rw-  SYSTEM.256.691577149
              rw-rw-rw-  UNDOTBS1.258.691577151
              rw-rw-rw-  USERS.259.691577151
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHCHEGG"></a><a id="OSTMG94480"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref935"></a><a id="sthref936"></a>lsof</h2>
<p class="subhead2"><a id="OSTMG94481"></a>Purpose</p>
<p>Lists the open files of the local clients.</p>
<p class="subhead2"><a id="OSTMG94482"></a>Syntax and Description</p>
<br />
<code>lsof</code> [<code>--suppressheader</code>] {<code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code>|<code>--dbname</code> <code><span class="codeinlineitalic">db</span></code>| <code>-C</code> <code><span class="codeinlineitalic">instance</span></code>}<br />
<p><a href="#CIHCJIHF">Table 12-22</a> lists the syntax options for the <code>lsof</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94483"></a><a id="sthref937"></a><a id="CIHCJIHF"></a>Table 12-22 Options for the lsof command</p>
<table class="cellalignment1546" title="Options for the lsof command" summary="This table lists the options for the lsattr command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t28">Option</th>
<th class="cellalignment1547" id="r1c2-t28">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t28" headers="r1c1-t28">
<p><code>--suppressheader</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t28 r1c2-t28">
<p>Suppresses column headings.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t28" headers="r1c1-t28">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t28 r1c2-t28">
<p>List files only from the specified disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t28" headers="r1c1-t28">
<p><code>--dbname</code> <code><span class="codeinlineitalic">db</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t28 r1c2-t28">
<p>List files only from the specified database.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t28" headers="r1c1-t28">
<p><code>-C</code> <code><span class="codeinlineitalic">instance</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t28 r1c2-t28">
<p>List files only from the specified instance.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p class="subhead2"><a id="OSTMG94484"></a>Example</p>
<p>The following are examples of the <code>lsof</code> command. The first example lists the open files for the <code>data</code> disk group. The second example lists the open files for the Oracle ASM instance.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94485"></a><a id="sthref938"></a>Example 12-24 Using the ASMCMD lsof command</p>
<pre>
ASMCMD [+] &gt; lsof -G data
DB_Name  Instance_Name  Path                                          
orcl     orcl           +data/orcl/controlfile/current.260.691577263  
orcl     orcl           +data/orcl/datafile/example.265.691577295     
orcl     orcl           +data/orcl/datafile/sysaux.257.691577149      
orcl     orcl           +data/orcl/datafile/system.256.691577149      
orcl     orcl           +data/orcl/datafile/undotbs1.258.691577151    
orcl     orcl           +data/orcl/datafile/users.259.691577151       
orcl     orcl           +data/orcl/onlinelog/group_1.261.691577267    
orcl     orcl           +data/orcl/onlinelog/group_2.262.691577271    
orcl     orcl           +data/orcl/onlinelog/group_3.263.691577275    
orcl     orcl           +data/orcl/tempfile/temp.264.691577287 

ASMCMD [+] &gt; lsof -C +ASM 
DB_Name  Instance_Name  Path
asmvol   +ASM           +data/VOLUME1.271.679226013
asmvol   +ASM           +data/VOLUME2.272.679227351
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABHBEDG"></a><a id="OSTMG94486"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref939"></a><a id="sthref940"></a>mkalias</h2>
<p class="subhead2"><a id="OSTMG94487"></a>Purpose</p>
<p>Creates an alias for the specified system-generated filename.</p>
<p class="subhead2"><a id="OSTMG94488"></a>Syntax and Description</p>
<p><code>mkalias</code> <code><span class="codeinlineitalic">file</span></code> <code><span class="codeinlineitalic">alias</span></code></p>
<p><a href="#CIHCCCDA">Table 12-23</a> lists the syntax options for the <code>mkalias</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94489"></a><a id="sthref941"></a><a id="CIHCCCDA"></a>Table 12-23 Options for the mkalias command</p>
<table class="cellalignment1546" title="Options for the mkalias command" summary="This table lists the options for the mkalias command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t29">Option</th>
<th class="cellalignment1547" id="r1c2-t29">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t29" headers="r1c1-t29">
<p><code><span class="codeinlineitalic">file</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t29 r1c2-t29">
<p>System-generated file name.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t29" headers="r1c1-t29">
<p><code><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t29 r1c2-t29">
<p>Alias for the file name.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code><span class="codeinlineitalic">alias</span></code> must be in the same disk group as the system-generated file. Only one alias is permitted for each Oracle ASM file.</p>
<p class="subhead2"><a id="OSTMG94490"></a>Example</p>
<p>The following example creates the <code>sysaux.f</code> alias for the fully qualified filename <code>+data/orcl/DATAFILE/SYSAUX.257.721811945</code>. Following the <code>mkalias</code> command, <code>ls</code> <code>--absolutepath</code> is run to check the results.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94491"></a><a id="sthref942"></a>Example 12-25 Using the ASMCMD mkalias command</p>
<pre>
ASMCMD [+data/orcl/datafile] &gt; mkalias SYSAUX.257.721811945 sysaux.f

ASMCMD [+data/orcl/datafile] &gt; ls --absolutepath
none =&gt; EXAMPLE.265.721812093
+DATA/ORCL/DATAFILE/sysaux.f =&gt; SYSAUX.257.721811945
none =&gt; SYSTEM.256.721811945
none =&gt; UNDOTBS1.258.721811945
none =&gt; USERS.259.721811947
sysaux.f
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABGEEDI"></a><a id="OSTMG94492"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref943"></a><a id="sthref944"></a>mkdir</h2>
<p class="subhead2"><a id="OSTMG94493"></a>Purpose</p>
<p>Creates Oracle ASM directories under the current directory.</p>
<p class="subhead2"><a id="OSTMG94494"></a>Syntax and Description</p>
<p><code>mkdir</code> <code><span class="codeinlineitalic">dir</span></code> [<code><span class="codeinlineitalic">dir</span></code> . . .]</p>
<p><a href="#CIHBBBGJ">Table 12-24</a> lists the syntax options for the <code>mkdir</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94495"></a><a id="sthref945"></a><a id="CIHBBBGJ"></a>Table 12-24 Options for the mkdir command</p>
<table class="cellalignment1546" title="Options for the mkdir command" summary="This table lists the options for the mkdir command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t30">Option</th>
<th class="cellalignment1547" id="r1c2-t30">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t30" headers="r1c1-t30">
<p><code><span class="codeinlineitalic">dir</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t30 r1c2-t30">
<p>Directory name to create.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The directory from which <code>mkdir</code> is run can be a system-created or user-created directory. You cannot create a directory at the root (+) level.</p>
<p class="subhead2"><a id="OSTMG94496"></a>Example</p>
<p>The following is an example of the <code>mkdir</code> command. The example creates the directories <code>subdir1</code> and <code>subdir2</code> at the disk group level in the disk group <code>data</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94497"></a><a id="sthref946"></a>Example 12-26 Using the ASMCMD mkdir command</p>
<pre>
ASMCMD [+data] &gt; mkdir subdir1 subdir2

ASMCMD [+data] &gt; ls
ASM/
ORCL/
subdir1/
subdir2/
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABJBCGF"></a><a id="OSTMG94498"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref947"></a><a id="sthref948"></a>pwd</h2>
<p class="subhead2"><a id="OSTMG94499"></a>Purpose</p>
<p>Displays the absolute path of the current directory.</p>
<p class="subhead2"><a id="OSTMG94500"></a>Syntax and Description</p>
<p><code>pwd</code></p>
<p class="subhead2"><a id="OSTMG94501"></a>Example</p>
<p>The following is an example of the <code>pwd</code> command. The example displays the current directory.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94502"></a><a id="sthref949"></a>Example 12-27 Using the ASMCMD pwd command</p>
<pre>
ASMCMD [+data/orcl/datafile] &gt; pwd
+data/orcl/datafile
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABDIIJH"></a><a id="OSTMG94503"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref950"></a><a id="sthref951"></a>rm</h2>
<p class="subhead2"><a id="OSTMG94504"></a>Purpose</p>
<p>Deletes the specified Oracle ASM files and directories.</p>
<p class="subhead2"><a id="OSTMG94505"></a>Syntax and Description</p>
<p><code>rm [-f|-r]</code> <code><span class="codeinlineitalic">pattern</span></code> [<code><span class="codeinlineitalic">pattern</span></code>...]</p>
<p><a href="#CIHDIICE">Table 12-25</a> lists the syntax options for the <code>rm</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94506"></a><a id="sthref952"></a><a id="CIHDIICE"></a>Table 12-25 Options for the rm command</p>
<table class="cellalignment1546" title="Options for the rm command" summary="This table lists the options for the rm command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t31">Option</th>
<th class="cellalignment1547" id="r1c2-t31">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t31" headers="r1c1-t31">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t31 r1c2-t31">
<p>Recursively deletes files and subdirectories.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t31" headers="r1c1-t31">
<p><code>-f</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t31 r1c2-t31">
<p>Forces the deletion of files and subdirectories.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t31" headers="r1c1-t31">
<p><code><span class="codeinlineitalic">pattern</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t31 r1c2-t31">
<p>Name of a file, directory, or wildcard pattern.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>If <code><span class="codeinlineitalic">pattern</span></code> is a file or alias, then the <code>rm</code> command can delete the file or alias only if it is not currently in use. If <code><span class="codeinlineitalic">pattern</span></code> is a directory, then the <code>rm</code> command can delete it only if it is empty (unless the <code>-r</code> flag is used) and it is not a system-generated directory. If <code><span class="codeinlineitalic">pattern</span></code> is an alias, then the <code>rm</code> command deletes both the alias and the file to which the alias refers. To delete only an alias and retain the file that the alias references, use the <code>rmalias</code> command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you delete all of the files in a system-created directory, the directory is removed. If the parent directories are empty, all of the parent directories are also removed.</div>
<p><code><span class="codeinlineitalic">pattern</span></code> can contain wildcard characters. See <a href="asm_util001.htm#CIHBFGCF">"Wildcard Characters"</a>.</p>
<p>If you use a wildcard, the <code>rm</code> command deletes all of the matches except nonempty directories, unless you use the <code>-r</code> flag. To recursively delete, use the <code>-r</code> flag. With <code>-r</code> option you can delete a nonempty directory, including all files and directories in it and in the entire directory tree underneath it. If you use the <code>-r</code> flag or a wildcard character, then the <code>rm</code> command prompts you to confirm the deletion before proceeding, unless you specify the <code>-f</code> flag.If a wildcard character matches an alias or a system-generated file that has an alias, then both the alias and the system-generated file that it references are deleted. When using the <code>-r</code> flag to delete an alias that matches a wildcard pattern, either the alias or the system-generated file that has an alias must be present in the directory in which you run the <code>rm</code> command.</p>
<p>For example, if you have a user alias, <code>+data/dir1/file.alias</code> that points to <code>+data/orcl/DATAFILE/System.256.146589651</code>, then running the <code>rm -r +data/dir1</code> command removes the <code>+data/dir1/file.alias</code> and <code>+data/orcl/DATAFILE/System.256.146589651</code>.</p>
<p class="subhead2"><a id="OSTMG94507"></a>Example</p>
<p>The following are examples of the <code>rm</code> command. The first example deletes the <code>myexamples.bak</code> file. The second example removes the <code>subdir2</code> directory and its contents.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94508"></a><a id="sthref953"></a>Example 12-28 Using the ASMCMD rm command</p>
<pre>
ASMCMD [+data/orcl/datafile] &gt; rm myexamples.bak

ASMCMD [+data] &gt; rm -r subdir2
You may delete multiple files and/or directories. 
Are you sure? (y/n) y
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCIJEB"></a><a id="OSTMG94509"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref954"></a><a id="sthref955"></a>rmalias</h2>
<p class="subhead2"><a id="OSTMG94510"></a>Purpose</p>
<p>Removes the specified aliases, retaining the files that the aliases reference.</p>
<p class="subhead2"><a id="OSTMG94511"></a>Syntax and Description</p>
<p><code>rmalias [-r]</code> <code><span class="codeinlineitalic">alias</span></code> [<code><span class="codeinlineitalic">alias</span></code>...]</p>
<p><a href="#CIHEBAEH">Table 12-26</a> lists the syntax options for the <code>rmalias</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94512"></a><a id="sthref956"></a><a id="CIHEBAEH"></a>Table 12-26 Options for the rmalias command</p>
<table class="cellalignment1546" title="Options for the rmalias command" summary="This table lists the options for the rmalias command, along with a description" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t33">Option</th>
<th class="cellalignment1547" id="r1c2-t33">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t33" headers="r1c1-t33">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t33 r1c2-t33">
<p>Recursively removes aliases.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t33" headers="r1c1-t33">
<p><code><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t33 r1c2-t33">
<p>Alias for the file name or directory.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>-r</code> flag enables you to remove all of the aliases in the current directory and in the entire directory tree beneath the current directory. If any user-created directories become empty after deleting aliases, they are also deleted. Files and directories created by the system are not deleted.</p>
<p class="subhead2"><a id="OSTMG94513"></a>Example</p>
<p>The following is an example of the <code>rmalias</code> command. The example deletes the alias <code>sysaux.f</code>, retaining the data file that it references.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94514"></a><a id="sthref957"></a>Example 12-29 Using the ASMCMD rmalias command</p>
<pre>
ASMCMD [+data/orcl/datafile] &gt; rmalias sysaux.f
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asm_util002.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asm_util004.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
