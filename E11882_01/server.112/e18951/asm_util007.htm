<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>ASMCMD Volume Management Commands</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asm_util006.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfs_util.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">25/40</span> <!-- End Header --><a id="CIHDACEH"></a><a id="OSTMG01647"></a>
<div class="sect1">
<h1 class="sect1">ASMCMD Volume Management Commands</h1>
<p><a id="sthref1105"></a><a id="sthref1106"></a>This section describes the ASMCMD volume management commands.</p>
<p>For information about Oracle ASM Dynamic Volume Manager (Oracle ADVM), refer to <a href="asmfilesystem.htm#CACHFACJ">"Overview of Oracle ASM Dynamic Volume Manager"</a>. For information about using SQL statements to manage volumes, refer to <a href="asmdiskgrps.htm#CHDFBFJD">"Managing Volumes in a Disk Group"</a>.</p>
<p><a href="#CIHBFCHC">Table 12-66</a> provides a summary of the Oracle ADVM volume management commands. To successfully run these commands, the local Oracle ASM instance must be running and the disk group required by this command must have been created and mounted in the Oracle ASM instance.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94738"></a><a id="sthref1107"></a><a id="CIHBFCHC"></a>Table 12-66 Summary of ASMCMD volume management commands</p>
<table class="cellalignment1546" title="Summary of ASMCMD volume management commands" summary="ASMCMD Command Summary" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t75">Command</th>
<th class="cellalignment1547" id="r1c2-t75">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t75" headers="r1c1-t75">
<p><a href="#CIHJJIAG">volcreate</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t75 r1c2-t75">
<p>Creates an Oracle ADVM volume in the specified disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t75" headers="r1c1-t75">
<p><a href="#CIHDHHJB">voldelete</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t75 r1c2-t75">
<p>Deletes an Oracle ADVM volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t75" headers="r1c1-t75">
<p><a href="#CIHFCEII">voldisable</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t75 r1c2-t75">
<p>Disables Oracle ADVM volumes in mounted disk groups.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t75" headers="r1c1-t75">
<p><a href="#CIHECJFA">volenable</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t75 r1c2-t75">
<p>Enables Oracle ADVM volumes in mounted disk groups.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t75" headers="r1c1-t75">
<p><a href="#CIHIEJCH">volinfo</a></p>
</td>
<td class="cellalignment1543" headers="r6c1-t75 r1c2-t75">
<p>Displays information about Oracle ADVM volumes.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t75" headers="r1c1-t75">
<p><a href="#CIHGDFCI">volresize</a></p>
</td>
<td class="cellalignment1543" headers="r7c1-t75 r1c2-t75">
<p>Resizes an Oracle ADVM volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t75" headers="r1c1-t75">
<p><a href="#CIHHCDIJ">volset</a></p>
</td>
<td class="cellalignment1543" headers="r8c1-t75 r1c2-t75">
<p>Sets attributes of an Oracle ADVM volume in mounted disk groups.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t75" headers="r1c1-t75">
<p><a href="#CIHCJFHB">volstat</a></p>
</td>
<td class="cellalignment1543" headers="r9c1-t75 r1c2-t75">
<p>Reports volume I/O statistics.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="CIHJJIAG"></a><a id="OSTMG94739"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1108"></a><a id="sthref1109"></a>volcreate</h2>
<p class="subhead2"><a id="OSTMG94740"></a>Purpose</p>
<p>Creates an Oracle ADVM volume in the specified disk group.</p>
<p class="subhead2"><a id="OSTMG94741"></a>Syntax and Description</p>
<br />
<code>volcreate</code> <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-s</code> <code><span class="codeinlineitalic">size</span></code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>[</code> <code>--column</code> <code><span class="codeinlineitalic">number</span></code> <code>]</code> <code>[</code> <code>--width</code> <code><span class="codeinlineitalic">stripe_width</span></code> <code>]</code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>--redundancy</code> {<code>high</code>|<code>mirror</code>|<code>unprotected</code>} ]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>--primary</code> {<code>hot</code>|<code>cold</code>}] [<code>--secondary</code> {<code>hot</code>|<code>cold</code>}] <code><span class="codeinlineitalic">volume</span></code><br />
<p><a href="#CIHDBGHI">Table 12-67</a> describes the options for the <code>volcreate</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94742"></a><a id="sthref1110"></a><a id="CIHDBGHI"></a>Table 12-67 Options for the volcreate command</p>
<table class="cellalignment1546" title="Options for the volcreate command" summary="This table lists the options for the volcreate command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t76">Option</th>
<th class="cellalignment1547" id="r1c2-t76">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t76" headers="r1c1-t76">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t76 r1c2-t76">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t76" headers="r1c1-t76">
<p><code>-s</code> <code><span class="codeinlineitalic">size</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t76 r1c2-t76">
<p>Size of the volume to be created in units of <code>K</code>, <code>M</code>, <code>G</code>, or <code>T</code>. The unit designation must be appended to the number specified. No space is allowed. For example: <code>200M</code> or <code>20G</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t76" headers="r1c1-t76">
<p><code>--column</code> <code><span class="codeinlineitalic">number</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t76 r1c2-t76">
<p>Number of columns in a stripe set. Values range from <code>1</code> to <code>8</code>. The default value is <code>4</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t76" headers="r1c1-t76">
<p><code>--width</code> <code><span class="codeinlineitalic">stripe</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t76 r1c2-t76">
<p>Stripe width of a volume. The value can range from 4 KB to 1 MB, at power-of-two intervals, with a default of 128 KB.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t76" headers="r1c1-t76">
<p><code>--redundancy</code> {<code>high</code>|<code>mirror</code>|<code>unprotected</code>}</p>
</td>
<td class="cellalignment1543" headers="r6c1-t76 r1c2-t76">
<p>Redundancy of the Oracle ADVM volume which can be specified for normal redundancy disk groups. The range of values is as follows: <code>unprotected</code> for non-mirrored redundancy, <code>mirror</code> for double-mirrored redundancy, or <code>high</code> for triple-mirrored redundancy. If redundancy is not specified, the setting defaults to the redundancy level of the disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t76" headers="r1c1-t76">
<p><code>--primary</code> {<code>hot|cold</code>}</p>
</td>
<td class="cellalignment1543" headers="r7c1-t76 r1c2-t76">
<p>Intelligent Data Placement specification for primary extents, either <code>hot</code> or <code>cold</code> region.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t76" headers="r1c1-t76">
<p><code>--secondary</code> {<code>hot|cold</code>}</p>
</td>
<td class="cellalignment1543" headers="r8c1-t76 r1c2-t76">
<p>Intelligent Data Placement specification for secondary extents, either <code>hot</code> or <code>cold</code> region.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t76" headers="r1c1-t76">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t76 r1c2-t76">
<p>Name of the volume. Only alphanumeric characters are allowed; hyphens are not allowed. The first character must be alphabetic.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>When creating an Oracle ADVM volume, a volume device name is created with a unique Oracle ADVM persistent disk group number that is concatenated to the end of the volume name. The unique number can be one to three digits.</p>
<p>On Linux, the volume device name is in the format <code><span class="codeinlineitalic">volume_name</span></code><code>-</code><code><span class="codeinlineitalic">nnn</span></code>, such as <code>volume1-123</code>. On Windows the volume device name is in the format <code>asm-</code><code><span class="codeinlineitalic">volume_name</span></code><code>-</code><code><span class="codeinlineitalic">nnn</span></code>, such as <code>asm-volume1-123</code>. For information on mounting the volume device file, see <a href="asmfs_util001.htm#BABDHBEI">"Creating an Oracle ACFS File System"</a>.</p>
<p>On Linux platforms, the volume name must be less than or equal to eleven alphanumeric characters, starting with an alphabetic character. On AIX platforms, the volume name must be less than or equal to twenty three alphanumeric characters, starting with an alphabetic character. On Windows and Solaris platforms, the volume name must be less than or equal to thirty alphanumeric characters, starting with an alphabetic character.</p>
<p>You can determine the volume device name with the <code>volinfo</code> command, described in <a href="#CIHIEJCH">"volinfo"</a>.</p>
<p>If the <code>--column</code> option is set to <code>1</code>, then striping is disabled and the stripe width is equal to the volume extent size. The volume extent size is 8 MB if the disk group allocation unit (AU) is less than or equal to 8 MB. If the AU size is greater than 8 MB, then the Oracle ADVM volume extent size is equivalent to the disk group AU size.</p>
<p>A successful volume creation automatically enables the volume device.</p>
<p>The volume device file functions as any other disk or logical volume to mount file systems or for applications to use directly.</p>
<p>For information about redundancy settings, see <a href="asmdiskgrps.htm#BABBEJAF">"Mirroring, Redundancy, and Failure Group Options"</a>. For information about hot and cold disk regions, see <a href="asmdiskgrps.htm#CHDICBEB">"Intelligent Data Placement"</a>.</p>
<p>Before creating an Oracle ADVM volume on AIX, ensure that the necessary user authorizations have been created. For information, refer to <a href="asmfs_util004.htm#BABJGGGD">"Oracle ACFS Command-line Tools for the AIX Environment"</a>.</p>
<p class="subhead2"><a id="OSTMG94743"></a>Examples</p>
<p>The following is an example of the <code>volcreate</code> command that creates <code>volume1</code> in the <code>data</code> disk group with the size set to 10 gigabytes.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94744"></a><a id="sthref1111"></a>Example 12-68 Using the ASMCMD volcreate command</p>
<pre>
ASMCMD [+] &gt;  volcreate -G data -s 10G --width 64K --column 8 volume1

ASMCMD [+] &gt; volinfo -G data volume1
Diskgroup Name: DATA
 
         Volume Name: VOLUME1
         Volume Device: /dev/asm/volume1-123
         State: ENABLED
         Size (MB): 10240
         Resize Unit (MB): 64
         Redundancy: MIRROR
         Stripe Columns: 8
         Stripe Width (K): 64
         Usage: 
         Mountpath: 
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHDHHJB"></a><a id="OSTMG94745"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1112"></a><a id="sthref1113"></a>voldelete</h2>
<p class="subhead2"><a id="OSTMG94746"></a>Purpose</p>
<p>Deletes an Oracle ADVM volume.</p>
<p class="subhead2"><a id="OSTMG94747"></a>Syntax and Description</p>
<br />
<code>voldelete</code> <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code><span class="codeinlineitalic">volume</span></code><br />
<p><a href="#CIHCAFJE">Table 12-68</a> describes the options for the <code>voldelete</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94748"></a><a id="sthref1114"></a><a id="CIHCAFJE"></a>Table 12-68 Options for the voldelete command</p>
<table class="cellalignment1546" title="Options for the voldelete command" summary="This table lists the options for the volcreate command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t77">Option</th>
<th class="cellalignment1547" id="r1c2-t77">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t77" headers="r1c1-t77">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t77 r1c2-t77">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t77" headers="r1c1-t77">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t77 r1c2-t77">
<p>Name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>To successfully run this command, the local Oracle ASM instance must be running and the disk group required by this command must be mounted in the Oracle ASM instance. Before deleting a volume, you must ensure that there are no active file systems associated with the volume.</p>
<p class="subhead2"><a id="OSTMG94749"></a>Examples</p>
<p>The following is an example of the <code>voldelete</code> command that deletes <code>volume1</code> from the <code>data</code> disk group.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94750"></a><a id="sthref1115"></a>Example 12-69 Using the ASMCMD voldelete command</p>
<pre>
ASMCMD [+] &gt; voldelete -G data volume1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHFCEII"></a><a id="OSTMG94751"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1116"></a><a id="sthref1117"></a>voldisable</h2>
<p class="subhead2"><a id="OSTMG94752"></a>Purpose</p>
<p>Disables Oracle ADVM volumes in mounted disk groups and removes the volume device on the local node.</p>
<p class="subhead2"><a id="OSTMG94753"></a>Syntax and Description</p>
<br />
<code>voldisable</code> { <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code><span class="codeinlineitalic">volume</span></code> }<br />
<p><a href="#CIHBJDIF">Table 12-69</a> describes the options for the <code>voldisable</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94754"></a><a id="sthref1118"></a><a id="CIHBJDIF"></a>Table 12-69 Options for the voldisable command</p>
<table class="cellalignment1546" title="Options for the voldisable command" summary="This table lists the options for the volcreate command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t78">Option</th>
<th class="cellalignment1547" id="r1c2-t78">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t78" headers="r1c1-t78">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t78 r1c2-t78">
<p>When used without a disk group name, specifies all volumes within all disk groups.</p>
<p>When used with a disk group name (<code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code>), specifies all volumes within that disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t78" headers="r1c1-t78">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t78 r1c2-t78">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t78" headers="r1c1-t78">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t78 r1c2-t78">
<p>Name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>You can disable volumes before shutting down an Oracle ASM instance or dismounting a disk group to verify that the operations can be accomplished normally without including a force option due to open volume files. Disabling a volume also prevents any subsequent opens on the volume or device file because it no longer exists.</p>
<p>Before disabling a volume, you must ensure that there are no active file systems associated with the volume. You must first dismount the Oracle ACFS file system before disabling the volume. See <a href="asmfs_util001.htm#BABEHJAF">"Dismounting an Oracle ACFS File System"</a>.</p>
<p>You can delete a volume without first disabling the volume.</p>
<p class="subhead2"><a id="OSTMG94755"></a>Examples</p>
<p>The following is an example of the <code>voldisable</code> command that disables <code>volume1</code> in the <code>data</code> disk group.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94756"></a><a id="sthref1119"></a>Example 12-70 Using the ASMCMD voldisable command</p>
<pre>
ASMCMD [+] &gt; voldisable -G data volume1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHECJFA"></a><a id="OSTMG94757"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1120"></a><a id="sthref1121"></a>volenable</h2>
<p class="subhead2"><a id="OSTMG94758"></a>Purpose</p>
<p>Enables Oracle ADVM volumes in mounted disk groups.</p>
<p class="subhead2"><a id="OSTMG94759"></a>Syntax and Description</p>
<br />
<code>volenable</code> { <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code><span class="codeinlineitalic">volume</span></code> }<br />
<p><a href="#CIHECFCJ">Table 12-70</a> describes the options for the <code>volenable</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94760"></a><a id="sthref1122"></a><a id="CIHECFCJ"></a>Table 12-70 Options for the volenable command</p>
<table class="cellalignment1546" title="Options for the volenable command" summary="This table lists the options for the volcreate command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t79">Option</th>
<th class="cellalignment1547" id="r1c2-t79">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t79" headers="r1c1-t79">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t79 r1c2-t79">
<p>When used without a disk group name, specifies all volumes within all disk groups.</p>
<p>When used with a disk group name (<code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code>), specifies all volumes within that disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t79" headers="r1c1-t79">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t79 r1c2-t79">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t79" headers="r1c1-t79">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t79 r1c2-t79">
<p>Name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>A volume is enabled when it is created.</p>
<p class="subhead2"><a id="OSTMG94761"></a>Examples</p>
<p>The following is an example of the <code>volenable</code> command that enables <code>volume1</code> in the <code>data</code> disk group.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94762"></a><a id="sthref1123"></a>Example 12-71 Using the ASMCMD volenable command</p>
<pre>
ASMCMD [+] &gt; volenable -G data volume1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHIEJCH"></a><a id="OSTMG94763"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1124"></a><a id="sthref1125"></a>volinfo</h2>
<p class="subhead2"><a id="OSTMG94764"></a>Purpose</p>
<p>Displays information about Oracle ADVM volumes.</p>
<p class="subhead2"><a id="OSTMG94765"></a>Syntax and Description</p>
<br />
<code>volinfo</code> { <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code> | <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code><span class="codeinlineitalic">volume</span></code> }<br />
<code>volinfo</code> {<code>--show_diskgroup</code> |<code>--show_volume</code>} <code><span class="codeinlineitalic">volumedevice</span></code><br />
<p><a href="#CIHHFEIH">Table 12-71</a> describes the options for the <code>volinfo</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94766"></a><a id="sthref1126"></a><a id="CIHHFEIH"></a>Table 12-71 Options for the volinfo command</p>
<table class="cellalignment1546" title="Options for the volinfo command" summary="This table lists the options for the volcreate command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t80">Option</th>
<th class="cellalignment1547" id="r1c2-t80">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t80" headers="r1c1-t80">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t80 r1c2-t80">
<p>When used without a disk group name, specifies all volumes within all disk groups.</p>
<p>When used with a disk group name (<code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-a</code>), specifies all volumes within that disk group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t80" headers="r1c1-t80">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t80 r1c2-t80">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t80" headers="r1c1-t80">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t80 r1c2-t80">
<p>Name of the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t80" headers="r1c1-t80">
<p><code>--show_diskgroup</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t80 r1c2-t80">
<p>Returns only the disk group name. A volume device name is required.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t80" headers="r1c1-t80">
<p><code>--show_volume</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t80 r1c2-t80">
<p>Returns only the volume name. A volume device name is required.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t80" headers="r1c1-t80">
<p><code><span class="codeinlineitalic">volumedevice</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t80 r1c2-t80">
<p>Name of the volume device.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p class="subhead2"><a id="OSTMG94767"></a>Examples</p>
<p>The first example displays information about the <code>volume1</code> volume in the <code>data</code> disk group. This example was produced in a Linux environment. The second example displays information about the <code>volume1</code> volume in the <code>data</code> disk group and was produced in a Windows environment.</p>
<p>The mount path field displays the last mount path for the volume.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94768"></a><a id="sthref1127"></a>Example 12-72 Using the ASMCMD volinfo command</p>
<pre>
ASMCMD [+] &gt; volinfo -G data volume1
Diskgroup Name: DATA
         Volume Name: VOLUME1
         Volume Device: /dev/asm/volume1-123
         State: ENABLED
         Size (MB): 10240
         Resize Unit (MB): 64
         Redundancy: MIRROR
         Stripe Columns: 8
         Stripe Width (K): 64
         Usage: ACFS
         Mountpath: /u01/app/acfsmounts/acfs1

ASMCMD [+] &gt; volinfo -G data -a
Diskgroup Name: DATA
         Volume Name: VOLUME1
         Volume Device: \\.\asm-volume1-311
         State: ENABLED
         Size (MB): 1024
         Resize Unit (MB): 32
         Redundancy: MIRROR
         Stripe Columns: 4
         Stripe Width (K): 128
         Usage: ACFS
         Mountpath: C:\oracle\acfsmounts\acfs1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHGDFCI"></a><a id="OSTMG94769"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1128"></a><a id="sthref1129"></a>volresize</h2>
<p class="subhead2"><a id="OSTMG94770"></a>Purpose</p>
<p>Resizes an Oracle ADVM volume.</p>
<p class="subhead2"><a id="OSTMG94771"></a>Syntax and Description</p>
<br />
<code>volresize</code> <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>-s</code> <code><span class="codeinlineitalic">size</span></code> <code>[</code> <code>-f</code> <code>]</code> <code><span class="codeinlineitalic">volume</span></code><br />
<p><a href="#CIHJIEHA">Table 12-72</a> describes the options for the <code>volresize</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94772"></a><a id="sthref1130"></a><a id="CIHJIEHA"></a>Table 12-72 Options for the volresize command</p>
<table class="cellalignment1546" title="Options for the volresize command" summary="This table lists the options for the volsize command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t81">Option</th>
<th class="cellalignment1547" id="r1c2-t81">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t81" headers="r1c1-t81">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t81 r1c2-t81">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t81" headers="r1c1-t81">
<p><code>-f</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t81 r1c2-t81">
<p>Forces the shrinking of a volume that is not an Oracle ACFS volume and suppresses any warning message.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t81" headers="r1c1-t81">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t81 r1c2-t81">
<p>Name of the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t81" headers="r1c1-t81">
<p><code>-s</code> <code><span class="codeinlineitalic">size</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t81 r1c2-t81">
<p>New size of the volume in units of <code>K</code>, <code>M</code>, <code>G</code>, or <code>T</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>If the volume is mounted on a non-Oracle ACFS file system, then dismount the file system first before resizing. If the new size is smaller than current, you are warned of possible data corruption. Unless the <code>-f</code> (force) option is specified, you are prompted whether to continue with the operation.</p>
<p>If there is an Oracle ACFS file system on the volume, then you cannot resize the volume with the <code>volresize</code> command. You must use the <code>acfsutil</code> <code>size</code> command, which also resizes the volume and file system. For information, see <a href="asmfs_util010.htm#CACBACBA">"acfsutil size"</a>.</p>
<p class="subhead2"><a id="OSTMG94773"></a>Examples</p>
<p>The following is an example of the <code>volresize</code> command that resizes <code>volume1</code> in the <code>data</code> disk group to 20 gigabytes.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94774"></a><a id="sthref1131"></a>Example 12-73 Using the ASMCMD volresize command</p>
<pre>
ASMCMD [+] &gt; volresize -G data -s 20G volume1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHHCDIJ"></a><a id="OSTMG94775"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1132"></a><a id="sthref1133"></a>volset</h2>
<p class="subhead2"><a id="OSTMG94776"></a>Purpose</p>
<p>Sets attributes of an Oracle ADVM volume in mounted disk groups.</p>
<p class="subhead2"><a id="OSTMG94777"></a>Syntax and Description</p>
<br />
<code>volset</code> <code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>[</code> <code>--usagestring</code> <code><span class="codeinlineitalic">string</span></code><code>]</code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> <code>[</code><code>--mountpath</code> <code><span class="codeinlineitalic">mount_path</span></code> <code>]</code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>--primary</code> {<code>hot</code>|<code>cold</code>}] [<code>--secondary</code> {<code>hot</code>|<code>cold</code>}] <code><span class="codeinlineitalic">volume</span></code><br />
<p><a href="#CIHHHEED">Table 12-73</a> describes the options for the <code>volset</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94778"></a><a id="sthref1134"></a><a id="CIHHHEED"></a>Table 12-73 Options for the volset command</p>
<table class="cellalignment1546" title="Options for the volset command" summary="This table lists the options for the volset command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t82">Option</th>
<th class="cellalignment1547" id="r1c2-t82">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t82" headers="r1c1-t82">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t82 r1c2-t82">
<p>Name of the disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t82" headers="r1c1-t82">
<p><code>--usagestring</code> <code><span class="codeinlineitalic">string</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t82 r1c2-t82">
<p>Optional usage string to tag a volume which can be up to 30 characters. This string is set to <code>ACFS</code> when the volume is attached to an Oracle ACFS file system and should not be changed.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t82" headers="r1c1-t82">
<p><code>--mountpath</code> <code><span class="codeinlineitalic">mount_path</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t82 r1c2-t82">
<p>Optional string to tag a volume with its mount path string which can be up to 1024 characters. This string is set when the file system is mounted and should not be changed.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t82" headers="r1c1-t82">
<p><code>--primary</code> {<code>hot|cold</code>}</p>
</td>
<td class="cellalignment1543" headers="r5c1-t82 r1c2-t82">
<p>Intelligent Data Placement specification for primary extents, either <code>hot</code> or <code>cold</code> region.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t82" headers="r1c1-t82">
<p><code>--secondary</code> {<code>hot|cold</code>}</p>
</td>
<td class="cellalignment1543" headers="r6c1-t82 r1c2-t82">
<p>Intelligent Data Placement specification for secondary extents, either <code>hot</code> or <code>cold</code> region.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t82" headers="r1c1-t82">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t82 r1c2-t82">
<p>Name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>When running the <code>mkfs</code> command to create a file system, the usage field is set to <code>ACFS</code> and <code>mountpath</code> field is reset to an empty string if it has been set. The <code>usage</code> field should remain at <code>ACFS</code>.</p>
<p>When running the <code>mount</code> command to mount a file system, the <code>mountpath</code> field is set to the mount path value to identify the mount point for the file system. After the value is set by the <code>mount</code> command, the <code>mountpath</code> field should not be updated.</p>
<p class="subhead2"><a id="OSTMG94779"></a>Examples</p>
<p>The following is an example of a <code>volset</code> command that sets the <code>usage</code> string for a volume that is not associated with a file system.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94780"></a><a id="sthref1135"></a>Example 12-74 Using the ASMCMD volset command</p>
<pre>
ASMCMD [+] &gt; volset -G data --usagestring 'no file system created' volume1
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHCJFHB"></a><a id="OSTMG94781"></a>
<div class="sect2">
<h2 class="sect2"><a id="sthref1136"></a><a id="sthref1137"></a>volstat</h2>
<p class="subhead2"><a id="OSTMG94782"></a>Purpose</p>
<p>Reports I/O statistics for Oracle ADVM volumes.</p>
<p class="subhead2"><a id="OSTMG94783"></a>Syntax and Description</p>
<br />
<code>volstat</code> [<code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code>] [<code><span class="codeinlineitalic">volume</span></code>]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><br />
<p><a href="#CIHCGJCG">Table 12-74</a> describes the options for the <code>volstat</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94784"></a><a id="sthref1138"></a><a id="CIHCGJCG"></a>Table 12-74 Options for the volstat command</p>
<table class="cellalignment1546" title="Options for the volstat command" summary="This table lists the options for the volstat command, along with a description for each" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t83">Option</th>
<th class="cellalignment1547" id="r1c2-t83">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t83" headers="r1c1-t83">
<p><code>-G</code> <code><span class="codeinlineitalic">diskgroup</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t83 r1c2-t83">
<p>Name of the mounted disk group containing the volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t83" headers="r1c1-t83">
<p><code><span class="codeinlineitalic">volume</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t83 r1c2-t83">
<p>Name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The following apply when using the <code>volstat</code> command.</p>
<ul>
<li>
<p>If the disk group is not specified and the volume name is specified, all mounted disk groups are searched for the specified volume name.</p>
</li>
<li>
<p>If the disk group name is specified and the volume name is omitted, all volumes are displayed for the named disk group.</p>
</li>
<li>
<p>If both the disk group name and the volume name are omitted, all volumes on all disk groups are displayed.</p>
</li>
</ul>
<p class="subhead2"><a id="OSTMG94785"></a>Examples</p>
<p>The following is an example of the <code>volstat</code> command that displays information about volumes in the <code>data</code> disk group.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94786"></a><a id="sthref1139"></a>Example 12-75 Using the ASMCMD volstat command</p>
<pre>
ASMCMD [+] &gt; volstat -G data
DISKGROUP NUMBER / NAME:  1 / DATA
---------------------------------------
  VOLUME_NAME
     READS           BYTES_READ      READ_TIME       READ_ERRS 
     WRITES          BYTES_WRITTEN   WRITE_TIME      WRITE_ERRS
  -------------------------------------------------------------
  VOLUME1
     10085           2290573312      22923           0
     1382            5309440         1482            0
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asm_util006.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfs_util.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
