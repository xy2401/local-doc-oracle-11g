<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Introduction to Oracle Automatic Storage Management</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:14Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="whatsnew.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmprepare.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/40</span> <!-- End Header --><a id="BABFACDE"></a><a id="OSTMG036"></a><a id="i1021337"></a>
<h1 class="chapter"><span class="secnum">1</span> Introduction to Oracle Automatic Storage Management</h1>
<p><a id="sthref7"></a><a id="sthref8"></a>This chapter describes Oracle Automatic Storage Management (Oracle ASM) concepts and provides an overview of Oracle ASM features. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABDEIJI">Overview of Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#i1021951">Understanding Oracle ASM Concepts</a></p>
</li>
<li>
<p><a href="#CJHDGAGD">Understanding Oracle ASM Disk Group Administration</a></p>
</li>
</ul>
<p>For a list of the terms that are used in the <span class="italic">Oracle Automatic Storage Management Administrator's Guide</span> and their definitions, refer to the <a href="ostmg_gloss.htm#g1004221">Glossary</a> in this guide.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Cloud Storage page on the Oracle Technology Network Web site at <code><a href="http://www.oracle.com/technetwork/database/cloud-storage/index.html">http://www.oracle.com/technetwork/database/cloud-storage/index.html</a></code> for more information about Oracle ASM</div>
<a id="BABDEIJI"></a><a id="OSTMG03601"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Oracle Automatic Storage Management</h2>
<p><a id="sthref9"></a><a id="sthref10"></a>Oracle ASM is a <a href="ostmg_gloss.htm#BABEJCAG"><span class="xrefglossterm">volume manager</span></a> and a <a href="ostmg_gloss.htm#CIHIAIFB"><span class="xrefglossterm">file system</span></a> for Oracle database files that supports single-instance Oracle Database and Oracle Real Application Clusters (Oracle RAC) configurations. Oracle ASM is Oracle's recommended storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.</p>
<p>Oracle ASM uses <a href="ostmg_gloss.htm#BABCCICI"><span class="xrefglossterm">disk group</span></a>s to store data files; an Oracle ASM disk group is a collection of disks that Oracle ASM manages as a unit. Within a disk group, Oracle ASM exposes a file system interface for Oracle database files. The content of files that are stored in a disk group is evenly distributed to eliminate hot spots and to provide uniform performance across the disks. The performance is comparable to the performance of raw devices.</p>
<p>You can add or remove disks from a disk group while a database continues to access files from the disk group. When you add or remove disks from a disk group, Oracle ASM automatically redistributes the file contents and eliminates the need for downtime when redistributing the content. For information about administering disk groups, see <a href="asmdiskgrps.htm#g1040709">Chapter 4, "Administering Oracle ASM Disk Groups"</a>.</p>
<p>The Oracle ASM volume manager functionality provides flexible server-based mirroring options. The Oracle ASM normal and high redundancy disk groups enable two-way and three-way mirroring respectively. You can use external redundancy to enable a Redundant Array of Independent Disks (RAID) storage subsystem to perform the mirroring protection function.</p>
<p>Oracle ASM also uses the Oracle Managed Files (OMF) feature to simplify database file management. OMF automatically creates files in designated locations. OMF also names files and removes them while relinquishing space when tablespaces or files are deleted.</p>
<p>Oracle ASM reduces the administrative overhead for managing database storage by consolidating data storage into a small number of disk groups. The smaller number of disk groups consolidates the storage for multiple databases and provides for improved I/O performance.</p>
<p>Oracle ASM files can coexist with other storage management options such as raw disks and third-party file systems. This capability simplifies the integration of Oracle ASM into pre-existing environments.</p>
<p>Oracle Automatic Storage Management Cluster File System (Oracle ACFS) is a multi-platform, scalable file system, and storage management technology that extends Oracle ASM functionality to support customer files maintained outside of Oracle Database. The Oracle ASM Dynamic Volume Manager (Oracle ADVM) provides volume management services and a standard disk device driver interface to clients. For information about Oracle ACFS and Oracle ADVM, see <a href="asmfilesystem.htm#CACCHAFH">Chapter 5, "Introduction to Oracle ACFS"</a>.</p>
<p>Oracle Enterprise Manager includes a wizard that enables you to migrate non-Oracle ASM database files to Oracle ASM. Oracle ASM also has easy to use management interfaces such as SQL*Plus, the Oracle ASM Command Line Utility (ASMCMD) command-line interface, Oracle ASM Configuration Assistant, and Oracle Enterprise Manager. For information about using Oracle Enterprise Manager, see <a href="asm_em.htm#CACHBFDE">Chapter 9, "Administering Oracle ASM with Oracle Enterprise Manager"</a>. For information about Oracle ASM Configuration Assistant, see <a href="asmca.htm#CHDEIHJA">Chapter 11, "Oracle ASM Configuration Assistant"</a>. For information about the ASMCMD command-line interface, see <a href="asm_util.htm#BJEGEAAJ">Chapter 12, "Oracle ASM Command-Line Utility"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN12595" href="../../server.112/e25494/part2.htm#ADMIN12595"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about Oracle Database structure and storage</div>
</div>
<!-- class="sect1" -->
<a id="i1021951"></a><a id="OSTMG03620"></a>
<div class="sect1">
<h2 class="sect1">Understanding Oracle ASM Concepts</h2>
<p><a id="sthref11"></a><a id="sthref12"></a>This section describes concepts for the key Oracle ASM components and it contains the following topics:</p>
<ul>
<li>
<p><a href="#BABFBADG">About Oracle ASM Instances</a></p>
</li>
<li>
<p><a href="#BABGDGAA">About Oracle ASM Disk Groups</a></p>
</li>
<li>
<p><a href="#BABHBHIE">About Mirroring and Failure Groups</a></p>
</li>
<li>
<p><a href="#BABBBBAB">About Oracle ASM Disks</a></p>
</li>
<li>
<p><a href="#BABCBAGC">About Oracle ASM Files</a></p>
</li>
</ul>
<p>For information about preparing your storage environment, see <a href="asmprepare.htm#BABJBGEE">Chapter 2, "Considerations for Oracle ASM Storage"</a>.</p>
<a id="BABFBADG"></a><a id="OSTMG94053"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Oracle ASM Instances</h3>
<p><a id="sthref13"></a><a id="sthref14"></a>An Oracle ASM instance is built on the same technology as an Oracle Database instance. An Oracle ASM instance has a System Global Area (SGA) and background processes that are similar to those of Oracle Database. However, because Oracle ASM performs fewer tasks than a database, an Oracle ASM SGA is much smaller than a database SGA. In addition, Oracle ASM has a minimal performance effect on a server. Oracle ASM instances mount disk groups to make Oracle ASM files available to database instances; Oracle ASM instances do not mount databases. For information about managing an Oracle ASM instance, see <a href="asminst.htm#CHDGDJDF">Chapter 3, "Administering Oracle ASM Instances"</a>.</p>
<p>Oracle ASM is installed in the Oracle Grid Infrastructure home before Oracle Database is installed in a separate Oracle home. Oracle ASM and database instances require shared access to the disks in a disk group. Oracle ASM instances manage the metadata of the disk group and provide file layout information to the database instances.</p>
<p>Oracle ASM metadata is the information that Oracle ASM uses to control a disk group and the metadata resides within the disk group. Oracle ASM metadata includes the following information:</p>
<ul>
<li>
<p>The disks that belong to a disk group</p>
</li>
<li>
<p>The amount of space that is available in a disk group</p>
</li>
<li>
<p>The filenames of the files in a disk group</p>
</li>
<li>
<p>The location of disk group data file <a href="ostmg_gloss.htm#BABFCABI"><span class="xrefglossterm">extent</span></a>s</p>
</li>
<li>
<p>A redo log that records information about atomically changing metadata blocks</p>
</li>
<li>
<p>Oracle ADVM volume information</p>
</li>
</ul>
<p>Oracle ASM instances can be clustered using Oracle Clusterware; there is one Oracle ASM instance for each cluster node. If there are several database instances for different databases on the same node, then the database instances share the same single Oracle ASM instance on that node.</p>
<p>If the Oracle ASM instance on a node fails, then all of the database instances on that node also fail. Unlike a file system driver failure, an Oracle ASM instance failure does not require restarting the operating system. In an Oracle RAC environment, the Oracle ASM and database instances on the surviving nodes automatically recover from an Oracle ASM instance failure on a node.</p>
<p><a href="#BABFDDIE">Figure 1-1</a> shows a single node configuration with one Oracle ASM instance and multiple database instances. The Oracle ASM instance manages the metadata and provides space allocation for the Oracle ASM files. When a database instance creates or opens an Oracle ASM file, it communicates those requests to the Oracle ASM instance. In response, the Oracle ASM instance provides file extent map information to the database instance.</p>
<p>In <a href="#BABFDDIE">Figure 1-1</a>, there are two disk groups: one disk group has four disks and the other has two disks. The database can access both disk groups. The configuration in <a href="#BABFDDIE">Figure 1-1</a> shows multiple database instances, but only one Oracle ASM instance is needed to serve the multiple database instances.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABFDDIE"></a><a id="OSTMG94054"></a>Figure 1-1 Oracle ASM for Single-Instance Oracle Databases</p>
<img width="585" height="351" src="img/ostmg003.gif" alt="Description of Figure 1-1 follows" /><br />
<a id="sthref15" href="img_text/ostmg003.htm">Description of "Figure 1-1 Oracle ASM for Single-Instance Oracle Databases "</a><br />
<br /></div>
<!-- class="figure" -->
<p><a href="#BABFCDBE">Figure 1-2</a> shows an Oracle ASM cluster in an Oracle RAC environment where Oracle ASM provides a clustered pool of storage. There is one Oracle ASM instance for each node serving multiple Oracle RAC or single-instance databases in the cluster. All of the databases are consolidated and share the same two Oracle ASM disk groups.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABFCDBE"></a><a id="OSTMG94055"></a>Figure 1-2 Oracle ASM Cluster Configuration with Oracle RAC</p>
<img width="585" height="354" src="img/ostmg001.gif" alt="Description of Figure 1-2 follows" /><br />
<a id="sthref16" href="img_text/ostmg001.htm">Description of "Figure 1-2 Oracle ASM Cluster Configuration with Oracle RAC"</a><br />
<br /></div>
<!-- class="figure" -->
<p>A clustered storage pool can be shared by multiple single-instance Oracle Databases as shown in <a href="#BABHAGGD">Figure 1-3</a>. In this case, multiple databases share common disk groups. A shared Oracle ASM storage pool is achieved by using Oracle Clusterware. However, in such environments an Oracle RAC license is not required.</p>
<p>To share a disk group among multiple nodes, you must install Oracle Clusterware on all of the nodes, regardless of whether you install Oracle RAC on the nodes. Oracle ASM instances that are on separate nodes do not need to be part of an Oracle ASM cluster. However, if the Oracle ASM instances are not part of an Oracle ASM cluster, they cannot communicate with each other. Multiple nodes that are not part of an Oracle ASM cluster cannot share a disk group.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABHAGGD"></a><a id="OSTMG94056"></a>Figure 1-3 Oracle ASM Cluster with Single-Instance Oracle Databases</p>
<img width="585" height="354" src="img/ostmg002.gif" alt="Description of Figure 1-3 follows" /><br />
<a id="sthref17" href="img_text/ostmg002.htm">Description of "Figure 1-3 Oracle ASM Cluster with Single-Instance Oracle Databases"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<a id="BABGDGAA"></a><a id="OSTMG94057"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Oracle ASM Disk Groups</h3>
<p><a id="sthref18"></a><a id="sthref19"></a>A disk group consists of multiple disks and is the fundamental object that Oracle ASM manages. Each disk group contains the metadata that is required for the management of space in the disk group. Disk group components include disks, files, and allocation units.</p>
<p>Files are allocated from disk groups. Any Oracle ASM file is completely contained within a single disk group. However, a disk group might contain files belonging to several databases and a single database can use files from multiple disk groups. For most installations you need only a small number of disk groups, usually two, and rarely more than three. For more information about managing disk groups, see <a href="asmdiskgrps.htm#g1040709">Chapter 4, "Administering Oracle ASM Disk Groups"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABHBHIE"></a><a id="OSTMG94058"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Mirroring and Failure Groups</h3>
<p><a id="sthref20"></a><a id="sthref21"></a><a id="sthref22"></a><a id="sthref23"></a>Mirroring protects data integrity by storing copies of data on multiple disks. When you create a disk group, you specify an Oracle ASM disk group type based on one of the following three redundancy levels:</p>
<ul>
<li>
<p><span class="bold">Normal</span> for 2-way mirroring</p>
</li>
<li>
<p><span class="bold">High</span> for 3-way mirroring</p>
</li>
<li>
<p><span class="bold">External</span> to not use Oracle ASM mirroring, such as when you configure hardware RAID for redundancy</p>
</li>
</ul>
<p>The redundancy level controls how many disk failures are tolerated without dismounting the disk group or losing data. The disk group type determines the mirroring levels with which Oracle creates files in a disk group. For information about disk group types and templates, see <a href="asmfiles.htm#i1019485">"Managing Disk Group Templates"</a>.</p>
<p>Oracle ASM mirroring is more flexible than traditional RAID mirroring. For a disk group specified as <code>NORMAL</code> redundancy, you can specify the redundancy level for each file. For example, two files can share the same disk group with one file being mirrored while the other is not.</p>
<p>When Oracle ASM allocates an extent for a mirrored file, Oracle ASM allocates a primary copy and a mirror copy. Oracle ASM chooses the disk on which to store the mirror copy in a different failure group than the primary copy. Failure groups are used to place mirrored copies of data so that each copy is on a disk in a different failure group. The simultaneous failure of all disks in a failure group does not result in data loss.</p>
<p>You define the failure groups for a disk group when you create an Oracle ASM disk group. After a disk group is created, you cannot alter the redundancy level of the disk group. If you omit the failure group specification, then Oracle ASM automatically places each disk into its own failure group, except for disk groups containing disks on Oracle Exadata cells. Normal redundancy disk groups require at least two failure groups. High redundancy disk groups require at least three failure groups. Disk groups with external redundancy do not use failure groups.</p>
<p>For more information about mirroring and failure groups, see <a href="asmdiskgrps.htm#BABBEJAF">"Mirroring, Redundancy, and Failure Group Options"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABBBBAB"></a><a id="OSTMG94059"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Oracle ASM Disks</h3>
<p><a id="sthref24"></a><a id="sthref25"></a>Oracle ASM disks are the storage devices that are provisioned to Oracle ASM disk groups. Examples of Oracle ASM disks include:</p>
<ul>
<li>
<p>A disk or partition from a storage array</p>
</li>
<li>
<p>An entire disk or the partitions of a disk</p>
</li>
<li>
<p>Logical volumes</p>
</li>
<li>
<p>Network-attached files (NFS)</p>
</li>
</ul>
<p>When you add a disk to a disk group, you can assign an Oracle ASM disk name or Oracle ASM assigns the Oracle ASM disk name automatically. This name is different from the path name used by the operating system. In a cluster, a disk may be assigned different operating system device names on different nodes, but the disk has the same Oracle ASM disk name on all of the nodes. In a cluster, an Oracle ASM disk must be accessible from all of the instances that share the disk group.</p>
<p>Oracle ASM spreads the files proportionally across all of the disks in the disk group. This allocation pattern maintains every disk at the same capacity level and ensures that all of the disks in a disk group have the same I/O load. Because Oracle ASM load balances among all of the disks in a disk group, different Oracle ASM disks should not share the same physical drive.</p>
<a id="BABCIIAA"></a><a id="OSTMG94060"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Allocation Units</h4>
<p>Every Oracle ASM disk is divided into allocation units (AU). An allocation unit is the fundamental unit of allocation within a disk group. A file extent consists of one or more allocation units. An Oracle ASM file consists of one or more file extents.</p>
<p><a id="sthref26"></a><a id="sthref27"></a><a id="sthref28"></a><a id="sthref29"></a>When you create a disk group, you can set the Oracle ASM allocation unit size with the <a id="sthref30"></a><code>AU_SIZE</code> disk group attribute. The values can be 1, 2, 4, 8, 16, 32, or 64 MB, depending on the specific disk group compatibility level. Larger AU sizes typically provide performance advantages for data warehouse applications that use large sequential reads.</p>
<p>For information about specifying the allocation unit size for a disk group, see <a href="asmdiskgrps.htm#CHDHIDEH">"Specifying the Allocation Unit Size"</a>. For information about disk group compatibility attributes, see <a href="asmdiskgrps.htm#CHDDIGBJ">"Disk Group Compatibility"</a>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABCBAGC"></a><a id="OSTMG94061"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Oracle ASM Files</h3>
<p><a id="sthref31"></a><a id="sthref32"></a>Files that are stored in Oracle ASM disk groups are called Oracle ASM files. Each Oracle ASM file is contained within a single Oracle ASM disk group. Oracle Database communicates with Oracle ASM in terms of files. This is similar to the way Oracle Database uses files on any file system. You can store the various file types in Oracle ASM disk groups, including:</p>
<ul>
<li>
<p>Control files</p>
</li>
<li>
<p>Data files, temporary data files, and data file copies</p>
</li>
<li>
<p>SPFILEs</p>
</li>
<li>
<p>Online redo logs, archive logs, and Flashback logs</p>
</li>
<li>
<p>RMAN backups</p>
</li>
<li>
<p>Disaster recovery configurations</p>
</li>
<li>
<p>Change tracking bitmaps</p>
</li>
<li>
<p>Data Pump dumpsets</p>
</li>
</ul>
<p>Oracle ASM automatically generates Oracle ASM file names as part of file creation and tablespace creation. Oracle ASM file names begin with a plus sign (<code>+</code>) followed by a disk group name. You can specify user-friendly aliases for Oracle ASM files and create a hierarchical directory structure for the aliases.</p>
<p>The following sections describe the Oracle ASM file components:</p>
<ul>
<li>
<p><a href="#BABCGDBF">Extents</a></p>
</li>
<li>
<p><a href="#CJHCFBBI">Oracle ASM Striping</a></p>
</li>
<li>
<p><a href="#BABDFJHC">File Templates</a></p>
</li>
</ul>
<a id="BABCGDBF"></a><a id="OSTMG94062"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Extents</h4>
<p><a id="sthref33"></a><a id="sthref34"></a><a id="sthref35"></a><a id="sthref36"></a>The contents of Oracle ASM files are stored in a disk group as a set, or collection, of <a href="ostmg_gloss.htm#BABFCABI"><span class="xrefglossterm">extent</span></a>s that are stored on individual disks within disk groups. Each extent resides on an individual disk. Extents consist of one or more allocation units (AU). To accommodate increasingly larger files, Oracle ASM uses variable size extents.</p>
<p>Variable size extents enable support for larger Oracle ASM data files, reduce SGA memory requirements for very large databases, and improve performance for file create and open operations. The initial extent size equals the disk group allocation unit size and it increases by a factor of 4 or 16 at predefined thresholds. This feature is automatic for newly created and resized data files when specific disk group compatibility attributes are set to 11.1 or higher. For information about compatibility attributes, see <a href="asmdiskgrps.htm#CHDDIGBJ">"Disk Group Compatibility"</a>.</p>
<p>The extent size of a file varies as follows:</p>
<ul>
<li>
<p>Extent size always equals the disk group AU size for the first 20000 extent sets (0 - 19999).</p>
</li>
<li>
<p>Extent size equals 4*AU size for the next 20000 extent sets (20000 - 39999).</p>
</li>
<li>
<p>Extent size equals 16*AU size for the next 20000 and higher extent sets (40000+).</p>
</li>
</ul>
<p><a href="#BABHCCDB">Figure 1-4</a> shows the Oracle ASM file extent relationship with allocation units. The first eight extents (0 to 7) are distributed on four Oracle ASM disks and are equal to the AU size. After the first 20000 extent sets, the extent size becomes 4*AU for the next 20000 extent sets (20000 - 39999). This is shown as bold rectangles labeled with the extent set numbers 20000 to 20007, and so on. The next increment for an Oracle ASM extent is 16*AU (not shown in <a href="#BABHCCDB">Figure 1-4</a>).</p>
<div class="figure">
<p class="titleinfigure"><a id="BABHCCDB"></a><a id="OSTMG94063"></a>Figure 1-4 Oracle ASM File Allocation in a Disk Group</p>
<img width="656" height="339" src="img/ostmg007.gif" alt="Description of Figure 1-4 follows" /><br />
<a id="sthref37" href="img_text/ostmg007.htm">Description of "Figure 1-4 Oracle ASM File Allocation in a Disk Group"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect3" -->
<a id="CJHCFBBI"></a><a id="OSTMG94064"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Oracle ASM Striping</h4>
<p><a id="sthref38"></a><a id="sthref39"></a><a id="sthref40"></a>Oracle ASM striping has two primary purposes:</p>
<ul>
<li>
<p>To balance loads across all of the disks in a disk group</p>
</li>
<li>
<p>To reduce I/O latency</p>
</li>
</ul>
<p>Coarse-grained striping provides load balancing for disk groups while fine-grained striping reduces latency for certain file types by spreading the load more widely.</p>
<p>To stripe data, Oracle ASM separates files into stripes and spreads data evenly across all of the disks in a disk group. The fine-grained stripe size always equals 128 KB in any configuration; this provides lower I/O latency for small I/O operations. The coarse-grained stripe size is always equal to the AU size (not the data extent size).</p>
<p><a href="#BABJFCCF">Figure 1-5</a> and <a href="#BABDFCBI">Figure 1-6</a> are illustrations of Oracle ASM file striping. In both illustrations, the allocation unit size has been set to 1 M (<code>AU_SIZE</code> = <code>1M</code>) for the disk group which consists of 8 disks. The Oracle ASM instance is release 11.2 and the disk group compatibility attributes for ASM and RDBMS have been set to 11.2, so variable extents are shown in the graphic after the first 20,000 extents. For the first 20,000 extents, the extent size is 1 M and equals one allocation unit (AU). For the next 20,000 extents, the extent size is 4 M and equals 4 AUs.</p>
<p>To identify the stripe chunks of the file, they have been labeled A..X (24 letters) using different fonts for successive series of A..X until all the chunks have been identified.</p>
<p>In <a href="#BABJFCCF">Figure 1-5</a>, the file is striped in 128 K chunks (labeled A..X) with each 128 K chunk stored in an extent, starting at the first extent in disk 1, then the first extent in disk 2, and then continuing in a round-robin pattern through all the disks until the entire file has been striped. As shown in this example, the striping chunks first fill up the first extent of each disk, then the second extent of each disk, and so on until the entire file has been striped.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABJFCCF"></a><a id="OSTMG94065"></a>Figure 1-5 Oracle ASM Fine-Grained Striping</p>
<img width="651" height="305" src="img/ostmg010.gif" alt="Description of Figure 1-5 follows" /><br />
<a id="sthref41" href="img_text/ostmg010.htm">Description of "Figure 1-5 Oracle ASM Fine-Grained Striping"</a><br />
<br /></div>
<!-- class="figure" -->
<p>In <a href="#BABDFCBI">Figure 1-6</a>, the file is striped in 1 M chunks (labeled A..X) with each 1 M chunk stored uniquely in an extent, starting at the first extent in disk 1, then the first extent in disk 2, and then continuing in a round-robin pattern through all the disks until the entire file has been striped. For the first 20,000 extents where the AU equals the extent size (1 M), the stripe equals the extent size and allocation unit size.For the variable extents, where an extent is composed of multiple allocation units, the file stripe is located in an AU of the extent. The striping chunks are placed in the allocation units of the first extents of all the disks before the striping continues to the next extent.</p>
<div class="figure">
<p class="titleinfigure"><a id="BABDFCBI"></a><a id="OSTMG94066"></a>Figure 1-6 Oracle ASM Coarse-Grained Striping</p>
<img width="651" height="305" src="img/ostmg009.gif" alt="Description of Figure 1-6 follows" /><br />
<a id="sthref42" href="img_text/ostmg009.htm">Description of "Figure 1-6 Oracle ASM Coarse-Grained Striping"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect3" -->
<a id="BABDFJHC"></a><a id="OSTMG94067"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">File Templates</h4>
<p><a id="sthref43"></a><a id="sthref44"></a><a id="sthref45"></a><a id="sthref46"></a>Templates are collections of attribute values that are used to specify disk regions, file mirroring, and <a href="ostmg_gloss.htm#BABFIEGH"><span class="xrefglossterm">striping</span></a> attributes for an Oracle ASM file when it is created. When creating a file, you can include a template name and assign desired attributes based on an individual file rather than the file type.</p>
<p>A default template is provided for every Oracle file type, but you can customize templates to meet unique requirements. Each disk group has a default template associated with each file type.</p>
<p>For more information about Oracle ASM templates, see <a href="asmfiles.htm#i1019485">"Managing Disk Group Templates"</a>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CJHDGAGD"></a><a id="OSTMG94068"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Understanding Oracle ASM Disk Group Administration</h2>
<p>This section describes Oracle ASM disk group administration and it contains the following topics:</p>
<ul>
<li>
<p><a href="#CJHFDEEJ">About Discovering Disks</a></p>
</li>
<li>
<p><a href="#CJHEFJJG">About Mounting and Dismounting Disk Groups</a></p>
</li>
<li>
<p><a href="#CJHCBGHF">About Adding and Dropping Disks</a></p>
</li>
<li>
<p><a href="#CJHGGECE">About Online Storage Reconfigurations and Dynamic Rebalancing</a></p>
</li>
</ul>
<a id="CJHFDEEJ"></a><a id="OSTMG94069"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Discovering Disks</h3>
<p><a id="sthref47"></a><a id="sthref48"></a><a id="sthref49"></a>The disk discovery process locates the operating system names for disks that Oracle ASM can access. Disk discovery finds all of the disks that comprise a disk group to be mounted. The set of discovered disks also includes disks that could be added to a disk group.</p>
<p><a id="sthref50"></a><a id="sthref51"></a>An Oracle ASM instance requires an <code>ASM_DISKSTRING</code> initialization parameter value to specify its discovery strings. Only path names that the Oracle ASM instance has permission to open are discovered. The exact syntax of a discovery string depends on the platform, ASMLib libraries, and whether Oracle Exadata disks are used. The path names that an operating system accepts are always usable as discovery strings.</p>
<p>For information about the <code>ASM_DISKSTRING</code> initialization parameter, see <a href="asminst.htm#BHCEHJGA">"ASM_DISKSTRING"</a>. For information about disk discovery, see <a href="asmdiskgrps.htm#CHDHDDBE">"Oracle ASM Disk Discovery"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CJHEFJJG"></a><a id="OSTMG94070"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Mounting and Dismounting Disk Groups</h3>
<p><a id="sthref52"></a><a id="sthref53"></a><a id="sthref54"></a><a id="sthref55"></a>A disk group must be mounted by a local Oracle ASM instance before database instances can access the files in the disk group. Mounting the disk group requires discovering all of the disks and locating the files in the disk group that is being mounted.</p>
<p>You can explicitly dismount a disk group. Oracle reports an error if you attempt to dismount a disk group without the force option when any of the disk group files are open. It is possible to have disks fail in excess of the Oracle ASM redundancy setting. If this happens, then the disk group is forcibly dismounted. If the disk group is forcibly dismounted, a database cannot access files in the disk group.</p>
<p>For more information about disk groups, see <a href="asmdiskgrps.htm#i1019481">"Mounting and Dismounting Disk Groups"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CJHCBGHF"></a><a id="OSTMG94071"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Adding and Dropping Disks</h3>
<p><a id="sthref56"></a><a id="sthref57"></a><a id="sthref58"></a><a id="sthref59"></a>You can add a disk to an existing disk group to add space and to improve throughput. The specified discovery string identifies the disk or disks that you could add. The disks that you add must be discovered by every Oracle ASM instance using its <code>ASM_DISKSTRING</code> initialization parameter. After you add a disk, Oracle ASM rebalancing operations move data onto the new disk. To minimize the rebalancing I/O, it is more efficient to add multiple disks at the same time.</p>
<p>You can drop a disk from a disk group if it fails or to re-purpose capacity. Use the Oracle ASM disk name to drop a disk, not the discovery string device name. If an error occurs while writing to a disk, then Oracle ASM drops the disk automatically.</p>
<p>For more information about altering disk group membership, see <a href="asmdiskgrps.htm#i1019476">"Altering Disk Groups"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CJHGGECE"></a><a id="OSTMG94072"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Online Storage Reconfigurations and Dynamic Rebalancing</h3>
<p><a id="sthref60"></a><a id="sthref61"></a>Rebalancing a disk group moves data between disks to ensure that every file is evenly spread across all of the disks in a disk group. When all of the files are evenly dispersed, all of the disks are evenly filled to the same percentage; this ensures load balancing. Rebalancing does not relocate data based on I/O statistics nor is rebalancing started based on I/O statistics. Oracle ASM rebalancing operations are controlled by the size of the disks in a disk group.</p>
<p>Oracle ASM automatically initiates a rebalance after storage configuration changes, such as when you add, drop, or resize disks. The power setting parameter determines the speed with which rebalancing operations occur.</p>
<p>You can manually start a rebalance to change the power setting of a running rebalance. A rebalance is automatically restarted if the instance on which the rebalancing is running stops. Databases can remain operational during rebalancing operations.</p>
<p>You can minimize the impact on database performance with the setting of the <code>POWER_LIMIT</code> initialization parameter. For more information about the power limit setting, see <a href="asminst.htm#BHCDHJFA">"ASM_POWER_LIMIT"</a>. For more information about disk rebalancing, see <a href="asmdiskgrps.htm#BABCCEAB">"Manually Rebalancing Disk Groups"</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="whatsnew.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmprepare.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
