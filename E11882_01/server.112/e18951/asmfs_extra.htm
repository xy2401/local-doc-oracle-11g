<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Advanced Topics</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:23Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmbysql.htm" title="Previous" type="text/html" />
<link rel="Next" href="ostmg_gloss.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">38/40</span> <!-- End Header --><a id="OSTMG35000"></a><a id="sthref1530"></a>
<h1 class="appendix"><span class="secnum">B</span> Oracle ACFS Advanced Topics</h1>
<p>This appendix discusses limits, advanced administration, and troubleshooting for Oracle Automatic Storage Management Cluster File System (Oracle ACFS).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Articles available at My Oracle Support (<code><a href="https://support.oracle.com">https://support.oracle.com</a></code>) for information about Oracle ACFS and Oracle ADVM.</div>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#CACBCHJI">Limits of Oracle ACFS</a></p>
</li>
<li>
<p><a href="#CHDGDDGA">Limits of Oracle ADVM</a></p>
</li>
<li>
<p><a href="#CACECCDH">Oracle ACFS Drivers Resource Management</a></p>
</li>
<li>
<p><a href="#CACEDAJG">Oracle ACFS Registry Resource Management</a></p>
</li>
<li>
<p><a href="#CACDDIBD">Oracle ACFS Individual File System Resource Management</a></p>
</li>
<li>
<p><a href="#CACBDGCC">Oracle ACFS and Oracle Restart</a></p>
</li>
<li>
<p><a href="#CACDGHGC">Understanding Oracle ACFS I/O Failure Console Messages</a></p>
</li>
</ul>
<p>For information about Oracle ACFS, see <a href="asmfilesystem.htm#CACCHAFH">Chapter 5, "Introduction to Oracle ACFS"</a>.</p>
<a id="CACBCHJI"></a><a id="OSTMG35100"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Limits of Oracle ACFS</h2>
<p><a id="sthref1531"></a><a id="sthref1532"></a>The limits of Oracle ACFS are discussed in this section.</p>
<p>The topics contained in this section are:</p>
<ul>
<li>
<p><a href="#CHDJDIFI">Oracle ACFS Disk Space Usage</a></p>
</li>
<li>
<p><a href="#CHDIABGC">Oracle ACFS Error Handling</a></p>
</li>
<li>
<p><a href="#CHDCBHFI">Oracle ACFS and NFS</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle ACFS does not support hard links on directories.</div>
<a id="CHDJDIFI"></a><a id="OSTMG95284"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle ACFS Disk Space Usage</h3>
<p><a id="sthref1533"></a><a id="sthref1534"></a>Oracle ACFS supports 2^40 (1 trillion) files in a file system. More than 4 billion files have been tested. 32-bit Linux systems are limited to 2^26 (67 million) files. Oracle ACFS supports 63 snapshots. These snapshots can be any combination of read-only and read-write. Oracle ACFS supports 64 mounted file systems on 32-bit systems, and 256 mounts on 64-bit systems. However, more file systems can be mounted if there is adequate memory.</p>
<p>Oracle ACFS preallocates large user files to improve performance when writing data. This storage is not returned when the file is closed, but it is returned when the file is deleted. Oracle ACFS also allocates local metadata files as nodes mount the file system for the first time. This can result in a mount failing due to an out of space error, and much of this storage must be contiguous. This storage is approximately 64-128 megabytes per node.</p>
<p>Oracle ACFS also keeps local bitmaps available to reduce contention on the global storage bitmap when searching for free space. This disk space is reported as <code>in</code> <code>use</code> by tools such as the UNIX <code>df</code> command even though some of it may not actually be allocated as of yet. This local storage pool can be as large as 128 megabytes per node and can allow space allocations to succeed, even though commands, such as <code>df</code>, report less space available than what is being allocated.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIABGC"></a><a id="OSTMG95285"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle ACFS Error Handling</h3>
<p><a id="sthref1535"></a><a id="sthref1536"></a>Oracle ASM instance failure or forced shutdown while Oracle ACFS or another file system is using an Oracle ADVM volume results in I/O failures. The volumes must be closed and re-opened to access the volume again. This requires dismounting any file systems that were mounted when the local Oracle ASM instance failed. After the instance is restarted, the corresponding disk group must be mounted with the volume enabled followed by a remount of the file system. See <a href="asmfs_util001.htm#BABCJBBI">"Deregistering, Dismounting, and Disabling Volumes and Oracle ACFS File Systems"</a>.</p>
<p>If any file systems are currently mounted on Oracle ADVM volume files, the <code>SHUTDOWN</code> <code>ABORT</code> command should not be used to terminate the Oracle ASM instance without first dismounting those file systems. Otherwise, applications encounter I/O errors and Oracle ACFS user data and metadata being written at the time of the termination may not be flushed to storage before the Oracle ASM storage is fenced. If there is not time to permit the file system to dismount, then you should run two <code>sync</code> (1) commands to flush cached file system data and metadata to persistent storage before issuing the <code>SHUTDOWN</code> <code>ABORT</code> operation.</p>
<p>Oracle ACFS does not interrupt the operating system environment when a metadata write fails, whether due to Oracle ASM instance failure or storage failure. Instead, Oracle ACFS isolates errors to an individual file system, putting it in an offline error state. The only operation that succeeds on that node for that file system from that point forward is a dismount operation. Another node recovers any outstanding metadata transactions, assuming it can write the metadata out to the storage. It is possible to remount the file system on the offlined node after the I/O condition is resolved.</p>
<p>It might not be possible for an administrator to dismount a file system while it is in the offline error state if there are processes referencing the file system, such as a directory of the file system being the current working directory for a process. To dismount the file system in this case it would be necessary to identify all processes on that node with references to files and directories on the file system and cause them to exit. The Linux <code>fuser</code> or <code>lsof</code> commands or Window <code>handle</code> command list information about processes and open files.</p>
<p>If Oracle ACFS detects inconsistent file metadata returned from a read operation, based on checksum or expected type comparisons, Oracle ACFS takes the appropriate action to isolate the affected file system components and generate a notification that <code>fsck</code> or <code>acfschkdsk</code> should be run as soon as possible. Each time the file system is mounted a notification is generated with a system event logger message until <code>fsck</code> or <code>acfschkdsk</code> is run.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCBHFI"></a><a id="OSTMG95286"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle ACFS and NFS</h3>
<p><a id="sthref1537"></a><a id="sthref1538"></a>When exporting file systems through NFS on Linux, use the <code>-fsid=num</code> exports option. This option forces the file system identification portion of the file handle used to communicate with NFS clients to be the specified number instead of a number derived from the major and minor number of the block device on which the file system is mounted. You can use any 32-bit number for <code>num</code>, but it must be unique among all the exported file systems. In addition, <code>num</code> must be unique among members of the cluster and must be the same <code>num</code> on each member of the cluster for a given file system. This is needed because Oracle ASM DVM block device major numbers are not guaranteed to be the same across reboots of the same node or across different nodes in the cluster.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDGDDGA"></a><a id="OSTMG35200"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Limits of Oracle ADVM</h2>
<p><a id="sthref1539"></a><a id="sthref1540"></a>The limits of Oracle ADVM and these discussed in this section.</p>
<p>The <a id="sthref1541"></a><a id="sthref1542"></a>default configuration for an Oracle ADVM volume is four columns of 64 megabytes (MB) extents in length and a 128 KB stripe width. Oracle ADVM writes data as 128 kilobytes (KB) stripe chunks in round robin fashion to each column and fills a stripe set of four 64 MB extents with 2000 stripe chunks before moving to a second stripe set of four 64 MB extents for volumes greater than 256 MB. Note that setting the number of columns on an Oracle ADVM dynamic volume to 1 effectively turns off striping for the Oracle ADVM volume.</p>
<p>On Linux platforms Oracle ASM Dynamic Volume Manager (Oracle ADVM) volume devices are created as block devices regardless of the configuration of the underlying storage in the Oracle ASM disk group. Do not use <code>raw</code> <code>(8)</code> to map Oracle ADVM volume block devices into raw volume devices.</p>
</div>
<!-- class="sect1" -->
<a id="CACECCDH"></a><a id="OSTMG35300"></a>
<div class="sect1">
<h2 class="sect1">Oracle ACFS Drivers Resource Management</h2>
<p><a id="sthref1543"></a><a id="sthref1544"></a>The Oracle ACFS drivers resource is supported only for Oracle Grid Infrastructure cluster configurations; it is not supported for Oracle Restart configurations. See <a href="#CACBDGCC">"Oracle ACFS and Oracle Restart"</a>.</p>
<p>The Oracle ACFS drivers resource (<code>ora.drivers.acfs</code>) is created by the Grid Infrastructure root script that is run following the Grid Infrastructure installation. The Oracle ASM instance resource (<code>ora.asm</code>) names the drivers resource as a weak dependency. Consequently, the start action for the drivers resource is also called whenever the start action for the <code>ora.asm</code> resource is issued. The start action for the drivers resource includes support for loading the Oracle ACFS, Oracle ADVM, and Oracle Kernel Services Driver (OKS) drivers into the operating system.</p>
<p>Following an Oracle Grid Infrastructure installation on Linux and UNIX platforms, a root script is run that includes actions for copying the Oracle ACFS components; including the Oracle ACFS, OKS, and Oracle ADVM drivers; into operating system-specific locations.</p>
<p>The Oracle ASM instance is started during the Grid Infrastructure installation process whenever Oracle Clusterware Registry (OCR) and the voting files are configured within an Oracle ASM disk group. In that case, the Oracle ACFS drivers are initially loaded during Grid Infrastructure Installation based on the resource dependency. The Oracle ASM instance can also be started using the Oracle ASM Configuration Assistant and the Oracle ACFS drivers are loaded based on that action. In steady state mode, the Oracle ACFS drivers are automatically loaded during Oracle Clusterware initialization when the Oracle High Availability Services Daemon (OHASD) calls the start action for the Oracle ASM instance resource that also results in loading the Oracle ACFS drivers due to the resource dependency relationship. The start action for the Oracle ACFS drivers resource attempts to load the Oracle ACFS, Oracle ADVM, and OKS drivers into the native operating system.</p>
<p>The policy for the Oracle ACFS drivers is that they remain loaded until Oracle Clusterware is shut down. The <code>ora.drivers.acfs</code> resource is managed automatically by Oracle High Availability Services Daemon (OHASD) and its state cannot be manually manipulated by <code>srvctl</code> or <code>crsctl</code>.</p>
</div>
<!-- class="sect1" -->
<a id="CACEDAJG"></a><a id="OSTMG35400"></a>
<div class="sect1">
<h2 class="sect1">Oracle ACFS Registry Resource Management</h2>
<p><a id="sthref1545"></a><a id="sthref1546"></a>The Oracle ACFS registry resource is supported only for Oracle Grid Infrastructure cluster configurations; it is not supported for Oracle Restart configurations. See <a href="#CACBDGCC">"Oracle ACFS and Oracle Restart"</a>.</p>
<p>The Oracle ACFS registry resource (<code>ora.registry.acfs</code>) is created by the root script that is run following Grid Infrastructure installation. The start action for the Oracle ACFS mount registry resource is automatically called during Grid Infrastructure initialization to activate the local node state of the clusterwide Oracle ACFS mount registry. If this initialization is successful, the state of this resource is set to <code>online</code>; otherwise, the state of the resource is set to <code>offline</code>. The state of the Oracle ACFS registry resource is determined only by the active state of the mount registry. The <code>online</code> status is independent of any registry contents or the current state of any individual registered file systems that may exist within the Oracle ACFS registry.</p>
<p>In addition to activating the local node state of the mount registry, the Oracle ACFS registry resource start action assists in establishing a clusterwide Oracle ACFS file name space. On each node, the resource start action scans the contents of the clusterwide mount registry and mounts any file systems designated for mounting on the local cluster member. Before mounting a registered file system, the resource start action confirms that the associated file system storage stack is active and will mount the disk group, enable the volume file, and create the mount point if necessary to complete the mount operation.</p>
<p>The check action for the Oracle ACFS registry resource assists in maintaining the clusterwide Oracle ACFS file system name space. On each node, the check action scans the contents of the mount registry for newly created entries and mounts any Oracle ACFS file systems registered for mounting on the local node. Consequently, a new Oracle ACFS file system can be created and registered on one node of the cluster, and is automatically mounted on all cluster members designated by the Oracle ACFS registry entry.</p>
<p>The Oracle ACFS registry resource check action also assists with file system recoveries. Recovering a file system from an offline state requires dismounting and remounting the file system. As the Oracle ACFS registry resource check action scans the mount registry searching for newly created file systems, it also checks for any offline file systems on the local node and if found, attempts to dismount and remount each offline file system. If the remount is successful, the file system transitions from offline to fully active status.</p>
<p>The Oracle ACFS registry resource stop action is usually called during the Grid Infrastructure shutdown sequence of operations. To transition the registry resource to an offline state, all file systems on this cluster member that are configured with Oracle ADVM devices must be dismounted. A mounted file system maintains an open reference on its Oracle ADVM device special file and associated dynamic volume file that must be closed before the Oracle ASM instance can be shutdown normally. The registry resource stop action scans the operating system's internal mount table searching for any mounted file system that is configured with an Oracle ADVM device file. If any is found, the stop action attempts to dismount that file system. However, if there are open references resulting from applications or users of that file system, then the file system cannot be dismounted until these are closed. If the dismount operation fails, the process IDs of any processes holding an open reference on the file system are displayed and logged to enable the administrator to resolve the open references and dismount the file systems. The internal mount table entries can include registered and unregistered Oracle ACFS file systems, and other local file systems that were mounted on an Oracle ADVM device file.</p>
<p>The Oracle ACFS registry resource clean action is called implicitly if the resource stop action fails to transition the resource to the offline state. In that case, the registry resource clean action can be called to effectively force the resource offline. The registry resource clean action scans the operating system internal mount table searching for any file system that is mounted upon an Oracle ADVM device. If any is found, the resource clean action attempts to <code>umount</code> the file system as in the resource stop action. However, if there are open references that prevent the file system from being dismounted, the clean resource action displays and logs the Process Identifiers of any process holding a reference, terminates the referencing processes, and then dismounts the file system. At the completion of the clean action, the registry resource is set to an offline state and other participants in the Grid Infrastructure shutdown sequence can now be stopped.</p>
<p>Whenever Oracle Clusterware is started on a cluster node, the Oracle ACFS startup operations for the node consult the cluster mount registry and attempt to mount all Oracle ACFS file systems that are registered for this node. Following each file system addition to the mount registry, the newly registered file system is automatically mounted on each node designated by the registry entry. If a registered file system is automatically mounted and is later dismounted, it is not automatically remounted until the system is rebooted or Oracle Clusterware is restarted. It can be manually remounted using the <code>mount</code> command or Oracle Enterprise Manager.</p>
<p>The Oracle ACFS cluster mount registry action routines attempt to mount each Oracle ACFS file system on its registered mount point and create the mount point if it does not exist. The registry action routines also mount any Oracle ASM disk groups and enable any Oracle ADVM volumes required to support the Oracle ACFS mount operation. In the event that a file system enters into an offline error state, the registry action routines attempt to recover the file system and return it to an on-line state by dismounting and remounting the file system. For information about the offline error state, see <a href="asmfilesystem.htm#CACIHFBD">"About Oracle ACFS Integration with Oracle ASM"</a>.</p>
</div>
<!-- class="sect1" -->
<a id="CACDDIBD"></a><a id="OSTMG35500"></a>
<div class="sect1">
<h2 class="sect1">Oracle ACFS Individual File System Resource Management</h2>
<p><a id="sthref1547"></a><a id="sthref1548"></a>The Oracle ACFS individual file system resource is supported only for Oracle Grid Infrastructure cluster configurations; it is not supported for Oracle Restart configurations. See <a href="#CACBDGCC">"Oracle ACFS and Oracle Restart"</a>.</p>
<p>Oracle ASM Configuration Assistant (ASMCA) facilitates the creation of Oracle ACFS individual file system resources (<code>ora.</code><code><span class="codeinlineitalic">diskgroup</span></code><code>.</code><code><span class="codeinlineitalic">volume</span></code><code>.acfs</code>). During database creation with Database Configuration Assistant (DBCA), the individual file system resource is included in the dependency list of its associated disk group so that stopping the disk group also attempts to stop any dependent Oracle ACFS file systems.</p>
<p>An Oracle ACFS individual file system resource is typically created for use with application resource dependency lists. For example, if an Oracle ACFS file system is configured for use as an Oracle Database home, then a resource created for the file system can be included in the resource dependency list of the Oracle Database application. This dependency causes the file system and stack to be automatically mounted due to the start action of the database application.</p>
<p>An Oracle ACFS file system that is to be mounted from a dependency action should not be included in the Oracle ACFS mount registry.</p>
<p>The start action for an Oracle ACFS individual file system resource is to mount the file system. This individual file system resource action includes confirming that the associated file system storage stack is active and mounting the disk group, enabling the volume file, and creating the mount point if necessary to complete the mount operation. If the file system is successfully mounted, the state of the resource is set to <code>online</code>; otherwise, it is set to <code>offline</code>.</p>
<p>The check action for an individual file system resource verifies that the file system is mounted. It sets the state of the resource to <code>online</code> status if mounted, otherwise the status is set to <code>offline</code>.</p>
<p>The stop action for an Oracle ACFS individual file system resource attempts to dismount the file system. If the file system cannot be dismounted due to open references, the stop action displays and logs the process identifiers for any processes holding a reference.</p>
<p>Use of the <code>srvctl</code> <code>start</code> and <code>stop</code> actions to manage the individual file system resources maintains their correct resource state.</p>
</div>
<!-- class="sect1" -->
<a id="CACBDGCC"></a><a id="OSTMG95289"></a>
<div class="sect1">
<h2 class="sect1">Oracle ACFS and Oracle Restart</h2>
<p><a id="sthref1549"></a><a id="sthref1550"></a>Oracle Restart does not support root-based Oracle ACFS resources for this release. Consequently, the following operations are not automatically performed:</p>
<ul>
<li>
<p>Loading Oracle ACFS drivers</p>
</li>
<li>
<p>Mounting Oracle ACFS file systems listed in the Oracle ACFS mount registry</p>
</li>
<li>
<p>Mounting resource-based Oracle ACFS database home file systems</p>
</li>
</ul>
<p>The Oracle ACFS resources associated with these actions are not created for Oracle Restart configurations.</p>
<p>While Oracle ACFS resource management is fully supported for Oracle Grid Infrastructure configurations, the Oracle ACFS resource-based management actions must be replaced with alternative, sometimes manual, operations in Oracle Restart configurations.</p>
</div>
<!-- class="sect1" -->
<a id="CACDGHGC"></a><a id="OSTMG35600"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Understanding Oracle ACFS I/O Failure Console Messages</h2>
<p><a id="sthref1551"></a><a id="sthref1552"></a>Oracle ACFS logs information for I/O failures in the operating-specific system event log.</p>
<p>A console message has the following format:</p>
<pre>
[Oracle ACFS]: I/O failure (<span class="bolditalic">error_code</span>) with device <span class="bolditalic">device_name</span> during a <span class="bolditalic">operation_name</span> <span class="bolditalic">op_type</span>.
<span class="bolditalic">file_entry_num</span> Starting offset: <span class="bolditalic">offset</span>. Length of data transfer: <span class="bolditalic">io_length</span> bytes.
Impact: <span class="bolditalic">acfs_type</span>   Object: <span class="bolditalic">object_type</span>   Oper.Context: <span class="bolditalic">operation_context</span> 
Snapshot?: <span class="bolditalic">yes_or_no</span> AcfsObjectID: <span class="bolditalic">acfs_object_id</span> . Internal ACFS Location: <span class="bolditalic">code_location</span>.
</pre>
<p>The italicized variables in the console message syntax correspond to the following:</p>
<ul>
<li>
<p>I/O failure</p>
<p>The operating system specific error code, in Hex, seen by Oracle ACFS for a failed I/O. This may indicate a hardware problem, or it might indicate a failure to initiate the I/O for some other reason.</p>
</li>
<li>
<p>Device</p>
<p>The device involved, usually the ADVM device file, but under some circumstances it might be a string indicating the device minor number</p>
</li>
<li>
<p>Operation name</p>
<p>The kind of operation involved:</p>
<p><code>user</code> <code>data</code>, <code>metadata</code>, or <code>paging</code></p>
</li>
<li>
<p>Operation type</p>
<p>The type of operation involved:</p>
<p><code>synch</code> <code>read</code>, <code>synch</code> <code>write</code>, <code>asynch</code> <code>read</code>, or <code>asynch</code> <code>write</code></p>
</li>
<li>
<p>File entry number</p>
<p>The Oracle ACFS File entry number of the file system object involved, as a decimal number. The <code>acfsutil</code> <code>info</code> <code>fileid</code> tool finds the corresponding file name.</p>
</li>
<li>
<p>Offset</p>
<p>The disk offset of the I/O, as a decimal number.</p>
</li>
<li>
<p>Length of I/O</p>
<p>The length of the I/O in bytes, as decimal number.</p>
</li>
<li>
<p>File system object impacted</p>
<p>An indication that the file system object involved is either node-local, or is a resource accessed clusterwide. For example:</p>
<p><code>Node</code> or <code>Cluster</code></p>
</li>
<li>
<p>Type of object impacted</p>
<p>A string indicating the kind of file system object involved, when possible. For example:</p>
<p><code>Unknown</code>, <code>User</code> <code>Dir.</code>, <code>User</code> <code>Symlink</code>, <code>User</code> <code>File</code>, <code>Sys.Dir</code>, <code>Sys.File</code>, or <code>MetaData</code></p>
<ul>
<li>
<p><code>Sys.Dir.</code></p>
<p>Oracle ACFS-administered directory within the visible namespace</p>
</li>
<li>
<p><code>sys.File</code></p>
<p>Oracle ACFS-administered file within the visible namespace</p>
</li>
<li>
<p><code>MetaData</code></p>
<p>Oracle ACFS-administered resources outside of the visible namespace</p>
</li>
</ul>
</li>
<li>
<p>Operational context</p>
<p>A higher-level view of what code context was issuing the I/O. This is for use by Oracle Support Services. For example:</p>
<p><code>Unknown</code>, <code>Read</code>, <code>Write</code>, <code>Grow</code>, <code>Shrink</code>, <code>Commit</code>, or <code>Recovery</code></p>
</li>
<li>
<p>Snapshot</p>
<p>An indication of whether, if possible to determine, the data involved was from a Snapshot. For example:</p>
<p><code>Yes</code>, <code>No</code>, or <code>?</code></p>
</li>
<li>
<p>Object type of the file system</p>
<p>An internal identifier for the type of file system object. For use by Oracle Support Services.</p>
</li>
<li>
<p>Location of the code</p>
<p>An internal identifier of the code location issuing this message. For use by Oracle Support Services.</p>
</li>
</ul>
<p>The following is an example from <code>/var/log/messages</code> in a Linux environment:</p>
<pre>
[Oracle ACFS]: I/O failure (0xc0000001) with device /dev/sdb during a metadata synch write .
Fenum Unknown. Starting offset: 67113984. Length of data transfer: 2560 bytes.
Impact: Node   Object: MetaData   Oper.Context: Write
Snapshot?: ?  AcfsObjectID: 8  . Internal ACFS Location: 5 . 
</pre></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmbysql.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="ostmg_gloss.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
