<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Command-line Tools for Linux and UNIX Environments</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfs_util001.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfs_util003.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">28/40</span> <!-- End Header --><a id="CACDEAFI"></a><a id="OSTMG92000"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Oracle ACFS Command-line Tools for Linux and UNIX Environments</h1>
<p><a href="#BABFEIBB">Table 13-1</a> contains a summary of the Oracle ACFS commands for Linux and UNIX. The commands in <a href="#BABFEIBB">Table 13-1</a> have been extended with additional options to support Oracle ACFS. All other Linux and UNIX file system commands operate without change for Oracle ACFS.</p>
<p>For example, Oracle ACFS adds a set of Oracle ACFS-specific mount options to those provided with the base operating system platform. You should review both the mount options for the Linux and UNIX platforms in addition to the Oracle ACFS-specific options for the complete set of file system mount options.</p>
<p>File systems on Oracle ADVM volumes that are not Oracle ACFS file systems, such as <code>ext3</code>, are managed with the same Linux commands that are listed in <a href="#BABFEIBB">Table 13-1</a> using the file-specific options for the type of file system. You can refer to the <code>man</code> pages for options available for the Linux commands in <a href="#BABFEIBB">Table 13-1</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Security-Enhanced Linux (SELinux) is not supported on Oracle ACFS file systems.</div>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94799"></a><a id="sthref1220"></a><a id="BABFEIBB"></a>Table 13-1 Summary of Oracle ACFS commands for Linux and UNIX</p>
<table class="cellalignment1546" title="Summary of Oracle ACFS commands for Linux and UNIX" summary="ACFS Linux and Unix Command Summary" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t13">Command</th>
<th class="cellalignment1547" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t13" headers="r1c1-t13">
<p><a href="#CACCHEDH">fsck</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t13 r1c2-t13">
<p>Checks and repairs an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t13" headers="r1c1-t13">
<p><a href="#CACGFHAA">mkfs</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t13 r1c2-t13">
<p>Creates an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t13" headers="r1c1-t13">
<p><a href="#CACEJAGF">mount</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t13 r1c2-t13">
<p>Mounts an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t13" headers="r1c1-t13">
<p><a href="#CACJFEFD">umount</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t13 r1c2-t13">
<p>Dismounts an Oracle ACFS file system.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="CACCHEDH"></a><a id="OSTMG94800"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1221"></a>fsck</h2>
<p class="subhead2"><a id="OSTMG94801"></a>Purpose</p>
<p>Checks and repairs an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94802"></a>Syntax and Description</p>
<br />
<code>fsck</code> <code>-t</code> <code>acfs</code> <code>-h</code> <code>/dev/null</code><br />
<code>fsck</code> [<code>-a</code>|<code>-f</code>] [<code>-v</code>] [<code>-vv</code>] <code>-t</code> <code>acfs</code> [<code>-n</code>|<code>-y</code>] <code><span class="codeinlineitalic">volume_device</span></code><br />
<p><code>fsck</code> <code>-t</code> <code>acfs</code> <code>-h</code> dev/null displays usage text and exits.</p>
<p><a href="#BABEIJFC">Table 13-2</a> contains the options available with the <code>fsck</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94803"></a><a id="sthref1222"></a><a id="BABEIJFC"></a>Table 13-2 Options for the Linux fsck command</p>
<table class="cellalignment1546" title="Options for the Linux fsck command" summary="This table lists the options for the fsck command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t14">Option</th>
<th class="cellalignment1547" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t14" headers="r1c1-t14">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t14 r1c2-t14">
<p>Specifies to automatically repair the file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t14" headers="r1c1-t14">
<p><code>-f</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t14 r1c2-t14">
<p>Forces the file system into mountable state without completing a file system check or repair.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t14" headers="r1c1-t14">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t14 r1c2-t14">
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t14" headers="r1c1-t14">
<p><code>-vv</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t14 r1c2-t14">
<p>Specifies very verbose mode. The progress is displayed as the operation occurs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t14" headers="r1c1-t14">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t14 r1c2-t14">
<p>Displays the usage help text and exits.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t14" headers="r1c1-t14">
<p><code>-n</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t14 r1c2-t14">
<p>Answers no to any prompts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t14" headers="r1c1-t14">
<p><code>-y</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t14 r1c2-t14">
<p>Answers yes to any prompts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t14" headers="r1c1-t14">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t14 r1c2-t14">
<p>Specifies the primary Oracle ADVM volume device.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>fsck</code> checks and repairs an existing Oracle ACFS. This command can only be run on a dismounted file system. <code>root</code> privileges are required to run <code>fsck</code>. The Oracle ACFS driver must be loaded for <code>fsck</code> to work.</p>
<p>By default, <code>fsck</code> only checks for and reports any errors. The <code>-a</code> flag must be specified to instruct <code>fsck</code> to repair errors in the file system.</p>
<p>In a few cases, <code>fsck</code> prompts for questions before proceeding to check a file system. These cases include:</p>
<ul>
<li>
<p>If <code>fsck</code> detects that another <code>fsck</code> is in progress on the file system</p>
</li>
<li>
<p>If <code>fsck</code> detects that the Oracle ACFS driver is not loaded</p>
</li>
<li>
<p>If the file system does not appear to be Oracle ACFS</p>
</li>
</ul>
<p>In checking mode, <code>fsck</code> also prompts if there are transaction logs that have not been processed completely due to an incomplete shutdown. To run in a non-interactive mode, include either the <code>-y</code> or <code>-n</code> options to answer yes or no to any questions.</p>
<p><code>fsck</code> creates working files before it checks a file system. These working files are created in <code>/usr/tmp</code> if space is available. <code>/tmp</code> is used if <code>/usr/tmp</code> does not exist. If insufficient space is available in the <code>tmp</code> directory, <code>fsck</code> attempts to write to the current working directory. The files that <code>fsck</code> creates are roughly the size of the file system being checked divided by 32K. At most two such files are allocated. For example, a 2 GB file system being checked causes <code>fsck</code> to generate one or two 64K working files in the <code>/usr/tmp</code> directory. These files are deleted after <code>fsck</code> has finished.</p>
<p>In the event that <code>fsck</code> finds a file or directory in the file system for which it cannot determine its name or intended location (possibly due to a corruption in its parent directory), it places this object in the <code>/lost+found</code> directory when <code>fsck</code> is run in fix mode. For security reasons only the <code>root</code> user on Linux can read files in <code>/lost+found</code>. If the administrator can later determine the original name and location of the file based on its contents, the file can be moved or copied into its intended location.</p>
<p>The file names in the <code>/lost+found</code> directory are in the following formats:</p>
<pre>
parent.<span class="italic">id</span>.file.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
parent.<span class="italic">id</span>.dir.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
</pre>
<p>The <code><span class="codeinlineitalic">id</span></code> fields are the internal Oracle ACFS numeric identifiers for each file and directory in the file system.</p>
<p>You can use <code>acfsutil</code> <code>info</code> <code>id</code> <code><span class="codeinlineitalic">id</span></code> <code><span class="codeinlineitalic">mount_point</span></code> to attempt to determine the directory associated with <code>parent.</code><code><span class="codeinlineitalic">id</span></code>. This directory is assumed to be where the deleted object originated. For information about <code>acfsutil</code> <code>info</code>, see <a href="asmfs_util010.htm#CACIDJAA">"acfsutil info file"</a>.</p>
<p>If the parent directory is not known, the parent <code>id</code> field is set to <code>UNKNOWN</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
It is not possible to see the contents of the <code>/lost+found</code> directory from a snapshot.</div>
<p class="subhead2"><a id="OSTMG94804"></a>Examples</p>
<p>The following example shows how to check and repair an Oracle ACFS file system.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94805"></a><a id="sthref1223"></a>Example 13-1 Using the fsck command</p>
<pre>
# /sbin/fsck -a -v -y -t acfs /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACGFHAA"></a><a id="OSTMG94806"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1224"></a>mkfs</h2>
<p class="subhead2"><a id="OSTMG94807"></a>Purpose</p>
<p>Creates an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94808"></a>Syntax and Description</p>
<br />
<code>mkfs</code> <code>-t</code> <code>acfs</code> <code>-h</code><br />
<code>mkfs</code> [<code>-v</code>] [<code>-f</code>]<code>-t</code> <code>acfs</code> [<code>-b</code> <code><span class="codeinlineitalic">blocksize</span></code>] [<code>-n</code> <code><span class="codeinlineitalic">name</span></code> ] <code><span class="codeinlineitalic">volume_device</span></code> [<code><span class="codeinlineitalic">size</span></code>]<br />
<p><code>mkfs</code> <code>-t</code> <code>acfs</code> <code>-h</code> displays usage text and exits.</p>
<p><a href="#BABFDAGB">Table 13-3</a> contains the options available with the <code>mkfs</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94809"></a><a id="sthref1225"></a><a id="BABFDAGB"></a>Table 13-3 Options for the Linux mkfs command</p>
<table class="cellalignment1546" title="Options for the Linux mkfs command" summary="This table lists the options for the mkfs command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t16">Option</th>
<th class="cellalignment1547" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t16" headers="r1c1-t16">
<p><code>-t</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t16 r1c2-t16">
<p>Specifies the type of file system on Linux. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t16" headers="r1c1-t16">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t16 r1c2-t16">
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t16" headers="r1c1-t16">
<p><code>-n</code> <code><span class="codeinlineitalic">name</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t16 r1c2-t16">
<p>Specifies the name for the file system. A name can be a maximum of 64 characters. <code>acfsutil</code> <code>info</code> <code>fs</code> returns the name if one was specified.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t16" headers="r1c1-t16">
<p><code>-f</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t16 r1c2-t16">
<p>Specifies the force option. This action creates the file system even if there is an existing Oracle ACFS on the volume device, although only if the file system is dismounted. This option overwrites structures on the original file system. Use this option with caution.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t16" headers="r1c1-t16">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t16 r1c2-t16">
<p>Displays the usage help text and exits.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t16" headers="r1c1-t16">
<p><code>-b</code> <code><span class="codeinlineitalic">blocksize</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t16 r1c2-t16">
<p>The default block size is 4K and this is the only size supported in 11g Release 2 (11.2).</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t16" headers="r1c1-t16">
<p><code><span class="codeinlineitalic">size</span></code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t16 r1c2-t16">
<p>Specifies the size that the file system should consume on the named device. The quantity specified can be in units of <code>K</code> (kilobytes), <code>M</code> (megabytes), <code>G</code> (gigabytes), <code>T</code> (terabytes), or <code>P</code> (petabytes). If a unit is not specified, the default is bytes.</p>
<p>If the size specified is not a multiple of the block size, then the value is rounded up to the closest multiple. If this option is not specified, the entire device is consumed.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t16" headers="r1c1-t16">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t16 r1c2-t16">
<p>Specifies an Oracle ADVM device file that is to be formatted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>mkfs</code> is used to create the on disk structure needed for Oracle ACFS file system to be mounted. The <code>mkfs</code> command is the traditional UNIX command used to build a file system. After <code>mkfs</code> runs successfully, the <code>USAGE</code> column in the <code>V$ASM_VOLUME</code> view displays <code>ACFS</code>. <code>root</code> privilege is not required. The ownership of the volume device file dictates who can run this command. The minimum file system size is 200 MB. The Oracle ACFS driver must be loaded for <code>mkfs</code> to work.</p>
<p class="subhead2"><a id="OSTMG94810"></a>Examples</p>
<p>Before creating an Oracle ACFS file system, first determine which Oracle ADVM volume devices are available. You can use the ASMCMD <code>volinfo</code> command to display information about the volumes and volume devices.</p>
<pre>
ASMCMD [+] &gt; volinfo -a
...
         Volume Name: VOLUME1
         Volume Device: /dev/asm/volume1-123
         State: ENABLED
... 
</pre>
<p>See <a href="asm_util007.htm#CIHIEJCH">"volinfo"</a>.</p>
<p>Next create an Oracle ACFS file system on the volume device file.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94811"></a><a id="sthref1226"></a>Example 13-2 Using the mkfs command</p>
<pre>
$ /sbin/mkfs -t acfs /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACEJAGF"></a><a id="OSTMG94812"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1227"></a>mount</h2>
<p class="subhead2"><a id="OSTMG94813"></a>Purpose</p>
<p>Mounts an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94814"></a>Syntax and Description</p>
<br />
<code>mount</code> <code>-h</code><br />
<code>mount</code> [<code>-v</code>] <code>-t</code> <code>acfs</code> [<code>-o</code> <code><span class="codeinlineitalic">options</span></code>] <code><span class="codeinlineitalic">volume_device</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>mount</code><br />
<p><code>mount</code> <code>-h</code> displays usage text and exits.</p>
<p><a href="#BABIEFBG">Table 13-4</a> contains the options available with the <code>mount</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94815"></a><a id="sthref1228"></a><a id="BABIEFBG"></a>Table 13-4 Options for the Linux mount command</p>
<table class="cellalignment1546" title="Options for the Linux mount command" summary="This table lists the options for the mount command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t17">Option</th>
<th class="cellalignment1547" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t17" headers="r1c1-t17">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t17 r1c2-t17">
<p>Displays the usage help text and exits.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t17" headers="r1c1-t17">
<p><code>-t</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t17 r1c2-t17">
<p>Specifies the type of file system on Linux. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t17" headers="r1c1-t17">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t17 r1c2-t17">
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t17" headers="r1c1-t17">
<p><code>-o</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t17 r1c2-t17">
<p>Options are specified with the <code>-o</code> flag followed by a comma-delimited string of options. The following options are available:</p>
<ul>
<li>
<p><code>all</code></p>
<p>Reads the Oracle ACFS mount registry created with the <code>acfsutil</code> <code>registry</code> command and mounts the file systems in it. A <code>mount</code> <code>-t</code> <code>acfs</code> <code>-o</code> <code>all</code> command is automatically run at Oracle ACFS startup.</p>
<p>When the <code>-o</code> <code>all</code> option is specified, other <code>-o</code> options are ignored. To specify mount options for a registry entry, include those options with the <code>acfsutil</code> <code>registry</code> command when you add the entry to the registry.</p>
</li>
<li>
<p><code>ro</code></p>
<p>Mounts the file system in read-only mode.</p>
</li>
<li>
<p><code>norootsuid</code></p>
<p>Fails the execution of binaries by non-root users whose permissions allow set user Id execution, and are owned by root. An attempt to run these executables as a non-root user fails with a permission denied error.</p>
</li>
<li>
<p><code>rootsuid</code></p>
<p>Allows the execution of binaries by non-root users of set user Id files owned by root. This is the default action.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t17" headers="r1c1-t17">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t17 r1c2-t17">
<p>Specifies an Oracle ADVM volume device file that has been formatted by <code>mkfs</code>. <code><span class="codeinlineitalic">device</span></code> is required but can be a dummy value.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t17" headers="r1c1-t17">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t17 r1c2-t17">
<p>Specifies the directory where the file system is mounted. This directory must exist before you run the <code>mount</code> command.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>mount</code> attaches a file system to the Oracle ACFS hierarchy at the mount point that is the name of a directory. The mount happens on the node where the mount command was issued. The mount command returns an error if the file system is not in a dismounted state on this node.</p>
<p>It is not always possible to return the cause of a mount failure to the <code>mount</code> command. When this happens Oracle ACFS writes the cause of the failure to the system console and associated system log file.</p>
<p>After <code>mount</code> runs successfully, the <code>MOUNTPATH</code> field in the <code>V$ASM_VOLUME</code> view displays the directory name on which the file system is now mounted.</p>
<p>An Oracle ACFS file system should only be mounted on one mount point. The same mount point name should be used on all cluster members.</p>
<p>The <code>mount</code> command lists all mounted file systems if it is run with no parameters.</p>
<p><code>root</code> privilege is required to run <code>mount</code>.</p>
<p class="subhead2"><a id="OSTMG94816"></a>Examples</p>
<p>The first example shows how to mount <code>volume1-123</code> on the mount point <code>/u01/app/acfsmounts/myacfs</code>. The second example shows how to mount all the registered Oracle ACFS file systems. The dummy names (<code>none</code>) have been entered for the device and directory as they are required, but not used, when the <code>all</code> option is specified.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94817"></a><a id="sthref1229"></a>Example 13-3 Using the mount command</p>
<pre>
# /bin/mount -t acfs /dev/asm/volume1-123 /u01/app/acfsmounts/myacfs

# /bin/mount -t acfs -o all none none
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACJFEFD"></a><a id="OSTMG94818"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1230"></a>umount</h2>
<p class="subhead2"><a id="OSTMG94819"></a>Purpose</p>
<p>Dismounts an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94820"></a>Syntax and Description</p>
<br />
<code>umount</code> <code>-h</code><br />
<code>umount</code> [<code>-v</code>] <code><span class="codeinlineitalic">volume_device</span></code> |<code><span class="codeinlineitalic">mount_point</span></code><br />
<code>umount</code> <code>-a</code> <code>[-t</code> <code>acfs</code>]<br />
<p><code>umount</code> <code>-h</code> displays usage text and exits.</p>
<p><a href="#BABFIEJB">Table 13-5</a> contains the options available with the <code>umount</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94821"></a><a id="sthref1231"></a><a id="BABFIEJB"></a>Table 13-5 Options for the Linux umount command</p>
<table class="cellalignment1546" title="Options for the Linux umount command" summary="This table lists the options for the umount command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t18">Option</th>
<th class="cellalignment1547" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t18" headers="r1c1-t18">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t18 r1c2-t18">
<p>Displays the usage help text and exits.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t18" headers="r1c1-t18">
<p><code>-t</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t18 r1c2-t18">
<p>Specifies the type of file system on Linux. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t18" headers="r1c1-t18">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t18 r1c2-t18">
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t18" headers="r1c1-t18">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t18 r1c2-t18">
<p>Specifies to dismount all Oracle ACFS file systems on this node.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t18" headers="r1c1-t18">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t18 r1c2-t18">
<p>Specifies an Oracle ADVM volume device file that has been formatted by <code>mkfs</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t18" headers="r1c1-t18">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t18 r1c2-t18">
<p>Specifies the directory where the file system is mounted. This directory must exist before you run the <code>mount</code> command.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>umount</code> detaches an Oracle ACFS from the file system hierarchy on the current node. If the file system is busy, <code>umount</code> fails.</p>
<p><code>root</code> privileges are required to run the <code>umount</code> command.</p>
<p class="subhead2"><a id="OSTMG94822"></a>Examples</p>
<p>The following examples show how to dismount an Oracle ACFS file system. The first example uses the volume device file and the second example uses the file system.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94823"></a><a id="sthref1232"></a>Example 13-4 Using the umount command</p>
<pre>
# /bin/umount /dev/asm/volume1-123

# /bin/umount /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfs_util001.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfs_util003.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
