<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Command-line Tools for the Solaris Environment</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfs_util002.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfs_util004.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">29/40</span> <!-- End Header --><a id="BABBICEB"></a><a id="OSTMG92400"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Oracle ACFS Command-line Tools for the Solaris Environment</h1>
<div class="infobox-note">
<p class="notep1">Note:</p>
If a disk group is dismounted with the force option on Solaris, any Oracle ADVM volumes device files that were on that disk group remain on the system. These files are removed when the disk group is remounted.</div>
<p><a href="#BABBJDAG">Table 13-6</a> contains a summary of the Oracle ACFS commands for Solaris. The commands in <a href="#BABBJDAG">Table 13-6</a> have been extended with additional options to support Oracle ACFS on Solaris.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94824"></a><a id="sthref1233"></a><a id="BABBJDAG"></a>Table 13-6 Summary of Oracle ACFS commands for Solaris</p>
<table class="cellalignment1546" title="Summary of Oracle ACFS commands for Solaris" summary="Solaris Command Summary" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t20">Command</th>
<th class="cellalignment1547" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t20" headers="r1c1-t20">
<p><a href="#BABCEIJH">fsck</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t20 r1c2-t20">
<p>Checks and repairs an Oracle ACFS file system on Solaris.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t20" headers="r1c1-t20">
<p><a href="#BABCEFCH">mkfs</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t20 r1c2-t20">
<p>Creates an Oracle ACFS file system on Solaris.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t20" headers="r1c1-t20">
<p><a href="#BABHCJCB">mount</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t20 r1c2-t20">
<p>Mounts an Oracle ACFS file system on Solaris.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t20" headers="r1c1-t20">
<p><a href="#BABIHGCF">umount/umountall</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t20 r1c2-t20">
<p>Dismounts an Oracle ACFS file system on Solaris.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="BABCEIJH"></a><a id="OSTMG94825"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1234"></a>fsck</h2>
<p class="subhead2"><a id="OSTMG94826"></a>Purpose</p>
<p>Checks and repairs an Oracle ACFS file system on the Solaris operating system.</p>
<p class="subhead2"><a id="OSTMG94827"></a>Syntax and Description</p>
<br />
<code>fsck</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/dev/null</code><br />
<code>fsck</code> <code>-F</code> <code>acfs</code> [{<code>-n</code>|<code>N</code>}|{<code>-y</code>|<code>Y</code>}] [<code>-o</code> <code><span class="codeinlineitalic">options</span></code>] <code><span class="codeinlineitalic">volume_device</span></code><br />
<p><code>fsck</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/dev/null</code> displays usage text and exits.</p>
<p><a href="#BABFBDCA">Table 13-7</a> contains the options available with the <code>fsck</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94828"></a><a id="sthref1235"></a><a id="BABFBDCA"></a>Table 13-7 Options for the Solaris fsck command</p>
<table class="cellalignment1546" title="Options for the Solaris fsck command" summary="This table lists the options for the Solaris fsck command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t21">Option</th>
<th class="cellalignment1547" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t21" headers="r1c1-t21">
<p><code>-F</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t21 r1c2-t21">
<p>Specifies the type of file system on Solaris. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t21" headers="r1c1-t21">
<p><code>-n</code> |<code>N</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t21 r1c2-t21">
<p>Answers no to any prompts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t21" headers="r1c1-t21">
<p><code>-y</code>|<code>Y</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t21 r1c2-t21">
<p>Answers yes to any prompts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t21" headers="r1c1-t21">
<p><code>-o</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t21 r1c2-t21">
<p>Specifies that options follow (a, f, h, v). Options are preceded with the <code>-o</code> flag and entered as a comma-delimited string. For example: <code>-o</code> <code>a,v</code></p>
<ul>
<li>
<p><code>a</code></p>
<p>Specifies to automatically fix the file system.</p>
</li>
<li>
<p><code>f</code></p>
<p>Forces the file system into mountable state without completing a file system check or fix.</p>
</li>
<li>
<p><code>h</code></p>
<p>Displays the usage text and exits.</p>
</li>
<li>
<p><code>v</code></p>
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</li>
<li>
<p><code>vv</code></p>
<p>Specifies very verbose mode. The progress is displayed as the operation occurs.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t21" headers="r1c1-t21">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t21 r1c2-t21">
<p>Specifies an Oracle ADVM device file.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>fsck</code> checks and repairs an existing Oracle ACFS file system. This command can only be run on a dismounted file system. <code>root</code> privileges are required to run <code>fsck</code>. The Oracle ACFS driver must be loaded for <code>fsck</code> to work.</p>
<p>By default, <code>fsck</code> only checks for and reports any errors. The <code>-o</code> <code>a</code> option must be specified to instruct <code>fsck</code> to fix errors in the file system.</p>
<p>In a few cases, <code>fsck</code> prompts for questions before proceeding to check a file system. These cases include:</p>
<ul>
<li>
<p>If <code>fsck</code> detects that another <code>fsck</code> is in progress on the file system</p>
</li>
<li>
<p>If <code>fsck</code> detects that the Oracle ACFS driver is not loaded</p>
</li>
<li>
<p>If the file system does not appear to be Oracle ACFS</p>
</li>
</ul>
<p>In checking mode, <code>fsck</code> also prompts if there are transaction logs that have not been processed completely due to an incomplete shutdown. To run in a non-interactive mode, include either the <code>-y</code> or <code>-n</code> options to answer yes or no to any questions.</p>
<p><code>fsck</code> creates working files before it checks a file system. These working files are created in <code>/usr/tmp</code> if space is available. <code>/tmp</code> is used if <code>/usr/tmp</code> does not exist. If insufficient space is available in the <code>tmp</code> directory, <code>fsck</code> attempts to write to the current working directory. The files that <code>fsck</code> creates are roughly the size of the file system being checked divided by 32K. At most two such files are allocated. For example, a 2 GB file system being checked causes <code>fsck</code> to generate one or two 64K working files in the <code>/usr/tmp</code> directory. These files are deleted after <code>fsck</code> has finished.</p>
<p>In the event that <code>fsck</code> finds a file or directory in the file system for which it cannot determine its name or intended location (possibly due to a corruption in its parent directory), it places this object in the <code>/lost+found</code> directory when <code>fsck</code> is run in fix mode. For security reasons only the <code>root</code> user on Linux can read files in <code>/lost+found</code>. If the administrator can later determine the original name and location of the file based on its contents, the file can be moved or copied into its intended location.</p>
<p>The file names in the <code>/lost+found</code> directory are in the following formats:</p>
<pre>
parent.<span class="italic">id</span>.file.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
parent.<span class="italic">id</span>.dir.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
</pre>
<p>The <code><span class="codeinlineitalic">id</span></code> fields are the internal Oracle ACFS numeric identifiers for each file and directory in the file system.</p>
<p>You can use <code>acfsutil</code> <code>info</code> <code>id</code> <code><span class="codeinlineitalic">id</span></code> <code><span class="codeinlineitalic">mount_point</span></code> to attempt to determine the directory associated with <code>parent.</code><code><span class="codeinlineitalic">id</span></code>. This directory is assumed to be where the deleted object originated. For information about <code>acfsutil</code> <code>info</code>, see <a href="asmfs_util010.htm#CACIDJAA">"acfsutil info file"</a>.</p>
<p>If the parent directory is not known, the parent <code>id</code> field is set to <code>UNKNOWN</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
It is not possible to see the contents of the <code>/lost+found</code> directory from a snapshot.</div>
<p class="subhead2"><a id="OSTMG94829"></a>Examples</p>
<p>The following example shows how to check and repair an Oracle ACFS file system.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94830"></a><a id="sthref1236"></a>Example 13-5 Using the fsck command</p>
<pre>
# /usr/sbin/fsck -F acfs -y -o a,v /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCEFCH"></a><a id="OSTMG94831"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1237"></a>mkfs</h2>
<p class="subhead2"><a id="OSTMG94832"></a>Purpose</p>
<p>Creates an Oracle ACFS file system on the Solaris operating system.</p>
<p class="subhead2"><a id="OSTMG94833"></a>Syntax and Description</p>
<br />
<code>mkfs</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/dev/null</code><br />
<code>mkfs</code> <code>-F</code> <code>acfs</code> [<code>-o</code> <code><span class="codeinlineitalic">options</span></code>] <code><span class="codeinlineitalic">volume_device</span></code> <code><span class="codeinlineitalic">size</span></code><br />
<p><code>mkfs</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/dev/null</code> displays usage text and exits.</p>
<p><a href="#BABCJJCJ">Table 13-8</a> contains the options available with the <code>mkfs</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94834"></a><a id="sthref1238"></a><a id="BABCJJCJ"></a>Table 13-8 Options for the Solaris mkfs command</p>
<table class="cellalignment1546" title="Options for the Solaris mkfs command" summary="This table lists the options for the Solaris mkfs command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t23">Option</th>
<th class="cellalignment1547" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t23" headers="r1c1-t23">
<p><code>-F</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t23 r1c2-t23">
<p>Specifies the type of file system on Solaris. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t23" headers="r1c1-t23">
<p><code>-o</code> <code><span class="codeinlineitalic">options</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t23 r1c2-t23">
<p>Specifies that options follow (b, f, h, n, v). Options are preceded with the <code>-o</code> flag and entered as a comma-delimited string. For example: <code>-o</code> <code>f,v</code></p>
<ul>
<li>
<p><code>b</code>=<code><span class="codeinlineitalic">blocksize</span></code></p>
<p>Specifies the block size of the new file system. The default block size is 4K and this is the only size supported.</p>
</li>
<li>
<p><code>h</code></p>
<p>Displays the usage text and exits.</p>
</li>
<li>
<p><code>f</code></p>
<p>Specifies the force option. This action creates the file system even if there is an existing Oracle ACFS on the volume device, although only if the file system is dismounted. This option overwrites structures on the original file system. Use this option with caution.</p>
</li>
<li>
<p><code>n</code>=<code><span class="codeinlineitalic">name</span></code></p>
<p>Specifies the name for the file system. A name can be a maximum of 64 characters. <code>acfsutil</code> <code>info</code> <code>fs</code> returns the name if one was specified.</p>
</li>
<li>
<p><code>v</code></p>
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t23" headers="r1c1-t23">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t23 r1c2-t23">
<p>Specifies an Oracle ADVM device file.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t23" headers="r1c1-t23">
<p><code><span class="codeinlineitalic">size</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t23 r1c2-t23">
<p>Specifies the size of the file system in 512-byte units or in units of <code>K</code>|<code>M</code>|<code>G</code>|<code>T</code>|<code>P</code>. Units specified are in <code>K</code> (kilobytes), <code>M</code> (megabytes), <code>G</code> (gigabytes), <code>T</code> (terabytes), or <code>P</code> (petabytes).</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>mkfs</code> is used to create the on disk structure needed for Oracle ACFS file system to be mounted. The <code>mkfs</code> command is the traditional UNIX command used to build a file system. After <code>mkfs</code> runs successfully, the <code>USAGE</code> column in the <code>V$ASM_VOLUME</code> view displays <code>ACFS</code>. <code>root</code> privilege is not required. The ownership of the volume device file dictates who can run this command. The minimum file system size is 200 MB. The Oracle ACFS driver must be loaded for <code>mkfs</code> to work.</p>
<p class="subhead2"><a id="OSTMG94835"></a>Examples</p>
<p>Before creating an Oracle ACFS file system, first determine which Oracle ADVM volume devices are available. You can use the ASMCMD <code>volinfo</code> command to display information about the volumes and volume devices.</p>
<pre>
ASMCMD [+] &gt; volinfo -a
...
         Volume Name: VOLUME1
         Volume Device: /dev/asm/volume1-123
         State: ENABLED
... 
</pre>
<p>See <a href="asm_util007.htm#CIHIEJCH">"volinfo"</a>.</p>
<p>Next create an Oracle ACFS file system on the volume device file.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94836"></a><a id="sthref1239"></a>Example 13-6 Using the mkfs command</p>
<pre>
$ /usr/sbin/mkfs -F acfs /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABHCJCB"></a><a id="OSTMG94837"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1240"></a>mount</h2>
<p class="subhead2"><a id="OSTMG94838"></a>Purpose</p>
<p>Mounts an Oracle ACFS file system on the Solaris operating system.</p>
<p class="subhead2"><a id="OSTMG94839"></a>Syntax and Description</p>
<br />
<code>mount</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/tmp</code> <code>/dev/null</code><br />
<code>mount</code> <code>-F</code> <code>acfs</code> [<code>-r</code>] [<code>-o</code> <code><span class="codeinlineitalic">options</span></code>] <code><span class="codeinlineitalic">volume_device</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>mount</code> <code>-F</code> <code>acfs</code> <code>-o</code> <code>h</code> <code>/tmp</code> <code>/dev/null</code> displays usage text and exits.</p>
<p><a href="#BABEDBIA">Table 13-9</a> contains the options available with the <code>mount</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94840"></a><a id="sthref1241"></a><a id="BABEDBIA"></a>Table 13-9 Options for the Solaris mount command</p>
<table class="cellalignment1546" title="Options for the Solaris mount command" summary="This table lists the options for the Solaris mount command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t24">Option</th>
<th class="cellalignment1547" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t24" headers="r1c1-t24">
<p><code>-F</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t24 r1c2-t24">
<p>Specifies the type of file system on Solaris. <code>acfs</code> designates the Oracle ACFS type.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t24" headers="r1c1-t24">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t24 r1c2-t24">
<p>Mounts in read-only mode.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t24" headers="r1c1-t24">
<p><code>-o</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t24 r1c2-t24">
<p>Specifies that options follow. Options are preceded with the <code>-o</code> flag followed by a comma-delimited string of options. For example: <code>-o</code> <code>all,v</code></p>
<p>The following options are available:</p>
<ul>
<li>
<p><code>all</code></p>
<p>Reads the Oracle ACFS mount registry created with the <code>acfsutil</code> <code>registry</code> command and mounts all the file systems in it. A <code>mount</code> <code>-o</code> <code>all</code> command is automatically run at Oracle ACFS startup.</p>
<p>The <code>-o</code> <code>all</code> option requires two placeholders to satisfy the command arguments: a dummy argument for the volume device and any valid directory.</p>
<p>When the <code>-o</code> <code>all</code> option is specified, other <code>-o</code> options are ignored. To specify mount options for a registry entry, include those options with the <code>acfsutil</code> <code>registry</code> command when you add the entry to the registry.</p>
</li>
<li>
<p><code>devices</code>/<code>nodevices</code></p>
<p>Allows or disallows the opening of any character or block special devices from this mount.</p>
</li>
<li>
<p><code>exec</code>/<code>noexec</code></p>
<p>Allows or disallows the execution of programs in this file system.</p>
</li>
<li>
<p><code>h</code></p>
<p>Displays the usage help text and exits.</p>
</li>
<li>
<p><code>rootsuid</code>/<code>norootsuid</code></p>
<p>Allows or disallows the execution of <code>setuid</code> to root executables (binaries by non-root users whose permissions allow set user Id execution, and are owned by root). <code>rootsuid</code> is the default action. If <code>norootsuid</code> is specified, an attempt to run these executables as a non-root user fails with a permission denied error.</p>
</li>
<li>
<p><code>ro</code></p>
<p>Mounts the file system in read-only mode.</p>
</li>
<li>
<p><code>rw</code></p>
<p>Mounts the file system in read-write mode.</p>
</li>
<li>
<p><code>setuid</code>/<code>nosetuid</code></p>
<p>Allows or disallows the execution of <code>setuid</code> and <code>setgid</code> programs.</p>
</li>
<li>
<p><code>suid</code>/<code>nosuid</code></p>
<p>Allows or disallows the execution of <code>setuid</code> and <code>setgid</code> programs and the opening of any character or block special devices from this mount.</p>
</li>
<li>
<p><code>v</code></p>
<p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t24" headers="r1c1-t24">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t24 r1c2-t24">
<p>Specifies an Oracle ADVM volume device file that has been formatted by <code>mkfs</code>. <code><span class="codeinlineitalic">device</span></code> is required but can be a dummy value.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t24" headers="r1c1-t24">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t24 r1c2-t24">
<p>Specifies the directory where the file system is mounted. This directory must exist before you run the <code>mount</code> command.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>mount</code> attaches a file system to the Oracle ACFS hierarchy at the mount point that is the name of a directory. The mount occurs on the node where the mount command was issued. The mount command returns an error if the file system is not in a dismounted state on this node.</p>
<p>It is not always possible to return the cause of a mount failure to the <code>mount</code> command. When this happens Oracle ACFS writes the cause of the failure to the system console and associated system log file.</p>
<p>After <code>mount</code> runs successfully, the <code>MOUNTPATH</code> field in the <code>V$ASM_VOLUME</code> view displays the directory name on which the file system is now mounted.</p>
<p>An Oracle ACFS file system should only be mounted on one mount point. The same mount point name should be used on all cluster members.</p>
<p><code>root</code> privilege is required to run <code>mount</code>.</p>
<p class="subhead2"><a id="OSTMG94841"></a>Examples</p>
<p>The first example shows how to mount <code>volume1-123</code> on the mount point <code>/u01/app/acfsmounts/myacfs</code>. The second example shows how to mount all the registered Oracle ACFS file systems. Placeholder arguments must be provided for the volume device name and mount point when specifying the <code>-o</code> <code>all</code> option. The volume device can be a dummy value, such as <code>none</code>. Any valid directory can be specified for the mount point, such as <code>/tmp</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94842"></a><a id="sthref1242"></a>Example 13-7 Using the mount command</p>
<pre>
# /sbin/mount -F acfs /dev/asm/volume1-123 /u01/app/acfsmounts/myacfs

# /sbin/mount -F acfs -o all none /tmp
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABIHGCF"></a><a id="OSTMG94843"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1243"></a><a id="sthref1244"></a>umount/umountall</h2>
<p class="subhead2"><a id="OSTMG94844"></a>Purpose</p>
<p>Dismounts an Oracle ACFS file system on the Solaris operating system.</p>
<p class="subhead2"><a id="OSTMG94845"></a>Syntax and Description</p>
<br />
<code>umount</code> <code>-V</code> [<code><span class="codeinlineitalic">mount_point</span></code> | <code><span class="codeinlineitalic">volume_device</span></code>]<br />
<code>umountall</code> <code>-F</code> <code>acfs</code><br />
<p><code>unmountall</code> <code>-F</code> <code>acfs</code> dismounts all Oracle ACFS file systems.</p>
<p><a href="#BABFADFJ">Table 13-10</a> contains the options available with the <code>umount</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94846"></a><a id="sthref1245"></a><a id="BABFADFJ"></a>Table 13-10 Options for the Solaris umount command</p>
<table class="cellalignment1546" title="Options for the Solaris umount command" summary="This table lists the options for the Solaris umount command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t25">Option</th>
<th class="cellalignment1547" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t25" headers="r1c1-t25">
<p><code>-V</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t25 r1c2-t25">
<p>Echoes the complete command line, but does not run the command. Use this option is used to verify and validate the command line before execution. Valid only with <code>umount</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t25" headers="r1c1-t25">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t25 r1c2-t25">
<p>Specifies the directory where the file system is mounted. Valid only with <code>umount</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t25" headers="r1c1-t25">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t25 r1c2-t25">
<p>Specifies the Oracle ADVM volume device name associated with the file system. Valid only with <code>umount</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t25" headers="r1c1-t25">
<p><code>-F</code> <code>acfs</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t25 r1c2-t25">
<p>Specifies the type of file system on Solaris. <code>acfs</code> designates the Oracle ACFS type. Valid only with <code>umountall</code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>umount</code> and <code>umountall</code> detach an Oracle ACFS from the file system hierarchy on the current node. If a file system is busy, <code>umount</code> and <code>umountall</code> fail.</p>
<p><code>root</code> privileges are required to run the <code>umount</code> and <code>umountall</code> commands.</p>
<p class="subhead2"><a id="OSTMG94847"></a>Examples</p>
<p>The following examples show how to dismount an Oracle ACFS file system. The first example specifies the mount point of the file system to dismount. The second example specifies the volume device associated with the file system to dismount. The third example dismounts all Oracle ACFS file systems.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94848"></a><a id="sthref1246"></a>Example 13-8 Using the umount command</p>
<pre>
# /sbin/umount /dev/asm/volume1-123

# /sbin/umount /u01/app/acfsmounts/myacfs

# /sbin/umountall -F acfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfs_util002.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfs_util004.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
