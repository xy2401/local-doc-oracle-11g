<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Command-Line Tools for Replication</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfs_util006.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfs_util008.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">33/40</span> <!-- End Header --><a id="BABFIFEJ"></a><a id="OSTMG94020"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Oracle ACFS Command-Line Tools for Replication</h1>
<p><a href="#BABHFFCG">Table 13-29</a> contains a summary of the commands for Oracle ACFS replication.</p>
<p>You can run <code>acfsutil</code> <code>help</code> on all platforms to display help text. You can run <code>acfsutil</code> <code>version</code> on all platforms to display the Oracle ACFS version.</p>
<p>When the options are entered with commands on a Windows platform, use <code>/</code> instead of <code>-</code> with the option. For example, you can display help for <code>acfsutil</code> on a Linux platform with <code>acfsutil</code> <code>-h</code>. On a Windows platform, use <code>acfsutil</code> <code>/h</code>.</p>
<p>Note that a mount point on a Windows operating system can be a drive letter or a directory including the drive letter.</p>
<p>You must use a trailing back slash when specifying a drive letter mount point with replication commands on Windows platforms. For example, use <code>p:\</code> (not <code>p:</code>) for a drive letter mount point. If the trailing back slash is omitted, this could trigger a Windows path substitution mechanism that replaces the drive letter with the last accessed path on that drive.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94943"></a><a id="sthref1296"></a><a id="BABHFFCG"></a>Table 13-29 Summary of commands for Oracle ACFS replication</p>
<table class="cellalignment1546" title="Summary of commands for Oracle ACFS replication" summary="Oracle ACFS replication commands" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t50">Command</th>
<th class="cellalignment1547" id="r1c2-t50">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t50" headers="r1c1-t50">
<p><a href="#BABGGAJJ">acfsutil repl bg</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t50 r1c2-t50">
<p>Starts, stops, or displays information about the Oracle ACFS replication background processes.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t50" headers="r1c1-t50">
<p><a href="#BABGHDHI">acfsutil repl compare</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t50 r1c2-t50">
<p>Verifies that files have been replicated on an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t50" headers="r1c1-t50">
<p><a href="#BABJCCGH">acfsutil repl info</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t50 r1c2-t50">
<p>Displays information about replication processing on an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t50" headers="r1c1-t50">
<p><a href="#BABCEDEH">acfsutil repl init</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t50 r1c2-t50">
<p>Initiates replication on files in an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t50" headers="r1c1-t50">
<p><a href="#BABJCJDE">acfsutil repl pause</a></p>
</td>
<td class="cellalignment1543" headers="r6c1-t50 r1c2-t50">
<p>Pauses replication on an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t50" headers="r1c1-t50">
<p><a href="#BABIFBAD">acfsutil repl resume</a></p>
</td>
<td class="cellalignment1543" headers="r7c1-t50 r1c2-t50">
<p>Resumes replication on an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t50" headers="r1c1-t50">
<p><a href="#BABJAHFH">acfsutil repl sync</a></p>
</td>
<td class="cellalignment1543" headers="r8c1-t50 r1c2-t50">
<p>Synchronizes primary and standby file systems.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t50" headers="r1c1-t50">
<p><a href="#BABHJEBB">acfsutil repl terminate</a></p>
</td>
<td class="cellalignment1543" headers="r9c1-t50 r1c2-t50">
<p>Stops all replication activity on the Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t50" headers="r1c1-t50">
<p><a href="#BABBCCII">acfsutil repl trace</a></p>
</td>
<td class="cellalignment1543" headers="r10c1-t50 r1c2-t50">
<p>Specifies the trace level for replication information.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t50" headers="r1c1-t50">
<p><a href="#BABEGHIJ">acfsutil repl update</a></p>
</td>
<td class="cellalignment1543" headers="r11c1-t50 r1c2-t50">
<p>Updates replication information while replication is running.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="BABGGAJJ"></a><a id="OSTMG94944"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1297"></a>acfsutil repl bg</h2>
<p class="subhead2"><a id="OSTMG94945"></a>Purpose</p>
<p>Starts, stops, or displays information about the Oracle ACFS replication background processes.</p>
<p class="subhead2"><a id="OSTMG94946"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>bg</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>bg</code> {<code>start</code> |<code>stop</code>|<code>info</code>} <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>bg</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABJDBGG">Table 13-30</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>bg</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94947"></a><a id="sthref1298"></a><a id="BABJDBGG"></a>Table 13-30 Options for the acfsutil repl bg command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl bg command" summary="This table lists the options for the acfsutil repl bg command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t51">Option</th>
<th class="cellalignment1547" id="r1c2-t51">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t51" headers="r1c1-t51">
<p><code>start</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t51 r1c2-t51">
<p>Starts the replication background processing.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t51" headers="r1c1-t51">
<p><code>stop</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t51 r1c2-t51">
<p>Stops the replication background processing</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t51" headers="r1c1-t51">
<p><code>info</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t51 r1c2-t51">
<p>Displays information about the replication background processes.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t51" headers="r1c1-t51">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t51 r1c2-t51">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>Oracle ACFS replication uses background processes to transport file system changes, to communicate between the sites hosting the primary and standby file systems, to monitor the state of replication processing, and to apply file system changes to the standby file system. These background processes must be running for replication to function.</p>
<p>When replication is started with the <code>acfsutil</code> <code>repl</code> <code>init</code> command, these background processes are started and are registered with Oracle Clusterware so that they are automatically restarted after a reboot or system crash. Usually it is not necessary to run the <code>acfsutil</code> <code>repl</code> <code>bg</code> command because Oracle Clusterware automatically starts and stops the background processes as file systems are mounted and unmounted or node membership changes after replication is initialized. However, replication cannot progress if one of the daemons is not running. In this case running <code>repl</code> <code>bg</code> <code>stop</code> followed by <code>repl</code> <code>bg</code> <code>start</code> ensures that all the daemons are running.</p>
<p><code>acfsutil</code> <code>bg</code> <code>start</code> ensures that all the necessary daemons for replication are running. The daemons may run on different cluster nodes. <code>acfsutil</code> <code>bg</code> <code>stop</code> ensures that no daemons for the file system are running on the local node and relocates the daemons to another node if available.</p>
<p>You must have system administrator privileges to run the <code>acfsutil</code> <code>repl</code> <code>bg</code> <code>start</code> or <code>acfsutil</code> <code>repl</code> <code>bg</code> <code>stop</code> commands.You must have system administrator or Oracle ASM administrator privileges to run the <code>acfsutil</code> <code>repl</code> <code>bg</code> <code>info</code> command.</p>
<p class="subhead2"><a id="OSTMG94948"></a>Examples</p>
<p><a href="#BABGBIAE">Example 13-24</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>bg</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABGBIAE"></a><a id="OSTMG94949"></a>Example 13-24 Using the acfsutil repl bg command</p>
<pre>
$ /sbin/acfsutil repl bg start /u01/app/acfsmounts/myacfs

$ /sbin/acfsutil repl bg stop /u01/app/acfsmounts/myacfs

$ /sbin/acfsutil repl bg info /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABGHDHI"></a><a id="OSTMG94950"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1299"></a>acfsutil repl compare</h2>
<p class="subhead2"><a id="OSTMG94951"></a>Purpose</p>
<p>Verifies that files have been replicated on an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94952"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>compare</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>compare</code> [<code>-a</code>] [<code>-t</code> { <code>all</code> | <code><span class="codeinlineitalic">tagname</span></code>, ...}]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> <code><span class="codeinlineitalic">primary_mount_point</span></code> <code><span class="codeinlineitalic">standby_mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>compare</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABEGCFI">Table 13-31</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>compare</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94953"></a><a id="sthref1300"></a><a id="BABEGCFI"></a>Table 13-31 Options for the acfsutil repl compare command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl compare command" summary="This table lists the options for the acfsutil repl compare command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t52">Option</th>
<th class="cellalignment1547" id="r1c2-t52">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t52" headers="r1c1-t52">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t52 r1c2-t52">
<p>Compares all files and their extended attribute names.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t52" headers="r1c1-t52">
<p><code>-t</code> { <code>all</code> | <code><span class="codeinlineitalic">tagname</span></code>, ... }</p>
</td>
<td class="cellalignment1543" headers="r3c1-t52 r1c2-t52">
<p>Compares files with all or some of the tag names specified in the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. The <code>all</code> option specifies all tag names supplied in the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. A comma separated list of tag names must only use tag names specified during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t52" headers="r1c1-t52">
<p><code><span class="codeinlineitalic">primary_mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t52 r1c2-t52">
<p>Specifies the directory where the primary file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t52" headers="r1c1-t52">
<p><code><span class="codeinlineitalic">standby_mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t52 r1c2-t52">
<p>Specifies the directory where the standby file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>repl</code> <code>compare</code> command verifies all or part of the primary mount point has been replicated to the standby mount point. The standby mount point must be mounted locally for comparison. Best results are obtained when the primary file system is changing as little as possible.</p>
<p>The <code>-a</code> option is typically used when no tag names were specified during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. The <code>-a</code> option compares all files on the primary file system against those on the standby file system. The <code>-a</code> option also tests for extra files on the standby file system that do not exist on the primary.</p>
<p>The <code>-t</code> option is used when tags were specified during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. The <code>-t</code> operation locates all file names on the primary file system with the specified tag names and compares them to the corresponding files on the standby. The <code>-t</code> option takes as arguments either <code>all</code> option or a comma separated list of tag names. If the <code>-t</code> option is used with <code>all</code>, then all tag names supplied during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation are selected. Otherwise, any specified tag names must exactly match a tag name supplied during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. The <code>-t</code> option also tests for extra files on the standby file system that do not have an associated tag name that was specified during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation. The <code>acfsutil</code> <code>repl</code> <code>info</code> <code>-c</code> option can be used to determine what tags were specified during the <code>acfsutil</code> <code>repl</code> <code>init</code> operation.</p>
<p>If neither the <code>-a</code> nor <code>-t</code> option is provided, a primary to standby file comparison is done without testing tag names nor extended attributes.</p>
<p>If NFS is used to mount the standby file system locally, the standby cannot be checked for matching tag names and extended attributes due to limitations in the NFS protocol.</p>
<p class="subhead2"><a id="OSTMG94954"></a>Examples</p>
<p><a href="#BABDAEBC">Example 13-25</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>compare</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABDAEBC"></a><a id="OSTMG94955"></a>Example 13-25 Using the acfsutil repl compare command</p>
<pre>
$ /sbin/acfsutil repl compare /u01/app/acfsmounts/myacfs /nfs_mounted_standby
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABJCCGH"></a><a id="OSTMG94956"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1301"></a>acfsutil repl info</h2>
<p class="subhead2"><a id="OSTMG94957"></a>Purpose</p>
<p>Displays information about replication processing on an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94958"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>info</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>info</code> <code>-c</code> [<code>-v</code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>acfsutil</code> <code>repl</code> <code>info</code> <code>-s</code> [<code>-v</code>][<code>-l</code>] [<code>-n</code> <code><span class="codeinlineitalic">number</span></code>{m|<code>h</code>|<code>d</code>|<code>w</code>|<code>y</code>}]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-r</code> <code><span class="codeinlineitalic">start_time</span></code>[<code>#</code><code><span class="codeinlineitalic">stop_time</span></code>]] [<code>-f</code> <code><span class="codeinlineitalic">eventlog</span></code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>acfsutil</code> <code>repl</code> <code>info</code> [<code>-a</code>|<code>-e</code>|<code>-t</code>] [<code>-v</code>][<code>-l</code>]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-r</code> <code><span class="codeinlineitalic">start_time</span></code>[<code>#</code><code><span class="codeinlineitalic">stop_time</span></code>]] [<code>-f</code> <code><span class="codeinlineitalic">eventlog</span></code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>info</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABDGJDG">Table 13-32</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>info</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94959"></a><a id="sthref1302"></a><a id="BABDGJDG"></a>Table 13-32 Options for the acfsutil repl info command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl info command" summary="This table lists the options for the acfsutil repl info command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t53">Option</th>
<th class="cellalignment1547" id="r1c2-t53">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t53" headers="r1c1-t53">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t53 r1c2-t53">
<p>Displays only apply records from the replication event log. An apply record contains the date and time that the set of file system changes were captured on the primary file system and the date and time that they were applied on the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t53" headers="r1c1-t53">
<p><code>-c</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t53 r1c2-t53">
<p>Displays configuration information.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t53" headers="r1c1-t53">
<p><code>-e</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t53 r1c2-t53">
<p>Displays only error records from the replication event log.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t53" headers="r1c1-t53">
<p><code>-f</code> <code><span class="codeinlineitalic">eventlog</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t53 r1c2-t53">
<p>Specifies the path to the replication event log to be used as the source of the information. The default location is: <code><span class="codeinlineitalic">mount_point</span></code><code>/.ACFS/repl/logs/ReplicationEventsLog</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t53" headers="r1c1-t53">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t53 r1c2-t53">
<p>Displays help text.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t53" headers="r1c1-t53">
<p><code>-l</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t53 r1c2-t53">
<p>Displays last event only.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t53" headers="r1c1-t53">
<p><code>-n</code> <code><span class="codeinlineitalic">number</span></code>{<code>m</code>|<code>h</code>|<code>d</code>|<code>w</code>|<code>y</code>}</p>
</td>
<td class="cellalignment1543" headers="r8c1-t53 r1c2-t53">
<p>Specifies the interval to display information. <code><span class="codeinlineitalic">number</span></code> specifies the number of minutes (<code>m</code>), hours (<code>h</code>), days (<code>d</code>), weeks (<code>w</code>), or years (<code>y</code>). For example: <code>-n</code> <code>5d</code></p>
<p>The statistics are summarized in the units of time specified.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t53" headers="r1c1-t53">
<p><code>-r</code> <code><span class="codeinlineitalic">start_time</span></code>[<code>#</code><code><span class="codeinlineitalic">stop_time</span></code>]</p>
</td>
<td class="cellalignment1543" headers="r9c1-t53 r1c2-t53">
<p>Specifies the start and stop time to display information. The format for the time period is <code>yyyy-nn-ddThh:mm:ss</code>.</p>
<br />
<code>yyyy</code> - year<br />
<code>nn</code> - month (01..12)<br />
<code>dd</code> - day (01..31)<br />
<code>hh</code> - hour (00..23)<br />
<code>mm</code> - minute (00..59)<br />
<code>ss</code> - second (00..59)<br />
<p>For example:</p>
<p><code>-r</code> <code>2010-05-05T08:30:00#2010-05-05T15:30:00</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t53" headers="r1c1-t53">
<p><code>-s</code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t53 r1c2-t53">
<p>Displays statistical information. This option is valid only when run on the primary file system. It is important that the primary and standby nodes are running a network time service to ensure that the statistics are meaningful.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t53" headers="r1c1-t53">
<p><code>-t</code></p>
</td>
<td class="cellalignment1543" headers="r11c1-t53 r1c2-t53">
<p>Displays only transport records from the replication event log.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t53" headers="r1c1-t53">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r12c1-t53 r1c2-t53">
<p>Displays verbose output.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r13c1-t53" headers="r1c1-t53">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r13c1-t53 r1c2-t53">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>To display information about replication configuration, use <code>acfsutil</code> <code>repl</code> <code>info</code> with the <code>-c</code> option. To display information about replication statistics, use <code>acfsutil</code> <code>repl</code> <code>info</code> with the <code>-s</code> option. To display information about replication events, use <code>acfsutil</code> <code>repl</code> <code>info</code> with the <code>-a</code>, <code>-e</code>, or <code>-t</code> options.</p>
<p>You must have system administrator or Oracle ASM administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94960"></a>Examples</p>
<p><a href="#BABJHGHD">Example 13-26</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>info</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABJHGHD"></a><a id="OSTMG94961"></a>Example 13-26 Using the acfsutil repl info command</p>
<pre>
$ /sbin/acfsutil repl info -c /u01/app/acfsmounts/myacfs

$ /sbin/acfsutil repl info -s -n 5d /u01/app/acfsmounts/myacfs

$ /sbin/acfsutil repl info -a -v /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCEDEH"></a><a id="OSTMG94962"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1303"></a>acfsutil repl init</h2>
<p class="subhead2"><a id="OSTMG94963"></a>Purpose</p>
<p>Initiates replication on all the files in an Oracle ACFS file system or only those files with a specified list of tags.</p>
<p class="subhead2"><a id="OSTMG94964"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>init</code> <code>-h</code><br />
<br />
<code>acfsutil</code> <code>repl</code> <code>init</code> <code>primary</code> <code>-s</code> <code><span class="codeinlineitalic">standby_connect_string</span></code> [<code><span class="codeinlineitalic">tagname</span></code>...]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-m</code> <code><span class="codeinlineitalic">standby_mount_point</span></code>] [<code>-c</code> <code><span class="codeinlineitalic">primary_service</span></code>]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-d</code> <code><span class="codeinlineitalic">trace_level</span></code>] [<code>-z</code> {<code>on</code>|<code>off</code>}] <code><span class="codeinlineitalic">mount_point</span></code><br />
<br />
<code>acfsutil</code> <code>repl</code> <code>init</code> <code>standby</code> <code>-p</code> <code><span class="codeinlineitalic">primary_connect_string</span></code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-c</code> <code><span class="codeinlineitalic">standby_service</span></code>] [<code>-d</code> <code><span class="codeinlineitalic">trace_level</span></code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>init</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABEBBBB">Table 13-33</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>init</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94965"></a><a id="sthref1304"></a><a id="BABEBBBB"></a>Table 13-33 Options for the acfsutil repl init command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl init command" summary="This table lists the options for the acfsutil repl init command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t54">Option</th>
<th class="cellalignment1547" id="r1c2-t54">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t54" headers="r1c1-t54">
<p><code>primary</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t54 r1c2-t54">
<p>Specifies replication of the primary file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t54" headers="r1c1-t54">
<p><code>standby</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t54 r1c2-t54">
<p>Specifies replication of the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t54" headers="r1c1-t54">
<p><code>-s</code> <code><span class="codeinlineitalic">standby_conncect_string</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t54 r1c2-t54">
<p>Specifies the connection string for the site hosting the standby file system. The user in the connection string must have <code>SYSASM</code> and <code>SYSDBA</code> privileges.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t54" headers="r1c1-t54">
<p><code>-p</code> <code><span class="codeinlineitalic">primary_conncect_string</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t54 r1c2-t54">
<p>Specifies the connection string for the site hosting the primary file system. The user in the connection string must have <code>SYSASM</code> and <code>SYSDBA</code> privileges.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t54" headers="r1c1-t54">
<p><code><span class="codeinlineitalic">tagname</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t54 r1c2-t54">
<p>Specifies the tag names of the files to be replicated.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t54" headers="r1c1-t54">
<p><code>-m</code> <code><span class="codeinlineitalic">standby_mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t54 r1c2-t54">
<p>Specifies the directory where the standby file system is mounted if it is different than the primary file system. This is valid only for the primary file system initialization.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t54" headers="r1c1-t54">
<p><code>-c</code> <code><span class="codeinlineitalic">primary_service</span></code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t54 r1c2-t54">
<p>Specifies the service name for the primary file system. Required if the primary file system is using a different service name than the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t54" headers="r1c1-t54">
<p><code>-c</code> <code><span class="codeinlineitalic">standby_service</span></code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t54 r1c2-t54">
<p>Specifies the service name for the standby file system. Required if the standby file system is using a different service name than the primary file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t54" headers="r1c1-t54">
<p><code>-d</code> <code><span class="codeinlineitalic">trace_level</span></code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t54 r1c2-t54">
<p>Specifies the trace level setting (0..6) for replication logs.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t54" headers="r1c1-t54">
<p>-<code>z</code> <code>on</code>|<code>off</code></p>
</td>
<td class="cellalignment1543" headers="r11c1-t54 r1c2-t54">
<p>Turn on or off compression on replication logs. Compression is off by default.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t54" headers="r1c1-t54">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r12c1-t54 r1c2-t54">
<p>Specifies the directory where the file system is mounted. For <code>repl</code> <code>init</code> <code>primary</code>, <code><span class="codeinlineitalic">mount_point</span></code> specifies the primary file system. For <code>repl</code> <code>init</code> <code>standby</code>, <code><span class="codeinlineitalic">mount_point</span></code> specifies the standby file system.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>When the <code>acfsutil</code> <code>repl</code> <code>init</code> <code>primary</code> command completes successfully, processing begins to replicate initial copies of all specified files to the standby file system. In addition, any changes to these files and any new files subsequently created in the file system on the primary file system are captured and transported to the standby file system. However, successful completion of the command does not indicate that the specified files have been copied in full to the standby file system. To monitor the progress of the initial replication of all specified files to the standby file system, users run the <code>acfsutil</code> <code>repl</code> <code>info</code> <code>-c</code> command.</p>
<p>The first phase of the initial replication copy process begins with a complete copy of the file system directory tree structure, not the files within the directory tree, to the standby file system. During this time, attempts to rename directories may fail. After the directory tree structure has been successfully copied to the standby file system, replication initialization begins the second phase of the initial copy process: copying all files to be replicated to the standby file system. While a file is being copied to the standby file system during this initial replication phase, writes and truncates to that file are blocked.</p>
<p>Symbolic link files are replicated as is. If the symbolic link resolves to an absolute path name, and that path name does not exist on the standby file system, then referencing the symbolic link results in errors.</p>
<p>A new service name must be created for replication. You cannot use the <code>+ASM</code> service name. You must specify a unique service name for each file system that you want to replicate when there are multiple replicated file systems on a node or cluster.</p>
<p>A file system being replicated can only be mounted on one path for the primary or standby file system. Otherwise, dismounting any one of the paths on a node where it is mounted on multiple paths stops the replication background threads.</p>
<p>A replicated Oracle ACFS file system must be mounted on the same directory within a cluster. The file system does not have to be mounted on all of the nodes in a cluster, but if it is mounted, it must be mounted on the directory specified with the <code>acfsutil</code> <code>repl</code> <code>init</code> command. In addition, no other file system can be mounted on that directory on other nodes.</p>
<p>A single Oracle ACFS file system cannot be configured both as a primary and a standby file system. If replication is configured on the same host or within the same cluster, then the primary and standby file systems cannot use the same named mount point.</p>
<p>The primary file system must have a minimum size of 4 GB for each node that is mounting the file system. The standby file system must have a minimum size of 4 GB and should be sized appropriately for the amount of data being replicated and the space necessary for the replication logs sent from the primary file system.</p>
<p>The sites hosting the primary and standby file systems must be running the same operating system and must have the same machine architecture.</p>
<p>Oracle wallets can also be used to manage security credentials.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ASOAG160" href="../../network.112/e40393/asowalet.htm#ASOAG160"><span class="italic">Oracle Database Advanced Security Administrator's Guide</span></a> for information about Oracle wallets</p>
</li>
<li>
<p><a class="olink ADLOB46075" href="../../appdev.112/e18294/adlob_hierarch.htm#ADLOB46075"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for information about wallet management</p>
</li>
<li>
<p><a class="olink NETRF182" href="../../network.112/e10835/sqlnet.htm#NETRF182"><span class="italic">Oracle Database Net Services Reference</span></a> for information about wallet parameters in the <code>SQLNET.ORA</code> file</p>
</li>
</ul>
</div>
<p>You must have system administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94966"></a>Examples</p>
<p><a href="#BABBJGEE">Example 13-27</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>init</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABBJGEE"></a><a id="OSTMG94967"></a>Example 13-27 Using the acfsutil repl init command</p>
<pre>
$ /sbin/acfsutil repl init primary 
     -s standby_admin/standby_passwd@standby_repl_site
     -m /standby/repl_data -c primary_repl_service 
     /acfsmounts/repl_data

$ /sbin/acfsutil repl init standby 
    -p primary_admin/primary_passwd@primary_repl_site
    -c standby_repl_service /standby/repl_data
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABJCJDE"></a><a id="OSTMG94968"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1305"></a>acfsutil repl pause</h2>
<p class="subhead2"><a id="OSTMG94969"></a>Purpose</p>
<p>Pauses replication on an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94970"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>pause</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>pause</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>pause</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABJDEDC">Table 13-34</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>pause</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94971"></a><a id="sthref1306"></a><a id="BABJDEDC"></a>Table 13-34 Options for the acfsutil repl pause command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl pause command" summary="This table lists the options for the acfsutil repl pause command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t56">Option</th>
<th class="cellalignment1547" id="r1c2-t56">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t56" headers="r1c1-t56">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t56 r1c2-t56">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>repl</code> <code>pause</code> command temporarily stops the replication process until the <code>acfsutil</code> <code>repl</code> <code>resume</code> command is run. The command can be run at either the site hosting the primary or a standby file system. <code>acfsutil</code> <code>repl</code> <code>resume</code> should be run soon after <code>acfsutil</code> <code>repl</code> <code>pause</code> to resume replication.</p>
<p>The <code>acfsutil</code> <code>repl</code> <code>pause</code> command can be used to temporarily stop the transportation of replication logs from the primary file system to the standby file system, but logs continue to be generated on the primary file system. Note that logs are not deleted until they are transported to the standby file system and applied to the standby file system.</p>
<p>The <code>acfsutil</code> <code>repl</code> <code>pause</code> command can also be used to temporarily stop the application of replication logs to a standby file system, but the command does not stop the transportation of logs to the standby file system. Note that logs are not deleted from the standby file system until they are applied to the file system.</p>
<p>When replication is paused on either the site hosting the primary or standby file system, replication logs still accumulate on the standby and primary file system. These logs can consume all available storage space in the file system so you must check available storage on the sites hosting the file systems if you have paused replication. Ensure that you run <code>acfsutil</code> <code>repl</code> <code>resume</code> before the accumulated replication logs consume all available space in the file system.</p>
<p>You must have system administrator or Oracle ASM administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94972"></a>Examples</p>
<p><a href="#BABGFGCA">Example 13-28</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>pause</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABGFGCA"></a><a id="OSTMG94973"></a>Example 13-28 Using the acfsutil repl pause command</p>
<pre>
$ /sbin/acfsutil repl pause /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABIFBAD"></a><a id="OSTMG94974"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1307"></a>acfsutil repl resume</h2>
<p class="subhead2"><a id="OSTMG94975"></a>Purpose</p>
<p>Resumes replication on an Oracle ACFS file system where replication has been paused.</p>
<p class="subhead2"><a id="OSTMG94976"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>resume</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>resume</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>resume</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABEDHAJ">Table 13-35</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>resume</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94977"></a><a id="sthref1308"></a><a id="BABEDHAJ"></a>Table 13-35 Options for the acfsutil repl resume command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl resume command" summary="This table lists the options for the acfsutil repl resume command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t57">Option</th>
<th class="cellalignment1547" id="r1c2-t57">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t57" headers="r1c1-t57">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t57 r1c2-t57">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>This command resumes the replication process after the <code>acfsutil</code> <code>repl</code> <code>pause</code> command has been run. This command should be run soon after replication has been paused with the <code>acfsutil</code> <code>repl</code> <code>pause</code> command.</p>
<p>You must have system administrator or Oracle ASM administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94978"></a>Examples</p>
<p><a href="#BABBFAGH">Example 13-29</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>resume</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABBFAGH"></a><a id="OSTMG94979"></a>Example 13-29 Using the acfsutil repl resume command</p>
<pre>
$ /sbin/acfsutil repl resume /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABJAHFH"></a><a id="OSTMG94980"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1309"></a>acfsutil repl sync</h2>
<p class="subhead2"><a id="OSTMG94981"></a>Purpose</p>
<p>Synchronizes primary and standby file systems.</p>
<p class="subhead2"><a id="OSTMG94982"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>sync</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>sync</code> [<code>apply</code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>sync</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABGAEHF">Table 13-36</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>sync</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94983"></a><a id="sthref1310"></a><a id="BABGAEHF"></a>Table 13-36 Options for the acfsutil repl sync command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl sync command" summary="This table lists the options for the acfsutil repl sync command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t58">Option</th>
<th class="cellalignment1547" id="r1c2-t58">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t58" headers="r1c1-t58">
<p><code>apply</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t58 r1c2-t58">
<p>Specifies that all changes be applied to the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t58" headers="r1c1-t58">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t58 r1c2-t58">
<p>Specifies the directory where the primary file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>repl</code> <code>sync</code> command can be used to synchronize the state of the primary and standby file system. This command can only be run on the site hosting the primary file system.</p>
<p>You should first quiesce your applications and run a sync(1) call so that the synchronized state is known and meaningful to you. The <code>acfsutil</code> <code>repl</code> <code>sync</code> command then causes all outstanding replication data to be shipped from the primary to the standby file system.</p>
<p>The <code>acfsutil</code> <code>repl</code> <code>sync</code> command returns success when this transfer is complete or, if the <code>apply</code> parameter is supplied, when all of these changes have been successfully applied to the standby file system. At this point, unless an unmount of the last node on the primary site cluster is about to occur, applications can be restarted. <code>acfsutil</code> <code>repl</code> <code>sync</code> can be used before dismounting the file system on the last node to ensure that all modifications have been sent to the standby file system.</p>
<p>If <code>acfsutil</code> <code>repl</code> <code>info</code> <code>-c</code> reports the primary file system is in the <code>Initializing</code> state, the <code>acfsutil</code> <code>repl</code> <code>sync</code> command does not guarantee that all files to be replicated in the file system have been sent to the standby file system. Files that existed in the file system before running the <code>acfsutil</code> <code>repl</code> <code>init</code> command are sent to the standby file system in the background.</p>
<p>You must have system administrator or Oracle ASM administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94984"></a>Examples</p>
<p><a href="#BABEFHAG">Example 13-30</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>sync</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABEFHAG"></a><a id="OSTMG94985"></a>Example 13-30 Using the acfsutil repl sync command</p>
<pre>
$ /sbin/acfsutil repl sync /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABHJEBB"></a><a id="OSTMG94986"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1311"></a>acfsutil repl terminate</h2>
<p class="subhead2"><a id="OSTMG94987"></a>Purpose</p>
<p>Stops all replication activity on the Oracle ACFS file system at the site where it is run.</p>
<p class="subhead2"><a id="OSTMG94988"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>terminate</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>terminate</code> <code>primary</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>acfsutil</code> <code>repl</code> <code>terminate</code> <code>standby</code> [<code>immediate</code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>terminate</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABFCCDB">Table 13-37</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>terminate</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94989"></a><a id="sthref1312"></a><a id="BABFCCDB"></a>Table 13-37 Options for the acfsutil repl terminate command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl terminate command" summary="This table lists the options for the acfsutil repl terminate command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t59">Option</th>
<th class="cellalignment1547" id="r1c2-t59">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t59" headers="r1c1-t59">
<p><code>primary</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t59 r1c2-t59">
<p>Stops replication on the primary file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t59" headers="r1c1-t59">
<p><code>standby</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t59 r1c2-t59">
<p>Stops replication on the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t59" headers="r1c1-t59">
<p><code>immediate</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t59 r1c2-t59">
<p>Stops replication processing immediately on the standby file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t59" headers="r1c1-t59">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t59 r1c2-t59">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>repl</code> <code>terminate</code> command stops all replication processing. When terminating replication, you should terminate replication for the primary file system first, and then the standby file system. If you want to ensure all changes are sent to the standby file system before terminating the primary site, ensure that all applications are quiesced and run the <code>acfsutil</code> <code>repl</code> <code>sync</code> command. The terminate command must be run on both sites if both sites hosting the file systems are available.</p>
<p>After <code>acfsutil</code> <code>repl</code> <code>terminate</code> <code>standby</code> has been run, you can use the standby file system in read-write mode. After <code>acfsutil</code> <code>repl</code> <code>terminate</code> has been run on either the primary file system or standby file system, you must start replication from the beginning with the <code>acfsutil</code> <code>repl</code> <code>init</code> command.</p>
<p>The <code>repl</code> <code>terminate</code> <code>standby</code> command waits until replication data at the standby file system has been applied. If you want to terminate replication immediately without applying all the replication data, use the <code>immediate</code> option. However, this option can leave some files at the standby file system in an indeterminate state.</p>
<p>To momentarily stop Oracle ACFS replication, you can use the <code>acfsutil</code> <code>repl</code> <code>pause</code> command, followed soon after by the <code>acfsutil</code> <code>repl</code> <code>resume</code> command.</p>
<p>You must have system administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94990"></a>Examples</p>
<p><a href="#BABEBGAI">Example 13-31</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>terminate</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABEBGAI"></a><a id="OSTMG94991"></a>Example 13-31 Using the acfsutil repl terminate command</p>
<pre>
$ /sbin/acfsutil repl terminate /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABBCCII"></a><a id="OSTMG94992"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1313"></a>acfsutil repl trace</h2>
<p class="subhead2"><a id="OSTMG94993"></a>Purpose</p>
<p>Sets the replication trace level for gathering trace information on an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG94994"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>trace</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>trace</code> <code><span class="codeinlineitalic">level</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>trace</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABJGEAH">Table 13-39</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>trace</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG94995"></a><a id="sthref1314"></a><a id="sthref1315"></a>Table 13-38 Options for the acfsutil repl trace command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl trace command" summary="This table lists the options for the acfsutil repl trace command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t60">Option</th>
<th class="cellalignment1547" id="r1c2-t60">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t60" headers="r1c1-t60">
<p><code><span class="codeinlineitalic">level</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t60 r1c2-t60">
<p>Specifies the trace level setting (0..6). The default level is 2.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t60" headers="r1c1-t60">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t60 r1c2-t60">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>Increasing the trace level can have a performance impact and should be done at the recommendation of Oracle support services.</p>
<p>Trace files for Oracle ACFS replication are stored in the following locations:</p>
<pre>
GRID_HOME/log/host_name/acfsrepl*
GRID_HOME/log/host_name/client/acfsutil.log
</pre>
<p>You must have system administrator or Oracle ASM administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG94996"></a>Examples</p>
<p><a href="#BABEIFED">Example 13-32</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>trace</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABEIFED"></a><a id="OSTMG94997"></a>Example 13-32 Using the acfsutil repl trace command</p>
<pre>
$ /sbin/acfsutil repl trace 5 /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABEGHIJ"></a><a id="OSTMG94998"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1316"></a>acfsutil repl update</h2>
<p class="subhead2"><a id="OSTMG94999"></a>Purpose</p>
<p>Updates replication information while replication is running on an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95000"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>repl</code> <code>update</code> <code>-h</code><br />
<code>acfsutil</code> <code>repl</code> <code>update</code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-p</code> <code><span class="codeinlineitalic">primary_connect_string</span></code> ] [<code>-s</code> <code><span class="codeinlineitalic">standby_connect_string</span></code>] [<code>-z</code> {<code>on</code>|<code>off</code>}]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>repl</code> <code>update</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABJGEAH">Table 13-39</a> contains the options available with the <code>acfsutil</code> <code>repl</code> <code>update</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95001"></a><a id="sthref1317"></a><a id="BABJGEAH"></a>Table 13-39 Options for the acfsutil repl update command</p>
<table class="cellalignment1546" title="Options for the acfsutil repl update command" summary="This table lists the options for the acfsutil repl update command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t61">Option</th>
<th class="cellalignment1547" id="r1c2-t61">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t61" headers="r1c1-t61">
<p><code>-p</code> <code><span class="codeinlineitalic">primary_connect_string</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t61 r1c2-t61">
<p>Specifies the connection string for the primary file system. The user in the connection string must have <code>SYSASM</code> and <code>SYSDBA</code> privileges.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t61" headers="r1c1-t61">
<p><code>-s</code> <code><span class="codeinlineitalic">standby_connect_string</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t61 r1c2-t61">
<p>Specifies the connection string for the standby file system. The user in the connection string must have <code>SYSASM</code> and <code>SYSDBA</code> privileges.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t61" headers="r1c1-t61">
<p>-<code>z</code> <code>on</code>|<code>off</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t61 r1c2-t61">
<p>Turn on or off compression on replication logs. Compression is off by default.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t61" headers="r1c1-t61">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t61 r1c2-t61">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>repl</code> <code>update</code> command updates replication information after replication has been started. This command can only be run on the site hosting the primary file system. The connection strings for the primary and standby file systems can be altered.</p>
<p>You can specify any combination of the <code>-p</code>, <code>-s</code>, and <code>-z</code> options, but you must specify at least one of the options.</p>
<p>While replication is running, compression can be turned on or off with the <code>-z</code> option.</p>
<p>You must have system administrator privileges to run this command.</p>
<p class="subhead2"><a id="OSTMG95002"></a>Examples</p>
<p><a href="#BABHBGDG">Example 13-33</a> shows the use of the <code>acfsutil</code> <code>repl</code> <code>update</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABHBGDG"></a><a id="OSTMG95003"></a>Example 13-33 Using the acfsutil repl update command</p>
<pre>
$ /sbin/acfsutil repl update -s mystandby@oracle.com /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfs_util006.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfs_util008.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
