<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Command-Line Tools for Encryption</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfs_util008.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfs_util010.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">35/40</span> <!-- End Header --><a id="BABIFAIC"></a><a id="OSTMG94010"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Oracle ACFS Command-Line Tools for Encryption</h1>
<p><a href="#BABEIGIJ">Table 13-66</a> contains a summary of the commands for Oracle ACFS encryption.</p>
<p>You can run <code>acfsutil</code> <code>help</code> on all platforms to display help text. You can run <code>acfsutil</code> <code>version</code> on all platforms to display the Oracle ACFS version.</p>
<p>When the options are entered with commands on a Windows platform, use <code>/</code> instead of <code>-</code> with the option. For example, you can display help for <code>acfsutil</code> on a Linux platform with <code>acfsutil</code> <code>-h</code>. On a Windows platform, use <code>acfsutil</code> <code>/h</code>.</p>
<p>Note that a mount point on a Windows operating system can be a drive letter or a directory including the drive letter.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG95155"></a><a id="sthref1443"></a><a id="BABEIGIJ"></a>Table 13-66 Summary of commands for Oracle ACFS encryption</p>
<table class="cellalignment1546" title="Summary of commands for Oracle ACFS encryption" summary="Oracle ACFS encryption commands" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t89">Command</th>
<th class="cellalignment1547" id="r1c2-t89">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t89" headers="r1c1-t89">
<p><a href="#BABFIDEF">acfsutil encr info</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t89 r1c2-t89">
<p>Displays encryption-related information about Oracle ACFS file systems.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t89" headers="r1c1-t89">
<p><a href="#BABGAIGD">acfsutil encr init</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t89 r1c2-t89">
<p>Creates storage for encryption keys.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t89" headers="r1c1-t89">
<p><a href="#BABGDHHH">acfsutil encr off</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t89 r1c2-t89">
<p>Disables encryption for an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t89" headers="r1c1-t89">
<p><a href="#BABEBJBI">acfsutil encr on</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t89 r1c2-t89">
<p>Encrypts an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t89" headers="r1c1-t89">
<p><a href="#BABCIIHD">acfsutil encr rekey</a></p>
</td>
<td class="cellalignment1543" headers="r6c1-t89 r1c2-t89">
<p>Generates a new key and re-encrypts an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t89" headers="r1c1-t89">
<p><a href="#BABBGCAH">acfsutil encr set</a></p>
</td>
<td class="cellalignment1543" headers="r7c1-t89 r1c2-t89">
<p>Sets or changes encryption parameters for an Oracle ACFS file system.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="BABFIDEF"></a><a id="OSTMG95156"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1444"></a>acfsutil encr info</h2>
<p class="subhead2"><a id="OSTMG95157"></a>Purpose</p>
<p>Displays encryption-related information about Oracle ACFS file systems, directories, or files.</p>
<p class="subhead2"><a id="OSTMG95158"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>info</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>info</code> <code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code> [[<code>-r</code>] <code><span class="codeinlineitalic">path</span></code> [<code><span class="codeinlineitalic">path</span></code>&hellip;]]<br />
<p><code>acfsutil</code> <code>encr</code> <code>info</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABBIHBJ">Table 13-67</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>info</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95159"></a><a id="sthref1445"></a><a id="BABBIHBJ"></a>Table 13-67 Options for the acfsutil encr info command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr info command" summary="This table lists the options for the acfsutil encr info command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t90">Option</th>
<th class="cellalignment1547" id="r1c2-t90">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t90" headers="r1c1-t90">
<p><code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t90 r1c2-t90">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t90" headers="r1c1-t90">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t90 r1c2-t90">
<p>Specifies recursive action under an existing directory folder identified by <code><span class="codeinlineitalic">path</span></code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t90" headers="r1c1-t90">
<p><code><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t90 r1c2-t90">
<p>Specifies the absolute or relative path of a directory. Multiple path values are allowed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>If <code>-m</code> is specified without a <code><span class="codeinlineitalic">path</span></code>, the encryption status, algorithm, and key length are displayed for the file system level.</p>
<p>If <code>-r</code> is specified with a <code><span class="codeinlineitalic">path</span></code>, the encryption status, algorithm, and key length are displayed for all objects under the directory specified by <code><span class="codeinlineitalic">path</span></code>.</p>
<p>The <code>acfsutil</code> <code>encr</code> <code>info</code> command displays encryption status and parameters for files in a snapshot if the files are specified with the <code><span class="codeinlineitalic">path</span></code> option.</p>
<p>This command fails when it is run on realm-secured objects.</p>
<p>Any user can run this command to display encryption information about a file system, directory, or file.</p>
<p class="subhead2"><a id="OSTMG95160"></a>Examples</p>
<p>The following are examples of the use of <code>acfsutil</code> <code>encr</code> <code>info</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95161"></a><a id="sthref1446"></a>Example 13-59 Using the acfsutil encr info command</p>
<pre>
# /sbin/acfsutil encr info -m /u01/app/acfsmounts/myacfs

# /sbin/acfsutil encr info -m /u01/app/acfsmounts/myacfs 
                           -r /u01/app/acfsmounts/myacfs/myfiles
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABGAIGD"></a><a id="OSTMG95162"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1447"></a>acfsutil encr init</h2>
<p class="subhead2"><a id="OSTMG95163"></a>Purpose</p>
<p>Creates storage for encryption keys.</p>
<p class="subhead2"><a id="OSTMG95164"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>init</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>init</code> [<code>-p</code> ]<br />
<p><code>acfsutil</code> <code>encr</code> <code>init</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABCHICE">Table 13-68</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>init</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95165"></a><a id="sthref1448"></a><a id="BABCHICE"></a>Table 13-68 Options for the acfsutil encr init command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr init command" summary="This table lists the options for the acfsutil encr init command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t91">Option</th>
<th class="cellalignment1547" id="r1c2-t91">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t91" headers="r1c1-t91">
<p><code>-p</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t91 r1c2-t91">
<p>Creates PKCS (password-protected) storage for keys.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>encr</code> <code>init</code> command must be run before any other encryption <code>acfsutil</code> commands can be run. This command must be run once for each cluster on which Oracle ACFS encryption is run.</p>
<p>If the <code>-p</code> option is specified, you must provide a password when prompted. The password must conform to the format that is described in <a href="asmfs_util008.htm#BABIABFA">"acfsutil sec init"</a>.</p>
<p>If the <code>-p</code> option is not specified, a single sign-on (SSO) wallet is created.</p>
<p>Only a user with root or system administrator privileges can run this command.</p>
<p class="subhead2"><a id="OSTMG95166"></a>Examples</p>
<p>The following is an example of the use of <code>acfsutil</code> <code>encr</code> <code>init</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95167"></a><a id="sthref1449"></a>Example 13-60 Using the acfsutil encr init command</p>
<pre>
# /sbin/acfsutil encr init
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABGDHHH"></a><a id="OSTMG95168"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1450"></a>acfsutil encr off</h2>
<p class="subhead2"><a id="OSTMG95169"></a>Purpose</p>
<p>Disables encryption for an Oracle ACFS file system, directories, or individual files.</p>
<p class="subhead2"><a id="OSTMG95170"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>off</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>off</code> <code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code> [[<code>-r</code>] <code><span class="codeinlineitalic">path</span></code> [ <code><span class="codeinlineitalic">path</span></code>...]]<br />
<p><code>acfsutil</code> <code>encr</code> <code>off</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHGGHD">Table 13-70</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>off</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95171"></a><a id="sthref1451"></a><a id="sthref1452"></a>Table 13-69 Options for the acfsutil encr off command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr off command" summary="This table lists the options for the acfsutil encr off command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t92">Option</th>
<th class="cellalignment1547" id="r1c2-t92">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t92" headers="r1c1-t92">
<p><code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t92 r1c2-t92">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t92" headers="r1c1-t92">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t92 r1c2-t92">
<p>Specifies to disable encryption recursively under an existing directory identified by <code><span class="codeinlineitalic">path</span></code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t92" headers="r1c1-t92">
<p><code><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t92 r1c2-t92">
<p>Specifies the absolute or relative path of a directory. Multiple path values are allowed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>This command cannot be run on security realm-protected files.</p>
<p>Only an administrator can run this command on an Oracle ACFS file system (<code>-m</code> option without a <code><span class="codeinlineitalic">path</span></code> specified). When the <code>-m</code> option is specified without a <code><span class="codeinlineitalic">path</span></code>, all the files under the mount point are decrypted.</p>
<p>The <code><span class="codeinlineitalic">path</span></code> option can specify a path to a file or directory in a read-write snapshot. If the <code>-r</code> option is specified with the command on the root directory, the command does not transverse the snapshots under the <code>.ACFS</code> directory. If a decryption operation is specified at the file system level, then the operation does not process files and directories of snapshots in the <code>.ACFS/snaps/</code> directory.</p>
<p>Only a user with root or system administrator privileges can run this command to disable encryption on a file system. The file owner can also run this command to disable encryption on a directory or file.</p>
<p class="subhead2"><a id="OSTMG95172"></a>Examples</p>
<p>The following are examples of the use of <code>acfsutil</code> <code>encr</code> <code>off</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95173"></a><a id="sthref1453"></a>Example 13-61 Using the acfsutil encr off command</p>
<pre>
# /sbin/acfsutil encr off -m /u01/app/acfsmounts/myacfs

# /sbin/acfsutil encr off -m /u01/app/acfsmounts/myacfs
                          -r /u01/app/acfsmounts/myacfs/myfiles
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABEBJBI"></a><a id="OSTMG95174"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1454"></a>acfsutil encr on</h2>
<p class="subhead2"><a id="OSTMG95175"></a>Purpose</p>
<p>Encrypts an Oracle ACFS file system, directories, or individual files.</p>
<p class="subhead2"><a id="OSTMG95176"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>on</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>on</code> <code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-a</code> {<code>AES</code>} <code>-k</code> {<code>128</code>|<code>192</code>|<code>256</code>}] [[<code>-r</code>] <code><span class="codeinlineitalic">path</span></code> [ <code><span class="codeinlineitalic">path</span></code>...]]<br />
<p><code>acfsutil</code> <code>encr</code> <code>on</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHGGHD">Table 13-70</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>on</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95177"></a><a id="sthref1455"></a><a id="BABHGGHD"></a>Table 13-70 Options for the acfsutil encr on command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr on command" summary="This table lists the options for the acfsutil encr on command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t93">Option</th>
<th class="cellalignment1547" id="r1c2-t93">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t93" headers="r1c1-t93">
<p><code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t93 r1c2-t93">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t93" headers="r1c1-t93">
<p><code>-a</code> <code><span class="codeinlineitalic">algorithm</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t93 r1c2-t93">
<p>Specifies the encryption algorithm type for a directory or file. Advanced Encryption Standard (AES) is the only encryption algorithm supported for this release.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t93" headers="r1c1-t93">
<p><code>-k</code> <code><span class="codeinlineitalic">key_length</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t93 r1c2-t93">
<p>Specifies the encryption key length for a directory or file.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t93" headers="r1c1-t93">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t93 r1c2-t93">
<p>Specifies encryption recursively under existing directory folder identified by <code><span class="codeinlineitalic">path</span></code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t93" headers="r1c1-t93">
<p><code><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t93 r1c2-t93">
<p>Specifies the absolute or relative path of a directory. Multiple path values are allowed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>This command cannot be run on realm-protected files.</p>
<p>The default values for the <code>-a</code> and <code>-k</code> are determined by the volume parameters specified when <code>acfsutil</code> <code>encr</code> <code>set</code> was run. To set the key length at the volume level, use the <code>acfsutil</code> <code>encr</code> <code>set</code> command.</p>
<p>Only an administrator can run this command on an Oracle ACFS file system (<code>-m</code> option without a <code><span class="codeinlineitalic">path</span></code> specified). When the <code>-m</code> option is specified without a <code><span class="codeinlineitalic">path</span></code>, all the files under the mount point are encrypted.</p>
<p>The <code><span class="codeinlineitalic">path</span></code> option can specify a path to a file or directory in a read-write snapshot. If the <code>-r</code> option is specified with the command on the root directory, the command does not transverse the snapshots under the <code>.ACFS</code> directory. If an encryption operation is specified at the file system level, then the operation does not process files and directories of snapshots in the <code>.ACFS/snaps/</code> directory.</p>
<p>Only a user with root or system administrator privileges can run this command to enable encryption on a file system. The file owner can also run this command to enable encryption on a directory or file.</p>
<p class="subhead2"><a id="OSTMG95178"></a>Examples</p>
<p>The following are examples of the use of <code>acfsutil</code> <code>encr</code> <code>on</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95179"></a><a id="sthref1456"></a>Example 13-62 Using the acfsutil encr on command</p>
<pre>
# /sbin/acfsutil encr on -m /u01/app/acfsmounts/myacfs

# /sbin/acfsutil encr on -m /u01/app/acfsmounts/myacfs
                         -a AES -k 128 -r /u01/app/acfsmounts/myacfs/myfiles
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCIIHD"></a><a id="OSTMG95180"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1457"></a>acfsutil encr rekey</h2>
<p class="subhead2"><a id="OSTMG95181"></a>Purpose</p>
<p>Generates a new key and re-encrypts volume or file.</p>
<p class="subhead2"><a id="OSTMG95182"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>rekey</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>rekey</code> <code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;</code> {<code>-f</code> [<code>-r</code>] <code><span class="codeinlineitalic">path</span></code> [<code><span class="codeinlineitalic">path</span></code>&hellip;] |<code>-v</code> } [<code>-a</code> {<code>AES</code>} <code>-k</code> {<code>128</code>|<code>192</code> |<code>256</code>}]<br />
<p><code>acfsutil</code> <code>encr</code> <code>rekey</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABGECDI">Table 13-71</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>rekey</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95183"></a><a id="sthref1458"></a><a id="BABGECDI"></a>Table 13-71 Options for the acfsutil encr rekey command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr rekey command" summary="This table lists the options for the acfsutil encr rekey command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t94">Option</th>
<th class="cellalignment1547" id="r1c2-t94">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t94" headers="r1c1-t94">
<p><code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t94 r1c2-t94">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t94" headers="r1c1-t94">
<p><code>-f</code> [<code>-r</code>] <code><span class="codeinlineitalic">path</span></code> ...</p>
</td>
<td class="cellalignment1543" headers="r3c1-t94 r1c2-t94">
<p>Generates a new file encryption key for the specified path and then encrypts the data with the new key.</p>
<p>If -r is specified, the rekey operation is performed recursively under <code><span class="codeinlineitalic">path</span></code>.</p>
<p><code><span class="codeinlineitalic">path</span></code> specifies the absolute or relative path of a directory. Multiple path values are allowed.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t94" headers="r1c1-t94">
<p><code>-v</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t94 r1c2-t94">
<p>Generates a new volume encryption key (VEK) for the specified mount point and then encrypts all the file encryption keys in file system with the new key. Prompts for the wallet password because the wallet must be accessed to store the new VEK.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t94" headers="r1c1-t94">
<p><code>-a</code> <code><span class="codeinlineitalic">algorithm</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t94 r1c2-t94">
<p>Specifies the algorithm. Advanced Encryption Standard (AES) is the only encryption supported for this release.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t94" headers="r1c1-t94">
<p><code>-k</code> <code><span class="codeinlineitalic">key_length</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t94 r1c2-t94">
<p>Specifies the key length for the directory or file specified by <code><span class="codeinlineitalic">path</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>This command cannot be run on security realm-protected files.</p>
<p>The default values for the <code>-a</code> and <code>-k</code> are determined by the volume parameters specified when <code>acfsutil</code> <code>encr</code> <code>set</code> was run.</p>
<p>The <code><span class="codeinlineitalic">path</span></code> option can specify a path to a file or directory in a read-write snapshot. If the <code>-r</code> option is specified with the command on the root directory, the command does not transverse the snapshots under the <code>.ACFS</code> directory. If a rekey operation is specified at the file system level, then the operation does not process files and directories of snapshots in the <code>.ACFS/snaps/</code> directory.</p>
<p>Only a user with root or system administrator privileges can run this command with the <code>-v</code> option. The file owner can also run this command with the <code>-f</code> option to rekey encryption on the directory or file.</p>
<p>You should back up the Oracle Cluster Registry (OCR) after running this command with the <code>-v</code> option to ensure there is an OCR backup that contains all of the volume encryption keys (VEKs) for the file system.</p>
<p class="subhead2"><a id="OSTMG95184"></a>Examples</p>
<p>The following are examples of the use of <code>acfsutil</code> <code>encr</code> <code>rekey</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95185"></a><a id="sthref1459"></a>Example 13-63 Using the acfsutil encr rekey command</p>
<pre>
# /sbin/acfsutil encr rekey -m /u01/app/acfsmounts/myacfs -v

# /sbin/acfsutil encr rekey -m /u01/app/acfsmounts/myacfs -f
                            -r /u01/app/acfsmounts/myacfs/myfiles
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABBGCAH"></a><a id="OSTMG95186"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1460"></a>acfsutil encr set</h2>
<p class="subhead2"><a id="OSTMG95187"></a>Purpose</p>
<p>Sets or changes encryption parameters for an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95188"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>encr</code> <code>set</code> <code>-h</code><br />
<code>acfsutil</code> <code>encr</code> <code>set</code> [<code>-a</code> {<code>AES</code> } <code>-k</code> {<code>128</code>|<code>192</code>|<code>256</code>} | <code>-u</code>] <code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>encr</code> <code>set</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABIDBEC">Table 13-72</a> contains the options available with the <code>acfsutil</code> <code>encr</code> <code>set</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95189"></a><a id="sthref1461"></a><a id="BABIDBEC"></a>Table 13-72 Options for the acfsutil encr set command</p>
<table class="cellalignment1546" title="Options for the acfsutil encr set command" summary="This table lists the options for the acfsutil encr set command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t95">Option</th>
<th class="cellalignment1547" id="r1c2-t95">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t95" headers="r1c1-t95">
<p><code>-a</code> <code><span class="codeinlineitalic">algorithm</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t95 r1c2-t95">
<p>Specifies the algorithm. Advanced Encryption Standard (<code>AES</code>) is the default value and the only encryption supported for this release. The algorithm must be specified if <code>-k</code> is specified.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t95" headers="r1c1-t95">
<p><code>-k</code> {<code>128</code>|<code>192</code>|<code>256</code>}</p>
</td>
<td class="cellalignment1543" headers="r3c1-t95 r1c2-t95">
<p>Specifies the key length. The key length is set at the volume level. The default is <code>192</code>. Must be specified if <code>-a</code> is specified.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t95" headers="r1c1-t95">
<p><code>-u</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t95 r1c2-t95">
<p>Backs out encryption. Decrypts all encrypted files in the file system and reverts the file system to the state before <code>acfsutil</code> <code>encr</code> <code>set</code> was run on the file system. If security is being used, then this command can only be run after security has been backed out. To remove security, refer to <a href="asmfs_util008.htm#BABEHCAA">"acfsutil sec prepare"</a>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t95" headers="r1c1-t95">
<p><code>-m</code> <code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t95 r1c2-t95">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>Before running the <code>acfsutil</code> <code>encr</code> <code>set</code> command, you must first run the <code>acfsutil</code> <code>encr</code> <code>init</code> command.</p>
<p>The <code>acfsutil</code> <code>encr</code> <code>set</code> command configures encryption parameters for a file system, transparently generates a volume encryption key, and stores that the generated key in the key store that was previously configured with the <code>acfsutil</code> <code>encr</code> <code>init</code> command.</p>
<p>In addition <code>acfsutil</code> <code>encr</code> <code>set</code> creates the <code><span class="codeinlineitalic">mount_point</span></code><code>/.Security</code><code>/encryption/logs/</code> directory that contains the log file (<code>encr-</code><code><span class="codeinlineitalic">host_name</span></code><code>.log</code>) that collects auditing and diagnostic data.</p>
<p>Password requirements when storing the key are dependent on how the encryption key storage was configured. If <code>-p</code> was specified with <code>acfsutil</code> <code>encr</code> <code>init</code>, then a password is required to run this command.</p>
<p>The <code>acfsutil</code> <code>encr</code> <code>set</code> <code>&ndash;u</code> command is not allowed if any snapshots exist in the file system.</p>
<p>Only a user with root or system administrator privileges can run the <code>acfsutil</code> <code>encr</code> <code>set</code> command.</p>
<p>You should back up the Oracle Cluster Registry (OCR) after running this command to ensure there is an OCR backup that contains all of the volume encryption keys (VEKs) for the file system.</p>
<p class="subhead2"><a id="OSTMG95190"></a>Examples</p>
<p>The following example shows the use of <code>acfsutil</code> <code>encr</code> <code>set</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95191"></a><a id="sthref1462"></a>Example 13-64 Using the acfsutil encr set command</p>
<pre>
# /sbin/acfsutil encr set -a AES -k 256 -m /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfs_util008.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfs_util010.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
