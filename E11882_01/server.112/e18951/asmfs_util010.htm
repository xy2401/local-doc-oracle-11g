<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle ACFS Command-Line Utilities for Multiple Environments</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:23Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfs_util009.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmbysql.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">36/40</span> <!-- End Header --><a id="CACGEGDE"></a><a id="OSTMG94000"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1 class="sect1">Oracle ACFS Command-Line Utilities for Multiple Environments</h1>
<p><a href="#BABCCICG">Table 13-73</a> contains a summary of the Oracle ACFS command utilities for multiple environments.</p>
<p>You can use <code>acfsutil</code> <code>help</code> on all platforms to display help text. You can run <code>acfsutil</code> <code>version</code> on all platforms to display the Oracle ACFS version.</p>
<p>When the options are entered with commands on a Windows platform, use <code>/</code> instead of <code>-</code> with the option. For example, you can display help for <code>acfsutil</code> on a Linux platform with <code>acfsutil</code> <code>-h</code>. On a Windows platform, use <code>acfsutil</code> <code>/h</code>.</p>
<p>Note that a mount point on a Windows operating system can be a drive letter or a directory including the drive letter.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG95192"></a><a id="sthref1463"></a><a id="BABCCICG"></a>Table 13-73 Summary of Oracle ACFS command utilities for multiple environments</p>
<table class="cellalignment1546" title="Summary of Oracle ACFS command utilities for multiple environments" summary="ACFS Command Summary for commands on multiple operating systems" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t96">Command</th>
<th class="cellalignment1547" id="r1c2-t96">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t96" headers="r1c1-t96">
<p><a href="#CACDBEDJ">acfsdbg</a></p>
</td>
<td class="cellalignment1543" headers="r2c1-t96 r1c2-t96">
<p>Debugs an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t96" headers="r1c1-t96">
<p><a href="#CACIDJAA">acfsutil info file</a></p>
</td>
<td class="cellalignment1543" headers="r3c1-t96 r1c2-t96">
<p>Displays information for a file in an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t96" headers="r1c1-t96">
<p><a href="#BABDDAAJ">acfsutil info fs</a></p>
</td>
<td class="cellalignment1543" headers="r4c1-t96 r1c2-t96">
<p>Displays detailed Oracle ACFS file system information.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t96" headers="r1c1-t96">
<p><a href="#BABCCJFJ">acfsutil info id</a></p>
</td>
<td class="cellalignment1543" headers="r5c1-t96 r1c2-t96">
<p>Displays Oracle ACFS file system information for a given identifier and mount point.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t96" headers="r1c1-t96">
<p><a href="#CACGHBHI">acfsutil registry</a></p>
</td>
<td class="cellalignment1543" headers="r6c1-t96 r1c2-t96">
<p>Registers an Oracle ACFS file system with the Oracle ACFS mount registry.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t96" headers="r1c1-t96">
<p><a href="#CACDJGCE">acfsutil rmfs</a></p>
</td>
<td class="cellalignment1543" headers="r7c1-t96 r1c2-t96">
<p>Removes an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t96" headers="r1c1-t96">
<p><a href="#CACBACBA">acfsutil size</a></p>
</td>
<td class="cellalignment1543" headers="r8c1-t96 r1c2-t96">
<p>Resizes an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t96" headers="r1c1-t96">
<p><a href="#CACIBBFE">acfsutil snap create</a></p>
</td>
<td class="cellalignment1543" headers="r9c1-t96 r1c2-t96">
<p>Creates a snapshot of an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t96" headers="r1c1-t96">
<p><a href="#CACHEGEA">acfsutil snap delete</a></p>
</td>
<td class="cellalignment1543" headers="r10c1-t96 r1c2-t96">
<p>Deletes a snapshot of an Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t96" headers="r1c1-t96">
<p><a href="#BABCEJGI">acfsutil snap info</a></p>
</td>
<td class="cellalignment1543" headers="r11c1-t96 r1c2-t96">
<p>Displays information about Oracle ACFS file system snapshots.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t96" headers="r1c1-t96">
<p><a href="#BABEDAAE">acfsutil tune</a></p>
</td>
<td class="cellalignment1543" headers="r12c1-t96 r1c2-t96">
<p>Modifies or displays Oracle ACFS tunable parameters.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r13c1-t96" headers="r1c1-t96">
<p><a href="#BABGAEIF">advmutil canonical</a></p>
</td>
<td class="cellalignment1543" headers="r13c1-t96 r1c2-t96">
<p>Displays the canonical name of an Oracle ADVM volume.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r14c1-t96" headers="r1c1-t96">
<p><a href="#CACCHIHH">advmutil tune</a></p>
</td>
<td class="cellalignment1543" headers="r14c1-t96 r1c2-t96">
<p>Modifies or displays Oracle ADVM parameters.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r15c1-t96" headers="r1c1-t96">
<p><a href="#BABDIJEA">advmutil volinfo</a></p>
</td>
<td class="cellalignment1543" headers="r15c1-t96 r1c2-t96">
<p>Displays information about Oracle ADVM volumes.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<a id="CACDBEDJ"></a><a id="OSTMG95193"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1464"></a>acfsdbg</h2>
<p class="subhead2"><a id="OSTMG95194"></a>Purpose</p>
<p>Debugs an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95195"></a>Syntax and Description</p>
<br />
<code>acfsdbg</code> <code>-h</code><br />
<code>acfsdbg</code> [<code>-r</code>] [<code>-l</code>] <code><span class="codeinlineitalic">volume_device</span></code><br />
<p><a href="#BABIDFBB">Table 13-74</a> contains the options available with the <code>acfsdbg</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95196"></a><a id="sthref1465"></a><a id="BABIDFBB"></a>Table 13-74 Options for the acfsdbg command</p>
<table class="cellalignment1546" title="Options for the acfsdbg command" summary="This table lists the options for the ofsdbg command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t97">Option</th>
<th class="cellalignment1547" id="r1c2-t97">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t97" headers="r1c1-t97">
<p><code>-h</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t97 r1c2-t97">
<p>Prints out the usage message which displays the various options that are available when invoking the <code>acfsdbg</code> command, then exits.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t97" headers="r1c1-t97">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t97 r1c2-t97">
<p>Operates in read-only mode. No data is modified on the file system and all write commands are disabled. If the device is mounted anywhere, <code>acfsdbg</code> may not display the latest data because some of it is cached by the file system mounts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t97" headers="r1c1-t97">
<p><code>-l</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t97 r1c2-t97">
<p>Processes kernel log files. The default is to not process the log files.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t97" headers="r1c1-t97">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t97 r1c2-t97">
<p>Specifies the device name of the volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsdbg</code> is an extension to <code>fsck</code> and <code>acfschkdsk</code>, and is an interactive program that views and modifies on disk structures of the file system. This command is intended for experienced development and support engineers to examine on disk structures to diagnose problems. Use with caution.</p>
<p>When <code>acfsdbg</code> is started, it displays a command prompt. At the command prompt, you can enter the subcommands listed in <a href="#BABDFHCG">Table 13-75</a>.</p>
<p>You can also use <code>acfsdbg</code> for scripts by echoing <code>acfsdbg</code> subcommands with a shell pipe to the <code>acfsdbg</code> binary.</p>
<p>By default the file system is not modified when running the tool. If the <code>-l</code> option is used, the file system metadata in the transaction logs is applied before the interactive disk block dump session. The volume device must specify a volume with a dismounted Oracle ACFS file system. If the volume device has a mounted Oracle ACFS file system, <code>acfsdbg</code> displays an error message and exits.</p>
<p>You must be the administrator or a member of the Oracle ASM administrator group to run <code>acfsdbg</code>.</p>
<p class="subhead2"><a id="OSTMG95197"></a>Subcommands</p>
<p><a href="#BABDFHCG">Table 13-75</a> lists the subcommands of <code>acfsdbg</code>.</p>
<div class="tblhruleformalwide">
<p class="titleintable"><a id="OSTMG95198"></a><a id="sthref1466"></a><a id="BABDFHCG"></a>Table 13-75 Subcommands for acfsdbg</p>
<table class="cellalignment1546" title="Subcommands for acfsdbg" summary="This table lists the subcommands for the ofsdbg command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t98">Option</th>
<th class="cellalignment1547" id="r1c2-t98">Description</th>
<th class="cellalignment1547" id="r1c3-t98">Syntax</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t98" headers="r1c1-t98">
<p><code>calculate</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t98 r1c2-t98">
<p>Calculates simple arithmetic expressions</p>
<p>Valid operators: + - * / % &amp; | ^ ~ &lt;&lt; &gt;&gt;</p>
<p>White space starts a new expression</p>
<p>0-1 represents a negative 1</p>
</td>
<td class="cellalignment1543" headers="r2c1-t98 r1c3-t98">
<p><code>calculate</code> [<code>-v</code>] <code>expr</code> [&hellip;]</p>
<br />
<code>-v</code> Verbose mode<br />
<code>expr</code> Simple 2+2 expression</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t98" headers="r1c1-t98">
<p><code>cksum</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t98 r1c2-t98">
<p>Generates and replaces checksum in header</p>
<p>Header offset can be an expression as used by the <code>calculate</code> subcommand</p>
<p>White space starts a new header offset</p>
<p>Command is disabled in read-only mode</p>
</td>
<td class="cellalignment1543" headers="r3c1-t98 r1c3-t98">
<p><code>cksum</code> [<code>-C</code> | <code>-CE</code>] <code><span class="codeinlineitalic">header_offset</span></code> [&hellip;]</p>
<br />
<code>-C</code> Regenerate for normal structure checksum<br />
<code>-CE</code> Re-generate for Extent structure checksum<br />
<code><span class="codeinlineitalic">header_offset</span></code> Offset of the on disk structure header. The value can be an expression as used by the <code>calculate</code> subcommand</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t98" headers="r1c1-t98">
<p><code>close</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t98 r1c2-t98">
<p>Closes the open handle to the device</p>
</td>
<td class="cellalignment1543" headers="r4c1-t98 r1c3-t98">
<p><code>close</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t98" headers="r1c1-t98">
<p><code>echo</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t98 r1c2-t98">
<p>Echoes text on command line to stdout</p>
</td>
<td class="cellalignment1543" headers="r5c1-t98 r1c3-t98">
<p><code>echo</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t98" headers="r1c1-t98">
<p><code>fenum</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t98 r1c2-t98">
<p>Displays the specified File Entry TAble (FETA) entry</p>
</td>
<td class="cellalignment1543" headers="r6c1-t98 r1c3-t98">
<p><code>fenum</code> [<code>-f</code> | <code>-e</code> | <code>-d</code>] <code><span class="codeinlineitalic">FETA_entry_number</span></code></p>
<br />
<code>-f</code> Displays all on disk structures related to this structure<br />
<code>-e</code> Displays all on disk extent information related to this structure<br />
<code>-d</code> Casts the structure as a directory and displays its contents<br />
<code><span class="codeinlineitalic">FETA_entry_number</span></code> The File Entry Table number used to identify a file on the file system</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t98" headers="r1c1-t98">
<p><code>help</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t98 r1c2-t98">
<p>Displays help message</p>
</td>
<td class="cellalignment1543" headers="r7c1-t98 r1c3-t98">
<p><code>help</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t98" headers="r1c1-t98">
<p><code>offset</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t98 r1c2-t98">
<p>Displays structure at disk offset</p>
</td>
<td class="cellalignment1543" headers="r8c1-t98 r1c3-t98">
<p><code>offset</code> [<code>-c cast</code>] [<code>-f</code> | <code>-d</code>] <code><span class="codeinlineitalic">disk_offset</span></code></p>
<br />
<code>-f</code> Displays all on disk structures related to this structure<br />
<code>-d</code> Casts the structure as a directory and displays its contents<br />
<code><span class="codeinlineitalic">disk_offset</span></code> Disk offset to display. The value can be an expression as used by the <code>calculate</code> subcommand</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t98" headers="r1c1-t98">
<p><code>open</code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t98 r1c2-t98">
<p>Opens a handle to a device. The default is the volume device name entered on the command line</p>
</td>
<td class="cellalignment1543" headers="r9c1-t98 r1c3-t98">
<p><code>open</code> [<code><span class="codeinlineitalic">volume_device</span></code>]</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t98" headers="r1c1-t98">
<p><code>primary</code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t98 r1c2-t98">
<p>Sets the context of commands to the primary file system</p>
</td>
<td class="cellalignment1543" headers="r10c1-t98 r1c3-t98">
<p><code>primary</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t98" headers="r1c1-t98">
<p><code>prompt</code></p>
</td>
<td class="cellalignment1543" headers="r11c1-t98 r1c2-t98">
<p>Sets the prompt to the specified string</p>
</td>
<td class="cellalignment1543" headers="r11c1-t98 r1c3-t98">
<p><code>prompt</code> "<code><span class="codeinlineitalic">prompt_string</span></code>"</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t98" headers="r1c1-t98">
<p><code>quit</code></p>
</td>
<td class="cellalignment1543" headers="r12c1-t98 r1c2-t98">
<p>Exits the <code>acfsdbg</code> debugger command</p>
</td>
<td class="cellalignment1543" headers="r12c1-t98 r1c3-t98">
<p><code>quit</code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r13c1-t98" headers="r1c1-t98">
<p><code>read</code></p>
</td>
<td class="cellalignment1543" headers="r13c1-t98 r1c2-t98">
<p>Reads value from offset</p>
<p>The default size to read in is 8 bytes</p>
<p>The default count to read is 1</p>
</td>
<td class="cellalignment1543" headers="r13c1-t98 r1c3-t98">
<p><code>read</code> [<code>-1</code> | <code>-2</code> | <code>-4</code> | <code>-8</code> | <code>-s</code>] [<code><span class="codeinlineitalic">count</span></code>] <code><span class="codeinlineitalic">offset</span></code></p>
<br />
<code>-1</code> Read byte value<br />
<code>-2</code> Read 2 byte (short) value<br />
<code>-4</code> Read 4 byte (int) value<br />
<code>-8</code> Read 8 byte (long) value<br />
<code>-s</code> Read null- terminated string<br />
<code><span class="codeinlineitalic">count</span></code> Number of values to read. If not specified, the default is 1<br />
<code><span class="codeinlineitalic">offset</span></code> Disk offset to read. The value can be an expression as used by the <code>calculate</code> subcommand</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r14c1-t98" headers="r1c1-t98">
<p><code>snapshot</code></p>
</td>
<td class="cellalignment1543" headers="r14c1-t98 r1c2-t98">
<p>Sets the context of commands to the specified snapshot</p>
</td>
<td class="cellalignment1543" headers="r14c1-t98 r1c3-t98">
<p><code>snapshot</code> <code><span class="codeinlineitalic">snapshot_name</span></code></p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r15c1-t98" headers="r1c1-t98">
<p><code>write</code></p>
</td>
<td class="cellalignment1543" headers="r15c1-t98 r1c2-t98">
<p>Writes hexadecimal, octal, or decimal values at the disk offset, estimating how many bytes to write based on value size or number of digits in leading 0 hexadecimal values</p>
<p>The disk offset can be an expression used by the <code>calculate</code> subcommand</p>
<p>Numeric values can also be an expression as used by the <code>calculate</code> subcommand</p>
<p>This command is disabled in read-only mode</p>
</td>
<td class="cellalignment1543" headers="r15c1-t98 r1c3-t98">
<p><code>write</code> [<code>-1</code> | <code>-2</code> | <code>-4</code> | <code>-8</code> | <code>-c</code> | <code>-s</code>] [<code>-C</code> | <code>-CE</code>] <code><span class="codeinlineitalic">offset</span></code> <code><span class="codeinlineitalic">value</span></code></p>
<br />
<code>-1</code> Write byte value<br />
<code>-2</code> Write 2 byte (short) value<br />
<code>-4</code> Write 4 byte (int) value<br />
<code>-8</code> Write 8 byte (long) value<br />
<code>-c</code> Write text (no null termination). Enclose string in single-quotes (')<br />
<code>-s</code> Write null-terminated string. Enclose string in quotes (")<br />
<code>-C</code> Regenerate normal structure checksum<br />
<code>-CE</code> Regenerate extent structure checksum<br />
<code><span class="codeinlineitalic">offset</span></code> Disk offset to write. The value can be an expression used by the <code>calculate</code> subcommand<br />
<code><span class="codeinlineitalic">value</span></code> The value to write. If numeric, the value can be an expression as used by the <code>calculate</code> subcommand</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<p class="subhead2"><a id="OSTMG95199"></a>Examples</p>
<p><a href="#BABFEACF">Example 13-65</a> shows the use of the <code>acfsdbg</code> subcommand.</p>
<div class="example">
<p class="titleinexample"><a id="BABFEACF"></a><a id="OSTMG95200"></a>Example 13-65 Using the acfsdbg command</p>
<pre>
$ /sbin/acfsdbg /dev/asm/voume1-123
acfsdbg: version                   = 11.2.0.3.0
Oracle ASM Cluster File System (ACFS) On-Disk Structure Version: 39.0
The ACFS volume was created at  Mon Mar  2 14:57:45 2011
acfsdbg&gt; 

acfsbdg&gt; calculate 60*1024
    61,440
    61440
    61440
    0xf000
    0170000
    1111:0000:0000:0000

acfsdbg&gt; prompt "acfsdbg test&gt;"
acfsdbg test&gt;

echo "offset 64*1024" | acfsdbg /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACIDJAA"></a><a id="OSTMG95201"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1467"></a>acfsutil info file</h2>
<p class="subhead2"><a id="OSTMG95202"></a>Purpose</p>
<p>Displays information for a file in an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95203"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>info</code> <code>file</code> <code>-h</code><br />
<code>acfsutil</code> <code>info</code> <code>file</code> <code><span class="codeinlineitalic">path</span></code><br />
<p><code>acfsutil</code> <code>info</code> <code>file</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABFBHBE">Table 13-76</a> contains the options available with the <code>acfsutil</code> <code>info</code> <code>file</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95204"></a><a id="sthref1468"></a><a id="BABFBHBE"></a>Table 13-76 Options for the acfsutil info file command</p>
<table class="cellalignment1546" title="Options for the acfsutil info file command" summary="This table lists the options for the acfsutil info file command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t99">Option</th>
<th class="cellalignment1547" id="r1c2-t99">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t99" headers="r1c1-t99">
<p><code><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t99 r1c2-t99">
<p>Specifies the full path name of a file.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>info</code> <code>file</code> command displays information about a file in an Oracle ACFS file system. The information includes the extent map which details the locations of the blocks comprising the file and the used versus allocated storage for a file. Tagging information is also displayed for a file.</p>
<p>You must have read access to the specified file to run <code>acfsutil</code> <code>info</code> <code>file</code>.</p>
<p class="subhead2"><a id="OSTMG95205"></a>Examples</p>
<p>The following is an example of <code>acfsutil</code> <code>info</code> <code>file</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95206"></a><a id="sthref1469"></a>Example 13-66 Using the acfsutil info file command</p>
<pre>
$ /sbin/acfsutil info file /u01/app/acfsmounts/myacfs/myfile
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABDDAAJ"></a><a id="OSTMG95207"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1470"></a>acfsutil info fs</h2>
<p class="subhead2"><a id="OSTMG95208"></a>Purpose</p>
<p>Displays detailed Oracle ACFS file system information.</p>
<p class="subhead2"><a id="OSTMG95209"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>info</code> <code>fs</code> <code>-h</code><br />
<code>acfsutil</code> <code>info</code> <code>fs</code> [ {<code>-o</code> <code><span class="codeinlineitalic">item</span></code>|<code>-s</code> [<code><span class="codeinlineitalic">interval</span></code> [<code><span class="codeinlineitalic">count</span></code>] ] } ] [<code><span class="codeinlineitalic">mount_point</span></code>]<br />
<p><code>acfsutil</code> <code>info</code> <code>fs</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABFHABI">Table 13-77</a> contains the options available with the <code>acfsutil</code> <code>info</code> <code>fs</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95210"></a><a id="sthref1471"></a><a id="BABFHABI"></a>Table 13-77 Options for the acfsutil info fs command</p>
<table class="cellalignment1546" title="Options for the acfsutil info fs command" summary="This table lists the options for the acfsutil info fs command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t100">Option</th>
<th class="cellalignment1547" id="r1c2-t100">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t100" headers="r1c1-t100">
<p><code>-o</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t100 r1c2-t100">
<p>Displays the specific file system item from the following list:</p>
<ul>
<li>
<p><code>freespace</code> - Amount of free space available in the file system</p>
</li>
<li>
<p><code>totalspace</code> - Size of the file system</p>
</li>
<li>
<p><code>mountpoints</code> - Mount points associated with file systems.</p>
</li>
<li>
<p><code>volumes</code> - Number of volumes associated with the file system</p>
</li>
<li>
<p><code>primaryvolume</code> - Path name of the device associated with file system</p>
</li>
<li>
<p><code>available</code> - Length of time the file system has been available</p>
</li>
<li>
<p><code>isadvm</code> - 1 if an Oracle ADVM volume is present, 0 if not</p>
</li>
<li>
<p><code>ismountpoint</code> - 1 if <code><span class="codeinlineitalic">path</span></code> is the mount point, 0 if <code><span class="codeinlineitalic">path</span></code> is not a mount point</p>
</li>
<li>
<p><code>isavailable</code> - 1 if the file system is available, 0 if file system is not available</p>
</li>
<li>
<p><code>iscorrupt</code> - 1 if the file system is corrupt, 0 if file system is not corrupt</p>
</li>
<li>
<p><code>isreplprimary</code> - 1 if primary file system, 0 if not</p>
</li>
<li>
<p><code>isreplstandby</code> - 1 if standby file system, 0 if not</p>
</li>
<li>
<p><code>diskgroup</code> - Name of the disk group associated with <code><span class="codeinlineitalic">path</span></code></p>
</li>
<li>
<p><code>redundancy</code> - Type of redundancy used by the Oracle ADVM volume</p>
</li>
<li>
<p><code>replication</code> - 1 if file system has been initialized for replication as the primary or standby file system, 0 if not initialized for replication</p>
</li>
<li>
<p><code>resizeincrement</code> - Allocation unit size in bytes of the Oracle ADVM volume used by <code><span class="codeinlineitalic">path</span></code></p>
</li>
<li>
<p><code>stripewidth</code> - Stripe width for the Oracle ADVM volume used by <code><span class="codeinlineitalic">path</span></code></p>
</li>
<li>
<p><code>stripecolumns</code> - Stripe set columns for the Oracle ADVM volume used by <code><span class="codeinlineitalic">path</span></code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t100" headers="r1c1-t100">
<p><code>-s</code> [<code><span class="codeinlineitalic">interval</span></code> [<code><span class="codeinlineitalic">count</span></code>]]</p>
</td>
<td class="cellalignment1543" headers="r3c1-t100 r1c2-t100">
<p>Displays file system statistics.</p>
<p>The optional <code><span class="codeinlineitalic">interval</span></code> parameter specifies the amount of time in seconds between each report. The first report contains statistics for the time since the file system mount. Each subsequent report contains statistics collected during the interval since the previous report.</p>
<p>The optional <code><span class="codeinlineitalic">count</span></code> parameter can be specified in conjunction with the <code><span class="codeinlineitalic">interval</span></code> parameter. If the <code><span class="codeinlineitalic">count</span></code> parameter is specified, the value of count determines the number of reports generated at interval seconds apart.</p>
<p>If the <code><span class="codeinlineitalic">interval</span></code> parameter is specified without the <code><span class="codeinlineitalic">count</span></code> parameter, the command generates reports continuously until you break out of the command with <code>Ctrl+c</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t100" headers="r1c1-t100">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t100 r1c2-t100">
<p>Specifies the directory where the file system is mounted. Not a valid option for replication data.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>info</code> <code>fs</code> displays information and statistics about Oracle ACFS file systems. If replication has been initiated on a the file system, additional flags and status information are displayed. The values for the <span class="bold">replication</span> <span class="bold">status</span> field are primary, standby, or disabled.</p>
<p>The <code>-o</code> <code><span class="codeinlineitalic">item</span></code> option displays file system information for the <code><span class="codeinlineitalic">item</span></code> specified.</p>
<p>The <code>-s</code> option displays the amount and rate of change currently on a file system for the node that the command is run on.</p>
<p>With no option specified, the command displays file system information that includes the volume device name, the size of the file system, the amount of space available on the volume device, the file system mount time on this node, the state of the file system, the user specified block size, the number of Oracle ACFS snapshots, the space consumed by snapshots in the file system, and the optional name or volume label associated with the file system. The possible file system states are displayed in the <code>flags</code> line. These states include:</p>
<ul>
<li>
<p><code>Offline</code> indicates that the underlying devices are not accessible, possibly due to an Oracle ASM instance failure, disk group forced dismount, or an irrecoverable I/O error. The file system on this node can only be dismounted. All other attempts at access result in errors.</p>
</li>
<li>
<p><code>Available</code> indicates that the file system is on line and operational.</p>
</li>
<li>
<p><code>Corrupt</code> indicates that the file system should be checked and repaired at the earliest possible convenience to correct a detected inconsistency. For example, run the <code>fsck</code> command on Linux or the <code>acfschkdsk</code> command on Windows to check and repair the file system. Ensure that you run the command in repair mode to correct the problem. For more information, refer to <a href="asmfs_util002.htm#CACCHEDH">"fsck"</a> and <a href="asmfs_util005.htm#CACDCIHC">"acfschkdsk"</a>.</p>
</li>
</ul>
<p>Any user can run <code>acfsutil</code> <code>info</code> <code>fs</code>.</p>
<p class="subhead2"><a id="OSTMG95211"></a>Examples</p>
<p>The following are examples of the use of <code>acfsutil</code> <code>info</code> <code>fs</code>.</p>
<p><a href="#BABFHEBI">Example 13-67</a> displays information about an Oracle ACFS file system in a Linux environment.</p>
<div class="example">
<p class="titleinexample"><a id="BABFHEBI"></a><a id="OSTMG95212"></a>Example 13-67 Using the acfsutil info fs command on Linux</p>
<pre>
$ /sbin/acfsutil info fs
/primary
    ACFS Version: 11.2.0.2.0
    flags:        MountPoint,Available,Replication
    mount time:   Mon Oct 25 12:11:03 2010
    volumes:      1
    total size:   5368709120
    total free:   4144230400
    primary volume: /dev/asm/pvol-74
        label:
        flags:                 Primary,Available,ADVM
        on-disk version:       40.0
        allocation unit:       4096
        major, minor:          252, 37889
        size:                  5368709120
        free:                  4144230400
        ADVM diskgroup         REPLDG
        ADVM resize increment: 268435456
        ADVM redundancy:       unprotected
        ADVM stripe columns:   4
        ADVM stripe width:     131072
    number of snapshots:  0
    snapshot space usage: 0
    replication status: primary

/standby
    ACFS Version: 11.2.0.2.0
    flags:        MountPoint,Available,Replication
    mount time:   Mon Oct 25 12:11:03 2010
    volumes:      1
    total size:   5368709120
    total free:   5263945728
    primary volume: /dev/asm/svol-74
        label:
        flags:                 Primary,Available,ADVM
        on-disk version:       40.0
        allocation unit:       4096
        major, minor:          252, 37890
        size:                  5368709120
        free:                  5263945728
        ADVM diskgroup         REPLDG
        ADVM resize increment: 268435456
        ADVM redundancy:       unprotected
        ADVM stripe columns:   4
        ADVM stripe width:     131072
    number of snapshots:  0
    snapshot space usage: 0
    replication status: standby

$ /sbin/acfsutil info fs -o mountpoints,replication
/primary
1
/standby
1

$ /sbin/acfsutil info fs -o mountpoints,isreplprimary
/primary
1
/standby
0

$ /sbin/acfsutil info fs -o mountpoints,isreplstandby
/primary
0
/standby
1
</pre></div>
<!-- class="example" -->
<p><a href="#BABIDDAF">Example 13-68</a> illustrates the use of <code>acfsutil</code> <code>info</code> <code>fs</code> in a Windows environment.</p>
<div class="example">
<p class="titleinexample"><a id="BABIDDAF"></a><a id="OSTMG95213"></a>Example 13-68 Using the acfsutil info fs command on Windows</p>
<pre>
C:\oracle&gt;acfsutil info fs /o freespace c:\oracle\acfsmounts\acfs1
968667136

C:\oracle&gt;acfsutil info fs /o totalspace c:\oracle\acfsmounts\acfs1
1073741824

C:\oracle&gt;acfsutil info fs /o volume c:\oracle\acfsmounts\acfs1
1

C:\oracle&gt;acfsutil info fs /o primaryvolume c:\oracle\acfsmounts\acfs1
asm-volume1-311

C:\oracle&gt;acfsutil info fs /o diskgroup c:\oracle\acfsmounts\acfs1
DATA

C:\oracle&gt;acfsutil info fs /o redundancy c:\oracle\acfsmounts\acfs1
mirror
</pre></div>
<!-- class="example" -->
<p><a href="#BABHGACD">Example 13-69</a> illustrates the use of <code>acfsutil</code> <code>info</code> <code>fs</code> with <code>-s</code> option to display the current amount and rate of change on a file system.</p>
<div class="example">
<p class="titleinexample"><a id="BABHGACD"></a><a id="OSTMG95214"></a>Example 13-69 Using the acfsutil info fs command with the -s option</p>
<pre>
$ /sbin/acfsutil info fs -s /u01/app/acfsmounts/myacfs
    amount of change since mount:       359.22 MB
    average rate of change since mount: 3 KB

$ /sbin/acfsutil info fs -s 60 4 /u01/app/acfsmounts/myacfs
    amount of change since mount:       359.22 MB
    average rate of change since mount: 3 KB/s

    amount of change: 15.02 MB   rate of change: 256 KB/s
    amount of change: 9.46 MB   rate of change: 161 KB/s
    amount of change: 7.32 MB   rate of change: 125 KB/s
    amount of change: 6.89 MB   rate of change: 117 KB/s
...
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCCJFJ"></a><a id="OSTMG95215"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1472"></a>acfsutil info id</h2>
<p class="subhead2"><a id="OSTMG95216"></a>Purpose</p>
<p>Displays Oracle ACFS file system information for a given identifier and mount point.</p>
<p class="subhead2"><a id="OSTMG95217"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>info</code> <code>id</code> <code>-h</code><br />
<code>acfsutil</code> <code>info</code> <code>id</code> <code><span class="codeinlineitalic">num</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>info</code> <code>id</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHJFHD">Table 13-78</a> contains the options available with the <code>acfsutil</code> <code>info</code> <code>id</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95218"></a><a id="sthref1473"></a><a id="BABHJFHD"></a>Table 13-78 Options for the acfsutil info id command</p>
<table class="cellalignment1546" title="Options for the acfsutil info id command" summary="This table lists the options for the acfsutil info id command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t101">Option</th>
<th class="cellalignment1547" id="r1c2-t101">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t101" headers="r1c1-t101">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t101 r1c2-t101">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t101" headers="r1c1-t101">
<p><code><span class="codeinlineitalic">num</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t101 r1c2-t101">
<p>Specifies the Oracle ACFS file identifier number reported by the Oracle ACFS driver. The number should be specified in decimal format.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>info</code> <code>id</code> is used to translate an internal numeric Oracle ACFS file identifier to a path name in the file system. This is useful when the Oracle ACFS driver reports I/O errors to the system event logger associated with a particular file in an Oracle ACFS and identifies it by its internal identifier. You must have administrator privileges or you must be a member of the Oracle ASM administrator group to run <code>acfsutil</code> <code>info</code> <code>id</code>.</p>
<p class="subhead2"><a id="OSTMG95219"></a>Examples</p>
<p>The following is an example of <code>acfsutil</code> <code>info</code> <code>id</code>.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95220"></a><a id="sthref1474"></a>Example 13-70 Using the acfsutil info id command</p>
<pre>
$ /sbin/acfsutil info id 117 /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACGHBHI"></a><a id="OSTMG95221"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1475"></a>acfsutil registry</h2>
<p class="subhead2"><a id="OSTMG95222"></a>Purpose</p>
<p>Registers an Oracle ACFS file system with the Oracle ACFS mount registry.</p>
<p class="subhead2"><a id="OSTMG95223"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>registry</code> <code>-h</code><br />
<code>acfsutil</code> <code>registry</code><br />
<code>acfsutil</code> <code>registry</code> <code>-a</code> [<code>-f</code>] [<code>-n</code> { <code><span class="codeinlineitalic">nodes</span></code>|<code>all</code> } ]<br />
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code> [<code>-o</code> <code><span class="codeinlineitalic">moptions</span></code>] <code><span class="codeinlineitalic">device</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<code>acfsutil</code> <code>registry</code> <code>-d</code> {<code><span class="codeinlineitalic">device</span></code> | <code><span class="codeinlineitalic">mount_point</span></code>}<br />
<code>acfsutil</code> <code>registry</code> <code>-l</code> [<code><span class="codeinlineitalic">device</span></code> | <code><span class="codeinlineitalic">mount_point</span></code>]<br />
<code>acfsutil</code> <code>registry</code> <code>-m</code> <code><span class="codeinlineitalic">device</span></code><br />
<p><code>acfsutil</code> <code>registry</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHDHBA">Table 13-79</a> contains the options available with the <code>acfsutil</code> <code>registry</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95224"></a><a id="sthref1476"></a><a id="BABHDHBA"></a>Table 13-79 Options for the acfsutil registry command</p>
<table class="cellalignment1546" title="Options for the acfsutil registry command" summary="This table lists the options for the ofsutil registry command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t102">Option</th>
<th class="cellalignment1547" id="r1c2-t102">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t102" headers="r1c1-t102">
<p><code>-a</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t102 r1c2-t102">
<p>Specifies to add the device, mount point, and associated <code><span class="codeinlineitalic">moptions</span></code> to the Oracle ACFS mount registry. The Oracle ASM volume device specified must exist on the local node to add the information to the mount registry.</p>
<p>The arguments represent all the information needed to mount the file system. At Oracle ACFS startup time these file systems are automatically mounted. On Windows the volume mount points on the specified directories are created if they do not exist.</p>
<p>Duplicate device entries are not allowed. Duplicate mount points are allowed but must be include the <code>-n</code> option for disjoint node-specific mounts.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t102" headers="r1c1-t102">
<p><code>-d</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t102 r1c2-t102">
<p>Deletes the device or mount point from the Oracle ACFS mount registry. If a mount point is specified and it is not unique in the Oracle ACFS mount registry, the command fails and you must run the command again specifying the device as an argument.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t102" headers="r1c1-t102">
<p><code>-f</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t102 r1c2-t102">
<p>This is used in combination with <code>-a</code> when the specified device might exist in the registry and the administrator wants to replace the registration.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t102" headers="r1c1-t102">
<p><code>-n</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t102 r1c2-t102">
<p>This is used in combination with <code>-a</code> and specifies an optional comma-delimited list of nodes, or the <code>all</code> keyword. This specifies which nodes should attempt to mount this device on the specified mount point. Host names should be specified. The <code>all</code> keyword is functionally equivalent to not specifying a list of nodes and indicates that the device should be mounted on all nodes. Mounting on all nodes is the default behavior.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t102" headers="r1c1-t102">
<p><code>-o</code> <code><span class="codeinlineitalic">moptions</span></code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t102 r1c2-t102">
<p>Specifies the mount options for use when mounting the file system. Valid for Linux, Solaris, and AIX. For specific <code>-o</code> <code><span class="codeinlineitalic">moptions</span></code>, refer to the <code>mount</code> command for each operating system. All the options for each operating system are available except the <code>all</code> option.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t102" headers="r1c1-t102">
<p><code>-l</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t102 r1c2-t102">
<p>Lists all the mount points currently in the registry on a single line, with fields separated by a colon (<code>:</code>).</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t102" headers="r1c1-t102">
<p><code>-m</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t102 r1c2-t102">
<p>Lists the registered mount point, if one exists, associated with the specified device. The mount point is only returned if the Oracle ACFS file system has been registered or has been previously mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t102" headers="r1c1-t102">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t102 r1c2-t102">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t102" headers="r1c1-t102">
<p><code><span class="codeinlineitalic">device</span></code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t102 r1c2-t102">
<p>Specifies an Oracle ACFS device file that has been formatted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>registry</code> adds or deletes a file system from the Oracle ACFS persistent mount registry. The mount registry is a global registry that is used at Oracle ACFS startup on each node to mount all file systems specified in it. <code>root</code> or <code>asmadmin</code> privileges are required to modify the registry. For information about operating system group privileges, see <a href="asminst.htm#CHDEDIID">"About Privileges for Oracle ASM"</a>.</p>
<p>Any user is allowed to display the contents of the registry. To mount all the file systems in the Oracle ACFS mount registry, use the platform specific mount command with the <code>all</code> option. This is done automatically at Oracle ACFS startup on each node.</p>
<p>If no options are specified, the command displays all of the Oracle ACFS mounts in the registry.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not register an Oracle ACFS file system that has had an individual file system Cluster Ready Services (CRS) resource added. For example, do not register a file system with <code>acfsutil</code> <code>registry</code> if the Oracle ACFS file system has been registered using <code>srvctl</code> <code>add</code> <code>filesystem</code>.</div>
<p>See <a href="asmfilesystem.htm#CACDGDEF">"About the Oracle ACFS Mount Registry"</a>.</p>
<p class="subhead2"><a id="OSTMG95225"></a>Examples</p>
<p>The following examples show the use of <code>acfsutil</code> <code>registry</code>. The first example shows how to add the volume device file and file system mount point to the registry. The second example shows how to list the registered mount point associated with the specified volume device file. The third example shows how to delete the specified volume device file from the registry.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95226"></a><a id="sthref1477"></a>Example 13-71 Using the acfsutil registry command</p>
<pre>
$ /sbin/acfsutil registry -a /dev/asm/volume1-123 /u01/app/acfsmounts/myacfs

$ /sbin/acfsutil registry -m /dev/asm/volume1-123

$ /sbin/acfsutil registry -d /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACDJGCE"></a><a id="OSTMG95227"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1478"></a>acfsutil rmfs</h2>
<p class="subhead2"><a id="OSTMG95228"></a>Purpose</p>
<p>Removes an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95229"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>rmfs</code> <code>-h</code><br />
<code>acfsutil</code> <code>rmfs</code> <code><span class="codeinlineitalic">device</span></code><br />
<p><code>acfsutil</code> <code>rmfs</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABGIJEE">Table 13-80</a> contains the options available with the <code>acfsutil</code> <code>rmfs</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95230"></a><a id="sthref1479"></a><a id="BABGIJEE"></a>Table 13-80 Options for the acfsutil rmfs command</p>
<table class="cellalignment1546" title="Options for the acfsutil rmfs command" summary="This table lists the options for the ofsutil rmfs command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t104">Option</th>
<th class="cellalignment1547" id="r1c2-t104">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t104" headers="r1c1-t104">
<p><code><span class="codeinlineitalic">device</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t104 r1c2-t104">
<p>Specifies an Oracle ACFS device file that has been formatted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>rmfs</code> is used to remove an Oracle ACFS that is dismounted. When the command is run, the superblock of the file system is disabled. <code>root</code> or <code>asmadmin</code> privileges are required to run this command. For information about operating system group privileges, see <a href="asminst.htm#CHDEDIID">"About Privileges for Oracle ASM"</a>.</p>
<p>After <code>acfsutil</code> <code>rmfs</code> runs successfully, the <code>MOUNTPATH</code> and <code>USAGE</code> columns in the <code>V$ASM_VOLUME</code> view are cleared for the device. The removed Oracle ACFS can be restored using <code>fsck</code> or <code>acfschkdsk</code>. The device can be reformatted with a new Oracle ACFS using the <code>mkfs</code> or <code>acfsformat</code> commands.</p>
<p class="subhead2"><a id="OSTMG95231"></a>Examples</p>
<p>The following example shows the use of <code>acfsutil</code> <code>rmfs</code> to remove the specified volume device file and associated file system.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95232"></a><a id="sthref1480"></a>Example 13-72 Using the acfsutil rmfs command</p>
<pre>
$ /sbin/acfsutil rmfs /dev/asm/volume1-123
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACBACBA"></a><a id="OSTMG95233"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1481"></a>acfsutil size</h2>
<p class="subhead2"><a id="OSTMG95234"></a>Purpose</p>
<p>Resizes an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95235"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>size</code> <code>-h</code><br />
<code>acfsutil</code> <code>size</code> [<code>+</code>|<code>-</code>]<code><span class="codeinlineitalic">n</span></code><code>[K</code>|<code>M</code>|<code>G</code>|<code>T|P</code> ] [<code><span class="codeinlineitalic">device</span></code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>size</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABGJACB">Table 13-81</a> contains the options available with the <code>acfsutil</code> <code>size</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95236"></a><a id="sthref1482"></a><a id="BABGJACB"></a>Table 13-81 Options for the acfsutil size command</p>
<table class="cellalignment1546" title="Options for the acfsutil size command" summary="This table lists the options for the acfsutil size command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t105">Option</th>
<th class="cellalignment1547" id="r1c2-t105">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t105" headers="r1c1-t105">
<p>[<code>+</code>|<code>-</code>]<code><span class="codeinlineitalic">n</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t105 r1c2-t105">
<p>Specifies the new size for the Oracle ACFS file system where <code><span class="codeinlineitalic">n</span></code> is a valid positive whole number greater than zero. The number can be preceded by a <code>+</code> or - to indicate the amount to add or decrease. If no operand exists, the new size is the absolute size.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t105" headers="r1c1-t105">
<p><code>K</code>|<code>M</code>|<code>G</code>|<code>T</code>|<code>P</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t105 r1c2-t105">
<p>Specifies that the integer supplied for size is in the units of <code>K</code> (Kilobytes), <code>M</code> (Megabytes), <code>G</code> (Gigabytes), <code>T</code> (Terabytes), or <code>P</code> (Petabytes). If the unit indicator is specified, then it must be appended to the integer. If omitted, the default unit is bytes.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t105" headers="r1c1-t105">
<p><code><span class="codeinlineitalic">device</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t105 r1c2-t105">
<p>Specifies the optional volume device file.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t105" headers="r1c1-t105">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t105 r1c2-t105">
<p>Specifies the directory where the file system is mounted</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>size</code> grows or shrinks the mounted Oracle ACFS and its underlying Oracle ADVM storage to match the new size specified. This operation also resizes the underlying Oracle ASM Volume file to match the new length that is specified. The disk group must have enough free storage to accommodate any requested increase to the file system size.</p>
<p>Reducing a file system size returns unused storage space located at the end of the file system to the disk group. Shrinking in this release is intended for accidents when the wrong initial size or resize increment was specified, and before the storage was actually used. After storage has been used for user data or file system metadata, it may not be possible to shrink the file system, even if the files using that storage have been deleted.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Defragmenting a file system is not supported in this release; only unused storage can be deallocated from the end of the file system.</div>
<p>The size value is rounded up based on the block size of the file system and the allocation unit of the Oracle ASM volume device file. To determine the Oracle ASM volume device resize increment, examine the <code>RESIZE_UNIT_MB</code> field in the <code>V$ASM_VOLUME</code> view, or look for <code>Resize</code> <code>Unit</code> in the output of <code>asmcmd</code> <code>volinfo</code> or <code>acfsutil</code> <code>info</code> <code>fs</code>.</p>
<p>There is a limit of 5 extents for the file system's internal storage bitmap. This causes any attempts to increase the file system to fail after it has been increased four or more times. However, if after increasing the file system four times or more times the file system size is decreased, then you may be able to increase the file system size again if the size of the increase is less than the size of the decrease.</p>
<p>When the limit on a file system expansion has been reached, running <code>fsck</code> or <code>acfschkdsk</code> with the <code>-a</code> option may consolidate the internal storage bitmap, allowing future file system expansion.</p>
<p><code>root</code> or users who are members of the <code>asmadmin</code> group can run this command. For information about operating system group privileges, see <a href="asminst.htm#CHDEDIID">"About Privileges for Oracle ASM"</a>.</p>
<p class="subhead2"><a id="OSTMG95237"></a>Examples</p>
<p>The following example shows the use of <code>acfsutil</code> <code>size</code>. This example increases the primary device file of <code>/u01/app/acfsmounts/myacfs</code> file system by 500 MB.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95238"></a><a id="sthref1483"></a>Example 13-73 Using the acfsutil size command</p>
<pre>
$ /sbin/acfsutil size +500M /u01/app/acfsmounts/myacfs
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACIBBFE"></a><a id="OSTMG95239"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1484"></a>acfsutil snap create</h2>
<p class="subhead2"><a id="OSTMG95240"></a>Purpose</p>
<p><a id="sthref1485"></a><a id="sthref1486"></a><a id="sthref1487"></a><a id="sthref1488"></a>Creates a read-only or read-write snapshot of an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95241"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>snap</code> <code>create</code> <code>-h</code><br />
<code>acfsutil</code> <code>snap</code> <code>create</code> [<code>-r</code>|<code>-w</code>] <code><span class="codeinlineitalic">snapshot</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>snap</code> <code>create</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABJGBFC">Table 13-82</a> contains the options available with the <code>acfsutil</code> <code>snap</code> <code>create</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95242"></a><a id="sthref1489"></a><a id="BABJGBFC"></a>Table 13-82 Options for the acfsutil snap create command</p>
<table class="cellalignment1546" title="Options for the acfsutil snap create command" summary="This table lists the options for the ofsutil snap create command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t107">Option</th>
<th class="cellalignment1547" id="r1c2-t107">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t107" headers="r1c1-t107">
<p><code>-r</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t107 r1c2-t107">
<p>Creates a read-only snapshot. This is the default setting.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t107" headers="r1c1-t107">
<p><code>-w</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t107 r1c2-t107">
<p>Creates a read-write snapshot.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t107" headers="r1c1-t107">
<p><code><span class="codeinlineitalic">snapshot</span></code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t107 r1c2-t107">
<p>Specifies a name for the snapshot. The name provided must be a valid directory name. The<code>.ACFS/snaps</code> directory itself cannot be snapped.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t107" headers="r1c1-t107">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t107 r1c2-t107">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>snap</code> <code>create</code> creates a read-only or read-write snapshot of the Oracle ACFS mounted on <code><span class="codeinlineitalic">mount_point</span></code>. You can specify <code>-r</code> for read-only or <code>-w</code> for read-write; read-only is the default if neither <code>-r</code> or <code>-w</code> are specified.</p>
<p>The read-write snapshot enables the fast creation of an Oracle ACFS snapshot image that can be both read and written without impacting the state of the Oracle ACFS file system hosting the snapshot images. The read-write functionality can be used for testing new versions of application software or running test scenarios on production file data without modifying the original file system.</p>
<p>Snapshots are not separate file systems. The snapshot appears in the <code>.ACFS/snaps/</code><code><span class="codeinlineitalic">snapshot</span></code> <a id="sthref1490"></a><a id="sthref1491"></a><a id="sthref1492"></a><a id="sthref1493"></a>directory and initially is a complete replica of the file system at the time the snapshot command was given. A read-only snapshot continues to preserve that initial point-in-time view. A read-write snapshot can be modified by updates written directly to the files located within the <code>.ACFS/snaps/</code><code><span class="codeinlineitalic">snapshot</span></code> hierarchy.</p>
<p>Any user can access the snapshot directory by specifying the path name. However, the .<code>ACFS</code> directory itself is hidden from directory listings of the root of the file system. This prevents recursive commands, such as <code>rm</code> <code>-rf</code> or <code>acfsutil</code> <code>tag</code> <code>set</code> <code>-r</code>, from the root of the file system inadvertently operating on snapshot files.</p>
<p>Snapshots usually use very little storage initially as they share file system blocks with the original file system until a file changes.</p>
<p>Tools such as <code>du</code> report the total disk space usage of the snapshotted files, which includes the storage shared with the original versions of the files. To determine the total space used for the snapshots, use the <code>acfsutil</code> <code>snap</code> <code>info</code> or <code>acfsutil</code> <code>info</code> <code>fs</code> command. See <a href="#BABDDAAJ">"acfsutil info fs"</a>.</p>
<p>Oracle ACFS snapshots are immediately available for use after they are created. They are always online under the<code>.ACFS/snaps</code> directory when the original file system is mounted. No separate command is needed to mount them.</p>
<p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
<p>For more information about Oracle ACFS snapshots, see <a href="asmfilesystem.htm#CACJGGBE">"About Oracle ACFS Snapshots"</a>.</p>
<p class="subhead2"><a id="OSTMG95243"></a>Examples</p>
<p><a href="#BABIIJAC">Example 13-74</a> shows the use of the <code>acfsutil</code> <code>snap</code> <code>create</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABIIJAC"></a><a id="OSTMG95244"></a>Example 13-74 Using the acfsutil snap create command</p>
<pre>
$ acfsutil snap create -w midday_test1 /u01/critical_apps

$ acfsutil snap create -w midday_test2 /u01/critical_apps

$ /sbin/acfsutil snap create payroll_report1 /u01/critical_apps

$ /sbin/acfsutil snap create payroll_report2 /u01/critical_apps

$ ls /u01/critical_apps/.ACFS/snaps
midday_test1  midday_test2  payroll_report1  payroll_report2
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACHEGEA"></a><a id="OSTMG95245"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1494"></a>acfsutil snap delete</h2>
<p class="subhead2"><a id="OSTMG95246"></a>Purpose</p>
<p><a id="sthref1495"></a><a id="sthref1496"></a>Deletes a snapshot of an Oracle ACFS file system.</p>
<p class="subhead2"><a id="OSTMG95247"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>snap</code> <code>delete</code> <code>-h</code><br />
<code>acfsutil</code> <code>snap</code> <code>delete</code> <code><span class="codeinlineitalic">snapshot</span></code> <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>snap</code> <code>delete</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABDBGHE">Table 13-83</a> contains the options available with the <code>acfsutil</code> <code>snap</code> <code>delete</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95248"></a><a id="sthref1497"></a><a id="BABDBGHE"></a>Table 13-83 Options for the acfsutil snap delete command</p>
<table class="cellalignment1546" title="Options for the acfsutil snap delete command" summary="This table lists the options for the acfsutil snap delete command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t108">Option</th>
<th class="cellalignment1547" id="r1c2-t108">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t108" headers="r1c1-t108">
<p><code><span class="codeinlineitalic">snapshot</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t108 r1c2-t108">
<p>Specifies a name for the snapshot.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t108" headers="r1c1-t108">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t108 r1c2-t108">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>acfsutil</code> <code>snap</code> <code>delete</code> deletes the snapshot named <code><span class="codeinlineitalic">snapshot</span></code> in the Oracle ACFS mounted on <code><span class="codeinlineitalic">mount_point</span></code>. After successful completion of the command, the representation of the snapshot in the<code>.ACFS/snaps</code> directory is removed. The command fails if any file within the snapshot is open on any cluster node. Note that the disk space used by the snapshot being deleted is freed by a background task after the completion of the <code>acfsutil</code> <code>snap</code> <code>delete</code> command. If one of these background threads is running to clean up a deleted snapshot, then the <code>acfsutil</code> <code>snap</code> <code>info</code> command shows a pending delete operation.</p>
<p>Administrator privileges are required to use this command or you must be a member of the Oracle ASM administrator group.</p>
<p class="subhead2"><a id="OSTMG95249"></a>Examples</p>
<p><a href="#BABJFCDD">Example 13-75</a> shows the use of the <code>acfsutil</code> <code>snap</code> <code>delete</code> command.</p>
<div class="example">
<p class="titleinexample"><a id="BABJFCDD"></a><a id="OSTMG95250"></a>Example 13-75 Using the acfsutil snap delete command</p>
<pre>
$ /sbin/acfsutil snap delete midday_test1 /u01/critical_apps
acfsutil snap delete: Snapshot operation is complete.
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABCEJGI"></a><a id="OSTMG95251"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1498"></a>acfsutil snap info</h2>
<p class="subhead2"><a id="OSTMG95252"></a>Purpose</p>
<p><a id="sthref1499"></a><a id="sthref1500"></a>Displays information about Oracle ACFS file system snapshots.</p>
<p class="subhead2"><a id="OSTMG95253"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>snap</code> <code>info</code> <code>-h</code><br />
<code>acfsutil</code> <code>snap</code> <code>info</code> [<code><span class="codeinlineitalic">snapshot</span></code>] <code><span class="codeinlineitalic">mount_point</span></code><br />
<p><code>acfsutil</code> <code>snap</code> <code>info</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHBFFH">Table 13-84</a> contains the options available with the <code>acfsutil</code> <code>snap</code> <code>delete</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95254"></a><a id="sthref1501"></a><a id="BABHBFFH"></a>Table 13-84 Options for the acfsutil snap info command</p>
<table class="cellalignment1546" title="Options for the acfsutil snap info command" summary="This table lists the options for the acfsutil snap info command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t109">Option</th>
<th class="cellalignment1547" id="r1c2-t109">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t109" headers="r1c1-t109">
<p><code><span class="codeinlineitalic">snapshot</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t109 r1c2-t109">
<p>Specifies a name for the snapshot.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t109" headers="r1c1-t109">
<p><code><span class="codeinlineitalic">mount_point</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t109 r1c2-t109">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The <code>acfsutil</code> <code>snap</code> <code>info</code> command displays information about an individual specified snapshot or all snapshots in the specified Oracle ACFS file system. The snapshot name, snapshot type (RO or RW), and creation date and time are displayed.</p>
<p>The snapshot space usage amount includes snapshot metadata. If all the files are deleted from a snapshot, some of the metadata still remains and that amount is displayed with <code>acfsutil</code> <code>snap</code> <code>info</code>.</p>
<p>The <code>acfsutil</code> <code>snap</code> <code>info</code> command also shows pending delete operations.</p>
<p class="subhead2"><a id="OSTMG95255"></a>Examples</p>
<p><a href="#BABJEDFG">Example 13-76</a> shows the use of the <code>acfsutil</code> <code>snap</code> <code>info</code> command when there is a pending delete operation. When the background process finishes the clean up of the deleted snapshot, the delete pending row does not appear in the output.</p>
<div class="example">
<p class="titleinexample"><a id="BABJEDFG"></a><a id="OSTMG95256"></a>Example 13-76 Using the acfsutil snap info command</p>
<pre>
$ /sbin/acfsutil snap info /u01/critical_apps
snapshot name:               midday_test2
RO snapshot or RW snapshot:  RW
snapshot creation time:      Fri Feb 18 06:10:59 2011

snapshot name:               payroll_report1
RO snapshot or RW snapshot:  RO
snapshot creation time:      Tue Feb 22 06:56:34 2011

snapshot name:               payroll_report2
RO snapshot or RW snapshot:  RO
snapshot creation time:      Tue Feb 22 06:57:21 2011

    number of snapshots:  3 (active)
                          1 (delete pending)
    snapshot space usage: 8383348736
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABEDAAE"></a><a id="OSTMG95257"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1502"></a>acfsutil tune</h2>
<p class="subhead2"><a id="OSTMG95258"></a>Purpose</p>
<p>The <code>acfsutil</code> <code>tune</code> command displays the value of a specific tunable parameter or all Oracle ACFS tunable parameters, or sets the value of a tunable parameter in a persistent manner on a particular node.</p>
<p class="subhead2"><a id="OSTMG95259"></a>Syntax and Description</p>
<br />
<code>acfsutil</code> <code>tune</code> <code>-h</code><br />
<code>acfsutil</code> <code>tune</code> [<code><span class="codeinlineitalic">tunable_name</span></code>]<br />
<code>acfsutil</code> <code>tune</code> <code><span class="codeinlineitalic">tunable_name</span></code><code>=</code><code><span class="codeinlineitalic">value</span></code><br />
<p><code>acfsutil</code> <code>tune</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABHJGIC">Table 13-85</a> contains the options available with the <code>acfsutil</code> <code>tune</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95260"></a><a id="sthref1503"></a><a id="BABHJGIC"></a>Table 13-85 Options for the acfsutil tune command</p>
<table class="cellalignment1546" title="Options for the acfsutil tune command" summary="This table lists the options for the ofsutil tune command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t110">Option</th>
<th class="cellalignment1547" id="r1c2-t110">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t110" headers="r1c1-t110">
<p><code><span class="codeinlineitalic">tunable_name</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t110 r1c2-t110">
<p>Specifies the name of the tunable parameter.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t110" headers="r1c1-t110">
<p><code><span class="codeinlineitalic">value</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t110 r1c2-t110">
<p>Specifies the value for a tunable parameter.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>The only Oracle ACFS tunable parameter is <code>AcfsMaxOpenFiles</code>, which limits the number of open Oracle ACFS files on Windows and AIX. Normally you do not have to change the value of this tunable parameter; however, you may want to consider increasing the value if you have a large working set of files in your Oracle ACFS file systems.</p>
<p>Changing a tunable parameter has an immediate effect and persists across restarts. You must be a root user or the Windows <code>Administrator</code> to change the value of a tunable parameter.</p>
<p class="subhead2"><a id="OSTMG95261"></a>Examples</p>
<p>The first example prints Oracle ACFS tunable parameters. The second example changes the value of a tunable parameter.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95262"></a><a id="sthref1504"></a>Example 13-77 Using the acfsutil tune command</p>
<pre>
$ /sbin/acfsutil tune

$ acfsutil tune AcfsMaxOpenFiles=50000
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABGAEIF"></a><a id="OSTMG95263"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1505"></a>advmutil canonical</h2>
<p class="subhead2"><a id="OSTMG95264"></a>Purpose</p>
<p><code>advmutil</code> <code>canonical</code> displays the canonical name of the specified Oracle ADVM device name.</p>
<p class="subhead2"><a id="OSTMG95265"></a>Syntax and Description</p>
<br />
<code>advmutil</code> <code>-h</code><br />
<code>advmutil</code> <code>canonical</code> <code><span class="codeinlineitalic">volume_device</span></code><br />
<p><code>advmutil</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABDHIEH">Table 13-86</a> contains the options available with the <code>advmutil</code> <code>canonical</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95266"></a><a id="sthref1506"></a><a id="BABDHIEH"></a>Table 13-86 Options for the advmutil canonical command</p>
<table class="cellalignment1546" title="Options for the advmutil canonical command" summary="This table lists the options for the advmutil canonical command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t111">Option</th>
<th class="cellalignment1547" id="r1c2-t111">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t111" headers="r1c1-t111">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t111 r1c2-t111">
<p>Specifies a string identifying a Oracle ADVM volume device.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>There are several different formats that can identify an Oracle ADVM volume device, but a normalized, unambiguous (canonical) name should be used when the volume device name is used with other commands such as <code>SRVCTL</code>.</p>
<p>For example, on the Windows operating system you can use the following prefixes with a volume device name: <code>\\.\</code>, <code>\??\</code>, <code>\\?\</code></p>
<p>The <code>advmutil</code> <code>canonical</code> command would return the canonical name that another utility would recognize without having to strip off extra characters. The command would most likely be used in a script.</p>
<p class="subhead2"><a id="OSTMG95267"></a>Examples</p>
<p>The following examples show the use of <code>advmutil</code> <code>canonical</code> on a Windows operating system. For each example, the command returns the canonical name of the volume device.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95268"></a><a id="sthref1507"></a>Example 13-78 Using advmutil canonical</p>
<pre>
[C:\]advmutil canonical asm-volume1-274
asm-volume1-274
 
[C:\]advmutil canonical \\.\asm-volume1-274
asm-volume1-274
 
[C:\]advmutil canonical \\?\asm-volume1-274
asm-volume1-274
 
[C:\]advmutil canonical \??\asm-volume1-274
asm-volume1-274
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CACCHIHH"></a><a id="OSTMG95269"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1508"></a>advmutil tune</h2>
<p class="subhead2"><a id="OSTMG95270"></a>Purpose</p>
<p><code>advmutil</code> <code>tune</code> displays the value of a specific Oracle ADVM parameter or sets the value of a specific Oracle ADVM parameter.</p>
<p class="subhead2"><a id="OSTMG95271"></a>Syntax and Description</p>
<br />
<code>advmutil</code> <code>-h</code><br />
<code>advmutil</code> <code>tune</code> <code><span class="codeinlineitalic">parameter</span></code> [<code>=</code> <code><span class="codeinlineitalic">value</span></code>]<br />
<p><code>advmutil</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABDJACJ">Table 13-87</a> contains the options available with the <code>advmutil</code> <code>tune</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95272"></a><a id="sthref1509"></a><a id="BABDJACJ"></a>Table 13-87 Options for the advmutil tune command</p>
<table class="cellalignment1546" title="Options for the advmutil tune command" summary="This table lists the options for the advmutil tune command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t112">Option</th>
<th class="cellalignment1547" id="r1c2-t112">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t112" headers="r1c1-t112">
<p><code><span class="codeinlineitalic">parameter</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t112 r1c2-t112">
<p>Specifies the parameter for which you want to set or display the value.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t112" headers="r1c1-t112">
<p><code><span class="codeinlineitalic">value</span></code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t112 r1c2-t112">
<p>Optional value provided to set the value of the specified parameter.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>If a value is not provided, the <code>advmutil</code> <code>tune</code> command displays the value that is currently assigned to the specified parameter.</p>
<p>The parameters that can be specified with <code>advmutil</code> <code>tune</code> are the maximum kernel memory (<code>max_memory</code>) or the maximum time in minutes for the deadlock timer (<code>deadlock_timer</code>).</p>
<p>The maximum kernel memory (<code>max_memory</code>) specifies the maximum operating system (OS) kernel memory in megabytes that can be consumed by the Oracle ASM Dynamic Volume Manager driver to cache Oracle ASM extent maps.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code>deadlock_timer</code> parameter should only be set by Oracle Support Services.</div>
<p class="subhead2"><a id="OSTMG95273"></a>Examples</p>
<p>The first example sets the maximum kernel memory. The second example queries the current setting for the maximum kernel memory to be consumed by the Oracle ADVM. The third example changes the maximum time in minutes for the deadlock timer. The fourth example queries the current setting of a parameter.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95274"></a><a id="sthref1510"></a>Example 13-79 Using advmutil tune</p>
<pre>
$ /sbin/advmutil tune max_memory = 40

$ /sbin/advmutil tune max_memory
  max_memory = 40 (0x28)

$ /sbin/advmutil tune deadlock_timer = 20

$ /sbin/advmutil tune deadlock_timer
  deadlock_timer = 20 (0x14)
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="BABDIJEA"></a><a id="OSTMG95275"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref1511"></a>advmutil volinfo</h2>
<p class="subhead2"><a id="OSTMG95276"></a>Purpose</p>
<p><code>advmutil</code> <code>volinfo</code> displays information about Oracle ADVM volume devices.</p>
<p class="subhead2"><a id="OSTMG95277"></a>Syntax and Description</p>
<br />
<code>advmutil</code> <code>-h</code><br />
<code>advmutil</code> <code>volinfo</code> [<code>-l</code>][<code>-L</code>] [<code><span class="codeinlineitalic">volume_device</span></code>]<br />
<p><code>advmutil</code> <code>-h</code> displays help text and exits.</p>
<p><a href="#BABBDFAB">Table 13-88</a> contains the options available with the <code>advmutil</code> <code>volinfo</code> command.</p>
<div class="tblhruleformal">
<p class="titleintable"><a id="OSTMG95278"></a><a id="sthref1512"></a><a id="BABBDFAB"></a>Table 13-88 Options for the advmutil volinfo command</p>
<table class="cellalignment1546" title="Options for the advmutil volinfo command" summary="This table lists the options for the advmutil volinfo command, along with a description for each option" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t114">Option</th>
<th class="cellalignment1547" id="r1c2-t114">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t114" headers="r1c1-t114">
<p><code><span class="codeinlineitalic">volume_device</span></code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t114 r1c2-t114">
<p>Specifies an optional volume device name.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t114" headers="r1c1-t114">
<p><code>-l</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t114 r1c2-t114">
<p>Separates the Oracle ADVM volume device information by field descriptions and colons on one line.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t114" headers="r1c1-t114">
<p><code>-L</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t114 r1c2-t114">
<p>Separates the Oracle ADVM volume device information by spaces on one line.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p><code>advmutil</code> <code>volinfo</code> displays information about Oracle ADVM volume devices in a list format by default. The <code>-l</code> option on Linux (<code>/l</code> on Windows) formats the display into a colon-separated string with field descriptions. The <code>-L</code> option on Linux (<code>/L</code> on Windows) formats the display into a space-separated string in a format suitable for scripting.</p>
<p class="subhead2"><a id="OSTMG95279"></a>Examples</p>
<p>The first example displays information about an Oracle ADVM volume device, using the <code>advmutil</code> <code>volinfo</code> command with the volume device name. The second example displays information about the volume device using the <code>-l</code> option. The third example displays information about the volume device using the <code>-L</code> option.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG95280"></a><a id="sthref1513"></a>Example 13-80 Using advmutil volinfo</p>
<pre>
$ /sbin/advmutil volinfo /dev/asm/volume1-123
Device : /dev/asm/volume1-228
Interface Version: 1
Size (MB): 256
Resize Increment (MB): 32
Redundancy: mirror
Stripe Columns: 4
Stripe Width (KB): 128
Disk Group: DATA
Volume: VOLUME1
Compatible.advm : 11.2.0.0.0

$ /sbin/advmutil volinfo -l /dev/asm/volume1-228
Device : /dev/asm/volume1-228 : Interface Version : 1 : Size (MB) : 256 : 
Resize Increment (MB) : 32 : Redundancy : mirror : Stripe Columns : 4 : 
Stripe Width (KB) : 128 : Disk Group : DATA : Volume : VOLUME1 : 
Compatible.advm : 11.2.0.0.0

$ /sbin/advmutil volinfo -L /dev/asm/volume1-228
/dev/asm/volume1-228  1  256 32  mirror  4  128  DATA  VOLUME1  11.2.0.0.0
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfs_util009.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmbysql.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
