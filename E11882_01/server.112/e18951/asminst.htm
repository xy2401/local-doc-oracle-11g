<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Administering Oracle ASM Instances</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:15Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmprepare.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmdiskgrps.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/40</span> <!-- End Header --><a id="CHDGDJDF"></a><a id="OSTMG136"></a>
<h1 class="chapter"><span class="secnum">3</span> Administering Oracle ASM Instances</h1>
<p><a id="sthref86"></a>This chapter describes how to administer Automatic Storage Management (Oracle ASM) instances. It explains how to configure Oracle ASM instance parameters and how to set Oracle Database parameters for use with Oracle ASM. The chapter also describes Oracle ASM upgrading, patching, and authentication for Oracle ASM instance access. You can also use procedures in this chapter to migrate a database to use Oracle ASM.</p>
<p>Administering an Oracle ASM instance is similar to administering an Oracle Database instance, but the process requires fewer procedures. You can use Oracle Enterprise Manager and SQL*Plus to perform Oracle ASM instance administration tasks.</p>
<p>Oracle ASM is installed in the Oracle Grid Infrastructure home separate from the Oracle Database home. Only one Oracle ASM instance is supported on a server. When managing an Oracle ASM instance, the administration activity must be performed in the Oracle Grid Infrastructure home.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDBIGIE">Operating with Different Releases of Oracle ASM and Database Instances Simultaneously</a></p>
</li>
<li>
<p><a href="#i1013970">Configuring Initialization Parameters for Oracle ASM Instances</a></p>
</li>
<li>
<p><a href="#CHDFIAGE">Managing Oracle ASM Instances</a></p>
</li>
<li>
<p><a href="#CHDIIGIE">Using Oracle ASM Rolling Upgrade</a></p>
</li>
<li>
<p><a href="#CHDEBDEH">Patching Oracle ASM Instances in Oracle RAC Environments</a></p>
</li>
<li>
<p><a href="#CHDEJBAI">Authentication for Accessing Oracle ASM Instances</a></p>
</li>
<li>
<p><a href="#BABJJJDF">Migrating a Database to Use Oracle ASM</a></p>
</li>
</ul>
<p>For a description of an Oracle ASM instance, see <a href="asmcon.htm#BABFBADG">"About Oracle ASM Instances"</a>. For information about using Oracle Enterprise Manager to administer Oracle ASM, see <a href="asm_em.htm#CACHBFDE">Chapter 9, "Administering Oracle ASM with Oracle Enterprise Manager"</a>.</p>
<a id="CHDBIGIE"></a><a id="OSTMG94073"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Operating with Different Releases of Oracle ASM and Database Instances Simultaneously</h2>
<p><a id="sthref87"></a>Oracle Automatic Storage Management (Oracle ASM) in Oracle Database 11g Release 2 (11.2) supports 11g Release 2 (11.2) or older software versions of Oracle database instances, including Oracle Database 10<span class="italic">g</span>. For compatibility between Oracle Clusterware and Oracle ASM, the Oracle Clusterware release must be greater than or equal to the Oracle ASM release.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>An Oracle ASM instance must be at 11g Release 2 (11.2) to support an 11g Release 2 (11.2) Oracle Database.</p>
</li>
<li>
<p>See <span class="italic">Oracle Exadata documentation</span> for information about the Oracle Database versions that Oracle ASM 11g Release 2 (11.2) supports when Oracle Exadata storage is present.</p>
</li>
</ul>
</div>
<p>There are additional compatibility considerations when using disk groups with different releases of Oracle ASM and database instances. For information about disk group compatibility attributes settings, see <a href="asmdiskgrps.htm#CHDDIGBJ">"Disk Group Compatibility"</a>.</p>
<p>When using different software versions, the database instance supports Oracle ASM functionality of the earliest release in use. For example, a 10.1 database instance operating with an 11.2 Oracle ASM instance supports only Oracle ASM 10.1 features.</p>
<p>The <code>V$ASM_CLIENT</code> view contains the <code>SOFTWARE_VERSION</code> and <code>COMPATIBLE_VERSION</code> columns with information about the software version number and instance compatibility level.</p>
<ul>
<li>
<p>The <code>SOFTWARE_VERSION</code> column of <code>V$ASM_CLIENT</code> contains the software version number of the database or Oracle ASM instance for the selected disk group connection.</p>
</li>
<li>
<p>The <code>COMPATIBLE_VERSION</code> column contains the setting of the <code>COMPATIBLE</code> parameter of the database or Oracle ASM instance for the selected disk group connection.</p>
</li>
</ul>
<p>You can query the <code>V$ASM_CLIENT</code> view on both Oracle ASM and database instances. For an example showing a query on the <code>V$ASM_CLIENT</code> view, see <a href="asmviews.htm#CHDIHBIF">Example 6-4, "Viewing disk group clients with V$ASM_CLIENT"</a>. For more information about the <code>V$ASM_CLIENT</code> and <code>V$ASM_*</code> views, see <a href="asmviews.htm#i1009568">"Views Containing Oracle ASM Disk Group Information"</a>.</p>
</div>
<!-- class="sect1" -->
<a id="i1013970"></a><a id="OSTMG10100"></a>
<div class="sect1">
<h2 class="sect1">Configuring Initialization Parameters for Oracle ASM Instances</h2>
<p><a id="sthref88"></a><a id="sthref89"></a>This section discusses initialization parameter files and parameter settings for Oracle ASM instances. To install and initially configure an Oracle ASM instance, use Oracle Universal Installer (OUI) and Oracle ASM Configuration Assistant (ASMCA). Refer to your platform-specific <a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for details about installing and configuring Oracle ASM.</p>
<p>After an Oracle ASM instance has been installed on a single-instance Oracle Database or in an Oracle Real Application Clusters (Oracle RAC) environment, the final Oracle ASM configuration can be performed. Only a few Oracle ASM-specific instance initialization parameters must be configured. The default values are usually sufficient.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Cloud Storage page on the Oracle Technology Network Web site at <code><a href="http://www.oracle.com/technetwork/database/cloud-storage/index.html">http://www.oracle.com/technetwork/database/cloud-storage/index.html</a></code> for more information about Oracle ASM best practices</div>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BHCCEIDI">Initialization Parameter Files for an Oracle ASM Instance</a></p>
</li>
<li>
<p><a href="#CHDEGEGB">Backing Up, Copying, and Moving an Oracle ASM Initialization Parameter File</a></p>
</li>
<li>
<p><a href="#BHCHFFFF">Setting Oracle ASM Initialization Parameters</a></p>
</li>
<li>
<p><a href="#CHDBBIBF">Oracle ASM Parameter Setting Recommendations</a></p>
</li>
<li>
<p><a href="#CHDBAAFB">Setting Database Initialization Parameters for Use with Oracle ASM</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink REFRN001" href="../../server.112/e40402/initparams_part.htm#REFRN001"><span class="italic">Oracle Database Reference</span></a> for information about initialization parameters</p>
</li>
<li>
<p><a class="olink ADMIN002" href="../../server.112/e25494/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about initialization parameter files</p>
</li>
</ul>
</div>
<a id="BHCCEIDI"></a><a id="OSTMG10110"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Initialization Parameter Files for an Oracle ASM Instance</h3>
<p><a id="sthref90"></a><a id="sthref91"></a>When installing Oracle ASM in an Oracle Restart (standalone) configuration, Oracle Universal Installer (OUI) creates a separate server parameter file (SPFILE) and password file for the Oracle ASM instance. The ASM SPFILE is stored in a disk group during installation.</p>
<p>When installing Oracle ASM in a clustered Oracle ASM environment, OUI creates a single, shared SPFILE for Oracle ASM in a disk group.</p>
<p>When upgrading an Oracle ASM instance, if the ASM SPFILE was originally in a shared file system, then the upgraded Oracle ASM instance retains the SPFILE in the same location. If the original Oracle ASM instance used a PFILE, after an upgrade the instance continues to use a PFILE.</p>
<p>You can use an SPFILE or a text-based initialization parameter file (PFILE) as the Oracle ASM instance parameter file. If you use an SPFILE in a clustered Oracle ASM environment, then you must place the SPFILE in a disk group, on a shared raw device, or on a cluster file system. Oracle recommends that the Oracle ASM SPFILE is placed in a disk group. You cannot use a new alias created on an existing Oracle ASM SPFILE to start the Oracle ASM instance</p>
<p>If you do not use a shared Oracle Grid Infrastructure home, then the Oracle ASM instance can use a PFILE. The same rules for file name, default location, and search order that apply to database initialization parameter files also apply to Oracle ASM initialization parameter files.</p>
<p><a id="sthref92"></a><a id="sthref93"></a>When an Oracle ASM instance searches for an initialization parameter file, the search order is:</p>
<ol>
<li>
<p>The location of the initialization parameter file specified in the Grid Plug and Play (GPnP) profile</p>
</li>
<li>
<p>If the location has not been set in the GPnP profile, then the search order changes to:</p>
<ol>
<li>
<p>SPFILE in the Oracle ASM instance home</p>
<p>For example, the SPFILE for Oracle ASM has the following default path in the Oracle Grid Infrastructure home in a Linux environment:</p>
<p><code>$ORACLE_HOME/dbs/spfile+ASM.ora</code></p>
</li>
<li>
<p>PFILE in the Oracle ASM instance home</p>
</li>
</ol>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
A PFILE or SPFILE is required if your configuration uses non-default initialization parameters for the Oracle ASM instance.</div>
<p>You can administer Oracle ASM initialization parameter files with SQL*Plus, Oracle Enterprise Manager, ASMCA, and ASMCMD commands. For information about Oracle Enterprise Manager, see <a href="asm_em.htm#CBBBGIHD">"Configuring Oracle ASM Initialization Parameters with Oracle Enterprise Manager"</a>. For information about ASMCA, see <a href="asmca.htm#CHDEIHJA">Chapter 11, "Oracle ASM Configuration Assistant"</a>. For information about ASMCMD commands, see <a href="asm_util002.htm#CIHIBJCF">"ASMCMD Instance Management Commands"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN002" href="../../server.112/e25494/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about creating and maintaining initialization parameter files</p>
</li>
<li>
<p><a class="olink ADMQS053" href="../../server.112/e10897/instance.htm#ADMQS053"><span class="italic">Oracle Database 2 Day DBA</span></a> for information about viewing and modifying initialization parameters</p>
</li>
<li>
<p><a class="olink SQLRF01315" href="../../server.112/e41084/statements_6016.htm#SQLRF01315"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about creating an SPFILE with the <a class="olink SQLRF01315" href="../../server.112/e41084/statements_6016.htm#SQLRF01315"><code>CREATE SPFILE</code></a> SQL statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDEGEGB"></a><a id="OSTMG10120"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Backing Up, Copying, and Moving an Oracle ASM Initialization Parameter File</h3>
<p><a id="sthref94"></a><a id="sthref95"></a>You can back up, <a id="sthref96"></a><a id="sthref97"></a>copy, or move an Oracle ASM SPFILE with the ASMCMD <code>spbackup</code>, <code>spcopy</code> or <code>spmove</code> commands. For information about these ASMCMD commands, see <a href="asm_util002.htm#CIHHAHCI">"spbackup"</a>, <a href="asm_util002.htm#CIHEHGID">"spcopy"</a>, and <a href="asm_util002.htm#CIHDDJAF">"spmove"</a>.</p>
<p>You can also use the SQL <code>CREATE</code> <code>SPFILE</code> to create an Oracle ASM SPFILE when connected to the Oracle ASM instance.</p>
<p>You can copy and move an Oracle ASM PFILE with the commands available on the specific platform, such as <code>cp</code> for Linux.</p>
<p>After copying or moving an SPFILE or PFILE, you must restart the instance with the SPFILE or PFILE in the new location to use that SPFILE or PFILE.</p>
<p>If the <code>COMPATIBLE.ASM</code> disk group attribute is set to 11.2 or greater for a disk group, you can create, copy, or move an Oracle ASM SPFILE into the disk group.</p>
<p>For example, after upgrading an Oracle ASM instance from 11<span class="italic">g</span> release 1 (11.1) to 11<span class="italic">g</span> release 2 (11.2), you could place the Oracle ASM SPFILE in a disk group that has <code>COMPATIBLE.ASM</code> set to 11.2.</p>
<p>In the following steps, assume an Oracle ASM 11<span class="italic">g</span> release 2 (11.2) instance is using a PFILE stored in <code>$ORACLE_HOME/dbs/asmspfile.ora</code>. You can use the SQL <code>CREATE</code> <code>SPFILE</code> statement to create an SPFILE from a PFILE stored in a local or shared file system. If a PFILE does not exist, then it could be created with the SQL <code>CREATE</code> <code>PFILE</code> statement.</p>
<p><a id="sthref98"></a><a id="sthref99"></a>To create an SPFILE in a disk group, perform the following steps:</p>
<ol>
<li>
<p>Connect to the Oracle ASM instance.</p>
<p>For example:</p>
<pre>
$ sqlplus / as sysasm
</pre></li>
<li>
<p>Create an SPFILE in a disk group that has <code>COMPATIBLE.ASM</code> set to 11.2 with the SQL <code>CREATE</code> <code>SPFILE</code> statement.</p>
<p>For example, create an Oracle ASM SPFILE from the existing <code>PFILE</code>.</p>
<pre>
SQL&gt; CREATE SPFILE = '+DATA/asmspfile.ora' 
       FROM PFILE = '$ORACLE_HOME/dbs/asmpfile.ora';
</pre>
<p>The <code>CREATE</code> <code>SPFILE</code> statement also updates the Grid Plug and Play (GPnP) profile. You can check the location of the Oracle ASM SPFILE in the GPnP profile with the ASMCMD <code>spget</code> command. See <a href="asm_util002.htm#CIHDCFDD">"spget"</a>.</p>
</li>
<li>
<p>Restart the Oracle ASM instance so that the instance reads the SPFILE in the new location.</p>
<p>For information on shutting down and starting up an Oracle ASM instance, see <a href="#i1013975">"Starting Up an Oracle ASM Instance"</a> and <a href="#i1013993">"Shutting Down an Oracle ASM Instance"</a>.</p>
</li>
</ol>
<p>For information about disk group compatibility attributes, see <a href="asmdiskgrps.htm#CHDDIGBJ">"Disk Group Compatibility"</a>. For information about upgrading an Oracle ASM instance, see <a href="#CHDGFHDC">"Upgrading an Oracle ASM Instance in an Oracle Restart Configuration with Oracle Universal Installer"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN002" href="../../server.112/e25494/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about creating and maintaining initialization parameter files</p>
</li>
<li>
<p><a class="olink SQLRF01315" href="../../server.112/e41084/statements_6016.htm#SQLRF01315"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about creating an SPFILE with the <a class="olink SQLRF01315" href="../../server.112/e41084/statements_6016.htm#SQLRF01315"><code>CREATE SPFILE</code></a> SQL statement</p>
</li>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> for information about Grid Plug and Play (GPnP)</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BHCHFFFF"></a><a id="OSTMG10130"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Setting Oracle ASM Initialization Parameters</h3>
<p><a id="sthref100"></a><a id="sthref101"></a>There are several initialization parameters that you must set for an Oracle ASM instance. You can set these parameters with Oracle ASM Configuration Assistant (ASMCA). You can also set some parameters after database creation using Oracle Enterprise Manager or SQL <code>ALTER</code> <code>SYSTEM</code> or <code>ALTER</code> <code>SESSION</code> statements.</p>
<p>The <code>INSTANCE_TYPE</code> initialization parameter is the only required parameter in the Oracle ASM instance parameter file. The Oracle ASM* parameters use suitable defaults for most environments. You cannot use parameters with names that are prefixed with Oracle ASM* in database instance parameter files.</p>
<p>Some database initialization parameters are also valid for an Oracle ASM instance initialization file. In general, Oracle ASM selects the appropriate defaults for database parameters that are relevant to an Oracle ASM instance.</p>
<p>For information about setting Oracle ASM parameters with Oracle Enterprise Manager, see <a href="asm_em.htm#CBBBGIHD">"Configuring Oracle ASM Initialization Parameters with Oracle Enterprise Manager"</a>.</p>
<a id="OSTMG94074"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref102"></a>
<h4 class="sect3">Automatic Memory Management for Oracle ASM</h4>
<p><a id="sthref103"></a><a id="sthref104"></a>Automatic memory management automatically manages the memory-related parameters for both Oracle ASM and database instances with the <code>MEMORY_TARGET</code> parameter. Automatic memory management is enabled by default on an Oracle ASM instance, even when the <code>MEMORY_TARGET</code> parameter is not explicitly set. The default value used for <code>MEMORY_TARGET</code> is acceptable for most environments. This is the only parameter that you must set for complete Oracle ASM memory management. Oracle strongly recommends that you use automatic memory management for Oracle ASM.</p>
<p>If you do not set a value for <code>MEMORY_TARGET</code>, but you do set values for other memory related parameters, Oracle internally calculates the optimum value for <code>MEMORY_TARGET</code> based on those memory parameter values. You can also increase <code>MEMORY_TARGET</code> dynamically, up to the value of the <code>MEMORY_MAX_TARGET</code> parameter, just as you can do for the database instance.</p>
<p>Although it is not recommended, you can disable automatic memory management by either setting the value for <code>MEMORY_TARGET</code> to <code>0</code> in the Oracle ASM parameter file or by running an <code>ALTER</code> <code>SYSTEM</code> <code>SET</code> <code>MEMORY_TARGET</code><code>=0</code> statement. When you disable automatic memory management, Oracle reverts to auto shared memory management and automatic PGA memory management. To revert to Oracle Database 10<span class="italic">g</span> release 2 (10.2) functionality to manually manage Oracle ASM SGA memory, also run the <code>ALTER</code> <code>SYSTEM</code> <code>SET</code> <code>SGA_TARGET=0</code> statement. You can then manually manage Oracle ASM memory using the information in <a href="#CHDBBIBF">"Oracle ASM Parameter Setting Recommendations"</a>, that discusses Oracle ASM memory-based parameter settings. Unless specified, the behaviors of the automatic memory management parameters in Oracle ASM instances behave the same as in Oracle Database instances.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>For a Linux environment, automatic memory management cannot work if <code>/dev/shm</code> is not available or is undersized. For more information, see <a class="olink UNXAR" href="../e10839/toc.htm"><span class="italic">Oracle Database Administrator's Reference for Linux and UNIX-Based Operating Systems</span></a>. For information about platforms that support automatic memory management, see <a class="olink ADMIN11236" href="../../server.112/e25494/memory.htm#ADMIN11236"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
</li>
<li>
<p>The minimum <code>MEMORY_TARGET</code> for Oracle ASM is 256 MB. If you set <code>MEMORY_TARGET</code> to 100 MB, then Oracle increases the value for <code>MEMORY_TARGET</code> to 256 MB automatically.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11197" href="../../server.112/e25494/memory.htm#ADMIN11197"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the functionality of automatic memory management for database instances, which varies from Oracle ASM</p>
</li>
<li>
<p><a class="olink CNCPT1244" href="../../server.112/e40540/cncptdba.htm#CNCPT1244"><span class="italic">Oracle Database Concepts</span></a> for an overview of memory management methods</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBBIBF"></a><a id="OSTMG10140"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle ASM Parameter Setting Recommendations</h3>
<p><a id="sthref105"></a><a id="sthref106"></a>This section contains information about the following parameters for Oracle ASM:</p>
<ul>
<li>
<p><a href="#BHCCHHIG">ASM_DISKGROUPS</a></p>
</li>
<li>
<p><a href="#BHCEHJGA">ASM_DISKSTRING</a></p>
</li>
<li>
<p><a href="#BHCDHJFA">ASM_POWER_LIMIT</a></p>
</li>
<li>
<p><a href="#BHCIHBGH">ASM_PREFERRED_READ_FAILURE_GROUPS</a></p>
</li>
<li>
<p><a href="#BHCGAFCD">DB_CACHE_SIZE</a></p>
</li>
<li>
<p><a href="#CHDGCJJB">DIAGNOSTIC_DEST</a></p>
</li>
<li>
<p><a href="#BHCGFGIA">INSTANCE_TYPE</a></p>
</li>
<li>
<p><a href="#BHCFACCI">LARGE_POOL_SIZE</a></p>
</li>
<li>
<p><a href="#BHCFHDDJ">PROCESSES</a></p>
</li>
<li>
<p><a href="#BHCGCCBH">REMOTE_LOGIN_PASSWORDFILE</a></p>
</li>
<li>
<p><a href="#BHCDHCAH">SHARED_POOL_SIZE</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN002" href="../../server.112/e25494/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about creating and maintaining an initialization parameter file</p>
</li>
<li>
<p><a class="olink ADMQS053" href="../../server.112/e10897/instance.htm#ADMQS053"><span class="italic">Oracle Database 2 Day DBA</span></a> for information about viewing and modifying initialization parameters</p>
</li>
</ul>
</div>
<a id="BHCCHHIG"></a><a id="OSTMG10141"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">ASM_DISKGROUPS</h4>
<p><a id="sthref107"></a>The <code>ASM_DISKGROUPS</code> initialization parameter specifies a list of the names of disk groups that an Oracle ASM instance mounts at startup. Oracle ignores the value that you set for <code>ASM_DISKGROUPS</code> when you specify the <code>NOMOUNT</code> option at startup or when you run the <code>ALTER</code> <code>DISKGROUP</code> <code>ALL</code> <code>MOUNT</code> statement. The default value of the <code>ASM_DISKGROUPS</code> parameter is a <code>NULL</code> string. For information about disk groups that are mounted at startup time, see <a href="#CHDBIIDE">"About Mounting Disk Groups at Startup"</a>.</p>
<p>The <code>ASM_DISKGROUPS</code> parameter is dynamic. If you are using a server parameter file (SPFILE), then you do not have to manually alter the value of <code>ASM_DISKGROUPS</code>. Oracle ASM automatically adds a disk group to this parameter when the disk group is successfully created or mounted. Oracle ASM also automatically removes a disk group from this parameter when the disk group is dropped or dismounted.</p>
<p>The following is an example of setting the <code>ASM_DISKGROUPS</code> parameter dynamically:</p>
<pre>
SQL&gt; ALTER SYSTEM SET ASM_DISKGROUPS = DATA, FRA;
</pre>
<p>When using a text initialization parameter file (PFILE), you may edit the initialization parameter file to add the name of any disk group so that it is mounted automatically at instance startup. You must remove the name of any disk group that you no longer want automatically mounted.</p>
<p>The following is an example of the <code>ASM_DISKGROUPS</code> parameter in the initialization file:</p>
<p><code>ASM_DISKGROUPS</code> <code>=</code> <code>DATA,</code> <code>FRA</code></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Issuing the <code>ALTER DISKGROUP</code>...<code>ALL MOUNT</code> or <code>ALTER DISKGROUP</code>...<code>ALL DISMOUNT</code> commands does not affect the value of <code>ASM_DISKGROUPS</code>.</div>
<p>For additional information about mounting Oracle ASM disk groups, see <a href="asmdiskgrps.htm#i1019481">"Mounting and Dismounting Disk Groups"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10247" href="../../server.112/e40402/initparams010.htm#REFRN10247"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>ASM_DISKGROUPS</code> initialization parameter</div>
</div>
<!-- class="sect3" -->
<a id="BHCEHJGA"></a><a id="OSTMG10142"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">ASM_DISKSTRING</h4>
<p><a id="sthref108"></a>The <code>ASM_DISKSTRING</code> initialization parameter specifies a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers. The discovery strings can include wildcard characters. Only disks that match one of the strings are discovered. The same disk cannot be discovered twice.</p>
<p>The discovery string format depends on the Oracle ASM library and the operating system that are in use. Pattern matching is supported. Refer to your operating system-specific installation guide for information about the default pattern matching.</p>
<p>For example, on a Linux server that does not use ASMLib, to limit the discovery process to only include disks that are in the <code>/dev/rdsk/mydisks</code> directory, set the <code>ASM_DISKSTRING</code> initialization parameter to:</p>
<p><code>/dev/rdsk/mydisks/*</code></p>
<p>The asterisk is required. To limit the discovery process to only include disks that have a name that ends in <code>disk3</code> or <code>disk4</code>, set <code>ASM_DISKSTRING</code> to:</p>
<p><code>/dev/rdsk/*disk3</code>, <code>/dev/rdsk/*disk4</code></p>
<p>The <code>?</code> character, when used as the first character of a path, expands to the Oracle home directory. Depending on the operating system, when you use the <code>?</code> character elsewhere in the path, it is a wildcard for one character.</p>
<p>The default value of the <code>ASM_DISKSTRING</code> parameter is a <code>NULL</code> string. A <code>NULL</code> value causes Oracle ASM to search a default path for all disks in the system to which the Oracle ASM instance has read and write access. The default search path is platform-specific. Refer to your operating system specific installation guide for more information about the default search path.</p>
<p>Oracle ASM cannot use a disk unless all of the Oracle ASM instances in the cluster can discover the disk through one of their own discovery strings. The names do not have to be the same on every node, but all disks must be discoverable by all of the nodes in the cluster. This may require dynamically changing the initialization parameter to enable adding new storage.</p>
<p>For additional information about discovering disks, see <a href="asmdiskgrps.htm#CHDHDDBE">"Oracle ASM Disk Discovery"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><span class="italic">Oracle Exadata documentation</span> for information about the Oracle ASM discovery string format for Oracle Exadata</p>
</li>
<li>
<p><a class="olink REFRN10248" href="../../server.112/e40402/initparams011.htm#REFRN10248"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>ASM_DISKSTRING</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCDHJFA"></a><a id="OSTMG10144"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">ASM_POWER_LIMIT</h4>
<p><a id="sthref109"></a><a id="sthref110"></a><a id="sthref111"></a>The <code>ASM_POWER_LIMIT</code> <a id="sthref112"></a>initialization parameter specifies the default power for disk rebalancing in a disk group. The range of values is <code>0</code> to <code>1024</code>. The default value is <code>1</code>. A value of <code>0</code> disables rebalancing. Higher numeric values enable the rebalancing operation to complete more quickly, but might result in higher I/O overhead and more rebalancing processes.</p>
<ul>
<li>
<p>For disk groups that have the disk group ASM compatibility set to <code>11.2.0.2</code> or greater (for example, <code>COMPATIBLE.ASM</code> = <code>11.2.0.2</code>), the operational range of values is <code>0</code> to <code>1024</code> for the rebalance power.</p>
</li>
<li>
<p>For disk groups that have the disk group ASM compatibility set to less than <code>11.2.0.2</code>, the operational range of values is <code>0</code> to <code>11</code> inclusive. If the value for <code>ASM_POWER_LIMIT</code> is larger than <code>11</code>, a value of <code>11</code> is used for these disk groups.</p>
</li>
</ul>
<p>You can also specify the power of the rebalancing operation in a disk group with the <code>POWER</code> clause of the SQL <code>ALTER</code> <code>DISKGROUP</code> ... <code>REBALANCE</code> statement. The range of allowable values for the <code>POWER</code> clause is the same for the <code>ASM_POWER_LIMIT</code> initialization parameter. If the value of the <code>POWER</code> clause is specified larger than <code>11</code> for a disk group with ASM compatibility set to less than <code>11.2.0.2</code>, then a warning is displayed and a <code>POWER</code> value equal to <code>11</code> is used for rebalancing.</p>
<p>For information about the <code>ASM_POWER_LIMIT</code> unitization parameter, and the <code>POWER</code> clause, refer to <a href="asmdiskgrps.htm#BABCCEAB">"Manually Rebalancing Disk Groups"</a> and <a href="asmdiskgrps.htm#i1027260">"Tuning Rebalance Operations"</a>. For information about disk group compatibility, see <a href="asmdiskgrps.htm#CHDDIGBJ">"Disk Group Compatibility"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink REFRN10246" href="../../server.112/e40402/initparams012.htm#REFRN10246"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>ASM_POWER_LIMIT</code> initialization parameter</p>
</li>
<li>
<p><a class="olink SQLRF01113" href="../../server.112/e41084/statements_1007.htm#SQLRF01113"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code>POWER</code> clause of the SQL <code>ALTER</code> <code>DISKGROUP</code> <code>REBALANCE</code> statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCIHBGH"></a><a id="OSTMG10145"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">ASM_PREFERRED_READ_FAILURE_GROUPS</h4>
<p><a id="sthref113"></a><a id="sthref114"></a><a id="sthref115"></a><a id="sthref116"></a>The <code>ASM_PREFERRED_READ_FAILURE_GROUPS</code> initialization parameter value is a comma-delimited list of strings that specifies the failure groups that should be preferentially read by the given instance. The <code>ASM_PREFERRED_READ_FAILURE_GROUPS</code> parameter setting is instance specific. The default value is <code>NULL</code>. This parameter is generally used for clustered Oracle ASM instances and its value can be different on different nodes.</p>
<p>For example:</p>
<p><code><span class="codeinlineitalic">diskgroup_name1</span></code>.<code><span class="codeinlineitalic">failure_group_name1</span></code>, ...</p>
<p>For more information about <code>ASM_PREFERRED_READ_FAILURE_GROUPS</code>, refer to <a href="asmdiskgrps.htm#CHDFJCBF">"Preferred Read Failure Groups"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD820" href="../../rac.112/e41960/storage.htm#RACAD820"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about configuring preferred disks in extended clusters</p>
</li>
<li>
<p><a class="olink REFRN10279" href="../../server.112/e40402/initparams013.htm#REFRN10279"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>ASM_PREFERRED_READ_FAILURE_GROUPS</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCGAFCD"></a><a id="OSTMG94075"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">DB_CACHE_SIZE</h4>
<p><a id="sthref117"></a><a id="sthref118"></a>You do not have to set a value for the <code>DB_CACHE_SIZE</code> initialization parameter if you use automatic memory management. The setting for the <code>DB_CACHE_SIZE</code> parameter determines the size of the buffer cache. This buffer cache is used to store metadata blocks. The default value for this parameter is suitable for most environments.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00207" href="../../server.112/e25494/memory.htm#ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about setting the <code>DB_CACHE_SIZE</code> initialization parameter</p>
</li>
<li>
<p><a class="olink PFGRF014" href="../../server.112/e41573/memory.htm#PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about memory configuration</p>
</li>
<li>
<p><a class="olink REFRN10033" href="../../server.112/e40402/initparams052.htm#REFRN10033"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>DB_CACHE_SIZE</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CHDGCJJB"></a><a id="OSTMG94076"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">DIAGNOSTIC_DEST</h4>
<p><a id="sthref119"></a><a id="sthref120"></a><a id="sthref121"></a><a id="sthref122"></a>The <code>DIAGNOSTIC_DEST</code> initialization parameter specifies the directory where diagnostics for an instance are located. The default value for an Oracle ASM instance is the <code>$ORACLE_BASE</code> directory for the Oracle Grid Infrastructure installation.</p>
<p><a href="#CHDDBCIG">Example 3-1</a> shows an example of the diagnostic directory for an Oracle ASM instance.</p>
<div class="example">
<p class="titleinexample"><a id="CHDDBCIG"></a><a id="OSTMG94077"></a>Example 3-1 Sample diagnostic directory for an Oracle ASM instance</p>
<pre>
$ ls $ORACLE_BASE/diag/asm/+asm/+ASM
alert  cdump  hm  incident  incpkg  ir  lck  metadata  stage  sweep  trace
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11008" href="../../server.112/e25494/diag.htm#ADMIN11008"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the <code>DIAGNOSTIC_DEST</code> initialization parameter and the fault diagnosability infrastructure.</p>
</li>
<li>
<p><a class="olink REFRN10280" href="../../server.112/e40402/initparams078.htm#REFRN10280"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>DIAGNOSTIC_DEST</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCGFGIA"></a><a id="OSTMG94078"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">INSTANCE_TYPE</h4>
<p><a id="sthref123"></a><a id="sthref124"></a>The <code>INSTANCE_TYPE</code> initialization parameter is optional for an Oracle ASM instance in an Oracle Grid Infrastructure home.</p>
<p>The following is an example of the <code>INSTANCE_TYPE</code> parameter in the initialization file:</p>
<p><code>INSTANCE_TYPE</code> <code>=</code> <code>ASM</code></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10244" href="../../server.112/e40402/initparams107.htm#REFRN10244"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>INSTANCE_TYPE</code> parameter</div>
</div>
<!-- class="sect3" -->
<a id="BHCFACCI"></a><a id="OSTMG94079"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">LARGE_POOL_SIZE</h4>
<p><a id="sthref125"></a><a id="sthref126"></a>You do not have to set a value for the <code>LARGE_POOL_SIZE</code> initialization parameter if you use automatic memory management.</p>
<p>The setting for the <code>LARGE_POOL_SIZE</code> parameter is used for large allocations. The default value for this parameter is suitable for most environments.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00207" href="../../server.112/e25494/memory.htm#ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about setting the <code>LARGE_POOL_SIZE</code> initialization parameter</p>
</li>
<li>
<p><a class="olink PFGRF014" href="../../server.112/e41573/memory.htm#PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about memory configuration</p>
</li>
<li>
<p><a class="olink REFRN10078" href="../../server.112/e40402/initparams113.htm#REFRN10078"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>LARGE_POOL_SIZE</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCFHDDJ"></a><a id="OSTMG94080"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">PROCESSES</h4>
<p><a id="sthref127"></a><a id="sthref128"></a>The <code>PROCESSES</code> initialization parameter affects Oracle ASM, but the default value is usually suitable. However, if multiple database instances are connected to an Oracle ASM instance, you can use the following formula:</p>
<p><code>PROCESSES</code> = 50 + 50*n</p>
<p>where <code>n</code> is the number database instances connecting to the Oracle ASM instance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11108" href="../../server.112/e25494/create.htm#ADMIN11108"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about setting the <code>PROCESSES</code> initialization parameter</p>
</li>
<li>
<p><a class="olink REFRN10175" href="../../server.112/e40402/initparams202.htm#REFRN10175"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>PROCESSES</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCGCCBH"></a><a id="OSTMG94081"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">REMOTE_LOGIN_PASSWORDFILE</h4>
<p><a id="sthref129"></a><a id="sthref130"></a>The <code>REMOTE_LOGIN_PASSWORDFILE</code> initialization parameter specifies whether the Oracle ASM instance checks for a password file. This parameter operates the same for Oracle ASM and database instances.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN001" href="../../server.112/e25494/dba.htm#ADMIN001"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about setting the <code>REMOTE_LOGIN_PASSWORDFILE</code> initialization parameter</p>
</li>
<li>
<p><a class="olink REFRN10184" href="../../server.112/e40402/initparams212.htm#REFRN10184"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>REMOTE_LOGIN_PASSWORDFILE</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCDHCAH"></a><a id="OSTMG94082"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">SHARED_POOL_SIZE</h4>
<p><a id="sthref131"></a><a id="sthref132"></a>You do not have to set a value for the <code>SHARED_POOL_SIZE</code> initialization parameter if you use automatic memory management. The setting for the <code>SHARED_POOL_SIZE</code> parameter determines the amount of memory required to manage the instance. The setting for this parameter is also used to determine the amount of space that is allocated for extent storage. The default value for this parameter is suitable for most environments.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00207" href="../../server.112/e25494/memory.htm#ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about setting the <code>SHARED_POOL_SIZE</code> initialization parameter</p>
</li>
<li>
<p><a class="olink PFGRF014" href="../../server.112/e41573/memory.htm#PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about memory configuration</p>
</li>
<li>
<p><a class="olink REFRN10202" href="../../server.112/e40402/initparams240.htm#REFRN10202"><span class="italic">Oracle Database Reference</span></a> for more information about the <code>SHARED_POOL_SIZE</code> parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBAAFB"></a><a id="OSTMG94083"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Setting Database Initialization Parameters for Use with Oracle ASM</h3>
<p><a id="sthref133"></a><a id="sthref134"></a>When you do not use automatic memory management in a database instance, the SGA parameter settings for a database instance may require minor modifications to support Oracle ASM. When you use automatic memory management, the sizing data discussed in this section can be treated as informational only or as supplemental information to help determine the appropriate values that you should use for the SGA. Oracle highly recommends using automatic memory management.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00207" href="../../server.112/e25494/memory.htm#ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing memory allocation in an Oracle Database instance</p>
</li>
<li>
<p><a class="olink PFGRF014" href="../../server.112/e41573/memory.htm#PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about memory configuration and use</p>
</li>
</ul>
</div>
<p>The following are configuration guidelines for SGA sizing on the database instance:</p>
<ul>
<li>
<p><code>PROCESSES</code> initialization parameter&mdash;Add 16 to the current value</p>
</li>
<li>
<p><code>LARGE_POOL_SIZE</code> initialization parameter&mdash;Add an additional 600K to the current value</p>
</li>
<li>
<p><code>SHARED_POOL_SIZE</code> initialization parameter&mdash;Aggregate the values from the following queries to obtain the current database storage size that is either on Oracle ASM or stored in Oracle ASM. Next, determine the redundancy type and calculate the <code>SHARED_POOL_SIZE</code> using the aggregated value as input.</p>
<pre>
SELECT SUM(bytes)/(1024*1024*1024) FROM V$DATAFILE;
SELECT SUM(bytes)/(1024*1024*1024) FROM V$LOGFILE a, V$LOG b
       WHERE a.group#=b.group#;
SELECT SUM(bytes)/(1024*1024*1024) FROM V$TEMPFILE 
       WHERE status='ONLINE'; 
</pre>
<ul>
<li>
<p>For disk groups using external redundancy, every 100 GB of space needs 1 MB of extra shared pool plus 2 MB</p>
</li>
<li>
<p>For disk groups using normal redundancy, every 50 GB of space needs 1 MB of extra shared pool plus 4 MB</p>
</li>
<li>
<p>For disk groups using high redundancy, every 33 GB of space needs 1 MB of extra shared pool plus 6 MB</p>
</li>
</ul>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00207" href="../../server.112/e25494/memory.htm#ADMIN00207"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing memory allocation in an Oracle Database instance</p>
</li>
<li>
<p><a class="olink PFGRF014" href="../../server.112/e41573/memory.htm#PFGRF014"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about memory configuration and use</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFIAGE"></a><a id="OSTMG94084"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Managing Oracle ASM Instances</h2>
<p>This section describes how to administer Oracle ASM instances under the following topics:</p>
<ul>
<li>
<p><a href="#BABBCDJI">Administering Oracle ASM Instances with Server Control Utility</a></p>
</li>
<li>
<p><a href="#CHDBGFDC">Using Oracle Restart</a></p>
</li>
<li>
<p><a href="#i1013975">Starting Up an Oracle ASM Instance</a></p>
</li>
<li>
<p><a href="#i1013993">Shutting Down an Oracle ASM Instance</a></p>
</li>
<li>
<p><a href="#CHDGFHDC">Upgrading an Oracle ASM Instance in an Oracle Restart Configuration with Oracle Universal Installer</a></p>
</li>
<li>
<p><a href="#CHDHGHAB">Downgrading an Oracle ASM Instance in an Oracle Restart Configuration</a></p>
</li>
<li>
<p><a href="#CIABCDDH">Out of Place Upgrades</a></p>
</li>
<li>
<p><a href="#CHDFCFAJ">Configuring Oracle Grid Infrastructure with the Configuration Wizard</a></p>
</li>
<li>
<p><a href="#CHDEIHIC">Active Session History Sampling for Oracle ASM</a></p>
</li>
</ul>
<a id="BABBCDJI"></a><a id="OSTMG94085"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Administering Oracle ASM Instances with Server Control Utility</h3>
<p>In addition to the Oracle ASM administration procedures that this section describes, you can use Server Control Utility (SRVCTL) in clustered Oracle ASM environments to perform the following Oracle ASM administration tasks:</p>
<ul>
<li>
<p>Add and remove the Oracle ASM CRS resource in Oracle Cluster Registry (OCR)</p>
</li>
<li>
<p>Enable, disable, start, and stop Oracle ASM instances</p>
</li>
<li>
<p>Display the Oracle ASM instance configuration and status</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink RACAD826" href="../../rac.112/e41960/storage.htm#RACAD826"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about administering Oracle ASM instances with <code>SRVCTL</code></div>
</div>
<!-- class="sect2" -->
<a id="CHDBGFDC"></a><a id="OSTMG94086"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using Oracle Restart</h3>
<p><a id="sthref135"></a><a id="sthref136"></a>Oracle Restart improves the availability of your Oracle database. When you install the Oracle Grid Infrastructure for a <a id="sthref137"></a><a id="sthref138"></a>standalone server, it includes both Oracle ASM and Oracle Restart. Oracle Restart runs out of the Oracle Grid Infrastructure home, which you install separately from Oracle Database homes.</p>
<p>Oracle Restart provides managed startup and restart of a single-instance (non-clustered) Oracle Database, Oracle ASM instance, service, listener, and any other process running on the server. If an interruption of a service occurs after a hardware or software failure, Oracle Restart automatically takes the necessary steps to restart the component.</p>
<p>With Server Control Utility (SRVCTL) you can add a component, such as an Oracle ASM instance, to Oracle Restart. You then enable Oracle Restart protection for the Oracle ASM instance. With SRVCTL, you also remove or disable Oracle Restart protection.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN12708" href="../../server.112/e25494/restart.htm#ADMIN12708"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about configuring and administering Oracle Restart</p>
</li>
<li>
<p><a class="olink RACAD005" href="../../rac.112/e41960/srvctladmin.htm#RACAD005"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about automatically restarting single-instance databases residing on an Oracle RAC node</p>
</li>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about installation of Oracle Grid Infrastructure</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1013975"></a><a id="OSTMG13630"></a>
<div class="sect2">
<h3 class="sect2">Starting Up an Oracle ASM Instance</h3>
<p><a id="sthref139"></a>This section describes how to start Oracle ASM instances under the following topics:</p>
<ul>
<li>
<p><a href="#CHDEJIIF">Connecting To and Starting Up an Oracle ASM Instance</a></p>
</li>
<li>
<p><a href="#CHDHGGCD">Starting Up an Oracle ASM instance with an Incorrect SPFILE Path</a></p>
</li>
<li>
<p><a href="#CHDBIIDE">About Mounting Disk Groups at Startup</a></p>
</li>
<li>
<p><a href="#CHDGIIBI">About Restricted Mode</a></p>
</li>
</ul>
<a id="CHDEJIIF"></a><a id="OSTMG94087"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Connecting To and Starting Up an Oracle ASM Instance</h4>
<p><a id="sthref140"></a><a id="sthref141"></a>You start an Oracle ASM instance similarly to the way in which you start an Oracle database instance with some minor differences.</p>
<p>When starting an Oracle ASM instance, note the following:</p>
<ul>
<li>
<p>To connect to a local Oracle ASM instance with SQL*Plus, set the <code>ORACLE_SID</code> environment variable to the Oracle ASM system identifier (SID).</p>
<p>The default Oracle ASM SID for a single-instance database is <code>+ASM</code>, and the default SID for Oracle ASM for an Oracle RAC node is <code>+ASM</code><code><span class="codeinlineitalic">node_number</span></code> where <code><span class="codeinlineitalic">node_number</span></code> is the number of the node. The <code>ORACLE_HOME</code> environment variable must be set to the Grid Infrastructure home where Oracle ASM was installed.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you do not change the default Oracle ASM SID name.</div>
</li>
<li>
<p>The initialization parameter file must contain the following entry:</p>
<p><code>INSTANCE_TYPE = ASM</code></p>
<p>This parameter indicates that an Oracle ASM instance, not a database instance, is starting.</p>
</li>
<li>
<p>When you run the <code>STARTUP</code> command, rather than trying to mount and open a database, this command attempts to mount Oracle ASM disk groups.</p>
<p>For information about disk groups that are mounted at startup time, see <a href="#CHDBIIDE">"About Mounting Disk Groups at Startup"</a>.</p>
<p>After the Oracle ASM instance has started, you can mount disk groups with the <code>ALTER DISKGROUP...MOUNT</code> command. See <a href="asmdiskgrps.htm#i1019481">"Mounting and Dismounting Disk Groups"</a> for more information.</p>
</li>
<li>
<p>The associated Oracle database instance does not have to be running when you start the associated Oracle ASM instance.</p>
</li>
</ul>
<p>The following list describes how Oracle ASM interprets SQL*Plus <code>STARTUP</code> command parameters.</p>
<ul>
<li>
<p><code>FORCE</code> Parameter</p>
<p>Issues a <code>SHUTDOWN ABORT</code> to the Oracle ASM instance before restarting it.</p>
<p>If an Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file system is currently mounted on Oracle ADVM volumes, the file system should first be dismounted. Otherwise, applications encounter I/O errors and Oracle ACFS user data and metadata may not be written to storage before the Oracle ASM storage is fenced. For information about dismounting an Oracle ACFS file system, see <a href="asmfs_util001.htm#BABCJBBI">"Deregistering, Dismounting, and Disabling Volumes and Oracle ACFS File Systems"</a>.</p>
</li>
<li>
<p><code>MOUNT</code> or <code>OPEN</code> Parameter</p>
<p>Mounts the disk groups specified in the <code>ASM_DISKGROUPS</code> initialization parameter. This is the default if no command parameter is specified.</p>
</li>
<li>
<p><code>NOMOUNT</code> Parameter</p>
<p>Starts up the Oracle ASM instance without mounting any disk groups.</p>
</li>
<li>
<p><code>RESTRICT</code> Parameter</p>
<p>Starts up an instance in restricted mode that enables access only to users with both the <code>CREATE</code> <code>SESSION</code> and <code>RESTRICTED</code> <code>SESSION</code> system privileges. You can use the <code>RESTRICT</code> clause in combination with the <code>MOUNT</code>, <code>NOMOUNT</code>, and <code>OPEN</code> clauses.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDGIIBI">"About Restricted Mode"</a> for more information</div>
<p>In restricted mode, database instances cannot use the disk groups. In other words, databases cannot open files that are in that disk group. Also, the disk group cannot be mounted by any other instance in the cluster. Mounting the disk group in restricted mode enables only one Oracle ASM instance to mount the disk group. This mode is useful to mount the disk group for repairing configuration issues.</p>
</li>
</ul>
<p>The following is a sample SQL*Plus session for starting an Oracle ASM instance.</p>
<br />
<code>SQLPLUS</code> <code>/NOLOG</code><br />
<code>SQL&gt;</code> <code>CONNECT</code> <code>SYS</code> <code>AS</code> <code>SYSASM</code><br />
<code>Enter</code> <code>password:</code> <code><span class="codeinlineitalic">sys_password</span></code><br />
<code>Connected</code> <code>to</code> <code>an</code> <code>idle</code> <code>instance.</code><br />
<br />
<code>SQL&gt;</code> <code>STARTUP</code><br />
<code>ASM</code> <code>instance</code> <code>started</code><br />
<br />
<code>Total System Global Area&nbsp;&nbsp;&nbsp;71303168 bytes</code><br />
<code>Fixed Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1069292 bytes</code><br />
<code>Variable Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45068052 bytes</code><br />
<code>ASM Cache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25165824 bytes</code><br />
<code>ASM disk groups mounted</code><br />
<p>For more information about user authentication, see <a href="#CHDEJBAI">"Authentication for Accessing Oracle ASM Instances"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00102" href="../../server.112/e25494/dba.htm#ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about using environment variables to select instances</p>
</li>
<li>
<p><a class="olink ADMIN004" href="../../server.112/e25494/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about starting up and shutting down Oracle instances</p>
</li>
<li>
<p><a class="olink RACAD826" href="../../rac.112/e41960/storage.htm#RACAD826"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about starting an Oracle ASM instance with <code>SRVCTL</code> in Oracle RAC</p>
</li>
<li>
<p><a class="olink CWADD1111" href="../../rac.112/e41959/intro.htm#CWADD1111"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about Oracle Clusterware Cluster subcomponent processes and background processes</p>
</li>
<li>
<p><a class="olink CNCPT1249" href="../../server.112/e40540/process.htm#CNCPT1249"><span class="italic">Oracle Database Concepts</span></a> for information about Oracle database background processes</p>
</li>
<li>
<p><a class="olink REFRN104" href="../../server.112/e40402/bgprocesses.htm#REFRN104"><span class="italic">Oracle Database Reference</span></a> for a description of the Oracle background processes</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CHDHGGCD"></a><a id="OSTMG94088"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Starting Up an Oracle ASM instance with an Incorrect SPFILE Path</h4>
<p><a id="sthref142"></a><a id="sthref143"></a>If the SPFILE path in the GPNP profile is incorrect, you can start the Oracle ASM instance as follows:</p>
<ol>
<li>
<p>Create a PFILE with one line in it that identifies the path to the SPFILE.</p>
<p>For example:</p>
<p>Create the <code>/u01/oracle/dbs/spfileasm_init.ora</code> file that contains:</p>
<p><code>SPFILE='+DATA/asm/asmparameterfile/asmspfile.ora'</code></p>
</li>
<li>
<p>Start up the instance using the initialization parameter file.</p>
<p>For example:</p>
<p><code>SQL&gt;</code> <code>STARTUP</code> <code>PFILE=/u01/oracle/dbs/spfileasm_init.ora</code></p>
</li>
<li>
<p>After the instance is running, use the ASMCMD <code>spset</code> command to update the SPFILE path in the GPNP profile. See <a href="asm_util002.htm#CIHCAJBC">"spset"</a>.</p>
<p>For example:</p>
<p><code>ASMCMD&gt;</code> <code>spset</code> <code>+DATA/asm/asmparameterfile/asmspfile.ora</code></p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN12828" href="../../server.112/e25494/start.htm#ADMIN12828"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about using <code>STARTUP</code> with a non-default server parameter file</div>
</div>
<!-- class="sect3" -->
<a id="CHDBIIDE"></a><a id="OSTMG94089"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">About Mounting Disk Groups at Startup</h4>
<p><a id="sthref144"></a><a id="sthref145"></a>At startup, the Oracle ASM instance attempts to mount the following disk groups:</p>
<ul>
<li>
<p>Disk groups specified in the <code>ASM_DISKGROUPS</code> initialization parameter</p>
</li>
<li>
<p>Disk group used by Cluster Synchronization Services (CSS) for voting files</p>
</li>
<li>
<p>Disk groups used by Oracle Clusterware for Oracle Cluster Registry (OCR)</p>
</li>
<li>
<p>Disk group used by the Oracle ASM instance to store the ASM server parameter file (SPFILE)</p>
</li>
</ul>
<p>If no disk groups are found in the previous list, then the Oracle ASM instance does not mount any disk groups at startup. After the Oracle ASM instance has started, you can mount disk groups with the <code>ALTER DISKGROUP...MOUNT</code> command. For more information, see <a href="asmdiskgrps.htm#i1019481">"Mounting and Dismounting Disk Groups"</a>.</p>
</div>
<!-- class="sect3" -->
<a id="CHDGIIBI"></a><a id="OSTMG94090"></a>
<div class="sect3">
<h4 class="sect3">About Restricted Mode</h4>
<p><a id="sthref146"></a><a id="sthref147"></a><a id="sthref148"></a>You can use the <code>STARTUP</code> <code>RESTRICT</code> command to control access to an Oracle ASM instance while you perform maintenance. When an Oracle ASM instance is active in this mode, all of the disk groups that are defined in the <code>ASM_DISKGROUPS</code> parameter are mounted in <code>RESTRICTED</code> mode. This prevents databases from connecting to the Oracle ASM instance. In addition, the restricted clause of the <code>ALTER</code> <code>SYSTEM</code> statement is disabled for the Oracle ASM instance. The <code>ALTER</code> <code>DISKGROUP</code> <code><span class="codeinlineitalic">diskgroup</span></code> <code>MOUNT</code> statement is extended to enable Oracle ASM to mount a disk group in restricted mode.</p>
<p>When you mount a disk group in <code>RESTRICTED</code> mode, the disk group can only be mounted by one instance. Clients of Oracle ASM on that node cannot access that disk group while the disk group is mounted in <code>RESTRICTED</code> mode. The <code>RESTRICTED</code> mode enables you to perform maintenance tasks on a disk group in the Oracle ASM instance without interference from clients.</p>
<p>Rebalance operations that occur while a disk group is in <code>RESTRICTED</code> mode eliminate the lock and unlock extent map messaging that occurs between Oracle ASM instances in an Oracle RAC environment. This improves the overall rebalance throughput. At the end of a maintenance period, you must explicitly dismount the disk group and remount it in normal mode.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1013993"></a><a id="OSTMG13640"></a>
<div class="sect2">
<h3 class="sect2">Shutting Down an Oracle ASM Instance</h3>
<p><a id="sthref149"></a><a id="sthref150"></a>The Oracle ASM shutdown process is initiated when you run the <code>SHUTDOWN</code> command in SQL*Plus. Before you run this command, ensure that the <code>ORACLE_SID</code> environment variable is set to the Oracle ASM SID so that you can connect to the local Oracle ASM instance. The default Oracle ASM SID for a single-instance database is <code>+ASM</code>, and the default SID for Oracle ASM for an Oracle RAC node is <code>+ASM</code><code><span class="codeinlineitalic">node_number</span></code> where <code><span class="codeinlineitalic">node_number</span></code> is the number of the node. The <code>ORACLE_HOME</code> environment variable must be set to the Grid Infrastructure home where Oracle ASM was installed.</p>
<p>Oracle strongly recommends that you shut down all database instances that use the Oracle ASM instance and dismount all file systems mounted on Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes before attempting to shut down the Oracle ASM instance.</p>
<p><a id="sthref151"></a><a id="sthref152"></a>If Oracle Cluster Registry (OCR) or voting files are stored in a disk group, the disk group can only be dismounted by shutting down the Oracle ASM instance as part of shutting down the clusterware on a node. To shut down the clusterware, run <code>crsctl</code> <code>stop</code> <code>crs</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN00102" href="../../server.112/e25494/dba.htm#ADMIN00102"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about using environment variables to select instances</p>
</li>
<li>
<p><a class="olink ADMIN004" href="../../server.112/e25494/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about starting up and shutting down Oracle instances</p>
</li>
<li>
<p><a class="olink CWADD70700" href="../../rac.112/e41959/votocr.htm#CWADD70700"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about managing voting files, Oracle Cluster Registry (OCR), and Oracle Local Registry (OLR)</p>
</li>
</ul>
</div>
<p>To shut down an Oracle ASM instance, perform the following steps:</p>
<br />
<code>SQLPLUS /NOLOG</code><br />
<code>SQL&gt; CONNECT SYS</code> <code>AS SYSASM</code><br />
<code>Enter</code> <code>password:</code> <code><span class="codeinlineitalic">sys_password</span></code><br />
<code>Connected.</code><br />
<code>SQL&gt; SHUTDOWN NORMAL</code><br />
<p>For more information about user authentication, see <a href="#CHDEJBAI">"Authentication for Accessing Oracle ASM Instances"</a>.</p>
<p>The following list describes the <code>SHUTDOWN</code> modes and the behavior of the Oracle ASM instance in each mode.</p>
<ul>
<li>
<p><code>NORMAL</code> Clause</p>
<p>Oracle ASM waits for any in-progress SQL to complete before performing an orderly dismount of all of the disk groups and shutting down the Oracle ASM instance. Before the instance is shut down, Oracle ASM waits for all of the currently connected users to disconnect from the instance. If any database instances are connected to the Oracle ASM instance, then the <code>SHUTDOWN</code> command returns an error and leaves the Oracle ASM instance running. <code>NORMAL</code> is the default shutdown mode.</p>
</li>
<li>
<p><code>IMMEDIATE</code> or <code>TRANSACTIONAL</code> Clause</p>
<p>Oracle ASM waits for any in-progress SQL to complete before performing an orderly dismount of all of the disk groups and shutting down the Oracle ASM instance. Oracle ASM does not wait for users currently connected to the instance to disconnect. If any database instances are connected to the Oracle ASM instance, then the <code>SHUTDOWN</code> command returns an error and leaves the Oracle ASM instance running. Because the Oracle ASM instance does not contain any transactions, the <code>TRANSACTIONAL</code> mode behaves the same as <code>IMMEDIATE</code> mode.</p>
</li>
<li>
<p><code>ABORT</code> Clause</p>
<p>The Oracle ASM instance immediately shuts down without the orderly dismount of disk groups. This causes recovery to occur upon the next Oracle ASM startup.</p>
<p>If any database instance is connected to the Oracle ASM instance, then the database instance aborts.</p>
<p><a id="sthref153"></a><a id="sthref154"></a>If any Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file systems are currently mounted on Oracle ADVM volumes, those file systems should first be dismounted. Otherwise, applications encounter I/O errors and Oracle ACFS user data and metadata may not be written to storage before the Oracle ASM storage is fenced. For information about dismounting an Oracle ACFS file system, see <a href="asmfs_util001.htm#BABCJBBI">"Deregistering, Dismounting, and Disabling Volumes and Oracle ACFS File Systems"</a>. For more information about user authentication on Oracle ASM instance, see <a href="#CHDEJBAI">"Authentication for Accessing Oracle ASM Instances"</a>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDGFHDC"></a><a id="OSTMG13650"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Upgrading an Oracle ASM Instance in an Oracle Restart Configuration with Oracle Universal Installer</h3>
<p><a id="sthref155"></a><a id="sthref156"></a>This section discusses the process to upgrade an Oracle ASM instance to an Oracle Restart 11<span class="italic">g</span> release 2 (11.2) configuration. The recommended practice is to upgrade an Oracle ASM instance with Oracle Universal Installer (OUI). OUI automatically defaults to upgrade mode when it detects an Oracle ASM instance at a previous release level.</p>
<p>This section discusses the following topics:</p>
<ul>
<li>
<p><a href="#CHDCJFHB">Upgrading an Oracle ASM Instance from 11.1 to 11.2 in an Oracle Restart Configuration with Oracle Universal Installer</a></p>
</li>
<li>
<p><a href="#CHDDHDCG">Upgrading an Oracle ASM Instance from 11.2.0.x to 11.2.0.3 in an Oracle Restart Configuration with Oracle Universal Installer</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>For information about performing an Oracle ASM Rolling Upgrade from 11.1.0.6 to 11.2.0.1, refer to Oracle Database Readme.</p>
</li>
<li>
<p>For information about upgrading Oracle ASM from version 11.2.0.1 to 11.2.0.2, see <a href="#CIABCDDH">"Out of Place Upgrades"</a>.</p>
</li>
<li>
<p>In an Oracle Clusterware configuration, the Oracle ASM instance is upgraded as part of the Oracle Clusterware upgrade.</p>
</li>
<li>
<p>If you are making any changes to Oracle software, Oracle recommends that you create a backup of the Oracle software.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about installing and upgrading Oracle Grid Infrastructure</p>
</li>
<li>
<p>Articles at <a href="https://support.oracle.com">My Oracle Support</a> (<code><a href="https://support.oracle.com">https://support.oracle.com</a></code>) for information about upgrading Oracle ASM</p>
</li>
</ul>
</div>
<p>For information about copying and moving an Oracle ASM instance initialization parameter file after upgrading, see <a href="#CHDEGEGB">"Backing Up, Copying, and Moving an Oracle ASM Initialization Parameter File"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The procedures described in this section upgrade the Oracle ASM instance and Oracle Restart (standalone) configuration. To upgrade Oracle Database and Oracle Enterprise Manager, see <a class="olink UPGRD003" href="../../server.112/e23633/upgrade.htm#UPGRD003"><span class="italic">Oracle Database Upgrade Guide</span></a>.</div>
<a id="CHDCJFHB"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Upgrading an Oracle ASM Instance from 11.1 to 11.2 in an Oracle Restart Configuration with Oracle Universal Installer</h4>
<p>The following procedure describes how to upgrade an Oracle ASM instance from 11<span class="italic">g</span> release 1 (11.1) to 11<span class="italic">g</span> release 2 (11.2) in an Oracle Restart (standalone) configuration. In this scenario:</p>
<ul>
<li>
<p>The Oracle ASM and Oracle Database 11<span class="italic">g</span> release 1 (11.1) instances exist in separate homes.</p>
</li>
<li>
<p>The Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2) is to be installed in a separate home and the Oracle ASM instance 11<span class="italic">g</span> release 2 (11.2) is to be set up as an Oracle Restart (single-instance) configuration.</p>
</li>
</ul>
<ol>
<li>
<p>Shut down the Oracle Enterprise Manager agent, Oracle Database instances, Oracle ASM instance, and the listener in the older database and Oracle ASM homes.</p>
<ul>
<li>
<p>Run <code>emctl</code> <code>stop</code> <code>dbconsole</code> to stop the Oracle Enterprise Manager agent.</p>
</li>
<li>
<p>Connect to the database instances with SQL*Plus as a privileged user and run the <code>SHUTDOWN</code> command.</p>
</li>
<li>
<p>Connect to the Oracle ASM instance with SQL*Plus as a privileged user and run the <code>SHUTDOWN</code> command.</p>
</li>
<li>
<p>Run <code>lsnrctl</code> and enter the <code>STOP</code> command to stop the listener.</p>
</li>
</ul>
<p>For information about shutting down an Oracle ASM instance, see <a href="#i1013993">"Shutting Down an Oracle ASM Instance"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>Oracle Enterprise Manager manuals and online help for information about starting and stopping the Oracle Enterprise Manager agent</p>
</li>
<li>
<p><a class="olink ADMIN004" href="../../server.112/e25494/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about starting up and shutting down Oracle instances</p>
</li>
<li>
<p><a class="olink NETAG010" href="../../network.112/e41945/listenercfg.htm#NETAG010"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for information about configuring a listener</p>
</li>
</ul>
</div>
</li>
<li>
<p>Start the Oracle Grid Infrastructure OUI and select the <span class="bold">Upgrade</span> <span class="bold">Oracle Grid Infrastructure</span> option.</p>
</li>
<li>
<p>Complete the screens in the OUI installer and run the scripts as prompted by the OUI installer.</p>
<p>For example, on Linux you must run the <code>root.sh</code> script as the <code>root</code> user.</p>
<pre>
# <span class="italic">GRID_HOME</span>/root.sh
</pre></li>
<li>
<p>Confirm that the listener and Oracle ASM instance are running in the Oracle Grid Infrastructure home and ensure that the Oracle Database instance and Oracle Enterprise Manager agent are running in the old database home.</p>
<ul>
<li>
<p>Confirm that the listener is running.</p>
<p>Otherwise, start the listener with Server Control Utility (SRVCTL).</p>
<p>For example:</p>
<pre>
$ srvctl start listener
</pre></li>
<li>
<p>Confirm that the Oracle ASM instance is running.</p>
<p>For example:</p>
<pre>
$ srvctl status listener
$ srvctl status asm
</pre>
<p>Otherwise, start the Oracle ASM instance with SRVCTL.</p>
<p>For example:</p>
<pre>
$ srvctl start asm
</pre></li>
<li>
<p>Ensure that the database instances are running. Otherwise, connect to the database instances with SQL*Plus as a privileged user and run the <code>STARTUP</code> command.</p>
</li>
<li>
<p>Ensure that the Oracle Enterprise Manager agent is running. Otherwise start the Oracle Enterprise Manager agent with <code>emctl</code> <code>start</code> <code>dbconsole</code>.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDDHDCG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Upgrading an Oracle ASM Instance from 11.2.0.x to 11.2.0.3 in an Oracle Restart Configuration with Oracle Universal Installer</h4>
<p>The following procedure describes how to upgrade an Oracle ASM instance from 11<span class="italic">g</span> release 2 (11.2.0.<span class="italic">x</span>) to 11<span class="italic">g</span> release 2 (11.2.0.3) in an Oracle Restart (standalone) configuration. In this scenario:</p>
<ul>
<li>
<p>The Oracle ASM and Oracle Database 11<span class="italic">g</span> release 2 instances exist in separate homes.</p>
</li>
<li>
<p>The Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2.0.3) is to be installed in a separate home and the Oracle ASM instance 11<span class="italic">g</span> release 2 (11.2.0.3) is to be set up as an Oracle Restart (single-instance) configuration.</p>
</li>
</ul>
<ol>
<li>
<p>Shut down the Oracle Enterprise Manager agent, Oracle Database instances, and the listener in the older database home.</p>
<ul>
<li>
<p>Run <code>emctl</code> <code>stop</code> <code>dbconsole</code> to stop the Oracle Enterprise Manager agent.</p>
</li>
<li>
<p>Connect to the database instances with SQL*Plus as a privileged user and run the <code>SHUTDOWN</code> command.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>Oracle Enterprise Manager manuals and online help for information about starting and stopping the Oracle Enterprise Manager agent</p>
</li>
<li>
<p><a class="olink ADMIN004" href="../../server.112/e25494/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about starting up and shutting down Oracle instances</p>
</li>
</ul>
</div>
</li>
</ul>
</li>
<li>
<p>Start the Oracle Grid Infrastructure OUI and select the <span class="bold">Upgrade Oracle Grid Infrastructure</span> option.</p>
</li>
<li>
<p>Complete the screens in the OUI installer and run the scripts as prompted by the OUI installer.</p>
<p>For example, on Linux you must run the <code>rootupgrade.sh</code> script as the <code>root</code> user:</p>
<pre>
# <span class="italic">GRID_HOME</span>/rootupgrade.sh
</pre></li>
<li>
<p>Confirm that the listener and Oracle ASM instance are running in the Oracle Grid Infrastructure home and ensure that the Oracle Database instance and Oracle Enterprise Manager agent are running in the old database home.</p>
<ul>
<li>
<p>Confirm that the listener is running.</p>
<p>Otherwise, start the listener with Server Control Utility (SRVCTL).</p>
<p>For example:</p>
<pre>
$ srvctl start listener
</pre></li>
<li>
<p>Confirm that the Oracle ASM instance is running.</p>
<p>For example:</p>
<pre>
$ srvctl status listener
$ srvctl status asm
</pre>
<p>Otherwise, start the Oracle ASM instance with SRVCTL.</p>
<p>For example:</p>
<pre>
$ srvctl start asm
</pre></li>
<li>
<p>Ensure that the database instances are running. Otherwise, connect to the database instances with SQL*Plus as a privileged user and run the <code>STARTUP</code> command.</p>
</li>
<li>
<p>Ensure that the Oracle Enterprise Manager agent is running. Otherwise start the Oracle Enterprise Manager agent with <code>emctl</code> <code>start</code> <code>dbconsole</code>.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDHGHAB"></a><a id="OSTMG13660"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Downgrading an Oracle ASM Instance in an Oracle Restart Configuration</h3>
<p><a id="sthref157"></a>This section discusses the process to downgrade an Oracle ASM instance that has been upgraded to an Oracle Restart (standalone) configuration.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>In an Oracle Clusterware configuration, the Oracle ASM instance is downgraded as part of the Oracle Clusterware downgrade.</p>
</li>
<li>
<p>If you are making any changes to Oracle software, Oracle recommends that you create a backup of the Oracle software.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about downgrading Oracle Clusterware</p>
</li>
<li>
<p>Articles at <a href="https://support.oracle.com">My Oracle Support</a> (<code><a href="https://support.oracle.com">https://support.oracle.com</a></code>) for information about downgrading Oracle ASM</p>
</li>
</ul>
</div>
<p>The following procedure describes how to downgrade an Oracle ASM instance from Oracle 11<span class="italic">g</span> release 2 (11.2) to Oracle 11<span class="italic">g</span> release 1 (11.1). In this scenario, the Oracle ASM instance was previously upgraded from an Oracle 11<span class="italic">g</span> release 1 (11.1) home to an Oracle Restart (standalone) 11<span class="italic">g</span> release 2 (11.2) configuration. The Oracle 11<span class="italic">g</span> release 1 (11.1) home was not removed.</p>
<ol>
<li>
<p>Determine disk group compatibility attribute settings.</p>
<p>If compatibility attributes have been advanced, then the disk groups must be re-created using compatibility attributes that allow access by the downgraded Oracle ASM and Oracle Database instances. A new disk group must be created with the old compatibility attributes and then you must restore the database files that were in the disk group.</p>
<p>When you revert to a new disk group with the old compatibility attribute settings, the latest Oracle ASM features might not be available. For example, if you revert the disk group compatibility to a pre-11.2 value, Oracle ACFS functionality is not available.</p>
<p>Copy or move an Oracle ASM SPFILE in a disk group to the file system before reverting disk group compatibility. Check the initialization parameters to ensure they are compatible with Oracle ASM 11<span class="italic">g</span> release 1 (11.1).</p>
<p>For information about reverting disk group compatibility, see <a href="asmdiskgrps.htm#CHDIJHAJ">"Reverting Disk Group Compatibility"</a>. For information about moving data files between disk groups, see <a href="asm_rman.htm#CHDBDJJG">"Moving Data Files Between Oracle ASM Disk Groups Using RMAN"</a>.</p>
</li>
<li>
<p>Downgrade any client databases from 11<span class="italic">g</span> release 2 (11.2) down to 11<span class="italic">g</span> release 1 (11.1).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink UPGRD007" href="../../server.112/e23633/downgrade.htm#UPGRD007"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about downgrading an Oracle Database and Oracle Enterprise Manager</div>
</li>
<li>
<p>Shut down the Oracle Enterprise Manager agent, Oracle Database instance, Oracle ASM instance, and the listener in the database and Oracle ASM homes.</p>
<ul>
<li>
<p>Run <code>emctl</code> <code>stop</code> <code>dbconsole</code> to stop the Oracle Enterprise Manager agent.</p>
</li>
<li>
<p>Connect to the database instances with SQL*Plus as a privileged user and run the <code>SHUTDOWN</code> command.</p>
</li>
<li>
<p>Shut down the Oracle ASM instance with Server Control Utility (SRVCTL).</p>
<pre>
$ srvctl stop asm
</pre></li>
<li>
<p>Stop the listener with SRVCTL.</p>
<pre>
$ srvctl stop listener
</pre></li>
</ul>
<p>For information about shutting down an Oracle ASM instance, see <a href="#i1013993">"Shutting Down an Oracle ASM Instance"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>Oracle Enterprise Manager manuals and online help for information about starting and stopping the Oracle Enterprise Manager agent</p>
</li>
<li>
<p><a class="olink ADMIN004" href="../../server.112/e25494/start.htm#ADMIN004"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about starting up and shutting down Oracle instances</p>
</li>
<li>
<p><a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for information about configuring a listener</p>
</li>
<li>
<p><a class="olink RACAD005" href="../../rac.112/e41960/srvctladmin.htm#RACAD005"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about Server Control Utility (SRVCTL)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Deconfigure the Oracle Restart 11<span class="italic">g</span> release 2 (11.2) configuration.</p>
<p>Run the <code>roothas.pl</code> script as <code>root</code>.</p>
<p>For example, on Linux:</p>
<pre>
# <span class="italic">GRID_HOME</span>/crs/install/roothas.pl -deconfig
</pre>
<p>The Oracle 11<span class="italic">g</span> release 2 (11.2) <code>inittab</code> and <code>init*</code> scripts should be removed with the deconfiguration of Oracle Clusterware.</p>
</li>
<li>
<p>Unload the Oracle ACFS drivers.</p>
<p>For example, on Linux run <code>acfsload</code> <code>stop</code> as <code>root</code>.</p>
<pre>
# <span class="italic">GRID_HOME</span>/bin/acfsload stop
</pre>
<p>For information about Oracle ACFS driver resource management, see <a href="asmfs_extra.htm#CACECCDH">"Oracle ACFS Drivers Resource Management"</a>.</p>
</li>
<li>
<p>Re-create the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) resources.</p>
<p>Run <code>localconfig</code> as <code>root</code> to add the resources to the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home.</p>
<p>For example, on Linux:</p>
<pre>
# <span class="italic">ORACLE_ASM_11.1_HOME</span>/bin/localconfig add
</pre>
<p>If <code>localconfig</code> <code>add</code> fails, then use the <code>reset</code> option followed by the <code>ORACLE_HOME</code> to reset the existing resources.</p>
<p>For example, on Linux:</p>
<pre>
# localconfig reset <span class="italic">ORACLE_ASM_11.1_HOME</span>
</pre></li>
<li>
<p>Confirm that the Oracle ASM PFILE and <code>listerner.ora</code> files are present in the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home.</p>
<p>If the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home has not been removed, then the files should be available.</p>
</li>
<li>
<p>Configure additional configuration files in the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home.</p>
<p>For example, update files in the <code>/etc</code> directory on the Linux computer.</p>
<p>Update the Oracle ASM entry in <code>/etc/oratab</code> to point to the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home, as shown in the following example:</p>
<p><code>+ASM:/</code><code><span class="codeinlineitalic">ORACLE_ASM_11.1_HOME</span></code><code>/product/11.1.0/asm_1:N</code></p>
<p>The 11<span class="italic">g</span> release 2 (11.2) <code>inittab</code> and <code>init*</code> scripts should be removed with the deconfiguration of Oracle Clusterware.</p>
</li>
<li>
<p>Ensure that the listener, Oracle ASM instance, Oracle Database instance, and Oracle Enterprise Manager agent are running in the 11<span class="italic">g</span> release 1 (11.1) Oracle ASM and database homes.</p>
<ul>
<li>
<p>Start the listener with <code>lsnrctl</code> and enter the <code>START</code> option.</p>
<p>If necessary, start Network Configuration Assistant (NETCA) in the Oracle ASM 11<span class="italic">g</span> release 1 (11.1) home with <code>netca</code>. Follow the prompts in the wizard to reconfigure the listener.</p>
</li>
<li>
<p>Connect to the Oracle ASM instance with SQL*Plus as a privileged user and run the <code>STARTUP</code> command.</p>
</li>
<li>
<p>Connect to the database instances with SQL*Plus as a privileged user and run the <code>STARTUP</code> command.</p>
</li>
<li>
<p>Start the Oracle Enterprise Manager agent with <code>emctl</code> <code>start</code> <code>dbconsole</code>.</p>
<p>Oracle Enterprise Manager may require configuration after the Oracle ASM instance has been downgraded.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIABCDDH"></a><a id="OSTMG53000"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Out of Place Upgrades</h3>
<p>With an out-of-place upgrade, the installer installs the newer version of Oracle Grid Infrastructure in a separate Oracle Grid Infrastructure home.</p>
<p>An in-place upgrade of Oracle Grid Infrastructure 11g release 2 is not supported. For example, an upgrade of Oracle Grid Infrastructure 11.2.0.1 to 11.2.0.2 must be an out of place upgrade.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about installing Oracle Grid Infrastructure, out of place upgrades, and performing rolling upgrades of Oracle Grid Infrastructure and Oracle ASM</div>
</div>
<!-- class="sect2" -->
<a id="CHDFCFAJ"></a><a id="OSTMG13670"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Oracle Grid Infrastructure with the Configuration Wizard</h3>
<p>The Oracle Grid Infrastructure configuration wizard can update the configuration of an Oracle Grid Infrastructure environment after the software has been installed. The configuration wizard accepts your input, validates the input, and populates the configuration data into the <code>CRSCONFIG_PARAMS</code> file. If additional scripts must be run, the configuration wizard directs you to run those scripts.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD92094" href="../../rac.112/e41959/admin.htm#CWADD92094"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about the Oracle Grid Infrastructure configuration wizard.</div>
</div>
<!-- class="sect2" -->
<a id="CHDEIHIC"></a><a id="OSTMG94091"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Active Session History Sampling for Oracle ASM</h3>
<p><a id="sthref158"></a><a id="sthref159"></a>Active Session History sampling is now available on Oracle ASM instances. This activity is exposed in the dynamic <code>V$ACTIVE_SESSION_HISTORY</code> view. Active Session History sampling requires a diagnostic pack license for the Oracle ASM instance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink PFGRF027" href="../../server.112/e41573/autostat.htm#PFGRF027"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about gathering performance statistics</p>
</li>
<li>
<p><a class="olink REFRN30299" href="../../server.112/e40402/dynviews_1007.htm#REFRN30299"><span class="italic">Oracle Database Reference</span></a> for a description of the <code>V$ACTIVE_SESSION_HISTORY</code> view</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDIIGIE"></a><a id="OSTMG02400"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using Oracle ASM Rolling Upgrade</h2>
<div class="infobox-note">
<p class="notep1">Note:</p>
For information about performing an Oracle ASM Rolling Upgrade from 11.1.0.6 to 11.2.0.1, refer to Oracle Database Readme</div>
<p><a id="sthref160"></a><a id="sthref161"></a>Oracle ASM rolling upgrade enables you to independently upgrade or patch clustered Oracle ASM nodes without affecting database availability, thus providing greater uptime. Rolling upgrade means that some features of a clustered Oracle ASM environment continue to function when one or more of the nodes in the cluster uses different software versions. Oracle recommends that you perform an Oracle ASM rolling upgrade when performing an Oracle Clusterware rolling upgrade. Note that Oracle ASM is upgraded with Oracle Clusterware for Oracle 11g Release 2 (11.2) or later as both are in the Oracle Grid Infrastructure 11g Release 2 (11.2) home.</p>
<p>To perform a rolling upgrade from Oracle 11g Release 1 (11.1) to Oracle 11g Release 2 (11.2), your environment must be prepared. Oracle Clusterware must be fully upgraded to the next patch or release version before you start the Oracle ASM rolling upgrade. In addition, you should prepare your Oracle Clusterware in a rolling upgrade manner to ensure high availability and maximum uptime. Note that the rolling upgrade to Oracle 11g Release 2 (11.2) moves the Oracle ASM instance to Oracle Grid Infrastructure 11g Release 2 (11.2) home.</p>
<p>You can upgrade a single Oracle ASM instance with Oracle Universal Installer (OUI). For information, see <a href="#CHDGFHDC">"Upgrading an Oracle ASM Instance in an Oracle Restart Configuration with Oracle Universal Installer"</a>.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>Rolling upgrades only apply to clustered Oracle ASM instances, and you can only perform rolling upgrades on environments with Oracle Database 11<span class="italic">g</span> or later. In other words, you cannot use this feature to upgrade from Oracle Database 10<span class="italic">g</span> to Oracle Database 11<span class="italic">g</span>.</p>
</li>
<li>
<p>See <span class="italic">Oracle Exadata documentation</span> for information about performing a rolling upgrading of an Oracle ASM instance when Oracle Exadata storage is present.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about performing a rolling upgrade of Oracle ASM</p>
</li>
<li>
<p><a class="olink UPGRD003" href="../../server.112/e23633/upgrade.htm#UPGRD003"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrading Oracle Database</p>
</li>
<li>
<p><a class="olink SQLRF00902" href="../../server.112/e41084/statements_2014.htm#SQLRF00902"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the rolling migration clause of the <code>ALTER</code> <code>SYSTEM</code> commands</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDEBDEH"></a><a id="OSTMG94092"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Patching Oracle ASM Instances in Oracle RAC Environments</h2>
<p>For Oracle RAC environments, ensure that your Oracle Clusterware version is at least equal to the version of the patch that you are applying to the Oracle Database. First apply the patch to the Oracle Grid Infrastructure home and then apply the patch to the Oracle Database home.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must apply the patch to the Oracle Grid Infrastructure home before you apply it to the Oracle Database home.</div>
</div>
<!-- class="sect1" -->
<a id="CHDEJBAI"></a><a id="OSTMG02600"></a>
<div class="sect1">
<h2 class="sect1">Authentication for Accessing Oracle ASM Instances</h2>
<p><a id="sthref162"></a><a id="sthref163"></a>An Oracle ASM instance does not have a data dictionary, so the only way to connect to an Oracle ASM instance is by using one of three system privileges, <code>SYSASM</code>, <code>SYSDBA</code>, or <code>SYSOPER</code>. There are three modes of connecting to Oracle ASM instances:</p>
<ul>
<li>
<p>Local connection using operating system authentication</p>
</li>
<li>
<p>Local connection using password authentication</p>
</li>
<li>
<p>Remote connection by way of Oracle Net Services using password authentication</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system-specific <a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about how to ensure that the Oracle ASM and database instances have member disk access</div>
<p>This section describes the following topics:</p>
<ul>
<li>
<p><a href="#CHDEDIID">About Privileges for Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDJEIAF">Creating Users with the SYSASM Privilege</a></p>
</li>
<li>
<p><a href="#BHCICFAG">Operating System Authentication for Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDEGDID">Password File Authentication for Oracle ASM</a></p>
</li>
</ul>
<p>The Oracle ASM and database instances must have read/write operating system access rights to disk groups. For example, the Oracle ASM instance and the database instance must have identical read and write permissions for the disks that comprise the related Oracle ASM disk group. For Linux and UNIX systems, this is typically provided through shared Linux and UNIX group membership (<a id="sthref164"></a><a id="sthref165"></a>OSASM group). On Windows systems, the Oracle ASM service must be run as Administrator. For information about file permissions and Oracle ASM File Access Control, see <a href="asmdiskgrps.htm#CHDICHHE">"Managing Oracle ASM File Access Control for Disk Groups"</a>.</p>
<a id="CHDEDIID"></a><a id="OSTMG94093"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About Privileges for Oracle ASM</h3>
<p><a id="sthref166"></a><a id="sthref167"></a>During Oracle ASM installation, you can use one operating system group for all users or divide system privileges so that database administrators, storage administrators, and database operators each have distinct operating system privilege groups.</p>
<p>Whether you create separate operating system privilege groups or use one group to provide operating system authentication for all system privileges, you should use SYSASM to administer an Oracle ASM instance. The SYSDBA privilege cannot be used to administer an Oracle ASM instance. If you use the SYSDBA privilege to run administrative commands on an Oracle ASM instance, the operation results in an error. The SYSDBA privilege is intended to be used by the database to access disk groups.</p>
<p>Oracle also recommends the use of a less privileged user, such as <a id="sthref168"></a>ASMSNMP with SYSDBA privileges that is created during installation, for monitoring the Oracle ASM instance.</p>
<p>Operating system authentication using membership in the group or groups designated as OSDBA, OSOPER, and OSASM is valid on all Oracle platforms. Connecting to an Oracle ASM instance as SYSASM grants you full access to all of the available Oracle ASM disk groups and management functions.</p>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#CHDJIFDI">Using One Operating System Group for Oracle ASM Users</a></p>
</li>
<li>
<p><a href="#CHDGHHIJ">Using Separate Operating System Groups for Oracle ASM Users</a></p>
</li>
<li>
<p><a href="#CHDJGADB">The SYSASM Privilege for Administering Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDFJFEB">The SYSDBA Privilege for Managing Oracle ASM Components</a></p>
</li>
</ul>
<p>For information about privileges and Oracle ACFS, see <a href="asmfilesystem.htm#CACFIFDH">"Oracle ACFS and File Access and Administration Security"</a>.</p>
<a id="CHDJIFDI"></a><a id="OSTMG94094"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using One Operating System Group for Oracle ASM Users</h4>
<p><a id="sthref169"></a><a id="sthref170"></a>If you do not want to divide the privileges for system access into separate operating system groups, then you can designate one operating system group as the group whose members are granted access as OSDBA, OSOPER, and OSASM for Oracle ASM privileges. The default operating system group name for all of these is usually <code>dba</code> and that group is typically chosen for the default configuration.</p>
<p><a href="#CHDBGAHG">Table 3-1</a> shows an example of a Linux deployment without separated privileges for Oracle ASM users.</p>
<div class="tblformal">
<p class="titleintable"><a id="OSTMG94095"></a><a id="sthref171"></a><a id="CHDBGAHG"></a>Table 3-1 One operating system group and one set of privileges for all Oracle ASM users</p>
<table class="cellalignment1548" title="One operating system group and one set of privileges for all Oracle ASM users" summary="Default groups for deployment" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t49">Role/Software Owner</th>
<th class="cellalignment1547" id="r1c2-t49">User</th>
<th class="cellalignment1547" id="r1c3-t49">Group/Privilege</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t49" headers="r1c1-t49">
<p>Oracle ASM administrator/Oracle Grid Infrastructure home</p>
</td>
<td class="cellalignment1543" headers="r2c1-t49 r1c2-t49">
<p>oracle</p>
</td>
<td class="cellalignment1543" headers="r2c1-t49 r1c3-t49">
<p>dba/SYSASM, SYSDBA, SYSOPER</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t49" headers="r1c1-t49">
<p>Database administrator 1/Database home 1</p>
</td>
<td class="cellalignment1543" headers="r3c1-t49 r1c2-t49">
<p>oracle</p>
</td>
<td class="cellalignment1543" headers="r3c1-t49 r1c3-t49">
<p>dba/SYSASM, SYSDBA, SYSOPER</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t49" headers="r1c1-t49">
<p>Database administrator 2/Database home 2</p>
</td>
<td class="cellalignment1543" headers="r4c1-t49 r1c2-t49">
<p>oracle</p>
</td>
<td class="cellalignment1543" headers="r4c1-t49 r1c3-t49">
<p>dba/SYSASM, SYSDBA, SYSOPER</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t49" headers="r1c1-t49">
<p>Operating system disk device owner</p>
</td>
<td class="cellalignment1543" headers="r5c1-t49 r1c2-t49">
<p>oracle</p>
</td>
<td class="cellalignment1543" headers="r5c1-t49 r1c3-t49">
<p>dba</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="CHDGHHIJ"></a><a id="OSTMG94096"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Using Separate Operating System Groups for Oracle ASM Users</h4>
<p><a id="sthref172"></a><a id="sthref173"></a>You can designate separate operating system groups as the operating system authentication groups for privileges on Oracle ASM. The following list describes the separate operating system authentication groups for Oracle ASM and the privileges that their members are granted.</p>
<ul>
<li>
<p>OSASM group</p>
<p><a id="sthref174"></a><a id="sthref175"></a>This group is granted the SYSASM privilege, which provides full administrative privileges for the Oracle ASM instance. For example, the group could be <code>asmadmin</code>.</p>
</li>
<li>
<p>OSDBA for Oracle ASM group</p>
<p><a id="sthref176"></a><a id="sthref177"></a><a id="sthref178"></a><a id="sthref179"></a>This group is granted the SYSDBA privilege on the Oracle ASM instance, which grants access to data stored on Oracle ASM. This group has a subset of the privileges of the OSASM group.</p>
<p>When you implement separate administrator privileges, choose an OSDBA group for the Oracle ASM instance that is different than the group that you select for the database instance, such as <code>dba</code>. For example, the group could be <code>asmdba</code>.</p>
</li>
<li>
<p>OSOPER for Oracle ASM group</p>
<p><a id="sthref180"></a><a id="sthref181"></a>This group is granted the SYSOPER privilege on the Oracle ASM instance, which provides operations such as startup, shutdown, mount, dismount, and check disk group. This group has a subset of the privileges of the OSASM group. For example, the group could be <code>asmoper</code>.</p>
</li>
</ul>
<p>When you implement separate Oracle ASM and database administrator duties, this configuration requires different group and different software owners. Implicitly this implementation requires that the OSASM and OSDBA are different groups. For this configuration, you must create an OSDBA for Oracle ASM group and a database instance must be a member of that group to access the Oracle ASM instance.</p>
<p>In an installation that has been configured as Oracle Grid Infrastructure, the Oracle ASM user, such as <code>grid</code>, does not have to be a member of the Oracle Database OSDBA group, such as <code>dba1</code> or <code>dba2</code>, because the Oracle Clusterware database agent runs as the database owner and can use SYSDBA to connect to the database.</p>
<p>However, in an Oracle Restart configuration, the Oracle ASM user (<code>grid</code>) must be a member of the OSDBA group (<code>dba1</code>, <code>dba2</code>, ...) of every database. This requirement is necessary because Oracle Restart software runs as the Oracle ASM user (<code>grid</code>) and this user must be able to start and stop the databases using the <code>CONNECT</code> <code>/</code> <code>AS</code> <code>SYSDBA</code> authentication.</p>
<p>Additionally, the owner of the operating system disk devices should be the same as the owner of the Oracle ASM software.</p>
<p><a href="#CHDBGJEE">Table 3-2</a> shows an example of a Linux deployment using separate operating system privilege groups for Oracle ASM users.</p>
<div class="tblhruleformalwide">
<p class="titleintable"><a id="OSTMG94097"></a><a id="sthref182"></a><a id="CHDBGJEE"></a>Table 3-2 Separated operating system groups and privileges for Oracle ASM users</p>
<table class="cellalignment1546" title="Separated operating system groups and privileges for Oracle ASM users" summary="Deployments by user" dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t50">Role/Software Owner</th>
<th class="cellalignment1547" id="r1c2-t50">User</th>
<th class="cellalignment1547" id="r1c3-t50">Group/Privilege</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t50" headers="r1c1-t50">
<p>Oracle ASM administrator/Oracle Grid Infrastructure home</p>
</td>
<td class="cellalignment1543" headers="r2c1-t50 r1c2-t50">
<p>grid</p>
</td>
<td class="cellalignment1543" headers="r2c1-t50 r1c3-t50">
<p>asmadmin (OSASM)/SYSASM</p>
<p>asmdba (OSDBA for ASM)/SYSDBA</p>
<p>asmoper (OSOPER for ASM)/SYSOPER</p>
<p>dba1, dba2, ... (OSDBA for the databases when in an Oracle Restart configuration)</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t50" headers="r1c1-t50">
<p>Database administrator 1/Database home 1</p>
</td>
<td class="cellalignment1543" headers="r3c1-t50 r1c2-t50">
<p>oracle1</p>
</td>
<td class="cellalignment1543" headers="r3c1-t50 r1c3-t50">
<p>asmdba (OSDBA for ASM)/SYSDBA</p>
<p>oper1 (OSOPER for database 1)/SYSOPER</p>
<p>dba1 (OSDBA for database 1)/SYSDBA</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t50" headers="r1c1-t50">
<p>Database administrator 2/Database home 2</p>
</td>
<td class="cellalignment1543" headers="r4c1-t50 r1c2-t50">
<p>oracle2</p>
</td>
<td class="cellalignment1543" headers="r4c1-t50 r1c3-t50">
<p>asmdba (OSDBA for ASM)/SYSDBA</p>
<p>oper2 (OSOPER for database 2)/SYSOPER</p>
<p>dba2 (OSDBA for database 2)/SYSDBA</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t50" headers="r1c1-t50">
<p>Operating system disk device owner</p>
</td>
<td class="cellalignment1543" headers="r5c1-t50 r1c2-t50">
<p>grid</p>
</td>
<td class="cellalignment1543" headers="r5c1-t50 r1c3-t50">
<p>asmadmin (OSASM)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="sect3" -->
<a id="CHDJGADB"></a><a id="OSTMG94098"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">The SYSASM Privilege for Administering Oracle ASM</h4>
<p><a id="sthref183"></a><a id="sthref184"></a>SYSASM is a system privilege that enables the separation of the SYSDBA database administration privilege from the Oracle ASM storage administration privilege. Access to the SYSASM privilege is granted by membership in an operating system group that is designated as the OSASM group. This is similar to SYSDBA and SYSOPER privileges, which are system privileges granted through membership in the groups designated as the OSDBA and OSOPER operating system groups. You can designate one group for all of these system privileges, or you can designate separate groups for each operating system privilege.</p>
<p>You can also grant the SYSASM privilege with password file authentication, as discussed in <a href="#CHDEGDID">"Password File Authentication for Oracle ASM"</a>.</p>
<p>To connect locally as SYSASM using password authentication with SQL*Plus, use the following statement:</p>
<pre>
sqlplus SYS AS SYSASM
...
Enter password:
</pre>
<p>To connect remotely as SYSASM using password authentication with SQL*Plus, use the following statement:</p>
<pre>
sqlplus sys@\"myhost.mydomain.com:1521/+ASM\" AS SYSASM
...
Enter password:
</pre>
<p>In the previous example, <code>+ASM</code> is the service name of the Oracle ASM instance.</p>
<p>To connect locally as SYSASM to an Oracle ASM instance using operating system authentication with SQL*Plus, use the following statement:</p>
<pre>
sqlplus / AS SYSASM
</pre></div>
<!-- class="sect3" -->
<a id="CHDFJFEB"></a><a id="OSTMG94099"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">The SYSDBA Privilege for Managing Oracle ASM Components</h4>
<p><a id="sthref185"></a><a id="sthref186"></a>You can connect as SYSDBA to use SQL*Plus or ASMCMD commands to manage Oracle ASM components associated with the database. When running SQL or ASMCMD operations with the SYSDBA privilege, connect to the database instance rather than the Oracle ASM instance.</p>
<p>Connecting as SYSDBA to the database instance has a limited set of Oracle ASM privileges. For example, you cannot create a disk group when connected with the SYSDBA privilege.</p>
<p>When connected as SYSDBA to the database instance, the Oracle ASM operations are limited to:</p>
<ul>
<li>
<p>Create and delete files, aliases, directories, and templates</p>
</li>
<li>
<p>Examine various Oracle ASM instance views</p>
</li>
<li>
<p>Operate on files that were created by this user or only access files to which another user had explicitly granted access</p>
</li>
<li>
<p>Granting Oracle ASM File Access Control to other users</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDJEIAF"></a><a id="OSTMG94100"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating Users with the SYSASM Privilege</h3>
<p>When you are logged in to an Oracle ASM instance as SYSASM, you can use the combination of <a id="sthref187"></a><a id="sthref188"></a><a id="sthref189"></a><a id="sthref190"></a><code>CREATE</code> <code>USER</code> and <code>GRANT</code> SQL statements to create a user who has the SYSASM privilege. You also can revoke the SYSASM privilege from a user using the <code>REVOKE</code> command, and you can drop a user from the password file using the <code>DROP</code> <code>USER</code> command.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
These commands update the password file for the local Oracle ASM instance only.</div>
<p>The following example describes how to perform these SQL operations for the user identified as <code><span class="codeinlineitalic">new_user</span></code>:</p>
<pre>
REM create a new user, then grant the SYSASM privilege
SQL&gt; CREATE USER new_user IDENTIFIED by new_user_passwd;
SQL&gt; GRANT SYSASM TO new_user;

REM connect the user to the ASM instance
SQL&gt; CONNECT new_user AS SYSASM;
Enter password:

REM revoke the SYSASM privilege, then drop the user
SQL&gt; REVOKE SYSASM FROM new_user;
SQL&gt; DROP USER new_user;
</pre>
<p>When you revoke the last privilege of a user in an Oracle ASM password file, the user is not automatically deleted as is done in the Oracle Database password file. You need to run <code>DROP</code> <code>USER</code> to delete a user with no privileges in an Oracle ASM password file.</p>
<p>For information about creating a user with Oracle ASM command-line utility (ASMCMD), see <a href="asm_util002.htm#CIHFJDDA">"orapwusr"</a>. For information about creating a user with Oracle Enterprise Manager, see <a href="asm_em.htm#CBBBBHFB">"Managing Oracle ASM Users with Oracle Enterprise Manager"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="BHCICFAG"></a><a id="OSTMG94101"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Operating System Authentication for Oracle ASM<a id="sthref191"></a><a id="sthref192"></a></h3>
<p><a id="sthref193"></a><a id="sthref194"></a><a id="sthref195"></a>Membership in the operating system group designated as the OSASM group provides operating system authentication for the SYSASM system privilege. OSASM is provided exclusively for Oracle ASM. Initially, only the user that installs ASM is a member of the <a id="sthref196"></a><a id="sthref197"></a>OSASM group, if you use a separate operating system group for that privilege. However, you can add other users. Members of the OSASM group are authorized to connect using the SYSASM privilege and have full access to Oracle ASM, including administrative access to all disk groups that are managed by that Oracle ASM instance.</p>
<p>On Linux and UNIX systems, <code>dba</code> is the default operating system group designated as OSASM, OSOPER, and OSDBA for Oracle ASM. On Windows systems, <code>ora_dba</code> is the default name designated as OSASM, OSOPER, and OSDBA.</p>
<p>SQL*Plus commands, ASMCMD commands, and ASMCA use operating system authentication.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN001" href="../../server.112/e25494/dba.htm#ADMIN001"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about using operating system authentication</p>
</li>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about installation of the Oracle Grid Infrastructure</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDEGDID"></a><a id="OSTMG94102"></a>
<div class="sect2">
<h3 class="sect2">Password File Authentication for Oracle ASM<a id="sthref198"></a><a id="sthref199"></a><a id="sthref200"></a><a id="sthref201"></a><a id="sthref202"></a><a id="sthref203"></a></h3>
<p><a id="sthref204"></a><a id="sthref205"></a>Password file authentication for Oracle ASM can work both locally and remotely. To enable password file authentication, you must create a password file for Oracle ASM. A password file is also required to enable Oracle Enterprise Manager to connect to Oracle ASM remotely.</p>
<p>If you select the Oracle ASM storage option, then ASMCA creates a password file for Oracle ASM with initial users (SYS and ASMSNMP) when ASMCA configures the Oracle ASM disk groups. To add other users to the password file, you can use the CREATE USER and GRANT commands as described previously in the section titled <a href="#CHDEDIID">"About Privileges for Oracle ASM"</a>.</p>
<p>If you configure an Oracle ASM instance without using ASMCA, then you must manually create a password file and grant the SYSASM privilege to user SYS.</p>
<p>SQL*Plus commands and Oracle Enterprise Manager use password file authentication.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN10241" href="../../server.112/e25494/dba.htm#ADMIN10241"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about creating and maintaining a password file</p>
</li>
<li>
<p><a class="olink SQLRF" href="../e41084/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <a class="olink SQLRF01503" href="../../server.112/e41084/statements_8003.htm#SQLRF01503"><code>CREATE</code> <code>USER</code></a> and <a class="olink SQLRF01603" href="../../server.112/e41084/statements_9013.htm#SQLRF01603"><code>GRANT</code></a> commands</p>
</li>
<li>
<p><a class="olink DBSEG001" href="../../network.112/e36292/intro.htm#DBSEG001"><span class="italic">Oracle Database Security Guide</span></a> for information about database security</p>
</li>
<li>
<p><a class="olink REFRN30189" href="../../server.112/e40402/dynviews_2111.htm#REFRN30189"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$PWFILE_USERS</code> view which lists users who have been granted <code>SYSASM</code>, <code>SYSDBA</code>, and <code>SYSOPER</code> privileges as derived from the password file.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJJJDF"></a><a id="OSTMG140"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Migrating a Database to Use Oracle ASM</h2>
<p><a id="sthref206"></a><a id="sthref207"></a>With a new installation of Oracle Database and Oracle ASM, you can initially create your database and select the Oracle ASM storage option. If you have an existing Oracle database that stores database files in the operating system file system or on raw devices, then you can migrate some or all of your data files to Oracle ASM storage.</p>
<p>Oracle provides several methods for migrating your database to Oracle ASM. Using Oracle ASM enables you to realize the benefits of automation and simplicity in managing your database storage. To migrate to Oracle ASM, you can use the methods described in the following sections:</p>
<ul>
<li>
<p><a href="#CHDJAGAD">Using Oracle Enterprise Manager to Migrate Databases to Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDEFBAI">Using Oracle Recovery Manager to Migrate Databases to Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDCIIAE">Best Practices White Papers on Migrating to Oracle ASM</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must upgrade to at least Oracle Database 10<span class="italic">g</span> before migrating your database to Oracle ASM.</div>
<a id="CHDJAGAD"></a><a id="OSTMG94103"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using Oracle Enterprise Manager to Migrate Databases to Oracle ASM</h3>
<p>Oracle Enterprise Manager enables you to perform cold and hot database migration with a GUI. You can access the migration wizard from the Oracle Enterprise Manager Home page under the Change Database heading.</p>
<p>For more information about using Oracle Enterprise Manager to upgrade to Oracle ASM, see <a href="asm_em.htm#CACHBFDE">Chapter 9, "Administering Oracle ASM with Oracle Enterprise Manager"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEFBAI"></a><a id="OSTMG94104"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Using Oracle Recovery Manager to Migrate Databases to Oracle ASM</h3>
<p>You can use Oracle Recovery Manager (RMAN) to manually migrate to Oracle ASM. You can also use RMAN to migrate a single tablespace or data file to Oracle ASM.</p>
<p>For more information, see <a href="asm_rman.htm#BABJAFIF">Chapter 8, "Performing Oracle ASM Data Migration with RMAN"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCIIAE"></a><a id="OSTMG94105"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Best Practices White Papers on Migrating to Oracle ASM</h3>
<p>The Oracle Maximum Availability Architecture (MAA) Web site provides excellent best practices technical white papers based on different scenarios, such as:</p>
<ul>
<li>
<p>Minimal Downtime Migration to Oracle ASM</p>
</li>
<li>
<p>Platform Migration using Transportable Tablespaces</p>
</li>
<li>
<p>Platform Migration using Transportable Database</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For information about Oracle ASM best practices for migrating to Oracle ASM from environments that do not use Oracle ASM, refer to the documentation at the MAA link on Oracle Technology Network:
<p><code><a href="http://www.oracle.com/technetwork/database/features/availability/maa-096107.html">http://www.oracle.com/technetwork/database/features/availability/maa-096107.html</a></code></p>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmprepare.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmdiskgrps.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
