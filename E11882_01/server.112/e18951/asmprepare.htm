<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Considerations for Oracle ASM Storage</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:15Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmcon.htm" title="Previous" type="text/html" />
<link rel="Next" href="asminst.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/40</span> <!-- End Header --><a id="BABJBGEE"></a><a id="OSTMG11000"></a>
<h1 class="chapter"><span class="secnum">2</span> Considerations for Oracle ASM Storage</h1>
<p><a id="sthref62"></a><a id="sthref63"></a>This chapter discusses some points to consider about the storage subsystem before you configure Oracle Automatic Storage Management (Oracle ASM). When preparing your storage to use Oracle ASM, first determine the storage option for your system and then prepare the disk storage for your specific operating system environment.</p>
<p>When configuring your system's storage, you must consider the initial capacity of the system and your plans for future growth. Oracle ASM simplifies the task of accommodating growth. However, your growth plans can affect choices, such as the size of the Oracle ASM disks. You must also consider that I/O performance depends on the interconnect between the storage and host, not just the storage disks. As you scale up the number of nodes in a cluster, you must also scale up the storage subsystem.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BHCDCFIH">Storage Resources for Disk Groups</a></p>
</li>
<li>
<p><a href="#BHCJBJFD">Oracle ASM and Multipathing</a></p>
</li>
<li>
<p><a href="#BABJHHEC">Recommendations for Storage Preparation</a></p>
</li>
</ul>
<a id="BHCDCFIH"></a><a id="OSTMG02150"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Storage Resources for Disk Groups</h2>
<p><a id="sthref64"></a><a id="sthref65"></a>You can create an Oracle ASM disk group using one of the following storage resources:</p>
<ul>
<li>
<p>Disk Partition</p>
<p><a id="sthref66"></a><a id="sthref67"></a><a id="sthref68"></a>A disk <a href="ostmg_gloss.htm#BABBFGFJ"><span class="xrefglossterm">partition</span></a> can be the entire disk drive or a section of a disk drive. However, the Oracle ASM disk cannot be in a partition that includes the partition table because the partition table would be overwritten.</p>
</li>
<li>
<p><a href="ostmg_gloss.htm#CIHGFDAG"><span class="xrefglossterm">Logical Unit Number (LUN)</span></a></p>
<p><a id="sthref69"></a><a id="sthref70"></a><a id="sthref71"></a>A LUN is a disk presented to a computer system by a storage array. Oracle recommends that you use hardware RAID functionality to create LUNs. Storage hardware RAID 0+1 or RAID5, and other RAID configurations, can be provided to Oracle ASM as Oracle ASM disks.</p>
</li>
<li>
<p>Logical Volume</p>
<p><a id="sthref72"></a><a id="sthref73"></a><a id="sthref74"></a>A logical <a href="ostmg_gloss.htm#BABFGGAE"><span class="xrefglossterm">volume</span></a> is supported in less complicated configurations where a logical volume is mapped to a LUN, or a logical volume uses disks or raw partitions. Logical volume configurations are not recommended by Oracle because they create a duplication of functionality. Oracle also does not recommended using logical <a href="ostmg_gloss.htm#BABEJCAG"><span class="xrefglossterm">volume manager</span></a>s for mirroring because Oracle ASM provides mirroring.</p>
</li>
<li>
<p><a href="ostmg_gloss.htm#BABEAIHA"><span class="xrefglossterm">Network File System (NFS)</span></a></p>
<p><a id="sthref75"></a><a id="sthref76"></a><a id="sthref77"></a>An Oracle ASM disk group can be created from NFS files, including Oracle Direct NFS (dNFS), as well as whole disks, partitions, and LUNs. The NFS files that are provisioned to a disk group may be from multiple NFS servers to provide better load balancing and flexible capacity planning.</p>
<p>Direct NFS can be used to store data files, but is not supported for Oracle Clusterware files. To install Oracle Real Application Clusters (Oracle RAC) on Windows using Direct NFS, you must also have access to a shared storage method other than NFS for Oracle Clusterware files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system for information about Oracle Direct NFS</div>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes and Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file systems are currently<a id="sthref78"></a><a id="sthref79"></a> not supported on disk groups that have been created from NFS or Common Internet File System (CIFS) files. However, Oracle ACFS file systems may be exported as NFS or CIFS file systems to network clients.</p>
</li>
<li>
<p>Mounting loopback file systems over Oracle ACFS files is not supported.</p>
</li>
<li>
<p>Block or raw devices are not supported by Oracle Universal Installer (OUI) or Database Configuration Assistant (DBCA). However, manually configured raw or block devices are supported by Oracle, but not recommended.</p>
</li>
</ul>
</div>
<p><a id="sthref80"></a><a id="sthref81"></a>The procedures for preparing storage resources for Oracle ASM are:</p>
<ol>
<li>
<p>Identify or create the storage devices for Oracle ASM by identifying all of the storage resource device names that you can use to create an Oracle ASM disk group. For example, on Linux systems without ASMLib, device names are typically presented from the <code>/dev</code> directory with the <code>/dev/</code><code><span class="codeinlineitalic">device_name_identifier</span></code> name syntax.</p>
</li>
<li>
<p>Change the ownership and the permissions on storage device resources.</p>
<p>For example, the following steps are required on Linux systems:</p>
<ul>
<li>
<p>Change the user and group ownership of devices, such as <code>grid:asmadmin</code></p>
<p>For information about Oracle ASM privileges, see <a href="asminst.htm#CHDEDIID">"About Privileges for Oracle ASM"</a>.</p>
</li>
<li>
<p>Change the device permissions to read/write</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
To ensure that ownership and permission settings are persistent, use ASMLib or <code>udev</code> to ensure that the disks do not revert to root ownership when the systems reboot.</div>
</li>
</ol>
<p>After you have configured Oracle ASM, ensure that disk discovery has been configured correctly by setting the <code>ASM_DISKSTRING</code> initialization parameter. For information about the <code>ASM_DISKSTRING</code> parameter, see <a href="asminst.htm#BHCEHJGA">"ASM_DISKSTRING"</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Setting the ownership to <code>oracle:dba</code> is one example that corresponds to the default settings. A nondefault installation may require different settings. In general, the owner of the disk devices should be the same as the owner of the Oracle binary software. The group ownership should be OSDBA of the Oracle ASM instance, which is defined at installation. For information about Oracle ASM privileges, see <a href="asminst.htm#CHDEDIID">"About Privileges for Oracle ASM"</a>.</div>
<p>For detailed information about preparing disks for an Oracle ASM installation, refer to your platform-specific installation guide for Oracle Database, Oracle Clusterware, and Oracle Real Application Clusters (Oracle RAC).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Oracle Exadata documentation for information about preparing Oracle Exadata storage</div>
</div>
<!-- class="sect1" -->
<a id="BHCJBJFD"></a><a id="OSTMG02500"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Oracle ASM and Multipathing</h2>
<p><a id="sthref82"></a><a id="sthref83"></a>Multipathing solutions provide failover by using redundant physical path components. These components include adapters, cables, and switches that reside between the server and the storage subsystem. If one or more of these components fails, then applications can still access their data, eliminating a single point of failure with the <a href="ostmg_gloss.htm#BABIHCHC"><span class="xrefglossterm">Storage Area Network (SAN)</span></a>, Host Bus Adapter, interface cable, or host port on a multiported storage array.</p>
<p>Multipathing is a software technology implemented at the operating system device driver level. Multipathing creates a pseudo device to facilitate the sharing and balancing of I/O operations across all of the available I/O paths. Multipathing also improves system performance by distributing the I/O load across all available paths, providing a higher level of data availability through automatic failover and failback.</p>
<p>Although Oracle ASM is not designed with multipathing functionality, Oracle ASM does operate with multipathing technologies. Multipathing technologies are available from many sources. Storage vendors offer multipathing products to support their specific storage products, while software vendors usually develop multipathing products to support several server platforms and storage products.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your storage or software vendor multipathing documentation for more information about multipathing options for specific platforms and storage products</div>
<p>With Oracle ASM, you can ensure the discovery of a multipath disk by setting the value of the <code>ASM_DISKSTRING</code> initialization parameter to a pattern that matches the pseudo devices that represents the multipath disk. When I/O is sent to the pseudo device, the multipath driver intercepts it and provides load balancing to the underlying subpaths.</p>
<p>If Oracle ASM discovers multiple paths to the same disk device, Oracle ASM then raises an error. Because a single disk can appear multiple times in a multipath configuration, you must configure Oracle ASM to discover only the multipath disk.</p>
<p>When using <a href="ostmg_gloss.htm#CIHDFBCG"><span class="xrefglossterm">ASMLib</span></a> with Oracle ASM on Linux, you can ensure the discovery of the multipath disk by configuring Oracle ASM to scan the multipath disk first or to exclude the single path disks when scanning.</p>
<p>For information about disk discovery, see <a href="asmdiskgrps.htm#CHDHDDBE">"Oracle ASM Disk Discovery"</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>Articles at <a href="https://support.oracle.com">My Oracle Support</a> (<code><a href="https://support.oracle.com">https://support.oracle.com</a></code>) for information about Oracle ASM and Multipathing</p>
</li>
<li>
<p>Your platform-specific installation guide for information about configuring multipathing for your system</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABJHHEC"></a><a id="OSTMG02550"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Recommendations for Storage Preparation</h2>
<p><a id="sthref84"></a><a id="sthref85"></a>The following are guidelines for preparing storage for use with Oracle ASM:</p>
<ul>
<li>
<p>Configure two disk groups, one for data and the other for the fast recovery area.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV8183" href="../../backup.112/e10642/rcmconfb.htm#BRADV8183"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about configuring the fast recovery area</p>
</li>
<li>
<p><a class="olink ADMIN11103" href="../../server.112/e25494/create.htm#ADMIN11103"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about specifying a fast recovery area</p>
</li>
</ul>
</div>
</li>
<li>
<p>A minimum of four LUNs (Oracle ASM disks) of equal size and performance is recommended for each disk group.</p>
</li>
<li>
<p>Ensure that all Oracle ASM disks in a disk group have similar storage performance and availability characteristics. In storage configurations with mixed speed drives, such as 10K and 15K RPM, I/O performance is constrained by the slowest speed drive.</p>
</li>
<li>
<p>Oracle ASM data distribution policy is capacity-based. Ensure that Oracle ASM disks in a disk group have the same capacity to maintain balance.</p>
</li>
<li>
<p>Create external redundancy disk groups when using high-end storage arrays. High-end storage arrays generally provide hardware RAID protection. Use Oracle ASM mirroring redundancy when not using hardware RAID, or when you need host-based volume management functionality, such as mirroring across storage systems. You can use Oracle ASM mirroring in configurations when mirroring between geographically-separated sites (extended clusters).</p>
</li>
<li>
<p>Minimize I/O contention between Oracle ASM disks and other applications by dedicating disks in Oracle ASM disk groups.</p>
</li>
<li>
<p>Choose a hardware RAID stripe size that is a power of 2 and less than or equal to the size of the Oracle ASM allocation unit.</p>
</li>
<li>
<p>For Linux, use the Oracle ASMLib feature to provide consistent device naming and permission persistency.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>The Oracle Cloud Storage page on the Oracle Technology Network Web site at <code><a href="http://www.oracle.com/technetwork/database/cloud-storage/index.html">http://www.oracle.com/technetwork/database/cloud-storage/index.html</a></code> for more information about Oracle ASM</p>
</li>
<li>
<p>The Oracle ASMLib page on the Oracle Technology Network Web site at <code><a href="http://www.oracle.com/technetwork/topics/linux/asmlib/index-101839.html">http://www.oracle.com/technetwork/topics/linux/asmlib/index-101839.html</a></code> for information about ASMLib</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmcon.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asminst.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
