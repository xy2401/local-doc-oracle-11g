<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Using Views to Display Information</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 047" />
<meta name="dcterms.created" content="2012-02-03T20:20:16Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide" />
<meta name="dcterms.identifier" content="E18951-03" />
<meta name="dcterms.isVersionOf" content="OSTMG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="ostmg_gloss.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="asmfilesystem.htm" title="Previous" type="text/html" />
<link rel="Next" href="asmfiles.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e18951.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/40</span> <!-- End Header --><a id="CHDDCGFH"></a><a id="OSTMG10030"></a>
<h1 class="chapter"><span class="secnum">6</span> Using Views to Display Information</h1>
<p><a id="sthref500"></a><a id="sthref501"></a>This chapter contains information about using dynamic views to display Oracle Automatic Storage Management (Oracle ASM), Oracle Automatic Storage Management Cluster File System (Oracle ACFS), and Oracle ASM Dynamic Volume Manager (Oracle ADVM) information.</p>
<ul>
<li>
<p><a href="#i1009568">Views Containing Oracle ASM Disk Group Information</a></p>
</li>
<li>
<p><a href="#CACDFEGE">Views Containing Oracle ACFS Information</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN003" href="../../server.112/e40402/dynviews_part.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for information about all of the <code>V$ASM*</code> dynamic performance views</div>
<a id="i1009568"></a><a id="OSTMG10031"></a>
<div class="sect1">
<h2 class="sect1">Views Containing Oracle ASM Disk Group Information</h2>
<p><a id="sthref502"></a>You can use the views in <a href="#CHDIBGGH">Table 6-1</a> to obtain information about Oracle ASM disk groups.</p>
<p>The <code>V$ASM_ALIAS</code>, <code>V$ASM_CLIENT</code>, <code>V$ASM_DISK</code>, <code>V$ASM_DISK_IOSTAT</code>, <code>V$ASM_DISK_STAT</code>, <code>V$ASM_DISKGROUP</code>, <code>V$ASM_DISKGROUP_STAT</code>, <code>V$ASM_FILE</code>, <code>V$ASM_TEMPLATE</code>, <code>V$ASM_USER</code>, <code>V$ASM_USERGROUP</code>, and <code>V$ASM_USERGROUP_MEMBER</code> are accessible from both the Oracle ASM and database instances.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94174"></a><a id="sthref503"></a><a id="CHDIBGGH"></a>Table 6-1 Oracle ASM dynamic views for disk group information</p>
<table class="cellalignment1546" title="Oracle ASM dynamic views for disk group information" summary="Column 1 contains names of views that can be used to query information about Automatic Storage Management. Column 2 describes each view." dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t3">View</th>
<th class="cellalignment1547" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t3" headers="r1c1-t3">
<p><a id="sthref504"></a><code>V$ASM_ALIAS</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t3 r1c2-t3">
<p>Contains one row for every alias present in every disk group mounted by the Oracle ASM instance.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t3" headers="r1c1-t3">
<p><a id="sthref505"></a><code>V$ASM_ATTRIBUTE</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t3 r1c2-t3">
<p>Displays one row for each attribute defined. In addition to attributes specified by <code>CREATE</code> <code>DISKGROUP</code> and <code>ALTER</code> <code>DISKGROUP</code> statements, the view may show other attributes that are created automatically. Attributes are only displayed for disk groups where <code>COMPATIBLE.ASM</code> is set to 11.1 or higher.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t3" headers="r1c1-t3">
<p><a id="sthref506"></a><code>V$ASM_CLIENT</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t3 r1c2-t3">
<p>In an Oracle ASM instance, identifies databases using disk groups managed by the Oracle ASM instance.</p>
<p>In an Oracle Database instance, contains information about the Oracle ASM instance if the database has any open Oracle ASM files.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t3" headers="r1c1-t3">
<p><a id="sthref507"></a><code>V$ASM_DISK</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t3 r1c2-t3">
<p>Contains one row for every disk discovered by the Oracle ASM instance, including disks that are not part of any disk group.</p>
<p>This view performs disk discovery every time it is queried.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t3" headers="r1c1-t3">
<p><a id="sthref508"></a><code>V$ASM_DISK_IOSTAT</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t3 r1c2-t3">
<p>Displays information about disk I/O statistics for each Oracle ASM client.</p>
<p>In an Oracle Database instance, only the rows for that instance are shown.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t3" headers="r1c1-t3">
<p><a id="sthref509"></a><code>V$ASM_DISK_STAT</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t3 r1c2-t3">
<p>Contains the same columns as <code>V$ASM_DISK</code>, but to reduce overhead, does not perform a discovery when it is queried. It only returns information about any disks that are part of mounted disk groups in the storage system. To see all disks, use <code>V$ASM_DISK</code> instead.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t3" headers="r1c1-t3">
<p><a id="sthref510"></a><code>V$ASM_DISKGROUP</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t3 r1c2-t3">
<p>Describes a disk group (number, name, size related info, state, and redundancy type).</p>
<p>This view performs disk discovery every time it is queried.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r9c1-t3" headers="r1c1-t3">
<p><a id="sthref511"></a><code>V$ASM_DISKGROUP_STAT</code></p>
</td>
<td class="cellalignment1543" headers="r9c1-t3 r1c2-t3">
<p>Contains the same columns as <code>V$ASM_DISKGROUP</code>, but to reduce overhead, does not perform a discovery when it is queried. It does not return information about any disks that are part of mounted disk groups in the storage system. To see all disks, use <code>V$ASM_DISKGROUP</code> instead.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r10c1-t3" headers="r1c1-t3">
<p><a id="sthref512"></a><code>V$ASM_FILE</code></p>
</td>
<td class="cellalignment1543" headers="r10c1-t3 r1c2-t3">
<p>Contains one row for every Oracle ASM file in every disk group mounted by the Oracle ASM instance.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r11c1-t3" headers="r1c1-t3">
<p><a id="sthref513"></a><code>V$ASM_OPERATION</code></p>
</td>
<td class="cellalignment1543" headers="r11c1-t3 r1c2-t3">
<p>In an Oracle ASM instance, contains one row for every active Oracle ASM long running operation executing in the Oracle ASM instance.</p>
<p>In an Oracle Database instance, contains no rows.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r12c1-t3" headers="r1c1-t3">
<p><a id="sthref514"></a><code>V$ASM_TEMPLATE</code></p>
</td>
<td class="cellalignment1543" headers="r12c1-t3 r1c2-t3">
<p>Contains one row for every template present in every disk group mounted by the Oracle ASM instance.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r13c1-t3" headers="r1c1-t3">
<p><a id="sthref515"></a><code>V$ASM_USER</code></p>
</td>
<td class="cellalignment1543" headers="r13c1-t3 r1c2-t3">
<p>Contains the effective operating system user names of connected database instances and names of file owners.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r14c1-t3" headers="r1c1-t3">
<p><a id="sthref516"></a><code>V$ASM_USERGROUP</code></p>
</td>
<td class="cellalignment1543" headers="r14c1-t3 r1c2-t3">
<p>Contains the creator for each Oracle ASM File Access Control group.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r15c1-t3" headers="r1c1-t3">
<p><a id="sthref517"></a><code>V$ASM_USERGROUP_MEMBER</code></p>
</td>
<td class="cellalignment1543" headers="r15c1-t3 r1c2-t3">
<p>Contains the members for each Oracle ASM File Access Control group.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<p>When querying V$ASM views, note that the value of the disk group number is not a static value. When a disk group is mounted, a disk group number is chosen. This number may change across disk group mounts. A disk group number is not recorded in any persistent structure, but the current value can be viewed in the <code>GROUP_NUMBER</code> column of the V$ASM views.</p>
<p>An example of the use of the <code>V$ASM_ATTRIBUTE</code> and <code>V$ASM_DISKGROUP</code> views is shown in <a href="#BABJEAAJ">Example 6-1</a>. The <code>COMPATIBLE.ASM</code> value must be set to 11.1 or higher for the disk group to display in the <code>V$ASM_ATTRIBUTE</code> view output. Attributes that are designated as read-only (<code>Y</code>) can only be set during disk group creation.</p>
<div class="example">
<p class="titleinexample"><a id="BABJEAAJ"></a><a id="OSTMG94175"></a>Example 6-1 Viewing disk group attributes with V$ASM_ATTRIBUTE</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, SUBSTR(a.name,1,18) AS name,
     SUBSTR(a.value,1,24) AS value, read_only FROM V$ASM_DISKGROUP dg, 
     V$ASM_ATTRIBUTE a WHERE dg.name = 'DATA'
     AND dg.group_number = a.group_number;

DISKGROUP                NAME                     VALUE                 READ_ONLY
------------------------ ------------------------ --------------------- ---------
DATA                     disk_repair_time         3.6h                  N
DATA                     au_size                  4194304               Y
DATA                     sector_size              512                   Y
DATA                     compatible.asm           11.2.0.0.0            N
DATA                     compatible.rdbms         11.2.0.0.0            N
DATA                     compatible.advm          11.2.0.0.0            N
DATA                     cell.smart_scan_capable  FALSE                 N
DATA                     access_control.enabled   TRUE                  N
DATA                     access_control.umask     002                   N
...
</pre></div>
<!-- class="example" -->
<p>You can view the compatibility for a disk group with the <code>V$ASM_DISKGROUP</code> view, as shown in <a href="#CHDEHEEJ">Example 6-2</a>.</p>
<div class="example">
<p class="titleinexample"><a id="CHDEHEEJ"></a><a id="OSTMG94176"></a>Example 6-2 Viewing the compatibility of a disk group with V$ASM_DISKGROUP</p>
<pre>
SQL&gt; SELECT name AS diskgroup, compatibility AS asm_compat, 
     database_compatibility AS db_compat FROM V$ASM_DISKGROUP;

DISKGROUP         ASM_COMPAT   DB_COMPAT
----------------- ------------ ----------
DATA              11.2.0.0.0   11.2.0.0.0
FRA               10.1.0.0.0   10.1.0.0.0
</pre></div>
<!-- class="example" -->
<p>An example of the use of the <code>V$ASM_DISK</code> and <code>V$ASM_DISKGROUP</code> views is shown in <a href="#BABEGJEI">Example 6-3</a>. This example displays the disks associated with a disk group, plus the mount status and state of the disks.</p>
<div class="example">
<p class="titleinexample"><a id="BABEGJEI"></a><a id="OSTMG94177"></a>Example 6-3 Viewing disks in disk groups with V$ASM_DISK</p>
<pre>
SQL&gt; SELECT SUBSTR(d.name,1,16) AS asmdisk, d.mount_status, d.state, 
     dg.name AS diskgroup FROM V$ASM_DISKGROUP dg, V$ASM_DISK d 
     WHERE dg.group_number = d.group_number;

ASMDISK          MOUNT_S STATE    DISKGROUP
---------------- ------- -------- -------------
DATA_0001        CACHED  NORMAL   DATA
DATA_0007        CACHED  NORMAL   DATA
DATA_0000        CACHED  NORMAL   DATA
DATA_0008        CACHED  NORMAL   DATA
DATA_0005        CACHED  NORMAL   DATA
DATA_0002        CACHED  NORMAL   DATA
DATA_0004        CACHED  NORMAL   DATA
DATA_0006        CACHED  NORMAL   DATA
DATA_0003        CACHED  NORMAL   DATA
FRA_0005         CACHED  NORMAL   FRA
FRA_0004         CACHED  NORMAL   FRA
FRA_0000         CACHED  NORMAL   FRA
FRA_0009         CACHED  NORMAL   FRA
FRA_0011         CACHED  NORMAL   FRA
...
</pre></div>
<!-- class="example" -->
<p>An example of the use of the <code>V$ASM_CLIENT</code> and <code>V$ASM_DISKGROUP</code> views on an Oracle ASM instance is shown in <a href="#CHDIHBIF">Example 6-4</a>. This example displays disk groups with information about the connected database client instances.</p>
<div class="example">
<p class="titleinexample"><a id="CHDIHBIF"></a><a id="OSTMG94178"></a>Example 6-4 Viewing disk group clients with V$ASM_CLIENT</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, SUBSTR(c.instance_name,1,12) AS instance,
    SUBSTR(c.db_name,1,12) AS dbname, SUBSTR(c.SOFTWARE_VERSION,1,12) AS software,
    SUBSTR(c.COMPATIBLE_VERSION,1,12) AS compatible 
    FROM V$ASM_DISKGROUP dg, V$ASM_CLIENT c  
    WHERE dg.group_number = c.group_number;
 
DISKGROUP                      INSTANCE     DBNAME   SOFTWARE     COMPATIBLE
------------------------------ ------------ -------- ------------ ------------
DATA                           +ASM         +ASM     11.2.0.0.0   11.2.0.0.0
DATA                           orcl         orcl     11.2.0.0.0   11.2.0.0.0
DATA                           +ASM         asmvol   11.2.0.0.0   11.2.0.0.0
FRA                            orcl         orcl     11.2.0.0.0   11.2.0.0.0
...
</pre></div>
<!-- class="example" -->
<a id="CHDDIBCD"></a><a id="OSTMG94179"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing Oracle ASM File Access Control Information</h3>
<p>You can view information about Oracle ASM File Access Control in the columns of the <code>V$ASM_USER</code>, <code>V$ASM_USERGROUP</code>, <code>V$ASM_USERGROUP_MEMBER</code>, and <code>V$ASM_FILE</code> views.</p>
<p><a href="#CHDDIECB">Example 6-5</a> shows information about Oracle ASM File Access Control users displayed in the <code>V$ASM_USER</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDDIECB"></a><a id="OSTMG94180"></a>Example 6-5 Viewing Oracle ASM File Access Control information with V$ASM_USER</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, u.group_number, u.user_number, u.os_id, u.os_name 
     FROM V$ASM_DISKGROUP dg, V$ASM_USER u 
     WHERE dg.group_number = u.group_number AND dg.name = 'DATA';

DISKGROUP       GROUP_NUMBER USER_NUMBER OS_ID OS_NAME
--------------- ------------ ----------- ----- -------
DATA                       1           1 1001  oracle1
DATA                       1           2 1002  oracle2
DATA                       1           3 1003  grid
</pre></div>
<!-- class="example" -->
<p><a href="#CHDEICDE">Example 6-6</a> shows information about Oracle ASM File Access Control user groups displayed in the <code>V$ASM_USERGROUP</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDEICDE"></a><a id="OSTMG94181"></a>Example 6-6 Viewing Oracle ASM File Access Control information with V$ASM_USERGROUP</p>
<pre>
SQL&gt;  SELECT dg.name AS diskgroup, ug.group_number, ug.owner_number, u.os_name,
      ug.usergroup_number, ug.name FROM V$ASM_DISKGROUP dg, V$ASM_USER u, V$ASM_USERGROUP ug 
      WHERE dg.group_number = ug.group_number AND dg.name = 'DATA' 
      AND ug.owner_number = u.user_number;

DISKGROUP         GROUP_NUMBER OWNER_NUMBER OS_NAME         USERGROUP_NUMBER NAME
----------------- ------------ ------------ --------------- ---------------- ------------------
DATA                         1            3 grid                           1 asm_data
</pre></div>
<!-- class="example" -->
<p><a href="#CHDHDEIH">Example 6-7</a> shows information about Oracle ASM File Access Control user groups and members displayed in the <code>V$ASM_USERGROUP_MEMBER</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDHDEIH"></a><a id="OSTMG94182"></a>Example 6-7 Viewing Oracle ASM File Access Control information with V$ASM_USERGROUP_MEMBER</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, um.group_number, um.member_number, u.os_name, 
     um.usergroup_number, ug.name FROM V$ASM_DISKGROUP dg, V$ASM_USER u, V$ASM_USERGROUP_MEMBER um, 
     V$ASM_USERGROUP ug WHERE dg.group_number = um.group_number AND 
     dg.group_number = ug.group_number AND dg.group_number = u.group_number AND dg.name = 'DATA' 
     AND um.member_number = u.user_number AND um.usergroup_number = ug.usergroup_number;

DISKGROUP       GROUP_NUMBER MEMBER_NUMBER OS_NAME            USERGROUP_NUMBER NAME
--------------- ------------ ------------- ------------------ ---------------- ------------------
DATA                       1             1 oracle1                           1 asm_data
DATA                       1             2 oracle2                           1 asm_data
</pre></div>
<!-- class="example" -->
<p><a href="#CHDBCBJI">Example 6-8</a> shows information about Oracle ASM File Access Control file permissions displayed in the <code>V$ASM_FILE</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDBCBJI"></a><a id="OSTMG94183"></a>Example 6-8 Viewing Oracle ASM File Access Control information with V$ASM_FILE</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, a.name, f.permissions, f.user_number, u.os_name,
     f.usergroup_number, ug.NAME FROM V$ASM_DISKGROUP dg, V$ASM_USER u, V$ASM_USERGROUP ug, 
     V$ASM_FILE f, V$ASM_ALIAS a WHERE dg.group_number = f.group_number AND 
     dg.group_number = u.group_number AND dg.group_number = ug.group_number AND 
     dg.name = 'FRA' AND f.usergroup_number = ug.usergroup_number AND f.user_number = u.user_number
     AND f.file_number = a.file_number;

DISKGROUP NAME                   PERMISSIONS USER_NUMBER OS_NAME USERGROUP_NUMBER NAME
--------- ---------------------- ----------- ----------- ------- ---------------- -------------
DATA      USERS.259.685366091    rw-r-----             3 grid                   1 asm_fra 
DATA      TEMP.264.685366227     rw-r-----             3 grid                   1 asm_fra 
...
</pre></div>
<!-- class="example" -->
<p>For more information about Oracle ASM File Access Control, see <a href="asmdiskgrps.htm#CHDICHHE">"Managing Oracle ASM File Access Control for Disk Groups"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJJGCI"></a><a id="OSTMG94184"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Viewing Disk Region Information</h3>
<p>Information about Intelligent Data Placement is displayed in the columns of the <code>V$ASM_DISK</code>, <code>V$ASM_DISK_IOSTAT</code>, <code>V$ASM_FILE</code>, and <code>V$ASM_TEMPLATE</code> views.</p>
<p><a href="#CHDCECCC">Example 6-9</a> shows queries for Intelligent Data Placement information in the <code>PRIMARY_REGION</code> and <code>MIRROR_REGION</code> columns of the <code>V$ASM_FILE</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDCECCC"></a><a id="OSTMG94185"></a>Example 6-9 Viewing Intelligent Data Placement information with V$ASM_FILE</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, f.file_number, f.primary_region, f.mirror_region, f.hot_reads,
       f.hot_writes,  f.cold_reads, f.cold_writes
       FROM V$ASM_DISKGROUP dg, V$ASM_FILE f 
       WHERE dg.group_number = f.group_number and dg.name = 'DATA';
 
DISKGROUP                      FILE_NUMBER PRIM MIRR  HOT_READS HOT_WRITES COLD_READS COLD_WRITES
------------------------------ ----------- ---- ---- ---------- ---------- ---------- -----------
DATA                                   257 COLD COLD          0          0     119770      886575
DATA                                   258 COLD COLD          0          0       1396      222282
DATA                                   259 COLD COLD          0          0       2056         199
DATA                                   260 COLD COLD          0          0      42377     1331016
DATA                                   261 COLD COLD          0          0    4336300     1331027
...
</pre></div>
<!-- class="example" -->
<p><a href="#CHDDFBJE">Example 6-10</a> displays Intelligent Data Placement information in the <code>PRIMARY_REGION</code> and <code>MIRROR_REGION</code> columns of the <code>V$ASM_TEMPLATE</code> view.</p>
<div class="example">
<p class="titleinexample"><a id="CHDDFBJE"></a><a id="OSTMG94186"></a>Example 6-10 Viewing Intelligent Data Placement information with V$ASM_TEMPLATE</p>
<pre>
SQL&gt; SELECT dg.name AS diskgroup, t.name, t.stripe, t.redundancy, t.primary_region, t.mirror_region 
       FROM V$ASM_DISKGROUP dg, V$ASM_TEMPLATE t 
       WHERE dg.group_number = t.group_number and dg.name = 'DATA' ORDER BY t.name;

DISKGROUP                      NAME                           STRIPE REDUND PRIM MIRR
------------------------------ ------------------------------ ------ ------ ---- ----
DATA                           ARCHIVELOG                     COARSE MIRROR COLD COLD
DATA                           ASMPARAMETERFILE               COARSE MIRROR COLD COLD
DATA                           AUTOBACKUP                     COARSE MIRROR COLD COLD
DATA                           BACKUPSET                      COARSE MIRROR COLD COLD
DATA                           CHANGETRACKING                 COARSE MIRROR COLD COLD
DATA                           CONTROLFILE                    FINE   HIGH   COLD COLD
DATA                           DATAFILE                       COARSE MIRROR COLD COLD
DATA                           DATAGUARDCONFIG                COARSE MIRROR COLD COLD
DATA                           DUMPSET                        COARSE MIRROR COLD COLD
DATA                           FLASHBACK                      COARSE MIRROR COLD COLD
DATA                           FLASHFILE                      COARSE MIRROR COLD COLD
DATA                           OCRFILE                        COARSE MIRROR COLD COLD
DATA                           ONLINELOG                      COARSE MIRROR COLD COLD
DATA                           PARAMETERFILE                  COARSE MIRROR COLD COLD
DATA                           TEMPFILE                       COARSE MIRROR COLD COLD
DATA                           XTRANSPORT                     COARSE MIRROR COLD COLD
15 rows selected.
</pre></div>
<!-- class="example" -->
<p>For information about setting Intelligent Data Placement, see <a href="asmdiskgrps.htm#CHDICBEB">"Intelligent Data Placement"</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACDFEGE"></a><a id="OSTMG94187"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Views Containing Oracle ACFS Information</h2>
<p><a id="sthref518"></a>You can use the views in <a href="#CHDHJADF">Table 6-2</a> to obtain information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS). These views are accessible from the Oracle ASM instance.</p>
<div class="tblformalwide">
<p class="titleintable"><a id="OSTMG94188"></a><a id="sthref519"></a><a id="CHDHJADF"></a>Table 6-2 Oracle ASM dynamic views for Oracle ACFS information</p>
<table class="cellalignment1546" title="Oracle ASM dynamic views for Oracle ACFS information" summary="Column 1 contains names of views that can be used to query information about Automatic Storage Management File System. Column 2 describes each view." dir="ltr">
<thead>
<tr class="cellalignment1537">
<th class="cellalignment1547" id="r1c1-t4">View</th>
<th class="cellalignment1547" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r2c1-t4" headers="r1c1-t4">
<p><a id="sthref520"></a><code>V$ASM_ACFS_ENCRYPTION_INFO</code></p>
</td>
<td class="cellalignment1543" headers="r2c1-t4 r1c2-t4">
<p>Contains encryption information for each Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r3c1-t4" headers="r1c1-t4">
<p><a id="sthref521"></a><code>V$ASM_ACFS_SECURITY_INFO</code></p>
</td>
<td class="cellalignment1543" headers="r3c1-t4 r1c2-t4">
<p>Contains security realm information for each Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r4c1-t4" headers="r1c1-t4">
<p><a id="sthref522"></a><code>V$ASM_ACFSSNAPSHOTS</code></p>
</td>
<td class="cellalignment1543" headers="r4c1-t4 r1c2-t4">
<p>Contains snapshot information for every mounted Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r5c1-t4" headers="r1c1-t4">
<p><a id="sthref523"></a><code>V$ASM_ACFSVOLUMES</code></p>
</td>
<td class="cellalignment1543" headers="r5c1-t4 r1c2-t4">
<p>Contains information about mounted Oracle ACFS volumes, correlated with <code>V$ASM_FILESYSTEM</code>.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r6c1-t4" headers="r1c1-t4">
<p><a id="sthref524"></a><code>V$ASM_FILESYSTEM</code></p>
</td>
<td class="cellalignment1543" headers="r6c1-t4 r1c2-t4">
<p>Contains columns that display information for every mounted Oracle ACFS file system.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r7c1-t4" headers="r1c1-t4">
<p><a id="sthref525"></a><code>V$ASM_VOLUME</code></p>
</td>
<td class="cellalignment1543" headers="r7c1-t4 r1c2-t4">
<p>Contains information about each Oracle ADVM volume that is a member of an Oracle ASM instance.</p>
</td>
</tr>
<tr class="cellalignment1537">
<td class="cellalignment1543" id="r8c1-t4" headers="r1c1-t4">
<p><a id="sthref526"></a><code>V$ASM_VOLUME_STAT</code></p>
</td>
<td class="cellalignment1543" headers="r8c1-t4 r1c2-t4">
<p>Contains information about statistics for each Oracle ADVM volume.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwide" -->
<p><a href="#BACICIFI">Example 6-11</a> shows information displayed from the <code>V$ASM_ACFS_ENCRYPTION_INFO</code> view. The <code>FS_NAME</code> column contains the mount point. The <code>VOL_DEVICE</code> contains the name of the Oracle ADVM device.</p>
<div class="example">
<p class="titleinexample"><a id="BACICIFI"></a><a id="OSTMG94189"></a>Example 6-11 Viewing encryption information in V$ASM_ACFS_ENCRYPTION_INFO</p>
<pre>
SELECT SUBSTR(fs_name,1,32) FILESYSTEM, SUBSTR(vol_device,1,20) DEVICE, set_status, enabled_status, 
     algorithm, key_length, last_rekey_time FROM V$ASM_ACFS_ENCRYPTION_INFO;

FILESYSTEM                        DEVICE                 SET_STA ENABLED_ ALGORIT KEY_LEN LAST_REKE
--------------------------------- ---------------------- ------- -------- ------- ------- ---------
/u01/app/acfsmounts/acfs1         /dev/asm/volume1-228   YES     ENABLED  AES     192
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30636" href="../../server.112/e40402/dynviews_1017.htm#REFRN30636"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_ACFS_ENCRYPTION_INFO</code> view</div>
<p><a href="#BACCCIHC">Example 6-12</a> shows information displayed from the <code>V$ASM_ACFS_SECURITY_INFO</code> view. The <code>FS_NAME</code> column contains the mount point. The <code>VOL_DEVICE</code> contains the name of the Oracle ADVM device.</p>
<div class="example">
<p class="titleinexample"><a id="BACCCIHC"></a><a id="OSTMG94190"></a>Example 6-12 Viewing security information in V$ASM_ACFS_SECURITY_INFO</p>
<pre>
SELECT SUBSTR(fs_name,1,32) FILESYSTEM, SUBSTR(vol_device,1,20) DEVICE, prepared_status, 
     enabled_status FROM V$ASM_ACFS_SECURITY_INFO;

FILESYSTEM                        DEVICE                 PREPARE ENABLED_
--------------------------------- ---------------------- ------- --------
/u01/app/acfsmounts/acfs1        /dev/asm/volume1-228    YES     ENABLED 
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30637" href="../../server.112/e40402/dynviews_1018.htm#REFRN30637"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_ACFS_SECURITY_INFO</code> view</div>
<p><a href="#CHDEEJHD">Example 6-13</a> shows information displayed from the <code>V$ASM_ACFSSNAPSHOTS</code> view. The <code>FS_NAME</code> column contains the mount point. The <code>VOL_DEVICE</code> contains the name of the Oracle ADVM device.</p>
<div class="example">
<p class="titleinexample"><a id="CHDEEJHD"></a><a id="OSTMG94191"></a>Example 6-13 Viewing snapshot information in V$ASM_ACFSSNAPSHOTS</p>
<pre>
SELECT SUBSTR(fs_name,1,32) FILESYSTEM, SUBSTR(vol_device,1,24) DEVICE, 
  SUBSTR(snap_name,1,28) SNAPSHOT, create_time TIME FROM V$ASM_ACFSSNAPSHOTS;

FILESYSTEM                       DEVICE                   SNAPSHOT                     TIME
-------------------------------- ------------------------ ---------------------------- ---------
/u01/app/acfsmounts/acfs1        /dev/asm/volume1-228     mysnapshot_0900609a          09-JUL-09
/u01/app/acfsmounts/acfs1        /dev/asm/volume1-228     mysnapshot_0900610a          10-JUL-09
/u01/app/acfsmounts/acfs1        /dev/asm/volume1-228     mysnapshot_0900609c          09-JUL-09
/u01/app/acfsmounts/acfs1        /dev/asm/volume1-228     mysnapshot_0900610b          10-JUL-09
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30617" href="../../server.112/e40402/dynviews_1019.htm#REFRN30617"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_ACFSSNAPSHOTS</code> view</div>
<p><a href="#CHDFJDCA">Example 6-14</a> shows information displayed from the <code>V$ASM_VACFSOLUMES</code> view. The <code>PRIMARY_VOL</code> column contains <code>TRUE</code> if the volume is the primary volume for the file system.</p>
<div class="example">
<p class="titleinexample"><a id="CHDFJDCA"></a><a id="OSTMG94192"></a>Example 6-14 Viewing volume information with V$ASM_ACFSVOLUMES</p>
<pre>
SELECT fs_name, vol_device, primary_vol, total_mb, free_mb FROM V$ASM_ACFSVOLUMES;

FS_NAME                    VOL_DEVICE             PRIMARY_VOL   TOTAL_MB  FREE_MB
-------------------------- ---------------------- -----------   --------- ----------
/u01/app/acfsmounts/acfs1  /dev/asm/volume1-228   TRUE            1024000 578626.522
/u01/app/acfsmounts/acfs2  /dev/asm/volume2-375   TRUE            1024000 685761.463
...
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30617" href="../../server.112/e40402/dynviews_1019.htm#REFRN30617"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_ACFSVOLUMES</code> view</div>
<p><a href="#CHDGJBJI">Example 6-15</a> shows information displayed from the <code>V$ASM_FILESYSTEM</code> view.</p>
<p>The <code>STATE</code> column contains the status of the file system, either <code>AVAILABLE</code> or <code>OFFLINE</code>. An offline file system can only be dismounted; other attempts at access result in errors. Offline means that either the Oracle ASM instance is down, the disk group has been forced dismounted, or less commonly, a metadata I/O failure occurred or serious metadata corruption was detected. With a metadata I/O failure, the file system is also marked as corrupt.</p>
<p>The <code>CORRUPT</code> column indicates whether the file system needs the <code>fsck</code> or <code>acfschkdsk</code> command run on it. See <a href="asmfs_util002.htm#CACCHEDH">"fsck"</a> and <a href="asmfs_util005.htm#CACDCIHC">"acfschkdsk"</a>.</p>
<div class="example">
<p class="titleinexample"><a id="CHDGJBJI"></a><a id="OSTMG94193"></a>Example 6-15 Viewing volume information with V$ASM_FILESYSTEM</p>
<pre>
SQL&gt; SELECT fs_name, available_time, block_size, state, corrupt FROM V$ASM_FILESYSTEM;

FS_NAME                            AVAILABLE BLOCK_SIZE STATE         CORRUPT
---------------------------------- --------- ---------- ------------- -------
/u01/app/acfsmounts/acfs1          19-JUL-09          4 AVAILABLE     FALSE
/u01/app/acfsmounts/acfs2          19-JUL-09          4 AVAILABLE     FALSE
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30619" href="../../server.112/e40402/dynviews_1030.htm#REFRN30619"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_FILESYSTEM</code> view</div>
<p><a href="#CHDGDJGA">Example 6-16</a> shows information displayed from the <code>V$ASM_VOLUME</code> view for volumes contained in the <code>DATA</code> disk group.</p>
<div class="example">
<p class="titleinexample"><a id="CHDGDJGA"></a><a id="OSTMG94194"></a>Example 6-16 Viewing volume information with V$ASM_VOLUME</p>
<pre>
SELECT dg.name AS diskgroup, v.volume_name, v.volume_device, v.mountpath 
    FROM V$ASM_DISKGROUP dg, V$ASM_VOLUME v 
    WHERE dg.group_number = v.group_number and dg.name = 'DATA';

DISKGROUP        VOLUME_NAME       VOLUME_DEVICE           MOUNTPATH
---------------- ----------------- ----------------------- ---------------------------------
DATA             VOLUME1           /dev/asm/volume1-228    /u01/app/acfsmounts/acfs1
DATA             VOLUME2           /dev/asm/volume2-375    /u01/app/acfsmounts/acfs2
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30625" href="../../server.112/e40402/dynviews_1036.htm#REFRN30625"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_VOLUME</code> view</div>
<p><a href="#CHDGDJGA">Example 6-16</a> shows information displayed from the <code>V$ASM_VOLUME_STAT</code> view for volumes contained in the <code>DATA</code> disk group. The <code>BYTES_READ</code> column contains the total number of bytes read for the volume. The <code>BYTES_WRITTEN</code> column contains the total number of bytes written for the volume.</p>
<div class="example">
<p class="titleinexample"><a id="OSTMG94195"></a><a id="sthref527"></a>Example 6-17 Viewing volume information with V$ASM_VOLUME_STAT</p>
<pre>
SELECT dg.name AS diskgroup, v.volume_name, v.bytes_read, v.bytes_written
    FROM V$ASM_DISKGROUP dg, V$ASM_VOLUME_STAT v 
    WHERE dg.group_number = v.group_number and dg.name = 'DATA';

DISKGROUP                      VOLUME_NAME                    BYTES_READ  BYTES_WRITTEN
------------------------------ ------------------------------ ----------- -------------
DATA                           VOLUME1                        12370105856      43510272
DATA                           VOLUME2                            2685728      32201504
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN30626" href="../../server.112/e40402/dynviews_1037.htm#REFRN30626"><span class="italic">Oracle Database Reference</span></a> for information about the <code>V$ASM_VOLUME_STAT</code> view</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1536">
<tr>
<td class="cellalignment1543">
<table class="cellalignment1541">
<tr>
<td class="cellalignment1540"><a href="asmfilesystem.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1540"><a href="asmfiles.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1545">
<table class="cellalignment1539">
<tr>
<td class="cellalignment1540"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1540"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1540"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1540"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1540"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1540"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
