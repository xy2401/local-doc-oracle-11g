<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>DBVERIFY: Offline Database Verification Utility</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093" />
<meta name="dcterms.created" content="2018-03-26T15:55:15Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Utilities" />
<meta name="dcterms.identifier" content="E22490-08" />
<meta name="dcterms.isVersionOf" content="SUTIL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2018,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="adrci.htm" title="Previous" type="text/html" />
<link rel="Next" href="dbnewid.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e22490.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">28/36</span> <!-- End Header -->
<div id="SUTIL013" class="chapter"><a id="g1010035"></a> <a id="i1006970"></a>
<h1 class="chapter"><span class="secnum">17</span> DBVERIFY: Offline Database Verification Utility</h1>
<p><a id="i1006627"></a>DBVERIFY is an external command-line utility that performs a physical data structure integrity check.</p>
<p>DBVERIFY can be used on offline or online databases, as well on backup files. You use DBVERIFY primarily when you need to ensure that a backup database (or data file) is valid before it is restored, or as a diagnostic aid when you have encountered data corruption problems. Because DBVERIFY can be run against an offline database, integrity checks are significantly faster.</p>
<p><a id="sthref1497"></a>DBVERIFY checks are limited to cache-managed blocks (that is, data blocks). Because DBVERIFY is only for use with data files, it does not work against control files or redo logs.</p>
<p>There are two command-line interfaces to DBVERIFY. With the first interface, you specify disk blocks of a single data file for checking. With the second interface, you specify a segment for checking. Both interfaces are started with the <code dir="ltr">dbv</code> command. The following sections provide descriptions of these interfaces:</p>
<ul>
<li>
<p><a href="#BGBEICHH">Using DBVERIFY to Validate Disk Blocks of a Single Data File</a></p>
</li>
<li>
<p><a href="#BGBECJBA">Using DBVERIFY to Validate a Segment</a></p>
</li>
</ul>
<a id="BGBEICHH"></a>
<div id="SUTIL1532" class="sect1">
<h2 class="sect1">Using DBVERIFY to Validate Disk Blocks of a Single Data File</h2>
<p>In this mode, DBVERIFY scans one or more disk blocks<a id="sthref1498"></a> of a single data file and performs page checks.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the file you are verifying is an Oracle Automatic Storage Management (Oracle ASM) file, then you must supply a <code dir="ltr">USERID</code>. This is because DBVERIFY needs to connect to an Oracle instance to access Oracle ASM files.</div>
<a id="i1006458"></a>
<div id="SUTIL1533" class="sect2">
<h3 class="sect2">Syntax<a id="sthref1499"></a></h3>
<p>The syntax for <code dir="ltr">DBVERIFY</code> when you want to validate disk blocks of a single data file is as follows:</p>
<img width="371" height="355" src="img/dbverify.gif" alt="Description of dbverify.gif follows" /><br />
<a id="sthref1500" href="img_text/dbverify.htm">Description of the illustration ''dbverify.gif''</a><br />
<br /></div>
<!-- class="sect2" -->
<div id="SUTIL1534" class="sect2"><a id="sthref1501"></a>
<h3 class="sect2">Parameters</h3>
<p>Descriptions of the parameters are as follows:</p>
<div class="inftblinformal">
<table class="cellalignment1399" title="DBVERIFY Parameters for Validating Disk Blocks of a Single Datafile" summary="DBVERIFY parameters for validating disk blocks of a single datafile" dir="ltr">
<thead>
<tr class="cellalignment1388">
<th class="cellalignment1395" id="r1c1-t3">Parameter</th>
<th class="cellalignment1395" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r2c1-t3" headers="r1c1-t3"><code dir="ltr">USERID</code></td>
<td class="cellalignment1396" headers="r2c1-t3 r1c2-t3">Specifies your username and password. This parameter is only necessary when the files being verified are Oracle ASM files.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r3c1-t3" headers="r1c1-t3"><code dir="ltr">FILE</code></td>
<td class="cellalignment1396" headers="r3c1-t3 r1c2-t3">The name of the database file to verify.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r4c1-t3" headers="r1c1-t3"><code dir="ltr">START</code></td>
<td class="cellalignment1396" headers="r4c1-t3 r1c2-t3">The starting block address to verify. Specify block addresses in Oracle blocks (as opposed to operating system blocks). If you do not specify <code dir="ltr">START</code>, then DBVERIFY defaults to the first block in the file.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r5c1-t3" headers="r1c1-t3"><code dir="ltr">END</code></td>
<td class="cellalignment1396" headers="r5c1-t3 r1c2-t3">The ending block address to verify. If you do not specify <code dir="ltr">END</code>, then DBVERIFY defaults to the last block in the file.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r6c1-t3" headers="r1c1-t3"><code dir="ltr">BLOCKSIZE</code></td>
<td class="cellalignment1396" headers="r6c1-t3 r1c2-t3"><code dir="ltr">BLOCKSIZE</code> is required only if the file to be verified does not have a block size of 2 KB. If the file does not have block size of 2 KB and you do not specify <code dir="ltr">BLOCKSIZE</code>, then you will receive the error DBV-00103.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r7c1-t3" headers="r1c1-t3"><code dir="ltr">HIGH_SCN</code></td>
<td class="cellalignment1396" headers="r7c1-t3 r1c2-t3">When a value is specified for <code dir="ltr">HIGH_SCN</code>, DBVERIFY writes diagnostic messages for each block whose block-level SCN exceeds the value specified.
<p>This parameter is optional. There is no default.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r8c1-t3" headers="r1c1-t3"><code dir="ltr">LOGFILE</code></td>
<td class="cellalignment1396" headers="r8c1-t3 r1c2-t3">Specifies the file to which logging information should be written. The default sends output to the terminal display.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r9c1-t3" headers="r1c1-t3"><code dir="ltr">FEEDBACK</code></td>
<td class="cellalignment1396" headers="r9c1-t3 r1c2-t3">Causes DBVERIFY to send a progress display to the terminal in the form of a single period (.) for <code dir="ltr"><span class="codeinlineitalic">n</span></code> number of pages verified during the DBVERIFY run. If <code dir="ltr"><span class="codeinlineitalic">n</span></code> = 0, then there is no progress display.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r10c1-t3" headers="r1c1-t3"><code dir="ltr">HELP</code></td>
<td class="cellalignment1396" headers="r10c1-t3 r1c2-t3">Provides online help.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r11c1-t3" headers="r1c1-t3"><code dir="ltr">PARFILE</code></td>
<td class="cellalignment1396" headers="r11c1-t3 r1c2-t3">Specifies the name of the parameter file to use. You can store various values for DBVERIFY parameters in flat files. This enables you to customize parameter files to handle different types of data files and to perform specific types of integrity checks on data files.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect2" -->
<a id="i1006500"></a>
<div id="SUTIL1535" class="sect2">
<h3 class="sect2">Sample <a id="sthref1502"></a>DBVERIFY Output For a Single Data File</h3>
<p>The following is a sample verification of the file <code dir="ltr">t_db1.dbf.</code>The feedback parameter has been given the value 100 to display one period (.) for every 100 pages processed. A portion of the resulting output is also shown.</p>
<pre dir="ltr">
% dbv FILE=t_db1.dbf FEEDBACK=100
.
.
.
DBVERIFY - Verification starting : FILE = t_db1.dbf 

................................................................................
 

DBVERIFY - Verification complete 
 
Total Pages Examined         : 9216 
Total Pages Processed (Data) : 2044 
Total Pages Failing   (Data) : 0 
Total Pages Processed (Index): 733 
Total Pages Failing   (Index): 0 
Total Pages Empty            : 5686 
Total Pages Marked Corrupt   : 0 

Total Pages Influx           : 0 
</pre>
<p><span class="bold">Notes:</span></p>
<ul>
<li>
<p>Pages = Blocks</p>
</li>
<li>
<p>Total Pages Examined = number of blocks in the file</p>
</li>
<li>
<p>Total Pages Processed = number of blocks that were verified (formatted blocks)</p>
</li>
<li>
<p>Total Pages Failing (Data) = number of blocks that failed the data block checking routine</p>
</li>
<li>
<p>Total Pages Failing (Index) = number of blocks that failed the index block checking routine</p>
</li>
<li>
<p>Total Pages Marked Corrupt = number of blocks for which the cache header is invalid, thereby making it impossible for DBVERIFY to identify the block type</p>
</li>
<li>
<p>Total Pages Influx = number of blocks that are being read and written to at the same time. If the database is open when DBVERIFY is run, then DBVERIFY reads blocks multiple times to get a consistent image. But because the database is open, there may be blocks that are being read and written to at the same time (INFLUX). DBVERIFY cannot get a consistent image of pages that are in flux.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBECJBA"></a>
<div id="SUTIL1536" class="sect1">
<h2 class="sect1">Using DBVERIFY to Validate a Segment</h2>
<p>In this mode, DBVERIFY enables you to specify a table segment<a id="sthref1503"></a> or index segment for verification. It checks to ensure that a row chain pointer is within the segment being verified.</p>
<p>This mode requires that you specify a segment (data or index) to be validated. It also requires that you log on to the database with <code dir="ltr">SYSDBA</code> privileges, because information about the segment must be retrieved from the database.</p>
<p>During this mode, the segment is locked. If the specified segment is an index, then the parent table is locked. Note that some indexes, such as IOTs, do not have parent tables.</p>
<div id="SUTIL1537" class="sect2"><a id="sthref1504"></a>
<h3 class="sect2">Syntax</h3>
<p>The syntax for <code dir="ltr">DBVERIFY</code> when you want to validate a segment is as follows:</p>
<img width="352" height="251" src="img/dbverify_seg.gif" alt="Description of dbverify_seg.gif follows" /><br />
<a id="sthref1505" href="img_text/dbverify_seg.htm">Description of the illustration ''dbverify_seg.gif''</a><br />
<br /></div>
<!-- class="sect2" -->
<div id="SUTIL1538" class="sect2"><a id="sthref1506"></a>
<h3 class="sect2">Parameters</h3>
<p>Descriptions of the parameters are as follows:</p>
<div class="inftblinformal">
<table class="cellalignment1399" title="DBVERIFY Parameters for Validating a Segment" summary="DBVERIFY parameters to validate a single segment" dir="ltr">
<thead>
<tr class="cellalignment1388">
<th class="cellalignment1395" id="r1c1-t4">Parameter</th>
<th class="cellalignment1395" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r2c1-t4" headers="r1c1-t4"><code dir="ltr">USERID</code></td>
<td class="cellalignment1396" headers="r2c1-t4 r1c2-t4">Specifies your username and password.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r3c1-t4" headers="r1c1-t4"><code dir="ltr">SEGMENT_ID</code></td>
<td class="cellalignment1396" headers="r3c1-t4 r1c2-t4">Specifies the segment to verify. It is composed of the tablespace ID number (<code dir="ltr">tsn</code>), segment header file number (<code dir="ltr">segfile</code>), and segment header block number (<code dir="ltr">segblock</code>). You can get this information from <code dir="ltr">SYS_USER_SEGS. T</code>he relevant columns are <code dir="ltr">TABLESPACE_ID</code>, <code dir="ltr">HEADER_FILE</code>, and <code dir="ltr">HEADER_BLOCK</code>. You must have <code dir="ltr">SYSDBA</code> privileges to query <code dir="ltr">SYS_USER_SEGS</code>.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r4c1-t4" headers="r1c1-t4"><code dir="ltr">HIGH_SCN</code></td>
<td class="cellalignment1396" headers="r4c1-t4 r1c2-t4">When a value is specified for <code dir="ltr">HIGH_SCN</code>, DBVERIFY writes diagnostic messages for each block whose block-level SCN exceeds the value specified.
<p>This parameter is optional. There is no default.</p>
</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r5c1-t4" headers="r1c1-t4"><code dir="ltr">LOGFILE</code></td>
<td class="cellalignment1396" headers="r5c1-t4 r1c2-t4">Specifies the file to which logging information should be written. The default sends output to the terminal display.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r6c1-t4" headers="r1c1-t4"><code dir="ltr">FEEDBACK</code></td>
<td class="cellalignment1396" headers="r6c1-t4 r1c2-t4">Causes DBVERIFY to send a progress display to the terminal in the form of a single period (.) for <code dir="ltr"><span class="codeinlineitalic">n</span></code> number of pages verified during the DBVERIFY run. If <code dir="ltr"><span class="codeinlineitalic">n</span></code> = 0, then there is no progress display.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r7c1-t4" headers="r1c1-t4"><code dir="ltr">HELP</code></td>
<td class="cellalignment1396" headers="r7c1-t4 r1c2-t4">Provides online help.</td>
</tr>
<tr class="cellalignment1388">
<td class="cellalignment1396" id="r8c1-t4" headers="r1c1-t4"><code dir="ltr">PARFILE</code></td>
<td class="cellalignment1396" headers="r8c1-t4 r1c2-t4">Specifies the name of the parameter file to use. You can store various values for DBVERIFY parameters in flat files. This enables you to customize parameter files to handle different types of data files and to perform specific types of integrity checks on data files.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect2" -->
<div id="SUTIL1539" class="sect2"><a id="sthref1507"></a>
<h3 class="sect2">Sample DBVERIFY Output For a Validated Segment</h3>
<p>The following is a sample of the output that would be shown for a DBVERIFY operation to validate <code dir="ltr">SEGMENT_ID</code> 1.2.67.</p>
<pre dir="ltr">
DBVERIFY - Verification starting : SEGMENT_ID = 1.2.67
 
DBVERIFY - Verification complete
 
Total Pages Examined         : 8
Total Pages Processed (Data) : 0
Total Pages Failing   (Data) : 0
Total Pages Processed (Index): 1
Total Pages Failing   (Index): 0
Total Pages Processed (Other): 2
Total Pages Processed (Seg)  : 1
Total Pages Failing   (Seg)  : 0
Total Pages Empty            : 4
Total Pages Marked Corrupt   : 0
Total Pages Influx           : 0
Highest block SCN            : 7358 (0.7358)
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1387">
<tr>
<td class="cellalignment1396">
<table class="cellalignment1392">
<tr>
<td class="cellalignment1391"><a href="adrci.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1391"><a href="dbnewid.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2018,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1398">
<table class="cellalignment1390">
<tr>
<td class="cellalignment1391"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1391"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1391"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1391"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1391"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1391"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
