<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Data Pump Performance</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093" />
<meta name="dcterms.created" content="2018-03-26T15:54:45Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Utilities" />
<meta name="dcterms.identifier" content="E22490-08" />
<meta name="dcterms.isVersionOf" content="SUTIL" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2018,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dp_legacy.htm" title="Previous" type="text/html" />
<link rel="Next" href="dp_api.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e22490.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/36</span> <!-- End Header -->
<div id="SUTIL400" class="chapter"><a id="g1008057"></a> <a id="i1005665"></a>
<h1 class="chapter"><span class="secnum">5</span> Data Pump Performance</h1>
<p>The Data Pump utilities are designed especially for very large databases. If your site has very large quantities of data versus metadata, then you should experience a dramatic increase in performance compared to the original Export and Import utilities. This chapter briefly discusses why the performance is better and also suggests specific steps you can take to enhance performance of export and import operations.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#i1005617">Data Performance Improvements for Data Pump Export and Import</a></p>
</li>
<li>
<p><a href="#i1005622">Tuning Performance</a></p>
</li>
<li>
<p><a href="#i1007295">Initialization Parameters That Affect Data Pump Performance</a></p>
</li>
</ul>
<p>Performance of metadata extraction and database object creation in Data Pump Export and Import remains essentially equivalent to that of the original Export and Import utilities.</p>
<a id="i1005617"></a>
<div id="SUTIL968" class="sect1">
<h2 class="sect1">Data Performance Improvements for Data Pump Export and Import</h2>
<p>The improved performance of the Data Pump Export and Import utilities is attributable to several factors, including the following:</p>
<ul>
<li>
<p>Multiple worker processes can perform intertable and interpartition parallelism to load and unload tables in multiple, parallel, direct-path streams.</p>
</li>
<li>
<p>For very large tables and partitions, single worker processes can choose intrapartition parallelism through multiple parallel queries and parallel DML I/O server processes when the external tables method is used to access data.</p>
</li>
<li>
<p>Data Pump uses parallelism to build indexes and load package bodies.</p>
</li>
</ul>
<ul>
<li>
<p>Dump files are read and written directly by the server and, therefore, do not require any data movement to the client.</p>
</li>
<li>
<p>The dump file storage format is the internal stream format of the direct path API. This format is very similar to the format stored in Oracle database data files inside of tablespaces. Therefore, no client-side conversion to <code dir="ltr">INSERT</code> statement bind variables is performed.</p>
</li>
<li>
<p>The supported data access methods, direct path and external tables, are faster than conventional SQL. The direct path API provides the fastest single-stream performance. The external tables feature makes efficient use of the parallel queries and parallel DML capabilities of the Oracle database.</p>
</li>
<li>
<p>Metadata and data extraction can be overlapped during export.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1005622"></a>
<div id="SUTIL969" class="sect1">
<h2 class="sect1">Tuning Performance</h2>
<p>Data Pump<a id="sthref365"></a> technology<a id="sthref366"></a> fully uses all available resources to maximize throughput and minimize elapsed job time. For this to happen, a system must be well balanced across CPU, memory, and I/O. In addition, standard performance tuning principles apply. For example, for maximum performance you should ensure that the files that are members of a dump file set reside on separate disks, because the dump files are written and read in parallel. Also, the disks should not be the same ones on which the source or target tablespaces reside.</p>
<p>Any performance tuning activity involves making trade-offs between performance and resource consumption.</p>
<a id="i1005599"></a>
<div id="SUTIL970" class="sect2">
<h3 class="sect2">Controlling Resource Consumption</h3>
<p>The Data Pump Export and Import utilities enable you to dynamically increase and decrease<a id="sthref367"></a> resource<a id="sthref368"></a> consumption<a id="sthref369"></a><a id="sthref370"></a> for each job. This is done using the <code dir="ltr">PARALLEL</code> parameter to specify a degree of parallelism for the job. (The <code dir="ltr">PARALLEL</code> parameter is the only tuning parameter that is specific to Data Pump.) For maximum throughput, do not set <code dir="ltr">PARALLEL</code> to much more than twice the number of CPUs (two workers for each CPU).</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a href="dp_export.htm#i1006404">"PARALLEL"</a> for more information about the Export <code dir="ltr">PARALLEL</code> parameter</p>
</li>
<li>
<p><a href="dp_import.htm#i1006596">"PARALLEL"</a> for more information about the Import <code dir="ltr">PARALLEL</code> parameter</p>
</li>
</ul>
</div>
<p>As you increase the degree of parallelism, CPU usage, memory consumption, and I/O bandwidth usage also increase. You must ensure that adequate amounts of these resources are available. If necessary, you can distribute files across different disk devices or channels to get the needed I/O bandwidth.</p>
<p>To maximize parallelism, you must supply at least one file for each degree of parallelism. The simplest way of doing this is to use substitution variables in your file names (for example, <code dir="ltr">file%u.dmp</code>). However, depending upon your disk set up (for example, simple, non-striped disks), you might not want to put all dump files on one device. In this case, it is best to specify multiple file names using substitution variables, with each in a separate directory resolving to a separate disk. Even with fast CPUs and fast disks, the path between the CPU and the disk may be the constraining factor in the degree of parallelism that can be sustained.</p>
<p>The <code dir="ltr">PARALLEL</code> parameter is valid only in the Enterprise Edition of Oracle Database 11<span class="italic">g</span>.</p>
</div>
<!-- class="sect2" -->
<div id="SUTIL971" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref371"></a>
<h3 class="sect2">Effects of Compression and Encryption on Performance</h3>
<p>The use of Data Pump parameters related to compression and encryption can possibly have a negative impact upon performance of export and import operations. This is because additional CPU resources are required to perform transformations on the raw data.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1007295"></a>
<div id="SUTIL972" class="sect1">
<h2 class="sect1">Initialization Parameters That Affect Data Pump Performance</h2>
<p>The settings for certain initialization parameters can affect the performance of Data Pump Export and Import. In particular, you can try using the following settings to improve performance, although the effect may not be the same on all platforms.</p>
<ul>
<li>
<p><code dir="ltr">DISK_ASYNCH_IO=TRUE</code></p>
</li>
<li>
<p><code dir="ltr">DB_BLOCK_CHECKING=FALSE</code></p>
</li>
<li>
<p><code dir="ltr">DB_BLOCK_CHECKSUM=FALSE</code></p>
</li>
</ul>
<p>The following initialization parameters must have values set high enough to allow for maximum parallelism:</p>
<ul>
<li>
<p><code dir="ltr">PROCESSES</code></p>
</li>
<li>
<p><code dir="ltr">SESSIONS</code></p>
</li>
<li>
<p><code dir="ltr">PARALLEL_MAX_SERVERS</code></p>
</li>
</ul>
<p>Additionally, the <code dir="ltr">SHARED_POOL_SIZE</code> and <code dir="ltr">UNDO_TABLESPACE</code> initialization parameters should be generously sized. The exact values depend upon the size of your database.</p>
<div id="SUTIL973" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref372"></a>
<h3 class="sect2">Setting the Size Of the Buffer Cache In a Streams Environment<a id="sthref373"></a><a id="sthref374"></a></h3>
<p>Oracle Data Pump uses Streams functionality to communicate between processes. If the <code dir="ltr">SGA_TARGET</code> initialization parameter is set, then the <code dir="ltr">STREAMS_POOL_SIZE</code> initialization parameter is automatically set to a reasonable value.</p>
<p>If the <code dir="ltr">SGA_TARGET</code> initialization parameter is not set and the <code dir="ltr">STREAMS_POOL_SIZE</code> initialization parameter is not defined, then the size of the streams pool automatically defaults to 10% of the size of the shared pool.</p>
<p>When the streams pool is created, the required SGA memory is taken from memory allocated to the buffer cache, reducing the size of the cache to less than what was specified by the <code dir="ltr">DB_CACHE_SIZE</code> initialization parameter. This means that if the buffer cache was configured with only the minimal required SGA, then Data Pump operations may not work properly. A minimum size of 10 MB is recommended for <code dir="ltr">STREAMS_POOL_SIZE</code> to ensure successful Data Pump operations.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS" href="../e17069/toc.htm"><span class="italic">Oracle Streams Concepts and Administration</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1387">
<tr>
<td class="cellalignment1396">
<table class="cellalignment1392">
<tr>
<td class="cellalignment1391"><a href="dp_legacy.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1391"><a href="dp_api.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2018,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1398">
<table class="cellalignment1390">
<tr>
<td class="cellalignment1391"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1391"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1391"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1391"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1391"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1391"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
