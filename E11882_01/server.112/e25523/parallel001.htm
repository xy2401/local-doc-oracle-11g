<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Introduction to Parallel Execution</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 037" />
<meta name="dcterms.created" content="2011-09-27T4:11:53Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database VLDB and Partitioning Guide" />
<meta name="dcterms.identifier" content="E25523-01" />
<meta name="dcterms.isVersionOf" content="VLDBG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="parallel.htm" title="Previous" type="text/html" />
<link rel="Next" href="parallel002.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e25523.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">18/27</span> <!-- End Header --><a id="CACEEBJJ"></a><a id="VLDBG1377"></a>
<div class="sect1">
<h1 class="sect1">Introduction to Parallel Execution</h1>
<p><a id="sthref818"></a>Parallel execution enables the application of multiple CPU and I/O resources to the execution of a single database operation. It dramatically reduces response time for data-intensive operations on large databases typically associated with a decision support system (DSS) and data warehouses. You can also implement parallel execution on an online transaction processing (OLTP) system for batch processing or schema maintenance operations such as index creation. Parallel execution is sometimes called parallelism. <a id="sthref819"></a>Parallelism is the idea of breaking down a task so that, instead of one process doing all of the work in a query, many processes do part of the work at the same time. An example of this is when four processes combine to calculate the total sales for a year, each process handles one quarter of the year instead of a single process handling all four quarters by itself. The improvement in performance can be quite significant. Parallel execution improves processing for:</p>
<ul>
<li>
<p>Queries requiring large table scans, joins, or partitioned index scans</p>
</li>
<li>
<p>Creation of large indexes</p>
</li>
<li>
<p>Creation of large tables (including materialized views)</p>
</li>
<li>
<p>Bulk insertions, updates, merges, and deletions</p>
</li>
</ul>
<p>You can also use parallel execution to access object types within Oracle Database. For example, you can use parallel execution to access large objects (LOBs).</p>
<p><a id="sthref820"></a><a id="sthref821"></a><a id="sthref822"></a>If the necessary parallel server processes are not available for parallel execution, a SQL statement is queued when the parallel degree policy is set to automatic. After the necessary resources become available, the SQL statement is dequeued and allowed to execute. The <a id="sthref823"></a><a id="sthref824"></a><a id="sthref825"></a>parallel statement queue operates as a first-in, first-out queue by default. If the query in front of the queue cannot be scheduled, none of the queries in the queue can be scheduled even if resources are available in the system to ensure that the query at the head of the queue has adequate resources. However, if you configure and set up a resource plan, then you can control the order in which parallel statements are dequeued and the number of parallel servers used by each workload or consumer group. For information, refer to <a href="parallel002.htm#BEIBHJJC">"Managing Parallel Statement Queuing with Resource Manager"</a>.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#i1012767">When to Implement Parallel Execution</a></p>
</li>
<li>
<p><a href="#BEIHDEBE">When Not to Implement Parallel Execution</a></p>
</li>
<li>
<p><a href="#BEICFFFD">Fundamental Hardware Requirements</a></p>
</li>
<li>
<p><a href="#CACGFHCC">Operations That Can Use Parallel Execution</a></p>
</li>
</ul>
<a id="i1012767"></a><a id="VLDBG1378"></a>
<div class="sect2">
<h2 class="sect2">When to Implement Parallel Execution</h2>
<p><a id="sthref826"></a>Parallel execution benefits systems with all of the following characteristics:</p>
<ul>
<li>
<p>S<a id="sthref827"></a>ymmetric multiprocessors (SMPs), clusters, or <a id="sthref828"></a>massively parallel systems</p>
</li>
<li>
<p>Sufficient <a id="sthref829"></a><a id="sthref830"></a>I/O <a id="sthref831"></a>bandwidth</p>
</li>
<li>
<p>Underutilized or intermittently used CPUs (for example, systems where <a id="sthref832"></a>CPU usage is typically less than 30%)</p>
</li>
<li>
<p>Sufficient memory to support additional memory-intensive processes, such as sorting, hashing, and I/O buffers</p>
</li>
</ul>
<p>If your system lacks any of these characteristics, parallel execution might not significantly improve performance. In fact, parallel execution may reduce system performance on overutilized systems or systems with small I/O bandwidth.</p>
<p>The benefits of parallel execution can be seen in DSS and data warehouse environments. OLTP systems can also benefit from parallel execution during batch processing and during schema maintenance operations such as creation of indexes. The average simple DML or <code>SELECT</code> statements that characterize OLTP applications would not experience any benefit from being executed in parallel.</p>
</div>
<!-- class="sect2" -->
<a id="BEIHDEBE"></a><a id="VLDBG1379"></a>
<div class="sect2">
<h2 class="sect2">When Not to Implement Parallel Execution</h2>
<p><a id="sthref833"></a><a id="sthref834"></a><a id="sthref835"></a><a id="sthref836"></a>Parallel execution is not typically useful for:</p>
<ul>
<li>
<p>Environments in which the typical query or transaction is very short (a few seconds or less).</p>
<p>This includes most online transaction systems. Parallel execution is not useful in these environments because there is a cost associated with coordinating the parallel execution servers; for short transactions, the cost of this coordination may outweigh the benefits of parallelism.</p>
</li>
<li>
<p>Environments in which the CPU, memory, or I/O resources are heavily utilized.</p>
<p>Parallel execution is designed to exploit additional available hardware resources; if no such resources are available, then parallel execution does not yield any benefits and indeed may be detrimental to performance.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BEICFFFD"></a><a id="VLDBG1380"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Fundamental Hardware Requirements</h2>
<p><a id="sthref837"></a>Parallel execution is designed to effectively use multiple CPUs and disks to answer queries quickly. It is very I/O intensive by nature. To achieve optimal performance, each component in the hardware configuration must be sized to sustain the same level of throughput: from the CPUs and the Host Bus Adapters (HBAs) in the compute nodes, to the switches, and on into the I/O subsystem, including the storage controllers and the physical disks. If the system is an Oracle Real Application Clusters (Oracle RAC) system, then the interconnection also has to be sized appropriately. The weakest link is going to limit the performance and scalability of operations in a configuration.</p>
<p>It is recommended to measure the maximum I/O performance a hardware configuration can achieve without Oracle database. This measurement can be used as a baseline for the future system performance evaluations. Remember, it is not possible for parallel execution to achieve better I/O throughput than the underlying hardware can sustain. Oracle Database provides a free calibration tool called Orion, which is designed to measure the I/O performance of a system by simulating Oracle I/O workloads. A parallel execution typically performs large random I/Os.</p>
</div>
<!-- class="sect2" -->
<a id="CACGFHCC"></a><a id="VLDBG1381"></a>
<div class="sect2">
<h2 class="sect2">Operations That Can Use Parallel Execution</h2>
<p><a id="sthref838"></a><a id="sthref839"></a>You can use parallel execution for any of the following:</p>
<ul>
<li>
<p>Access methods</p>
<p>Some examples are table scans, index fast full scans, and partitioned index range scans.</p>
</li>
<li>
<p>Join methods</p>
<p>Some examples are nested loop, sort merge, hash, and star transformation.</p>
</li>
<li>
<p>DDL statements</p>
<p>Some examples are <code>CREATE</code> <code>TABLE</code> <code>AS</code> <code>SELECT</code>, <code>CREATE</code> <code>INDEX</code>, <code>REBUILD</code> <code>INDEX</code>, <code>REBUILD</code> <code>INDEX</code> <code>PARTITION</code>, and <code>MOVE</code>/<code>SPLIT</code>/<code>COALESCE</code> <code>PARTITION</code>.</p>
<p>You can typically use parallel DDL where you use regular DDL. There are, however, some additional details to consider when designing your database. <a id="sthref840"></a><a id="sthref841"></a><a id="sthref842"></a><a id="sthref843"></a><a id="sthref844"></a>One important restriction is that parallel DDL cannot be used on tables with object or <code>LOB</code> columns.</p>
<p><a id="sthref845"></a><a id="sthref846"></a>All of these DDL operations can be performed in <code>NOLOGGING</code> mode for either parallel or serial execution.</p>
<p><a id="sthref847"></a><a id="sthref848"></a><a id="sthref849"></a>The <code>CREATE</code> <code>TABLE</code> statement for an index-organized table can be run with parallel execution either with or without an <code>AS</code> <code>SELECT</code> clause.</p>
<p>Different parallelism is used for different operations. Parallel <code>CREATE</code> (partitioned) <code>TABLE</code> <code>AS</code> <code>SELECT</code> and parallel <code>CREATE</code> (partitioned) <code>INDEX</code> statements run with a degree of parallelism (DOP) equal to the number of partitions.</p>
</li>
<li>
<p>DML statements</p>
<p>Some examples are <code>INSERT</code> <code>AS</code> <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code>, and <code>MERGE</code> operations.</p>
<p>Parallel DML (parallel insert, update, merge, and delete operations) uses parallel execution mechanisms to speed up or scale up large DML operations against large database tables and indexes. You can also use <code>INSERT</code> ... <code>SELECT</code> statements to insert rows into multiple tables as part of a single DML statement. You can ordinarily use parallel DML where you use regular DML.</p>
<p>Although data manipulation language usually includes queries, the term parallel DML refers only to inserts, updates, merges, and deletes done in parallel.</p>
</li>
<li>
<p>Parallel query</p>
<p>You can run queries and subqueries in parallel in <code>SELECT</code> statements, plus the query portions of DDL statements and DML statements (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, and <code>MERGE</code>). <a id="sthref850"></a><a id="sthref851"></a><a id="sthref852"></a><a id="sthref853"></a></p>
</li>
<li>
<p>Miscellaneous SQL operations</p>
<p>Some examples are <code>GROUP</code> <code>BY</code>, <code>NOT</code> <code>IN</code>, <code>SELECT</code> <code>DISTINCT</code>, <code>UNION</code>, <code>UNION</code> <code>ALL</code>, <code>CUBE</code>, and <code>ROLLUP</code>, plus aggregate and table functions.</p>
</li>
<li>
<p>SQL*Loader</p>
<p>You can use SQL<a id="sthref854"></a><a id="sthref855"></a>*Loader in parallel execution where large amounts of data are routinely encountered. To speed up your load operations, you can use a parallel direct-path load as in the following example:</p>
<pre>
sqlldr CONTROL=LOAD1.CTL DIRECT=TRUE PARALLEL=TRUE
sqlldr CONTROL=LOAD2.CTL DIRECT=TRUE PARALLEL=TRUE
sqlldr CONTROL=LOAD3.CTL DIRECT=TRUE PARALLEL=TRUE
</pre>
<p>You provide your user Id and password on the command line. You can also use a parameter file to achieve the same result.</p>
<p>An important point to remember is that indexes are not maintained during a parallel load.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1828">
<tr>
<td class="cellalignment1837">
<table class="cellalignment1833">
<tr>
<td class="cellalignment1832"><a href="parallel.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1832"><a href="parallel002.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1840">
<table class="cellalignment1831">
<tr>
<td class="cellalignment1832"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1832"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1832"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1832"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1832"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1832"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
