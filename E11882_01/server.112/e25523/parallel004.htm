<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Initializing and Tuning Parameters for Parallel Execution</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 037" />
<meta name="dcterms.created" content="2011-09-27T4:11:54Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database VLDB and Partitioning Guide" />
<meta name="dcterms.identifier" content="E25523-01" />
<meta name="dcterms.isVersionOf" content="VLDBG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="parallel003.htm" title="Previous" type="text/html" />
<link rel="Next" href="parallel005.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e25523.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">21/27</span> <!-- End Header --><a id="i1007196"></a><a id="VLDBG0108"></a>
<div class="sect1">
<h1 class="sect1">Initializing and Tuning Parameters for Parallel Execution</h1>
<p><a id="sthref1107"></a><a id="sthref1108"></a>Oracle Database computes defaults for the parallel execution parameters based on the value at database startup of <code>CPU_COUNT</code> and <code>PARALLEL_THREADS_PER_CPU</code>. The parameters can also be manually tuned, increasing or decreasing their values to suit specific system configurations or performance goals. For example:</p>
<ul>
<li>
<p>On systems where parallel execution is never used, <code>PARALLEL_MAX_SERVERS</code> can be set to zero.</p>
</li>
<li>
<p>On large systems with abundant SGA memory, <code>PARALLEL_EXECUTION_MESSAGE_SIZE</code> can be increased to improve throughput.</p>
</li>
</ul>
<p>You can also manually tune parallel execution parameters. Parallel execution is enabled by default.</p>
<p>Initializing and tuning parallel execution involves the following steps:</p>
<ul>
<li>
<p><a href="#i1007254">Using Default Parameter Settings</a></p>
</li>
<li>
<p><a href="#i1007939">Forcing Parallel Execution for a Session</a></p>
</li>
</ul>
<a id="i1007254"></a><a id="VLDBG1478"></a>
<div class="sect2">
<h2 class="sect2">Using Default Parameter Settings</h2>
<p><a id="sthref1109"></a>By default, Oracle Database automatically sets parallel execution parameters, as shown in <a href="#i1014264">Table 8-3</a>.</p>
<div class="tblformalwidemax">
<p class="titleintable"><a id="VLDBG1479"></a><a id="sthref1110"></a><a id="sthref1111"></a>Table 8-3 <a id="i1014264"></a><span class="bolditalic">Parameters and Their Defaults</span></p>
<table class="cellalignment1835" title="Parameters and Their Defaults" summary="Parameters and Their Defaults" dir="ltr">
<thead>
<tr class="cellalignment1829">
<th class="cellalignment1836" id="r1c1-t14">Parameter</th>
<th class="cellalignment1836" id="r1c2-t14">Default</th>
<th class="cellalignment1836" id="r1c3-t14">Comments</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r2c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_ADAPTIVE_MULTI_USER</code></p>
</td>
<td class="cellalignment1837" headers="r2c1-t14 r1c2-t14">
<p><code>TRUE</code></p>
</td>
<td class="cellalignment1837" headers="r2c1-t14 r1c3-t14">
<p>Causes parallel execution SQL to throttle degree of parallelism (DOP) requests to prevent system overload.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r3c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_DEGREE_LIMIT</code></p>
</td>
<td class="cellalignment1837" headers="r3c1-t14 r1c2-t14">
<p><code>CPU_COUNT</code> X <code>PARALLEL_THREADS_PER_CPU</code> X number of instances available</p>
</td>
<td class="cellalignment1837" headers="r3c1-t14 r1c3-t14">
<p>Controls the maximum DOP a statement can have when automatic DOP is in use.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r4c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_DEGREE_POLICY</code></p>
</td>
<td class="cellalignment1837" headers="r4c1-t14 r1c2-t14">
<p><code>MANUAL</code></p>
</td>
<td class="cellalignment1837" headers="r4c1-t14 r1c3-t14">
<p>Controls whether auto DOP, parallel statement queuing and in-memory parallel execution are used. By default, all of these features are disabled.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r5c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_EXECUTION_MESSAGE_SIZE</code></p>
</td>
<td class="cellalignment1837" headers="r5c1-t14 r1c2-t14">
<p>16 KB</p>
</td>
<td class="cellalignment1837" headers="r5c1-t14 r1c3-t14">
<p>Specifies the size of the buffers used by the parallel execution servers to communicate among themselves and with the query coordinator. These buffers are allocated out of the shared pool.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r6c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_FORCE_LOCAL</code></p>
</td>
<td class="cellalignment1837" headers="r6c1-t14 r1c2-t14">
<p><code>FALSE</code></p>
</td>
<td class="cellalignment1837" headers="r6c1-t14 r1c3-t14">
<p>Restricts parallel execution to the current Oracle RAC instance.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r7c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_MAX_SERVERS</code></p>
</td>
<td class="cellalignment1837" headers="r7c1-t14 r1c2-t14">
<p>See <a href="parallel005.htm#CIHHJFFC">"PARALLEL_MAX_SERVERS"</a>.</p>
</td>
<td class="cellalignment1837" headers="r7c1-t14 r1c3-t14">
<p>Specifies the maximum number of parallel execution processes and parallel recovery processes for an instance. As demand increases, Oracle Database increases the number of processes from the number created at instance startup up to this value.</p>
<p>If you set this parameter too low, some queries may not have a parallel execution process available to them during query processing. If you set it too high, memory resource shortages may occur during peak periods, which can degrade performance.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r8c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_MIN_SERVERS</code></p>
</td>
<td class="cellalignment1837" headers="r8c1-t14 r1c2-t14">
<p>0</p>
</td>
<td class="cellalignment1837" headers="r8c1-t14 r1c3-t14">
<p>Specifies the number of parallel execution processes to be started and reserved for parallel operations, when Oracle Database is started up. Increasing this setting can help balance the startup cost of a parallel statement, but requires greater memory usage as these parallel execution processes are not removed until the database is shut down.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r9c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_MIN_PERCENT</code></p>
</td>
<td class="cellalignment1837" headers="r9c1-t14 r1c2-t14">
<p>0</p>
</td>
<td class="cellalignment1837" headers="r9c1-t14 r1c3-t14">
<p>Specifies the minimum percentage of requested parallel execution processes required for parallel execution. With the default value of 0, a parallel statement executes serially if no parallel server processes are available.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r10c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_MIN_TIME_THRESHOLD</code></p>
</td>
<td class="cellalignment1837" headers="r10c1-t14 r1c2-t14">
<p>10 seconds</p>
</td>
<td class="cellalignment1837" headers="r10c1-t14 r1c3-t14">
<p>Specifies the execution time, as estimated by the optimizer, above which a statement is considered for automatic parallel query and automatic derivation of DOP.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r11c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_SERVERS_TARGET</code></p>
</td>
<td class="cellalignment1837" headers="r11c1-t14 r1c2-t14">
<p>See <a href="parallel005.htm#CIHJEGFI">"PARALLEL_SERVERS_TARGET"</a>.</p>
</td>
<td class="cellalignment1837" headers="r11c1-t14 r1c3-t14">
<p>Specifies the number of parallel execution server processes available to run queries before parallel statement queuing is used. Note that parallel statement queuing is only active if <code>PARALLEL_DEGREE_POLICY</code> is set to <code>AUTO</code>.</p>
</td>
</tr>
<tr class="cellalignment1829">
<td class="cellalignment1837" id="r12c1-t14" headers="r1c1-t14">
<p><code>PARALLEL_THREADS_PER_CPU</code></p>
</td>
<td class="cellalignment1837" headers="r12c1-t14 r1c2-t14">
<p>2</p>
</td>
<td class="cellalignment1837" headers="r12c1-t14 r1c3-t14">
<p>Describes the number of parallel execution processes or threads that a CPU can handle during parallel execution.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalwidemax" -->
<p>Note that you can set some parameters in such a way that Oracle Database is constrained. For example, if you set <code>PROCESSES</code> to 20, you are not be able to get 25 child processes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../e40402/toc.htm"><span class="italic">Oracle Database Reference</span></a> for more information about the initialization parameters</div>
</div>
<!-- class="sect2" -->
<a id="i1007939"></a><a id="VLDBG1480"></a>
<div class="sect2">
<h2 class="sect2">Forcing Parallel Execution for a Session</h2>
<p><a id="sthref1112"></a>If you are sure you want to execute in parallel and want to avoid setting the DOP for a table or modifying the queries involved, you can force parallelism with the following statement:</p>
<pre>
ALTER SESSION FORCE PARALLEL QUERY;
</pre>
<p>All subsequent queries are executed in parallel provided no restrictions are violated. You can also force DML and DDL statements. This clause overrides any parallel clause specified in subsequent statements in the session, but is overridden by a parallel hint.</p>
<p>In typical OLTP environments, for example, the tables are not set parallel, but nightly batch scripts may want to collect data from these tables in parallel. By setting the DOP in the session, the user avoids altering each table in parallel and then altering it back to serial when finished.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1828">
<tr>
<td class="cellalignment1837">
<table class="cellalignment1833">
<tr>
<td class="cellalignment1832"><a href="parallel003.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1832"><a href="parallel005.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2011,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1840">
<table class="cellalignment1831">
<tr>
<td class="cellalignment1832"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1832"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1832"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1832"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1832"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1832"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
