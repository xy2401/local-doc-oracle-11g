<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Physical Design in Data Warehouses</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 070" />
<meta name="dcterms.created" content="2013-07-04T23:23:15Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Data Warehousing Guide" />
<meta name="dcterms.identifier" content="E25554-02" />
<meta name="dcterms.isVersionOf" content="DWHSG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="part3.htm" title="Previous" type="text/html" />
<link rel="Next" href="hardware.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e25554.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/35</span> <!-- End Header --><a id="g1007265"></a><a id="DWHSG003"></a><a id="i1006417"></a>
<h1 class="chapter"><span class="secnum">3</span> Physical Design in Data Warehouses</h1>
<p>This chapter describes the physical design of a data warehousing environment, and includes the following topics:</p>
<ul>
<li>
<p><a href="#i1006189">Moving from Logical to Physical Design</a></p>
</li>
<li>
<p><a href="#i1006210">Physical Design</a></p>
</li>
</ul>
<a id="i1006189"></a><a id="DWHSG8111"></a>
<div class="sect1">
<h2 class="sect1">Moving from Logical to Physical Design</h2>
<p>Logical design is what <a id="sthref66"></a><a id="sthref67"></a>you draw with a pen and paper or design with Oracle Warehouse Builder or Oracle Designer before building your data warehouse. Physical design is the creation of the database with SQL statements.</p>
<p>During the physical <a id="sthref68"></a><a id="sthref69"></a><a id="sthref70"></a>design process, you convert the data gathered during the logical design phase into a description of the physical database structure. Physical design decisions are mainly driven by query performance and database maintenance aspects. For example, choosing a partitioning strategy that meets common query requirements enables Oracle Database to take advantage of partition pruning, a way of narrowing a search before performing it.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a href="parpart.htm#g1020112">Chapter 5, "Partitioning in Data Warehouses"</a> for further information regarding partitioning</p>
</li>
<li>
<p><a class="olink CNCPT" href="../e40540/toc.htm"><span class="italic">Oracle Database Concepts</span></a> for further conceptual material regarding all design matters</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i1006210"></a><a id="DWHSG8112"></a>
<div class="sect1">
<h2 class="sect1">Physical Design</h2>
<p>During the logical design phase, you defined a model for your data warehouse consisting of entities, attributes, and relationships. The entities are linked together using relationships. Attributes are used to describe the entities. Th<a id="sthref71"></a>e <a href="glossary.htm#i997210"><span class="xrefglossterm">unique identifier</span></a> (UID) distinguishes between one instance of an entity and another.</p>
<p><a href="#i1006221">Figure 3-1</a> illustrates a graphical way of distinguishing between logical and physical designs.</p>
<div class="figure">
<p class="titleinfigure"><a id="i1006221"></a><a id="DWHSG8113"></a>Figure 3-1 Logical Design Compared with Physical Design</p>
<img width="407" height="286" src="./dwhsg006.gif" alt="Description of Figure 3-1 follows" /><br />
<a id="sthref72" href="./img_text/dwhsg006.htm">Description of "Figure 3-1 Logical Design Compared with Physical Design"</a><br />
<br /></div>
<!-- class="figure" -->
<p>During the physical design process, you translate the expected schemas into actual database structures. At this time, you must map:</p>
<ul>
<li>
<p>Entities to tables</p>
</li>
<li>
<p>Relationships to foreign key constraints</p>
</li>
<li>
<p>Attributes to columns</p>
</li>
<li>
<p>Primary unique identifiers to primary key constraints</p>
</li>
<li>
<p>Unique identifiers to unique key constraints</p>
</li>
</ul>
<a id="DWHSG8114"></a>
<div class="sect2"><a id="sthref73"></a>
<h3 class="sect2">Physical Design Structures</h3>
<p>Once you have converted your logical <a id="sthref74"></a>design to a physical one, you must create some or all of the following structures:</p>
<ul>
<li>
<p><a href="#i1006265">Tablespaces</a></p>
</li>
<li>
<p><a href="#i1006277">Tables and Partitioned Tables</a></p>
</li>
<li>
<p><a href="#BJEBAIEH">Views</a></p>
</li>
<li>
<p><a href="#i1006500">Integrity Constraints</a></p>
</li>
<li>
<p><a href="#i1006352">Dimensions</a></p>
</li>
</ul>
<p>Some of these structures require disk space. Others exist only in the data dictionary. Additionally, the following structures may be created for performance improvement:</p>
<ul>
<li>
<p><a href="#i1006325">Indexes and Partitioned Indexes</a></p>
</li>
<li>
<p><a href="#i1006340">Materialized Views</a></p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="i1006265"></a><a id="DWHSG8115"></a>
<div class="sect2">
<h3 class="sect2">Tablespaces</h3>
<p>A tablespace consists of one or more datafiles, which are physical structures within the operating system you are using. A datafile is associated with only one tablespace. From a design perspective, tablespaces are containers for physical design structures.</p>
<p>Tablespaces need to be separated by differences. For example, tables should be separated from their indexes and small tables should be separated from large tables. Tablespaces should also represent logical business units if possible. Because a tablespace is the coarsest granularity for backup and recovery or the transportable tablespaces mechanism, the logical business design affects availability and maintenance operations.</p>
<p>You can now use <a id="sthref75"></a><a id="sthref76"></a>ultralarge data files, a significant improvement in very large databases.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="hardware.htm#g1007331">Chapter 4, "Hardware and I/O Considerations in Data Warehouses"</a> for information regarding tablespaces</div>
</div>
<!-- class="sect2" -->
<a id="i1006277"></a><a id="DWHSG8116"></a>
<div class="sect2">
<h3 class="sect2">Tables and Partitioned Tables</h3>
<p>Tables are the basic unit of data storage. They are the container for the expected amount of raw data in your data warehouse.</p>
<p>Using partitioned tables instead of nonpartitioned ones addresses the key problem of supporting very large data volumes by allowing you to divide them into smaller and more manageable pieces. The main design criterion for partitioning is manageability, though you also see performance benefits in most cases because of partition pruning or intelligent parallel processing. For example, you might choose a partitioning strategy based on a sales transaction date and a monthly granularity. If you have four years' worth of data, you can delete a month's data as it becomes older than four years with a single, fast DDL statement and load new data while only affecting 1/48th of the complete table. Business questions regarding the last quarter only affect three months, which is equivalent to three partitions, or 3/48ths of the total volume.</p>
<p>Partitioning large tables improves performance because each partitioned piece is more manageable. Typically, you partition based on transaction dates in a data warehouse. For example, each month, one month's worth of data can be assigned its own partition.</p>
<a id="DWHSG8117"></a>
<div class="sect3"><a id="sthref77"></a>
<h4 class="sect3">Table Compression</h4>
<p>You can save disk space<a id="sthref78"></a><a id="sthref79"></a>, increase memory efficiency, and improve query performance by compressing heap-organized tables. This often leads to better scalability and query performance. You can enable compression at the tablespace, table, or partition level. A typical type of heap-organized table you should consider for table compression is partitioned tables. Although compressed tables or partitions are updatable, there is some overhead in updating these tables, and high update activity may work against compression by causing some space to be wasted.</p>
<p>OLTP table compression is best suited for tables with significant update activity. Hybrid Columnar Compression, a feature of certain Oracle storage systems, utilizes a combination of both row and columnar methods for storing data. When data is loaded, groups of rows are stored in columnar format, with the values for a given column stored and compressed together. Storing column data together, with the same data type and similar characteristics, drastically increases the storage savings achieved from compression. Hybrid Columnar Compression provides multiple levels of compression and is best suited for tables or partitions with minimal update activity.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink VLDBG004" href="../../server.112/e25523/part_avail.htm#VLDBG004"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
</li>
<li>
<p><a href="refresh.htm#g1018554">Chapter 16, "Maintaining the Data Warehouse"</a></p>
</li>
<li>
<p><a class="olink ADMIN11630" href="../../server.112/e25494/tables.htm#ADMIN11630"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
</li>
<li>
<p><a class="olink CNCPT1132" href="../../server.112/e40540/tablecls.htm#CNCPT1132"><span class="italic">Oracle Database Concepts</span></a> for more information about Hybrid Columnar Compression</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BJEBAIEH"></a><a id="DWHSG8118"></a>
<div class="sect2">
<h3 class="sect2">Views</h3>
<p>A view is a tailored presentation of the data contained in one or more tables or other views. A view takes the output of a query and treats it as a table. Views do not require any space in the database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CNCPT" href="../e40540/toc.htm"><span class="italic">Oracle Database Concepts</span></a></div>
</div>
<!-- class="sect2" -->
<a id="i1006500"></a><a id="DWHSG8119"></a>
<div class="sect2">
<h3 class="sect2">Integrity Constraints</h3>
<p>Integrity constraints are used to enforce business rules associated with your database and to prevent having invalid information in the tables. Integrity constraints in data warehousing differ from constraints in OLTP environments. In OLTP environments, they primarily prevent the insertion of invalid data into a record, which is not a big problem in data warehousing environments because accuracy has already been guaranteed. In data warehousing environments, constraints are only used for query rewrite. <code>NOT</code> <code>NULL</code> constraints are particularly common in data warehouses. Under some specific circumstances, constraints need space in the database. These constraints are in the form of the underlying unique index.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="constra.htm#g1007841">Chapter 8, "Integrity Constraints"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006325"></a><a id="DWHSG8120"></a>
<div class="sect2">
<h3 class="sect2">Indexes and Partitioned Indexes</h3>
<p>Indexes are optional structures associated with tables or clusters. In addition to the classical B-tree indexes, bitmap indexes are very common in data warehousing environments. Bitmap indexes are optimized index structures for set-oriented operations. Additionally, they are necessary for some optimized data access methods such as star transformations.</p>
<p>Indexes are just like tables in that you can partition them, although the partitioning strategy is not dependent upon the table structure. Partitioning indexes makes it easier to manage the data warehouse during refresh and improves query performance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="indexes.htm#g1009447">Chapter 7, "Indexes"</a> and <a href="refresh.htm#g1018554">Chapter 16, "Maintaining the Data Warehouse"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006340"></a><a id="DWHSG8121"></a>
<div class="sect2">
<h3 class="sect2">Materialized Views</h3>
<p>Materialized views are query results that have been stored in advance so long-running calculations are not necessary when you actually execute your SQL statements. From a physical design point of view, materialized views resemble tables or partitioned tables and behave like indexes in that they are used transparently and improve performance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="basicmv.htm#g1028195">Chapter 9, "Basic Materialized Views"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006352"></a><a id="DWHSG8122"></a>
<div class="sect2">
<h3 class="sect2">Dimensions</h3>
<p>A dimension is a schema object that defines hierarchical relationships between columns or column sets. A hierarchical relationship is a functional dependency from one level of a hierarchy to the next one. A dimension is a container of logical relationships and does not require any space in the database. A typical dimension is city, state (or province), region, and country.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="dimen.htm#g1011059">Chapter 11, "Dimensions"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1371">
<tr>
<td class="cellalignment1378">
<table class="cellalignment1376">
<tr>
<td class="cellalignment1375"><a href="part3.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1375"><a href="hardware.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1380">
<table class="cellalignment1374">
<tr>
<td class="cellalignment1375"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1375"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1375"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1375"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1375"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1375"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
