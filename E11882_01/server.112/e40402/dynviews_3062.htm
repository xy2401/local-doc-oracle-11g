<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>V$SQL_WORKAREA_ACTIVE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1067" />
<meta name="dcterms.created" content="2015-08-14T13:20:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Reference" />
<meta name="dcterms.identifier" content="E40402-18" />
<meta name="dcterms.isVersionOf" content="REFRN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="dynviews_3061.htm" title="Previous" type="text/html" />
<link rel="Next" href="dynviews_3063.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40402.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">2074/2170</span> <!-- End Header --><a id="i1418978"></a>
<div id="REFRN30257" class="sect1">
<h1 class="sect1">V$SQL_WORKAREA_ACTIVE<a id="sthref3731"></a></h1>
<p><code dir="ltr">V$SQL_WORKAREA_ACTIVE</code> contains an instantaneous view of the work areas currently allocated by the system. You can join this view against <code dir="ltr">V$SQL_WORKAREA</code> on <code dir="ltr">WORKAREA_ADDRESS</code> to access the definition of that work area. If a work area spills to disk, then this view contains information for the temporary segment created on behalf of this work area.</p>
<p>The last three columns are included to enable joining <code dir="ltr">V$SQL_WORKAREA_ACTIVE</code> with <code dir="ltr">V$TEMPSEG_USAGE</code> to retrieve more information on this temporary segment.</p>
<p>You can use this view to answer the following:</p>
<ul>
<li>
<p>What are the top 10 largest work areas currently allocated in the system?</p>
</li>
<li>
<p>What percentage of memory is over-allocated (<code dir="ltr">EXPECTED_SIZE</code> <code dir="ltr">&lt;</code> <code dir="ltr">ACTUAL_MEM_USED</code>) and under-allocated (<code dir="ltr">EXPECTED_SIZE</code> <code dir="ltr">&gt;</code> <code dir="ltr">ACTUAL_MEM_USED</code>)?</p>
</li>
<li>
<p>What are the active work areas using more memory than what is expected by the memory manager?</p>
</li>
<li>
<p>What are the active work areas that have spilled to disk?</p>
</li>
</ul>
<div class="inftblinformalwidemax">
<table class="cellalignment1590" title="V$SQL_WORKAREA_ACTIVE view" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1581">
<th class="cellalignment1591" id="r1c1-t71">Column</th>
<th class="cellalignment1591" id="r1c2-t71">Datatype</th>
<th class="cellalignment1591" id="r1c3-t71">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r2c1-t71" headers="r1c1-t71"><code dir="ltr">SQL_HASH_VALUE</code></td>
<td class="cellalignment1587" headers="r2c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r2c1-t71 r1c3-t71">Hash value of the SQL statement that is currently being executed</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r3c1-t71" headers="r1c1-t71"><code dir="ltr">SQL_ID</code></td>
<td class="cellalignment1587" headers="r3c1-t71 r1c2-t71"><code dir="ltr">VARCHAR2(13)</code></td>
<td class="cellalignment1587" headers="r3c1-t71 r1c3-t71">SQL identifier of the SQL statement that is currently being executed</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r4c1-t71" headers="r1c1-t71"><code dir="ltr">SQL_EXEC_START</code></td>
<td class="cellalignment1587" headers="r4c1-t71 r1c2-t71"><code dir="ltr">DATE</code></td>
<td class="cellalignment1587" headers="r4c1-t71 r1c3-t71">Time when the execution of the SQL currently executed by this session started</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r5c1-t71" headers="r1c1-t71"><code dir="ltr">SQL_EXEC_ID</code></td>
<td class="cellalignment1587" headers="r5c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r5c1-t71 r1c3-t71">SQL execution identifier (see <code dir="ltr">V$SQL_MONITOR</code>)</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r6c1-t71" headers="r1c1-t71"><code dir="ltr">WORKAREA_ADDRESS</code></td>
<td class="cellalignment1587" headers="r6c1-t71 r1c2-t71"><code dir="ltr">RAW(4 | 8)</code></td>
<td class="cellalignment1587" headers="r6c1-t71 r1c3-t71">Address of the work area handle. This is the primary key for the view.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r7c1-t71" headers="r1c1-t71"><code dir="ltr">OPERATION_TYPE</code></td>
<td class="cellalignment1587" headers="r7c1-t71 r1c2-t71"><code dir="ltr">VARCHAR2(20)</code></td>
<td class="cellalignment1587" headers="r7c1-t71 r1c3-t71">Type of operation using the work area (<code dir="ltr">SORT</code>, <code dir="ltr">HASH JOIN</code>, <code dir="ltr">GROUP BY</code>, <code dir="ltr">BUFFERING</code>, <code dir="ltr">BITMAP MERGE</code>, or <code dir="ltr">BITMAP CREATE</code>)</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r8c1-t71" headers="r1c1-t71"><code dir="ltr">OPERATION_ID</code></td>
<td class="cellalignment1587" headers="r8c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r8c1-t71 r1c3-t71">A unique number used to identify the operation in the execution plan. This identifier can be joined to <code dir="ltr">V$SQL_PLAN</code> to locate the operation that uses this work area.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r9c1-t71" headers="r1c1-t71"><code dir="ltr">POLICY</code></td>
<td class="cellalignment1587" headers="r9c1-t71 r1c2-t71"><code dir="ltr">VARCHAR2(6)</code></td>
<td class="cellalignment1587" headers="r9c1-t71 r1c3-t71">Sizing policy for this work area (<code dir="ltr">MANUAL</code> or <code dir="ltr">AUTO</code>)</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r10c1-t71" headers="r1c1-t71"><code dir="ltr">SID</code></td>
<td class="cellalignment1587" headers="r10c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r10c1-t71 r1c3-t71">Session identifier</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r11c1-t71" headers="r1c1-t71"><code dir="ltr">QCINST_ID</code></td>
<td class="cellalignment1587" headers="r11c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r11c1-t71 r1c3-t71">Query coordinator instance identifier. Along with <code dir="ltr">QCSID</code>, enables you to uniquely identify the query coordinator.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r12c1-t71" headers="r1c1-t71"><code dir="ltr">QCSID</code></td>
<td class="cellalignment1587" headers="r12c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r12c1-t71 r1c3-t71">Query coordinator session identifier. This is the same as the SID if the work area is allocated by a serial cursor.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r13c1-t71" headers="r1c1-t71"><code dir="ltr">ACTIVE_TIME</code></td>
<td class="cellalignment1587" headers="r13c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r13c1-t71 r1c3-t71">Average time this work area is active (in microseconds)</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r14c1-t71" headers="r1c1-t71"><code dir="ltr">WORK_AREA_SIZE</code></td>
<td class="cellalignment1587" headers="r14c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r14c1-t71 r1c3-t71">Maximum size (in bytes) of the work area as it is currently used by the operation</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r15c1-t71" headers="r1c1-t71"><code dir="ltr">EXPECTED_SIZE</code></td>
<td class="cellalignment1587" headers="r15c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r15c1-t71 r1c3-t71">Expected size (in bytes) for this work area. <code dir="ltr">EXPECTED_SIZE</code> is set on behalf of the operation by the memory manager. Memory can be over-allocated when <code dir="ltr">WORK_AREA_SIZE</code> has a higher value than <code dir="ltr">EXPECTED_SIZE</code>. This can occur when the operation using this work area takes a long time to resize it.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r16c1-t71" headers="r1c1-t71"><code dir="ltr">ACTUAL_MEM_USED</code></td>
<td class="cellalignment1587" headers="r16c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r16c1-t71 r1c3-t71">Amount of PGA memory (in bytes) currently allocated on behalf of this work area. This value should range between <code dir="ltr">0</code> and <code dir="ltr">WORK_AREA_SIZE</code>.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r17c1-t71" headers="r1c1-t71"><code dir="ltr">MAX_MEM_USED</code></td>
<td class="cellalignment1587" headers="r17c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r17c1-t71 r1c3-t71">Maximum memory amount (in bytes) used by this work area</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r18c1-t71" headers="r1c1-t71"><code dir="ltr">NUMBER_PASSES</code></td>
<td class="cellalignment1587" headers="r18c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r18c1-t71 r1c3-t71">Number of passes corresponding to this work area (<code dir="ltr">0</code> if running in <code dir="ltr">OPTIMAL</code> mode)</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r19c1-t71" headers="r1c1-t71"><code dir="ltr">TEMPSEG_SIZE</code></td>
<td class="cellalignment1587" headers="r19c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r19c1-t71 r1c3-t71">Size (in bytes) of the temporary segment used on behalf of this work area. This column is NULL if this work area has not (yet) spilled to disk.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r20c1-t71" headers="r1c1-t71"><code dir="ltr">TABLESPACE</code></td>
<td class="cellalignment1587" headers="r20c1-t71 r1c2-t71"><code dir="ltr">VARCHAR2(30)</code></td>
<td class="cellalignment1587" headers="r20c1-t71 r1c3-t71">Tablespace name for the temporary segment created on behalf of this work area. This column is NULL if this work area has not (yet) spilled to disk.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r21c1-t71" headers="r1c1-t71"><code dir="ltr">SEGRFNO#</code></td>
<td class="cellalignment1587" headers="r21c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r21c1-t71 r1c3-t71">Relative file number within the tablespace for the temporary segment created on behalf of this work area. This column is NULL if this work area has not (yet) spilled to disk.</td>
</tr>
<tr class="cellalignment1581">
<td class="cellalignment1587" id="r22c1-t71" headers="r1c1-t71"><code dir="ltr">SEGBLK#</code></td>
<td class="cellalignment1587" headers="r22c1-t71 r1c2-t71"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment1587" headers="r22c1-t71 r1c3-t71">Block number for the temporary segment created on behalf of this work area. This column is NULL if this work area has not (yet) spilled to disk.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformalwidemax" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF" href="../e41573/toc.htm"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information on how to monitor SQL work areas</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1580">
<tr>
<td class="cellalignment1587">
<table class="cellalignment1585">
<tr>
<td class="cellalignment1584"><a href="dynviews_3061.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1584"><a href="dynviews_3063.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1589">
<table class="cellalignment1583">
<tr>
<td class="cellalignment1584"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1584"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1584"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1584"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1584"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1584"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
