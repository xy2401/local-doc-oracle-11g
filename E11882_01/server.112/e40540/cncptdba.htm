<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Concepts for Database Administrators</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="dcterms.created" content="2015-05-25T13:34:6Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Concepts" />
<meta name="dcterms.identifier" content="E40540-04" />
<meta name="dcterms.isVersionOf" content="CNCPT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="cmntopc.htm" title="Previous" type="text/html" />
<link rel="Next" href="cncptdev.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40540.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">27/30</span> <!-- End Header -->
<div id="CNCPT827" class="chapter"><a id="CHDHCJJG"></a>
<h1 class="chapter"><span class="secnum">18</span> Concepts for Database Administrators</h1>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#CHDIIHJI">Duties of Database Administrators</a></p>
</li>
<li>
<p><a href="#CHDFEAEB">Tools for Database Administrators</a></p>
</li>
<li>
<p><a href="#CHDJJACD">Topics for Database Administrators</a></p>
</li>
</ul>
<a id="CHDIIHJI"></a>
<div id="CNCPT828" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Duties of Database Administrators</h2>
<p>The principal responsibility of a database administrator (DBA) is to make enterprise data available to its users. DBAs must work closely with the developers to ensure that their applications make efficient use of the database, and with system administrators to ensure that physical resources are adequate and used efficiently.</p>
<p>Oracle DBAs are responsible for understanding the Oracle Database architecture and how the database works. DBAs can expect to perform the following tasks:</p>
<ul>
<li>
<p>Installing, upgrading, and patching Oracle Database software</p>
</li>
<li>
<p>Designing databases, including identifying requirements, creating the logical design (conceptual model), and physical database design</p>
</li>
<li>
<p>Creating Oracle databases</p>
</li>
<li>
<p>Developing and testing a backup and recovery strategy, backing up Oracle databases regularly, and recovering them in case of failures</p>
</li>
<li>
<p>Configuring the network environment to enable clients to connect to databases</p>
</li>
<li>
<p>Starting up and shutting down the database</p>
</li>
<li>
<p>Managing storage for the database</p>
</li>
<li>
<p>Managing users and security</p>
</li>
<li>
<p>Managing database objects such as tables, indexes, and views</p>
</li>
<li>
<p>Monitoring and tuning database performance</p>
</li>
<li>
<p>Investigating, gathering diagnostic data for, and reporting to Oracle Support Services any critical database errors</p>
</li>
<li>
<p>Evaluating and testing new database features</p>
</li>
</ul>
<p>The preceding tasks, and many others, are described in <a class="olink ADMQS037" href="../../server.112/e10897/em_manage.htm#ADMQS037"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink ADMIN11020" href="../../server.112/e25494/dba.htm#ADMIN11020"><span class="italic">Oracle Database Administrator's Guide</span></a>.</p>
<p>The types of users and their roles and responsibilities depend on the database environment. A small database may have one DBA. A very large database may divide the DBA duties among several specialists, for example, security officers, backup operators, and application administrators.</p>
</div>
<!-- class="sect1" -->
<a id="CHDFEAEB"></a>
<div id="CNCPT829" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Tools for Database Administrators</h2>
<p>Oracle provides several tools for use in administering a database. This section describes some commonly used tools:</p>
<ul>
<li>
<p><a href="#CHDHBAAI">Oracle Enterprise Manager</a></p>
</li>
<li>
<p><a href="#CHDICGDG">SQL*Plus</a></p>
</li>
<li>
<p><a href="#CHDIJHGG">Tools for Database Installation and Configuration</a></p>
</li>
<li>
<p><a href="#CHDGFGFC">Tools for Oracle Net Configuration and Administration</a></p>
</li>
<li>
<p><a href="#CHDBFDCB">Tools for Data Movement and Analysis</a></p>
</li>
</ul>
<a id="CHDHBAAI"></a>
<div id="CNCPT830" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Oracle Enterprise Manager</h3>
<p><span class="bold">Oracle Enterprise Manager (Enterprise Manager)</span> is a system management tool that provides centralized management of a database environment. Combining a graphical console, Oracle Management Servers, Oracle Intelligent Agents, common services, and administrative tools, Enterprise Manager provides a comprehensive systems management platform for Oracle products.</p>
<p>The Web-based <span class="bold">Enterprise Manager Database Control (Database Control)</span> is the primary tool for managing an Oracle database. It is installed with Oracle Database. You can use Database Control to perform administrative tasks such as:</p>
<ul>
<li>
<p>Diagnosing, modifying, and tuning the database</p>
</li>
<li>
<p>Grouping related targets together to facilitate administration tasks, sharing tasks with other administrators, and scheduling tasks at varying time intervals</p>
</li>
<li>
<p>Configuring and managing Oracle Net Services for an <a href="glossary.htm#CHDDDBFG"><span class="xrefglossterm">Oracle home</span></a> (see <a href="dist_pro.htm#i7918">"Overview of Oracle Networking Architecture"</a>)</p>
</li>
<li>
<p>Launching integrated Oracle and third-party tools</p>
</li>
</ul>
<p>The following figure shows the Database Home page of Database Control. The subpage links across the top of the page enable you to access performance, availability, and other database administration pages. The subsections of the Database Home page provide information about the environment and status of the database.</p>
<img width="927" height="746" src="img/homepage_small.gif" alt="Description of homepage_small.gif follows" /><br />
<a id="sthref2115" href="img_text/homepage_small.htm">Description of the illustration homepage_small.gif</a><br />
<br />
<p>The following figure shows the basic architecture of Enterprise Manager. The management repository is stored inside the database. Both the agent and the management service run on the database host. You can run the Database Control Console from any Web browser that can connect securely to the management service.</p>
<img width="435" height="366" src="img/cncpt305.gif" alt="Description of cncpt305.gif follows" /><br />
<a id="sthref2116" href="img_text/cncpt305.htm">Description of the illustration cncpt305.gif</a><br />
<br />
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS031" href="../../server.112/e10897/em_manage.htm#ADMQS031"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to administer the database with Enterprise Manager</div>
</div>
<!-- class="sect2" -->
<a id="CHDICGDG"></a>
<div id="CNCPT831" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">SQL*Plus</h3>
<p><span class="bold">SQL*Plus</span> is an interactive and batch query tool included in every Oracle Database installation. It has a command-line user interface that acts as the client when connecting to the database.</p>
<p>SQL*Plus has its own commands and environment. It enables you to enter and execute SQL, PL/SQL, SQL*Plus and operating system commands to perform tasks such as:</p>
<ul>
<li>
<p>Formatting, performing calculations on, storing, and printing from query results</p>
</li>
<li>
<p>Examining table and object definitions</p>
</li>
<li>
<p>Developing and running batch scripts</p>
</li>
<li>
<p>Administering a database</p>
</li>
</ul>
<p>You can use SQL*Plus to generate reports interactively, to generate reports as batch processes, and to output the results to text file, to screen, or to HTML file for browsing on the Internet. You can generate reports dynamically using the HTML output facility.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS12312" href="../../server.112/e10897/em_manage.htm#ADMQS12312"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink SQPUG002" href="../../server.112/e16604/qstart.htm#SQPUG002"><span class="italic">SQL*Plus User's Guide and Reference</span></a> to learn more about SQL*Plus</div>
</div>
<!-- class="sect2" -->
<a id="CHDIJHGG"></a>
<div id="CNCPT832" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Tools for Database Installation and Configuration</h3>
<p>Oracle provides several tools to simplify the task of installing and configuring Oracle Database software. The tools include:</p>
<ul>
<li>
<p>Oracle Universal Installer (OUI)</p>
<p>OUI is a GUI utility that enables you to view, install, and deinstall Oracle Database software. Online Help is available to guide you through the installation. See <a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> to learn how to install Oracle Database software.</p>
</li>
<li>
<p>Database Upgrade Assistant (DBUA)</p>
<p>DBUA interactively guides you through a database upgrade and configures the database for the new release. DBUA automates the upgrade by performing all tasks normally performed manually. DBUA makes recommendations for configuration options such as tablespaces and the <a href="glossary.htm#CBAIJCIB"><span class="xrefglossterm">online redo log</span></a>. See <a class="olink ADMQS024" href="../../server.112/e10897/software.htm#ADMQS024"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to upgrade a database with DBUA.</p>
</li>
<li>
<p>Database Configuration Assistant (DBCA)</p>
<p>DBCA provides a graphical interface and guided workflow for creating and configuring a database. This tool enables you to create a database from Oracle-supplied templates or create your own database and templates. See <a class="olink ADMIN12479" href="../../server.112/e25494/create.htm#ADMIN12479"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to create a database with DBCA.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDGFGFC"></a>
<div id="CNCPT64545" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Tools for Oracle Net Configuration and Administration</h3>
<p>Oracle Net Services provides enterprise wide connectivity solutions in distributed, heterogeneous computing environments. Oracle Net, a component of Oracle Net Services, enables a network session from a client application to an database. You can use the following tools to configure and administer Oracle Net Services:</p>
<ul>
<li>
<p>Oracle Net Manager</p>
<p>This tool enables you to configure Oracle Net Services for an Oracle home on a local client or server host. You can use Oracle Net Manager to configure naming, naming methods, profiles, and listeners. You can start Oracle Net Manager using the Oracle Enterprise Manager Console or as an independent application.</p>
</li>
<li>
<p>Oracle Net Configuration Assistant</p>
<p>This tools runs automatically during software installation. The Assistant enables you to configure basic network components during installation, including listener names and protocol addresses, naming methods, net service names in a <code dir="ltr">tnsnames.ora</code> file, and directory server usage.</p>
</li>
<li>
<p>Listener Control Utility</p>
<p>The Listener Control utility enables you to configure listeners to receive client connections (see <a href="dist_pro.htm#BHCFJAJE">"The Oracle Net Listener"</a>). You can access the utility through Enterprise Manager or as a standalone command-line application.</p>
</li>
<li>
<p>Oracle Connection Manager Control Utility</p>
<p>This command-line utility enables you to administer an <span class="bold">Oracle Connection Manager</span>, which is a router through which a client connection request may be sent either to its next hop or directly to the database. You can use utility commands to perform basic management functions on one or more Oracle Connection Managers. Additionally, you can view and change parameter settings.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="dist_pro.htm#i7918">"Overview of Oracle Networking Architecture"</a></p>
</li>
<li>
<p><a class="olink NETAG005" href="../../network.112/e41945/admintools.htm#NETAG005"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> and <a class="olink NETRF" href="../../network.112/e10835/toc.htm"><span class="italic">Oracle Database Net Services Reference</span></a> to learn more about Oracle Net Services tools</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDBFDCB"></a>
<div id="CNCPT1276" class="sect2">
<h3 class="sect2">Tools for Data Movement and Analysis</h3>
<p>Oracle Database includes several utilities to assist in database movement and analysis. For example, you can use database utilities to:</p>
<ul>
<li>
<p>Load data into Oracle Database tables from operating system files, as explained in <a href="#CHDGHBBF">"SQL*Loader"</a></p>
</li>
<li>
<p>Move data and metadata from one database to another database, as explained in <a href="#CHDDDDBJ">"Oracle Data Pump Export and Import"</a></p>
</li>
<li>
<p>Query redo log files through a SQL interface, as explained in <a href="#CHDGDICA">"Oracle LogMiner"</a></p>
</li>
<li>
<p>Manage Oracle Database diagnostic data, as explained in <a href="#CHDGCAGD">"ADR Command Interpreter (ADRCI)"</a></p>
</li>
</ul>
<p>Other tasks include performing physical data structure integrity checks on an offline database or data file with DBVERIFY, or changing the database identifier (DBID) or database name for an operational database using the DBNEWID utility.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Tools related to backup and recovery are covered in <a href="#CHDFHDCG">"Backup and Recovery"</a>.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL013" href="../../server.112/e22490/dbverify.htm#SUTIL013"><span class="italic">Oracle Database Utilities</span></a> to learn about DBVERIFY and DBNEWID</div>
<a id="CHDGHBBF"></a>
<div id="CNCPT1282" class="sect3">
<h4 class="sect3">SQL*Loader</h4>
<p><span class="bold">SQL*Loader</span> loads data from external files, called <span class="bold">data files</span>, into database tables. It has a powerful data parsing engine that puts little limitation on the format of the data in the data file. You can use SQL*Loader to perform tasks such as:</p>
<ul>
<li>
<p>Loading data from multiple data files into multiple tables</p>
<p>You store the data to be loaded in SQL*Loader data files. The SQL*Loader control file is a text file that contains <a href="glossary.htm#CHDFBCII"><span class="xrefglossterm">DDL</span></a> instructions that SQL*Loader uses to determine where to find the data, how to parse and interpret it, where to insert it, and more.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SQL*Loader data files and control file are unrelated to the Oracle Database <a href="glossary.htm#CHDHJCCC"><span class="xrefglossterm">data files</span></a> and <a href="glossary.htm#CHDDFGEC"><span class="xrefglossterm">control file</span></a>.</div>
</li>
<li>
<p>Control various aspects of the load operation</p>
<p>For example, you can selectively load data, specify the data character set (see <a href="cncptdev.htm#CHDHHEDD">"Character Sets"</a>), manipulate the data with SQL functions, generate unique sequential key values in specified columns, and so on. You can also generate sophisticated error reports.</p>
</li>
<li>
<p>Use either conventional or direct path loading</p>
<p>A <span class="bold">conventional path load</span> executes SQL <code dir="ltr">INSERT</code> statements to populate tables. In contrast, a <span class="bold">direct path load</span> eliminates much of the database overhead by formatting data blocks and writing them directly to the database files. Direct writes operate on blocks above the <a href="glossary.htm#CHDHDJAE"><span class="xrefglossterm">high water mark</span></a> and write directly to disk, bypassing the <a href="glossary.htm#BGBHGEDC"><span class="xrefglossterm">database buffer cache</span></a>. Direct reads read directly from disk into the <a href="glossary.htm#CHDECHFD"><span class="xrefglossterm">PGA</span></a>, again bypassing the buffer cache.</p>
</li>
</ul>
<p>A typical SQL*Loader session takes as input a SQL*Loader control file and one or more data files. The output is an Oracle database, a log file, a bad file, and potentially, a discard file. <a href="#CHDBAGAG">Figure 18-1</a> illustrates the flow of a typical SQL*Loader session.</p>
<div id="CNCPT89112" class="figure">
<p class="titleinfigure"><a id="CHDBAGAG"></a>Figure 18-1 SQL*Loader Session</p>
<img width="438" height="320" src="img/cncpt271.gif" alt="Description of Figure 18-1 follows" /><br />
<a id="sthref2117" href="img_text/cncpt271.htm">Description of "Figure 18-1 SQL*Loader Session"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS0826" href="../../server.112/e10897/schema.htm#ADMQS0826"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink SUTIL003" href="../../server.112/e22490/ldr_concepts.htm#SUTIL003"><span class="italic">Oracle Database Utilities</span></a> to learn about SQL*Loader</div>
</div>
<!-- class="sect3" -->
<a id="CHDDDDBJ"></a>
<div id="CNCPT1277" class="sect3">
<h4 class="sect3">Oracle Data Pump Export and Import</h4>
<p><span class="bold">Oracle Data Pump</span> enables high-speed movement of data and metadata from one database to another. This technology is the basis for the following Oracle Database data movement utilities:</p>
<ul>
<li>
<p>Data Pump Export (Export)</p>
<p>Export is a utility for unloading data and metadata into a set of operating system files called a <span class="bold">dump file set</span>. The dump file set<a id="sthref2118"></a> is made up of one or more binary files that contain table data, database object metadata, and control information.</p>
</li>
<li>
<p>Data Pump Import (Import)</p>
<p>Import is a utility for loading an export dump file set into a database. You can also use Import to load a destination database directly from a source database with no intervening files, which allows export and import operations to run concurrently, minimizing total elapsed time.</p>
</li>
</ul>
<p>Oracle Data Pump is made up of the following distinct parts:</p>
<ul>
<li>
<p>The command-line clients <code dir="ltr">expdp</code> and <code dir="ltr">impdp</code></p>
<p>These client make calls to the <code dir="ltr">DBMS_DATAPUMP</code> package to perform Oracle Data Pump operations (see <a href="srvrside.htm#i18829">"PL/SQL Packages"</a>).</p>
</li>
<li>
<p>The <code dir="ltr">DBMS_DATAPUMP</code> PL/SQL package, also known as the <a id="sthref2119"></a><span class="bold">Data Pump API</span></p>
<p>This API provides high-speed import and export functionality.</p>
</li>
<li>
<p>The <code dir="ltr">DBMS_METADATA</code> PL/SQL package, also known as the <span class="bold">Metadata API</span></p>
<p>This API, which stores object definitions in XML, is used by all processes that load and unload metadata.</p>
</li>
</ul>
<p><a href="#CHDIBCJD">Figure 18-2</a> shows how Oracle Data Pump integrates with SQL*Loader and external tables. As shown, SQL*Loader is integrated with the External Table API and the Data Pump API to load data into <a href="glossary.htm#CHDBIGHA"><span class="xrefglossterm">external tables</span></a> (see <a href="tablecls.htm#CBBBCHFC">"External Tables"</a>). Clients such as Database Control and <a href="glossary.htm#CHDIIEAC"><span class="xrefglossterm">transportable tablespaces</span></a> can use the Oracle Data Pump infrastructure.</p>
<div id="CNCPT89113" class="figure">
<p class="titleinfigure"><a id="CHDIBCJD"></a>Figure 18-2 Oracle Data Pump Architecture</p>
<img width="641" height="426" src="img/cncpt261.gif" alt="Description of Figure 18-2 follows" /><br />
<a id="sthref2120" href="img_text/cncpt261.htm">Description of "Figure 18-2 Oracle Data Pump Architecture"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a class="olink SUTIL100" href="../../server.112/e22490/dp_overview.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for an overview of Oracle Data Pump</p>
</li>
<li>
<p><a class="olink ARPLS356" href="../../appdev.112/e40758/d_datpmp.htm#ARPLS356"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a description of <code dir="ltr">DBMS_DATAPUMP</code> and <code dir="ltr">DBMS_METADATA</code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CHDGDICA"></a>
<div id="CNCPT1284" class="sect3">
<h4 class="sect3">Oracle LogMiner</h4>
<p><span class="bold">Oracle LogMiner</span> enables you to query redo log files through a SQL interface. Potential uses for data contained in redo log files include:</p>
<ul>
<li>
<p>Pinpointing when a logical corruption to a database, such as errors made at the application level, may have begun</p>
</li>
<li>
<p>Detecting user error</p>
</li>
<li>
<p>Determining what actions you would have to take to perform fine-grained recovery at the <a href="glossary.htm#CHDBEFGD"><span class="xrefglossterm">transaction</span></a> level</p>
</li>
<li>
<p>Using trend analysis to determine which tables get the most updates and inserts</p>
</li>
<li>
<p>Analyzing system behavior and auditing database use through the LogMiner comprehensive relational interface to redo log files</p>
</li>
</ul>
<p>LogMiner is accessible through a command-line interface or through the Oracle LogMiner Viewer GUI, which is a part of Enterprise Manager.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL1553" href="../../server.112/e22490/logminer.htm#SUTIL1553"><span class="italic">Oracle Database Utilities</span></a> to learn more about LogMiner</div>
</div>
<!-- class="sect3" -->
<a id="CHDGCAGD"></a>
<div id="CNCPT1287" class="sect3">
<h4 class="sect3">ADR Command Interpreter (ADRCI)</h4>
<p><span class="bold">ADRCI</span> is a command-line utility that enables you to investigate problems, view health check reports, and package and upload first-failure diagnostic data to Oracle Support. You can also use the utility to view the names of the trace files in the <a href="glossary.htm#CBABGDBC"><span class="xrefglossterm">Automatic Diagnostic Repository (ADR)</span></a> (ADR) and to view the <a href="glossary.htm#CHDCEFCF"><span class="xrefglossterm">alert log</span></a>. ADRCI has a rich command set that you can use interactively or in scripts.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="startup.htm#BABBGCFC">"Automatic Diagnostic Repository"</a></p>
</li>
<li>
<p><a class="olink SUTIL700" href="../../server.112/e22490/adrci.htm#SUTIL700"><span class="italic">Oracle Database Utilities</span></a> and <a class="olink ADMIN11257" href="../../server.112/e25494/diag.htm#ADMIN11257"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on ADR and ADRCI</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDJJACD"></a>
<div id="CNCPT834" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Topics for Database Administrators</h2>
<p><a href="cmntopc.htm#BABICDJI">Chapter 17</a> describes topics important for both developers and DBAs. This section covers topics that are most essential to DBAs and that have not been discussed elsewhere in the manual.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDFHDCG">Backup and Recovery</a></p>
</li>
<li>
<p><a href="#CHDDHBDD">Memory Management</a></p>
</li>
<li>
<p><a href="#CHDFHFIC">Resource Management and Task Scheduling</a></p>
</li>
<li>
<p><a href="#CHDEECCE">Performance Diagnostics and Tuning</a></p>
</li>
</ul>
<a id="CHDFHDCG"></a>
<div id="CNCPT031" class="sect2">
<h3 class="sect2">Backup and Recovery</h3>
<p><span class="bold">Backup and recovery</span> is the set of concepts, procedures, and strategies involved in protecting the database against data loss caused by media failure or users errors. In general, the purpose of a backup and recovery strategy is to protect the database against data loss and reconstruct lost data.</p>
<p>A <span class="bold">backup</span> is a copy of data. A backup can include crucial parts of the database such as data files, the <a href="glossary.htm#CBADAFDF"><span class="xrefglossterm">server parameter file</span></a>, and control file. A sample backup and recovery scenario is a failed disk drive that causes the loss of a data file. If a backup of the lost file exists, then you can restore and recover it. <span class="bold">Media recovery</span> refers to the operations involved in restoring data to its state before the loss occurred.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS009" href="../../server.112/e10897/backrest.htm#ADMQS009"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink BRADV8001" href="../../backup.112/e10642/rcmintro.htm#BRADV8001"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for backup and recovery concepts and tasks</div>
<div id="CNCPT835" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref2121"></a>
<h4 class="sect3">Backup and Recovery Techniques</h4>
<p>You can use the following means to back up and recover an Oracle database:</p>
<ul>
<li>
<p><a href="glossary.htm#BGBCHGCA"><span class="xrefglossterm">Recovery Manager (RMAN)</span></a></p>
<p>RMAN is an Oracle Database utility that integrates with an Oracle database to perform backup and recovery activities, including maintaining a repository of historical backup metadata in the control file of every database that it backs up. RMAN can also maintain a centralized backup repository called a <span class="bold">recovery catalog</span> in a different database. RMAN is an Oracle Database feature and does not require separate installation.</p>
<p>RMAN is integrated with <span class="bold">Oracle Secure Backup</span>, which provides reliable, centralized tape backup management, protecting file system data and Oracle Database files. The Oracle Secure Backup SBT interface enables you to use RMAN to back up and restore database files to and from tape and internet-based Web Services such as Amazon S3. Oracle Secure Backup supports almost every tape drive and tape library in SAN and SCSI environments.</p>
<p>RMAN and Oracle Secure Backup are accessible both from the command line and from Enterprise Manager.</p>
</li>
<li>
<p>User-Managed techniques</p>
<p>As an alternative to RMAN, you can use operating system commands such as the Linux <code dir="ltr">dd</code> for backing up and restoring files and the SQL*Plus <code dir="ltr">RECOVER</code> command for media recovery. User-managed backup and recovery is fully supported by Oracle, although RMAN is recommended because it is integrated with Oracle Database and simplifies administration.</p>
</li>
</ul>
<p><a href="#CHDGEFAH">Figure 18-3</a> shows basic RMAN architecture. The RMAN client, accessible through Enterprise Manager, uses server sessions on a target database to back up data to disk or tape. RMAN can update an external recovery catalog with backup metadata.</p>
<div id="CNCPT89114" class="figure">
<p class="titleinfigure"><a id="CHDGEFAH"></a>Figure 18-3 RMAN Architecture</p>
<img width="464" height="377" src="img/cncpt318.gif" alt="Description of Figure 18-3 follows" /><br />
<a id="sthref2122" href="img_text/cncpt318.htm">Description of "Figure 18-3 RMAN Architecture"</a><br />
<br /></div>
<!-- class="figure" -->
<p>Whichever backup and recovery technique you use, Oracle recommends that you configure a <a href="glossary.htm#CHDCACAI"><span class="xrefglossterm">fast recovery area</span></a>. This database-managed directory, file system, or <a href="glossary.htm#CHDDIFFG"><span class="xrefglossterm">Oracle ASM disk group</span></a> centralizes backup and recovery files, including active control files, online and <a href="glossary.htm#CHDCHIFH"><span class="xrefglossterm">archived redo log files</span></a>, and backups. Oracle Database recovery components interact with the fast recovery area to ensure database recoverability.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS0911" href="../../server.112/e10897/backrest.htm#ADMQS0911"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to perform backup and recovery with Enterprise Manager</p>
</li>
<li>
<p><a class="olink BRADV89341" href="../../backup.112/e10642/rcmintro.htm#BRADV89341"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for an overview of backup and recovery solutions</p>
</li>
<li>
<p><a class="olink ADMIN11103" href="../../server.112/e25494/create.htm#ADMIN11103"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about how to set up and administer the fast recovery area</p>
</li>
<li>
<p><a class="olink OBADM" href="http://www.oracle.com/pls/topic/lookup?ctx=db112&amp;id=OBADM"><span class="italic">Oracle Secure Backup Administrator's Guide</span></a> for an overview of Oracle Secure Backup</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="CNCPT1424" class="sect3"><a id="sthref2123"></a>
<h4 class="sect3">Database Backups</h4>
<p>Database backups can be either physical or logical. <span class="bold">Physical backups</span>, which are the primary concern in a backup and recovery strategy, are copies of physical database files. You can make physical backups with RMAN or operating system utilities.</p>
<p>In contrast, <span class="bold">logical backups</span> contain logical data such as tables and stored procedures. You can extract logical data with an Oracle Database utility such as Data Pump Export and store it in a binary file. Logical backups can supplement physical backups.</p>
<p>Physical backups have large granularity and limited transportability, but are very fast. Logical backups have fine granularity and complete transportability, but are slower than physical backups.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV89335" href="../../backup.112/e10642/rcmintro.htm#BRADV89335"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn about physical and logical backups</div>
<div id="CNCPT1426" class="sect4"><a id="sthref2124"></a>
<h5 class="sect4">Whole and Partial Database Backups</h5>
<p><a id="sthref2125"></a><a id="sthref2126"></a>A <span class="bold">whole database backup</span> is a backup of every data file in the database, plus the control file. Whole database backups are the most common type of backup.</p>
<p>A <span class="bold">partial database backup</span> includes a subset of the database: individual tablespaces or data files. A <span class="bold">tablespace backup</span> is a backup of all the data files in a tablespace or in multiple tablespaces. Tablespace backups, whether consistent or inconsistent, are valid only if the database is operating in <code dir="ltr">ARCHIVELOG</code> mode because redo is required to make the restored tablespace consistent with the rest of the database.</p>
</div>
<!-- class="sect4" -->
<div id="CNCPT1427" class="sect4"><a id="sthref2127"></a>
<h5 class="sect4">Consistent and Inconsistent Backups</h5>
<p>A whole database backup is either consistent or inconsistent. In a <span class="bold">consistent backup</span>, all read/write data files and control files have the same <a href="glossary.htm#CHDDBJEH"><span class="xrefglossterm">checkpoint</span></a> <a href="glossary.htm#CHDBFAEG"><span class="xrefglossterm">SCN</span></a>, guaranteeing that these files contain all changes up to this SCN. This type of backup does not require recovery after it is restored.</p>
<p>A consistent backup of the database is only possible after a consistent shutdown (see <a href="startup.htm#BABEEGJE">"Shutdown Modes"</a>) and is the only valid backup option for a database operating in <code dir="ltr">NOARCHIVELOG</code> mode. Other backup options require media recovery for consistency, which is not possible without applying archived redo log files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you restore a consistent whole database backup without applying redo, then you lose all transactions made after the backup.</div>
<p>In an <span class="bold">inconsistent backup</span>, read/write data files and control files are not guaranteed to have the same <a id="sthref2128"></a>checkpoint SCN, so changes can be missing. All online backups are necessarily inconsistent because data files can be modified while backups occur.</p>
<p>Inconsistent backups offer superior availability because you do not have to shut down the database to make backups that fully protect the database. If the database runs in <code dir="ltr">ARCHIVELOG</code> mode, and if you back up the archived redo logs and data files, then inconsistent backups can be the foundation for a sound backup and recovery strategy.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV89479" href="../../backup.112/e10642/rcmcncpt.htm#BRADV89479"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn more about inconsistent backups</div>
</div>
<!-- class="sect4" -->
<div id="CNCPT1430" class="sect4"><a id="sthref2129"></a>
<h5 class="sect4">Backup Sets and Image Copies</h5>
<p>The RMAN <code dir="ltr">BACKUP</code> command generates either <span class="bold">image copies</span> or <span class="bold">backup sets</span>. An image copy is a bit-for-bit, on-disk duplicate of a data file, control file, or archived redo log file. You can create image copies of physical files with operating system utilities or RMAN and use either tool to restore them.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
Unlike operating system copies, RMAN validates the blocks in the file and records the image copy in the RMAN repository.</div>
<p>RMAN can also create backups in a proprietary format called a <span class="bold">backup set</span>. A backup set contains the data from one or more data files, archived redo log files, or control files or server parameter file. The smallest unit of a backup set is a binary file called a <span class="bold">backup piece</span>. Backup sets are the only form in which RMAN can write backups to sequential devices such as tape drives.</p>
<p>Backup sets enable tape devices to stream continuously. For example, RMAN can mingle blocks from slow, medium, and fast disks into one backup set so that the tape device has a constant input of blocks. Image copies are useful for disk because you can update them incrementally, and also recover them in place.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV002" href="../../backup.112/e10642/rcmcncpt.htm#BRADV002"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn more about backup sets and image copies</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CHDDEAAG"></a>
<div id="CNCPT1437" class="sect3">
<h4 class="sect3">Data Repair</h4>
<p>While several problems can halt the normal operation of a database or affect I/O operations, only the following typically require DBA intervention and data repair:</p>
<ul>
<li>
<p>Media failures</p>
<p>A <span class="bold">media failure</span> occurs when a problem external to the database prevents it from reading from or writing to a file. Typical media failures include physical failures, such as head crashes, and the overwriting, deletion, or corruption of a database file. Media failures are less common than user or application errors, but a sound recovery strategy must prepare for them.</p>
</li>
<li>
<p>User errors</p>
<p>A user or application may make unwanted changes to your database, such as erroneous updates, deleting the contents of a table, or dropping database objects (see <a href="cmntopc.htm#BABCJDIG">"Human Errors"</a>). A good backup and recovery strategy enables you to return your database to the desired state, with the minimum possible impact upon database availability, and minimal DBA effort.</p>
</li>
</ul>
<p>Typically, you have multiple ways to solve the preceding problems. This section summarizes some of these solutions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS09112" href="../../server.112/e10897/backrest.htm#ADMQS09112"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink BRADV89703" href="../../backup.112/e10642/rcmrvcon.htm#BRADV89703"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for data repair concepts</div>
<div id="CNCPT1438" class="sect4"><a id="sthref2130"></a>
<h5 class="sect4">Data Recovery Advisor</h5>
<p><a id="sthref2131"></a>The <span class="bold">Data Recovery Advisor</span> tool automatically diagnoses persistent data failures, presents appropriate repair options, and executes repairs at the user's request. By providing a centralized tool for automated data repair, Data Recovery Advisor improves the manageability and reliability of an Oracle database and thus helps reduce recovery time.</p>
<p>The database includes a framework called <span class="bold">Health Monitor</span> for running diagnostic checks. A <span class="bold">checker</span> is a diagnostic operation or procedure registered with <a id="sthref2132"></a>Health Monitor to assess the health of the database or its components. The health assessment is known as a <span class="bold">data integrity check</span> and can be invoked reactively or proactively.</p>
<p>A <span class="bold">failure</span> is a persistent data corruption detected by a data integrity check. Failures are normally detected reactively. A database operation involving corrupted data results in an error, which automatically invokes a data integrity check that searches the database for failures related to the error. If failures are diagnosed, then the database records them in the Automatic Diagnostic Repository (ADR).</p>
<p>After failures have been detected by the database and stored in ADR, Data Recovery Advisor automatically determines the best repair options and their impact on the database. Typically, Data Recovery Advisor generates both manual and automated repair options for each failure or group of failures.</p>
<p>Before presenting an automated repair option, Data Recovery Advisor validates it for the specific environment and for the availability of media components required to complete the proposed repair. If you choose an automatic repair, then Oracle Database executes it for you. The Data Recovery Advisor tool verifies the repair success and closes the appropriate failures.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS098" href="../../server.112/e10897/backrest.htm#ADMQS098"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink BRADV246" href="../../backup.112/e10642/rcmrepai.htm#BRADV246"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn how to use Data Recovery Advisor</div>
</div>
<!-- class="sect4" -->
<div id="CNCPT1439" class="sect4"><a id="sthref2133"></a>
<h5 class="sect4">Oracle Flashback Technology</h5>
<p>Oracle Database provides a group of features known as <span class="bold"><a id="sthref2134"></a>Oracle Flashback Technology</span> that support viewing past states of data, and winding data back and forth in time, without needing to restore backups. Depending on the database changes, flashback features can often reverse unwanted changes more quickly and with less impact on availability than media recovery.</p>
<p>The following flashback features are most relevant for backup and recovery:</p>
<ul>
<li>
<p>Flashback Database</p>
<p>You can rewind an Oracle database to a previous time to correct problems caused by logical data corruptions or user errors. Flashback Database can also be used to complement Data Guard, Data Recovery Advisor, and for synchronizing clone databases. Flashback Database does not restore or perform media recovery on files, so you cannot use it to correct media failures such as disk crashes.</p>
</li>
<li>
<p>Flashback Table</p>
<p>You can rewind tables to a specified point in time with a single SQL statement. You can restore table data along with associated indexes, triggers, and constraints, while the database is online, undoing changes to only the specified tables. Flashback Table does not address physical corruption such as bad disks or data segment and index inconsistencies.</p>
</li>
<li>
<p>Flashback Drop</p>
<p>You can reverse the effects of a <code dir="ltr">DROP TABLE</code> operation. Flashback Drop is substantially faster than recovery mechanisms such as point-in-time recovery and does not lead to loss of recent transactions or downtime.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS094" href="../../server.112/e10897/backrest.htm#ADMQS094"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink BRADV89342" href="../../backup.112/e10642/rcmintro.htm#BRADV89342"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn more about flashback features</p>
</li>
<li>
<p><a class="olink SQLRF01801" href="../../server.112/e41084/statements_9011.htm#SQLRF01801"><span class="italic">Oracle Database SQL Language Reference</span></a> and <a class="olink RCMRF194" href="../../backup.112/e10643/rcmsynta023.htm#RCMRF194"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> to learn about the <code dir="ltr">FLASHBACK DATABASE</code> statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" -->
<div id="CNCPT1445" class="sect4"><a id="sthref2135"></a>
<h5 class="sect4">Block Media Recovery</h5>
<p>A <span class="bold">block corruption</span> is a data block that is not in a recognized Oracle format, or whose contents are not internally consistent (see <a href="cmntopc.htm#BABIJICC">"Data Corruption"</a>). Block media recovery is a technique for restoring and recovering corrupt data blocks while data files are online. If only a few blocks are corrupt, then block recovery may be preferable to data file recovery.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV89781" href="../../backup.112/e10642/rcmblock.htm#BRADV89781"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn how to perform block media recovery</div>
</div>
<!-- class="sect4" -->
<a id="CHDCHHIJ"></a>
<div id="CNCPT88772" class="sect4">
<h5 class="sect4">Data File Recovery</h5>
<p><a id="sthref2136"></a><a id="sthref2137"></a><a id="sthref2138"></a><a id="sthref2139"></a>Data file recovery<a id="sthref2140"></a> repairs a lost or damaged current data file or control file. It can also recover changes lost when a tablespace went offline without the <code dir="ltr">OFFLINE</code> <code dir="ltr">NORMAL</code> option.</p>
<p>Media recovery is necessary if you restore a backup of a data file or control file or a data file is taken offline without the <code dir="ltr">OFFLINE</code> <code dir="ltr">NORMAL</code> option. The database cannot be opened if online data files needs media recovery, nor can a data file that needs media recovery be brought online until media recovery completes.</p>
<p>To <span class="bold">restore</span> a physical backup of a data file or control file is to reconstruct it and make it available to Oracle Database. To <span class="bold">recover</span> a backup is to apply <a id="sthref2141"></a>archived redo log files, thereby reconstructing lost changes. RMAN can also recover data files with <span class="bold">incremental backups</span>, which contain only blocks modified after a previous backup.</p>
<p>Unlike instance recovery, which automatically applies changes to online files, media recovery must be invoked by a user and applies archived redo log files to restored backups. Data file media recovery can only operate on offline data files or data files in a database that is not opened by any instance.</p>
<p><a id="sthref2142"></a><a id="sthref2143"></a><a id="sthref2144"></a><a id="sthref2145"></a>Data file media recovery differs depending on whether all changes are applied:</p>
<ul>
<li>
<p>Complete recovery</p>
<p><a id="sthref2146"></a><a id="sthref2147"></a><a id="sthref2148"></a>Complete recovery applies <span class="italic">all</span> redo changes contained in the archived and online logs to a backup. Typically, you perform complete media recovery after a media failure damages data files or the control file. You can perform complete recovery on a database, tablespace, or data file.<a id="sthref2149"></a><a id="sthref2150"></a></p>
</li>
<li>
<p>Incomplete recovery</p>
<p>Incomplete recovery, also called <span class="bold">database point-in-time recovery</span>, results in a noncurrent version of the database. In this case, you do not apply all of the redo generated after the restored backup. Typically, you perform point-in-time database recovery to undo a user error when Flashback Database is not possible.</p>
<p><a id="sthref2151"></a><a id="sthref2152"></a>To perform incomplete recovery, you must restore all data files from backups created before the time to which you want to recover and then open the database with the <code dir="ltr">RESETLOGS</code> option when recovery completes. Resetting the logs creates a new stream of log sequence numbers starting with log sequence 1.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If current data files are available, then Flashback Database is an alternative to DBPITR.</div>
<p><a id="sthref2153"></a><a id="sthref2154"></a><a id="sthref2155"></a>The <span class="bold">tablespace point-in-time recovery (TSPITR)</span> feature lets you recover one or more tablespaces to a point in time older than the rest of the database.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="startup.htm#CEGCHJGF">"Overview of Instance Recovery"</a></p>
</li>
<li>
<p><a class="olink ADMQS09112" href="../../server.112/e10897/backrest.htm#ADMQS09112"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink BRADV117" href="../../backup.112/e10642/rcmrvcon.htm#BRADV117"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for media recovery concepts</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDHBDD"></a>
<div id="CNCPT1244" class="sect2">
<h3 class="sect2">Memory Management</h3>
<p><span class="bold">Memory management</span> involves maintaining optimal sizes for the Oracle instance memory structures as demands on the database change. <a id="sthref2156"></a>Initialization parameter settings determine how SGA and instance PGA memory is managed.</p>
<p><a href="#BGBEJAJI">Figure 18-4</a> shows a decision tree for memory management options. The following sections explain the options in detail.</p>
<div id="CNCPT89115" class="figure">
<p class="titleinfigure"><a id="BGBEJAJI"></a>Figure 18-4 Memory Management Methods</p>
<img width="390" height="375" src="img/cncpt242.gif" alt="Description of Figure 18-4 follows" /><br />
<a id="sthref2157" href="img_text/cncpt242.htm">Description of "Figure 18-4 Memory Management Methods"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="memory.htm#g30926">Chapter 14, "Memory Architecture"</a> to learn more about the SGA and PGA</div>
<a id="CHDIIAFC"></a>
<div id="CNCPT837" class="sect3">
<h4 class="sect3">Automatic Memory Management</h4>
<p>In <span class="bold">automatic memory management</span>, <a id="sthref2158"></a><a id="sthref2159"></a>Oracle Database manages the SGA and instance PGA memory completely automatically. This method is the simplest and is strongly recommended by Oracle.</p>
<p>The only user-specified controls are the <span class="bold">target memory size</span> initialization parameter (<code dir="ltr">MEMORY_TARGET</code>) and optional <span class="bold">maximum memory size</span> initialization parameter (<code dir="ltr">MEMORY_MAX_TARGET</code>). Oracle Database tunes to the target memory size, redistributing memory as needed between the SGA and the instance PGA.</p>
<p><a href="#CHDDIDHC">Figure 18-5</a> shows a database that sometimes processes jobs submitted by online users and sometimes batch jobs. Using automatic memory management, the database automatically adjusts the size of the <a href="glossary.htm#CHDBFFGF"><span class="xrefglossterm">large pool</span></a> and <a href="glossary.htm#BGBHGEDC"><span class="xrefglossterm">database buffer cache</span></a> depending on which type of jobs are running.</p>
<div id="CNCPT89116" class="figure">
<p class="titleinfigure"><a id="CHDDIDHC"></a>Figure 18-5 Automatic Memory Management</p>
<img width="297" height="314" src="img/cncpt256.gif" alt="Description of Figure 18-5 follows" /><br />
<a id="sthref2160" href="img_text/cncpt256.htm">Description of "Figure 18-5 Automatic Memory Management"</a><br />
<br /></div>
<!-- class="figure" -->
<p>If you create your database with DBCA and choose the basic installation option, then automatic memory management is enabled by default.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS12038" href="../../server.112/e10897/instance.htm#ADMQS12038"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink ADMIN11199" href="../../server.112/e25494/memory.htm#ADMIN11199"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn about automatic memory management</div>
</div>
<!-- class="sect3" -->
<div id="CNCPT838" class="sect3"><a id="sthref2161"></a>
<h4 class="sect3">Shared Memory Management of the SGA</h4>
<p>If automatic memory management is not enabled, then the system must use <span class="bold">shared memory management</span> of the SGA. Shared memory management is possible in either of the following forms:</p>
<ul>
<li>
<p>Automatic shared memory management</p>
<p><a id="sthref2162"></a><a id="sthref2163"></a>This mode enables you to exercise more direct control over the size of the SGA and is the default when automatic memory management is disabled. The database tunes the total SGA to the target size and dynamically tunes the sizes of SGA components. Oracle Database remembers the sizes of the automatically tuned components across instance shutdowns if you are using a server parameter file.</p>
</li>
<li>
<p>Manual shared memory management</p>
<p>In this mode, you set the sizes of several individual SGA components and manually tune individual SGA components on an ongoing basis. You have complete control of individual SGA component sizes. The database defaults to this mode when both automatic memory management and automatic shared memory management are disabled.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When automatic memory management is disabled, the database may in some cases automatically adjust the relative sizes of the shared pool and buffer cache based on user workload.</div>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS0541" href="../../server.112/e10897/instance.htm#ADMQS0541"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink ADMIN11203" href="../../server.112/e25494/memory.htm#ADMIN11203"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn about shared memory management</div>
</div>
<!-- class="sect3" -->
<div id="CNCPT839" class="sect3"><a id="sthref2164"></a>
<h4 class="sect3">Memory Management of the Instance PGA</h4>
<p>If automatic memory management is not enabled, then the following modes are possible for management of PGA memory:</p>
<ul>
<li>
<p>Automatic PGA memory management</p>
<p>When automatic memory management is disabled and <code dir="ltr">PGA_AGGREGATE_TARGET</code> is set to a nonzero value, the database uses <span class="bold">automatic PGA memory management</span>. In this mode, the <code dir="ltr">PGA_AGGREGATE_TARGET</code> specifies a target size for the instance PGA. The database then tunes the size of the instance PGA to this target and dynamically tunes the sizes of individual PGAs. If you do not explicitly set a target size, then the database automatically configures a reasonable default.</p>
</li>
<li>
<p>Manual PGA memory management</p>
<p>When automatic memory management is disabled and <code dir="ltr">PGA_AGGREGATE_TARGET</code> is set to <code dir="ltr">0</code>, the database defaults to <span class="bold">manual PGA management</span>. Previous releases of Oracle Database required the DBA to manually specify the maximum work area size for each type of SQL <a href="glossary.htm#CHDIACCD"><span class="xrefglossterm">operator</span></a> (such as a sort or <a href="glossary.htm#CHDFJEHE"><span class="xrefglossterm">hash join</span></a>). This technique proved to be very difficult because the workload is always changing. Although Oracle Database supports the manual PGA memory management method, Oracle strongly recommends automatic memory management.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink PFGRF01401" href="../../server.112/e41573/memory.htm#PFGRF01401"><span class="italic">Oracle Database Performance Tuning Guide</span></a> to learn about PGA memory management</div>
</div>
<!-- class="sect3" -->
<a id="CHDCEEBF"></a>
<div id="CNCPT840" class="sect3">
<h4 class="sect3">Summary of Memory Management Methods</h4>
<p><a href="#BGBDACCH">Table 18-1</a> summarizes the various memory management methods. If you do not enable automatic memory management, then you must separately configure one memory management method for the SGA and one for the PGA.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When automatic memory management is not enabled, the default method for the instance PGA is automatic PGA memory management.</div>
<div id="CNCPT89117" class="tblruleformalwide">
<p class="titleintable"><a id="sthref2165"></a><a id="BGBDACCH"></a>Table 18-1 Memory Management Methods</p>
<table class="cellalignment1460" title="Memory Management Methods" summary="Memory management methods" dir="ltr">
<thead>
<tr class="cellalignment1449">
<th class="cellalignment1459" id="r1c1-t31">Instance</th>
<th class="cellalignment1459" id="r1c2-t31">SGA</th>
<th class="cellalignment1459" id="r1c3-t31">PGA</th>
<th class="cellalignment1459" id="r1c4-t31">Description</th>
<th class="cellalignment1459" id="r1c5-t31">Initialization Parameters</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1449">
<td class="cellalignment1455" id="r2c1-t31" headers="r1c1-t31">
<p>Auto</p>
</td>
<td class="cellalignment1455" headers="r2c1-t31 r1c2-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r2c1-t31 r1c3-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r2c1-t31 r1c4-t31">
<p>The database tunes the size of the instance based on a single instance target size.</p>
</td>
<td class="cellalignment1455" headers="r2c1-t31 r1c5-t31">
<p>You set:</p>
<ul>
<li>
<p>Total memory target size for the database instance (<code dir="ltr">MEMORY_TARGET</code>)</p>
</li>
<li>
<p>Optional maximum memory size for the database instance (<code dir="ltr">MEMORY_MAX_TARGET</code>)</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1449">
<td class="cellalignment1455" id="r3c1-t31" headers="r1c1-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r3c1-t31 r1c2-t31">
<p>Auto</p>
</td>
<td class="cellalignment1455" headers="r3c1-t31 r1c3-t31">
<p>Auto</p>
</td>
<td class="cellalignment1455" headers="r3c1-t31 r1c4-t31">
<p>The database automatically tunes the SGA based on an SGA target.</p>
<p>The database automatically tunes the PGA based on a PGA target.</p>
</td>
<td class="cellalignment1455" headers="r3c1-t31 r1c5-t31">
<p>You set:</p>
<ul>
<li>
<p>SGA target size (<code dir="ltr">SGA_TARGET</code>)</p>
</li>
<li>
<p>Optional SGA maximum size (<code dir="ltr">SGA_MAX_SIZE</code>)</p>
</li>
<li>
<p>Instance PGA target size (<code dir="ltr">PGA_AGGREGATE_TARGET</code>)</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1449">
<td class="cellalignment1455" id="r4c1-t31" headers="r1c1-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r4c1-t31 r1c2-t31">
<p>Auto</p>
</td>
<td class="cellalignment1455" headers="r4c1-t31 r1c3-t31">
<p>Manual</p>
</td>
<td class="cellalignment1455" headers="r4c1-t31 r1c4-t31">
<p>The database automatically tunes the SGA based on an SGA target.</p>
<p>You control the PGA manually, setting the maximum work area size for each type of SQL <a href="glossary.htm#CHDIACCD"><span class="xrefglossterm">operator</span></a>.</p>
</td>
<td class="cellalignment1455" headers="r4c1-t31 r1c5-t31">
<p>You set:</p>
<ul>
<li>
<p>SGA target size (<code dir="ltr">SGA_TARGET</code>)</p>
</li>
<li>
<p>Optional SGA maximum size (<code dir="ltr">SGA_MAX_SIZE</code>)</p>
</li>
<li>
<p>PGA work area parameters such as <code dir="ltr">SORT_AREA_SIZE</code>, <code dir="ltr">HASH_AREA_SIZE</code>, and <code dir="ltr">BITMAP_MERGE_AREA_SIZE</code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1449">
<td class="cellalignment1455" id="r5c1-t31" headers="r1c1-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r5c1-t31 r1c2-t31">
<p>Manual</p>
</td>
<td class="cellalignment1455" headers="r5c1-t31 r1c3-t31">
<p>Auto</p>
</td>
<td class="cellalignment1455" headers="r5c1-t31 r1c4-t31">
<p>You control the SGA manually by setting individual component sizes.</p>
<p>The database automatically tunes the PGA based on a PGA target.</p>
</td>
<td class="cellalignment1455" headers="r5c1-t31 r1c5-t31">
<p>You set:</p>
<ul>
<li>
<p>Shared pool size (<code dir="ltr">SHARED_POOL_SIZE</code>)</p>
</li>
<li>
<p>Buffer cache size (<code dir="ltr">DB_CACHE_SIZE</code>)</p>
</li>
<li>
<p>Large pool size (<code dir="ltr">LARGE_POOL_SIZE</code>)</p>
</li>
<li>
<p>Java pool size (<code dir="ltr">JAVA_POOL_SIZE</code>)</p>
</li>
<li>
<p>Streams pool size (<code dir="ltr">STREAMS_POOL_SIZE</code>)</p>
</li>
<li>
<p>Instance PGA target size (<code dir="ltr">PGA_AGGREGATE_TARGET</code>)</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1449">
<td class="cellalignment1455" id="r6c1-t31" headers="r1c1-t31">
<p>n/a</p>
</td>
<td class="cellalignment1455" headers="r6c1-t31 r1c2-t31">
<p>Manual</p>
</td>
<td class="cellalignment1455" headers="r6c1-t31 r1c3-t31">
<p>Manual</p>
</td>
<td class="cellalignment1455" headers="r6c1-t31 r1c4-t31">
<p>You must manually configure SGA component sizes.</p>
<p>You control the PGA manually, setting the maximum work area size for each type of SQL operator.</p>
</td>
<td class="cellalignment1455" headers="r6c1-t31 r1c5-t31">
<p>You must manually configure SGA component sizes. You set:</p>
<ul>
<li>
<p>Shared pool size (<code dir="ltr">SHARED_POOL_SIZE</code>)</p>
</li>
<li>
<p>Buffer cache size (<code dir="ltr">DB_CACHE_SIZE</code>)</p>
</li>
<li>
<p>Large pool size (<code dir="ltr">LARGE_POOL_SIZE</code>)</p>
</li>
<li>
<p>Java pool size (<code dir="ltr">JAVA_POOL_SIZE</code>)</p>
</li>
<li>
<p>Streams pool size (<code dir="ltr">STREAMS_POOL_SIZE</code>)</p>
</li>
<li>
<p>PGA work area parameters such as <code dir="ltr">SORT_AREA_SIZE</code>, <code dir="ltr">HASH_AREA_SIZE</code>, and <code dir="ltr">BITMAP_MERGE_AREA_SIZE</code></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblruleformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11236" href="../../server.112/e25494/memory.htm#ADMIN11236"><span class="italic">Oracle Database Administrator's Guide</span></a> because automatic memory management is not available on all platforms</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFHFIC"></a>
<div id="CNCPT860" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Resource Management and Task Scheduling</h3>
<p>In a database with many active users, resource management is an important part of database administration. Sessions that consume excessive resources can prevent other sessions from doing their work. A related problem is how to schedule tasks so that they run at the best time. Oracle Database provides tools to help solve these problems.</p>
<a id="CHDDDDHE"></a>
<div id="CNCPT1396" class="sect3">
<h4 class="sect3">Database Resource Manager</h4>
<p><span class="bold">Oracle Database Resource Manager (the Resource Manager)</span> is an infrastructure that provides granular control of database resources allocated to users, applications, and services. The Resource Manager solves many resource allocation problems that an operating system does not manage well, including:</p>
<ul>
<li>
<p>Excessive overhead</p>
</li>
<li>
<p>Inefficient scheduling</p>
</li>
<li>
<p>Inappropriate allocation of resources</p>
</li>
<li>
<p>Inability to manage database-specific resources</p>
</li>
</ul>
<p>The Resource Manager helps overcome these problems by giving the database more control over allocation of hardware resources and enabling you to prioritize work within the database. You can classify sessions into groups based on session attributes, and then allocate resources to these groups to optimize hardware utilization.</p>
<p>Resources are allocated to users according to a <span class="bold">resource plan</span> specified by the database administrator. The plan specifies how the resources are to be distributed among <span class="bold">resource consumer groups</span>, which are user sessions grouped by resource requirements. A <span class="bold">resource plan directive</span> associates a resource consumer group with a plan and specifies how resources are to be allocated to the group.</p>
<p><a href="#CHDGHHBF">Figure 18-6</a> shows a simple resource plan for an organization that runs <a href="glossary.htm#CHDBBEFA"><span class="xrefglossterm">OLTP</span></a> applications and reporting applications simultaneously during the daytime. The currently active plan, <code dir="ltr">DAYTIME</code>, allocates CPU resources among three resource consumer groups. Specifically, <code dir="ltr">OLTP</code> is allotted 75% of the CPU time, <code dir="ltr">REPORTS</code> is allotted 15%, and <code dir="ltr">OTHER_GROUPS</code> receives the remaining 10%.</p>
<div id="CNCPT89118" class="figure">
<p class="titleinfigure"><a id="CHDGHHBF"></a>Figure 18-6 Simple Resource Plan</p>
<img width="386" height="227" src="img/admin078.gif" alt="Description of Figure 18-6 follows" /><br />
<a id="sthref2166" href="img_text/admin078.htm">Description of "Figure 18-6 Simple Resource Plan"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN027" href="../../server.112/e25494/dbrm.htm#ADMIN027"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about using the Resource Manager</div>
</div>
<!-- class="sect3" -->
<a id="CHDGEFDA"></a>
<div id="CNCPT1413" class="sect3">
<h4 class="sect3">Oracle Scheduler</h4>
<p><span class="bold">Oracle Scheduler (the Scheduler)</span> enables database administrators and application developers to control when and where various tasks take place in the database environment. The Scheduler provides complex enterprise scheduling functionality, which you can use to:</p>
<ul>
<li>
<p>Schedule job execution based on time or events</p>
</li>
<li>
<p>Schedule job processing in a way that models your business requirements</p>
</li>
<li>
<p>Manage and monitor jobs</p>
</li>
<li>
<p>Execute and manage jobs in a clustered environment</p>
</li>
</ul>
<p>Program objects (<span class="bold">programs</span>) contain metadata about the command that the Scheduler will run, including default values for any arguments. Schedule objects (<span class="bold">schedules</span>) contain information about run date and time and recurrence patterns. Job objects (<span class="bold">jobs</span>) associate a program with a schedule. To define what is executed and when, you assign relationships among programs, schedules, and jobs.</p>
<p>The Scheduler is implemented as a set of functions and procedures in the <code dir="ltr">DBMS_SCHEDULER</code> PL/SQL package. You create and manipulate Scheduler objects with this package or with Enterprise Manager. Because Scheduler objects are standard database objects, you can control access to them with system and object privileges.</p>
<p><a href="#CHDHJDBE">Figure 18-7</a> shows the basic architecture of the Scheduler. The job table is a container for all the jobs, with one table per database. The <span class="bold">job coordinator</span> <a href="glossary.htm#CBAJGABD"><span class="xrefglossterm">background process</span></a> is automatically started and stopped as needed. Job slaves are awakened by the coordinator when a job must be run (see <a href="process.htm#BABDECGE">"Job Queue Processes (CJQ0 and Jnnn)"</a>). The slaves gather metadata from the job table and run the job.</p>
<div id="CNCPT89119" class="figure">
<p class="titleinfigure"><a id="CHDHJDBE"></a>Figure 18-7 Scheduler Components</p>
<img width="222" height="282" src="img/admin062.gif" alt="Description of Figure 18-7 follows" /><br />
<a id="sthref2167" href="img_text/admin062.htm">Description of "Figure 18-7 Scheduler Components"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a class="olink ADMIN033" href="../../server.112/e25494/schedover.htm#ADMIN033"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn about the Scheduler</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEECCE"></a>
<div id="CNCPT1379" class="sect2">
<h3 class="sect2">Performance Diagnostics and Tuning</h3>
<p>As a DBA, you are responsible for the performance of your Oracle database. Typically, performance problems result from unacceptable <span class="bold">response time</span>, which is the time to complete a specified workload, or <span class="bold">throughput</span>, which is the amount of work that can be completed in a specified time. Common problems include:</p>
<ul>
<li>
<p>CPU bottlenecks</p>
</li>
<li>
<p>Undersized memory structures</p>
</li>
<li>
<p>I/O capacity issues</p>
</li>
<li>
<p>Inefficient or high-load SQL statements</p>
</li>
<li>
<p>Unexpected performance regression after tuning SQL statements</p>
</li>
<li>
<p>Concurrency and contention issues</p>
</li>
<li>
<p>Database configuration issues</p>
</li>
</ul>
<p>The general goal of tuning is usually to improve response time, increase throughput, or both. A specific and measurable goal might be "Reduce the response time of the specified <code dir="ltr">SELECT</code> statement to under 5 seconds." Whether this goal is achievable depends on factors that may or may not be under the control of the DBA. In general, tuning is the effort to achieve specific, measurable, and achievable tuning goals by using database resources in the most efficient way possible.</p>
<p>The <span class="bold">Oracle performance method</span> is based on identifying and eliminating bottlenecks in the database, and developing efficient SQL statements. Applying the Oracle performance method involves the following tasks:</p>
<ul>
<li>
<p>Performing pre-tuning preparations</p>
</li>
<li>
<p>Tuning the database proactively on a regular basis</p>
</li>
<li>
<p>Tuning the database reactively when users report performance problems</p>
</li>
<li>
<p>Identifying, tuning, and optimizing high-load SQL statements</p>
</li>
</ul>
<p>This section describes essential aspects of Oracle Database performance tuning, including the use of <span class="bold">advisors</span>. Oracle Database advisors provide specific advice on how to address key database management challenges, covering a wide range of areas including space, performance, and undo management.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span> and <span class="italic">Oracle Database Performance Tuning Guide</span> provide to learn how to implement the Oracle performance method</div>
<div id="CNCPT1376" class="sect3"><a id="sthref2168"></a>
<h4 class="sect3">Database Self-Monitoring</h4>
<p>Self-monitoring take place as the database performs its regular operation, ensuring that the database is aware of problems as they arise. Oracle Database can send a <span class="bold">server-generated alert</span> to notify you of an impending problem.</p>
<p>Alerts are automatically generated when a problem occurs or when data does not match expected values for metrics such as physical reads per second or SQL response time. <a id="sthref2169"></a>A <span class="bold">metric</span> is the rate of change in a cumulative statistic. Server-generated alerts can be based on user-specified threshold levels or because an event has occurred.</p>
<p>Server-generated alerts not only identify the problem, but sometimes recommend how the reported problem can be resolved. An example is an alert that the fast recovery area is running out of space with the recommendation that obsolete backups should be deleted or additional disk space added.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11247" href="../../server.112/e25494/monitoring.htm#ADMIN11247"><span class="italic">Oracle Database Administrator's Guide</span></a></div>
</div>
<!-- class="sect3" -->
<a id="CHDFIJCG"></a>
<div id="CNCPT1374" class="sect3">
<h4 class="sect3">Automatic Workload Repository (AWR)</h4>
<p><span class="bold">Automatic Workload Repository (AWR)</span> is a repository of historical performance data that includes cumulative <a id="sthref2170"></a>statistics for the system, sessions, individual SQL statements, segments, and services. These statistics are the foundation of performance tuning. By automating the gathering of database statistics for problem detection and tuning, AWR serves as the foundation for database self-management.</p>
<p>As shown in <a href="#CHDGCEFE">Figure 18-8</a>, the database stores recent AWR statistics in the SGA. By default, the MMON process gathers statistics every hour and creates an <span class="bold">AWR snapshot</span> (see <a href="process.htm#BABCJBII">"Manageability Monitor Processes (MMON and MMNL)"</a>). A snapshot is a set of performance statistics captured at a specific time. The database writes snapshots to the <code dir="ltr">SYSAUX</code> tablespace. AWR manages snapshot space, purging older snapshots according to a configurable <span class="bold">snapshot retention policy</span>.</p>
<div id="CNCPT89120" class="figure">
<p class="titleinfigure"><a id="CHDGCEFE"></a>Figure 18-8 Automatic Workload Repository (AWR)</p>
<img width="501" height="426" src="img/cncpt279.gif" alt="Description of Figure 18-8 follows" /><br />
<a id="sthref2171" href="img_text/cncpt279.htm">Description of "Figure 18-8 Automatic Workload Repository (AWR)"</a><br />
<br /></div>
<!-- class="figure" -->
<p>An <span class="bold">AWR baseline</span> is a collection of statistic rates usually taken over a period when the system is performing well at peak load. You can specify a pair or range of AWR snapshots as a baseline. By using an AWR report to compare statistics captured during a period of bad performance to a baseline, you can diagnose problems.</p>
<p>An automated maintenance infrastructure known <a id="sthref2172"></a>as <span class="bold">AutoTask</span> illustrates how Oracle Database uses AWR for self-management. <a id="sthref2173"></a><a id="sthref2174"></a><a id="sthref2175"></a><a id="sthref2176"></a><a id="sthref2177"></a><a id="sthref2178"></a><a id="sthref2179"></a><a id="sthref2180"></a>By analyzing AWR data, AutoTask can determine the need for maintenance tasks and schedule them to run in Oracle Scheduler <span class="bold">maintenance windows</span>. Examples of tasks include gathering statistics for the <a href="glossary.htm#CHDGHIIF"><span class="xrefglossterm">optimizer</span></a> and running the Automatic Segment Advisor.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="logical.htm#BABEBBDI">"The SYSAUX Tablespace"</a></p>
</li>
<li>
<p><a class="olink PFGRF02601" href="../../server.112/e41573/autostat.htm#PFGRF02601"><span class="italic">Oracle Database Performance Tuning Guide</span></a> to learn about AWR</p>
</li>
<li>
<p><a class="olink ADMIN0235" href="../../server.112/e25494/tasks.htm#ADMIN0235"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a class="olink ADMQS1038" href="../../server.112/e10897/montune.htm#ADMQS1038"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to manage automatic maintenance tasks</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="CNCPT850" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref2181"></a>
<h4 class="sect3">Automatic Database Diagnostic Monitor (ADDM)</h4>
<p><span class="bold">Automatic Database Diagnostic Monitor (ADDM)</span> is a self-diagnostic advisor built into Oracle Database. <a id="sthref2182"></a>Using statistics captured in AWR, ADDM automatically and proactively diagnoses database performance and determines how identified problems can be resolved. You can also run ADDM manually.</p>
<p>ADDM takes a holistic approach to system performance, using time as a common currency between components. ADDM identifies areas of Oracle Database consuming the most time. For example, the database may be spending an excessive amount of time waiting for free database buffers. ADDM drills down to identify the root cause of problems, rather than just the symptoms, and reports the effect of the problem on Oracle Database overall. Minimal overhead occurs during the diagnostic process.</p>
<p>In many cases, ADDM recommends solutions and quantifies expected performance benefits. For example, ADDM may recommend changes to hardware, database configuration, database schema, or applications. If a recommendation is made, then ADDM reports the time benefit. The use of time as a measure enables comparisons of problems or recommendations.</p>
<p>Besides reporting potential performance issues, ADDM documents areas of the database that are not problems. Subcomponents such as I/O and memory that are not significantly impacting database performance are pruned from the classification tree at an early stage. ADDM lists these subcomponents so that you can quickly see that there is little benefit to performing actions in those areas.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPPT021" href="../../server.112/e10822/tdppt_auto.htm#TDPPT021"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> and <a class="olink PFGRF02602" href="../../server.112/e41573/diag.htm#PFGRF02602"><span class="italic">Oracle Database Performance Tuning Guide</span></a></div>
</div>
<!-- class="sect3" -->
<a id="CHDEBGGC"></a>
<div id="CNCPT852" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Active Session History (ASH)</h4>
<p><span class="bold">Active Session History (ASH)</span> samples active database sessions each second, writing the data to memory and persistent storage. ASH is an integral part of the database self-management framework and is useful for diagnosing performance problems.</p>
<p>Unlike instance-level statistics gathered by AWR, ASH <a id="sthref2183"></a>statistics are gathered at the session level. An <span class="bold">active session</span> is a session that is using CPU and is not waiting for an event in the idle wait class.</p>
<p>You can use Enterprise Manager or SQL scripts to generate <span class="bold">ASH reports</span> that gather session statistics gathered over a specified duration. You can use ASH reports for:</p>
<ul>
<li>
<p>Analysis of short-lived performance problems not identified by <a id="sthref2184"></a>ADDM</p>
</li>
<li>
<p>Scoped or targeted performance analysis by various dimensions or their combinations, such as time, session, module, action, or SQL ID</p>
</li>
</ul>
<p>For example, a user notifies you that the database was slow between 10:00 p.m. and 10:02 p.m. However, the 2-minute performance degradation represents a small portion of the AWR snapshot interval from 10:00 p.m. and 11:00 p.m. and does not appear in ADDM findings. ASH reports can help identify the source of the transient problem.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPPT065" href="../../server.112/e10822/tdppt_transient.htm#TDPPT065"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> and <a class="olink PFGRF02606" href="../../server.112/e41573/autostat.htm#PFGRF02606"><span class="italic">Oracle Database Performance Tuning Guide</span></a></div>
</div>
<!-- class="sect3" -->
<div id="CNCPT1380" class="sect3"><a id="sthref2185"></a>
<h4 class="sect3">Application and SQL Tuning</h4>
<p>Oracle Database completely automates the SQL tuning process. ADDM identifies SQL statements consuming unusually high system resources and therefore causing performance problems. In addition, AWR automatically captures the top SQL statements in terms of CPU and shared memory consumption. The identification of high-load SQL statements happens automatically and requires no intervention.</p>
<div id="CNCPT853" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref2186"></a>
<h5 class="sect4">SQL Tuning Advisor</h5>
<p>Automatic SQL tuning is exposed through <span class="bold">SQL Tuning Advisor</span>. SQL Tuning Advisor runs automatically during system maintenance windows as a maintenance task. During each automatic run, the advisor selects high-load SQL queries in the database and generates recommendations for tuning these queries.</p>
<p>SQL Tuning Advisor recommendations fall into the following categories:</p>
<ul>
<li>
<p>Statistics analysis</p>
</li>
<li>
<p>SQL profiling</p>
</li>
<li>
<p>Access path analysis</p>
</li>
<li>
<p>SQL structure analysis</p>
</li>
</ul>
<p>A <span class="bold">SQL profile</span> contains additional statistics specific to a SQL statement and enables the optimizer to generate a better <a href="glossary.htm#CHDJEJHC"><span class="xrefglossterm">execution plan</span></a>. Essentially, a SQL profile is a method for analyzing a query. Both <a href="glossary.htm#CHDGDGEA"><span class="xrefglossterm">access path</span></a> and SQL structure analysis are useful for tuning an application under development or a homegrown production application.</p>
<p>A principal benefit of SQL Tuning Advisor is that solutions come from the optimizer rather than external tools (see <a href="sqllangu.htm#i8709">"Overview of the Optimizer"</a>). Thus, tuning is performed by the database component that is responsible for the execution plans and SQL performance. The tuning process can consider past execution statistics of a SQL statement and customizes the optimizer settings for this statement.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPPT160" href="../../server.112/e10822/tdppt_sqltune.htm#TDPPT160"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> and <a class="olink PFGRF028" href="../../server.112/e41573/sql_tune.htm#PFGRF028"><span class="italic">Oracle Database Performance Tuning Guide</span></a></div>
</div>
<!-- class="sect4" -->
<div id="CNCPT854" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref2187"></a>
<h5 class="sect4">SQL Access Advisor</h5>
<p><span class="bold">SQL Access Advisor</span> offers advice on how to optimize data access paths. Specifically, it recommends how database performance can be improved through partitioning, materialized views, indexes, and materialized view logs.</p>
<p>Schema objects such as partitions and indexes are essential for optimizing complex, data-intensive queries. However, creation and maintenance of these objects can be time-consuming, and space requirements can be significant. SQL Access Advisor helps meet performance goals by recommending data structures for a specified workload.</p>
<p>The SQL Access Advisor can be run from Enterprise Manager using the SQL Access Advisor Wizard or by invoking the <code dir="ltr">DBMS_ADVISOR</code> package. The <code dir="ltr">DBMS_ADVISOR</code> package consists of a collection of analysis and advisory functions and procedures callable from any PL/SQL program.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPPT170" href="../../server.112/e10822/tdppt_sqlopt.htm#TDPPT170"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> and <a class="olink PFGRF008" href="../../server.112/e41573/advisor.htm#PFGRF008"><span class="italic">Oracle Database Performance Tuning Guide</span></a></div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1448">
<tr>
<td class="cellalignment1455">
<table class="cellalignment1453">
<tr>
<td class="cellalignment1452"><a href="cmntopc.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1452"><a href="cncptdev.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1457">
<table class="cellalignment1451">
<tr>
<td class="cellalignment1452"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1452"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1452"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1452"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1452"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1452"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
