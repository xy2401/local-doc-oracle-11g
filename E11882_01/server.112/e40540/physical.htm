<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Physical Storage Structures</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="dcterms.created" content="2015-05-25T13:34:3Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Concepts" />
<meta name="dcterms.identifier" content="E40540-04" />
<meta name="dcterms.isVersionOf" content="CNCPT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="part_dbarch.htm" title="Previous" type="text/html" />
<link rel="Next" href="logical.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e40540.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">18/30</span> <!-- End Header -->
<div id="CNCPT003" class="chapter"><a id="g21431"></a> <a id="i5919"></a>
<h1 class="chapter"><span class="secnum">11</span> Physical Storage Structures</h1>
<p><a id="sthref1381"></a><a id="sthref1382"></a><a id="sthref1383"></a>Th<a id="sthref1384"></a><a id="sthref1385"></a><a id="sthref1386"></a>is chapter describes the primary physical database structures of an Oracle database. Physical structures are viewable at the operating system level.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#i2009">Introduction to Physical Storage Structures</a></p>
</li>
<li>
<p><a href="#i2004">Overview of Data Files</a></p>
</li>
<li>
<p><a href="#i10135">Overview of Control Files</a></p>
</li>
<li>
<p><a href="#i1006163">Overview of the Online Redo Log</a></p>
</li>
</ul>
<a id="i2009"></a>
<div id="CNCPT401" class="sect1">
<h2 class="sect1">Introduction to Physical Storage Structures</h2>
<p>One characteristic of an RDBMS is the independence of logical data structures such as <a href="glossary.htm#CHDCFEDH"><span class="xrefglossterm">tables</span></a>, <a href="glossary.htm#CHDEFHAJ"><span class="xrefglossterm">views</span></a>, and <a href="glossary.htm#CHDHBFFJ"><span class="xrefglossterm">indexes</span></a> from physical storage structures. Because physical and logical structures are separate, you can manage physical storage of data without affecting access to logical structures. For example, renaming a database file does not rename the tables stored in it.</p>
<p>An <span class="bold">Oracle database</span> is a set of files that store Oracle data in persistent disk storage. This section discusses the database files generated when you issue a <code dir="ltr">CREATE DATABASE</code> statement:</p>
<ul>
<li>
<p>Data files and temp files</p>
<p>A <a href="glossary.htm#CHDCGFBB"><span class="xrefglossterm">data file</span></a> is a physical file on disk that was created by Oracle Database and contains data structures such as tables and indexes. A <a href="glossary.htm#CBAEDDHA"><span class="xrefglossterm">temp file</span></a> is a data file that belongs to a temporary tablespace. The data is written to these files in an Oracle proprietary format that cannot be read by other programs.</p>
</li>
<li>
<p>Control files</p>
<p>A <a href="glossary.htm#CHDDFGEC"><span class="xrefglossterm">control file</span></a> is a root file that tracks the physical components of the database.</p>
</li>
<li>
<p>Online redo log files</p>
<p>The <a href="glossary.htm#CBAIJCIB"><span class="xrefglossterm">online redo log</span></a> is a set of files containing records of changes made to data.</p>
</li>
</ul>
<p>A database <a href="glossary.htm#CBAFGFCJ"><span class="xrefglossterm">instance</span></a> is a set of memory structures that manage database files. <a href="#CHDECCFJ">Figure 11-1</a> shows the relationship between the instance and the files that it manages.</p>
<div id="CNCPT88985" class="figure">
<p class="titleinfigure"><a id="CHDECCFJ"></a>Figure 11-1 Database Instance and Database Files</p>
<img width="441" height="186" src="img/cncpt223.gif" alt="Description of Figure 11-1 follows" /><br />
<a id="sthref1387" href="img_text/cncpt223.htm">Description of "Figure 11-1 Database Instance and Database Files"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN002" href="../../server.112/e25494/create.htm#ADMIN002"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to create a database</p>
</li>
<li>
<p><a class="olink SQLRF01204" href="../../server.112/e41084/statements_5004.htm#SQLRF01204"><span class="italic">Oracle Database SQL Language Reference</span></a> for <code dir="ltr">CREATE DATABASE</code> semantics and syntax</p>
</li>
</ul>
</div>
<div id="CNCPT88986" class="sect2"><a id="sthref1388"></a>
<h3 class="sect2">Mechanisms for Storing Database Files</h3>
<p>Several mechanisms are available for allocating and managing the storage of these files. The most common mechanisms include:</p>
<ul>
<li>
<p>Oracle Automatic Storage Management (Oracle ASM)</p>
<p>Oracle ASM includes a file system designed exclusively for use by Oracle Database. <a href="#BDCGGGJC">"Oracle Automatic Storage Management (Oracle ASM)"</a> describes Oracle ASM.</p>
</li>
<li>
<p>Operating system file system</p>
<p>Most Oracle databases store files in a <span class="bold">file system</span>, which is a data structure built inside a contiguous disk address space. All operating systems have <span class="bold">file managers</span> that allocate and deallocate disk space into files within a file system.</p>
<p>A file system enables disk space to be allocated to many files. Each file has a name and is made to appear as a contiguous address space to applications such as Oracle Database. The database can create, read, write, resize, and delete files.</p>
<p>A file system is commonly built on top of a <span class="bold">logical volume</span> constructed by a software package called a <span class="bold">logical volume manager (LVM)</span>. The LVM enables pieces of multiple physical disks to be combined into a single contiguous address space that appears as one disk to higher layers of software.</p>
</li>
<li>
<p>Raw device</p>
<p><span class="bold">Raw devices</span> are disk partitions or logical volumes not formatted with a file system. The primary benefit of raw devices is the ability to perform <span class="bold">direct I/O</span> and to write larger buffers. In direct I/O, applications write to and read from the storage device directly, bypassing the operating system buffer cache.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Many file systems now support direct I/O for databases and other applications that manage their own caches. Historically, raw devices were the only means of implementing direct I/O.</div>
</li>
<li>
<p>Cluster file system</p>
<p>A <span class="bold">cluster file system</span> is software that enables multiple computers to share file storage while maintaining consistent space allocation and file content. In an Oracle RAC environment, a cluster file system makes shared storage appears as a file system shared by many computers in a clustered environment. With a cluster file system, the failure of a computer in the cluster does not make the file system unavailable. In an operating system file system, however, if a computer sharing files through NFS or other means fails, then the file system is unavailable.</p>
</li>
</ul>
<p>A database employs a combination of the preceding storage mechanisms. For example, a database could store the control files and online redo log files in a traditional file system, some user data files on raw partitions, the remaining data files in Oracle ASM, and archived the redo log files to a cluster file system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12062" href="../../server.112/e10897/storage.htm#ADMQS12062"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to view database storage structures with Oracle Enterprise Manager (Enterprise Manager)</p>
</li>
<li>
<p><a class="olink ADMIN12595" href="../../server.112/e25494/part2.htm#ADMIN12595"><span class="italic">Oracle Database Administrator's Guide</span></a> to view database storage structures by querying database views</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BDCGGGJC"></a>
<div id="CNCPT1389" class="sect2">
<h3 class="sect2">Oracle Automatic Storage Management (Oracle ASM)</h3>
<p><a id="sthref1389"></a><a href="glossary.htm#CHDBACAI"><span class="xrefglossterm">Oracle ASM</span></a> is a high-performance, ease-of-management storage solution for Oracle Database files. Oracle ASM is a volume manager and provides a file system designed exclusively for use by the database.</p>
<p>Oracle ASM provides several advantages over conventional file systems and storage managers, including the following:</p>
<ul>
<li>
<p>Simplifies storage-related tasks such as creating and laying out databases and managing disk space</p>
</li>
<li>
<p>Distributes data across physical disks to eliminate hot spots and to provide uniform performance across the disks</p>
</li>
<li>
<p>Rebalances data automatically after storage configuration changes</p>
</li>
</ul>
<p>To use Oracle ASM, you allocate partitioned disks for Oracle Database with preferences for striping and mirroring. Oracle ASM manages the disk space, distributing the I/O load across all available resources to optimize performance while removing the need for manual I/O tuning. For example, you can increase the size of the disk for the database or move parts of the database to new devices without having to shut down the database.</p>
<div id="CNCPT88987" class="sect3"><a id="sthref1390"></a>
<h4 class="sect3">Oracle ASM Storage Components</h4>
<p>Oracle Database can store a data file as an <span class="bold">Oracle ASM file</span> in an <span class="bold">Oracle ASM disk group</span>, which is a collection of disks that Oracle ASM manages as a unit. Within a disk group, Oracle ASM exposes a file system interface for database files.</p>
<p><a href="#CHDDFHJC">Figure 11-2</a> shows the relationships between storage components in a database that uses Oracle ASM. The diagram depicts the relationship between an Oracle ASM file and a data file, although Oracle ASM can store other types of files. The crow's foot notation represents a one-to-many relationship.</p>
<div id="CNCPT88988" class="figure">
<p class="titleinfigure"><a id="CHDDFHJC"></a>Figure 11-2 Oracle ASM Components</p>
<img width="356" height="222" src="img/cncpt267.gif" alt="Description of Figure 11-2 follows" /><br />
<a id="sthref1391" href="img_text/cncpt267.htm">Description of "Figure 11-2 Oracle ASM Components"</a><br />
<br /></div>
<!-- class="figure" -->
<p><a id="CNCPT1401"></a><a href="#CHDDFHJC">Figure 11-2</a> illustrates the following Oracle ASM concepts:</p>
<ul>
<li>
<p><a id="CNCPT1407"></a>Oracle ASM Disks</p>
<p>An <span class="bold">Oracle ASM disk</span> is a storage device that is provisioned to an Oracle ASM disk group. An Oracle ASM disk can be a physical disk or partition, a Logical Unit Number (LUN) from a storage array, a logical volume, or a network-attached file.</p>
<p>Oracle ASM disks can be added or dropped from a disk group while the database is running. When you add a disk to a disk group, you either assign a disk name or the disk is given an Oracle ASM disk name automatically.</p>
</li>
<li>
<p><a id="CNCPT1403"></a>Oracle ASM Disk Groups</p>
<p><a id="sthref1392"></a>An <span class="bold">Oracle ASM disk group</span> is a collection of Oracle ASM disks managed as a logical unit. The data structures in a disk group are self-contained and consume some disk space in a disk group.</p>
<p>Within a disk group, Oracle ASM exposes a file system interface for Oracle database files. The content of files that are stored in a disk group are evenly distributed, or striped, to eliminate hot spots and to provide uniform performance across the disks. The performance is comparable to the performance of raw devices.</p>
</li>
<li>
<p><a id="CNCPT1405"></a>Oracle ASM Files</p>
<p>An <span class="bold">Oracle ASM file</span> is a file stored in an Oracle ASM disk group. Oracle Database communicates with Oracle ASM in terms of files. The database can store data files, control files, online redo log files, and other types of files as Oracle ASM files. When requested by the database, Oracle ASM creates an Oracle ASM file and assigns it a fully qualified name beginning with a plus sign (<code dir="ltr">+</code>) followed by a disk group name, as in <code dir="ltr">+DISK1</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle ASM files can coexist with other storage management options such as raw disks and third-party file systems. This capability simplifies the integration of Oracle ASM into pre-existing environments.</div>
</li>
<li>
<p>Oracle ASM Extents</p>
<p>An <span class="bold">Oracle ASM extent</span> is the raw storage used to hold the contents of an Oracle ASM file. An Oracle ASM file consists of one or more file extents. Each Oracle ASM extent consists of one or more allocation units on a specific disk.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An Oracle ASM extent is different from the <a href="glossary.htm#CBAIHDBH"><span class="xrefglossterm">extent</span></a> used to store data in a <a href="glossary.htm#CBAJABGC"><span class="xrefglossterm">segment</span></a>.</div>
</li>
<li>
<p>Oracle ASM Allocation Units</p>
<p>An <span class="bold">allocation unit</span> is the fundamental unit of allocation within a disk group. An allocation unit is the smallest contiguous disk space that Oracle ASM allocates. One or more allocation units form an Oracle ASM extent.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12100" href="../../server.112/e10897/asm.htm#ADMQS12100"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to administer Oracle ASM disks with Oracle Enterprise Manager (Enterprise Manager)</p>
</li>
<li>
<p><a class="olink OSTMG036" href="../../server.112/e18951/asmcon.htm#OSTMG036"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> to learn more about Oracle ASM</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<div id="CNCPT88989" class="sect3"><a id="sthref1393"></a>
<h4 class="sect3">Oracle ASM Instances</h4>
<p>An <span class="bold">Oracle ASM instance</span> is a special Oracle instance that manages Oracle ASM disks. Both the ASM and the database instances require shared access to the disks in an ASM disk group. ASM instances manage the metadata of the disk group and provide file layout information to the database instances. Database instances direct I/O to ASM disks without going through an ASM instance.</p>
<p>An ASM instance is built on the same technology as a database instance. For example, an ASM instance has a <a href="glossary.htm#CBAICBIA"><span class="xrefglossterm">system global area (SGA)</span></a> and background processes that are similar to those of a database instance. However, an ASM instance cannot mount a database and performs fewer tasks than a database instance.</p>
<p><a href="#CHDBEEGI">Figure 11-3</a> shows a single-node configuration with one Oracle ASM instance and two database instances, each associated with a different single-instance database. The ASM instance manages the metadata and provides space allocation for the ASM files storing the data for the two databases. One ASM disk group has four ASM disks and the other has two disks. Both database instances can access the disk groups.</p>
<div id="CNCPT88990" class="figure">
<p class="titleinfigure"><a id="CHDBEEGI"></a>Figure 11-3 Oracle ASM Instance and Database Instances</p>
<img width="332" height="477" src="img/cncpt266.gif" alt="Description of Figure 11-3 follows" /><br />
<a id="sthref1394" href="img_text/cncpt266.htm">Description of "Figure 11-3 Oracle ASM Instance and Database Instances "</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS12100" href="../../server.112/e10897/asm.htm#ADMQS12100"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to administer Oracle ASM disks with Oracle Enterprise Manager (Enterprise Manager)</p>
</li>
<li>
<p><a class="olink OSTMG" href="../e18951/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> to learn more about Oracle ASM</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CNCPT88991" class="sect2"><a id="sthref1395"></a>
<h3 class="sect2">Oracle Managed Files and User-Managed Files</h3>
<p><span class="bold">Oracle Managed Files</span> is a file naming strategy that enables you to specify operations in terms of database objects rather than file names. For example, you can create a tablespace without specifying the names of its data files. In this way, Oracle Managed Files eliminates the need for administrators to directly manage the operating system files in a database. Oracle ASM requires Oracle Managed Files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This feature does not affect the creation or naming of administrative files such as trace files, <a id="sthref1396"></a>audit files, and alert logs (see <a href="startup.htm#BGBCDDCD">"Overview of Diagnostic Files"</a>).</div>
<p>With <span class="bold">user-managed files</span>, you directly manage the operating system files in the database. You make the decisions regarding file structure and naming. For example, when you create a tablespace you set the name and path of the tablespace data files.</p>
<p>Through initialization parameters, you specify the file system directory for a specific type of file. The Oracle Managed Files feature ensures that the database creates a unique file and deletes it when no longer needed. The database internally uses standard file system interfaces to create and delete files for data files and temp files, control files, and recovery-related files stored in the <a href="glossary.htm#CHDCACAI"><span class="xrefglossterm">fast recovery area</span></a>.</p>
<p>Oracle Managed Files does not eliminate existing functionality. You can create new files while manually administering old files. Thus, a database can have a mixture of Oracle Managed Files and user-managed files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN003" href="../../server.112/e25494/omf.htm#ADMIN003"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to use Oracle Managed Files</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i2004"></a>
<div id="CNCPT403" class="sect1">
<h2 class="sect1">Overview of Data Files</h2>
<p>At the operating system level, Oracle Database stores database data in <a href="glossary.htm#CHDHJCCC"><span class="xrefglossterm">data files</span></a>. Every database must have at least one data file.</p>
<a id="i6430"></a>
<div id="CNCPT1109" class="sect2">
<h3 class="sect2">Use of Data Files</h3>
<p><a href="part_datstr.htm#BABEBAAG">Part IV, "Oracle Relational Data Structures"</a> explains the logical structures in which users store data, the most important of which are tables. E<a id="sthref1397"></a>ach nonpartitioned <a href="glossary.htm#CHDICIIC"><span class="xrefglossterm">schema object</span></a> and each partition of an object is stored in its own <a href="glossary.htm#CBAJABGC"><span class="xrefglossterm">segment</span></a>.</p>
<p>For ease of administration, Oracle Database allocates space for user data in <a href="glossary.htm#CHDBACCD"><span class="xrefglossterm">tablespaces</span></a>, which like segments are logical storage structures. Each segment belongs to only one tablespace. For example, the data for a nonpartitioned table is stored in a single segment, which is turn is stored in one tablespace.</p>
<p>Oracle Database physically stores tablespace data in data files. Tablespaces and data files are closely related, but have important differences:</p>
<ul>
<li>
<p>Each tablespace consists of one or more data files, which conform to the operating system in which Oracle Database is running.</p>
</li>
<li>
<p>The data for a database is collectively stored in the data files located in each tablespace of the database.</p>
</li>
<li>
<p>A segment can span one or more data files, but it cannot span multiple tablespaces.</p>
</li>
<li>
<p>A database must have the <code dir="ltr">SYSTEM</code> and <code dir="ltr">SYSAUX</code> tablespaces. Oracle Database automatically allocates the first data files of any database for the <code dir="ltr">SYSTEM</code> tablespace during database creation.</p>
<p>The <code dir="ltr">SYSTEM</code> tablespace contains the <a href="glossary.htm#CHDJCHJA"><span class="xrefglossterm">data dictionary</span></a>, a set of tables that contains database metadata. Typically, a database also has an <a href="glossary.htm#CHDJCAGE"><span class="xrefglossterm">undo tablespace</span></a> and a temporary tablespace (usually named <code dir="ltr">TEMP</code>).</p>
</li>
</ul>
<p><a href="#CHDICEFG">Figure 11-4</a> shows the relationship between tablespaces, data files, and segments.</p>
<div id="CNCPT88992" class="figure">
<p class="titleinfigure"><a id="CHDICEFG"></a>Figure 11-4 Data Files and Tablespaces</p>
<img width="524" height="402" src="img/cncpt037.gif" alt="Description of Figure 11-4 follows" /><br />
<a id="sthref1398" href="img_text/cncpt037.htm">Description of "Figure 11-4 Data Files and Tablespaces"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="logical.htm#i2006">"Overview of Tablespaces"</a></p>
</li>
<li>
<p><a class="olink ADMIN012" href="../../server.112/e25494/dfiles.htm#ADMIN012"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a class="olink ADMQS12052" href="../../server.112/e10897/storage.htm#ADMQS12052"><span class="italic">Oracle Database 2 Day DBA</span></a> to learn how to manage data files</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i10560"></a>
<div id="CNCPT1112" class="sect2">
<h3 class="sect2">Permanent and Temporary Data Files</h3>
<p>A <span class="bold">permanent</span> <span class="bold">tablespace</span> contains persistent schema objects. Objects in permanent tablespaces are stored in data files.</p>
<p><a id="sthref1399"></a><a id="sthref1400"></a>A <span class="bold">temporary tablespace</span> contains schema objects only for the duration of a session. Locally managed temporary tablespaces have temporary files (<a href="glossary.htm#CBAEDDHA"><span class="xrefglossterm">temp file</span></a>s), which are special files designed to store data in hash, sort, and other operations. Temp files also store result set data when insufficient space exists in memory.</p>
<p>Temp files are similar to permanent data files, with the following exceptions:</p>
<ul>
<li>
<p>Permanent database objects such as tables are never stored in temp files.</p>
</li>
<li>
<p>Temp files are always set to <code dir="ltr">NOLOGGING</code> mode, which means that they never have redo generated for them. Media recovery does not recognize temp files.</p>
</li>
<li>
<p>You cannot make a temp file read-only.</p>
</li>
<li>
<p>You cannot create a temp file with the <code dir="ltr">ALTER</code> <code dir="ltr">DATABASE</code> statement.</p>
</li>
<li>
<p>When you create or resize temp files, they are not always guaranteed allocation of disk space for the file size specified. On file systems such as Linux and UNIX, temp files are created as <span class="bold">sparse files</span>. In this case, disk blocks are allocated not at file creation or resizing, but as the blocks are accessed for the first time.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Sparse files enable fast temp file creation and resizing; however, the disk could run out of space later when the temp files are accessed.</div>
</li>
<li>
<p>Temp file information is shown in the data dictionary view <code dir="ltr">DBA_TEMP_FILES</code> and the dynamic performance view <code dir="ltr">V$TEMPFILE</code>, but not in <code dir="ltr">DBA_DATA_FILES</code> or the <code dir="ltr">V$DATAFILE</code> view.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="logical.htm#BABIJBFF">"Temporary Tablespaces"</a></p>
</li>
<li>
<p><a class="olink ADMIN11504" href="../../server.112/e25494/omf.htm#ADMIN11504"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to manage temp files</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CHDEGHEI"></a>
<div id="CNCPT88993" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Online and Offline Data Files</h3>
<p>Every data file is either <span class="bold">online</span> (available) or <span class="bold">offline</span> (unavailable). You can alter the availability of individual data files or temp files by taking them offline or bringing them online. Offline data files cannot be accessed until they are brought back online.</p>
<p>Administrators may take data files offline for many reasons, including performing offline backups, renaming a data file, or block corruption. The database takes a data file offline automatically if the database cannot write to it.</p>
<p>Like a data file, a tablespace itself is offline or online. When you take a data file offline in an online tablespace, the tablespace itself remains online. You can make all data files of a tablespace temporarily unavailable by taking the tablespace itself offline</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="logical.htm#i2481">"Online and Offline Tablespaces"</a></p>
</li>
<li>
<p><a class="olink ADMIN11426" href="../../server.112/e25494/dfiles.htm#ADMIN11426"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to alter data file availability</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i3671"></a>
<div id="CNCPT1082" class="sect2">
<h3 class="sect2">Data File Structure</h3>
<p><a id="sthref1401"></a><a id="sthref1402"></a>Oracle Database creates a data file for a tablespace by allocating the specified amount of disk space plus the overhead for the <span class="bold">data file header</span>. The operating system under which Oracle Database runs is responsible for clearing old information and authorizations from a file before allocating it to the database.</p>
<p>The data file header contains metadata about the data file such as its size and <a href="glossary.htm#CHDDBJEH"><span class="xrefglossterm">checkpoint</span></a> <a href="glossary.htm#CHDBFAEG"><span class="xrefglossterm">SCN</span></a>. Each header contains an <span class="bold">absolute file numbe</span>r and a <span class="bold">relative file number</span>. The absolute file number uniquely identifies the data file within the database. The relative file number uniquely identifies a data file within a tablespace.</p>
<p><a id="sthref1403"></a>When Oracle Database first creates a data file, the allocated disk space is formatted but contains no user data. However, the database reserves the space to hold the data for future segments of the associated tablespace. As the data grows in a tablespace, Oracle Database uses the free space in the data files to allocate <a href="glossary.htm#CHDEBDJI"><span class="xrefglossterm">extents</span></a> for the segment.</p>
<p><a href="#CHDHIADI">Figure 11-5</a> illustrates the different types of space in a data file. Extents are either used, which means they contain segment data, or free, which means they are available for reuse. Over time, updates and deletions of objects within a tablespace can create pockets of empty space that individually are not large enough to be reused for new data. This type of empty space is referred to as <span class="bold">fragmented free space</span>.</p>
<div id="CNCPT88994" class="figure">
<p class="titleinfigure"><a id="CHDHIADI"></a>Figure 11-5 Space in a Data File</p>
<img width="504" height="194" src="img/cncpt273.gif" alt="Description of Figure 11-5 follows" /><br />
<a id="sthref1404" href="img_text/cncpt273.htm">Description of "Figure 11-5 Space in a Data File"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS12066" href="../../server.112/e10897/storage.htm#ADMQS12066"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink ADMIN11459" href="../../server.112/e25494/dfiles.htm#ADMIN11459"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to view data file information</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i10135"></a>
<div id="CNCPT404" class="sect1">
<h2 class="sect1">Overview of Control Files</h2>
<p><a id="sthref1405"></a><a id="sthref1406"></a><a id="sthref1407"></a><a id="sthref1408"></a><a id="sthref1409"></a><a id="sthref1410"></a>The database <a href="glossary.htm#CHDDFGEC"><span class="xrefglossterm">control file</span></a> is a small binary file associated with only one database. Each database has one unique control file, although it may maintain identical copies of it.</p>
<a id="BJEDFGDD"></a>
<div id="CNCPT1113" class="sect2">
<h3 class="sect2">Use of Control Files</h3>
<p>The control file is the root file that Oracle Database uses to find database files and to manage the state of the database generally. <a id="sthref1411"></a>A control file contains information such as the following:</p>
<ul>
<li>
<p><a id="sthref1412"></a>The database name and database unique identifier (DBID)</p>
</li>
<li>
<p>The time stamp of database creation</p>
</li>
<li>
<p>Information about data files<a id="sthref1413"></a>, online redo log files, and <a href="glossary.htm#CHDCHIFH"><span class="xrefglossterm">archived redo log files</span></a></p>
</li>
<li>
<p>Tablespace information</p>
</li>
<li>
<p>RMAN backups</p>
</li>
</ul>
<p>The control file serves the following purposes:</p>
<ul>
<li>
<p>It contains information about data files, online redo log files, and so on that are required to open the database.</p>
<p><a id="sthref1414"></a>The control file tracks structural changes to the database. For example, when an administrator adds, renames, or drops a data file or online redo log file, the database updates the control file to reflect this change.</p>
</li>
<li>
<p>It contains metadata that must be accessible when the database is not open.</p>
<p>For example, the control file contains information required to recover the database, including checkpoints. <a id="sthref1415"></a><a id="sthref1416"></a><a id="sthref1417"></a>A <a href="glossary.htm#CHDDBJEH"><span class="xrefglossterm">checkpoint</span></a> indicates the <a href="glossary.htm#CHDBFAEG"><span class="xrefglossterm">SCN</span></a> in the redo stream where <a href="glossary.htm#CHDIAJFJ"><span class="xrefglossterm">instance recovery</span></a> would be required to begin (see <a href="startup.htm#CEGCHJGF">"Overview of Instance Recovery"</a>). Every committed change before a checkpoint SCN is guaranteed to be saved on disk in the data files. At least every three seconds the checkpoint process records information in the control file about the checkpoint position in the online redo log.</p>
</li>
</ul>
<p>Oracle Database reads and writes to the control file continuously during database use and must be available for writing whenever the database is open. For example, recovering a database involves reading from the control file the names of all the data files contained in the database. Other operations, such as adding a data file, update the information stored in the control file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="process.htm#BABHFGFF">"Checkpoint Process (CKPT)"</a></p>
</li>
<li>
<p><a class="olink ADMIN006" href="../../server.112/e25494/control.htm#ADMIN006"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to manage the control file</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BJEGFJHE"></a>
<div id="CNCPT1114" class="sect2">
<h3 class="sect2">Multiple Control Files</h3>
<p><a id="sthref1418"></a><a id="sthref1419"></a>Oracle Database enables multiple, identical control files to be open concurrently and written for the same database. By multiplexing a control file on different disks, the database can achieve redundancy and thereby avoid a single point of failure.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you maintain multiple control file copies, each on a different disk.</div>
<p>If a control file becomes unusable, then the database instance fails when it attempts to access the damaged control file. When other current control file copies exist, the database can be remounted and opened without <a href="glossary.htm#CHDHGHAE"><span class="xrefglossterm">media recovery</span></a>. If <span class="italic">all</span> control files of a database are lost, however, then the instance fails and media recovery is required. Media recovery is not straightforward if an older backup of a control file must be used because a current copy is not available.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN10064" href="../../server.112/e25494/control.htm#ADMIN10064"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to maintain multiple control files</p>
</li>
<li>
<p><a class="olink BRADV154" href="../../backup.112/e10642/rcmadvre.htm#BRADV154"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to learn how to back up and restore control files</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="CNCPT88995" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref1420"></a>
<h3 class="sect2">Control File Structure</h3>
<p>Information about the database is stored in different <span class="bold">sections</span> of the control file. Each section is a set of <span class="bold">records</span> about an aspect of the database. For example, one section in the control file tracks data files and contains a set of records, one for each data file. Each section is stored in multiple logical <span class="bold">control file blocks</span>. Records can span blocks within a section.</p>
<p>The control file contains the following types of records:</p>
<ul>
<li>
<p>Circular reuse records</p>
<p>These records contain noncritical information that is eligible to be overwritten if needed. When all available record slots are full, the database either expands the control file to make room for a new record or overwrites the oldest record. Examples include records about <a id="sthref1421"></a>archived redo log files and RMAN backups.</p>
</li>
<li>
<p>Noncircular reuse records</p>
<p>These records contain critical information that does not change often and cannot be overwritten. Examples of information include tablespaces, data files, online redo log files, and redo threads. Oracle Database never reuses these records unless the corresponding object is dropped from the tablespace.</p>
</li>
</ul>
<p>As explained in <a href="datadict.htm#i4370">"Overview of the Dynamic Performance Views"</a>, you can query the dynamic performance views, also known as <code dir="ltr">V$</code> views, to view the information stored in the control file. For example, you can query <code dir="ltr">V$DATABASE</code> to obtain the database name and DBID. However, only the database can modify the information in the control file.</p>
<p>Reading and writing the control file blocks is different from reading and writing <a href="glossary.htm#CHDBACIH"><span class="xrefglossterm">data blocks</span></a>. For the control file, Oracle Database reads and writes directly from the disk to the <a href="glossary.htm#CHDCHGAJ"><span class="xrefglossterm">program global area (PGA)</span></a>. Each process allocates a certain amount of its PGA memory for control file blocks.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink REFRN30044" href="../../server.112/e40402/dynviews_1088.htm#REFRN30044"><span class="italic">Oracle Database Reference</span></a> to learn about the <code dir="ltr">V$CONTROLFILE_RECORD_SECTION</code> view</p>
</li>
<li>
<p><a class="olink REFRN10020" href="../../server.112/e40402/initparams036.htm#REFRN10020"><span class="italic">Oracle Database Reference</span></a> to learn about the <code dir="ltr">CONTROL_FILE_RECORD_KEEP_TIME</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006163"></a>
<div id="CNCPT11302" class="sect1">
<h2 class="sect1">Overview of the Online Redo Log</h2>
<p><a id="sthref1422"></a><a id="sthref1423"></a>The most crucial structure for recovery is the online <a href="glossary.htm#CHDIHFBC"><span class="xrefglossterm">redo log</span></a>, which consists of two or more preallocated files that store changes to the database as they occur. The online redo log records changes to the data files.</p>
<a id="CHDJDBDF"></a>
<div id="CNCPT88996" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Use of the Online Redo Log</h3>
<p>The database maintains online redo log files to protect against data loss. Specifically, after an <a href="glossary.htm#CHDGCEHD"><span class="xrefglossterm">instance failure</span></a> the online redo log files enable Oracle Database to recover committed data not yet written to the data files.</p>
<p>Oracle Database writes every transaction synchronously to the <a href="glossary.htm#CHDECICH"><span class="xrefglossterm">redo log buffer</span></a>, which is then written to the online redo logs. The contents of the log include uncommitted transactions, undo data, and schema and object management statements.</p>
<p>Oracle Database uses the online redo log only for recovery. However, administrators can query online redo log files through a SQL interface in the Oracle LogMiner utility (see <a href="cncptdba.htm#CHDGDICA">"Oracle LogMiner"</a>). Redo log files are a useful source of historical information about database activity.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="startup.htm#CEGCHJGF">"Overview of Instance Recovery"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006187"></a>
<div id="CNCPT11305" class="sect2">
<h3 class="sect2">How Oracle Database Writes to the Online Redo Log</h3>
<p><a id="sthref1424"></a><a id="sthref1425"></a><a id="sthref1426"></a>The online redo log for a database instance is called a <a href="glossary.htm#CBAEJAED"><span class="xrefglossterm">redo thread</span></a>. In single-instance configurations, only one instance accesses a database, so only one redo thread is present. In an Oracle Real Application Clusters (Oracle RAC) configuration, however, two or more instances concurrently access a database, with each instance having its own redo thread. A separate redo thread for each instance avoids contention for a single set of online redo log files.</p>
<p><a id="sthref1427"></a>An online redo log consists of two or more online redo log files. Oracle Database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in <a href="glossary.htm#CHDGFJDI"><span class="xrefglossterm">ARCHIVELOG mode</span></a>).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TDPRC217" href="../../rac.112/e17264/adminrac.htm#TDPRC217"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> and <a class="olink RACAD704" href="../../rac.112/e41960/storage.htm#RACAD704"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> to learn about online redo log groups in Oracle RAC</div>
<div id="CNCPT88997" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1428"></a>
<h4 class="sect3">Online Redo Log Switches</h4>
<p>Oracle Database uses only one online redo log file at a time to store records written from the redo log buffer. The online redo log file to which the&nbsp;<a href="glossary.htm#CHDJEJEE"><span class="xrefglossterm">log writer (LGWR)</span></a> process is actively writing is called the <span class="bold">current</span> online redo log file.</p>
<p>A <a href="glossary.htm#CHDDAFFC"><span class="xrefglossterm">log switch</span></a> occurs when the database stops writing to one online redo log file and begins writing to another. Normally, a switch occurs when the current online redo log file is full and writing must continue. However, you can configure log switches to occur at regular intervals, regardless of whether the current online redo log file is filled, and force log switches manually.</p>
<p><a id="sthref1429"></a><a id="sthref1430"></a><a id="sthref1431"></a>Log writer writes to online redo log files circularly. When log writer fills the last available online redo log file, the process writes to the first log file, restarting the cycle. <a href="#i1006202">Figure 11-6</a> illustrates the circular writing of the redo log.</p>
<div id="CNCPT88998" class="figure">
<p class="titleinfigure"><a id="i1006202"></a>Figure 11-6 Reuse of Online Redo Log Files</p>
<img width="363" height="410" src="img/admin054.gif" alt="Description of Figure 11-6 follows" /><br />
<a id="sthref1432" href="img_text/admin054.htm">Description of "Figure 11-6 Reuse of Online Redo Log Files"</a><br />
<br /></div>
<!-- class="figure" -->
<p>The numbers in <a href="#i1006202">Figure 11-6</a> shows the sequence in which LGWR writes to each online redo log file. <a id="sthref1433"></a>The database assigns each file a new <a href="glossary.htm#CHDHHEBG"><span class="xrefglossterm">log sequence number</span></a> when a log switches and log writers begins writing to it. When the database reuses an online redo log file, this file receives the next available log sequence number.</p>
<p><a id="sthref1434"></a><a id="sthref1435"></a>Filled online redo log files are available for reuse depending on the archiving mode:</p>
<ul>
<li>
<p>If archiving is disabled, which means that the database is in <code dir="ltr">NOARCHIVELOG</code> mode, then a filled online redo log file is available after the changes recorded in it have been <span class="bold">checkpointed</span> (written) to disk by <a href="glossary.htm#CBAJDCEI"><span class="xrefglossterm">database writer (DBW)</span></a>.</p>
</li>
<li>
<p>If archiving is enabled, which means that the database is in <a href="glossary.htm#CHDGFJDI"><span class="xrefglossterm">ARCHIVELOG mode</span></a>, then a filled online redo log file is available to log writer after the changes have been written to the data files <span class="italic">and</span> the file has been archived.</p>
</li>
</ul>
<p>In some circumstances, log writer may be prevented from reusing an existing online redo log file. For example, an online redo log file may be <span class="bold">active</span> (required for instance recovery) rather than <span class="bold">inactive</span> (not required for instance recovery). Also, an online redo log file may be in the process of being cleared.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="process.htm#BABIDJJA">"Overview of Background Processes"</a></p>
</li>
<li>
<p><a class="olink ADMQS12073" href="../../server.112/e10897/storage.htm#ADMQS12073"><span class="italic">Oracle Database 2 Day DBA</span></a> and <a class="olink ADMIN007" href="../../server.112/e25494/onlineredo.htm#ADMIN007"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to manage the online redo log</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="i1006249"></a>
<div id="CNCPT11309" class="sect3">
<h4 class="sect3">Multiple Copies of Online Redo Log Files</h4>
<p>Oracle Database can automatically maintain two or more identical copies of the online redo log in separate locations. <a id="sthref1436"></a><a id="sthref1437"></a><a id="sthref1438"></a><a id="sthref1439"></a><a id="sthref1440"></a>An <span class="bold">online redo log group</span> consists of an online redo log file and its redundant copies. Each identical copy is a <span class="bold">member</span> of the online redo log group. Each group is defined by a number, such as group 1, group 2, and so on.</p>
<p><a id="sthref1441"></a><a id="sthref1442"></a><a id="sthref1443"></a>Maintaining multiple members of an online redo log group protects against the loss of the redo log. Ideally, the locations of the members should be on separate disks so that the failure of one disk does not cause the loss of the entire online redo log.</p>
<p>In <a href="#i1006259">Figure 11-7</a>, <code dir="ltr">A_LOG1</code> and <code dir="ltr">B_LOG1</code> are identical members of group 1, while <code dir="ltr">A_LOG2</code> and <code dir="ltr">B_LOG2</code> are identical members of group 2. Each member in a group must be the same size. LGWR writes concurrently to group 1 (members <code dir="ltr">A_LOG1</code> and <code dir="ltr">B_LOG1</code>), then writes concurrently to group 2 (members <code dir="ltr">A_LOG2</code> and <code dir="ltr">B_LOG2</code>), then writes to group 1, and so on. LGWR never writes concurrently to members of different groups.</p>
<div id="CNCPT88999" class="figure">
<p class="titleinfigure"><a id="i1006259"></a>Figure 11-7 Multiple Copies of Online Redo Log Files</p>
<img width="500" height="362" src="img/cncpt270.gif" alt="Description of Figure 11-7 follows" /><br />
<a id="sthref1444" href="img_text/cncpt270.htm">Description of "Figure 11-7 Multiple Copies of Online Redo Log Files"</a><br />
<br /></div>
<!-- class="figure" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you multiplex the online redo log. The loss of log files can be catastrophic if recovery is required. When you multiplex the online redo log, the database must increase the amount of I/O it performs. Depending on your system, this additional I/O may impact overall database performance.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11309" href="../../server.112/e25494/onlineredo.htm#ADMIN11309"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to maintain multiple copies of the online redo log files</div>
</div>
<!-- class="sect3" -->
<a id="CHDJBHEH"></a>
<div id="CNCPT928" class="sect3">
<h4 class="sect3">Archived Redo Log Files</h4>
<p><a id="sthref1445"></a>An <span class="bold">archived redo log file</span> is a copy of a filled member of an online redo log group. This file is not considered part of the database, but is an offline copy of an online redo log file created by the database and written to a user-specified location.</p>
<p>Archived redo log files are a crucial part of a backup and recovery strategy. You can use archived redo log files to:</p>
<ul>
<li>
<p>Recover a database backup</p>
</li>
<li>
<p>Update a <a href="glossary.htm#CHDCBIBF"><span class="xrefglossterm">standby database</span></a> (see <a href="cmntopc.htm#BABDDEED">"Computer Failures"</a>)</p>
</li>
<li>
<p>Obtain information about the history of a database using the LogMiner utility (see <a href="cncptdba.htm#CHDGDICA">"Oracle LogMiner"</a>)</p>
</li>
</ul>
<p><span class="bold">Archiving</span> is the operation of generating an archived redo log file. Archiving is either automatic or manual and is only possible when the database is in <code dir="ltr">ARCHIVELOG</code> mode.</p>
<p>An archived redo log file includes the redo entries and the log sequence number of the identical member of the online redo log group. In <a href="#i1006259">Figure 11-7</a>, files <code dir="ltr">A_LOG1</code> and <code dir="ltr">B_LOG1</code> are identical members of Group 1. If the database is in <code dir="ltr">ARCHIVELOG</code> mode, and if automatic archiving is enabled, then the <span class="bold">archiver process</span> <span class="bold">(ARCn)</span> will archive one of these files. If <code dir="ltr">A_LOG1</code> is corrupted, then the process can archive <code dir="ltr">B_LOG1</code>. The archived redo log contains a copy of every group created since you enabled archiving.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="cncptdba.htm#CHDCHHIJ">"Data File Recovery"</a></p>
</li>
<li>
<p><a class="olink ADMIN008" href="../../server.112/e25494/archredo.htm#ADMIN008"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to manage the archived redo log</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBBAIH"></a>
<div id="CNCPT11304" class="sect2">
<h3 class="sect2">Structure of the Online Redo Log</h3>
<p><a id="sthref1446"></a><a id="sthref1447"></a><a id="sthref1448"></a><a id="sthref1449"></a>Online redo log files contain <span class="bold">redo records</span>. A redo record is made up of a group of <span class="bold">change vectors</span>, each of which describes a change to a <a href="glossary.htm#CBAGAGDD"><span class="xrefglossterm">data block</span></a>. For example, an update to a salary in the <code dir="ltr">employees</code> table generates a redo record that describes changes to the <a href="glossary.htm#CHDJCHCB"><span class="xrefglossterm">data segment</span></a> block for the table, the undo segment data block, and the <a href="glossary.htm#CHDBGFEC"><span class="xrefglossterm">transaction table</span></a> of the undo segments.</p>
<p>The redo records have all relevant metadata for the change, including the following:</p>
<ul>
<li>
<p><a href="glossary.htm#CHDBFAEG"><span class="xrefglossterm">SCN</span></a> and time stamp of the change</p>
</li>
<li>
<p>Transaction ID of the transaction that generated the change</p>
</li>
<li>
<p>SCN and time stamp when the transaction committed (if it committed)</p>
</li>
<li>
<p>Type of operation that made the change</p>
</li>
<li>
<p>Name and type of the modified data segment</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="logical.htm#i4894">"Overview of Data Blocks"</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1448">
<tr>
<td class="cellalignment1455">
<table class="cellalignment1453">
<tr>
<td class="cellalignment1452"><a href="part_dbarch.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1452"><a href="logical.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1457">
<table class="cellalignment1451">
<tr>
<td class="cellalignment1452"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1452"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1452"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1452"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1452"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1452"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
