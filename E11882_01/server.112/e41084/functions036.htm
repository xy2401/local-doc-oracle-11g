<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>CORR_*</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1075" />
<meta name="dcterms.created" content="2016-01-05T5:45:34Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database SQL Language Reference" />
<meta name="dcterms.identifier" content="E41084-04" />
<meta name="dcterms.isVersionOf" content="SQLRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="functions035.htm" title="Previous" type="text/html" />
<link rel="Next" href="functions037.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41084.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">76/522</span> <!-- End Header --><a id="i1293691"></a>
<div id="SQLRF06314" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">CORR_* <a id="sthref1015"></a><a id="sthref1016"></a></h1>
<p>The <code dir="ltr">CORR_</code>* functions are:</p>
<ul>
<li>
<p><code dir="ltr">CORR_S</code></p>
</li>
<li>
<p><code dir="ltr">CORR_K</code></p>
</li>
</ul>
<p class="subhead1"><a id="SQLRF51301"></a>Syntax</p>
<p class="subhead2"><a id="SQLRF51302"></a><span class="italic">correlation</span>::=</p>
<img width="577" height="192" src="img/correlation.gif" alt="Description of correlation.gif follows" /><br />
<a id="sthref1017" href="img_text/correlation.htm">Description of the illustration ''correlation.gif''</a><br />
<br />
<p class="subhead1"><a id="SQLRF51303"></a>Purpose</p>
<p>The <code dir="ltr">CORR</code> function (see <a href="functions035.htm#i82637">CORR</a>) calculates the Pearson's correlation coefficient and requires numeric expressions as input. The <code dir="ltr">CORR_</code>* functions support nonparametric or rank correlation. They let you find correlations between expressions that are ordinal scaled (where ranking of the values is possible). Correlation coefficients take on a value ranging from -1 to 1, where 1 indicates a perfect relationship, -1 a perfect inverse relationship (when one variable increases as the other decreases), and a value close to 0 means no relationship.</p>
<p>These functions takes as arguments any numeric data type or any nonnumeric data type that can be implicitly converted to a numeric data type. Oracle Database determines the argument with the highest numeric precedence, implicitly converts the remaining arguments to that data type, makes the calculation, and returns <code dir="ltr">NUMBER</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="sql_elements002.htm#g195937">Table 3-10, "Implicit Type Conversion Matrix"</a> for more information on implicit conversion and <a href="sql_elements001.htm#i156865">"Numeric Precedence"</a> for information on numeric precedence</div>
<p><code dir="ltr"><span class="codeinlineitalic">expr1</span></code> and <code dir="ltr"><span class="codeinlineitalic">expr2</span></code> are the two variables being analyzed. The third argument is a return value of type <code dir="ltr">VARCHAR2</code>. If you omit the third argument, then the default is <code dir="ltr">COEFFICIENT</code>. The meaning of the return values is shown in the table that follows:</p>
<div id="SQLRF51304" class="tblhruleformal">
<p class="titleintable"><a id="sthref1018"></a><a id="sthref1019"></a>Table 5-2 CORR_* Return Values</p>
<table class="cellalignment1868" title="CORR_* Return Values" summary="The first column lists the values you can specify for the return value of the function and the second column explains how each value is interpreted." dir="ltr">
<thead>
<tr class="cellalignment1859">
<th class="cellalignment1869" id="r1c1-t50">Return Value</th>
<th class="cellalignment1869" id="r1c2-t50">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1859">
<td class="cellalignment1865" id="r2c1-t50" headers="r1c1-t50">
<p><code dir="ltr">COEFFICIENT</code></p>
</td>
<td class="cellalignment1865" headers="r2c1-t50 r1c2-t50">
<p>Coefficient of correlation</p>
</td>
</tr>
<tr class="cellalignment1859">
<td class="cellalignment1865" id="r3c1-t50" headers="r1c1-t50">
<p><code dir="ltr">ONE_SIDED_SIG</code></p>
</td>
<td class="cellalignment1865" headers="r3c1-t50 r1c2-t50">
<p>Positive one-tailed significance of the correlation</p>
</td>
</tr>
<tr class="cellalignment1859">
<td class="cellalignment1865" id="r4c1-t50" headers="r1c1-t50">
<p><code dir="ltr">ONE_SIDED_SIG_POS</code></p>
</td>
<td class="cellalignment1865" headers="r4c1-t50 r1c2-t50">
<p>Same as <code dir="ltr">ONE_SIDED_SIG</code></p>
</td>
</tr>
<tr class="cellalignment1859">
<td class="cellalignment1865" id="r5c1-t50" headers="r1c1-t50">
<p><code dir="ltr">ONE_SIDED_SIG_NEG</code></p>
</td>
<td class="cellalignment1865" headers="r5c1-t50 r1c2-t50">
<p>Negative one-tailed significance of the correlation</p>
</td>
</tr>
<tr class="cellalignment1859">
<td class="cellalignment1865" id="r6c1-t50" headers="r1c1-t50">
<p><code dir="ltr">TWO_SIDED_SIG</code></p>
</td>
<td class="cellalignment1865" headers="r6c1-t50 r1c2-t50">
<p>Two-tailed significance of the correlation</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<div id="SQLRF51305" class="refsect2"><a id="i1279881"></a>
<h2 class="refsect2">CORR_S <a id="sthref1020"></a><a id="sthref1021"></a></h2>
<p><code dir="ltr">CORR_S</code> calculates the Spearman's rho correlation coefficient. The input expressions should be a set of (x<sub>i</sub>, y<sub>i</sub>) pairs of observations. The function first replaces each value with a rank. Each value of x<sub>i</sub> is replaced with its rank among all the other x<sub>i</sub>s in the sample, and each value of y<sub>i</sub> is replaced with its rank among all the other y<sub>i</sub>s. Thus, each x<sub>i</sub> and y<sub>i</sub> take on a value from 1 to <code dir="ltr"><span class="codeinlineitalic">n</span></code>, where <code dir="ltr"><span class="codeinlineitalic">n</span></code> is the total number of pairs of values. Ties are assigned the average of the ranks they would have had if their values had been slightly different. Then the function calculates the linear correlation coefficient of the ranks.</p>
<p><a id="SQLRF51306"></a><span class="subhead3">CORR_S Example&nbsp;</span>Using Spearman's rho correlation coefficient, the following example derives a coefficient of correlation for each of two different comparisons -- <code dir="ltr">salary</code> and <code dir="ltr">commission_pct</code>, and <code dir="ltr">salary</code> and <code dir="ltr">employee_id</code>:</p>
<pre dir="ltr">
SELECT COUNT(*) count,
       CORR_S(salary, commission_pct) commission,
       CORR_S(salary, employee_id) empid
  FROM employees;
 
     COUNT COMMISSION      EMPID
---------- ---------- ----------
       107 .735837022 -.04473016
</pre></div>
<!-- class="refsect2" -->
<div id="SQLRF51307" class="refsect2"><a id="i1281694"></a>
<h2 class="refsect2">CORR_K <a id="sthref1022"></a><a id="sthref1023"></a></h2>
<p><code dir="ltr">CORR_K</code> calculates the Kendall's tau-b correlation coefficient. As for <code dir="ltr">CORR_S</code>, the input expressions are a set of (x<sub>i</sub>, y<sub>i</sub>) pairs of observations. To calculate the coefficient, the function counts the number of concordant and discordant pairs. A pair of observations is concordant if the observation with the larger x also has a larger value of y. A pair of observations is discordant if the observation with the larger x has a smaller y.</p>
<p>The significance of tau-b is the probability that the correlation indicated by tau-b was due to chance&mdash;a value of 0 to 1. A small value indicates a significant correlation for positive values of tau-b (or anticorrelation for negative values of tau-b).</p>
<p><a id="SQLRF51308"></a><span class="subhead3">CORR_K Example&nbsp;</span>Using Kendall's tau-b correlation coefficient, the following example determines whether a correlation exists between an employee's salary and commission percent:</p>
<pre dir="ltr">
SELECT CORR_K(salary, commission_pct, 'COEFFICIENT') coefficient,
       CORR_K(salary, commission_pct, 'TWO_SIDED_SIG') two_sided_p_value
  FROM employees;

COEFFICIENT TWO_SIDED_P_VALUE
----------- -----------------
 .603079768        3.4702E-07
</pre></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1858">
<tr>
<td class="cellalignment1865">
<table class="cellalignment1863">
<tr>
<td class="cellalignment1862"><a href="functions035.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1862"><a href="functions037.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1867">
<table class="cellalignment1861">
<tr>
<td class="cellalignment1862"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1862"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1862"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1862"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1862"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1862"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
