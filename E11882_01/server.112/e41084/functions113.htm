<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>NLSSORT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1075" />
<meta name="dcterms.created" content="2016-01-05T5:45:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database SQL Language Reference" />
<meta name="dcterms.identifier" content="E41084-04" />
<meta name="dcterms.isVersionOf" content="SQLRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="functions112.htm" title="Previous" type="text/html" />
<link rel="Next" href="functions114.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41084.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">153/522</span> <!-- End Header --><a id="i78399"></a>
<div id="SQLRF00678" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">NLSSORT <a id="sthref1292"></a><a id="sthref1293"></a></h1>
<p class="subhead1"><a id="SQLRF51560"></a>Syntax</p>
<img width="412" height="46" src="img/nlssort.gif" alt="Description of nlssort.gif follows" /><br />
<a id="sthref1294" href="img_text/nlssort.htm">Description of the illustration ''nlssort.gif''</a><br />
<br />
<p class="subhead1"><a id="SQLRF51561"></a>Purpose</p>
<p><code dir="ltr">NLSSORT</code> returns the string of bytes used to sort <code dir="ltr"><span class="codeinlineitalic">char</span></code>.</p>
<p>Both <code dir="ltr"><span class="codeinlineitalic">char</span></code> and <code dir="ltr"><span class="codeinlineitalic">'nlsparam'</span></code> can be any of the data types <code dir="ltr">CHAR</code>, <code dir="ltr">VARCHAR2</code>, <code dir="ltr">NCHAR</code>, or <code dir="ltr">NVARCHAR2</code>.</p>
<p>The value of <code dir="ltr"><span class="codeinlineitalic">'nlsparam'</span></code> can have the form</p>
<pre dir="ltr">
'NLS_SORT = sort'
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">sort</span></code> is a linguistic sort sequence (collation) or <code dir="ltr">BINARY</code>. If you omit <code dir="ltr"><span class="codeinlineitalic">'nlsparam'</span></code>, then this function uses the default sort sequence for your session. If you specify <code dir="ltr">BINARY</code>, then this function returns <code dir="ltr"><span class="codeinlineitalic">char</span></code>.</p>
<p>If you specify <code dir="ltr"><span class="codeinlineitalic">'nlsparam'</span></code>, then you can append to the linguistic sort name the suffix <code dir="ltr">_ai</code> to request an accent-insensitive sort or <code dir="ltr">_ci</code> to request a case-insensitive sort. Refer to <a class="olink NLSPG005" href="../../server.112/e10729/ch5lingsort.htm#NLSPG005"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more information on accent- and case-insensitive sorting.</p>
<p>The string returned, also known as the collation key, is of <code dir="ltr">RAW</code> data type. The length of the collation key resulting from a given <code dir="ltr"><span class="codeinlineitalic">char</span></code> value for a given collation may exceed 2000 bytes, which is the maximum length of the <code dir="ltr">RAW</code> value returned by <code dir="ltr">NLSSORT</code>. In this case, <code dir="ltr">NLSSORT</code> calculates the collation key for a maximum prefix, or initial substring, of <code dir="ltr"><span class="codeinlineitalic">char</span></code> so that the calculated result does not exceed 2000 bytes. For monolingual collations, for example <code dir="ltr">FRENCH</code>, the prefix length is typically 1000 characters. For multilingual collations, for example <code dir="ltr">GENERIC_M</code>, the prefix is typically 500 characters. The exact length may be lower or higher depending on the collation and the characters contained in <code dir="ltr"><span class="codeinlineitalic">char</span></code>.</p>
<p>This behavior implies that two character values whose collation keys (<code dir="ltr">NLSSORT</code> results) are compared to find the linguistic ordering are considered equal if they do not differ in the prefix even though they may differ at some further character position. Because the <code dir="ltr">NLSSORT</code> function is used implicitly to find linguistic ordering for comparison conditions, the <code dir="ltr">BETWEEN</code> condition, the <code dir="ltr">IN</code> condition, <code dir="ltr">ORDER</code> <code dir="ltr">BY</code>, <code dir="ltr">GROUP</code> <code dir="ltr">BY</code>, and <code dir="ltr">COUNT</code>(<code dir="ltr">DISTINCT</code>), those operations may return results that are only approximate for long character values. This is a restriction of the current comparison architecture. Currently, the only way to guarantee precise linguistic comparison results is to not compare character values that are longer than 499 characters for monolingual collations and 249 characters for multilingual collations.</p>
<p>This function does not support <code dir="ltr">CLOB</code> data directly. However, <code dir="ltr">CLOB</code>s can be passed in as arguments through implicit data conversion.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="sql_elements002.htm#i55214">"Data Type Comparison Rules"</a> for more information.</div>
<p class="subhead1"><a id="SQLRF51562"></a>Examples</p>
<p>This function can be used to specify sorting and comparison operations based on a linguistic sort sequence rather than on the binary value of a string. The following example creates a test table containing two values and shows how the values returned can be ordered by the <code dir="ltr">NLSSORT</code> function:</p>
<pre dir="ltr">
CREATE TABLE test (name VARCHAR2(15));
INSERT INTO test VALUES ('Gaardiner');
INSERT INTO test VALUES ('Gaberd');
INSERT INTO test VALUES ('Gaasten');

SELECT *
  FROM test
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten
Gaberd

SELECT *
  FROM test
  ORDER BY NLSSORT(name, 'NLS_SORT = XDanish');

NAME
---------------
Gaberd
Gaardiner
Gaasten
</pre>
<p>The following example shows how to use the <code dir="ltr">NLSSORT</code> function in comparison operations:</p>
<pre dir="ltr">
SELECT *
  FROM test
  WHERE name &gt; 'Gaberd'
  ORDER BY name;

no rows selected

SELECT *
  FROM test
  WHERE NLSSORT(name, 'NLS_SORT = XDanish') &gt; 
        NLSSORT('Gaberd', 'NLS_SORT = XDanish')
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten
</pre>
<p>If you frequently use <code dir="ltr">NLSSORT</code> in comparison operations with the same linguistic sort sequence, then consider this more efficient alternative: Set the <code dir="ltr">NLS_COMP</code> parameter (either for the database or for the current session) to <code dir="ltr">LINGUISTIC</code>, and set the <code dir="ltr">NLS_SORT</code> parameter for the session to the desired sort sequence. Oracle Database will use that sort sequence by default for all sorting and comparison operations during the current session:</p>
<pre dir="ltr">
ALTER SESSION SET NLS_COMP = 'LINGUISTIC';
ALTER SESSION SET NLS_SORT = 'XDanish';

SELECT *
  FROM test
  WHERE name &gt; 'Gaberd'
  ORDER BY name;

NAME
---------------
Gaardiner
Gaasten
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NLSPG005" href="../../server.112/e10729/ch5lingsort.htm#NLSPG005"><span class="italic">Oracle Database Globalization Support Guide</span></a> for information on sort sequences</div>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1858">
<tr>
<td class="cellalignment1865">
<table class="cellalignment1863">
<tr>
<td class="cellalignment1862"><a href="functions112.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1862"><a href="functions114.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1867">
<table class="cellalignment1861">
<tr>
<td class="cellalignment1862"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1862"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1862"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1862"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1862"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1862"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
