<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>PREDICTION</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1075" />
<meta name="dcterms.created" content="2016-01-05T5:45:39Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database SQL Language Reference" />
<meta name="dcterms.identifier" content="E41084-04" />
<meta name="dcterms.isVersionOf" content="SQLRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="functions131.htm" title="Previous" type="text/html" />
<link rel="Next" href="functions133.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e41084.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">172/522</span> <!-- End Header --><a id="CJAFCHEG"></a>
<div id="SQLRF06219" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h1 class="refsect1">PREDICTION <a id="sthref1360"></a><a id="sthref1361"></a></h1>
<p class="subhead1"><a id="SQLRF51623"></a>Syntax</p>
<img width="690" height="46" src="img/prediction.gif" alt="Description of prediction.gif follows" /><br />
<a id="sthref1362" href="img_text/prediction.htm">Description of the illustration ''prediction.gif''</a><br />
<br />
<p class="subhead2"><a id="SQLRF51624"></a><span class="italic">cost_matrix_clause</span>::=</p>
<img width="617" height="143" src="img/cost_matrix_clause.gif" alt="Description of cost_matrix_clause.gif follows" /><br />
<a id="sthref1363" href="img_text/cost_matrix_clause.htm">Description of the illustration ''cost_matrix_clause.gif''</a><br />
<br />
<p class="subhead2"><a id="SQLRF51625"></a><span class="italic">mining_attribute_clause</span>::=</p>
<img width="426" height="162" src="img/mining_attribute_clause.gif" alt="Description of mining_attribute_clause.gif follows" /><br />
<a id="sthref1364" href="img_text/mining_attribute_clause.htm">Description of the illustration ''mining_attribute_clause.gif''</a><br />
<br />
<p class="subhead1"><a id="SQLRF51626"></a>Purpose</p>
<p>This function is for use with mining models created by the <code dir="ltr">DBMS_DATA_MINING</code> package or with Oracle Data Miner. It returns the best prediction for the model. The data type returned depends on the target value type used during the build of the model. For regression models, this function returns the expected value.</p>
<p><a id="SQLRF51627"></a><span class="subhead3"><span class="italic">cost_matrix_clause</span> &nbsp;</span>The <code dir="ltr">COST</code> clause is relevant for all classification models.</p>
<ul>
<li>
<p>Specify <code dir="ltr">COST</code> <code dir="ltr">MODEL</code> to indicate that the scoring should be performed by taking into account the scoring cost matrix associated with the model. If no such scoring cost matrix exists, then the database returns an error.</p>
</li>
<li>
<p>Specify <code dir="ltr">COST</code> <code dir="ltr">MODEL</code> <code dir="ltr">AUTO</code> if the existence of a cost matrix is unknown. In this case:</p>
<ul>
<li>
<p>If the stored cost matrix exists, then the function returns the lowest cost prediction using the stored cost matrix.</p>
</li>
<li>
<p>If no stored cost matrix exists, then the function returns the highest probability prediction.</p>
</li>
</ul>
</li>
<li>
<p>Use the <code dir="ltr">VALUES</code> clause (the bottom branch of the <code dir="ltr"><span class="codeinlineitalic">cost_matrix_clause</span></code>) to specify an inline cost matrix. You can use an inline cost matrix regardless of whether the model has an associated scoring cost matrix. Refer to <a class="olink DMPRG243" href="../../datamine.112/e12218/models_deploying.htm#DMPRG243"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for an example of an inline cost matrix</p>
</li>
</ul>
<p>If you omit the <code dir="ltr"><span class="codeinlineitalic">cost_matrix_clause</span></code> clause, then the best prediction is the target class with the highest probability. If two or more classes are tied with the highest probability, the database chooses one class.</p>
<p><a id="CJAJACJD"></a><a id="SQLRF51628"></a><span class="subhead3"><span class="italic">mining_attribute_clause</span>&nbsp;</span>This maps the predictors that were provided when the model was built. Specifying <code dir="ltr">USING *</code> maps to all to the columns and expressions that can be retrieved from the underlying inputs (tables, views, and so on).</p>
<ul>
<li>
<p>If you specify more predictors in the <code dir="ltr"><span class="codeinlineitalic">mining_attribute_clause</span></code> than there are predictors used by the model, then the extra expressions are silently ignored.</p>
</li>
<li>
<p>If you specify fewer predictors than are used during the build, then the operation proceeds with the subset of predictors you specify and returns information on a best-effort basis. All types of models will return a result regardless of the number of predictors you specify in this clause.</p>
</li>
<li>
<p>If you specify a predictor with the same name as was used during the build but a different data type, then the database implicitly converts to produce a predictor value of the same type as the original build.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DMCON" href="../../datamine.112/e16808/toc.htm"><span class="italic">Oracle Data Mining Concepts</span></a> for detailed information about Oracle Data Mining</p>
</li>
<li>
<p><a class="olink DMPRG004" href="../../datamine.112/e12218/models_deploying.htm#DMPRG004"><span class="italic">Oracle Data Mining Application Developer's Guide</span></a> for detailed information about scoring with the Data Mining SQL functions</p>
</li>
</ul>
</div>
<p class="subhead1"><a id="SQLRF51629"></a>Example</p>
<p>The following example returns by gender the average age of customers who are likely to use an affinity card. The <code dir="ltr">PREDICTION</code> function takes into account only the <code dir="ltr">cust_marital_status</code>, <code dir="ltr">education</code>, and <code dir="ltr">household_size</code> predictors.</p>
<p>This example, and the prerequisite data mining operations, including the creation of the view, can be found in the demo file <code dir="ltr">$ORACLE_HOME/rdbms/demo/dmdtdemo.sql</code>. General information on data mining demo files is available in <a class="olink DMADM009" href="../../datamine.112/e16807/sampleprogs.htm#DMADM009"><span class="italic">Oracle Data Mining Administrator's Guide</span></a>. The example is presented here to illustrate the syntactic use of the function.</p>
<pre dir="ltr">
SELECT cust_gender, COUNT(*) AS cnt, ROUND(AVG(age)) AS avg_age
   FROM mining_data_apply_v
   WHERE PREDICTION(DT_SH_Clas_sample COST MODEL
      USING cust_marital_status, education, household_size) = 1
   GROUP BY cust_gender
   ORDER BY cust_gender;

C        CNT    AVG_AGE
- ---------- ----------
F        170         38
M        685         42
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1858">
<tr>
<td class="cellalignment1865">
<table class="cellalignment1863">
<tr>
<td class="cellalignment1862"><a href="functions131.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1862"><a href="functions133.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1867">
<table class="cellalignment1861">
<tr>
<td class="cellalignment1862"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1862"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1862"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1862"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1862"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1862"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
