<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring Oracle Net Services</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1058" />
<meta name="dcterms.created" content="2015-06-25T1:51:6Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Administrator's Reference" />
<meta name="dcterms.identifier" content="E56697-01" />
<meta name="dcterms.isVersionOf" content="VMSAR" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="ch4.htm" title="Previous" type="text/html" />
<link rel="Next" href="ch6.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e56697.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/18</span> <!-- End Header -->
<div id="VMSAR420" class="chapter"><a id="g31798"></a> <a id="i8440"></a>
<h1 class="chapter"><span class="secnum">5</span> Configuring Oracle Net Services</h1>
<p>This chapter provides conceptual and configuration information about Oracle Net Services in the HP OpenVMS environment.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for detailed information about Oracle Net Services architecture</div>
<p>It contains the following topics:</p>
<ul>
<li>
<p><a href="#i21935">Section 5.1, "Oracle Net Services Configuration Overview"</a></p>
</li>
<li>
<p><a href="#i22426">Section 5.2, "Oracle Net Services Installation"</a></p>
</li>
<li>
<p><a href="#i21902">Section 5.3, "Oracle Net Services and TNS"</a></p>
</li>
<li>
<p><a href="#i10554">Section 5.4, "Protocol Adapters"</a></p>
</li>
<li>
<p><a href="#i25111">Section 5.5, "TNS Listener"</a></p>
</li>
<li>
<p><a href="#i11699">Section 5.6, "Advanced Security Option"</a></p>
</li>
<li>
<p><a href="#BABJHEII">Section 5.7, "Oracle Net Services Configuration Files"</a></p>
</li>
<li>
<p><a href="#i39123">Section 5.8, "Configuring Oracle Net Services Protocol Support"</a></p>
</li>
<li>
<p><a href="#i27933">Section 5.9, "BEQ Protocol Support"</a></p>
</li>
<li>
<p><a href="#i37905">Section 5.10, "IPC Protocol Support"</a></p>
</li>
<li>
<p><a href="#i16278">Section 5.11, "TCP/IP Protocol Support"</a></p>
</li>
</ul>
<a id="i21935"></a>
<div id="VMSAR421" class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Oracle Net Services Configuration<a id="sthref221"></a> Overview</h2>
<p>Oracle Net Services is a communications software product that enables you to create a data management environment to share information stored in Oracle Database installations. <a id="sthref222"></a>Oracle Net Services uses the communications protocols supported by various operating systems to provide a distributed processing and distributed database environment for Oracle. Oracle Net Services also refers to a set of products or adapters that support industry-standard protocols such as TCP/IP.</p>
<p>An Oracle Database management system can be configured in one of the following ways:</p>
<ul>
<li>
<p><a href="#i24921">Section 5.1.1, "Centralized Configuration"</a></p>
</li>
<li>
<p><a href="#i10145">Section 5.1.2, "Client/Server Configuration"</a></p>
</li>
<li>
<p><a href="#i10151">Section 5.1.3, "Distributed Database Configuration"</a></p>
</li>
</ul>
<a id="i24921"></a>
<div id="VMSAR422" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.1</span> Centralized Configuration</h3>
<p><a id="sthref223"></a><a id="sthref224"></a>In a <a id="sthref225"></a>centralized configuration, Oracle Database and Oracle Database Client are located on the same system. This system is not necessarily on a network, and you can access the application through terminals. If you use a centralized configuration, then you can use a simple <a id="sthref226"></a>Oracle Net Services adapter called the <span class="italic"><a id="sthref227"></a>Bequeath adapter</span>, which requires no Oracle Net Services configuration. However, if you want to use <a id="sthref228"></a>Oracle Shared Servers, then you must configure Oracle Net Services even in centralized configurations.</p>
</div>
<!-- class="sect2" -->
<a id="i10145"></a>
<div id="VMSAR423" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.2</span> <a id="sthref229"></a>Client/Server Configuration</h3>
<p><a id="sthref230"></a><a id="sthref231"></a>In a <a id="sthref232"></a>client/server configuration, Oracle Database resides on a multitasking server system, and the client side of the applications resides on another computer, such as a workstation or personal computer. The client and server are connected by a physical network and communicate through a network protocol such as TCP/IP. In a client/server environment, the Oracle application built with an application development tool makes database requests to the server over the network.</p>
</div>
<!-- class="sect2" -->
<a id="i10151"></a>
<div id="VMSAR424" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.3</span> <a id="sthref233"></a>Distributed Database Configuration</h3>
<p><a id="sthref234"></a><a id="sthref235"></a><a id="sthref236"></a>In a distributed database configuration, users query separate databases as a single database. The major advantage of a distributed database is that users and applications are not required to know where the data resides. You can query database tables by name, regardless of how the network protocols work together to access the required remote database containing the table. Therefore, <a id="sthref237"></a>Oracle Net Services users can communicate and share database information stored in different locations, on different computers, with different operating systems. Distributed databases enable local administration of data and can reduce network traffic if the data that is accessed most often at a location can be stored locally.</p>
<p>Oracle Net Services allows the client and the server to communicate over a variety of media and protocols. A client/server configuration allows DBAs to distribute CPU-intensive user interfaces to low-cost workstations. It also allows application users to be greeted with the graphical user interface (GUI) with which they are most familiar.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i22426"></a>
<div id="VMSAR425" class="sect1">
<h2 class="sect1"><span class="secnum">5.2</span> Oracle Net Services Installation</h2>
<p>When you install <a id="sthref238"></a><a id="sthref239"></a>Oracle Net Services on HP OpenVMS, the following protocol adapters are automatically installed:</p>
<ul>
<li>
<p>TCP/IP</p>
</li>
<li>
<p>Bequeath</p>
</li>
<li>
<p>IPC</p>
</li>
<li>
<p>TCPS</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OIDBI" href="../../install.112/e56668/toc.htm"><span class="italic">Oracle Database Installation Guide for HP OpenVMS Itanium</span></a></p>
</li>
<li>
<p>The <code dir="ltr">ORA_RDBMS:READMEVMS.DOC</code> file</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i21902"></a>
<div id="VMSAR426" class="sect1">
<h2 class="sect1"><span class="secnum">5.3</span> <a id="sthref240"></a><a id="sthref241"></a><a id="sthref242"></a>Oracle Net Services and TNS</h2>
<p>Oracle Net Services connects dissimilar networks together and enables client/server transactions to be conducted transparently. A user does not have to know that a network exists, because Oracle Net Services hides the complexity of system-level interactions by presenting a layer of interconnectivity to the user through its client/server architecture. This layer is called <a id="sthref243"></a>Transparent Network Substrate (TNS).</p>
<p>The transaction proceeds as follows:</p>
<ol>
<li>
<p>The client sends a request for data.</p>
</li>
<li>
<p>Oracle Net Services packages the request and sends it to the TNS.</p>
</li>
<li>
<p>TNS routes the packaged request to the server.</p>
</li>
<li>
<p>Oracle Net Services on the server side unpackages the request and sends it to Oracle Database 11<span class="italic">g</span>.</p>
</li>
<li>
<p>Oracle Database 11<span class="italic">g</span> processes the request and sends the requested data to Oracle Net Services.</p>
</li>
<li>
<p>Oracle Net Services packages the data and sends it to TNS.</p>
</li>
<li>
<p>TNS routes the data to the client.</p>
</li>
<li>
<p>Oracle Net Services on the client side unpackages the data and sends it to the application.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i10554"></a>
<div id="VMSAR427" class="sect1">
<h2 class="sect1"><span class="secnum">5.4</span> Protocol Adapters</h2>
<div class="infobox-note">
<p class="notep1">Note:</p>
This section supplements the information given in <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</div>
<p>This section gives information about the following <a id="sthref244"></a><a id="sthref245"></a>protocol adapters on HP OpenVMS:</p>
<ul>
<li>
<p><a href="#i21904">Section 5.4.1, "IPC-Mailbox Protocol"</a></p>
</li>
<li>
<p><a href="#i24979">Section 5.4.2, "TCP/IP Protocol"</a></p>
</li>
<li>
<p><a href="#i22112">Section 5.4.3, "BEQ-Bequeath Protocol"</a></p>
</li>
<li>
<p><a href="#i21909">Section 5.4.4, "Bequeath Listener"</a></p>
</li>
</ul>
<a id="i21904"></a>
<div id="VMSAR428" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.1</span> IPC-Mailbox Protocol<a id="sthref246"></a><a id="sthref247"></a></h3>
<p>The <a id="sthref248"></a>Mailbox protocol adapter, or IPC adapter, is automatically configured for use when you install <a id="sthref249"></a>Oracle Net Services. It can be used for client/server connections when both client and server are on the same HP OpenVMS node. If the client and server are on different systems, then the connection must take place using <a id="sthref250"></a>TCP/IP.</p>
<p>When configuring the <code dir="ltr">TNS</code> listener to listen for mailbox connections, you must specify a <code dir="ltr">KEY</code> value in the <a id="sthref251"></a><code dir="ltr">LISTENER.ORA</code> file for the IPC protocol. The listener then creates a mailbox. This mailbox listens for connections and creates a systemwide logical name (the same as the <code dir="ltr">KEY</code> value) that translates to this mailbox device. It is through this logical name that clients find the mailbox of the listener.</p>
<p>The Oracle Shared Server must be configured to use only TCP/IP protocol. The IPC protocol cannot be used here.</p>
<p class="subhead2"><a id="VMSAR429"></a>Syntax</p>
<p>The following fields must be defined:</p>
<pre dir="ltr">
(PROTOCOL=IPC)
(KEY=<span class="italic">IPC logical name</span>)
</pre>
<p>where:</p>
<p><code dir="ltr">PROTOCOL</code> is the keyword that identifies the specific protocol adapter used. For this protocol, the value is IPC. The value can be entered in either uppercase or lowercase, and</p>
<p><code dir="ltr">KEY</code> is the logical name used to connect to the listener through the Mailbox adapter.</p>
<p class="subhead2"><a id="VMSAR430"></a>Example</p>
<p>This example shows the two fields for the HP OpenVMS Mailbox adapter.</p>
<pre dir="ltr">
(PROTOCOL=IPC)
(KEY=ORA_IPC)
</pre></div>
<!-- class="sect2" -->
<a id="i24979"></a>
<div id="VMSAR431" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.2</span> TCP/IP Protocol<a id="sthref252"></a><a id="sthref253"></a><a id="sthref254"></a></h3>
<p>The TCP/IP protocol adapter provides support for client/server connections using TCP/IP as a protocol. You can turn <a id="sthref255"></a>Oracle Net Services support for TCP/IP on or off by using the options available on the NetConfig configuration screen.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OIDBI" href="../../install.112/e56668/toc.htm"><span class="italic">Oracle Database Installation Guide for HP OpenVMS Itanium</span></a></div>
<p>Oracle Net Services on HP OpenVMS is developed and certified by using the Hewlett-Packard TCP/IP Services for HP OpenVMS, which is also known as UCX. If you want to use the TCP/IP protocol adapter for Oracle Net Services, then you should have version 5.5 - ECO 1, or later, TCP/IP Services for HP OpenVMS installed. TCP/IP protocol stacks from other vendors may work with Oracle, but customers use these products at their own risk. Any TCP/IP problems that cannot be reproduced by using TCP/IP Services for HP OpenVMS should be referred to the TCP/IP vendor.</p>
<p class="subhead2"><a id="VMSAR432"></a>Syntax</p>
<p>The following fields must be defined:</p>
<pre dir="ltr">
(<span class="italic">PROTOCOL</span>=TCP)
(<span class="italic">HOST</span>=hostname)
(<span class="italic">PORT</span>=port#)
</pre>
<p>The following field is optional:</p>
<pre dir="ltr">
(QUEUESIZE=n)
</pre>
<p>In the preceding syntax:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">PROTOCOL</span></code> is the keyword that identifies the specific protocol adapter used.</p>
<p>For this protocol, the value is TCP. The value can be entered in either uppercase or lowercase.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">HOST</span></code> is the host name or IP address.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">PORT#</span></code> is the TCP/IP port number.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">Queuesize</span></code> is the parameter that increases the queue size. This parameter is optional. If it is not specified, then the default value is 20. If simultaneous connections are made to the listener, then some connection requests may not be received if the listener socket queue size is too small</p>
</li>
</ul>
<p><a id="VMSAR433"></a><span class="subhead3">Example&nbsp;</span>In this example, the TCP/IP connect descriptor specifies a listener on the <code dir="ltr">VMS1</code> node.</p>
<pre dir="ltr">
(PROTOCOL=TCP)
(HOST=VMS1)
(PORT=1526)
</pre></div>
<!-- class="sect2" -->
<a id="i22112"></a>
<div id="VMSAR434" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.3</span> BEQ-Bequeath Protocol<a id="sthref256"></a><a id="sthref257"></a><a id="sthref258"></a></h3>
<p>Each database that you want to connect with the <a id="sthref259"></a>Bequeath protocol adapter must have a command file named <code dir="ltr">ORASRV_BEQ_</code><code dir="ltr">sid</code><code dir="ltr">.COM</code> in <code dir="ltr">ORA_ROOT:[NETWORK.ADMIN]</code>. If you used Oracle Database Configuration Assistant to create the database, or if you upgraded the database, then this file is automatically created. However, if you manually created the database, or if you must re-create this file for any reason, then you must create this command procedure manually by executing <code dir="ltr">ORA_NETWORK:CREATE_ORASRV_BEQ.COM</code>.</p>
</div>
<!-- class="sect2" -->
<a id="i21909"></a>
<div id="VMSAR435" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.4</span> Bequeath Listener<a id="sthref260"></a></h3>
<p>On HP OpenVMS, the <code dir="ltr">Bequeath</code> listener is used as a default to provide dedicated server connections for a local client. The <code dir="ltr">Bequeath</code> listener, running as a detached process, creates detached server processes to service clients on the same system by using the Bequeath adapter. This allows Oracle Database to run in a suitably privileged process.</p>
<p>For each request from the client, the <code dir="ltr">Bequeath</code> listener creates a detached server process and two mailboxes. It then sends the mailbox names to the client, and the client establishes a connection to the server using these mailboxes.</p>
<p>By default, these mailboxes are created with a buffer quota of 8192 bytes and a maximum message size of 2048 bytes. You can change these parameters by defining logical names in the <code dir="ltr">ORASRV_BEQ_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.com</code> file with other values. For example:</p>
<pre dir="ltr">
$ define ORA_BEQ_MBXSIZ <span class="italic">n</span> 
$ define ORA_BEQ_MBXBFQ <span class="italic">n</span> 
</pre>
<p>The maximum value for the mailbox buffer quotas is 60000 bytes. You should adjust these values carefully, and you should adjust them for performance reasons only.</p>
<p>The <code dir="ltr">Bequeath</code> listener uses a known mailbox name to listen for client requests. This mailbox name is in the format:</p>
<pre dir="ltr">
ORA_BEQ_READ_MBX_<span class="italic">xxxxxxxxxx_n</span> 
</pre>
<p>where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">xxxxxxxxxx</span></code> is the Oracle install ID unique to the system (padded with zeroes).</p>
<p><code dir="ltr"><span class="codeinlineitalic">n</span></code> is a single-digit number (0-9) that is the <code dir="ltr">Bequeath</code> listener number.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGBGAC">Section 5.4.4.1, "Starting Up the Bequeath Listener"</a></p>
</li>
<li>
<p><a href="#BABJDEHA">Section 5.4.4.2, "Determining the Status of the Bequeath Listener"</a></p>
</li>
<li>
<p><a href="#BABBGCBH">Section 5.4.4.3, "Shutting Down the Bequeath Listener"</a></p>
</li>
<li>
<p><a href="#BABCIBDH">Section 5.4.4.4, "Problem Resolution"</a></p>
</li>
<li>
<p><a href="#BABDIFAE">Section 5.4.4.5, "Bequeath Listener Privileges"</a></p>
</li>
</ul>
<a id="BABGBGAC"></a>
<div id="VMSAR436" class="sect3">
<h4 class="sect3"><span class="secnum">5.4.4.1</span> <a id="sthref261"></a>Starting Up the Bequeath Listener</h4>
<p>The <code dir="ltr">Bequeath</code> listener starts automatically when the <code dir="ltr">INSORACLE</code> command procedure is run, usually at installation time or during system startup. Unless you decide to run the <code dir="ltr">REMORACLE</code> command, the <code dir="ltr">Bequeath</code> listener should be up and running all the time.</p>
<p>If the <code dir="ltr">Bequeath</code> listener is down and you want to start it, then run the following command:</p>
<pre dir="ltr">
$ BEQLSNR START [n]
</pre>
<p>If you do not provide the optional numeric parameter, then <code dir="ltr">Bequeath</code> listener 0 is started. To start additional <code dir="ltr">Bequeath</code> listeners, provide the listener number when you run the command.</p>
</div>
<!-- class="sect3" -->
<a id="BABJDEHA"></a>
<div id="VMSAR437" class="sect3">
<h4 class="sect3"><span class="secnum">5.4.4.2</span> <a id="sthref262"></a>Determining the Status of the Bequeath Listener</h4>
<p>You can run a status command to determine if the <code dir="ltr">Bequeath</code> listener is up and running. Run the following command:</p>
<pre dir="ltr">
$ BEQLSNR STATUS [n]
</pre>
<p>If you do not provide the optional numeric parameter, then <code dir="ltr">Bequeath</code> listener 0 is queried. To determine the status of any other <code dir="ltr">Bequeath</code> listeners, provide the listener number when you run the command.</p>
</div>
<!-- class="sect3" -->
<a id="BABBGCBH"></a>
<div id="VMSAR438" class="sect3">
<h4 class="sect3"><span class="secnum">5.4.4.3</span> <a id="sthref263"></a>Shutting Down the Bequeath Listener</h4>
<p>To stop the <code dir="ltr">Bequeath</code> listener, run the following command:</p>
<pre dir="ltr">
$ BEQLSNR STOP [n]
</pre>
<p>If you do not provide the optional numeric parameter, then all <code dir="ltr">Bequeath</code> listeners for the installation are stopped. To stop a particular <code dir="ltr">Bequeath</code> listener, provide its number at the command line.</p>
</div>
<!-- class="sect3" -->
<a id="BABCIBDH"></a>
<div id="VMSAR439" class="sect3">
<h4 class="sect3"><span class="secnum">5.4.4.4</span> <a id="sthref264"></a>Problem Resolution</h4>
<p>This section details the steps that you can take to resolve problems with a <code dir="ltr">Bequeath</code> listener.</p>
<p class="subhead2"><a id="VMSAR440"></a>Collecting Bequeath Client Trace Information:</p>
<ol>
<li>
<p>Look for a file in <code dir="ltr">ORA_ROOT:[network.log]BEQ_sid_pid.LOG</code> that corresponds to the time of a client connect/disconnect issue.</p>
</li>
<li>
<p>Make file available to Oracle Support.</p>
</li>
</ol>
<p class="subhead2"><a id="VMSAR441"></a>Writing <a id="sthref265"></a>Trace Information</p>
<p>The <code dir="ltr">Bequeath</code> listener writes some trace information. Because the output of the detached processes is set to the null device (<code dir="ltr">NL:</code>), usually, you will not see it.</p>
<p>To get the trace information from the <a id="sthref266"></a><a id="sthref267"></a><code dir="ltr">Bequeath</code> listener:</p>
<ol>
<li>
<p>Stop the <code dir="ltr">Bequeath</code> listener.</p>
</li>
<li>
<p>Edit <code dir="ltr">STARTUP_BEQLSNR.COM</code>.</p>
</li>
<li>
<p>Change <code dir="ltr">NL:</code> to a file name.</p>
</li>
<li>
<p>Restart the <code dir="ltr">Bequeath</code> listener.</p>
</li>
</ol>
<p class="subhead2"><a id="VMSAR442"></a>Changing the Quota for a Server Process That is Created by the Bequeath Listener</p>
<p>To change the process quotas, modify the <code dir="ltr">BEQLSNR.COM</code> file and remove the comment characters for the quota parameter that you want to change. You must stop and then restart the <code dir="ltr">Bequeath</code> listener after modifying this file.</p>
<p class="subhead2"><a id="VMSAR443"></a>For all<a id="sthref268"></a><a id="sthref269"></a> <a id="sthref270"></a>ORA-12203 Problems</p>
<p>Ensure that after starting the <code dir="ltr">Bequeath</code> listener, the HP OpenVMS logical name <code dir="ltr">ORA_BEQ</code> has the correct install id as part of its value.</p>
<p>Example (with the <code dir="ltr">Bequeath</code> listener running):</p>
<pre dir="ltr">
$type ora_rootdir:install.id
SERVER_65954DA0
 
$show log *beq*
 
(LNM$PROCESS_TABLE)
(SERVER_65954DA0)
 
"ORA_BEQ" = "65954DA0"
 
(LNM$JOB_8221BDC0)
 
(LNM$GROUP_000610)
 
(LNM$SYSTEM_TABLE)
 
"ORA_BEQ_READ_MBX_65954DA0_0" = "MBA3737:"
</pre>
<p class="subhead2"><a id="VMSAR444"></a>Problem: <a id="sthref271"></a><a id="sthref272"></a>ORA-12203: TNS: unable to connect to destination</p>
<p>If you experience this problem, then run the <code dir="ltr">BEQLSNR STATUS</code> command to determine if the <a id="sthref273"></a><code dir="ltr">Bequeath</code> listener is up and running. If the <code dir="ltr">Bequeath</code> listener does not respond, then run the <code dir="ltr">BEQLSNR STOP</code> command to stop the <code dir="ltr">Bequeath</code> listener and run the <code dir="ltr">BEQLSNR START</code> command to restart it.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Contact Oracle Support if the <code dir="ltr">Bequeath</code> listener does not respond, even after restarting it.</div>
<p class="subhead2"><a id="VMSAR445"></a><a id="sthref274"></a><a id="sthref275"></a><a id="sthref276"></a>Client Problem: ORA-12203: TNS: unable to connect to destination</p>
<p>Use one of the following solutions:</p>
<ul>
<li>
<p>Change the <code dir="ltr">ORA_BEQ_TIMEOUT</code> logical name to something greater than 120 seconds. Before running the client program, you must define this logical name in the <code dir="ltr">ORA_NETWORK:BEQLSNR.COM</code> file.</p>
</li>
<li>
<p>Define the <code dir="ltr">ORA_BEQ_NUM_OF_LISTENERS</code> logical name to a value between 1 and 10 to increase the capacity, when a number of clients are connecting at the same time to the <code dir="ltr">Bequeath</code> listener.This is the number of <code dir="ltr">Bequeath</code> listener that you must run.</p>
</li>
</ul>
<p>With this method, you can increase the number of connections that the Bequeath listeners can handle concurrently. Each time that a client requests a connection, it randomly picks one of the Bequeath listeners that run to serve it with the connection request. You do not need to stop and restart the <code dir="ltr">Bequeath</code> listener after defining this logical name. This logical name determines the number of <code dir="ltr">Bequeath</code> listeners. However, you must start explicitly each <code dir="ltr">Bequeath</code> listener by running the following command:</p>
<pre dir="ltr">
$ BEQLSNR START <span class="italic">n</span>
</pre>
<p>In this command, <code dir="ltr"><span class="codeinlineitalic">n</span></code> is an integer that starts from 1 for the first listener and goes up to the value of the <code dir="ltr">ORA_BEQ_NUM_OF_LISTENERS</code> logical name.</p>
</div>
<!-- class="sect3" -->
<a id="BABDIFAE"></a>
<div id="VMSAR446" class="sect3">
<h4 class="sect3"><span class="secnum">5.4.4.5</span> <a id="sthref277"></a>Bequeath Listener Privileges</h4>
<p>The <code dir="ltr">Bequeath</code> listener must have the HP OpenVMS privileges listed in <a href="#g27102">Table 5-1</a> to be able to perform the associated functions listed in the table.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before attempting to start the <a id="sthref278"></a><code dir="ltr">Bequeath</code> listener or the <a id="sthref279"></a>TNS listener, the process that starts the <code dir="ltr">Bequeath</code> listener must have the privileges listed in <a href="#g27102">Table 5-1</a> or be able to have them set. Refer to <a href="#i21912">Section 5.5.2, "TNS Listener Privileges"</a> for more information about setting <code dir="ltr">TNS</code> listener privileges.</div>
<p><a href="#g27102">Table 5-1</a> describes the HP Open VMS privileges and functions of <code dir="ltr">Bequeath</code> TNS listeners.</p>
<div id="VMSAR447" class="tblformal">
<p class="titleintable"><a id="sthref280"></a><a id="g27102"></a>Table 5-1 Privileges and Functions of Bequeath TNS Listeners</p>
<table class="cellalignment1602" title="Privileges and Functions of Bequeath TNS Listeners" summary="This table lists the OpenVMS privileges and their functions. The Bequeath Listener must have these privileges to be able to perform their associated functions." dir="ltr">
<thead>
<tr class="cellalignment1596">
<th class="cellalignment1603" id="r1c1-t8">Privilege</th>
<th class="cellalignment1603" id="r1c2-t8">Function</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r2c1-t8" headers="r1c1-t8">
<p>CMKRNL</p>
</td>
<td class="cellalignment1604" headers="r2c1-t8 r1c2-t8">
<p>Pass this privilege to server processes that the listener creates.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r3c1-t8" headers="r1c1-t8">
<p>DETACH</p>
</td>
<td class="cellalignment1604" headers="r3c1-t8 r1c2-t8">
<p>Create detached processes.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r4c1-t8" headers="r1c1-t8">
<p>LOG_IO</p>
</td>
<td class="cellalignment1604" headers="r4c1-t8 r1c2-t8">
<p>Perform certain I/O functions.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r5c1-t8" headers="r1c1-t8">
<p>PRMMBX</p>
</td>
<td class="cellalignment1604" headers="r5c1-t8 r1c2-t8">
<p>Create a permanent mailbox on which to listen. (The mailbox is permanent so that the logical name associated with it goes into the <code dir="ltr">SYSTEM</code> logical name table.)</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r6c1-t8" headers="r1c1-t8">
<p>SYSLCK</p>
</td>
<td class="cellalignment1604" headers="r6c1-t8 r1c2-t8">
<p>Lock systemwide resources.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r7c1-t8" headers="r1c1-t8">
<p>SYSNAM</p>
</td>
<td class="cellalignment1604" headers="r7c1-t8 r1c2-t8">
<p>Create <code dir="ltr">SYSTEM</code> logical names and shared logical name tables.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r8c1-t8" headers="r1c1-t8">
<p>SHARE</p>
</td>
<td class="cellalignment1604" headers="r8c1-t8 r1c2-t8">
<p>May assign channels to nonshared devices.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r9c1-t8" headers="r1c1-t8">
<p>TMPMBX</p>
</td>
<td class="cellalignment1604" headers="r9c1-t8 r1c2-t8">
<p>Create temporary mailboxes.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r10c1-t8" headers="r1c1-t8">
<p>WORLD</p>
</td>
<td class="cellalignment1604" headers="r10c1-t8 r1c2-t8">
<p>Enable the listener to get information about and to control processes that it may not have created, such as dispatchers and shared server processes.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i25111"></a>
<div id="VMSAR448" class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> TNS Listener</h2>
<p>The function of the <a id="sthref281"></a><code dir="ltr">TNS</code> listener is to receive connection requests from local or remote clients and to provide the client with a server process to which the client can connect. The listener can service multiple instances. For each instance, the listener keeps a list of services that provide access to that instance. If multithreaded servers are being used, then the listener may direct a client connection to a dispatcher. Otherwise, for dedicated servers, the listener directs the client connection to an existing <a id="sthref282"></a>Oracle Shared Server or creates a new server process to service the connection.</p>
<p>In Oracle Database 11<span class="italic">g</span>, there is a major change in the way the listener is configured for <a id="sthref283"></a>Oracle Shared Servers. The Oracle Shared Server parameters are not the same as in Oracle8<span class="italic">i</span>. When you configure for Oracle Shared Server, a request for a dedicated server is no longer handled using the parameters from the <code dir="ltr"><a id="sthref284"></a>LISTENER.ORA</code> file. This now happens as part of the dispatcher registration. The <code dir="ltr">PMON</code> process registers dispatchers with the listener for Oracle Shared Server connections.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">SID_LIST_</code><code dir="ltr"><span class="codeinlineitalic">listener</span></code> section is no longer used to establish dedicated server connections. These are now automatically handled by the listener, which directly uses the <code dir="ltr">ORA_ROOT:[NETWORK.ADMIN]ORASRV_NETV2_</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.COM</code> script to launch the dedicated server process. This script is automatically created when a new database or instance is created through Oracle Database Configuration Assistant or scripts provided by Oracle Database Configuration Assistant.</div>
<p>Generic information about the <code dir="ltr">TNS</code> listener and its configuration can be found in the generic Oracle Net Services documentation. This section provides information only about the <code dir="ltr">TNS</code> listener that is specific to HP OpenVMS.</p>
<p>This section contains information about the following topics:</p>
<ul>
<li>
<p><a href="#i21911">Section 5.5.1, "LSNRCTL"</a></p>
</li>
<li>
<p><a href="#i21912">Section 5.5.2, "TNS Listener Privileges"</a></p>
</li>
<li>
<p><a href="#i10690">Section 5.5.3, "Process Quotas"</a></p>
</li>
<li>
<p><a href="#i21914">Section 5.5.4, "ORASRV_NETV2_<span class="italic">SID</span> Command File"</a></p>
</li>
<li>
<p><a href="#i21916">Section 5.5.5, "General Connections"</a></p>
</li>
</ul>
<a id="i21911"></a>
<div id="VMSAR449" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.1</span> LSNRCTL</h3>
<p>The <a id="sthref285"></a><a id="sthref286"></a><code dir="ltr">LSNRCTL</code> utility is used to start and stop the <code dir="ltr">TNS</code> listener and to query its status or services. The <code dir="ltr">LSNRCTL</code> command runs the command procedure <code dir="ltr">ORA_NETCONFIG:LSNRCTL.COM</code>, which provides a shell to the executable program <code dir="ltr">ORA_ROOT:[BIN]LSNRCTL.EXE</code>.</p>
<p>The main function of the command procedure is to check that the privileges required to start the <code dir="ltr">TNS</code> listener are present. These privileges are covered in the following section. If a <code dir="ltr">LSNRCTL START</code> command is entered and the required privileges are not present, then an error message is displayed and <code dir="ltr">LSNRCTL</code> exits.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Start the <code dir="ltr">TNS</code> listener from the Oracle Account.</div>
<div class="infobox-note">
<p class="notep1">Caution:</p>
If you enter the <a id="sthref287"></a><a id="sthref288"></a><code dir="ltr">LSNRCTL</code> interactive mode by giving the <code dir="ltr">LSNRCTL</code> command without a subcommand, and you have received a warning about inadequate privileges, then do not attempt to start the listener. Depending on the privileges you have, although the listener process may start, it may not function properly.</div>
<p>Do not start the <a id="sthref289"></a>listener from a process that has a User Identification Code (UIC) in the system group, for example, a group less than or equal to <code dir="ltr">MAXSYSGROUP</code>. If you enter a <code dir="ltr"><a id="sthref290"></a>LSNRCTL START</code> command from such a process, then an error message is displayed and <code dir="ltr">LSNRCTL</code> exits. If you enter a <code dir="ltr">LSNRCTL</code> command with no arguments, then you are warned not to start the listener from within the <code dir="ltr">LSNRCTL</code> utility. If the listener is running in a system group, then any server processes it creates will be in the system group. The server is shut down, because it does not let itself run in privileged groups.</p>
</div>
<!-- class="sect2" -->
<a id="i21912"></a>
<div id="VMSAR450" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.2</span> TNS L<a id="sthref291"></a>istener Privileges</h3>
<p>The process in which the <code dir="ltr">TNS</code> listener runs must have the HP OpenVMS privileges listed in <a href="#g27102">Table 5-1</a> to be able to perform the associated function.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before attempting to start the <code dir="ltr">TNS</code> listener, the process that starts the listener must have the privileges in <a href="#g27102">Table 5-1</a> or be able to have them set. As noted in the preceding section, the <code dir="ltr">LSNRCTL</code> command attempts to set these privileges and warns the user if it was unable to do so.</div>
</div>
<!-- class="sect2" -->
<a id="i10690"></a>
<div id="VMSAR451" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.3</span> Process Quotas</h3>
<p>P<a id="sthref292"></a><a id="sthref293"></a>rocess quotas for the <code dir="ltr">TNS</code> listener and for the server processes created by the <code dir="ltr">TNS</code> listener can be controlled by logical names. The format of the logical name is:</p>
<pre dir="ltr">
<a id="sthref294"></a>ORA_LSNR_<span class="italic">quotaname</span> 
</pre>
<p>In this format, <code dir="ltr"><span class="codeinlineitalic">quotaname</span></code> can be one of the following:</p>
<ul>
<li>
<p><code dir="ltr">ASTLM</code></p>
</li>
<li>
<p><code dir="ltr">BIOLM</code></p>
</li>
<li>
<p><code dir="ltr">BYTLM</code></p>
</li>
<li>
<p><code dir="ltr">CPULM</code></p>
</li>
<li>
<p><code dir="ltr">DIOLM</code></p>
</li>
<li>
<p><code dir="ltr">ENQLM</code></p>
</li>
<li>
<p><code dir="ltr">FILLM</code></p>
</li>
<li>
<p><code dir="ltr">JTQUOTA</code></p>
</li>
<li>
<p><code dir="ltr">PGFLQUOTA</code></p>
</li>
<li>
<p><code dir="ltr">PRCLM</code></p>
</li>
<li>
<p><code dir="ltr">TQELM</code></p>
</li>
<li>
<p><code dir="ltr">WSQUOTA</code></p>
</li>
<li>
<p><code dir="ltr">WSDEFAULT</code></p>
</li>
<li>
<p><code dir="ltr">WSEXTENT</code></p>
</li>
</ul>
<p>Several of the logical names are defined in the <a id="sthref295"></a><code dir="ltr">LSNRCTL.COM</code> file and control the quotas of the <code dir="ltr">TNS</code> listener process. They are defined in user mode so that they are not present after exiting <code dir="ltr">LSNRCTL</code>. If the <code dir="ltr">TNS</code> listener supports an especially large number of services, then some of these quotas may need to be increased. For the quotas you determine to be deficient, or at the direction of Oracle Support Services, you can edit the quota values in the <code dir="ltr">LSNRCTL.COM</code> file.</p>
<p>To control the quotas of the processes that the <code dir="ltr">TNS</code> listener creates, specify the logical names in the <code dir="ltr">ORA_NETWORK:TNSLSNR.COM</code> file. This is the command file that runs in the <code dir="ltr">TNS</code> listener process. Statements to define these logical names are in the <code dir="ltr">TNSLSNR.COM</code> file, but these statements are put in comments.</p>
<p>If, for example, a very large SGA requires that server processes have larger quotas, then you can activate the appropriate logical name definition in <code dir="ltr">TNSLSNR.COM</code> file by removing the "!" after the "$" and specifying the quota value.</p>
<p>There are no restrictions on the number of quotas that you can specify in the QUOTA list. However, if any quota is specified in the QUOTA list, then none of the quotas specified by logical name is used, and quotas that are not specified in the list will assume the system default.</p>
</div>
<!-- class="sect2" -->
<a id="i21914"></a>
<div id="VMSAR452" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.4</span> ORASRV_NETV2_<span class="italic">SID</span> Command File</h3>
<p>The <a id="sthref296"></a><a id="sthref297"></a><code dir="ltr">ORASRV_NETV2_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.COM</code> file is automatically created for each <code dir="ltr"><span class="codeinlineitalic">SID</span></code> during creation of a database instance.</p>
<p>If an Oracle Shared Server is not being used, then the behavior is the same as seen in earlier releases. The <code dir="ltr">PROGRAM</code> parameter should point to this script in the <code dir="ltr">LISTENER.ORA</code> file. For example:</p>
<pre dir="ltr">
(SID_LIST_LISTENER = 
 (SID_DESC = 
    (SID_NAME = PROD) 
    (PROGRAM= MY_DISK:[<span class="italic">home</span>.NETWORK.ADMIN]ORASRV_NETV2_PROD.COM)
  ) 
) 
</pre>
<p>When the <code dir="ltr">TNS</code> listener starts a dedicated server process, it extracts the value of the <code dir="ltr">PROGRAM</code> parameter from the <code dir="ltr">LISTENER.ORA</code> file.</p>
<p>In an Oracle Shared Server configuration, the <code dir="ltr">TNS</code> listener need not contain the <code dir="ltr">SID_LIST_</code><code dir="ltr"><span class="codeinlineitalic">listener</span></code> section mentioned earlier. The Oracle Shared Server dispatchers register with the <code dir="ltr">TNS</code> listener directly. These dispatchers also specify the command procedure to run for a dedicated procedure.</p>
<p>This command procedure is currently set to the <code dir="ltr">ORA_ ROOT:[NETWORK.ADMIN]ORASRV_NETV2_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.COM</code>, which is created automatically. The location and format of the name of this file cannot be changed. A <code dir="ltr">SID_LIST</code> section in the <code dir="ltr">LISTENER.ORA</code> file that points to the same or different script is completely ignored.</p>
</div>
<!-- class="sect2" -->
<a id="i21916"></a>
<div id="VMSAR453" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.5</span> <a id="sthref298"></a>General Connections</h3>
<p>Ensure that the Oracle Net Services task file defines any logical names used by the <a id="sthref299"></a><code dir="ltr">INIT.ORA</code> parameters <a id="sthref300"></a><code dir="ltr">USER_DUMP_DEST</code> and <a id="sthref301"></a><code dir="ltr">BACKGROUND_DUMP_DEST</code> (if defined).</p>
</div>
<!-- class="sect2" -->
<div id="VMSAR454" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref302"></a>
<h3 class="sect2"><span class="secnum">5.5.6</span> Trace Information for TCPIP connection</h3>
<p>If the TCPIP connection error is unsuccessful, then check for the following file:</p>
<pre dir="ltr">
ORA_ROOT:[NETWORK.LOG]NETV2_sid_pid.LOG
</pre>
<p>This file matches the time of the error. Provide this file to Oracle Support.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i11699"></a>
<div id="VMSAR455" class="sect1">
<h2 class="sect1"><span class="secnum">5.6</span> Advanced Security Option</h2>
<p>This section provides information that is specific to the current release of Advanced Security Option (<a id="sthref303"></a>ASO) for Security and Single Sign-On.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A separate license is required to use ASO.</div>
<p>This section covers the following topics:</p>
<ul>
<li>
<p><a href="#i23783">Section 5.6.1, "Manual Steps for Authentication Adapters"</a></p>
</li>
<li>
<p><a href="#i11591">Section 5.6.2, "Usage Notes for Authentication Adapters"</a></p>
</li>
</ul>
<a id="i23783"></a>
<div id="VMSAR456" class="sect2">
<h3 class="sect2"><span class="secnum">5.6.1</span> Manual Steps for <a id="sthref304"></a>Authentication Adapters</h3>
<p>Set the following parameters in the local <code dir="ltr">INIT.ORA</code> file of the database server:</p>
<pre dir="ltr">
remote_os_authent = false
os_authent_prefix = ""
</pre>
<p class="subhead2"><a id="VMSAR457"></a>For <a id="sthref305"></a>Kerberos5 Adapter</p>
<p>The <code dir="ltr">KRB.CONF</code> file is required on the client side. This configuration file specifies the default realm of the client and maps all known realms to Key Distribution Centers (KDCs).</p>
<p>The following files are required on the server side:</p>
<ul>
<li>
<p><code dir="ltr">KRB.REALMS</code>: This file maps host names and domains into realms.</p>
</li>
<li>
<p><code dir="ltr">V5SRVTAB</code>: This file contains a key that the KDC uses to encrypt a service ticket for the client.</p>
</li>
</ul>
<p>The location of these files must be specified by using corresponding parameters in the <code dir="ltr">SQLNET.ORA</code> file.</p>
<p>In addition, the Oracle Net Services client also creates a credential cache file, whose location must be specified in the <code dir="ltr">SQLNET.ORA</code> file on the client side.</p>
<p>The following is an example of the parameters in the <code dir="ltr">SQLNET.ORA</code> file for an installation that can act as both client and server:</p>
<pre dir="ltr">
SQLNET.AUTHENTICATION_KERBEROS5_SERVICE=ORACLE
SQLNET.AUTHENTICATION_SERVICES = (BEQ,KERBEROS5)
SQLNET.KERBEROS5_KEYTAB = DISK:[TST901.NETWORK.ETC]V5SRVTAB.
SQLNET.KERBEROS5_CONF = DISK:[TST901.NETWORK.KRB5]KRB.CONF
SQLNET.KERBEROS5_REALMS = DISK:[TST901.NETWORK.KRB5]KRB.REALMS
SQLNET.KERBEROS5_CC_NAME = DISK:[TST901.NETWORK.CCACHE]CCFILE.DAT
</pre></div>
<!-- class="sect2" -->
<a id="i11591"></a>
<div id="VMSAR458" class="sect2">
<h3 class="sect2"><span class="secnum">5.6.2</span> Usage Notes for <a id="sthref306"></a><a id="sthref307"></a>Authentication Adapters</h3>
<p>This section covers the usage notes for authentication adapters.</p>
<p class="subhead2"><a id="VMSAR459"></a>General Information</p>
<p>Include the following line in the <code dir="ltr"><a id="sthref308"></a>SQLNET.ORA</code> file:</p>
<pre dir="ltr">
SQLNET.AUTHENTICATION_SERVICES=(NONE)
</pre>
<p>The listener should not participate in the authentication service.</p>
<p>It is recommended that you always include BEQ as one of the authentication services in the <code dir="ltr">SQLNET.ORA</code> file. For example:</p>
<pre dir="ltr">
SQLNET.AUTHENTICATION_SERVICES=(BEQ,KERBEROS5)
</pre>
<p>In this way, connections within the server system through the default Bequeath adapter do not have to go through authentication. This is especially important during database startups and shutdowns.</p>
<p class="subhead2"><a id="VMSAR460"></a><a id="sthref309"></a>Kerberos 5</p>
<ol>
<li>
<p>Ensure that the clock skew between the client system and the system running the KDC is less than one minute.</p>
</li>
<li>
<p>Oracle Database client and server processes use the Coordinated Universal Time (UTC) format (time elapsed since 00:00:00 Jan. 1, 1970 in records). Ensure that the system is set to the correct time zone in terms of deviation from Greenwich Mean Time (GMT). Otherwise, the following error message is written to the Oracle Net Services trace file:</p>
<p><code dir="ltr">Clock skew too great</code></p>
</li>
<li>
<p>Ensure that the value of the <code dir="ltr">SQLNET.AUTHENTICATION_KERBEROS5_SERVICE</code> parameter that you specify in the <code dir="ltr">SQLNET.ORA</code> file matches exactly with the value specified in the KDC. This value is case-sensitive.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJHEII"></a>
<div id="VMSAR461" class="sect1">
<h2 class="sect1"><span class="secnum">5.7</span> Oracle Net Services Configuration Files <a id="sthref310"></a></h2>
<p>This section describes the files that you can use to configure Oracle Net Services products.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a></div>
<p>The default directory for Oracle Net Services configuration files is <code dir="ltr">ORA_ROOT:[NETWORK.ADMIN]</code> or <code dir="ltr">TNS_ADMIN</code>.</p>
<p>Oracle Net Services searches for configuration files in the following order:</p>
<ol>
<li>
<p>For the <code dir="ltr">SQLNET.ORA</code> file, the current working directory from where an application is run</p>
</li>
<li>
<p>The directory specified by the <code dir="ltr">TNS_ADMIN</code> logical name, if it is set</p>
</li>
</ol>
<p>For each system-level configuration file, users may have a corresponding local private configuration file (stored in the user's home directory). The settings in the local file override the settings in the system-level file.</p>
<p><a href="#g41598">Table 5-2</a> lists the system-level configuration files and the corresponding local configuration files.</p>
<div id="VMSAR462" class="tblformal">
<p class="titleintable"><a id="sthref311"></a><a id="g41598"></a>Table 5-2 Oracle Net Configuration Files</p>
<table class="cellalignment1602" title="Oracle Net Configuration Files" summary="This table lists the system level configuration files and their local configuration files used in configuration of Oracle Net." dir="ltr">
<thead>
<tr class="cellalignment1596">
<th class="cellalignment1603" id="r1c1-t15">System-Level Configuration Files</th>
<th class="cellalignment1603" id="r1c2-t15">Local Configuration Files</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">SQLNET.ORA</code></p>
</td>
<td class="cellalignment1604" headers="r2c1-t15 r1c2-t15">
<p><code dir="ltr">TNS_ADMIN:SQLNET.ORA</code></p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r3c1-t15" headers="r1c1-t15">
<p><code dir="ltr">TNSNAMES.ORA</code></p>
</td>
<td class="cellalignment1604" headers="r3c1-t15 r1c2-t15">
<p><code dir="ltr">TNS_ADMIN:TNSNAMES.ORA</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect1" -->
<a id="i39123"></a>
<div id="VMSAR463" class="sect1">
<h2 class="sect1"><span class="secnum">5.8</span> Configuring Oracle Net Services Protocol Support<a id="sthref312"></a><a id="sthref313"></a></h2>
<p>Oracle Net Services release 11<span class="italic">g</span> on HP OpenVMS supports the following protocols:</p>
<ul>
<li>
<p>Bequeath (BEQ)</p>
</li>
<li>
<p>IPC</p>
</li>
<li>
<p>TCP/IP</p>
</li>
</ul>
<p>Before installing the TCP/IP protocol support, you must install and configure the required operating system software. BEQ and IPC protocol support does not have any specific operating system requirements.</p>
<p>On HP OpenVMS, the Oracle Shared Server must be configured to use only TCP/IP protocol.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OIDBI" href="../../install.112/e56668/toc.htm"><span class="italic">Oracle Database Installation Guide for HP OpenVMS Itanium</span></a> for more information about Oracle Net Services protocol support</div>
<div id="VMSAR464" class="sect2"><a id="sthref314"></a>
<h3 class="sect2"><span class="secnum">5.8.1</span> ADDRESS Specification<a id="sthref315"></a></h3>
<p>IPC and TCP/IP protocol support have a protocol-specific ADDRESS specification that is used for Oracle Net Services configuration files and for the <code dir="ltr">DISPATCHERS</code> initialization parameter in the <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.ora</code> file.</p>
<p><a href="#g41631">Table 5-3</a> shows the ADDRESS specifications for each supported protocol.</p>
<div id="VMSAR465" class="tblformal">
<p class="titleintable"><a id="sthref316"></a><a id="g41631"></a>Table 5-3 ADDRESS Specification Summary<a id="sthref317"></a><a id="sthref318"></a></p>
<table class="cellalignment1602" title="ADDRESS Specification Summary" summary="This table lists the supported protocols &quot;BEQ&quot;, &quot;IPC&quot; and &quot;TCP/IP&quot; and their corresponding ADDRESS specifications." dir="ltr">
<thead>
<tr class="cellalignment1596">
<th class="cellalignment1603" id="r1c1-t17">Supported Protocol</th>
<th class="cellalignment1603" id="r1c2-t17">ADDRESS Specification</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r2c1-t17" headers="r1c1-t17">
<p>IPC</p>
</td>
<td class="cellalignment1604" headers="r2c1-t17 r1c2-t17">
<p><code dir="ltr">(ADDRESS =</code></p>
<p><code dir="ltr">(PROTOCOL=IPC)</code></p>
<p><code dir="ltr">(KEY=key)</code></p>
<p><code dir="ltr">)</code></p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r3c1-t17" headers="r1c1-t17">
<p>TCP/IP</p>
</td>
<td class="cellalignment1604" headers="r3c1-t17 r1c2-t17">
<p><code dir="ltr">(ADDRESS =</code></p>
<p><code dir="ltr">(PROTOCOL=TCP)</code></p>
<p><code dir="ltr">(HOST=hostname)</code></p>
<p><code dir="ltr">(PORT=port)</code></p>
<p><code dir="ltr">)</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i27933"></a>
<div id="VMSAR466" class="sect1">
<h2 class="sect1"><span class="secnum">5.9</span> BEQ Protocol Support<a id="sthref319"></a><a id="sthref320"></a></h2>
<p>The Bequeath (BEQ) protocol support is both a communications mechanism and a process-spawning mechanism. To use the BEQ protocol support, the client and the server must be on the same system. A network service name can be specified directly by the user at the command line or on the Login screen. It can also be specified indirectly by using a logical name, such as <code dir="ltr">ORA_DFLT_HOSTSTR</code>.</p>
<p>If a network service name is not specified, then the BEQ protocol support is used. In this case, the BEQ protocol support always uses a dedicated server and the shared server model is never used. This dedicated server is started automatically by the BEQ protocol, which waits for the server process to start and attach to an existing System Global Area (SGA). If the startup of the server process is successful, then the BEQ protocol support provides interprocess communication through HP OpenVMS mailboxes.</p>
<p>An important feature of the BEQ protocol support is that it does not require a listener for its operation. The protocol support is linked to the client tools and directly starts its own server process without outside interaction. However, you can use the BEQ protocol support only when the client program and Oracle Database 11<span class="italic">g</span> are installed on the same system. The BEQ protocol support is always installed and always linked to all client tools and to the Oracle Database 11<span class="italic">g</span> server.</p>
</div>
<!-- class="sect1" -->
<a id="i37905"></a>
<div id="VMSAR467" class="sect1">
<h2 class="sect1"><span class="secnum">5.10</span> IPC Protocol <a id="sthref321"></a><a id="sthref322"></a>Support</h2>
<p>The <a id="sthref323"></a>IPC protocol support is similar to the BEQ protocol support in that it can be used only when the client program and the Oracle Database 11<span class="italic">g</span> server are installed on the same system. The IPC protocol support requires a listener for its operation. The IPC protocol support is always installed and always linked to all client tools and to Oracle Database 11<span class="italic">g</span></p>
<p class="subhead2"><a id="VMSAR468"></a>Specifying an IPC ADDRESS <a id="sthref324"></a><a id="sthref325"></a></p>
<p>The <a id="sthref326"></a>IPC protocol support connection parameters are part of the ADDRESS keyword-value pair. The ADDRESS is commonly part of a larger construct, such as a connect descriptor or configuration file. You can enter the following parameters in any order:</p>
<pre dir="ltr">
(ADDRESS=
</pre>
<pre dir="ltr">
   (PROTOCOL=IPC)
   (KEY=<span class="italic">key</span>)
</pre>
<pre dir="ltr">
)
</pre>
<p><a href="#g41585">Table 5-4</a> describes the syntax for IPC protocol connection parameters.</p>
<div id="VMSAR469" class="tblformalmax">
<p class="titleintable"><a id="sthref327"></a><a id="g41585"></a>Table 5-4 Syntax for IPC Protocol Connection Parameters</p>
<table class="cellalignment1609" title="Syntax for IPC Protocol Connection Parameters " summary="This table lists and describes the functions of the 2 IPC protocol parameters you may use in syntax for specifying an IPC address. The parameters are &quot;protocol&quot; and &quot;key&quot;." dir="ltr">
<thead>
<tr class="cellalignment1596">
<th class="cellalignment1603" id="r1c1-t18">Parameter</th>
<th class="cellalignment1603" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r2c1-t18" headers="r1c1-t18">
<p>PROTOCOL</p>
</td>
<td class="cellalignment1604" headers="r2c1-t18 r1c2-t18">
<p>IPC protocol support to be used</p>
<p>The value is IPC. It is not case-sensitive.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r3c1-t18" headers="r1c1-t18">
<p>KEY</p>
</td>
<td class="cellalignment1604" headers="r3c1-t18 r1c2-t18">
<p>Service name of database or system identifier (<code dir="ltr"><span class="codeinlineitalic">SID</span></code>)</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformalmax" -->
<p><a href="#i30190">Example 5-1</a> shows a sample IPC ADDRESS.</p>
<div id="VMSAR470" class="example">
<p class="titleinexample"><a id="i30190"></a>Example 5-1 IPC ADDRESS Specifying a Client</p>
<pre dir="ltr">
(ADDRESS=
</pre>
<pre dir="ltr">
   (PROTOCOL=IPC)
   (KEY=PROD)
</pre>
<p>)</p>
</div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="i16278"></a>
<div id="VMSAR471" class="sect1">
<h2 class="sect1"><span class="secnum">5.11</span> TCP/IP Protocol Support<a id="sthref328"></a><a id="sthref329"></a></h2>
<p>On HP OpenVMS, the default <code dir="ltr">tnslnr</code> port is 1521.</p>
<div id="VMSAR472" class="sect2"><a id="sthref330"></a>
<h3 class="sect2"><span class="secnum">5.11.1</span> Specifying a TCP/IP ADDRESS<a id="sthref331"></a></h3>
<p>The TCP/IP protocol connection parameters are part of the ADDRESS keyword-value pair. The ADDRESS is commonly part of a larger construct such as a connect descriptor or configuration file. You can enter the parameters in any order:</p>
<pre dir="ltr">
(ADDRESS=
</pre>
<pre dir="ltr">
   (PROTOCOL=TCP)
   (HOST=<span class="italic">hostname</span>)
   (PORT=<span class="italic">port</span>)
</pre>
<pre dir="ltr">
)
</pre>
<p><a href="#g41615">Table 5-5</a> describes the syntax for the TCP/IP protocol connection parameters.</p>
<div id="VMSAR473" class="tblformal">
<p class="titleintable"><a id="sthref332"></a><a id="g41615"></a>Table 5-5 Syntax for TCP/IP Protocol Connection Parameters</p>
<table class="cellalignment1602" title="Syntax for TCP/IP Protocol Connection Parameters " summary="This table lists the descriptions for the &rsquo;protocol,&rsquo; &rsquo;host&rsquo; and &rsquo;port&rsquo; TCP/IP protocol connection parameters you may use in specifying a TCP/IP address." dir="ltr">
<thead>
<tr class="cellalignment1596">
<th class="cellalignment1603" id="r1c1-t19">Parameter</th>
<th class="cellalignment1603" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r2c1-t19" headers="r1c1-t19">
<p>PROTOCOL</p>
</td>
<td class="cellalignment1604" headers="r2c1-t19 r1c2-t19">
<p>The protocol support to be used</p>
<p>The value is TCP. It is not case-sensitive.</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r3c1-t19" headers="r1c1-t19">
<p>HOST</p>
</td>
<td class="cellalignment1604" headers="r3c1-t19 r1c2-t19">
<p>The host name or the host IP address</p>
</td>
</tr>
<tr class="cellalignment1596">
<td class="cellalignment1604" id="r4c1-t19" headers="r1c1-t19">
<p>PORT</p>
</td>
<td class="cellalignment1604" headers="r4c1-t19 r1c2-t19">
<p>The TCP/IP port</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" -->
<p><a href="#i30202">Example 5-2</a> shows a sample TCP/IP ADDRESS.</p>
<div id="VMSAR474" class="example">
<p class="titleinexample"><a id="i30202"></a>Example 5-2 TCP/IP ADDRESS Specifying a Client</p>
<pre dir="ltr">
(ADDRESS=
</pre>
<pre dir="ltr">
   (PROTOCOL=TCP)
   (HOST=MADRID)
   (PORT=1521)
</pre>
<pre dir="ltr">
)
</pre>
<p>You can specify the last field by name as follows:</p>
<pre dir="ltr">
PORT=<span class="italic">listener_name</span>
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1595">
<tr>
<td class="cellalignment1604">
<table class="cellalignment1600">
<tr>
<td class="cellalignment1599"><a href="ch4.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1599"><a href="ch6.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1606">
<table class="cellalignment1598">
<tr>
<td class="cellalignment1599"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1599"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1599"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1599"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1599"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1599"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
