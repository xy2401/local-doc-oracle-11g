<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>CTX_CLS Package</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1071" />
<meta name="dcterms.created" content="2015-10-23T12:26:35Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Text Reference" />
<meta name="dcterms.identifier" content="E24436-05" />
<meta name="dcterms.isVersionOf" content="CCREF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="cadmpkg.htm" title="Previous" type="text/html" />
<link rel="Next" href="cddlpkg.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e24436.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/29</span> <!-- End Header -->
<div id="CCREF1500" class="chapter"><a id="g1000169"></a>
<h1 class="chapter"><span class="secnum">6</span> CTX_CLS Package</h1>
<p>This chapter provides reference information for using the <code dir="ltr">CTX_CLS</code> PL/SQL package, which enables you to perform document classification.</p>
<p>The following procedures are described in this chapter:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS Procedures" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t2"><span class="bold">Name</span></th>
<th class="cellalignment97" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t2" headers="r1c1-t2"><a href="#CHDBGADF">TRAIN</a></td>
<td class="cellalignment98" headers="r2c1-t2 r1c2-t2">Generates rules that define document categories. Output based on input training document set.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t2" headers="r1c1-t2"><a href="#i996892">CLUSTERING</a></td>
<td class="cellalignment98" headers="r3c1-t2 r1c2-t2">Generates clusters for a document collection.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CCAPP0600" href="../../text.112/e24435/classify.htm#CCAPP0600"><span class="italic">Oracle Text Application Developer's Guide</span></a> for more on document classification</div>
<div class="refentry"><a id="CHDBGADF"></a>
<div id="CCREF2097" class="refsect1">
<h2 class="refsect1">TRAIN<a id="sthref1249"></a><a id="sthref1250"></a><a id="sthref1251"></a><a id="sthref1252"></a><a id="sthref1253"></a></h2>
<p>Use this procedure to generate query rules that select document categories. You must supply a training set consisting of categorized documents. Documents can be in any format supported by Oracle Text and must belong to one or more categories. This procedure generates the queries that define the categories and then writes the results to a table.</p>
<p>You must also have a document table and a category table. The category table must contain at least two categories.</p>
<p>For example, your document and category tables can be defined as:</p>
<pre dir="ltr">
create table trainingdoc(
</pre>
<pre dir="ltr">
docid number primary key,
text varchar2(4000));
</pre>
<pre dir="ltr">
create table category (
</pre>
<pre dir="ltr">
docid trainingdoc(docid),
categoryid number);
</pre>
<p>You can use one of two syntaxes depending on the classification algorithm you need. The query compatible syntax uses the <code dir="ltr">RULE_CLASSIFIER</code> preference and generates rules as query strings. The support vector machine syntax uses the <code dir="ltr">SVM_CLASSIFER</code> preference and generates rules in binary format. The <code dir="ltr">SVM_CLASSIFIER</code> is good for high classification accuracy, but because its rules are generated in binary format, they cannot be examined like the query strings generated with the <code dir="ltr">RULE_CLASSIFIER</code>. Note that only those document ids that appear in both the document table and the category table will impact <code dir="ltr">RULE_CLASSIFIER</code> and <code dir="ltr">SVM_CLASSIFIER</code> learning.</p>
<p>The <code dir="ltr">CTX_CLS.TRAIN</code> procedure requires that your document table have an associated context index. For best results, the index should be synchronized before running this procedure. <code dir="ltr">SVM_CLASSIFIER</code> syntax enables the use of an unpopulated context index, while query-compatible syntax requires that the context index be populated.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CCAPP0600" href="../../text.112/e24435/classify.htm#CCAPP0600"><span class="italic">Oracle Text Application Developer's Guide</span></a> for more on document classification</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1254"></a>Query Compatible Syntax</p>
<p>The following syntax generates query-compatible rules and is used with the <a href="cdatadic.htm#i1010632">RULE_CLASSIFIER</a> preference. Use this syntax and preference when different categories are separated from others by several key words. An advantage of generating your rules as query strings is that you can easily examine the generated rules. This is different from generating SVM rules, which are in binary format.</p>
<pre dir="ltr">
CTX_CLS.TRAIN(
</pre>
<pre dir="ltr">
index_name    in varchar2,
docid         in varchar2,
cattab        in varchar2,
catdocid      in varchar2,
catid         in varchar2,
restab        in varchar2,
rescatid      in varchar2,
resquery      in varchar2,
resconfid     in varchar2,
preference    in varchar2 DEFAULT NULL
</pre>
<pre dir="ltr">
);
</pre>
<dl>
<dt>index_name</dt>
<dd>
<p>Specify the name of the context index associated with your document training set.</p>
</dd>
<dt>docid</dt>
<dd>
<p>Specify the name of the document ID column in the document table. The document IDs in this column must be unique, and this column must be of datatype <code dir="ltr">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.</p>
</dd>
<dt>cattab</dt>
<dd>
<p>Specify the name of the category table. You must have <code dir="ltr">SELECT</code> privilege on this table.</p>
</dd>
<dt>catdocid</dt>
<dd>
<p>Specify the name of the document ID column in the category table. The document ids in this table must also exist in the document table. This column must a <code dir="ltr">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.</p>
</dd>
<dt>catid</dt>
<dd>
<p>Specify the name of the category ID column in the category table. This column must a <code dir="ltr">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.</p>
</dd>
<dt>restab</dt>
<dd>
<p>Specify the name of the result table. You must have <code dir="ltr">INSERT</code> privilege on this table.</p>
</dd>
<dt>rescatid</dt>
<dd>
<p>Specify the name of the category ID column in the result table. This column must a <code dir="ltr">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.</p>
</dd>
<dt>resquery</dt>
<dd>
<p>Specify the name of the query column in the result table. This column must be <code dir="ltr">VARACHAR2</code>, <code dir="ltr">CHAR</code> <code dir="ltr">CLOB</code>, <code dir="ltr">NVARCHAR2</code>, or <code dir="ltr">NCHAR</code>.</p>
<p>The queries generated in this column connects terms with <code dir="ltr">AND</code> or <code dir="ltr">NOT</code> operators, such as:</p>
<pre dir="ltr">
'T1 &amp; T2 ~ T3'
</pre>
<p>Terms can also be theme tokens and be connected with the <code dir="ltr">ABOUT</code> operator, such as:</p>
<pre dir="ltr">
'about(T1) &amp; about(T2) ~ about(T3)'
</pre>
<p>Generated rules also support <code dir="ltr">WITHIN</code> queries on field sections.</p>
</dd>
<dt>resconfid</dt>
<dd>
<p>Specify the name of the confidence column in result table. This column contains the estimated probability from training data that a document is relevant if that document satisfies the query.</p>
</dd>
<dt>preference</dt>
<dd>
<p>Specify the name of the preference. For classifier types and attributes, see <a href="cdatadic.htm#i1009435">"Classifier Types"</a> in <a href="cdatadic.htm#BHCDHIAI">Chapter 2, "Oracle Text Indexing Elements"</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1255"></a>Syntax for Support Vector Machine Rules</p>
<p>The following syntax generates support vector machine (SVM) rules with the <a href="cdatadic.htm#i1018114">SVM_CLASSIFIER</a> preference. This preference generates rules in binary format. Use this syntax when your application requires high classification accuracy.</p>
<pre dir="ltr">
CTX_CLS.TRAIN(
    index_name in varchar2,    
    docid      in varchar2,         
    cattab     in varchar2, 
    catdocid   in varchar2, 
    catid      in varchar2,  
    restab     in varchar2,  
    preference in varchar2 );
</pre>
<dl>
<dt>index_name</dt>
<dd>
<p>Specify the name of the text index.</p>
</dd>
<dt>docid</dt>
<dd>
<p>Specify the name of <code dir="ltr">docid</code> column in document table.</p>
</dd>
<dt>cattab</dt>
<dd>
<p>Specify the name of category table.</p>
</dd>
<dt>catdocid</dt>
<dd>
<p>Specify the name of <code dir="ltr">docid</code> column in category table.</p>
</dd>
<dt>catid</dt>
<dd>
<p>Specify the name of category ID column in category table.</p>
</dd>
<dt>restab</dt>
<dd>
<p>Specify the name of result table.</p>
<p>The result table has the following format:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS.TRAIN Result Table Format" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t5">Column Name</th>
<th class="cellalignment97" id="r1c2-t5">Datatype</th>
<th class="cellalignment97" id="r1c3-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t5" headers="r1c1-t5"><code dir="ltr">CAT_ID</code></td>
<td class="cellalignment98" headers="r2c1-t5 r1c2-t5"><code dir="ltr">NUMBER</code></td>
<td class="cellalignment98" headers="r2c1-t5 r1c3-t5">The ID of the category.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t5" headers="r1c1-t5"><code dir="ltr">TYPE</code></td>
<td class="cellalignment98" headers="r3c1-t5 r1c2-t5"><code dir="ltr">NUMBER(3) NOT NULL</code></td>
<td class="cellalignment98" headers="r3c1-t5 r1c3-t5">0 for the actual rule or catid; 1 for other.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t5" headers="r1c1-t5"><code dir="ltr">RULE</code></td>
<td class="cellalignment98" headers="r4c1-t5 r1c2-t5"><code dir="ltr">BLOB</code></td>
<td class="cellalignment98" headers="r4c1-t5 r1c3-t5">The returned rule.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>preference</dt>
<dd>
<p>Specify the name of user preference. For classifier types and attributes, see <a href="cdatadic.htm#i1009435">"Classifier Types"</a> in <a href="cdatadic.htm#BHCDHIAI">Chapter 2, "Oracle Text Indexing Elements"</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1256"></a>Example</p>
<p>The <code dir="ltr">CTX_CLS.TRAIN</code> procedure is used in supervised classification. For an extended example, see <a class="olink CCAPP0600" href="../../text.112/e24435/classify.htm#CCAPP0600"><span class="italic">Oracle Text Application Developer's Guide</span></a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i996892"></a>
<div id="CCREF2098" class="refsect1">
<h2 class="refsect1">CLUSTERING<a id="sthref1257"></a><a id="sthref1258"></a><a id="sthref1259"></a><a id="sthref1260"></a><a id="sthref1261"></a></h2>
<p>Use this procedure to cluster a collection of documents. A <span class="italic">cluster</span> is a group of documents similar to each other in content.</p>
<p>A clustering result set is composed of <span class="italic">document assignments</span> and <span class="italic">cluster descriptions</span>:</p>
<ul>
<li>
<p>A document assignment result set shows how relevant each document is to all generated leaf clusters.</p>
</li>
<li>
<p>A cluster description result set contains information about what topic a cluster is about. This result set identifies the cluster and contains cluster description text, a suggested cluster label, and a quality score for the cluster.</p>
</li>
</ul>
<p>Cluster output is hierarchical. Only leaf clusters are scored for relevance to documents. Producing more clusters requires more computing time. Indicate the upper limit for generated clusters with the <code dir="ltr">CLUSTER_NUM</code> attribute of the <code dir="ltr">KMEAN_CLUSTERING</code> cluster type (see <a href="cdatadic.htm#i1015204">"Cluster Types"</a> in this chapter).</p>
<p>There are two versions of this procedure: one with a table result set, and one with an in-memory result set.</p>
<p>Clustering is also known as <span class="italic">unsupervised classification</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information about clustering and relevant preferences, see <a href="cdatadic.htm#i1015204">Cluster Types</a> in <a href="cdatadic.htm#BHCDHIAI">Chapter 2, "Oracle Text Indexing Elements"</a>, as well as the <a class="olink CCAPP0600" href="../../text.112/e24435/classify.htm#CCAPP0600"><span class="italic">Oracle Text Application Developer's Guide</span></a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1262"></a>Syntax: Table Result Set</p>
<pre dir="ltr">
ctx_cls.clustering (
 index_name  IN VARCHAR2, 
 docid       IN VARCHAR2, 
 doctab_name IN VARCHAR2, 
 clstab_name IN VARCHAR2, 
 pref_name   IN VARCHAR2  DEFAULT NULL
);
</pre>
<dl>
<dt>index_name</dt>
<dd>
<p>Specify the name of the context index on collection table.</p>
</dd>
<dt>docid</dt>
<dd>
<p>Specify the name of document ID column of the collection table.</p>
</dd>
<dt>doctab_name</dt>
<dd>
<p>Specify the name of document assignment table. This procedure creates the table with the following structure:</p>
<pre dir="ltr">
doc_assign(
   docid number,
   clusterid number,
   score number
);
</pre>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS.CLUSTERING doctab_name Structure" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t7">Column</th>
<th class="cellalignment97" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t7" headers="r1c1-t7"><code dir="ltr">DOCID</code></td>
<td class="cellalignment98" headers="r2c1-t7 r1c2-t7">Document ID to identify document.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t7" headers="r1c1-t7"><code dir="ltr">CLUSTERID</code></td>
<td class="cellalignment98" headers="r3c1-t7 r1c2-t7">ID of a leaf cluster associated with this document. If <code dir="ltr">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t7" headers="r1c1-t7"><code dir="ltr">SCORE</code></td>
<td class="cellalignment98" headers="r4c1-t7 r1c2-t7">The associated score between the document and the cluster.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>If you require more columns, then create the table before you call this procedure.</p>
</dd>
<dt>clstab_name</dt>
<dd>
<p>Specify the name of the cluster description table. This procedure creates the table with the following structure:</p>
<pre dir="ltr">
cluster_desc(
  clusterid NUMBER,
  descript VARCHAR2(4000),
  label VARCHAR2(200),
  sze NUMBER,
  quality_score NUMBER,
  parent NUMBER
);
</pre>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS.CLUSTERING clstab_name Format" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t8">Column</th>
<th class="cellalignment97" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t8" headers="r1c1-t8"><code dir="ltr">CLUSTERID</code></td>
<td class="cellalignment98" headers="r2c1-t8 r1c2-t8">Cluster ID to identify cluster. If <code dir="ltr">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t8" headers="r1c1-t8"><code dir="ltr">DESCRIPT</code></td>
<td class="cellalignment98" headers="r3c1-t8 r1c2-t8">String to describe the cluster.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t8" headers="r1c1-t8"><code dir="ltr">LABEL</code></td>
<td class="cellalignment98" headers="r4c1-t8 r1c2-t8">A suggested label for the cluster.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t8" headers="r1c1-t8"><code dir="ltr">SZE</code></td>
<td class="cellalignment98" headers="r5c1-t8 r1c2-t8">This parameter currently has no value.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r6c1-t8" headers="r1c1-t8"><code dir="ltr">QUALITY_SCORE</code></td>
<td class="cellalignment98" headers="r6c1-t8 r1c2-t8">The quality score of the cluster. A higher number indicates greater coherence.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r7c1-t8" headers="r1c1-t8"><code dir="ltr">PARENT</code></td>
<td class="cellalignment98" headers="r7c1-t8 r1c2-t8">The parent cluster ID. Zero means no parent cluster.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p>If you require more columns, then create the table before you call this procedure.</p>
</dd>
<dt>pref_name</dt>
<dd>
<p>Specify the name of the preference.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1263"></a>Syntax: In-Memory Result Set</p>
<p>Put the result set into in-memory structures for better performance. Two in-memory tables are defined in <code dir="ltr">CTX_CLS</code> package for document assignment and cluster description respectively.</p>
<pre dir="ltr">
CTX_CLS.CLUSTERING(
  index_name     IN VARCHAR2, 
  docid          IN VARCHAR2,
  dids           IN DOCID_TAB,
  doctab_name    IN OUT NOCOPY DOC_TAB,
  clstab_name    IN OUT NOCOPY CLUSTER_TAB,
  pref_name      IN VARCHAR2  DEFAULT NULL 
          );
</pre>
<dl>
<dt>index_name</dt>
<dd>
<p>Specify the name of context index on the collection table.</p>
</dd>
<dt>docid</dt>
<dd>
<p>Specify the document ID column of the collection table.</p>
</dd>
<dt>dids</dt>
<dd>
<p>Specify the name of the in-memory <code dir="ltr">docid_tab</code>.</p>
<pre dir="ltr">
TYPE docid_tab IS TABLE OF number INDEX BY BINARY_INTEGER;
</pre></dd>
<dt>doctab_name</dt>
<dd>
<p>Specify name of the document assignment in-memory table. This table is defined as follows:</p>
<pre dir="ltr">
TYPE doc_rec IS RECORD (
   docid NUMBER,
   clusterid NUMBER,
   score NUMBER
)
TYPE doc_tab IS TABLE OF doc_rec INDEX BY BINARY_INTEGER;
</pre>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS.CLUSTERING doctab_name Format" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t9">Column</th>
<th class="cellalignment97" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t9" headers="r1c1-t9"><code dir="ltr">DOCID</code></td>
<td class="cellalignment98" headers="r2c1-t9 r1c2-t9">Document ID to identify document.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t9" headers="r1c1-t9"><code dir="ltr">CLUSTERID</code></td>
<td class="cellalignment98" headers="r3c1-t9 r1c2-t9">ID of a leaf cluster associated with this document. If <code dir="ltr">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t9" headers="r1c1-t9"><code dir="ltr">SCORE</code></td>
<td class="cellalignment98" headers="r4c1-t9 r1c2-t9">The associated score between the document and the cluster.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>cls_tab</dt>
<dd>
<p>Specify the name of cluster description in-memory table.</p>
<pre dir="ltr">
TYPE cluster_rec IS RECORD(
     clusterid NUMBER,
     descript VARCHAR2(4000),
     label VARCHAR2(200),
     sze NUMBER,
     quality_score NUMBER,
     parent NUMBER
);
TYPE cluster_tab IS TABLE OF cluster_rec INDEX BY BINARY_INTEGER;
</pre>
<div class="inftblinformal">
<table class="cellalignment96" title="CTX_CLS.CLUSTERING cls_tab Format" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t10">Column</th>
<th class="cellalignment97" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t10" headers="r1c1-t10"><code dir="ltr">CLUSTERID</code></td>
<td class="cellalignment98" headers="r2c1-t10 r1c2-t10">Cluster ID to identify cluster. If <code dir="ltr">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t10" headers="r1c1-t10"><code dir="ltr">DESCRIPT</code></td>
<td class="cellalignment98" headers="r3c1-t10 r1c2-t10">String to describe the cluster.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t10" headers="r1c1-t10"><code dir="ltr">LABEL</code></td>
<td class="cellalignment98" headers="r4c1-t10 r1c2-t10">A suggested label for the cluster.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t10" headers="r1c1-t10"><code dir="ltr">SZE</code></td>
<td class="cellalignment98" headers="r5c1-t10 r1c2-t10">This parameter currently has no value.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r6c1-t10" headers="r1c1-t10"><code dir="ltr">QUALITY_SCORE</code></td>
<td class="cellalignment98" headers="r6c1-t10 r1c2-t10">The quality score of the cluster. A higher number indicates greater coherence.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r7c1-t10" headers="r1c1-t10"><code dir="ltr">PARENT</code></td>
<td class="cellalignment98" headers="r7c1-t10 r1c2-t10">The parent cluster ID. Zero means no parent cluster.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>pref_name</dt>
<dd>
<p>Specify the name of the preference. For cluster types and attributes, see <a href="cdatadic.htm#i1015204">Cluster Types</a> in <a href="cdatadic.htm#BHCDHIAI">Chapter 2, "Oracle Text Indexing Elements"</a>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1264"></a>Example</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink CCAPP0600" href="../../text.112/e24435/classify.htm#CCAPP0600"><span class="italic">Oracle Text Application Developer's Guide</span></a> for an example of using clustering</div>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment89">
<tr>
<td class="cellalignment98">
<table class="cellalignment94">
<tr>
<td class="cellalignment93"><a href="cadmpkg.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment93"><a href="cddlpkg.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment100">
<table class="cellalignment92">
<tr>
<td class="cellalignment93"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment93"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment93"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment93"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment93"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment93"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
