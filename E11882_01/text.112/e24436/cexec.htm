<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Text Utilities</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1071" />
<meta name="dcterms.created" content="2015-10-23T12:26:37Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Text Reference" />
<meta name="dcterms.identifier" content="E24436-05" />
<meta name="dcterms.isVersionOf" content="CCREF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="culexpkg.htm" title="Previous" type="text/html" />
<link rel="Next" href="cspell.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e24436.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">19/29</span> <!-- End Header -->
<div id="CCREF2180" class="chapter"><a id="BABCABHG"></a>
<h1 class="chapter"><span class="secnum">14</span> Oracle Text Utilities</h1>
<p>This chapter discusses the utilities shipped with Oracle Text. The following topics are included:</p>
<ul>
<li>
<p><a href="#i1006196">Thesaurus Loader (ctxload)</a></p>
</li>
<li>
<p><a href="#i1006327">Knowledge Base Extension Compiler (ctxkbtc)</a></p>
</li>
<li>
<p><a href="#i1006575">Lexical Compiler (ctxlc)</a></p>
</li>
</ul>
<a id="i1006196"></a>
<div id="CCREF2181" class="sect1">
<h2 class="sect1"><span class="secnum">14.1</span> Thesaurus Loader (ctxload)<a id="sthref2129"></a><a id="sthref2130"></a></h2>
<p>Use <code dir="ltr">ctxload</code> to <a id="sthref2131"></a><a id="sthref2132"></a>import a thesaurus file into the Oracle Text thesaurus tables.</p>
<p>An import file is an ASCII flat file that contains entries for synonyms, broader terms, narrower terms, or related terms, which can be used to expand queries.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
For examples of import files for thesaurus importing, see <a href="aload.htm#i634521">"Structure of ctxload Thesaurus Import File"</a> in <a href="aload.htm#BABHFDED">Appendix C, "Text Loading Examples for Oracle Text"</a></div>
<div id="CCREF2182" class="sect2"><a id="sthref2133"></a>
<h3 class="sect2"><span class="secnum">14.1.1</span> Text Loading</h3>
<p>The <code dir="ltr">ctxload</code> program no longer supports the loading of text columns. To load files to a text column in batch mode, Oracle recommends that you use SQL*Loader.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="aload.htm#i634445">"SQL*Loader Example"</a> in <a href="aload.htm#BABHFDED">Appendix C, "Text Loading Examples for Oracle Text"</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006235"></a>
<div id="CCREF2183" class="sect2">
<h3 class="sect2"><span class="secnum">14.1.2</span> ctxload Syntax</h3>
<pre dir="ltr">
ctxload -user <span class="variable">username[/password][@sqlnet_address]</span>
        -name <span class="variable">object_name</span> 
        -file <span class="variable">file_name</span> 
      
       [-thes]
       [-thescase y|n]
       [-thesdump]
       [-log <span class="variable">file_name</span>]
       [-trace]
       [-drop]
</pre>
<div id="CCREF2184" class="sect3"><a id="sthref2134"></a>
<h4 class="sect3"><span class="secnum">14.1.2.1</span> Mandatory Arguments</h4>
<dl>
<dt>-user</dt>
<dd>
<p>Specify the user name and password of the user running <code dir="ltr">ctxload</code>.</p>
<p>The user name and password can be followed immediately by @<span class="variable">sqlnet_address</span> to permit logging on to remote databases. The value for <span class="variable">sqlnet_address</span> is a database connect string. If the <code dir="ltr">TWO_TASK</code> environment variable is set to a remote database, then you do not need to specify a value for <span class="variable">sqlnet_address</span> to connect to the database.</p>
</dd>
<dt>-name object_name</dt>
<dd>
<p>When you use <code dir="ltr">ctxload</code> to import a thesaurus, use <code dir="ltr">object_name</code> to specify the name of the thesaurus to be imported.</p>
<p>Use <code dir="ltr">object_name</code> to identify the thesaurus in queries that use thesaurus operators.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Thesaurus name must be unique. If the name specified for the thesaurus is identical to an existing thesaurus, then <code dir="ltr">ctxload</code> returns an error and does not overwrite the existing thesaurus.</div>
</dd>
<dt>-file file_name</dt>
<dd>
<p>When <code dir="ltr">ctxload</code> is used to import a thesaurus, use <span class="variable">file_name</span> to specify the name of the import file that contains the thesaurus entries.</p>
<p>When <code dir="ltr">ctxload</code> is used to export a thesaurus, use <span class="variable">file_name</span> to specify the name of the export file created by <code dir="ltr">ctxload</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the name specified for the thesaurus dump file is identical to an existing file, then <code dir="ltr">ctxload</code> overwrites the existing file.</div>
</dd>
</dl>
</div>
<!-- class="sect3" -->
<div id="CCREF2185" class="sect3"><a id="sthref2135"></a>
<h4 class="sect3"><span class="secnum">14.1.2.2</span> Optional Arguments</h4>
<dl>
<dt>-thes</dt>
<dd>
<p>Import a thesaurus. Specify the source file with the <span class="syntaxinline">-file</span> argument. Specify the name of the thesaurus to be imported with <span class="syntaxinline">-name.</span></p>
</dd>
<dt>-thescase y | n</dt>
<dd>
<p>Specify <span class="italic">y</span> to create a case-sensitive thesaurus with the name specified by <span class="syntaxinline">-name</span> and populate the thesaurus with entries from the thesaurus import file specified by <span class="syntaxinline">-file</span>. If -<span class="syntaxinline">thescase</span> is <span class="italic">y</span> <span class="italic">(</span>the thesaurus is case-sensitive), <code dir="ltr">ctxload</code> enters the terms in the thesaurus exactly as they appear in the import file.</p>
<p>The default for -<span class="syntaxinline">thescase</span> is <span class="italic">n</span> (case-insensitive thesaurus).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<span class="syntaxinline">-thescase</span> is valid for use only with the <span class="syntaxinline">-thes</span> argument.</div>
</dd>
<dt>-thesdump</dt>
<dd>
<p>Export a thesaurus. Specify the name of the thesaurus to be exported with the <span class="syntaxinline">-name</span> argument. Specify the destination file with the <span class="syntaxinline">-file</span> argument.</p>
</dd>
<dt>-log</dt>
<dd>
<p>Specify the name of the log file to which <code dir="ltr">ctxload</code> writes any national-language supported (Globalization Support) messages generated during processing. If you do not specify a log file name, the messages appear on the standard output.</p>
</dd>
<dt>-trace</dt>
<dd>
<p>Enables SQL statement tracing using <code dir="ltr">ALTER</code> <code dir="ltr">SESSION</code> <code dir="ltr">SET</code> <code dir="ltr">SQL_TRACE</code> <code dir="ltr">TRUE</code>. This command captures all processed SQL statements in a trace file, which can be used for debugging. The location of the trace file is operating-system dependent and can be modified using the <code dir="ltr">USER_DUMP_DEST</code> initialization parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information about SQL trace and the <code dir="ltr">USER_DUMP_DEST</code> initialization parameter, see <a class="olink ADMIN" href="../../server.112/e25494/toc.htm"><span class="italic">Oracle Database Administrator's Guide</span></a></div>
</dd>
</dl>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CCREF2186" class="sect2"><a id="sthref2136"></a>
<h3 class="sect2"><span class="secnum">14.1.3</span> ctxload Examples</h3>
<p>This section provides examples for some of the operations that <code dir="ltr">ctxload</code> can perform.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more document loading examples, see <a href="aload.htm#BABHFDED">Appendix C, "Text Loading Examples for Oracle Text"</a></div>
<a id="i1006318"></a>
<div id="CCREF2187" class="sect3">
<h4 class="sect3"><span class="secnum">14.1.3.1</span> <a id="sthref2137"></a>Thesaurus Import Example<a id="sthref2138"></a></h4>
<p>The following example imports a thesaurus named <code dir="ltr">tech_doc</code> from an import file named <code dir="ltr">tech_thesaurus.txt</code>:</p>
<pre dir="ltr">
ctxload -user jsmith/123abc -thes -name tech_doc -file tech_thesaurus.txt 
</pre></div>
<!-- class="sect3" -->
<a id="i1006323"></a>
<div id="CCREF2188" class="sect3">
<h4 class="sect3"><span class="secnum">14.1.3.2</span> Thesaurus Export Example</h4>
<p>The following example dumps the contents of a thesaurus named <code dir="ltr">tech_doc</code> into a file named <code dir="ltr">tech_thesaurus.out</code>:</p>
<pre dir="ltr">
ctxload -user jsmith/123abc -thesdump -name tech_doc -file tech_thesaurus.out 
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006327"></a>
<div id="CCREF2189" class="sect1">
<h2 class="sect1"><span class="secnum">14.2</span> Knowledge Base Extension Compiler (ctxkbtc)<a id="sthref2139"></a><a id="sthref2140"></a><a id="sthref2141"></a><a id="sthref2142"></a></h2>
<p>The knowledge base is the information source that Oracle Text uses to perform theme analysis, such as theme indexing, processing <code dir="ltr">ABOUT</code> queries, and to document theme extraction with the <code dir="ltr">CTX_DOC</code> package. A knowledge base is supplied for English and French.</p>
<p>With the <code dir="ltr">ctxkbtc</code> compiler, you can:</p>
<ul>
<li>
<p>Extend your knowledge base by compiling one or more thesauri with the Oracle Text knowledge base. The extended information can be application-specific terms and relationships. During theme analysis, the extended portion of the knowledge base overrides any terms and relationships in the knowledge base where there is overlap.</p>
</li>
<li>
<p>Create a new user-defined knowledge base by compiling one or more thesauri. In languages other than English and French, this feature can be used to create a language-specific knowledge base.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Only <code dir="ltr">CTXSYS</code> can extend the knowledge base.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information about the knowledge base packaged with Oracle Text, see <code dir="ltr"><a href="http://www.oracle.com/technology/products/text/">http://www.oracle.com/technology/products/text/</a></code>
<p>For more information about the <code dir="ltr">ABOUT</code> operator, see <a href="cqoper.htm#BABJFFAD">ABOUT</a> operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
<p>For more information about document services, see <a href="cdocpkg.htm#CEGCIDAJ">Chapter 8, "CTX_DOC Package"</a></p>
</div>
</li>
</ul>
<div id="CCREF2190" class="sect2"><a id="sthref2143"></a>
<h3 class="sect2"><span class="secnum">14.2.1</span> Knowledge Base Character Set<a id="sthref2144"></a></h3>
<p>Knowledge bases can be in any single-byte character set. Supplied knowledge bases are in WE8ISO8859P1. You can store an extended knowledge base in another character set such as US7ASCII.</p>
</div>
<!-- class="sect2" -->
<div id="CCREF2191" class="sect2"><a id="sthref2145"></a>
<h3 class="sect2"><span class="secnum">14.2.2</span> ctxkbtc Syntax</h3>
<pre dir="ltr">
ctxkbtc -user uname/passwd
</pre>
<pre dir="ltr">
[-name <span class="variable">thesname1</span> [<span class="variable">thesname2</span> ... <span class="variable">thesname16</span>]]
[-revert]
[-stoplist <span class="italic">stoplistname</span>]
[-verbose]
[-log <span class="variable">filename</span>]
</pre>
<dl>
<dt>-user</dt>
<dd>
<p>Specify the user name and password for the administrator creating an extended knowledge base. This user must have write permission to the <code dir="ltr">ORACLE_HOME</code> directory.</p>
</dd>
<dt>-name <span class="italic">thesname1 [thesname2 ... thesname16]</span></dt>
<dd>
<p>Specify the names of the thesauri (up to 16) to be compiled with the knowledge base to create the extended knowledge base. The thesauri you specify must already be loaded with <code dir="ltr">ctxload</code> with the "-<code dir="ltr">thescase Y</code>" option</p>
</dd>
<dt>-revert</dt>
<dd>
<p>Reverts the extended knowledge base to the default knowledge base provided by Oracle Text.</p>
</dd>
<dt>-stoplist <span class="italic">stoplistname</span></dt>
<dd>
<p>Specify the name of the stoplist. Stopwords in the stoplist are added to the knowledge base as useless words that are prevented from becoming themes or contributing to themes. Add stopthemes after running this command using <code dir="ltr">CTX_DLL.ADD_STOPTHEME</code>.</p>
</dd>
<dt>-verbose</dt>
<dd>
<p>Displays all warnings and messages, including non-Globalization Support messages, to the standard output.</p>
</dd>
<dt>-log</dt>
<dd>
<p>Specify the log file for storing all messages. When you specify a log file, no messages are reported to standard out.</p>
</dd>
</dl>
</div>
<!-- class="sect2" -->
<div id="CCREF2192" class="sect2"><a id="sthref2146"></a>
<h3 class="sect2"><span class="secnum">14.2.3</span> ctxkbtc Usage Notes</h3>
<ul>
<li>
<p>Before running <code dir="ltr">ctxkbtc</code>, you must set the <code dir="ltr">NLS_LANG</code> environment variable to match the database character set.</p>
</li>
<li>
<p>The user issuing <code dir="ltr">ctxkbtc</code> must have write permission to the <code dir="ltr">ORACLE_HOME</code>, because the program writes files to this directory.</p>
</li>
<li>
<p>Before being compiled, each thesaurus must be loaded into Oracle Text case sensitive with the "-<code dir="ltr">thescase Y</code>" option in <code dir="ltr">ctxload</code>.</p>
</li>
<li>
<p>Running <code dir="ltr">ctxkbtc</code> twice removes the previous extension.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="CCREF2193" class="sect2"><a id="sthref2147"></a>
<h3 class="sect2"><span class="secnum">14.2.4</span> ctxkbtc Limitations</h3>
<p>The <code dir="ltr">ctxkbtc</code> program has the following limitations:</p>
<ul>
<li>
<p>When upgrading or downgrading your database to a different release, for theme indexing and related features to work correctly, Oracle recommends that you recompile your extended knowledge base in the new environment.</p>
</li>
<li>
<p>Before extending the knowledge base, you must terminate all server processes that have invoked any knowledge base-related Text functions during their lifetime.</p>
</li>
<li>
<p>There can be only one user extension for each language for each installation. Because a user extension affects all users at the installation, only the <code dir="ltr">CTXSYS</code> user can extend the knowledge base.</p>
</li>
<li>
<p>In an Oracle RAC environment, the <code dir="ltr">ORACLE_HOME</code> can either be shared between multiple nodes, or each node can have its own <code dir="ltr">ORACLE_HOME</code>. The following requirements apply:</p>
<ul>
<li>
<p>Before using any knowledge base-dependent functionality in any of the Oracle RAC nodes, <code dir="ltr">ctxkbtc</code> must be run in every <code dir="ltr">ORACLE_HOME</code> in the Oracle RAC environment.</p>
</li>
<li>
<p>When using <code dir="ltr">ctxkbtc</code>, the exact same input thesaurus content must be used in every <code dir="ltr">ORACLE_HOME</code> in the Oracle RAC environment.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="CCREF2194" class="sect2"><a id="sthref2148"></a>
<h3 class="sect2"><span class="secnum">14.2.5</span> ctxkbtc Constraints on Thesaurus Terms</h3>
<p>Terms are case sensitive. If a thesaurus has a term in uppercase, for example, the same term present in lowercase form in a document will not be recognized.</p>
<p>The maximum length of a term is 80 characters.</p>
<p>Disambiguated homographs are not supported.</p>
</div>
<!-- class="sect2" -->
<div id="CCREF2195" class="sect2"><a id="sthref2149"></a>
<h3 class="sect2"><span class="secnum">14.2.6</span> ctxkbtc Constraints on Thesaurus Relations</h3>
<p>The following constraints apply to thesaurus relations:</p>
<ul>
<li>
<p>BTG and BTP are the same as BT. NTG and NTP are the same as NT.</p>
</li>
<li>
<p>Only preferred terms can have a BT, NTs or RTs.</p>
</li>
<li>
<p>If a term has no USE relation, it will be treated as its own preferred term.</p>
</li>
<li>
<p>If a set of terms are related by SYN relations, only one of them may be a preferred term.</p>
</li>
<li>
<p>An existing category cannot be made a top term.</p>
</li>
<li>
<p>There can be no cycles in BT and NT relations.</p>
</li>
<li>
<p>A term can have at most one preferred term and at most one BT. A term may have any number of NTs.</p>
</li>
<li>
<p>An RT of a term cannot be an ancestor or descendent of the term. A preferred term may have any number of RTs up to a maximum of 32.</p>
</li>
<li>
<p>The maximum height of a tree is 16 including the top term level.</p>
</li>
<li>
<p>When multiple thesauri are being compiled, a top term in one thesaurus should not have a broader term in another thesaurus.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The thesaurus compiler tolerates some violations of the preceding rules. For example, if a term has multiple BTs, then the compiler ignores all but the last one it encounters.
<p>Similarly, BTs between existing knowledge base categories result only in a warning message.</p>
<p>Oracle recommends that you do not set up extended storage bases with violations. Using extended storage bases containing violations can produce undesired results.</p>
</div>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="i1006426"></a>
<div id="CCREF2196" class="sect2">
<h3 class="sect2"><span class="secnum">14.2.7</span> Extending the Knowledge Base</h3>
<p>Extend the supplied knowledge base by compiling one or more thesauri with the Oracle Text knowledge base. The extended information can be application-specific terms and relationships. During theme analysis, the extended portion of the knowledge base overrides any terms and relationships in the knowledge base where there is overlap.</p>
<p>When extending the knowledge base, Oracle recommends that new terms be linked to one of the categories in the knowledge base for best results in theme proving when appropriate.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For complete description of the supplied knowledge base, see <code dir="ltr"><a href="http://www.oracle.com/technology/products/text/">http://www.oracle.com/technology/products/text/</a></code></div>
<p>If new terms are kept completely disjoint from existing categories, fewer themes from new terms will be proven. The result of this is poorer precision and recall with <code dir="ltr">ABOUT</code> queries as well poor quality of gists and theme highlighting.</p>
<p>Link new terms to existing terms by making an existing term the broader term for the new terms.</p>
<div id="CCREF2197" class="sect3"><a id="sthref2150"></a>
<h4 class="sect3"><span class="secnum">14.2.7.1</span> Example for Extending the Knowledge Base</h4>
<p>You purchase a medical thesaurus <code dir="ltr">medthes</code> containing a hierarchy of medical terms. The four top terms in the thesaurus are the following:</p>
<ul>
<li>
<p>Anesthesia and Analgesia</p>
</li>
<li>
<p>Anti-Allergic and Respiratory System Agents</p>
</li>
<li>
<p>Anti-Inflammatory Agents, Antirheumatic Agents, and Inflammation Mediators</p>
</li>
<li>
<p>Antineoplastic and Immunosuppressive Agents</p>
</li>
</ul>
<p>To link these terms to the existing knowledge base, add the following entries to the medical thesaurus to map the new terms to the existing <span class="italic">health and medicine</span> branch:</p>
<pre dir="ltr">
health and medicine
 NT Anesthesia and Analgesia
 NT Anti-Allergic and Respiratory System Agents
 NT Anti-Inflamammatory Agents, Antirheumatic Agents, and Inflamation Mediators
 NT Antineoplastic and Immunosuppressive Agents
</pre>
<p>Set your globalization support language environment variable to match the database character set. For example, if your database character set is WE8ISO8859P1 and you are using American English, set your <code dir="ltr">NLS_LANG</code> as follows:</p>
<pre dir="ltr">
setenv NLS_LANG AMERICAN_AMERICA.WE8ISO8859P1
</pre>
<p>Assuming the medical thesaurus is in a file called med.thes, load the thesaurus as <code dir="ltr">medthes</code> with <code dir="ltr">ctxload</code> as follows:</p>
<pre dir="ltr">
ctxload -thes -thescase y -name medthes -file med.thes -user ctxsys/ctxsys
</pre>
<p>To link the loaded thesaurus <code dir="ltr">medthes</code> to the knowledge base, use <code dir="ltr">ctxkbtc</code> as follows:</p>
<pre dir="ltr">
ctxkbtc -user ctxsys/ctxsys -name medthes 
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006464"></a>
<div id="CCREF2198" class="sect2">
<h3 class="sect2"><span class="secnum">14.2.8</span> Adding a Language-Specific Knowledge Base<a id="sthref2151"></a><a id="sthref2152"></a></h3>
<p>Extend theme functionality to languages other than English or French by loading your own knowledge base for any single-byte whitespace delimited language, including Spanish.</p>
<p>Theme functionality includes theme indexing, <code dir="ltr">ABOUT</code> queries, theme highlighting, and the generation of themes, gists, and theme summaries with the <code dir="ltr">CTX_DOC</code> PL/SQL package.</p>
<p>Extend theme functionality by adding a user-defined knowledge base. For example, you can create a Spanish knowledge base from a Spanish thesaurus.</p>
<p>To load your language-specific knowledge base, follow these steps:</p>
<ol>
<li>
<p>Load your custom thesaurus using <code dir="ltr">ctxload</code>.</p>
</li>
<li>
<p>Set NLS_LANG so that the language portion is the target language. The charset portion must be a single-byte character set.</p>
</li>
<li>
<p>Compile the loaded thesaurus using <code dir="ltr">ctxkbtc</code>:</p>
</li>
</ol>
<pre dir="ltr">
ctxkbtc -user ctxsys/ctxsys -name my_lang_thes
</pre>
<p>This command compiles your language-specific knowledge base from the loaded thesaurus. To use this knowledge base for theme analysis during indexing and <code dir="ltr">ABOUT</code> queries, specify the <code dir="ltr">NLS_LANG</code> language as the <code dir="ltr">THEME_LANGUAGE</code> attribute value for the <code dir="ltr">BASIC_LEXER</code> preference.</p>
<div id="CCREF2199" class="sect3"><a id="sthref2153"></a>
<h4 class="sect3"><span class="secnum">14.2.8.1</span> Limitations for Adding a Knowledge Base</h4>
<p>The following limitations hold for adding knowledge bases:</p>
<ul>
<li>
<p>Oracle Text supplies knowledge bases in English and French only. You must provide your own thesaurus for any other language.</p>
</li>
<li>
<p>You can only add knowledge bases for languages with single-byte character sets. You cannot create a knowledge base for languages which can be expressed only in multibyte character sets. If the database is a multibyte universal character set, such as UTF-8, the NLS_LANG parameter must still be set to a compatible single-byte character set when compiling the thesaurus.</p>
</li>
<li>
<p>Adding a knowledge base works best for whitespace delimited languages.</p>
</li>
<li>
<p>You can have at most one knowledge base for each globalization support language.</p>
</li>
<li>
<p>Obtaining hierarchical query feedback information such as broader terms, narrower terms and related terms does not work in languages other than English and French. In other languages, the knowledge bases are derived entirely from your thesauri. In such cases, Oracle recommends that you obtain hierarchical information directly from your thesauri.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CCREF2200" class="sect2"><a id="sthref2154"></a>
<h3 class="sect2"><span class="secnum">14.2.9</span> Order of Precedence for Multiple Thesauri</h3>
<p>When multiple thesauri are to be compiled, precedence is determined by the order in which thesauri are listed in the arguments to the compiler, assumed to be <span class="italic">most preferred</span> first. A user-defined thesaurus always has precedence over the built-in knowledge base.</p>
</div>
<!-- class="sect2" -->
<div id="CCREF2201" class="sect2"><a id="sthref2155"></a>
<h3 class="sect2"><span class="secnum">14.2.10</span> Size Limits for Extended Knowledge Base</h3>
<p>The following table lists the size limits associated with creating and compiling an extended knowledge base.</p>
<div id="CCREF23953" class="tblformal">
<p class="titleintable"><a id="sthref2156"></a><a id="sthref2157"></a>Table 14-1 Size Limit for the Extended Knowledge Base</p>
<table class="cellalignment103" title="Size Limit for the Extended Knowledge Base" summary="This table shows the size limits associated with a knowledge base." dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t13">Description of Parameter</th>
<th class="cellalignment97" id="r1c2-t13">Limit</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t13" headers="r1c1-t13">
<p>Number of RTs (from + to) for each term</p>
</td>
<td class="cellalignment98" headers="r2c1-t13 r1c2-t13">
<p>32</p>
</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t13" headers="r1c1-t13">
<p>Number of terms for each single hierarchy (for example, all narrower terms for a given top term)</p>
</td>
<td class="cellalignment98" headers="r3c1-t13 r1c2-t13">
<p>64000</p>
</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t13" headers="r1c1-t13">
<p>Number of new terms in an extended knowledge base</p>
</td>
<td class="cellalignment98" headers="r4c1-t13 r1c2-t13">
<p>1 million</p>
</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t13" headers="r1c1-t13">
<p>Number of separate thesauri that can be compiled into a user extension to the KB</p>
</td>
<td class="cellalignment98" headers="r5c1-t13 r1c2-t13">
<p>16</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006575"></a>
<div id="CCREF2202" class="sect1">
<h2 class="sect1"><span class="secnum">14.3</span> Lexical Compiler (ctxlc)<a id="sthref2158"></a><a id="sthref2159"></a><a id="sthref2160"></a><a id="sthref2161"></a><a id="sthref2162"></a><a id="sthref2163"></a><a id="sthref2164"></a><a id="sthref2165"></a><a id="sthref2166"></a><a id="sthref2167"></a></h2>
<p>The Lexical Compiler (<code dir="ltr">ctxlc</code>) is a command-line utility that enables you to create your own Chinese and Japanese lexicons (dictionaries). Such a lexicon may either be generated from a user-supplied word list or from the merging of a word list with the system lexicon for that language.</p>
<p><code dir="ltr">ctxlc</code> creates the new lexicon in your current directory. The new lexicon consists of three files, <code dir="ltr">drold.dat</code>, <code dir="ltr">drolk.dat</code>, and <code dir="ltr">droli.dat</code>. To change your system lexicon for Japanese or Chinese, overwrite the system lexicon with these files.</p>
<p>The Lexical Compiler can also generate wordlists from the system lexicons for Japanese and Chinese, enabling you to see their contents. These word lists go to the standard output and thus can be redirected into a file of your choice.</p>
<p>After overwriting the system lexicon, you need to re-create your indexes before querying them.</p>
<div id="CCREF2203" class="sect2"><a id="sthref2168"></a>
<h3 class="sect2"><span class="secnum">14.3.1</span> Syntax of ctxlc</h3>
<p><code dir="ltr">ctxlc</code> has the following syntax:</p>
<pre dir="ltr">
ctxlc -ja | -zh [ -n ] -ics <span class="italic">character_set</span> -i <span class="italic">input_file</span>

ctxlc -ja | -zh -ocs <span class="italic">character_set </span>[ &gt; <span class="italic">output_file</span> ]
</pre>
<div id="CCREF2204" class="sect3"><a id="sthref2169"></a>
<h4 class="sect3"><span class="secnum">14.3.1.1</span> Mandatory Arguments</h4>
<dl>
<dt>-ja | -zh</dt>
<dd>
<p>Specify the language of the lexicon to modify or create. <code dir="ltr">-ja</code> indicates the Japanese lexicon; <code dir="ltr">-zh</code> indicates the Chinese lexicon.</p>
</dd>
<dt>-ics <span class="italic">character_set</span></dt>
<dd>
<p>Specify the character set of the input file denoted by <code dir="ltr">-i</code> <span class="italic">input_file</span>. <span class="italic">input_file</span> is the list of words, one word to a line, to use in creating the new lexicon.</p>
</dd>
<dt>-i <span class="italic">input_file</span></dt>
<dd>
<p>Specify the file containing words to use in creating a new lexicon.</p>
</dd>
<dt>-ocs <span class="italic">character_set</span></dt>
<dd>
<p>Specify the character set of the text file to be output.</p>
</dd>
</dl>
</div>
<!-- class="sect3" -->
<div id="CCREF2205" class="sect3"><a id="sthref2170"></a>
<h4 class="sect3"><span class="secnum">14.3.1.2</span> Optional Arguments</h4>
<dl>
<dt>-n</dt>
<dd>
<p>Specify <code dir="ltr">-n</code> to create a new lexicon that consists only of user-supplied words taken from <span class="italic">input_file</span>. If <code dir="ltr">-n</code> is not specified, then the new lexicon consists of a merge of the system lexicon with <span class="italic">input_file</span>. Also, when <code dir="ltr">-n</code> is not selected, a text file called <code dir="ltr">drolt.dat</code>, is created in the current directory to enable you to inspect the contents of the merged lexicon without having to enter another <code dir="ltr">ctxlc</code> command.</p>
</dd>
</dl>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CCREF2206" class="sect2"><a id="sthref2171"></a>
<h3 class="sect2"><span class="secnum">14.3.2</span> Performance Considerations</h3>
<p>You can add up to 1,000,000 new words to a lexicon. However, creating a very large lexicon can reduce performance in indexing and querying. Performance is best when the lexicon character set is UTF-8. There is no performance impact on the Chinese or Japanese V-gram lexers, as they do not use lexicons.</p>
</div>
<!-- class="sect2" -->
<div id="CCREF2207" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref2172"></a>
<h3 class="sect2"><span class="secnum">14.3.3</span> ctxlc Usage Notes</h3>
<p>Oracle recommends the following practices with regard to <code dir="ltr">ctxlc</code>:</p>
<ul>
<li>
<p>Save your plain text dictionary file in your environment for emergency use.</p>
</li>
<li>
<p>When upgrading or downgrading your database to a different release, recompile your plain text dictionary file in the new environment so that the user lexicon will work correctly.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="CCREF2208" class="sect2"><a id="sthref2173"></a>
<h3 class="sect2"><span class="secnum">14.3.4</span> Example</h3>
<p>In this example, you create a new Japanese lexicon from the file <code dir="ltr">jadict.txt</code>, a word list that uses the JA16EUC character set. Because you are not specifying <code dir="ltr">-n</code>, the new lexicon is the result of merging <code dir="ltr">jadict.txt</code> with the system Japanese lexicon. Then replace the existing Japanese lexicon with the new, merged one.</p>
<pre dir="ltr">
% ctxlc -ja -ics JA16EUC -i jadict.txt
</pre>
<p>This creates new files in the current directory:</p>
<pre dir="ltr">
% ls
drold.dat
drolk.dat
droli.dat
drolt.dat
</pre>
<p>The system lexicon files for Japanese and Chinese are named <code dir="ltr">drold</code><code dir="ltr"><span class="codeinlineitalic">xx</span></code><code dir="ltr">.dat</code> <code dir="ltr">drolk</code><code dir="ltr"><span class="codeinlineitalic">xx</span></code><code dir="ltr">.dat</code>, and <code dir="ltr">droli</code><code dir="ltr"><span class="codeinlineitalic">xx</span></code><code dir="ltr">.dat</code>, where <span class="italic">xx</span> is either <code dir="ltr">JA</code> (for Japanese) or <code dir="ltr">ZH</code> (for Chinese). Rename the three new files and copy them to the directory containing the system Japanese lexicon.</p>
<pre dir="ltr">
% mv drold.dat droldJA.dat
% mv drolk.dat drolkJA.dat
% mv droli.dat droliJA.dat
% cp *dat $ORACLE_HOME/ctx/data/jalx
</pre>
<p>This replaces the system Japanese lexicon with one that is a merge of the old system lexicon and your wordlist from <code dir="ltr">jadict.txt</code>.</p>
<p>You can also use <code dir="ltr">ctxlc</code> to get a dump of a system lexicon. This example dumps the Chinese lexicon to a file called <code dir="ltr">new_chinese_dict.txt</code> in the current directory:</p>
<pre dir="ltr">
% ctxlc -zh -ocs UTF8 &gt; new_chinese_dict.txt
</pre>
<p>This creates a file, <code dir="ltr">new_japanese.dict.txt</code>, using the UTF8 character set, in the current directory.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment89">
<tr>
<td class="cellalignment98">
<table class="cellalignment94">
<tr>
<td class="cellalignment93"><a href="culexpkg.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment93"><a href="cspell.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment100">
<table class="cellalignment92">
<tr>
<td class="cellalignment93"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment93"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment93"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment93"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment93"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment93"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
