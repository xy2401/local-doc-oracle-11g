<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>CTX_THES Package</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1071" />
<meta name="dcterms.created" content="2015-10-23T12:26:36Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Text Reference" />
<meta name="dcterms.identifier" content="E24436-05" />
<meta name="dcterms.isVersionOf" content="CCREF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="crptpkg.htm" title="Previous" type="text/html" />
<link rel="Next" href="culexpkg.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e24436.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">17/29</span> <!-- End Header -->
<div id="CCREF1600" class="chapter"><a id="g1010323"></a>
<h1 class="chapter"><span class="secnum">12</span> CTX_THES Package</h1>
<p>This chapter provides reference information for using the <code dir="ltr">CTX_THES</code> package to manage and browse thesauri. These thesaurus functions are based on the ISO-2788 and ANSI Z39.19 standards except where noted.<a id="sthref1950"></a><a id="sthref1951"></a></p>
<p>Knowing how information is stored in your thesaurus helps in writing queries with thesaurus operators. You can also use a thesaurus to extend the knowledge base, which is used for <code dir="ltr">ABOUT</code> queries in English and French and for generating document themes.</p>
<p><code dir="ltr">CTX_THES</code> contains the following stored procedures and functions:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="ctx_thes procedures" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t2"><span class="bold">Name</span></th>
<th class="cellalignment97" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t2" headers="r1c1-t2"><a href="#CJABBEAI">ALTER_PHRASE</a></td>
<td class="cellalignment98" headers="r2c1-t2 r1c2-t2">Alters thesaurus phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t2" headers="r1c1-t2"><a href="#i997020">ALTER_THESAURUS</a></td>
<td class="cellalignment98" headers="r3c1-t2 r1c2-t2">Renames or truncates a thesaurus.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t2" headers="r1c1-t2"><a href="#i997067">BT</a></td>
<td class="cellalignment98" headers="r4c1-t2 r1c2-t2">Returns all broader terms of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t2" headers="r1c1-t2"><a href="#i997163">BTG</a></td>
<td class="cellalignment98" headers="r5c1-t2 r1c2-t2">Returns all broader terms generic of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r6c1-t2" headers="r1c1-t2"><a href="#i997227">BTI</a></td>
<td class="cellalignment98" headers="r6c1-t2 r1c2-t2">Returns all broader terms instance of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r7c1-t2" headers="r1c1-t2"><a href="#i997291">BTP</a></td>
<td class="cellalignment98" headers="r7c1-t2 r1c2-t2">Returns all broader terms partitive of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r8c1-t2" headers="r1c1-t2"><a href="#i997354">CREATE_PHRASE</a></td>
<td class="cellalignment98" headers="r8c1-t2 r1c2-t2">Adds a phrase to the specified thesaurus.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r9c1-t2" headers="r1c1-t2"><a href="#i997390">CREATE_RELATION</a></td>
<td class="cellalignment98" headers="r9c1-t2 r1c2-t2">Creates a relation between two phrases.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r10c1-t2" headers="r1c1-t2"><a href="#i997464">CREATE_THESAURUS</a></td>
<td class="cellalignment98" headers="r10c1-t2 r1c2-t2">Creates the specified thesaurus.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r11c1-t2" headers="r1c1-t2"><a href="#i997479">CREATE_TRANSLATION</a></td>
<td class="cellalignment98" headers="r11c1-t2 r1c2-t2">Creates a new translation for a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r12c1-t2" headers="r1c1-t2"><a href="#i997504">DROP_PHRASE</a></td>
<td class="cellalignment98" headers="r12c1-t2 r1c2-t2">Removes a phrase from thesaurus.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r13c1-t2" headers="r1c1-t2"><a href="#i997534">DROP_RELATION</a></td>
<td class="cellalignment98" headers="r13c1-t2 r1c2-t2">Removes a relation between two phrases.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r14c1-t2" headers="r1c1-t2"><a href="#i997620">DROP_THESAURUS</a></td>
<td class="cellalignment98" headers="r14c1-t2 r1c2-t2">Drops the specified thesaurus from the thesaurus tables.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r15c1-t2" headers="r1c1-t2"><a href="#i997632">DROP_TRANSLATION</a></td>
<td class="cellalignment98" headers="r15c1-t2 r1c2-t2">Drops a translation for a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r16c1-t2" headers="r1c1-t2"><a href="#i997660">HAS_RELATION</a></td>
<td class="cellalignment98" headers="r16c1-t2 r1c2-t2">Tests for the existence of a thesaurus relation.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r17c1-t2" headers="r1c1-t2"><a href="#i997685">NT</a></td>
<td class="cellalignment98" headers="r17c1-t2 r1c2-t2">Returns all narrower terms of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r18c1-t2" headers="r1c1-t2"><a href="#i997785">NTG</a></td>
<td class="cellalignment98" headers="r18c1-t2 r1c2-t2">Returns all narrower terms generic of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r19c1-t2" headers="r1c1-t2"><a href="#i997848">NTI</a></td>
<td class="cellalignment98" headers="r19c1-t2 r1c2-t2">Returns all narrower terms instance of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r20c1-t2" headers="r1c1-t2"><a href="#i997911">NTP</a></td>
<td class="cellalignment98" headers="r20c1-t2 r1c2-t2">Returns all narrower terms partitive of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r21c1-t2" headers="r1c1-t2"><a href="#i997976">OUTPUT_STYLE</a></td>
<td class="cellalignment98" headers="r21c1-t2 r1c2-t2">Sets the output style for the expansion functions.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r22c1-t2" headers="r1c1-t2"><a href="#i998005">PT</a></td>
<td class="cellalignment98" headers="r22c1-t2 r1c2-t2">Returns the preferred term of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r23c1-t2" headers="r1c1-t2"><a href="#i998069">RT</a></td>
<td class="cellalignment98" headers="r23c1-t2 r1c2-t2">Returns the related terms of a phrase</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r24c1-t2" headers="r1c1-t2"><a href="#i998135">SN</a></td>
<td class="cellalignment98" headers="r24c1-t2 r1c2-t2">Returns scope note for phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r25c1-t2" headers="r1c1-t2"><a href="#i998163">SYN</a></td>
<td class="cellalignment98" headers="r25c1-t2 r1c2-t2">Returns the synonym terms of a phrase</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r26c1-t2" headers="r1c1-t2"><a href="#i998247">THES_TT</a></td>
<td class="cellalignment98" headers="r26c1-t2 r1c2-t2">Returns all top terms for phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r27c1-t2" headers="r1c1-t2"><a href="#i998280">TR</a></td>
<td class="cellalignment98" headers="r27c1-t2 r1c2-t2">Returns the foreign equivalent of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r28c1-t2" headers="r1c1-t2"><a href="#i998365">TRSYN</a></td>
<td class="cellalignment98" headers="r28c1-t2 r1c2-t2">Returns the foreign equivalent of a phrase, synonyms of the phrase, and foreign equivalent of the synonyms.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r29c1-t2" headers="r1c1-t2"><a href="#i998450">TT</a></td>
<td class="cellalignment98" headers="r29c1-t2 r1c2-t2">Returns the top term of a phrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r30c1-t2" headers="r1c1-t2"><a href="#i998518">UPDATE_TRANSLATION</a></td>
<td class="cellalignment98" headers="r30c1-t2 r1c2-t2">Updates an existing translation.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a> for more information about the thesaurus operators.</div>
<div class="refentry"><a id="CJABBEAI"></a>
<div id="CCREF2150" class="refsect1">
<h2 class="refsect1">ALTER_PHRASE<a id="sthref1952"></a><a id="sthref1953"></a><a id="sthref1954"></a></h2>
<p>Alters an existing phrase in the thesaurus. Only <code dir="ltr">CTXSYS</code> or thesaurus owner can alter a phrase.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1955"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.ALTER_PHRASE(tname      in varchar2, 
                       phrase     in varchar2,
                       op         in varchar2,
                       operand    in varchar2 default null);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to alter.</p>
</dd>
<dt>op</dt>
<dd>
<p>Specify the alter operation as a string or symbol. You can specify one of the following operations with the <code dir="ltr">op</code> and <code dir="ltr">operand</code> pair:'</p>
<div class="inftblinformal">
<table class="cellalignment96" title="ctx_thes.alter_phrase op parameter" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t4">op</th>
<th class="cellalignment97" id="r1c2-t4">meaning</th>
<th class="cellalignment97" id="r1c3-t4">operand</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t4" headers="r1c1-t4"><code dir="ltr">RENAME</code>
<p>or</p>
<p><code dir="ltr">CTX_THES.OP_RENAME</code></p>
</td>
<td class="cellalignment98" headers="r2c1-t4 r1c2-t4">Rename phrase. If the new phrase already exists in the thesaurus, this procedure raises an exception.</td>
<td class="cellalignment98" headers="r2c1-t4 r1c3-t4">Specify a new phrase. You can include qualifiers to change, add, or remove qualifiers from phrases.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t4" headers="r1c1-t4"><code dir="ltr">PT</code>
<p>or</p>
<p><code dir="ltr">CTX_THES.OP_PT</code></p>
</td>
<td class="cellalignment98" headers="r3c1-t4 r1c2-t4">Make phrase the preferred term. Existing preferred terms in the synonym ring becomes non-preferred synonym.</td>
<td class="cellalignment98" headers="r3c1-t4 r1c3-t4">(none)</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t4" headers="r1c1-t4"><code dir="ltr">SN</code>
<p>or</p>
<p><code dir="ltr">CTX_THES.OP_SN</code></p>
</td>
<td class="cellalignment98" headers="r4c1-t4 r1c2-t4">Change the scope note on the phrase.</td>
<td class="cellalignment98" headers="r4c1-t4 r1c3-t4">Specify a new scope note.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>operand</dt>
<dd>
<p>Specify an argument to the alter operation. See table for <code dir="ltr">op</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1956"></a>Examples</p>
<p>Correct misspelled word in thesaurus:</p>
<pre dir="ltr">
ctx_thes.alter_phrase('thes1', 'tee', 'rename', 'tea');
</pre>
<p>Remove qualifier from mercury (metal):</p>
<pre dir="ltr">
ctx_thes.alter_phrase('thes1', 'mercury (metal)', 'rename', 'mercury');
</pre>
<p>Add qualifier to mercury:</p>
<pre dir="ltr">
ctx_thes.alter_phrase('thes1', 'mercury', 'rename', 'mercury (planet)');
</pre>
<p>Make Kowalski the preferred term in its synonym ring:</p>
<pre dir="ltr">
ctx_thes.alter_phrase('thes1', 'Kowalski', 'pt');
</pre>
<p>Change scope note for view cameras:</p>
<pre dir="ltr">
ctx_thes.alter_phrase('thes1', 'view cameras', 'sn', 'Cameras with lens focusing');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997020"></a>
<div id="CCREF2151" class="refsect1">
<h2 class="refsect1">ALTER_THESAURUS<a id="sthref1957"></a><a id="sthref1958"></a><a id="sthref1959"></a></h2>
<p>Use this procedure to rename or truncate an existing thesaurus. Only the thesaurus owner or <code dir="ltr">CTXSYS</code> can invoke this function on a given thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1960"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.ALTER_THESAURUS(tname     in   varchar2,
                          op       in   varchar2,
                          operand  in   varchar2 default null);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name.</p>
</dd>
<dt>op</dt>
<dd>
<p>Specify the alter operation as a string or symbol. You can specify one of two operations:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="ctx_thes.alter_thesaurus op parameter" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t5">op</th>
<th class="cellalignment97" id="r1c2-t5">Meaning</th>
<th class="cellalignment97" id="r1c3-t5">operand</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t5" headers="r1c1-t5"><code dir="ltr">RENAME</code>
<p>or</p>
<p><code dir="ltr">CTX_THES.OP_RENAME</code></p>
</td>
<td class="cellalignment98" headers="r2c1-t5 r1c2-t5">Rename thesaurus. Returns an error if the new name already exists.</td>
<td class="cellalignment98" headers="r2c1-t5 r1c3-t5">Specify a new thesaurus name.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t5" headers="r1c1-t5"><code dir="ltr">TRUNCATE</code>
<p>or</p>
<p><code dir="ltr">CTX_THES.OP_TRUNCATE</code></p>
</td>
<td class="cellalignment98" headers="r3c1-t5 r1c2-t5">Truncate thesaurus.</td>
<td class="cellalignment98" headers="r3c1-t5 r1c3-t5">None.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>operand</dt>
<dd>
<p>Specify the argument to the alter operation. See table for <code dir="ltr">op</code>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1961"></a>Examples</p>
<p>Rename thesaurus <code dir="ltr">THES1</code> to <code dir="ltr">MEDICAL</code>:</p>
<pre dir="ltr">
ctx_thes.alter_thesaurus('thes1', 'rename', 'medical'); 
</pre>
<p>or</p>
<pre dir="ltr">
ctx_thes.alter_thesaurus('thes1', ctx_thes.op_rename, 'medical');
</pre>
<p>You can use symbols for any op argument, but all further examples will use strings.</p>
<p>Remove all phrases and relations from thesaurus <code dir="ltr">THES1</code>:</p>
<pre dir="ltr">
ctx_thes.alter_thesaurus('thes1', 'truncate');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997067"></a>
<div id="CCREF2152" class="refsect1">
<h2 class="refsect1">BT <a id="sthref1962"></a><a id="sthref1963"></a></h2>
<p>This function returns all broader terms of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1964"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.BT(restab IN OUT NOCOPY EXP_TAB,
            phrase IN VARCHAR2, 
            lvl    IN NUMBER DEFAULT 1,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1965"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.BT(phrase IN VARCHAR2, 
            lvl    IN NUMBER DEFAULT 1,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code></div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of broader terms to return. For example 2 means get the broader terms of the broader terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify a thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1966"></a>Returns</p>
<p>This function returns a string of broader terms in the form:</p>
<pre dir="ltr">
 {bt1}|{bt2}|{bt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1967"></a>Example</p>
<p class="subhead1"><a id="CCREF23947"></a>String Result</p>
<p>Consider a thesaurus named <code dir="ltr">MY_THES</code> that has an entry for <span class="italic">cat</span> as follows:</p>
<pre dir="ltr">
cat 
   BT1 feline 
     BT2 mammal 
       BT3 vertebrate 
         BT4 animal
</pre>
<p>To look up the broader terms for <span class="italic">cat</span> up to two levels, enter the following statements:</p>
<pre dir="ltr">
set serveroutput on

declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.bt('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('The broader expansion for CAT is: '||terms); 
end; 
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
The broader expansion for CAT is: {cat}|{feline}|{mammal}
</pre>
<p class="subhead1"><a id="CCREF23948"></a>Table Result</p>
<p>The following code does an broader term lookup for <span class="italic">white wolf</span> using the table result:</p>
<pre dir="ltr">
set serveroutput on

declare
  xtab ctx_thes.exp_tab;
begin
  ctx_thes.bt(xtab, 'white wolf', 2, 'my_thesaurus');
  for i in 1..xtab.count loop
    dbms_output.put_line(xtab(i).rel||' '||xtab(i).phrase);
  end loop;
end;
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
PHRASE WHITE WOLF
BT WOLF
BT CANINE
BT ANIMAL
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1968"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i997220">Broader Term (BT, BTG, BTP, BTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997163"></a>
<div id="CCREF2153" class="refsect1">
<h2 class="refsect1">BTG <a id="sthref1969"></a><a id="sthref1970"></a></h2>
<p>This function returns all broader terms generic of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1971"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.BTG(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1972"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.BTG(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of broader terms to return. For example 2 means get the broader terms of the broader terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1973"></a>Returns</p>
<p>This function returns a string of broader terms generic in the form:</p>
<pre dir="ltr">
 {bt1}|{bt2}|{bt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1974"></a>Example</p>
<p>To look up the broader terms generic for <span class="italic">cat</span> up to two levels, enter the following statements:</p>
<pre dir="ltr">
set serveroutput on
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.btg('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the broader expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1975"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i997220">Broader Term (BT, BTG, BTP, BTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997227"></a>
<div id="CCREF2154" class="refsect1">
<h2 class="refsect1">BTI <a id="sthref1976"></a><a id="sthref1977"></a></h2>
<p>This function returns all broader terms instance of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1978"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.BTI(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1979"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.BTI(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of broader terms to return. For example 2 means get the broader terms of the broader terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify a thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1980"></a>Returns</p>
<p>This function returns a string of broader terms instance in the form:</p>
<pre dir="ltr">
 {bt1}|{bt2}|{bt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1981"></a>Example</p>
<p>To look up the broader terms instance for <span class="italic">cat</span> up to two levels, enter the following statements:</p>
<pre dir="ltr">
set serveroutput on
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.bti('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the broader expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1982"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i997220">Broader Term (BT, BTG, BTP, BTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997291"></a>
<div id="CCREF2155" class="refsect1">
<h2 class="refsect1">BTP <a id="sthref1983"></a><a id="sthref1984"></a></h2>
<p>This function returns all broader terms partitive of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1985"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.BTP(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1986"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.BTP(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of broader terms to return. For example 2 means get the broader terms of the broader terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify a thesaurus name. If not specified, the system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1987"></a>Returns</p>
<p>This function returns a string of broader terms in the form:</p>
<pre dir="ltr">
 {bt1}|{bt2}|{bt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1988"></a>Example</p>
<p>To look up the two broader terms partitive for <span class="italic">cat</span>, enter the following statements:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.btp('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the broader expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1989"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i997220">Broader Term (BT, BTG, BTP, BTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997354"></a>
<div id="CCREF2156" class="refsect1">
<h2 class="refsect1">CREATE_PHRASE <a id="sthref1990"></a><a id="sthref1991"></a><a id="sthref1992"></a></h2>
<p>The <code dir="ltr">CREATE_PHRASE</code> procedure adds a new phrase to the specified thesaurus.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Even though you can create thesaurus relations with this procedure, Oracle recommends that you use <code dir="ltr">CTX_THES.CREATE_RELATION</code> rather than <code dir="ltr">CTX_THES.CREATE_PHRASE</code> to create relations in a thesaurus.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1993"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.CREATE_PHRASE(tname   IN VARCHAR2,
                       phrase  IN VARCHAR2,
                       rel     IN VARCHAR2 DEFAULT NULL,
                       relname IN VARCHAR2 DEFAULT NULL);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the name of the thesaurus in which the new phrase is added or the existing phrase is located.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the phrase to be added to a thesaurus or the phrase for which a new relationship is created.</p>
</dd>
<dt>rel</dt>
<dd>
<p>Specify the new relationship between <span class="italic">phrase</span> and <span class="italic">relname</span>. This parameter is supported only for backward compatibility. Use CTX_THES.<a href="#i997390">CREATE_RELATION</a> to create new relations in a thesaurus.</p>
</dd>
<dt>relname</dt>
<dd>
<p>Specify the existing phrase that is related to <span class="italic">phrase</span>. This parameter is supported only for backward compatibility. Use CTX_THES.<a href="#i997390">CREATE_RELATION</a> to create new relations in a thesaurus.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1994"></a>Returns</p>
<p>The ID for the entry.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1995"></a>Example</p>
<p>In this example, two new phrases (<span class="italic">os</span> and <span class="italic">operating system</span>) are created in a thesaurus named <code dir="ltr">tech_thes</code>.</p>
<pre dir="ltr">
begin
   ctx_thes.create_phrase('tech_thes','os');
   ctx_thes.create_phrase('tech_thes','operating system');
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997390"></a>
<div id="CCREF2157" class="refsect1">
<h2 class="refsect1">CREATE_RELATION<a id="sthref1996"></a><a id="sthref1997"></a><a id="sthref1998"></a></h2>
<p>Creates a relation between two phrases in the thesaurus. The synonym ring is limited in length to about 4000 synonyms, depending on word length.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you use <code dir="ltr">CTX_THES.CREATE_RELATION</code> rather than <code dir="ltr">CTX_THES.CREATE_PHRASE</code> to create relations in a thesaurus.</div>
<p>Only thesaurus owner and <code dir="ltr">CTXSYS</code> can invoke this procedure on a given thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1999"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.CREATE_RELATION(tname     in    varchar2,
                          phrase    in    varchar2,
                          rel       in    varchar2,
                          relphrase in    varchar2);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the phrase to alter or create. If <code dir="ltr">phrase</code> is a disambiguated homograph, you must specify the qualifier. If <code dir="ltr">phrase</code> does not exist in the thesaurus, it is created.</p>
</dd>
<dt>rel</dt>
<dd>
<p>Specify the relation to create.The relation is from <code dir="ltr">phrase</code> to <code dir="ltr">relphrase</code>. You can specify one of the following relations:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="ctx_thes.create_relation rel parameter" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t12">relation</th>
<th class="cellalignment97" id="r1c2-t12">meaning</th>
<th class="cellalignment97" id="r1c3-t12">relphrase</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t12" headers="r1c1-t12">BT*/NT*</td>
<td class="cellalignment98" headers="r2c1-t12 r1c2-t12">Add hierarchical relation.</td>
<td class="cellalignment98" headers="r2c1-t12 r1c3-t12">Specify the related phrase. The relationship is interpreted from phrase to relphrase.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t12" headers="r1c1-t12">RT</td>
<td class="cellalignment98" headers="r3c1-t12 r1c2-t12">Add associative relation.</td>
<td class="cellalignment98" headers="r3c1-t12 r1c3-t12">Specify the phrase to associate.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t12" headers="r1c1-t12">SYN</td>
<td class="cellalignment98" headers="r4c1-t12 r1c2-t12">Add phrase to a synonym ring.</td>
<td class="cellalignment98" headers="r4c1-t12 r1c3-t12">Specify an existing phrase in the synonym ring.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t12" headers="r1c1-t12">Specify language</td>
<td class="cellalignment98" headers="r5c1-t12 r1c2-t12">Add translation for a phrase.</td>
<td class="cellalignment98" headers="r5c1-t12 r1c3-t12">Specify a new translation phrase.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>relphrase</dt>
<dd>
<p>Specify the related phrase. If relphrase does not exist in <span class="syntaxinline">tname</span>, relphrase is created. See table for <span class="syntaxinline">rel</span>.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2000"></a>Notes</p>
<p>The relation you specify for rel is interpreted as from phrase to relphrase. For example, consider dog with broader term animal:</p>
<pre dir="ltr">
dog
  BT animal
</pre>
<p>To add this relation, specify the arguments as follows:</p>
<pre dir="ltr">
begin
CTX_THES.CREATE_RELATION('thes','dog','BT','animal'); 
end;     
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The order in which you specify arguments for <code dir="ltr">CTX_THES.CREATE_RELATION</code> is different from the order you specify them with <code dir="ltr">CTX_THES.CREATE_PHRASE</code>.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2001"></a>Examples</p>
<p>Create relation VEHICLE NT CAR:</p>
<pre dir="ltr">
ctx_thes.create_relation('thes1', 'vehicle', 'NT', 'car');
</pre>
<p>Create Japanese translation for <span class="italic">you</span>:</p>
<pre dir="ltr">
ctx_thes.create_relation('thes1', 'you', 'JAPANESE:', 'kimi');
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997464"></a>
<div id="CCREF2158" class="refsect1">
<h2 class="refsect1">CREATE_THESAURUS<a id="sthref2002"></a><a id="sthref2003"></a><a id="sthref2004"></a></h2>
<p>The <code dir="ltr">CREATE_THESAURUS</code> procedure creates an empty thesaurus with the specified name in the thesaurus tables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2005"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.CREATE_THESAURUS(name           IN VARCHAR2,
                          casesens       IN BOOLEAN DEFAULT FALSE);
</pre>
<dl>
<dt>name</dt>
<dd>
<p>Specify the name of the thesaurus to be created. The name of the thesaurus must be unique. If a thesaurus with the specified name already exists, <code dir="ltr">CREATE_THESAURUS</code> returns an error and does not create the thesaurus.</p>
</dd>
<dt>casesens</dt>
<dd>
<p>Specify whether the thesaurus to be created is case-sensitive. If <span class="syntaxinline">casesens</span> is <span class="italic">true</span>, Oracle Text retains the cases of all terms entered in the specified thesaurus. As a result, queries that use the thesaurus are case-sensitive.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2006"></a>Example</p>
<pre dir="ltr">
begin
   ctx_thes.create_thesaurus('tech_thes', FALSE);
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997479"></a>
<div id="CCREF2159" class="refsect1">
<h2 class="refsect1">CREATE_TRANSLATION<a id="sthref2007"></a><a id="sthref2008"></a><a id="sthref2009"></a></h2>
<p>Use this procedure to create a new translation for a phrase in a specified language.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2010"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.CREATE_TRANSLATION(tname       in    varchar2,
                            phrase      in    varchar2,
                            language    in    varchar2,
                            translation in    varchar2);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the name of the thesaurus, using no more than 30 characters.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the phrase in the thesaurus to which to add a translation. Phrase must already exist in the thesaurus, or an error is raised.</p>
</dd>
<dt>language</dt>
<dd>
<p>Specify the language of the translation, using no more than 10 characters.</p>
</dd>
<dt>translation</dt>
<dd>
<p>Specify the translated term, using no more than 256 characters.</p>
<p>If a translation for this phrase already exists, this new translation is added without removing that original translation, so long as that original translation is not the same. Adding the same translation twice results in an error.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2011"></a>Example</p>
<p>The following code adds the Spanish translation for <span class="italic">dog</span> to <span class="italic">my_thes</span>:</p>
<pre dir="ltr">
begin
   ctx_thes.create_translation('my_thes', 'dog', 'SPANISH', 'PERRO');
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997504"></a>
<div id="CCREF2160" class="refsect1">
<h2 class="refsect1">DROP_PHRASE<a id="sthref2012"></a><a id="sthref2013"></a><a id="sthref2014"></a></h2>
<p>Removes a phrase from the thesaurus. Only thesaurus owner and <code dir="ltr">CTXSYS</code> can invoke this procedure on a given thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2015"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.DROP_PHRASE(tname      in varchar2, 
                     phrase     in varchar2);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify thesaurus name.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to drop. If the <span class="syntaxinline">phrase</span> is a disambiguated homograph, then you must include the qualifier. If the phrase does not exist in <span class="syntaxinline">tname</span>, then this procedure raises an exception.</p>
<p>BT* / NT* relations are patched around the dropped phrase. For example, if A has a BT B, and B has BT C, after B is dropped, A has BT C.</p>
<p>When a word has multiple broader terms, then a relationship is established for each narrower term to each broader term.</p>
<p>Note that BT, BTG, BTP, and BTI are separate hierarchies, so if A has BTG B, and B has BTI C, when B is dropped, there is no relation implicitly created between A and C.</p>
<p>RT relations are not patched. For example, if A has RT B, and B has RT C, then if B is dropped, there is no associative relation created between A and C.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2016"></a>Example</p>
<p>Assume you have the following relations defined in <span class="italic">mythes</span>:</p>
<pre dir="ltr">
wolf
   BT canine
canine
   BT animal
</pre>
<p>You drop phrase <span class="italic">canine</span>:</p>
<pre dir="ltr">
begin
ctx_thes.drop_phrase('mythes', 'canine');
end;
</pre>
<p>The resulting thesaurus is patched and looks like:</p>
<pre dir="ltr">
wolf
   BT animal
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997534"></a>
<div id="CCREF2161" class="refsect1">
<h2 class="refsect1">DROP_RELATION<a id="sthref2017"></a><a id="sthref2018"></a><a id="sthref2019"></a></h2>
<p>Removes a relation between two phrases from the thesaurus.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<code dir="ltr">CTX_THES.DROP_RELATION</code> removes only the relation between two phrases. Phrases are never removed by this call.</div>
<p>Only thesaurus owner and <code dir="ltr">CTXSYS</code> can invoke this procedure on a given thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2020"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.DROP_RELATION(tname     in    varchar2,
                        phrase    in    varchar2,
                        rel       in    varchar2,
                        relphrase in    varchar2 default null);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the filing phrase.</p>
</dd>
<dt>rel</dt>
<dd>
<p>Specify the relation to drop. The relation is from <span class="syntaxinline">phrase</span> to <span class="syntaxinline">relphrase</span>. You can specify one of the following relations:</p>
<div class="inftblinformal">
<table class="cellalignment96" title="ctx_thes.drop_relation rel parameter" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment90">
<th class="cellalignment97" id="r1c1-t15">relation</th>
<th class="cellalignment97" id="r1c2-t15">meaning</th>
<th class="cellalignment97" id="r1c3-t15">relphrase</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment90">
<td class="cellalignment98" id="r2c1-t15" headers="r1c1-t15">BT*/NT*</td>
<td class="cellalignment98" headers="r2c1-t15 r1c2-t15">Remove hierarchical relation.</td>
<td class="cellalignment98" headers="r2c1-t15 r1c3-t15">Optional specify relphrase. If not provided, all relations of that type for the phrase are removed.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r3c1-t15" headers="r1c1-t15">RT</td>
<td class="cellalignment98" headers="r3c1-t15 r1c2-t15">Remove associative relation.</td>
<td class="cellalignment98" headers="r3c1-t15 r1c3-t15">Optionally specify relphrase. If not provided, all RT relations for the phrase are removed.</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r4c1-t15" headers="r1c1-t15">SYN</td>
<td class="cellalignment98" headers="r4c1-t15 r1c2-t15">Remove phrase from its synonym ring.</td>
<td class="cellalignment98" headers="r4c1-t15 r1c3-t15">(none)</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r5c1-t15" headers="r1c1-t15">PT</td>
<td class="cellalignment98" headers="r5c1-t15 r1c2-t15">Remove preferred term designation from the phrase. The phrase remains in the synonym ring.</td>
<td class="cellalignment98" headers="r5c1-t15 r1c3-t15">(none)</td>
</tr>
<tr class="cellalignment90">
<td class="cellalignment98" id="r6c1-t15" headers="r1c1-t15">language</td>
<td class="cellalignment98" headers="r6c1-t15 r1c2-t15">Remove a translation from a phrase.</td>
<td class="cellalignment98" headers="r6c1-t15 r1c3-t15">Optionally specify relphrase. You can specify relphrase when there are multiple translations for a phrase for the language, and you want to remove just one translation.
<p>If relphrase is NULL, all translations for the phrase for the language are removed.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" --></dd>
<dt>relphrase</dt>
<dd>
<p>Specify the related phrase.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2021"></a>Notes</p>
<p>The relation you specify for rel is interpreted as from phrase to relphrase. For example, consider dog with broader term animal:</p>
<pre dir="ltr">
dog
  BT animal
</pre>
<p>To remove this relation, specify the arguments as follows:</p>
<pre dir="ltr">
begin
CTX_THES.DROP_RELATION('thes','dog','BT','animal'); 
end;
</pre>
<p>You can also remove this relation using NT as follows:</p>
<pre dir="ltr">
begin
CTX_THES.DROP_RELATION('thes','animal','NT','dog'); 
end;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2022"></a>Example</p>
<p>Remove relation VEHICLE NT CAR:</p>
<pre dir="ltr">
ctx_thes.drop_relation('thes1', 'vehicle', 'NT', 'car');
</pre>
<p>Remove all narrower term relations for vehicle:</p>
<pre dir="ltr">
ctx_thes.drop_relation('thes1', 'vehicle', 'NT');
</pre>
<p>Remove Japanese translations for <span class="italic">me</span>:</p>
<pre dir="ltr">
ctx_thes.drop_relation('thes1', 'me', 'JAPANESE:');
</pre>
<p>Remove a specific Japanese translation for <span class="italic">me</span>:</p>
<pre dir="ltr">
ctx_thes.drop_relation('thes1', 'me', 'JAPANESE:', 'boku')
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997620"></a>
<div id="CCREF2162" class="refsect1">
<h2 class="refsect1">DROP_THESAURUS <a id="sthref2023"></a><a id="sthref2024"></a><a id="sthref2025"></a></h2>
<p>The <code dir="ltr">DROP_THESAURUS</code> procedure deletes the specified thesaurus and all of its entries from the thesaurus tables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2026"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.DROP_THESAURUS(name IN VARCHAR2);
</pre>
<dl>
<dt>name</dt>
<dd>
<p>Specify the name of the thesaurus to be dropped.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2027"></a>Example</p>
<pre dir="ltr">
begin
ctx_thes.drop_thesaurus('tech_thes');
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997632"></a>
<div id="CCREF2163" class="refsect1">
<h2 class="refsect1">DROP_TRANSLATION<a id="sthref2028"></a><a id="sthref2029"></a><a id="sthref2030"></a></h2>
<p>Use this procedure to remove one or more translations for a phrase.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2031"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.DROP_TRANSLATION (tname       in    varchar2,
                           phrase      in    varchar2,
                           language    in    varchar2 default null,
                           translation in    varchar2 default null);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the name of the thesaurus, using no more than 30 characters.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the phrase in the thesaurus to which to remove a translation. The phrase must already exist in the thesaurus or an error is raised.</p>
</dd>
<dt>language</dt>
<dd>
<p>Optionally, specify the language of the translation, using no more than 10 characters. If not specified, the translation must also not be specified and all translations in all languages for the phrase are removed. An error is raised if the phrase has no translations.</p>
</dd>
<dt>translation</dt>
<dd>
<p>Optionally, specify the translated term to remove, using no more than 256 characters. If no such translation exists, an error is raised.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2032"></a>Example</p>
<p>The following code removes the Spanish translation for <span class="italic">dog</span>:</p>
<pre dir="ltr">
begin
   ctx_thes.drop_translation('my_thes', 'dog', 'SPANISH', 'PERRO');
end;
</pre>
<p>To remove all translations for dog in all languages:</p>
<pre dir="ltr">
begin
   ctx_thes.drop_translation('my_thes', 'dog');
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997660"></a>
<div id="CCREF2164" class="refsect1">
<h2 class="refsect1">HAS_RELATION</h2>
<p>Use this procedure to test that a thesaurus relation exists without actually doing the expansion. The function returns <code dir="ltr">TRUE</code> if the phrase has any of the relations in the specified list.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2033"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.HAS_RELATION(phrase in varchar2, 
                      rel in varchar2, 
                      tname in varchar2 default 'DEFAULT')
  returns boolean;
</pre>
<dl>
<dt>phrase</dt>
<dd>
<p>Specify the phrase.</p>
</dd>
<dt>rel</dt>
<dd>
<p>Specify a single thesaural relation or a comma-delimited list of relations, except <code dir="ltr">PT</code>. Specify <code dir="ltr">'ANY'</code> for any relation.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2034"></a>Example</p>
<p>The following example returns <code dir="ltr">TRUE</code> if the phrase <span class="italic">cat</span> in the <code dir="ltr">DEFAULT</code> thesaurus has any broader terms or broader generic terms:</p>
<pre dir="ltr">
set serveroutput on
result boolean;

begin 
 result := ctx_thes.has_relation('cat','BT,BTG');
 if (result) then dbms_output.put_line('TRUE');
  else  dbms_output.put_line('FALSE');
 end if;
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997685"></a>
<div id="CCREF2165" class="refsect1">
<h2 class="refsect1">NT <a id="sthref2035"></a><a id="sthref2036"></a></h2>
<p>This function returns all narrower terms of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2037"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.NT(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2038"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.NT(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of narrower terms to return. For example 2 means get the narrower terms of the narrower terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2039"></a>Returns</p>
<p>This function returns a string of narrower terms in the form:</p>
<pre dir="ltr">
 {nt1}|{nt2}|{nt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2040"></a>Example</p>
<p class="subhead1"><a id="CCREF23949"></a>String Result</p>
<p>Consider a thesaurus named <code dir="ltr">MY_THES</code> that has an entry for <span class="italic">cat</span> as follows:</p>
<pre dir="ltr">
cat
 NT domestic cat
 NT wild cat
 BT mammal
mammal
 BT animal
domestic cat
 NT Persian cat
 NT Siamese cat
</pre>
<p>To look up the narrower terms for <span class="italic">cat</span> down to two levels, enter the following statements:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.nt('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the narrower expansion for CAT is: '||terms); 
end; 
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
the narrower expansion for CAT is: {cat}|{domestic cat}|{Persian cat}|{Siamese cat}| {wild cat}
</pre>
<p class="subhead1"><a id="CCREF23950"></a>Table Result</p>
<p>The following code does an narrower term lookup for <span class="italic">canine</span> using the table result:</p>
<pre dir="ltr">
declare
  xtab ctx_thes.exp_tab;
begin
  ctx_thes.nt(xtab, 'canine', 2, 'my_thesaurus');
  for i in 1..xtab.count loop
    dbms_output.put_line(lpad(' ', 2*xtab(i).xlevel) || 
    xtab(i).xrel || ' ' || xtab(i).xphrase);
  end loop;
end;
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
PHRASE CANINE
 NT WOLF (Canis lupus)
   NT WHITE WOLF
   NT GREY WOLF
 NT DOG (Canis familiaris)
   NT PIT BULL
   NT DASCHUND
   NT CHIHUAHUA
NT HYENA (Canis mesomelas)
NT COYOTE (Canis latrans)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2041"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#BABDCIIC">Narrower Term (NT, NTG, NTP, NTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997785"></a>
<div id="CCREF2166" class="refsect1">
<h2 class="refsect1">NTG <a id="sthref2042"></a><a id="sthref2043"></a></h2>
<p>This function returns all narrower terms generic of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2044"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.NTG(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2045"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.NTG(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of narrower terms to return. For example 2 means get the narrower terms of the narrower terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2046"></a>Returns</p>
<p>This function returns a string of narrower terms generic in the form:</p>
<pre dir="ltr">
 {nt1}|{nt2}|{nt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2047"></a>Example</p>
<p>To look up the narrower terms generic for <span class="italic">cat</span> down to two levels, enter the following statements:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.ntg('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the narrower expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2048"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#BABDCIIC">Narrower Term (NT, NTG, NTP, NTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997848"></a>
<div id="CCREF2167" class="refsect1">
<h2 class="refsect1">NTI <a id="sthref2049"></a><a id="sthref2050"></a></h2>
<p>This function returns all narrower terms instance of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2051"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.NTI(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2052"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.NTI(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of narrower terms to return. For example 2 means get the narrower terms of the narrower terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2053"></a>Returns</p>
<p>This function returns a string of narrower terms instance in the form:</p>
<pre dir="ltr">
 {nt1}|{nt2}|{nt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2054"></a>Example</p>
<p>To look up the narrower terms instance for <span class="italic">cat</span> down to two levels, enter the following statements:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.nti('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the narrower expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2055"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#BABDCIIC">Narrower Term (NT, NTG, NTP, NTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997911"></a>
<div id="CCREF2168" class="refsect1">
<h2 class="refsect1">NTP <a id="sthref2056"></a><a id="sthref2057"></a></h2>
<p>This function returns all narrower terms partitive of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2058"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.NTP(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2059"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.NTP(phrase IN VARCHAR2, 
             lvl    IN NUMBER DEFAULT 1,
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lvl</dt>
<dd>
<p>Specify how many levels of narrower terms to return. For example 2 means get the narrower terms of the narrower terms of the phrase.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2060"></a>Returns</p>
<p>This function returns a string of narrower terms partitive in the form:</p>
<pre dir="ltr">
 {nt1}|{nt2}|{nt3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2061"></a>Example</p>
<p>To look up the narrower terms partitive for <span class="italic">cat</span> down to two levels, enter the following statements:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.ntp('CAT', 2, 'MY_THES'); 
  dbms_output.put_line('the narrower expansion for CAT is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2062"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#BABDCIIC">Narrower Term (NT, NTG, NTP, NTI)</a> Operators in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i997976"></a>
<div id="CCREF2169" class="refsect1">
<h2 class="refsect1">OUTPUT_STYLE<a id="sthref2063"></a><a id="sthref2064"></a></h2>
<p>Sets the output style for the return string of the <code dir="ltr">CTX_THES</code> expansion functions. This procedure has no effect on the table results to the <code dir="ltr">CTX_THES</code> expansion functions.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2065"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.OUTPUT_STYLE (
      showlevel     IN BOOLEAN DEFAULT FALSE,
      showqualify   IN BOOLEAN DEFAULT FALSE,
      showpt        IN BOOLEAN DEFAULT FALSE,
      showid        IN BOOLEAN DEFAULT FALSE
);
</pre>
<dl>
<dt>showlevel</dt>
<dd>
<p>Specify <code dir="ltr">TRUE</code> to show level in <code dir="ltr">BT/NT</code> expansions.</p>
</dd>
<dt>showqualify</dt>
<dd>
<p>Specify <code dir="ltr">TRUE</code> to show phrase qualifiers.</p>
</dd>
<dt>showpt</dt>
<dd>
<p>Specify <code dir="ltr">TRUE</code> to show preferred terms with an asterisk *.</p>
</dd>
<dt>showid</dt>
<dd>
<p>Specify <code dir="ltr">TRUE</code> to show phrase ids.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2066"></a>Notes</p>
<p>The general syntax of the return string for <code dir="ltr">CTX_THES</code> expansion functions is:</p>
<pre dir="ltr">
{pt indicator:phrase (qualifier):level:phraseid}
</pre>
<p>Preferred term indicator is an asterisk then a colon at the start of the phrase. The qualifier is in parentheses after a space at the end of the phrase. Level is a number.</p>
<p>The following is an example return string for turkey the bird:</p>
<pre dir="ltr">
*:TURKEY (BIRD):1:1234 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998005"></a>
<div id="CCREF2170" class="refsect1">
<h2 class="refsect1">PT <a id="sthref2067"></a><a id="sthref2068"></a></h2>
<p>This function returns the preferred term of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2069"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.PT(restab IN OUT NOCOPY EXP_TAB,
            phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT')
RETURN varchar2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2070"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.PT(phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT')
RETURN varchar2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about EXP_TAB.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2071"></a>Returns</p>
<p>This function returns the preferred term as a string in the form:</p>
<pre dir="ltr">
{pt}
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2072"></a>Example</p>
<p>Consider a thesaurus <code dir="ltr">MY_THES</code> with the following preferred term definition for automobile:</p>
<pre dir="ltr">
AUTOMOBILE 
  PT CAR 
</pre>
<p>To look up the preferred term for <span class="italic">automobile</span>, execute the following code:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.pt('AUTOMOBILE','MY_THES'); 
  dbms_output.put_line('The prefered term for automobile is: '||terms); 
end; 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2073"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i999023">Preferred Term (PT)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998069"></a>
<div id="CCREF2171" class="refsect1">
<h2 class="refsect1">RT <a id="sthref2074"></a><a id="sthref2075"></a></h2>
<p>This function returns the related terms of a term in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2076"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.RT(restab IN OUT NOCOPY EXP_TAB,
            phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2077"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.RT(phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT')
RETURN varchar2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2078"></a>Returns</p>
<p>This function returns a string of related terms in the form:</p>
<pre dir="ltr">
{rt1}|{rt2}|{rt3}| ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2079"></a>Example</p>
<p>Consider a thesaurus <code dir="ltr">MY_THES</code> with the following related term definition for dog:</p>
<pre dir="ltr">
DOG 
  RT WOLF 
  RT HYENA 
</pre>
<p>To look up the related terms for <span class="italic">dog</span>, execute the following code:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.rt('DOG','MY_THES'); 
  dbms_output.put_line('The related terms for dog are: '||terms); 
end; 
</pre>
<p>This codes produces the following output:</p>
<pre dir="ltr">
The related terms for dog are: {dog}|{wolf}|{hyena}
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2080"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i997990">Related Term (RT)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998135"></a>
<div id="CCREF2172" class="refsect1">
<h2 class="refsect1">SN<a id="sthref2081"></a><a id="sthref2082"></a><a id="sthref2083"></a><a id="sthref2084"></a></h2>
<p>This function returns the scope note of the given phrase.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2085"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.SN(phrase IN VARCHAR2, 
            tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2086"></a>Returns</p>
<p>This function returns the scope note as a string.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2087"></a>Example</p>
<pre dir="ltr">
declare 
  note varchar2(80); 
begin 
  note := ctx_thes.sn('camera','mythes'); 
  dbms_output.put_line('CAMERA'); 
  dbms_output.put_line(' SN ' || note); 
end; 
 
sample output: 
 
CAMERA 
 SN Optical cameras
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998163"></a>
<div id="CCREF2173" class="refsect1">
<h2 class="refsect1"><a id="sthref2088"></a><a id="sthref2089"></a>SYN</h2>
<p>This function returns all synonyms of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2090"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.SYN(restab IN OUT NOCOPY EXP_TAB,
             phrase IN VARCHAR2, 
             tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2091"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.SYN(phrase IN VARCHAR2, 
             tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2092"></a>Returns</p>
<p>This function returns a string of the form:</p>
<pre dir="ltr">
 {syn1}|{syn2}|{syn3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2093"></a>Example</p>
<p class="subhead1"><a id="CCREF23951"></a>String Result</p>
<p>Consider a thesaurus named <code dir="ltr">ANIMALS</code> that has an entry for <span class="italic">cat</span> as follows:</p>
<pre dir="ltr">
CAT 
  SYN KITTY 
  SYN FELINE 
 
</pre>
<p>To look-up the synonym for <span class="italic">cat</span> and obtain the result as a string, enter the following statements:</p>
<pre dir="ltr">
declare 
  synonyms varchar2(2000); 
begin 
  synonyms := ctx_thes.syn('CAT','ANIMALS'); 
  dbms_output.put_line('the synonym expansion for CAT is: '||synonyms); 
end; 
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
the synonym expansion for CAT is: {CAT}|{KITTY}|{FELINE}
</pre>
<p class="subhead1"><a id="CCREF23952"></a>Table Result</p>
<p>The following code looks up the synonyms for <span class="italic">canine</span> and obtains the results in a table. The contents of the table are printed to the standard output.</p>
<pre dir="ltr">
declare  
  xtab ctx_thes.exp_tab;  
begin 
  ctx_thes.syn(xtab, 'canine', 'my_thesaurus'); 
  for i in 1..xtab.count loop 
    dbms_output.put_line(lpad(' ', 2*xtab(i).xlevel) || 
    xtab(i).xrel || ' ' || xtab(i).xphrase); 
  end loop; 
end; 
 
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
PHRASE CANINE 
 PT DOG 
SYN PUPPY 
SYN MUTT 
SYN MONGREL 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2094"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i998165">SYNonym (SYN)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998247"></a>
<div id="CCREF2174" class="refsect1">
<h2 class="refsect1">THES_TT<a id="sthref2095"></a><a id="sthref2096"></a><a id="sthref2097"></a></h2>
<p>This procedure finds and returns all top terms of a thesaurus. A top term is defined as any term which has a narrower term but has no broader terms.</p>
<p>This procedure differs from <code dir="ltr">TT</code> in that <code dir="ltr">TT</code> takes in a phrase and finds the top term for that phrase, but <code dir="ltr">THES_TT</code> searches the whole thesaurus and finds all top terms.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2098"></a>Large Thesauri</p>
<p>Because this procedure searches the whole thesaurus, it can take some time on large thesauri. Oracle recommends that you not call this often for such thesauri. Instead, your application should call this once, store the results in a separate table, and use those stored results.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2099"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.THES_TT(restab IN OUT NOCOPY EXP_TAB,
                 tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2100"></a>Returns</p>
<p>This procedure returns all top terms and stores them in <code dir="ltr">restab</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998280"></a>
<div id="CCREF2175" class="refsect1">
<h2 class="refsect1">TR <a id="sthref2101"></a><a id="sthref2102"></a></h2>
<p>For a given mono-lingual thesaurus, this function returns the foreign language equivalent of a phrase as recorded in the thesaurus.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Foreign language translation is not part of the ISO-2788 or ANSI Z39.19 thesaural standards. The behavior of TR is specific to Oracle Text.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2103"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.TR(restab IN OUT NOCOPY EXP_TAB,
            phrase IN VARCHAR2, 
            lang   IN VARCHAR2 DEFAULT NULL,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2104"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.TR(phrase IN VARCHAR2, 
            lang   IN VARCHAR2 DEFAULT NULL,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lang</dt>
<dd>
<p>Specify the foreign language. Specify <code dir="ltr">'ALL'</code> for all translations of <code dir="ltr">phrase</code>.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2105"></a>Returns</p>
<p>This function returns a string of foreign terms in the form:</p>
<pre dir="ltr">
 {ft1}|{ft2}|{ft3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2106"></a>Example</p>
<p>Consider a thesaurus <code dir="ltr">MY_THES</code> with the following entries for <span class="italic">cat</span>:</p>
<pre dir="ltr">
cat 
  SPANISH: gato 
  FRENCH:  chat 
  SYN lion 
    SPANISH: leon 
</pre>
<p>To look up the translation for <span class="italic">cat</span>, enter the following statements:</p>
<pre dir="ltr">
declare 
  trans      varchar2(2000);
  span_trans varchar2(2000); 
begin 
  trans := ctx_thes.tr('CAT','ALL','MY_THES'); 
  span_trans := ctx_thes.tr('CAT','SPANISH','MY_THES') 
  dbms_output.put_line('the translations for CAT are: '||trans); 
  dbms_output.put_line('the Spanish translations for CAT are: '||span_trans); 
end; 
 
</pre>
<p>This codes produces the following output:</p>
<pre dir="ltr">
the translations for CAT are: {CAT}|{CHAT}|{GATO} 
the Spanish translations for CAT are: {CAT}|{GATO} 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2107"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i998235">Translation Term (TR)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998365"></a>
<div id="CCREF2176" class="refsect1">
<h2 class="refsect1">TRSYN <a id="sthref2108"></a><a id="sthref2109"></a></h2>
<p>For a given mono-lingual thesaurus, this function returns the foreign equivalent of a phrase, synonyms of the phrase, and foreign equivalent of the synonyms as recorded in the specified thesaurus.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Foreign language translation is not part of the ISO-2788 or ANSI Z39.19 thesaural standards. The behavior of <code dir="ltr">TRSYN</code> is specific to Oracle Text.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2110"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.TRSYN(restab IN OUT NOCOPY EXP_TAB,
               phrase IN VARCHAR2, 
               lang   IN VARCHAR2 DEFAULT NULL,
               tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2111"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.TRSYN(phrase IN VARCHAR2, 
            lang   IN VARCHAR2 DEFAULT NULL,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT') 
RETURN VARCHAR2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>lang</dt>
<dd>
<p>Specify the foreign language. Specify <code dir="ltr">'ALL'</code> for all translations of <span class="italic">phrase</span>.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2112"></a>Returns</p>
<p>This function returns a string of foreign terms in the form:</p>
<pre dir="ltr">
 {ft1}|{ft2}|{ft3} ...
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2113"></a>Example</p>
<p>Consider a thesaurus <code dir="ltr">MY_THES</code> with the following entries for <span class="italic">cat</span>:</p>
<pre dir="ltr">
cat 
  SPANISH: gato 
  FRENCH:  chat 
  SYN lion 
    SPANISH: leon 
</pre>
<p>To look up the translation and synonyms for <span class="italic">cat</span>, enter the following statements:</p>
<pre dir="ltr">
declare 
  synonyms   varchar2(2000);
  span_syn   varchar2(2000); 
begin 
  synonyms := ctx_thes.trsyn('CAT','ALL','MY_THES'); 
  span_syn := ctx_thes.trsyn('CAT','SPANISH','MY_THES') 
  dbms_output.put_line('all synonyms for CAT are: '||synonyms); 
  dbms_output.put_line('the Spanish synonyms for CAT are: '||span_syn); 
end; 
 
</pre>
<p>This codes produces the following output:</p>
<pre dir="ltr">
all synonyms for CAT are: {CAT}|{CHAT}|{GATO}|{LION}|{LEON} 
the Spanish synonyms for CAT are: {CAT}|{GATO}|{LION}|{LEON} 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2114"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i998287">Translation Term Synonym (TRSYN)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998450"></a>
<div id="CCREF2177" class="refsect1">
<h2 class="refsect1">TT <a id="sthref2115"></a><a id="sthref2116"></a></h2>
<p>This function returns the top term of a phrase as recorded in the specified thesaurus.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2117"></a>Syntax 1: Table Result</p>
<pre dir="ltr">
CTX_THES.TT(restab IN OUT NOCOPY EXP_TAB,
            phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT');
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2118"></a>Syntax 2: String Result</p>
<pre dir="ltr">
CTX_THES.TT(phrase IN VARCHAR2,
            tname  IN VARCHAR2 DEFAULT 'DEFAULT')
RETURN varchar2;
</pre>
<dl>
<dt>restab</dt>
<dd>
<p>Optionally, specify the name of the expansion table to store the results. This table must be of type <code dir="ltr">EXP_TAB</code> which the system defines as follows:</p>
<pre dir="ltr">
type exp_rec is record (
    xrel varchar2(12),
    xlevel number,
    xphrase varchar2(256)
);
type exp_tab is table of exp_rec index by binary_integer;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="arestab.htm#i635253">"CTX_THES Result Tables and Data Types"</a> in <a href="arestab.htm#g640034">Appendix A, "Oracle Text Result Tables"</a> for more information about <code dir="ltr">EXP_TAB</code>.</div>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify a phrase to lookup in thesaurus.</p>
</dd>
<dt>tname</dt>
<dd>
<p>Specify the thesaurus name. If not specified, system default thesaurus is used.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2119"></a>Returns</p>
<p>This function returns the top term string in the form:</p>
<pre dir="ltr">
{tt}
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2120"></a>Example</p>
<p>Consider a thesaurus <code dir="ltr">MY_THES</code> with the following broader term entries for <span class="italic">dog</span>:</p>
<pre dir="ltr">
DOG 
   BT1 CANINE 
     BT2 MAMMAL 
       BT3 VERTEBRATE 
         BT4 ANIMAL
</pre>
<p>To look up the top term for <span class="italic">DOG</span>, execute the following code:</p>
<pre dir="ltr">
declare 
  terms varchar2(2000); 
begin 
  terms := ctx_thes.tt('DOG','MY_THES'); 
  dbms_output.put_line('The top term for DOG is: '||terms); 
end; 
</pre>
<p>This code produces the following output:</p>
<pre dir="ltr">
The top term for dog is: {ANIMAL}
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2121"></a>Related Topics</p>
<p><a href="#i997976">OUTPUT_STYLE</a></p>
<p><a href="cqoper.htm#i998342">Top Term (TT)</a> Operator in <a href="cqoper.htm#CHDEGDDF">Chapter 3, "Oracle Text CONTAINS Query Operators"</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="i998518"></a>
<div id="CCREF2178" class="refsect1">
<h2 class="refsect1">UPDATE_TRANSLATION<a id="sthref2122"></a><a id="sthref2123"></a><a id="sthref2124"></a></h2>
<p>Use this procedure to update an existing translation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2125"></a>Syntax</p>
<pre dir="ltr">
CTX_THES.UPDATE_TRANSLATION(tname       in     varchar2,
                             phrase      in     varchar2,
                             language    in     varchar2,
                             translation in     varchar2,
                             new_translation in varchar2);
</pre>
<dl>
<dt>tname</dt>
<dd>
<p>Specify the name of the thesaurus, using no more than 30 characters.</p>
</dd>
<dt>phrase</dt>
<dd>
<p>Specify the phrase in the thesaurus to which to update a translation. The phrase must already exist in the thesaurus or an error is raised.</p>
</dd>
<dt>language</dt>
<dd>
<p>Specify the language of the translation, using no more than 10 characters.</p>
</dd>
<dt>translation</dt>
<dd>
<p>Specify the translated term to update. If no such translation exists, an error is raised.</p>
<p>You can specify <code dir="ltr">NULL</code> if there is only one translation for the <span class="italic">phrase.</span> An error is raised if there is more than one translation for the term in the specified language.</p>
</dd>
<dt>new_translation</dt>
<dd>
<p>Optionally, specify the new form of the translated term.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2126"></a>Example</p>
<p>The following code updates the Spanish translation for <span class="italic">dog</span>:</p>
<pre dir="ltr">
begin
   ctx_thes.update_translation('my_thes', 'dog', 'SPANISH:', 'PERRO', 'CAN');
end;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment89">
<tr>
<td class="cellalignment98">
<table class="cellalignment94">
<tr>
<td class="cellalignment93"><a href="crptpkg.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment93"><a href="culexpkg.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1998, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment100">
<table class="cellalignment92">
<tr>
<td class="cellalignment93"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment93"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment93"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment93"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment93"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment93"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
