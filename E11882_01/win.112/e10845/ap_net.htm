<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Oracle Net Services Configuration on Windows</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1033" />
<meta name="dcterms.created" content="2014-12-28T3:22:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Platform Guide" />
<meta name="dcterms.identifier" content="E10845-13" />
<meta name="dcterms.isVersionOf" content="NTQRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="ap_raw.htm" title="Previous" type="text/html" />
<link rel="Next" href="ap_error.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10845.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/27</span> <!-- End Header -->
<div id="NTQRF220" class="appendix"><a id="g635916"></a>
<h1 class="appendix"><span class="secnum">C</span> Oracle Net Services Configuration on Windows</h1>
<p>This appendix describes Oracle Net Services configuration for Windows. For more generic information on Oracle Net Services configuration, see <a class="olink NETAG" href="../../network.112/e41945/toc.htm"><span class="italic">Oracle Database Net Services Administrator's Guide.</span></a></p>
<p>This appendix contains these topics:</p>
<ul>
<li>
<p><a href="#BABGBAFC">Configuring Oracle Database to Communicate with ASM</a></p>
</li>
<li>
<p><a href="#i634241">Understanding Oracle Net Services Registry Parameters and Subkeys</a></p>
</li>
<li>
<p><a href="#i634284">Listener Requirements</a></p>
</li>
<li>
<p><a href="#i634295">Understanding Optional Configuration Parameters</a></p>
</li>
<li>
<p><a href="#i634347">Advanced Network Configuration</a></p>
</li>
</ul>
<a id="BABGBAFC"></a>
<div id="NTQRF508" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring Oracle Database to Communicate with ASM</h2>
<p>Oracle Database for Windows installations that use Automatic Storage Management (ASM) must use Windows native authentication, which is enabled by default. To ensure that it is, check that the <code dir="ltr">sqlnet.ora</code> file, by default located in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\network\admin</code>, has NTS enabled. For example:</p>
<pre dir="ltr">
sqlnet.authentication_services=(NTS)
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="authen.htm#CHDHFFDC">"Windows Authentication Protocols"</a></div>
</div>
<!-- class="sect1" -->
<a id="i634241"></a>
<div id="NTQRF509" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Understanding Oracle Net Services Registry Parameters and Subkeys</h2>
<p>The registry contains entries for Oracle Net Services parameters and subkeys. To successfully add or modify Oracle Net Services configuration parameters, you must understand where they are located and the rules that apply to them.</p>
<div id="NTQRF510" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref769"></a>
<h3 class="sect2">Oracle Net Service Subkeys</h3>
<p><code dir="ltr">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services</code> contains subkeys that correspond to services. Depending on what is installed, your Oracle Net Services consist of all or a subset of the following:</p>
<ul>
<li>
<p><a id="sthref770"></a><a id="sthref771"></a><code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOME_NAME</span></code><code dir="ltr">ClientCache</code></p>
</li>
<li>
<p><a id="sthref772"></a><a id="sthref773"></a><code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOME_NAME</span></code><code dir="ltr">CMAdmin</code></p>
</li>
<li>
<p><a id="sthref774"></a><a id="sthref775"></a><code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOME_NAME</span></code><code dir="ltr">CMan</code></p>
</li>
<li>
<p><a id="sthref776"></a><a id="sthref777"></a><code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOME_NAME</span></code><code dir="ltr">TNSListener</code></p>
</li>
</ul>
<p>Each service subkey contains the parameters shown in <a href="#g634822">Table C-1</a>.</p>
<div id="NTQRF511" class="tblformal">
<p class="titleintable"><a id="sthref778"></a><a id="g634822"></a>Table C-1 Service Subkey Parameters</p>
<table class="cellalignment2316" title="Service Subkey Parameters" summary="Rows are parameters. For each parameter, the first column is its name, and the second column is its purpose." dir="ltr">
<thead>
<tr class="cellalignment2307">
<th class="cellalignment2317" id="r1c1-t3">Parameter</th>
<th class="cellalignment2317" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2307">
<td class="cellalignment2313" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr"><a id="sthref779"></a><a id="sthref780"></a><a id="sthref781"></a>DisplayName</code></p>
</td>
<td class="cellalignment2313" headers="r2c1-t3 r1c2-t3">
<p>Specifies service name.</p>
</td>
</tr>
<tr class="cellalignment2307">
<td class="cellalignment2313" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr"><a id="sthref782"></a><a id="sthref783"></a><a id="sthref784"></a>ImagePath</code></p>
</td>
<td class="cellalignment2313" headers="r3c1-t3 r1c2-t3">
<p>Specifies fully qualified path name of the executable started by service and any command line arguments passed to executable at run time.</p>
</td>
</tr>
<tr class="cellalignment2307">
<td class="cellalignment2313" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr"><a id="sthref785"></a><a id="sthref786"></a><a id="sthref787"></a>ObjectName</code></p>
</td>
<td class="cellalignment2313" headers="r4c1-t3 r1c2-t3">
<p>Specifies logon user account and computer to which service should log on.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i634284"></a>
<div id="NTQRF512" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Listener Requirements</h2>
<p>In Oracle Database 10<span class="italic">g</span> Release 1 (10.1) or later, the listener is set to start automatically at system restart. If you intend to use only the listener for all of your databases, ensure that only the Windows service for the listener, as listed in the Control Panel, is set to start automatically.</p>
<p>Oracle usually recommends that you only have a single net listener service on a Windows computer at any one time. This single listener can support multiple databases. If you must have two different net listener services on a Windows computer at the same time, ensure that they are configured to listen on different TCP/IP port numbers.</p>
<p>If the same IP address and port are used for different listeners, you might expect that the second and subsequent listeners would fail to bind. Instead, Windows allows them all to listen on the same IP address and port, resulting in unexpected behavior of the listeners. This is a suspected Windows operating system problem with TCP/IP and has been reported to Microsoft.</p>
</div>
<!-- class="sect1" -->
<a id="i634295"></a>
<div id="NTQRF513" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Understanding Optional Configuration Parameters</h2>
<p>You can use the following parameters on Windows:</p>
<ul>
<li>
<p><a href="#i634314">LOCAL</a></p>
</li>
<li>
<p><a href="#i634336">TNS_ADMIN</a></p>
</li>
<li>
<p><a href="#BIIEHHGB">USE_SHARED_SOCKET</a></p>
</li>
</ul>
<p>Oracle Net Service first checks for the parameters as environment variables, and uses the values defined. If environment variables are not defined, it searches for these parameters in the registry.</p>
<a id="i634314"></a>
<div id="NTQRF514" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref788"></a><a id="sthref789"></a><a id="sthref790"></a><a id="sthref791"></a><a id="sthref792"></a><a id="sthref793"></a>LOCAL</h3>
<p>You can use parameter <code dir="ltr">LOCAL</code> to connect to Oracle Database without specifying a connect identifier in the connect string. The value of parameter <code dir="ltr">LOCAL</code> is any connect identifier, such as a net service name. For example, if parameter <code dir="ltr">LOCAL</code> is specified as <code dir="ltr">finance</code>, you can connect to a database from SQL*Plus with:</p>
<pre dir="ltr">
SQL&gt; CONNECT SCOTT
Enter password: <span class="italic">password</span>
</pre>
<p>rather than</p>
<pre dir="ltr">
SQL&gt; CONNECT SCOTT@finance
Enter password: <span class="italic">password</span>
</pre>
<p>Oracle Net checks if <code dir="ltr">LOCAL</code> is defined as an environment variable or as a parameter in the registry, and uses <code dir="ltr">finance</code> as the service name. If it exists, Oracle Net connects.</p>
</div>
<!-- class="sect2" -->
<a id="i634336"></a>
<div id="NTQRF515" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref794"></a><a id="sthref795"></a><a id="sthref796"></a><a id="sthref797"></a>TNS_ADMIN</h3>
<p>You can add parameter <code dir="ltr">TNS_ADMIN</code> to change the directory path of Oracle Net Services configuration files from the default location of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\network\admin</code>. For example, if you set <code dir="ltr">TNS_ADMIN</code> to <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\test\admin</code>, the configuration files are used from <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\test\admin</code>.</p>
</div>
<!-- class="sect2" -->
<a id="BIIEHHGB"></a>
<div id="NTQRF667" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref798"></a><a id="sthref799"></a><a id="sthref800"></a><a id="sthref801"></a>USE_SHARED_SOCKET</h3>
<p>The use of shared sockets is enabled by default, that is the default value of <code dir="ltr">USE_SHARED_SOCKET</code> is <code dir="ltr">true</code>. In this case, the network listener passes the socket descriptor for client connections to the database thread. As a result, the client does not establish a new connection to the database thread and the database connection time improves. All database connections also share the port number used by the network listener, which can be useful if you are setting third-party proxy servers.</p>
<p>This parameter only works in dedicated server mode in a TCP/IP environment. To reserve a dedicated server for an instance of Oracle Database not associated with the same Oracle home as the listener and with shared socket enabled, you must set <code dir="ltr">USE_SHARED_SOCKET</code> parameter for both the Oracle homes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not set this parameter explicitly in your registry unless instructed by Oracle Support. Setting <code dir="ltr">USE_SHARED_SOCKET</code> to <code dir="ltr">false</code> disables the use of shared sockets.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i634347"></a>
<div id="NTQRF517" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Advanced Network Configuration</h2>
<p>The following sections describe advanced configuration procedures specifically for Oracle Net Services on Windows operating systems:</p>
<ul>
<li>
<p><a href="#i634350">Configuring Authentication Method</a></p>
</li>
<li>
<p><a href="#i634359">Configuring Security for Named Pipes Protocol</a></p>
</li>
<li>
<p><a href="#CHDHEHCH">Modifying Configuration of External Procedures for Higher Security</a></p>
</li>
</ul>
<a id="i634350"></a>
<div id="NTQRF518" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Configuring Authentication Method</h3>
<p>Oracle Net Services provides authentication methods for Windows operating systems using Windows Native Authentication.</p>
</div>
<!-- class="sect2" -->
<a id="i634359"></a>
<div id="NTQRF519" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref802"></a><a id="sthref803"></a><a id="sthref804"></a><a id="sthref805"></a>Configuring Security for Named Pipes Protocol</h3>
<p>The network listener service may be unable to open the Named Pipe created by Oracle Names unless service <code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOME_NAME</span></code><code dir="ltr">TNSListener</code> has a valid user ID and password associated with it.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on setting up network listener permissions</div>
</div>
<!-- class="sect2" -->
<a id="CHDHEHCH"></a>
<div id="NTQRF520" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Modifying Configuration of External Procedures for Higher Security</h3>
<p>This section supplements generic information provided in <a class="olink NETAG0132" href="../../network.112/e41945/advcfg.htm#NETAG0132"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> to configure a listener on Windows operating systems to exclusively handle external procedures. For a higher level of security, you are instructed to start the listener for external procedures from a user account with lower privileges than the <code dir="ltr">oracle</code> user. For Windows operating systems, this requires that you change the user account from LocalSystem to a local, unprivileged user for the <code dir="ltr">OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name service</span></code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following instructions assume that you have performed steps 1 through 5 in the section "Modifying Configuration of External Procedures for Higher Security" in <a class="olink NETAG013" href="../../network.112/e41945/advcfg.htm#NETAG013"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a>.</div>
<p>To change the listener account:</p>
<ol>
<li>
<p>Create a new user account and grant it Log on as a Service privilege.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Ensure that this user account does not have general access to files owned by <code dir="ltr">oracle</code>. Specifically, this user should not have permission to read or write to database files or to the Oracle Database server address space. In addition, this user should have read access to the <code dir="ltr">listener.ora</code> file, but must not have write access to it.</div>
</li>
<li>
<p>Stop service <code dir="ltr">OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name</span></code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on accessing the Services dialog and stopping services</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the <code dir="ltr">OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name</span></code> service does not exist, issue the following command from the command prompt:
<pre dir="ltr">
lsnrctl start <span class="italic">extproc_listener_name</span> 
</pre>
<p>This creates the <code dir="ltr">OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name</span></code> service. When you return to the list of services, stop this service before proceeding to the next step of this procedure.</p>
</div>
</li>
<li>
<p>Select <code dir="ltr">OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name</span></code> service in the Services dialog and then display the properties of the service.</p>
</li>
<li>
<p>Select <span class="bold">This Account</span> and enter the user name and password.</p>
</li>
<li>
<p>Start the listener by clicking <span class="bold">Start</span>. You must start the listener in this way because you cannot use the Listener Control utility to start the listener as an unprivileged local user.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can also use <code dir="ltr">NET START OracleHOME_NAMETNSListener</code><code dir="ltr"><span class="codeinlineitalic">extproc_listener_name</span></code> to start the listener from the command prompt. the listener with lower privileges prevents you from using Listener Control utility <code dir="ltr">SET</code> commands to alter the configuration of this listener in file <code dir="ltr">listener.ora</code>. You can perform other administrative tasks on this listener with the Listener Control utility, including stopping the listener. Oracle recommends that you complete <code dir="ltr">listener.ora</code> file configuration before the listener.</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2306">
<tr>
<td class="cellalignment2313">
<table class="cellalignment2311">
<tr>
<td class="cellalignment2310"><a href="ap_raw.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2310"><a href="ap_error.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2315">
<table class="cellalignment2309">
<tr>
<td class="cellalignment2310"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2310"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2310"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2310"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2310"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2310"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
