<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Storing Tablespaces on Raw Partitions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1033" />
<meta name="dcterms.created" content="2014-12-28T3:22:21Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Database Platform Guide" />
<meta name="dcterms.identifier" content="E10845-13" />
<meta name="dcterms.isVersionOf" content="NTQRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="ap_doc.htm" title="Previous" type="text/html" />
<link rel="Next" href="ap_net.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10845.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">22/27</span> <!-- End Header -->
<div id="NTQRF210" class="appendix"><a id="g637025"></a> <a id="i633623"></a>
<h1 class="appendix"><span class="secnum">B</span> Storing Tablespaces on Raw Partitions</h1>
<p>This appendix describes how to configure your system to store datafiles for a <a href="glossary.htm#i432555"><span class="xrefglossterm">tablespace</span></a> on <a href="glossary.htm#i432460"><span class="xrefglossterm">raw partitions</span></a>.</p>
<p>This appendix contains these topics:</p>
<ul>
<li>
<p><a href="#i634225">Raw Partition Overview</a></p>
</li>
<li>
<p><a href="#CHDEIDEB">Creating a Raw Partition and a Mount Point</a></p>
</li>
<li>
<p><a href="#i634853">Creating a Tablespace in a Raw Partition</a></p>
</li>
<li>
<p><a href="#BCFEBCAA">Configuring Disks for Automatic Storage Management</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle RAC requires additional configuration tools. See <a class="olink RACAD" href="../../rac.112/e41960/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information. Do not use this appendix to create partitions for Oracle RAC.</div>
<a id="i634225"></a>
<div id="NTQRF500" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref757"></a><a id="sthref758"></a><a id="sthref759"></a><a id="sthref760"></a><a id="sthref761"></a>Raw Partition Overview</h2>
<p>Datafiles for tablespaces can be stored on a file system or on raw partitions. A raw partition is a portion of a physical disk that is accessed at the lowest possible level. Input/output (I/O) to a raw partition offers approximately a 5% to 10% performance improvement over I/O to a partition with a file system on it.</p>
<a id="i634261"></a>
<div id="NTQRF501" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref762"></a><a id="sthref763"></a><a id="sthref764"></a>Physical Disk</h3>
<p>A physical disk represents the entire disk and points to the following:</p>
<pre dir="ltr">
\Device\Harddisk<span class="italic">x</span>\Partition0
</pre>
<p>Symbolic link name <code dir="ltr">\\.\PhysicalDrive</code><code dir="ltr"><span class="codeinlineitalic">x</span></code> is automatically defined by Windows for every hard disk in the computer. For example, a computer with three hard disks will have the following symbolic links:</p>
<pre dir="ltr">
\\.\PhysicalDrive0 
\\.\PhysicalDrive1 
\\.\PhysicalDrive2 
</pre>
<p>Internally, these names expand to the following:</p>
<pre dir="ltr">
\\.\PhysicalDrive0 =\Device\Harddisk0\Partition0 
\\.\PhysicalDrive1 =\Device\Harddisk1\Partition0 
\\.\PhysicalDrive2 =\Device\Harddisk2\Partition0 
</pre>
<p><code dir="ltr">Partition0</code> is special, because it represents the entire physical disk regardless of any partitioning scheme on that disk. Windows writes a signature on the first block of all disks it recognizes. To avoid overwriting that block, Oracle Database skips the first block of a physical raw partition that is used for an Oracle Database datafile.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Although you can use physical disks, Oracle recommends that you use logical partitions.</div>
</div>
<!-- class="sect2" -->
<a id="i634281"></a>
<div id="NTQRF502" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref765"></a><a id="sthref766"></a>Logical Partition</h3>
<p>Logical partitions point to drives other than <code dir="ltr">\Device\Harddisk</code><code dir="ltr"><span class="codeinlineitalic">x</span></code><code dir="ltr">\Partition0</code>. They are initially assigned names with drive letters (<code dir="ltr">\\.\</code><code dir="ltr"><span class="codeinlineitalic">drive_letter</span></code>:) and typically re-assigned symbolic link names (<code dir="ltr">\\.\</code><code dir="ltr"><span class="codeinlineitalic">symbolic link name</span></code>). For example, <code dir="ltr">\\.\D</code>: may be assigned a symbolic link name of <code dir="ltr">\\.\ACCOUNTING_1</code>. Regardless of whether a drive letter or symbolic link name is used, logical partitions are defined to represent a specific partition in a disk rather than the entire disk. Internally, these names can expand to:</p>
<pre dir="ltr">
\\.\D:= \Device\Harddisk2\Partition1 
\\.\ACCOUNTING_1= \Device\Harddisk3\Partition2 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Database does not skip the first block of a logical raw partition used for an Oracle Database datafile.</div>
</div>
<!-- class="sect2" -->
<div id="NTQRF503" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref767"></a>
<h3 class="sect2">Physical Disk and Logical Partition Considerations</h3>
<p>Consider the following when deciding which raw partition to use:</p>
<ul>
<li>
<p>Physical disks are automatically defined by Windows to represent the entire disk, and should never be defined by the user.</p>
</li>
<li>
<p>Logical partitions must be defined by the user to represent a specific partition in a disk. These partitions should be logical partitions or drives contained in an extended partition. They should never be defined as <code dir="ltr">Partition0</code>.</p>
</li>
<li>
<p>Using an entire disk (<code dir="ltr">Partition0</code>) for an Oracle Database datafile and using a partition that occupies the entire disk for an Oracle Database datafile are not the same thing. Even when a partition occupies the entire disk, there is still a small space on the disk that is not part of the partition.</p>
</li>
<li>
<p>If you are using an entire disk for an Oracle Database datafile (<code dir="ltr">Partition0</code>), then use the pre-defined physical raw names that Windows provides.</p>
</li>
<li>
<p>If you are using a specific partition and it occupies the entire disk, then use a logical partition.</p>
</li>
<li>
<p>If you are using a specific partition created with Windows disk-management tools, then define and use a symbolic link name rather than a logical partition number (even if it occupies the entire disk).</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For both physical and logical raw conventions, use OCOPY to transfer the contents of a raw partition to a standard file system for backup purposes.</div>
</div>
<!-- class="sect2" -->
<a id="i634333"></a>
<div id="NTQRF504" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Compatibility Issues</h3>
<p>You can create logical partitions, but define physical disk convention names for them. For example:</p>
<pre dir="ltr">
\\.\PhysicalDriveACCOUNTING_1 = \Device\Harddisk2\Partition1 
\\.\PhysicalDriveACCOUNTING_2 = \Device\Harddisk3\Partition1 
</pre>
<p>Oracle Database then handles datafiles using the physical disk convention even though it really is a logical partition. This will not cause any data corruption or loss as long as you continue to use physical disk naming conventions. Oracle recommends that you convert to the logical partition at your earliest convenience.</p>
<p>You can also create logical names representing <code dir="ltr">Partition0</code>, but this is definitely not recommended. For example:</p>
<pre dir="ltr">
\\.\ACCOUNTING_1 = \Device\Harddisk1\Partition0 
</pre>
<p>This poses severe problems, because Disk Management typically writes a signature into the first block of every disk, and consequently may overwrite a portion of the datafile header. It can also cause data loss. Never use <code dir="ltr">Partition0</code> with the logical partition convention.</p>
<p>Physical and logical partition conventions are not compatible with one another because of the extra block that is skipped for physical raw conventions. This also means you cannot simply use OCOPY to copy from a physical disk to a logical partition, because contents of these partitions are incompatible.</p>
<p>To convert from a physical convention to a logical convention, you must:</p>
<ol>
<li>
<p>Perform a full database export to a (local) file system.</p>
</li>
<li>
<p>Create logical partitions and define logical names for these partitions.</p>
</li>
<li>
<p>Recreate the database by using the new logical partitions.</p>
</li>
<li>
<p>Perform the full database import to the newly-created database.</p>
</li>
</ol>
<p>If your database installation uses physical disk conventions with logical partitions, Oracle recommends converting to the logical partition conventions at your earliest convenience, using the preceding steps.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for information on creating extended and logical partitions</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEIDEB"></a>
<div id="NTQRF505" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a Raw Partition and a Mount Point</h2>
<p>To create a raw partition, you must first generate an extended partition and a logical partition. An extended partition points to raw space on the disk that can be assigned multiple logical partitions for database files. An extended partition also avoids the four-partition limit by letting you define large numbers of logical partitions to accommodate applications using the Oracle Database server. Logical partitions can then be given symbolic link names to free up drive letters.</p>
<p>On Windows Vista, Windows Server 2008, Windows Server 2008 R2, Windows Server 2012, and Windows Server 2012 R2, create primary partitions and logical drives in extended partitions by selecting the <span class="bold">New Simple Volume</span> option. To create a raw device, select <span class="bold">Do not assign a drive letter or drive path.</span> To mount the raw device, assign and remove a drive letter. Do not use spanned volumes or striped volumes. These options will convert the volume to a dynamic disk. Automatic Storage Management does not support dynamic disks.</p>
<p>You can use <code dir="ltr">diskpart.exe</code> for disk management from the command line. It can increase the disk volume capacity dynamically and create, delete, and resize partitions and volumes.</p>
<p>Volume mount point offers additional storage space on a volume. Different partitions appear as a single logical volume and that is why it surpasses the 26-drive letter limitation. Use mount points as an alternative to drive letters.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Microsoft Web site for more information about raw partitions and volume mount points
<p><code dir="ltr"><a href="http://www.microsoft.com/en/us/default.aspx">http://www.microsoft.com/en/us/default.aspx</a></code></p>
</div>
</div>
<!-- class="sect1" -->
<a id="i634853"></a>
<div id="NTQRF506" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref768"></a>Creating a Tablespace in a Raw Partition</h2>
<p>To create a tablespace using a datafile located in a raw partition:</p>
<ol>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">
C:\&gt; sqlplus
</pre></li>
<li>
<p>Connect to the Oracle Database repository database:</p>
<pre dir="ltr">
SQL&gt; CONNECT SYSTEM
Enter password: <span class="italic">password</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">password</span></code> for user account <a href="glossary.htm#i432552"><span class="xrefglossterm">SYSTEM</span></a> is <code dir="ltr">MANAGER</code> by default. If you have changed this password, substitute the correct password for <code dir="ltr">MANAGER</code>.</p>
</li>
<li id="i634418">
<p>Create the tablespace:</p>
<pre dir="ltr">
SQL&gt; CREATE TABLESPACE <span class="italic">tablespace</span> DATAFILE '\\.\<span class="italic">datafile</span>' SIZE <span class="italic">x</span>m;
</pre>
<p>where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">tablespace</span></code> is the tablespace name</p>
</li>
<li>
<p><code dir="ltr">'\\.\'</code> is the drive letter or symbolic link name assigned to the raw partition</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">x</span></code> is the tablespace size in megabytes (Twenty megabytes is a good starting place.)</p>
</li>
</ul>
</li>
</ol>
<p>For example, to create a tablespace named <code dir="ltr">accounting_1</code> that was assigned a symbolic link name of <code dir="ltr">accounting_1</code>, enter the following:</p>
<pre dir="ltr">
SQL&gt; CREATE TABLESPACE accounting_1 DATAFILE '\\.\accounting_1' SIZE 502M;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are creating a database with the <code dir="ltr">SQL</code> script, modify datafiles that are stored on raw partitions with a naming convention of <code dir="ltr">\\.\drive_letter:</code> or <code dir="ltr">\\.\symbolic link name</code><span class="italic">.</span></div>
</div>
<!-- class="sect1" -->
<a id="BCFEBCAA"></a>
<div id="NTQRF507" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Configuring Disks for Automatic Storage Management</h2>
<p>To use Automatic Storage Management with direct attached storage (DAS) or storage area network (SAN) storage, the disks must be stamped with a header by <code dir="ltr">asmtool</code> or <code dir="ltr">asmtoolg</code> (GUI version).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
"Manually Configuring Disks for Automatic Storage Management" in <a class="olink NTDBI" href="../../install.112/e47798/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a> for instructions on using <code dir="ltr">asmtool</code> or <code dir="ltr">asmtoolg</code></div>
<p>Each DAS or SAN disk must have a partition table. Oracle recommends creating exactly one partition for each disk containing the entire disk. Use Microsoft Computer Management or the command line tool <code dir="ltr">diskpart</code> to create the partition. Once the partitions have been created, run <code dir="ltr">asmtoolg</code> or <code dir="ltr">asmtool</code>. These tools associate meaningful, persistent names with disks to facilitate using those disks with Automatic Storage Management. Automatic Storage Management uses disk strings to more easily operate on groups of disks at once, so the names created by <code dir="ltr">asmtool</code> make this easier than using Windows drive letters. All disk names created by <code dir="ltr">asmtool</code> begin with the prefix <code dir="ltr">ORCLDISK</code> for identification purposes.</p>
<p>Automatic Storage Management uses the value of initialization parameter <code dir="ltr">ASM_DISKSTRING</code> as its search path when it discovers disks. The default value of <code dir="ltr">ASM_DISKSTRING</code> is <code dir="ltr">\\.\ORCLDISK</code><code dir="ltr"><span class="codeinlineitalic">n</span></code>. If you want a different search path, then you must specify a different value for this parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
"About Initialization Parameters and Initialization Parameter Files" in <a class="olink ADMIN11099" href="../../server.112/e25494/create.htm#ADMIN11099"><span class="italic">Oracle Database Administrator's Guide</span></a></div>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2306">
<tr>
<td class="cellalignment2313">
<table class="cellalignment2311">
<tr>
<td class="cellalignment2310"><a href="ap_doc.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2310"><a href="ap_net.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2315">
<table class="cellalignment2309">
<tr>
<td class="cellalignment2310"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2310"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2310"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2310"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2310"><a href="../../nav/mindx.htm"><img width="24" height="24" src="../../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2310"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
